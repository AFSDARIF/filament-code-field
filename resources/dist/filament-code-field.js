(() => {
  // node_modules/@codemirror/state/dist/index.js
  var Text = class {
    constructor() {
    }
    lineAt(pos) {
      if (pos < 0 || pos > this.length)
        throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);
      return this.lineInner(pos, false, 1, 0);
    }
    line(n) {
      if (n < 1 || n > this.lines)
        throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);
      return this.lineInner(n, true, 1, 0);
    }
    replace(from2, to, text) {
      let parts = [];
      this.decompose(0, from2, parts, 2);
      if (text.length)
        text.decompose(0, text.length, parts, 1 | 2);
      this.decompose(to, this.length, parts, 1);
      return TextNode.from(parts, this.length - (to - from2) + text.length);
    }
    append(other) {
      return this.replace(this.length, this.length, other);
    }
    slice(from2, to = this.length) {
      let parts = [];
      this.decompose(from2, to, parts, 0);
      return TextNode.from(parts, to - from2);
    }
    eq(other) {
      if (other == this)
        return true;
      if (other.length != this.length || other.lines != this.lines)
        return false;
      let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);
      let a = new RawTextCursor(this), b = new RawTextCursor(other);
      for (let skip = start, pos = start; ; ) {
        a.next(skip);
        b.next(skip);
        skip = 0;
        if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)
          return false;
        pos += a.value.length;
        if (a.done || pos >= end)
          return true;
      }
    }
    iter(dir = 1) {
      return new RawTextCursor(this, dir);
    }
    iterRange(from2, to = this.length) {
      return new PartialTextCursor(this, from2, to);
    }
    iterLines(from2, to) {
      let inner;
      if (from2 == null) {
        inner = this.iter();
      } else {
        if (to == null)
          to = this.lines + 1;
        let start = this.line(from2).from;
        inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));
      }
      return new LineCursor(inner);
    }
    toString() {
      return this.sliceString(0);
    }
    toJSON() {
      let lines = [];
      this.flatten(lines);
      return lines;
    }
    static of(text) {
      if (text.length == 0)
        throw new RangeError("A document must have at least one line");
      if (text.length == 1 && !text[0])
        return Text.empty;
      return text.length <= 32 ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));
    }
  };
  var TextLeaf = class extends Text {
    constructor(text, length = textLength(text)) {
      super();
      this.text = text;
      this.length = length;
    }
    get lines() {
      return this.text.length;
    }
    get children() {
      return null;
    }
    lineInner(target, isLine, line, offset) {
      for (let i = 0; ; i++) {
        let string2 = this.text[i], end = offset + string2.length;
        if ((isLine ? line : end) >= target)
          return new Line(offset, end, line, string2);
        offset = end + 1;
        line++;
      }
    }
    decompose(from2, to, target, open) {
      let text = from2 <= 0 && to >= this.length ? this : new TextLeaf(sliceText(this.text, from2, to), Math.min(to, this.length) - Math.max(0, from2));
      if (open & 1) {
        let prev = target.pop();
        let joined = appendText(text.text, prev.text.slice(), 0, text.length);
        if (joined.length <= 32) {
          target.push(new TextLeaf(joined, prev.length + text.length));
        } else {
          let mid = joined.length >> 1;
          target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));
        }
      } else {
        target.push(text);
      }
    }
    replace(from2, to, text) {
      if (!(text instanceof TextLeaf))
        return super.replace(from2, to, text);
      let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from2)), to);
      let newLen = this.length + text.length - (to - from2);
      if (lines.length <= 32)
        return new TextLeaf(lines, newLen);
      return TextNode.from(TextLeaf.split(lines, []), newLen);
    }
    sliceString(from2, to = this.length, lineSep = "\n") {
      let result = "";
      for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {
        let line = this.text[i], end = pos + line.length;
        if (pos > from2 && i)
          result += lineSep;
        if (from2 < end && to > pos)
          result += line.slice(Math.max(0, from2 - pos), to - pos);
        pos = end + 1;
      }
      return result;
    }
    flatten(target) {
      for (let line of this.text)
        target.push(line);
    }
    scanIdentical() {
      return 0;
    }
    static split(text, target) {
      let part = [], len = -1;
      for (let line of text) {
        part.push(line);
        len += line.length + 1;
        if (part.length == 32) {
          target.push(new TextLeaf(part, len));
          part = [];
          len = -1;
        }
      }
      if (len > -1)
        target.push(new TextLeaf(part, len));
      return target;
    }
  };
  var TextNode = class extends Text {
    constructor(children, length) {
      super();
      this.children = children;
      this.length = length;
      this.lines = 0;
      for (let child of children)
        this.lines += child.lines;
    }
    lineInner(target, isLine, line, offset) {
      for (let i = 0; ; i++) {
        let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;
        if ((isLine ? endLine : end) >= target)
          return child.lineInner(target, isLine, line, offset);
        offset = end + 1;
        line = endLine + 1;
      }
    }
    decompose(from2, to, target, open) {
      for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {
        let child = this.children[i], end = pos + child.length;
        if (from2 <= end && to >= pos) {
          let childOpen = open & ((pos <= from2 ? 1 : 0) | (end >= to ? 2 : 0));
          if (pos >= from2 && end <= to && !childOpen)
            target.push(child);
          else
            child.decompose(from2 - pos, to - pos, target, childOpen);
        }
        pos = end + 1;
      }
    }
    replace(from2, to, text) {
      if (text.lines < this.lines)
        for (let i = 0, pos = 0; i < this.children.length; i++) {
          let child = this.children[i], end = pos + child.length;
          if (from2 >= pos && to <= end) {
            let updated = child.replace(from2 - pos, to - pos, text);
            let totalLines = this.lines - child.lines + updated.lines;
            if (updated.lines < totalLines >> 5 - 1 && updated.lines > totalLines >> 5 + 1) {
              let copy = this.children.slice();
              copy[i] = updated;
              return new TextNode(copy, this.length - (to - from2) + text.length);
            }
            return super.replace(pos, end, updated);
          }
          pos = end + 1;
        }
      return super.replace(from2, to, text);
    }
    sliceString(from2, to = this.length, lineSep = "\n") {
      let result = "";
      for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {
        let child = this.children[i], end = pos + child.length;
        if (pos > from2 && i)
          result += lineSep;
        if (from2 < end && to > pos)
          result += child.sliceString(from2 - pos, to - pos, lineSep);
        pos = end + 1;
      }
      return result;
    }
    flatten(target) {
      for (let child of this.children)
        child.flatten(target);
    }
    scanIdentical(other, dir) {
      if (!(other instanceof TextNode))
        return 0;
      let length = 0;
      let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length] : [this.children.length - 1, other.children.length - 1, -1, -1];
      for (; ; iA += dir, iB += dir) {
        if (iA == eA || iB == eB)
          return length;
        let chA = this.children[iA], chB = other.children[iB];
        if (chA != chB)
          return length + chA.scanIdentical(chB, dir);
        length += chA.length + 1;
      }
    }
    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {
      let lines = 0;
      for (let ch of children)
        lines += ch.lines;
      if (lines < 32) {
        let flat = [];
        for (let ch of children)
          ch.flatten(flat);
        return new TextLeaf(flat, length);
      }
      let chunk = Math.max(32, lines >> 5), maxChunk = chunk << 1, minChunk = chunk >> 1;
      let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];
      function add(child) {
        let last;
        if (child.lines > maxChunk && child instanceof TextNode) {
          for (let node of child.children)
            add(node);
        } else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {
          flush();
          chunked.push(child);
        } else if (child instanceof TextLeaf && currentLines && (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf && child.lines + last.lines <= 32) {
          currentLines += child.lines;
          currentLen += child.length + 1;
          currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);
        } else {
          if (currentLines + child.lines > chunk)
            flush();
          currentLines += child.lines;
          currentLen += child.length + 1;
          currentChunk.push(child);
        }
      }
      function flush() {
        if (currentLines == 0)
          return;
        chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));
        currentLen = -1;
        currentLines = currentChunk.length = 0;
      }
      for (let child of children)
        add(child);
      flush();
      return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);
    }
  };
  Text.empty = /* @__PURE__ */ new TextLeaf([""], 0);
  function textLength(text) {
    let length = -1;
    for (let line of text)
      length += line.length + 1;
    return length;
  }
  function appendText(text, target, from2 = 0, to = 1e9) {
    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {
      let line = text[i], end = pos + line.length;
      if (end >= from2) {
        if (end > to)
          line = line.slice(0, to - pos);
        if (pos < from2)
          line = line.slice(from2 - pos);
        if (first) {
          target[target.length - 1] += line;
          first = false;
        } else
          target.push(line);
      }
      pos = end + 1;
    }
    return target;
  }
  function sliceText(text, from2, to) {
    return appendText(text, [""], from2, to);
  }
  var RawTextCursor = class {
    constructor(text, dir = 1) {
      this.dir = dir;
      this.done = false;
      this.lineBreak = false;
      this.value = "";
      this.nodes = [text];
      this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];
    }
    nextInner(skip, dir) {
      this.done = this.lineBreak = false;
      for (; ; ) {
        let last = this.nodes.length - 1;
        let top2 = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;
        let size = top2 instanceof TextLeaf ? top2.text.length : top2.children.length;
        if (offset == (dir > 0 ? size : 0)) {
          if (last == 0) {
            this.done = true;
            this.value = "";
            return this;
          }
          if (dir > 0)
            this.offsets[last - 1]++;
          this.nodes.pop();
          this.offsets.pop();
        } else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {
          this.offsets[last] += dir;
          if (skip == 0) {
            this.lineBreak = true;
            this.value = "\n";
            return this;
          }
          skip--;
        } else if (top2 instanceof TextLeaf) {
          let next = top2.text[offset + (dir < 0 ? -1 : 0)];
          this.offsets[last] += dir;
          if (next.length > Math.max(0, skip)) {
            this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);
            return this;
          }
          skip -= next.length;
        } else {
          let next = top2.children[offset + (dir < 0 ? -1 : 0)];
          if (skip > next.length) {
            skip -= next.length;
            this.offsets[last] += dir;
          } else {
            if (dir < 0)
              this.offsets[last]--;
            this.nodes.push(next);
            this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);
          }
        }
      }
    }
    next(skip = 0) {
      if (skip < 0) {
        this.nextInner(-skip, -this.dir);
        skip = this.value.length;
      }
      return this.nextInner(skip, this.dir);
    }
  };
  var PartialTextCursor = class {
    constructor(text, start, end) {
      this.value = "";
      this.done = false;
      this.cursor = new RawTextCursor(text, start > end ? -1 : 1);
      this.pos = start > end ? text.length : 0;
      this.from = Math.min(start, end);
      this.to = Math.max(start, end);
    }
    nextInner(skip, dir) {
      if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {
        this.value = "";
        this.done = true;
        return this;
      }
      skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);
      let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;
      if (skip > limit)
        skip = limit;
      limit -= skip;
      let {value} = this.cursor.next(skip);
      this.pos += (value.length + skip) * dir;
      this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);
      this.done = !this.value;
      return this;
    }
    next(skip = 0) {
      if (skip < 0)
        skip = Math.max(skip, this.from - this.pos);
      else if (skip > 0)
        skip = Math.min(skip, this.to - this.pos);
      return this.nextInner(skip, this.cursor.dir);
    }
    get lineBreak() {
      return this.cursor.lineBreak && this.value != "";
    }
  };
  var LineCursor = class {
    constructor(inner) {
      this.inner = inner;
      this.afterBreak = true;
      this.value = "";
      this.done = false;
    }
    next(skip = 0) {
      let {done, lineBreak, value} = this.inner.next(skip);
      if (done) {
        this.done = true;
        this.value = "";
      } else if (lineBreak) {
        if (this.afterBreak) {
          this.value = "";
        } else {
          this.afterBreak = true;
          this.next();
        }
      } else {
        this.value = value;
        this.afterBreak = false;
      }
      return this;
    }
    get lineBreak() {
      return false;
    }
  };
  if (typeof Symbol != "undefined") {
    Text.prototype[Symbol.iterator] = function() {
      return this.iter();
    };
    RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] = LineCursor.prototype[Symbol.iterator] = function() {
      return this;
    };
  }
  var Line = class {
    constructor(from2, to, number2, text) {
      this.from = from2;
      this.to = to;
      this.number = number2;
      this.text = text;
    }
    get length() {
      return this.to - this.from;
    }
  };
  var extend = /* @__PURE__ */ "lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((s) => s ? parseInt(s, 36) : 1);
  for (let i = 1; i < extend.length; i++)
    extend[i] += extend[i - 1];
  function isExtendingChar(code) {
    for (let i = 1; i < extend.length; i += 2)
      if (extend[i] > code)
        return extend[i - 1] <= code;
    return false;
  }
  function isRegionalIndicator(code) {
    return code >= 127462 && code <= 127487;
  }
  var ZWJ = 8205;
  function findClusterBreak(str, pos, forward = true, includeExtending = true) {
    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos, includeExtending);
  }
  function nextClusterBreak(str, pos, includeExtending) {
    if (pos == str.length)
      return pos;
    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))
      pos--;
    let prev = codePointAt(str, pos);
    pos += codePointSize(prev);
    while (pos < str.length) {
      let next = codePointAt(str, pos);
      if (prev == ZWJ || next == ZWJ || includeExtending && isExtendingChar(next)) {
        pos += codePointSize(next);
        prev = next;
      } else if (isRegionalIndicator(next)) {
        let countBefore = 0, i = pos - 2;
        while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {
          countBefore++;
          i -= 2;
        }
        if (countBefore % 2 == 0)
          break;
        else
          pos += 2;
      } else {
        break;
      }
    }
    return pos;
  }
  function prevClusterBreak(str, pos, includeExtending) {
    while (pos > 0) {
      let found = nextClusterBreak(str, pos - 2, includeExtending);
      if (found < pos)
        return found;
      pos--;
    }
    return 0;
  }
  function surrogateLow(ch) {
    return ch >= 56320 && ch < 57344;
  }
  function surrogateHigh(ch) {
    return ch >= 55296 && ch < 56320;
  }
  function codePointAt(str, pos) {
    let code0 = str.charCodeAt(pos);
    if (!surrogateHigh(code0) || pos + 1 == str.length)
      return code0;
    let code1 = str.charCodeAt(pos + 1);
    if (!surrogateLow(code1))
      return code0;
    return (code0 - 55296 << 10) + (code1 - 56320) + 65536;
  }
  function fromCodePoint(code) {
    if (code <= 65535)
      return String.fromCharCode(code);
    code -= 65536;
    return String.fromCharCode((code >> 10) + 55296, (code & 1023) + 56320);
  }
  function codePointSize(code) {
    return code < 65536 ? 1 : 2;
  }
  var DefaultSplit = /\r\n?|\n/;
  var MapMode = /* @__PURE__ */ function(MapMode2) {
    MapMode2[MapMode2["Simple"] = 0] = "Simple";
    MapMode2[MapMode2["TrackDel"] = 1] = "TrackDel";
    MapMode2[MapMode2["TrackBefore"] = 2] = "TrackBefore";
    MapMode2[MapMode2["TrackAfter"] = 3] = "TrackAfter";
    return MapMode2;
  }(MapMode || (MapMode = {}));
  var ChangeDesc = class {
    constructor(sections) {
      this.sections = sections;
    }
    get length() {
      let result = 0;
      for (let i = 0; i < this.sections.length; i += 2)
        result += this.sections[i];
      return result;
    }
    get newLength() {
      let result = 0;
      for (let i = 0; i < this.sections.length; i += 2) {
        let ins = this.sections[i + 1];
        result += ins < 0 ? this.sections[i] : ins;
      }
      return result;
    }
    get empty() {
      return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0;
    }
    iterGaps(f) {
      for (let i = 0, posA = 0, posB = 0; i < this.sections.length; ) {
        let len = this.sections[i++], ins = this.sections[i++];
        if (ins < 0) {
          f(posA, posB, len);
          posB += len;
        } else {
          posB += ins;
        }
        posA += len;
      }
    }
    iterChangedRanges(f, individual = false) {
      iterChanges(this, f, individual);
    }
    get invertedDesc() {
      let sections = [];
      for (let i = 0; i < this.sections.length; ) {
        let len = this.sections[i++], ins = this.sections[i++];
        if (ins < 0)
          sections.push(len, ins);
        else
          sections.push(ins, len);
      }
      return new ChangeDesc(sections);
    }
    composeDesc(other) {
      return this.empty ? other : other.empty ? this : composeSets(this, other);
    }
    mapDesc(other, before = false) {
      return other.empty ? this : mapSet(this, other, before);
    }
    mapPos(pos, assoc = -1, mode = MapMode.Simple) {
      let posA = 0, posB = 0;
      for (let i = 0; i < this.sections.length; ) {
        let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;
        if (ins < 0) {
          if (endA > pos)
            return posB + (pos - posA);
          posB += len;
        } else {
          if (mode != MapMode.Simple && endA >= pos && (mode == MapMode.TrackDel && posA < pos && endA > pos || mode == MapMode.TrackBefore && posA < pos || mode == MapMode.TrackAfter && endA > pos))
            return null;
          if (endA > pos || endA == pos && assoc < 0 && !len)
            return pos == posA || assoc < 0 ? posB : posB + ins;
          posB += ins;
        }
        posA = endA;
      }
      if (pos > posA)
        throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);
      return posB;
    }
    touchesRange(from2, to = from2) {
      for (let i = 0, pos = 0; i < this.sections.length && pos <= to; ) {
        let len = this.sections[i++], ins = this.sections[i++], end = pos + len;
        if (ins >= 0 && pos <= to && end >= from2)
          return pos < from2 && end > to ? "cover" : true;
        pos = end;
      }
      return false;
    }
    toString() {
      let result = "";
      for (let i = 0; i < this.sections.length; ) {
        let len = this.sections[i++], ins = this.sections[i++];
        result += (result ? " " : "") + len + (ins >= 0 ? ":" + ins : "");
      }
      return result;
    }
    toJSON() {
      return this.sections;
    }
    static fromJSON(json2) {
      if (!Array.isArray(json2) || json2.length % 2 || json2.some((a) => typeof a != "number"))
        throw new RangeError("Invalid JSON representation of ChangeDesc");
      return new ChangeDesc(json2);
    }
    static create(sections) {
      return new ChangeDesc(sections);
    }
  };
  var ChangeSet = class extends ChangeDesc {
    constructor(sections, inserted) {
      super(sections);
      this.inserted = inserted;
    }
    apply(doc2) {
      if (this.length != doc2.length)
        throw new RangeError("Applying change set to a document with the wrong length");
      iterChanges(this, (fromA, toA, fromB, _toB, text) => doc2 = doc2.replace(fromB, fromB + (toA - fromA), text), false);
      return doc2;
    }
    mapDesc(other, before = false) {
      return mapSet(this, other, before, true);
    }
    invert(doc2) {
      let sections = this.sections.slice(), inserted = [];
      for (let i = 0, pos = 0; i < sections.length; i += 2) {
        let len = sections[i], ins = sections[i + 1];
        if (ins >= 0) {
          sections[i] = ins;
          sections[i + 1] = len;
          let index = i >> 1;
          while (inserted.length < index)
            inserted.push(Text.empty);
          inserted.push(len ? doc2.slice(pos, pos + len) : Text.empty);
        }
        pos += len;
      }
      return new ChangeSet(sections, inserted);
    }
    compose(other) {
      return this.empty ? other : other.empty ? this : composeSets(this, other, true);
    }
    map(other, before = false) {
      return other.empty ? this : mapSet(this, other, before, true);
    }
    iterChanges(f, individual = false) {
      iterChanges(this, f, individual);
    }
    get desc() {
      return ChangeDesc.create(this.sections);
    }
    filter(ranges) {
      let resultSections = [], resultInserted = [], filteredSections = [];
      let iter = new SectionIter(this);
      done:
        for (let i = 0, pos = 0; ; ) {
          let next = i == ranges.length ? 1e9 : ranges[i++];
          while (pos < next || pos == next && iter.len == 0) {
            if (iter.done)
              break done;
            let len = Math.min(iter.len, next - pos);
            addSection(filteredSections, len, -1);
            let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;
            addSection(resultSections, len, ins);
            if (ins > 0)
              addInsert(resultInserted, resultSections, iter.text);
            iter.forward(len);
            pos += len;
          }
          let end = ranges[i++];
          while (pos < end) {
            if (iter.done)
              break done;
            let len = Math.min(iter.len, end - pos);
            addSection(resultSections, len, -1);
            addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);
            iter.forward(len);
            pos += len;
          }
        }
      return {
        changes: new ChangeSet(resultSections, resultInserted),
        filtered: ChangeDesc.create(filteredSections)
      };
    }
    toJSON() {
      let parts = [];
      for (let i = 0; i < this.sections.length; i += 2) {
        let len = this.sections[i], ins = this.sections[i + 1];
        if (ins < 0)
          parts.push(len);
        else if (ins == 0)
          parts.push([len]);
        else
          parts.push([len].concat(this.inserted[i >> 1].toJSON()));
      }
      return parts;
    }
    static of(changes, length, lineSep) {
      let sections = [], inserted = [], pos = 0;
      let total = null;
      function flush(force = false) {
        if (!force && !sections.length)
          return;
        if (pos < length)
          addSection(sections, length - pos, -1);
        let set = new ChangeSet(sections, inserted);
        total = total ? total.compose(set.map(total)) : set;
        sections = [];
        inserted = [];
        pos = 0;
      }
      function process2(spec) {
        if (Array.isArray(spec)) {
          for (let sub of spec)
            process2(sub);
        } else if (spec instanceof ChangeSet) {
          if (spec.length != length)
            throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);
          flush();
          total = total ? total.compose(spec.map(total)) : spec;
        } else {
          let {from: from2, to = from2, insert: insert2} = spec;
          if (from2 > to || from2 < 0 || to > length)
            throw new RangeError(`Invalid change range ${from2} to ${to} (in doc of length ${length})`);
          let insText = !insert2 ? Text.empty : typeof insert2 == "string" ? Text.of(insert2.split(lineSep || DefaultSplit)) : insert2;
          let insLen = insText.length;
          if (from2 == to && insLen == 0)
            return;
          if (from2 < pos)
            flush();
          if (from2 > pos)
            addSection(sections, from2 - pos, -1);
          addSection(sections, to - from2, insLen);
          addInsert(inserted, sections, insText);
          pos = to;
        }
      }
      process2(changes);
      flush(!total);
      return total;
    }
    static empty(length) {
      return new ChangeSet(length ? [length, -1] : [], []);
    }
    static fromJSON(json2) {
      if (!Array.isArray(json2))
        throw new RangeError("Invalid JSON representation of ChangeSet");
      let sections = [], inserted = [];
      for (let i = 0; i < json2.length; i++) {
        let part = json2[i];
        if (typeof part == "number") {
          sections.push(part, -1);
        } else if (!Array.isArray(part) || typeof part[0] != "number" || part.some((e, i2) => i2 && typeof e != "string")) {
          throw new RangeError("Invalid JSON representation of ChangeSet");
        } else if (part.length == 1) {
          sections.push(part[0], 0);
        } else {
          while (inserted.length < i)
            inserted.push(Text.empty);
          inserted[i] = Text.of(part.slice(1));
          sections.push(part[0], inserted[i].length);
        }
      }
      return new ChangeSet(sections, inserted);
    }
    static createSet(sections, inserted) {
      return new ChangeSet(sections, inserted);
    }
  };
  function addSection(sections, len, ins, forceJoin = false) {
    if (len == 0 && ins <= 0)
      return;
    let last = sections.length - 2;
    if (last >= 0 && ins <= 0 && ins == sections[last + 1])
      sections[last] += len;
    else if (len == 0 && sections[last] == 0)
      sections[last + 1] += ins;
    else if (forceJoin) {
      sections[last] += len;
      sections[last + 1] += ins;
    } else
      sections.push(len, ins);
  }
  function addInsert(values2, sections, value) {
    if (value.length == 0)
      return;
    let index = sections.length - 2 >> 1;
    if (index < values2.length) {
      values2[values2.length - 1] = values2[values2.length - 1].append(value);
    } else {
      while (values2.length < index)
        values2.push(Text.empty);
      values2.push(value);
    }
  }
  function iterChanges(desc, f, individual) {
    let inserted = desc.inserted;
    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length; ) {
      let len = desc.sections[i++], ins = desc.sections[i++];
      if (ins < 0) {
        posA += len;
        posB += len;
      } else {
        let endA = posA, endB = posB, text = Text.empty;
        for (; ; ) {
          endA += len;
          endB += ins;
          if (ins && inserted)
            text = text.append(inserted[i - 2 >> 1]);
          if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)
            break;
          len = desc.sections[i++];
          ins = desc.sections[i++];
        }
        f(posA, endA, posB, endB, text);
        posA = endA;
        posB = endB;
      }
    }
  }
  function mapSet(setA, setB, before, mkSet = false) {
    let sections = [], insert2 = mkSet ? [] : null;
    let a = new SectionIter(setA), b = new SectionIter(setB);
    for (let inserted = -1; ; ) {
      if (a.ins == -1 && b.ins == -1) {
        let len = Math.min(a.len, b.len);
        addSection(sections, len, -1);
        a.forward(len);
        b.forward(len);
      } else if (b.ins >= 0 && (a.ins < 0 || inserted == a.i || a.off == 0 && (b.len < a.len || b.len == a.len && !before))) {
        let len = b.len;
        addSection(sections, b.ins, -1);
        while (len) {
          let piece = Math.min(a.len, len);
          if (a.ins >= 0 && inserted < a.i && a.len <= piece) {
            addSection(sections, 0, a.ins);
            if (insert2)
              addInsert(insert2, sections, a.text);
            inserted = a.i;
          }
          a.forward(piece);
          len -= piece;
        }
        b.next();
      } else if (a.ins >= 0) {
        let len = 0, left = a.len;
        while (left) {
          if (b.ins == -1) {
            let piece = Math.min(left, b.len);
            len += piece;
            left -= piece;
            b.forward(piece);
          } else if (b.ins == 0 && b.len < left) {
            left -= b.len;
            b.next();
          } else {
            break;
          }
        }
        addSection(sections, len, inserted < a.i ? a.ins : 0);
        if (insert2 && inserted < a.i)
          addInsert(insert2, sections, a.text);
        inserted = a.i;
        a.forward(a.len - left);
      } else if (a.done && b.done) {
        return insert2 ? ChangeSet.createSet(sections, insert2) : ChangeDesc.create(sections);
      } else {
        throw new Error("Mismatched change set lengths");
      }
    }
  }
  function composeSets(setA, setB, mkSet = false) {
    let sections = [];
    let insert2 = mkSet ? [] : null;
    let a = new SectionIter(setA), b = new SectionIter(setB);
    for (let open = false; ; ) {
      if (a.done && b.done) {
        return insert2 ? ChangeSet.createSet(sections, insert2) : ChangeDesc.create(sections);
      } else if (a.ins == 0) {
        addSection(sections, a.len, 0, open);
        a.next();
      } else if (b.len == 0 && !b.done) {
        addSection(sections, 0, b.ins, open);
        if (insert2)
          addInsert(insert2, sections, b.text);
        b.next();
      } else if (a.done || b.done) {
        throw new Error("Mismatched change set lengths");
      } else {
        let len = Math.min(a.len2, b.len), sectionLen = sections.length;
        if (a.ins == -1) {
          let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;
          addSection(sections, len, insB, open);
          if (insert2 && insB)
            addInsert(insert2, sections, b.text);
        } else if (b.ins == -1) {
          addSection(sections, a.off ? 0 : a.len, len, open);
          if (insert2)
            addInsert(insert2, sections, a.textBit(len));
        } else {
          addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);
          if (insert2 && !b.off)
            addInsert(insert2, sections, b.text);
        }
        open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);
        a.forward2(len);
        b.forward(len);
      }
    }
  }
  var SectionIter = class {
    constructor(set) {
      this.set = set;
      this.i = 0;
      this.next();
    }
    next() {
      let {sections} = this.set;
      if (this.i < sections.length) {
        this.len = sections[this.i++];
        this.ins = sections[this.i++];
      } else {
        this.len = 0;
        this.ins = -2;
      }
      this.off = 0;
    }
    get done() {
      return this.ins == -2;
    }
    get len2() {
      return this.ins < 0 ? this.len : this.ins;
    }
    get text() {
      let {inserted} = this.set, index = this.i - 2 >> 1;
      return index >= inserted.length ? Text.empty : inserted[index];
    }
    textBit(len) {
      let {inserted} = this.set, index = this.i - 2 >> 1;
      return index >= inserted.length && !len ? Text.empty : inserted[index].slice(this.off, len == null ? void 0 : this.off + len);
    }
    forward(len) {
      if (len == this.len)
        this.next();
      else {
        this.len -= len;
        this.off += len;
      }
    }
    forward2(len) {
      if (this.ins == -1)
        this.forward(len);
      else if (len == this.ins)
        this.next();
      else {
        this.ins -= len;
        this.off += len;
      }
    }
  };
  var SelectionRange = class {
    constructor(from2, to, flags) {
      this.from = from2;
      this.to = to;
      this.flags = flags;
    }
    get anchor() {
      return this.flags & 16 ? this.to : this.from;
    }
    get head() {
      return this.flags & 16 ? this.from : this.to;
    }
    get empty() {
      return this.from == this.to;
    }
    get assoc() {
      return this.flags & 4 ? -1 : this.flags & 8 ? 1 : 0;
    }
    get bidiLevel() {
      let level = this.flags & 3;
      return level == 3 ? null : level;
    }
    get goalColumn() {
      let value = this.flags >> 5;
      return value == 33554431 ? void 0 : value;
    }
    map(change, assoc = -1) {
      let from2, to;
      if (this.empty) {
        from2 = to = change.mapPos(this.from, assoc);
      } else {
        from2 = change.mapPos(this.from, 1);
        to = change.mapPos(this.to, -1);
      }
      return from2 == this.from && to == this.to ? this : new SelectionRange(from2, to, this.flags);
    }
    extend(from2, to = from2) {
      if (from2 <= this.anchor && to >= this.anchor)
        return EditorSelection.range(from2, to);
      let head = Math.abs(from2 - this.anchor) > Math.abs(to - this.anchor) ? from2 : to;
      return EditorSelection.range(this.anchor, head);
    }
    eq(other) {
      return this.anchor == other.anchor && this.head == other.head;
    }
    toJSON() {
      return {anchor: this.anchor, head: this.head};
    }
    static fromJSON(json2) {
      if (!json2 || typeof json2.anchor != "number" || typeof json2.head != "number")
        throw new RangeError("Invalid JSON representation for SelectionRange");
      return EditorSelection.range(json2.anchor, json2.head);
    }
    static create(from2, to, flags) {
      return new SelectionRange(from2, to, flags);
    }
  };
  var EditorSelection = class {
    constructor(ranges, mainIndex) {
      this.ranges = ranges;
      this.mainIndex = mainIndex;
    }
    map(change, assoc = -1) {
      if (change.empty)
        return this;
      return EditorSelection.create(this.ranges.map((r) => r.map(change, assoc)), this.mainIndex);
    }
    eq(other) {
      if (this.ranges.length != other.ranges.length || this.mainIndex != other.mainIndex)
        return false;
      for (let i = 0; i < this.ranges.length; i++)
        if (!this.ranges[i].eq(other.ranges[i]))
          return false;
      return true;
    }
    get main() {
      return this.ranges[this.mainIndex];
    }
    asSingle() {
      return this.ranges.length == 1 ? this : new EditorSelection([this.main], 0);
    }
    addRange(range, main = true) {
      return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);
    }
    replaceRange(range, which = this.mainIndex) {
      let ranges = this.ranges.slice();
      ranges[which] = range;
      return EditorSelection.create(ranges, this.mainIndex);
    }
    toJSON() {
      return {ranges: this.ranges.map((r) => r.toJSON()), main: this.mainIndex};
    }
    static fromJSON(json2) {
      if (!json2 || !Array.isArray(json2.ranges) || typeof json2.main != "number" || json2.main >= json2.ranges.length)
        throw new RangeError("Invalid JSON representation for EditorSelection");
      return new EditorSelection(json2.ranges.map((r) => SelectionRange.fromJSON(r)), json2.main);
    }
    static single(anchor, head = anchor) {
      return new EditorSelection([EditorSelection.range(anchor, head)], 0);
    }
    static create(ranges, mainIndex = 0) {
      if (ranges.length == 0)
        throw new RangeError("A selection needs at least one range");
      for (let pos = 0, i = 0; i < ranges.length; i++) {
        let range = ranges[i];
        if (range.empty ? range.from <= pos : range.from < pos)
          return EditorSelection.normalized(ranges.slice(), mainIndex);
        pos = range.to;
      }
      return new EditorSelection(ranges, mainIndex);
    }
    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {
      return SelectionRange.create(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 : 8) | (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) | (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431) << 5);
    }
    static range(anchor, head, goalColumn) {
      let goal = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431) << 5;
      return head < anchor ? SelectionRange.create(head, anchor, 16 | goal | 8) : SelectionRange.create(anchor, head, goal | (head > anchor ? 4 : 0));
    }
    static normalized(ranges, mainIndex = 0) {
      let main = ranges[mainIndex];
      ranges.sort((a, b) => a.from - b.from);
      mainIndex = ranges.indexOf(main);
      for (let i = 1; i < ranges.length; i++) {
        let range = ranges[i], prev = ranges[i - 1];
        if (range.empty ? range.from <= prev.to : range.from < prev.to) {
          let from2 = prev.from, to = Math.max(range.to, prev.to);
          if (i <= mainIndex)
            mainIndex--;
          ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from2) : EditorSelection.range(from2, to));
        }
      }
      return new EditorSelection(ranges, mainIndex);
    }
  };
  function checkSelection(selection, docLength) {
    for (let range of selection.ranges)
      if (range.to > docLength)
        throw new RangeError("Selection points outside of document");
  }
  var nextID = 0;
  var Facet = class {
    constructor(combine, compareInput, compare2, isStatic, enables) {
      this.combine = combine;
      this.compareInput = compareInput;
      this.compare = compare2;
      this.isStatic = isStatic;
      this.id = nextID++;
      this.default = combine([]);
      this.extensions = typeof enables == "function" ? enables(this) : enables;
    }
    static define(config = {}) {
      return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);
    }
    of(value) {
      return new FacetProvider([], this, 0, value);
    }
    compute(deps, get) {
      if (this.isStatic)
        throw new Error("Can't compute a static facet");
      return new FacetProvider(deps, this, 1, get);
    }
    computeN(deps, get) {
      if (this.isStatic)
        throw new Error("Can't compute a static facet");
      return new FacetProvider(deps, this, 2, get);
    }
    from(field, get) {
      if (!get)
        get = (x) => x;
      return this.compute([field], (state) => get(state.field(field)));
    }
  };
  function sameArray(a, b) {
    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);
  }
  var FacetProvider = class {
    constructor(dependencies, facet, type, value) {
      this.dependencies = dependencies;
      this.facet = facet;
      this.type = type;
      this.value = value;
      this.id = nextID++;
    }
    dynamicSlot(addresses) {
      var _a2;
      let getter = this.value;
      let compare2 = this.facet.compareInput;
      let id2 = this.id, idx = addresses[id2] >> 1, multi = this.type == 2;
      let depDoc = false, depSel = false, depAddrs = [];
      for (let dep of this.dependencies) {
        if (dep == "doc")
          depDoc = true;
        else if (dep == "selection")
          depSel = true;
        else if ((((_a2 = addresses[dep.id]) !== null && _a2 !== void 0 ? _a2 : 1) & 1) == 0)
          depAddrs.push(addresses[dep.id]);
      }
      return {
        create(state) {
          state.values[idx] = getter(state);
          return 1;
        },
        update(state, tr) {
          if (depDoc && tr.docChanged || depSel && (tr.docChanged || tr.selection) || ensureAll(state, depAddrs)) {
            let newVal = getter(state);
            if (multi ? !compareArray(newVal, state.values[idx], compare2) : !compare2(newVal, state.values[idx])) {
              state.values[idx] = newVal;
              return 1;
            }
          }
          return 0;
        },
        reconfigure: (state, oldState) => {
          let newVal, oldAddr = oldState.config.address[id2];
          if (oldAddr != null) {
            let oldVal = getAddr(oldState, oldAddr);
            if (this.dependencies.every((dep) => {
              return dep instanceof Facet ? oldState.facet(dep) === state.facet(dep) : dep instanceof StateField ? oldState.field(dep, false) == state.field(dep, false) : true;
            }) || (multi ? compareArray(newVal = getter(state), oldVal, compare2) : compare2(newVal = getter(state), oldVal))) {
              state.values[idx] = oldVal;
              return 0;
            }
          } else {
            newVal = getter(state);
          }
          state.values[idx] = newVal;
          return 1;
        }
      };
    }
  };
  function compareArray(a, b, compare2) {
    if (a.length != b.length)
      return false;
    for (let i = 0; i < a.length; i++)
      if (!compare2(a[i], b[i]))
        return false;
    return true;
  }
  function ensureAll(state, addrs) {
    let changed = false;
    for (let addr of addrs)
      if (ensureAddr(state, addr) & 1)
        changed = true;
    return changed;
  }
  function dynamicFacetSlot(addresses, facet, providers) {
    let providerAddrs = providers.map((p) => addresses[p.id]);
    let providerTypes = providers.map((p) => p.type);
    let dynamic = providerAddrs.filter((p) => !(p & 1));
    let idx = addresses[facet.id] >> 1;
    function get(state) {
      let values2 = [];
      for (let i = 0; i < providerAddrs.length; i++) {
        let value = getAddr(state, providerAddrs[i]);
        if (providerTypes[i] == 2)
          for (let val of value)
            values2.push(val);
        else
          values2.push(value);
      }
      return facet.combine(values2);
    }
    return {
      create(state) {
        for (let addr of providerAddrs)
          ensureAddr(state, addr);
        state.values[idx] = get(state);
        return 1;
      },
      update(state, tr) {
        if (!ensureAll(state, dynamic))
          return 0;
        let value = get(state);
        if (facet.compare(value, state.values[idx]))
          return 0;
        state.values[idx] = value;
        return 1;
      },
      reconfigure(state, oldState) {
        let depChanged = ensureAll(state, providerAddrs);
        let oldProviders = oldState.config.facets[facet.id], oldValue = oldState.facet(facet);
        if (oldProviders && !depChanged && sameArray(providers, oldProviders)) {
          state.values[idx] = oldValue;
          return 0;
        }
        let value = get(state);
        if (facet.compare(value, oldValue)) {
          state.values[idx] = oldValue;
          return 0;
        }
        state.values[idx] = value;
        return 1;
      }
    };
  }
  var initField = /* @__PURE__ */ Facet.define({static: true});
  var StateField = class {
    constructor(id2, createF, updateF, compareF, spec) {
      this.id = id2;
      this.createF = createF;
      this.updateF = updateF;
      this.compareF = compareF;
      this.spec = spec;
      this.provides = void 0;
    }
    static define(config) {
      let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);
      if (config.provide)
        field.provides = config.provide(field);
      return field;
    }
    create(state) {
      let init = state.facet(initField).find((i) => i.field == this);
      return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);
    }
    slot(addresses) {
      let idx = addresses[this.id] >> 1;
      return {
        create: (state) => {
          state.values[idx] = this.create(state);
          return 1;
        },
        update: (state, tr) => {
          let oldVal = state.values[idx];
          let value = this.updateF(oldVal, tr);
          if (this.compareF(oldVal, value))
            return 0;
          state.values[idx] = value;
          return 1;
        },
        reconfigure: (state, oldState) => {
          if (oldState.config.address[this.id] != null) {
            state.values[idx] = oldState.field(this);
            return 0;
          }
          state.values[idx] = this.create(state);
          return 1;
        }
      };
    }
    init(create) {
      return [this, initField.of({field: this, create})];
    }
    get extension() {
      return this;
    }
  };
  var Prec_ = {lowest: 4, low: 3, default: 2, high: 1, highest: 0};
  function prec(value) {
    return (ext) => new PrecExtension(ext, value);
  }
  var Prec = {
    highest: /* @__PURE__ */ prec(Prec_.highest),
    high: /* @__PURE__ */ prec(Prec_.high),
    default: /* @__PURE__ */ prec(Prec_.default),
    low: /* @__PURE__ */ prec(Prec_.low),
    lowest: /* @__PURE__ */ prec(Prec_.lowest)
  };
  var PrecExtension = class {
    constructor(inner, prec2) {
      this.inner = inner;
      this.prec = prec2;
    }
  };
  var Compartment = class {
    of(ext) {
      return new CompartmentInstance(this, ext);
    }
    reconfigure(content2) {
      return Compartment.reconfigure.of({compartment: this, extension: content2});
    }
    get(state) {
      return state.config.compartments.get(this);
    }
  };
  var CompartmentInstance = class {
    constructor(compartment, inner) {
      this.compartment = compartment;
      this.inner = inner;
    }
  };
  var Configuration = class {
    constructor(base2, compartments, dynamicSlots, address, staticValues, facets) {
      this.base = base2;
      this.compartments = compartments;
      this.dynamicSlots = dynamicSlots;
      this.address = address;
      this.staticValues = staticValues;
      this.facets = facets;
      this.statusTemplate = [];
      while (this.statusTemplate.length < dynamicSlots.length)
        this.statusTemplate.push(0);
    }
    staticFacet(facet) {
      let addr = this.address[facet.id];
      return addr == null ? facet.default : this.staticValues[addr >> 1];
    }
    static resolve(base2, compartments, oldState) {
      let fields = [];
      let facets = Object.create(null);
      let newCompartments = new Map();
      for (let ext of flatten(base2, compartments, newCompartments)) {
        if (ext instanceof StateField)
          fields.push(ext);
        else
          (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);
      }
      let address = Object.create(null);
      let staticValues = [];
      let dynamicSlots = [];
      for (let field of fields) {
        address[field.id] = dynamicSlots.length << 1;
        dynamicSlots.push((a) => field.slot(a));
      }
      let oldFacets = oldState === null || oldState === void 0 ? void 0 : oldState.config.facets;
      for (let id2 in facets) {
        let providers = facets[id2], facet = providers[0].facet;
        let oldProviders = oldFacets && oldFacets[id2] || [];
        if (providers.every((p) => p.type == 0)) {
          address[facet.id] = staticValues.length << 1 | 1;
          if (sameArray(oldProviders, providers)) {
            staticValues.push(oldState.facet(facet));
          } else {
            let value = facet.combine(providers.map((p) => p.value));
            staticValues.push(oldState && facet.compare(value, oldState.facet(facet)) ? oldState.facet(facet) : value);
          }
        } else {
          for (let p of providers) {
            if (p.type == 0) {
              address[p.id] = staticValues.length << 1 | 1;
              staticValues.push(p.value);
            } else {
              address[p.id] = dynamicSlots.length << 1;
              dynamicSlots.push((a) => p.dynamicSlot(a));
            }
          }
          address[facet.id] = dynamicSlots.length << 1;
          dynamicSlots.push((a) => dynamicFacetSlot(a, facet, providers));
        }
      }
      let dynamic = dynamicSlots.map((f) => f(address));
      return new Configuration(base2, newCompartments, dynamic, address, staticValues, facets);
    }
  };
  function flatten(extension, compartments, newCompartments) {
    let result = [[], [], [], [], []];
    let seen = new Map();
    function inner(ext, prec2) {
      let known = seen.get(ext);
      if (known != null) {
        if (known <= prec2)
          return;
        let found = result[known].indexOf(ext);
        if (found > -1)
          result[known].splice(found, 1);
        if (ext instanceof CompartmentInstance)
          newCompartments.delete(ext.compartment);
      }
      seen.set(ext, prec2);
      if (Array.isArray(ext)) {
        for (let e of ext)
          inner(e, prec2);
      } else if (ext instanceof CompartmentInstance) {
        if (newCompartments.has(ext.compartment))
          throw new RangeError(`Duplicate use of compartment in extensions`);
        let content2 = compartments.get(ext.compartment) || ext.inner;
        newCompartments.set(ext.compartment, content2);
        inner(content2, prec2);
      } else if (ext instanceof PrecExtension) {
        inner(ext.inner, ext.prec);
      } else if (ext instanceof StateField) {
        result[prec2].push(ext);
        if (ext.provides)
          inner(ext.provides, prec2);
      } else if (ext instanceof FacetProvider) {
        result[prec2].push(ext);
        if (ext.facet.extensions)
          inner(ext.facet.extensions, Prec_.default);
      } else {
        let content2 = ext.extension;
        if (!content2)
          throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);
        inner(content2, prec2);
      }
    }
    inner(extension, Prec_.default);
    return result.reduce((a, b) => a.concat(b));
  }
  function ensureAddr(state, addr) {
    if (addr & 1)
      return 2;
    let idx = addr >> 1;
    let status = state.status[idx];
    if (status == 4)
      throw new Error("Cyclic dependency between fields and/or facets");
    if (status & 2)
      return status;
    state.status[idx] = 4;
    let changed = state.computeSlot(state, state.config.dynamicSlots[idx]);
    return state.status[idx] = 2 | changed;
  }
  function getAddr(state, addr) {
    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];
  }
  var languageData = /* @__PURE__ */ Facet.define();
  var allowMultipleSelections = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.some((v) => v),
    static: true
  });
  var lineSeparator = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.length ? values2[0] : void 0,
    static: true
  });
  var changeFilter = /* @__PURE__ */ Facet.define();
  var transactionFilter = /* @__PURE__ */ Facet.define();
  var transactionExtender = /* @__PURE__ */ Facet.define();
  var readOnly = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.length ? values2[0] : false
  });
  var Annotation = class {
    constructor(type, value) {
      this.type = type;
      this.value = value;
    }
    static define() {
      return new AnnotationType();
    }
  };
  var AnnotationType = class {
    of(value) {
      return new Annotation(this, value);
    }
  };
  var StateEffectType = class {
    constructor(map) {
      this.map = map;
    }
    of(value) {
      return new StateEffect(this, value);
    }
  };
  var StateEffect = class {
    constructor(type, value) {
      this.type = type;
      this.value = value;
    }
    map(mapping) {
      let mapped = this.type.map(this.value, mapping);
      return mapped === void 0 ? void 0 : mapped == this.value ? this : new StateEffect(this.type, mapped);
    }
    is(type) {
      return this.type == type;
    }
    static define(spec = {}) {
      return new StateEffectType(spec.map || ((v) => v));
    }
    static mapEffects(effects, mapping) {
      if (!effects.length)
        return effects;
      let result = [];
      for (let effect of effects) {
        let mapped = effect.map(mapping);
        if (mapped)
          result.push(mapped);
      }
      return result;
    }
  };
  StateEffect.reconfigure = /* @__PURE__ */ StateEffect.define();
  StateEffect.appendConfig = /* @__PURE__ */ StateEffect.define();
  var Transaction = class {
    constructor(startState, changes, selection, effects, annotations, scrollIntoView3) {
      this.startState = startState;
      this.changes = changes;
      this.selection = selection;
      this.effects = effects;
      this.annotations = annotations;
      this.scrollIntoView = scrollIntoView3;
      this._doc = null;
      this._state = null;
      if (selection)
        checkSelection(selection, changes.newLength);
      if (!annotations.some((a) => a.type == Transaction.time))
        this.annotations = annotations.concat(Transaction.time.of(Date.now()));
    }
    static create(startState, changes, selection, effects, annotations, scrollIntoView3) {
      return new Transaction(startState, changes, selection, effects, annotations, scrollIntoView3);
    }
    get newDoc() {
      return this._doc || (this._doc = this.changes.apply(this.startState.doc));
    }
    get newSelection() {
      return this.selection || this.startState.selection.map(this.changes);
    }
    get state() {
      if (!this._state)
        this.startState.applyTransaction(this);
      return this._state;
    }
    annotation(type) {
      for (let ann of this.annotations)
        if (ann.type == type)
          return ann.value;
      return void 0;
    }
    get docChanged() {
      return !this.changes.empty;
    }
    get reconfigured() {
      return this.startState.config != this.state.config;
    }
    isUserEvent(event) {
      let e = this.annotation(Transaction.userEvent);
      return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == "."));
    }
  };
  Transaction.time = /* @__PURE__ */ Annotation.define();
  Transaction.userEvent = /* @__PURE__ */ Annotation.define();
  Transaction.addToHistory = /* @__PURE__ */ Annotation.define();
  Transaction.remote = /* @__PURE__ */ Annotation.define();
  function joinRanges(a, b) {
    let result = [];
    for (let iA = 0, iB = 0; ; ) {
      let from2, to;
      if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {
        from2 = a[iA++];
        to = a[iA++];
      } else if (iB < b.length) {
        from2 = b[iB++];
        to = b[iB++];
      } else
        return result;
      if (!result.length || result[result.length - 1] < from2)
        result.push(from2, to);
      else if (result[result.length - 1] < to)
        result[result.length - 1] = to;
    }
  }
  function mergeTransaction(a, b, sequential) {
    var _a2;
    let mapForA, mapForB, changes;
    if (sequential) {
      mapForA = b.changes;
      mapForB = ChangeSet.empty(b.changes.length);
      changes = a.changes.compose(b.changes);
    } else {
      mapForA = b.changes.map(a.changes);
      mapForB = a.changes.mapDesc(b.changes, true);
      changes = a.changes.compose(mapForA);
    }
    return {
      changes,
      selection: b.selection ? b.selection.map(mapForB) : (_a2 = a.selection) === null || _a2 === void 0 ? void 0 : _a2.map(mapForA),
      effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),
      annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,
      scrollIntoView: a.scrollIntoView || b.scrollIntoView
    };
  }
  function resolveTransactionInner(state, spec, docSize) {
    let sel = spec.selection, annotations = asArray(spec.annotations);
    if (spec.userEvent)
      annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));
    return {
      changes: spec.changes instanceof ChangeSet ? spec.changes : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),
      selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),
      effects: asArray(spec.effects),
      annotations,
      scrollIntoView: !!spec.scrollIntoView
    };
  }
  function resolveTransaction(state, specs, filter) {
    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);
    if (specs.length && specs[0].filter === false)
      filter = false;
    for (let i = 1; i < specs.length; i++) {
      if (specs[i].filter === false)
        filter = false;
      let seq = !!specs[i].sequential;
      s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);
    }
    let tr = Transaction.create(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);
    return extendTransaction(filter ? filterTransaction(tr) : tr);
  }
  function filterTransaction(tr) {
    let state = tr.startState;
    let result = true;
    for (let filter of state.facet(changeFilter)) {
      let value = filter(tr);
      if (value === false) {
        result = false;
        break;
      }
      if (Array.isArray(value))
        result = result === true ? value : joinRanges(result, value);
    }
    if (result !== true) {
      let changes, back;
      if (result === false) {
        back = tr.changes.invertedDesc;
        changes = ChangeSet.empty(state.doc.length);
      } else {
        let filtered = tr.changes.filter(result);
        changes = filtered.changes;
        back = filtered.filtered.mapDesc(filtered.changes).invertedDesc;
      }
      tr = Transaction.create(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);
    }
    let filters = state.facet(transactionFilter);
    for (let i = filters.length - 1; i >= 0; i--) {
      let filtered = filters[i](tr);
      if (filtered instanceof Transaction)
        tr = filtered;
      else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)
        tr = filtered[0];
      else
        tr = resolveTransaction(state, asArray(filtered), false);
    }
    return tr;
  }
  function extendTransaction(tr) {
    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;
    for (let i = extenders.length - 1; i >= 0; i--) {
      let extension = extenders[i](tr);
      if (extension && Object.keys(extension).length)
        spec = mergeTransaction(spec, resolveTransactionInner(state, extension, tr.changes.newLength), true);
    }
    return spec == tr ? tr : Transaction.create(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);
  }
  var none = [];
  function asArray(value) {
    return value == null ? none : Array.isArray(value) ? value : [value];
  }
  var CharCategory = /* @__PURE__ */ function(CharCategory2) {
    CharCategory2[CharCategory2["Word"] = 0] = "Word";
    CharCategory2[CharCategory2["Space"] = 1] = "Space";
    CharCategory2[CharCategory2["Other"] = 2] = "Other";
    return CharCategory2;
  }(CharCategory || (CharCategory = {}));
  var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
  var wordChar;
  try {
    wordChar = /* @__PURE__ */ new RegExp("[\\p{Alphabetic}\\p{Number}_]", "u");
  } catch (_) {
  }
  function hasWordChar(str) {
    if (wordChar)
      return wordChar.test(str);
    for (let i = 0; i < str.length; i++) {
      let ch = str[i];
      if (/\w/.test(ch) || ch > "\x80" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))
        return true;
    }
    return false;
  }
  function makeCategorizer(wordChars) {
    return (char) => {
      if (!/\S/.test(char))
        return CharCategory.Space;
      if (hasWordChar(char))
        return CharCategory.Word;
      for (let i = 0; i < wordChars.length; i++)
        if (char.indexOf(wordChars[i]) > -1)
          return CharCategory.Word;
      return CharCategory.Other;
    };
  }
  var EditorState = class {
    constructor(config, doc2, selection, values2, computeSlot, tr) {
      this.config = config;
      this.doc = doc2;
      this.selection = selection;
      this.values = values2;
      this.status = config.statusTemplate.slice();
      this.computeSlot = computeSlot;
      if (tr)
        tr._state = this;
      for (let i = 0; i < this.config.dynamicSlots.length; i++)
        ensureAddr(this, i << 1);
      this.computeSlot = null;
    }
    field(field, require3 = true) {
      let addr = this.config.address[field.id];
      if (addr == null) {
        if (require3)
          throw new RangeError("Field is not present in this state");
        return void 0;
      }
      ensureAddr(this, addr);
      return getAddr(this, addr);
    }
    update(...specs) {
      return resolveTransaction(this, specs, true);
    }
    applyTransaction(tr) {
      let conf = this.config, {base: base2, compartments} = conf;
      for (let effect of tr.effects) {
        if (effect.is(Compartment.reconfigure)) {
          if (conf) {
            compartments = new Map();
            conf.compartments.forEach((val, key) => compartments.set(key, val));
            conf = null;
          }
          compartments.set(effect.value.compartment, effect.value.extension);
        } else if (effect.is(StateEffect.reconfigure)) {
          conf = null;
          base2 = effect.value;
        } else if (effect.is(StateEffect.appendConfig)) {
          conf = null;
          base2 = asArray(base2).concat(effect.value);
        }
      }
      let startValues;
      if (!conf) {
        conf = Configuration.resolve(base2, compartments, this);
        let intermediateState = new EditorState(conf, this.doc, this.selection, conf.dynamicSlots.map(() => null), (state, slot) => slot.reconfigure(state, this), null);
        startValues = intermediateState.values;
      } else {
        startValues = tr.startState.values.slice();
      }
      new EditorState(conf, tr.newDoc, tr.newSelection, startValues, (state, slot) => slot.update(state, tr), tr);
    }
    replaceSelection(text) {
      if (typeof text == "string")
        text = this.toText(text);
      return this.changeByRange((range) => ({
        changes: {from: range.from, to: range.to, insert: text},
        range: EditorSelection.cursor(range.from + text.length)
      }));
    }
    changeByRange(f) {
      let sel = this.selection;
      let result1 = f(sel.ranges[0]);
      let changes = this.changes(result1.changes), ranges = [result1.range];
      let effects = asArray(result1.effects);
      for (let i = 1; i < sel.ranges.length; i++) {
        let result = f(sel.ranges[i]);
        let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);
        for (let j = 0; j < i; j++)
          ranges[j] = ranges[j].map(newMapped);
        let mapBy = changes.mapDesc(newChanges, true);
        ranges.push(result.range.map(mapBy));
        changes = changes.compose(newMapped);
        effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));
      }
      return {
        changes,
        selection: EditorSelection.create(ranges, sel.mainIndex),
        effects
      };
    }
    changes(spec = []) {
      if (spec instanceof ChangeSet)
        return spec;
      return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));
    }
    toText(string2) {
      return Text.of(string2.split(this.facet(EditorState.lineSeparator) || DefaultSplit));
    }
    sliceDoc(from2 = 0, to = this.doc.length) {
      return this.doc.sliceString(from2, to, this.lineBreak);
    }
    facet(facet) {
      let addr = this.config.address[facet.id];
      if (addr == null)
        return facet.default;
      ensureAddr(this, addr);
      return getAddr(this, addr);
    }
    toJSON(fields) {
      let result = {
        doc: this.sliceDoc(),
        selection: this.selection.toJSON()
      };
      if (fields)
        for (let prop in fields) {
          let value = fields[prop];
          if (value instanceof StateField && this.config.address[value.id] != null)
            result[prop] = value.spec.toJSON(this.field(fields[prop]), this);
        }
      return result;
    }
    static fromJSON(json2, config = {}, fields) {
      if (!json2 || typeof json2.doc != "string")
        throw new RangeError("Invalid JSON representation for EditorState");
      let fieldInit = [];
      if (fields)
        for (let prop in fields) {
          if (Object.prototype.hasOwnProperty.call(json2, prop)) {
            let field = fields[prop], value = json2[prop];
            fieldInit.push(field.init((state) => field.spec.fromJSON(value, state)));
          }
        }
      return EditorState.create({
        doc: json2.doc,
        selection: EditorSelection.fromJSON(json2.selection),
        extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit
      });
    }
    static create(config = {}) {
      let configuration = Configuration.resolve(config.extensions || [], new Map());
      let doc2 = config.doc instanceof Text ? config.doc : Text.of((config.doc || "").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));
      let selection = !config.selection ? EditorSelection.single(0) : config.selection instanceof EditorSelection ? config.selection : EditorSelection.single(config.selection.anchor, config.selection.head);
      checkSelection(selection, doc2.length);
      if (!configuration.staticFacet(allowMultipleSelections))
        selection = selection.asSingle();
      return new EditorState(configuration, doc2, selection, configuration.dynamicSlots.map(() => null), (state, slot) => slot.create(state), null);
    }
    get tabSize() {
      return this.facet(EditorState.tabSize);
    }
    get lineBreak() {
      return this.facet(EditorState.lineSeparator) || "\n";
    }
    get readOnly() {
      return this.facet(readOnly);
    }
    phrase(phrase, ...insert2) {
      for (let map of this.facet(EditorState.phrases))
        if (Object.prototype.hasOwnProperty.call(map, phrase)) {
          phrase = map[phrase];
          break;
        }
      if (insert2.length)
        phrase = phrase.replace(/\$(\$|\d*)/g, (m, i) => {
          if (i == "$")
            return "$";
          let n = +(i || 1);
          return !n || n > insert2.length ? m : insert2[n - 1];
        });
      return phrase;
    }
    languageDataAt(name2, pos, side = -1) {
      let values2 = [];
      for (let provider of this.facet(languageData)) {
        for (let result of provider(this, pos, side)) {
          if (Object.prototype.hasOwnProperty.call(result, name2))
            values2.push(result[name2]);
        }
      }
      return values2;
    }
    charCategorizer(at) {
      return makeCategorizer(this.languageDataAt("wordChars", at).join(""));
    }
    wordAt(pos) {
      let {text, from: from2, length} = this.doc.lineAt(pos);
      let cat = this.charCategorizer(pos);
      let start = pos - from2, end = pos - from2;
      while (start > 0) {
        let prev = findClusterBreak(text, start, false);
        if (cat(text.slice(prev, start)) != CharCategory.Word)
          break;
        start = prev;
      }
      while (end < length) {
        let next = findClusterBreak(text, end);
        if (cat(text.slice(end, next)) != CharCategory.Word)
          break;
        end = next;
      }
      return start == end ? null : EditorSelection.range(start + from2, end + from2);
    }
  };
  EditorState.allowMultipleSelections = allowMultipleSelections;
  EditorState.tabSize = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.length ? values2[0] : 4
  });
  EditorState.lineSeparator = lineSeparator;
  EditorState.readOnly = readOnly;
  EditorState.phrases = /* @__PURE__ */ Facet.define({
    compare(a, b) {
      let kA = Object.keys(a), kB = Object.keys(b);
      return kA.length == kB.length && kA.every((k) => a[k] == b[k]);
    }
  });
  EditorState.languageData = languageData;
  EditorState.changeFilter = changeFilter;
  EditorState.transactionFilter = transactionFilter;
  EditorState.transactionExtender = transactionExtender;
  Compartment.reconfigure = /* @__PURE__ */ StateEffect.define();
  function combineConfig(configs, defaults2, combine = {}) {
    let result = {};
    for (let config of configs)
      for (let key of Object.keys(config)) {
        let value = config[key], current = result[key];
        if (current === void 0)
          result[key] = value;
        else if (current === value || value === void 0)
          ;
        else if (Object.hasOwnProperty.call(combine, key))
          result[key] = combine[key](current, value);
        else
          throw new Error("Config merge conflict for field " + key);
      }
    for (let key in defaults2)
      if (result[key] === void 0)
        result[key] = defaults2[key];
    return result;
  }
  var RangeValue = class {
    eq(other) {
      return this == other;
    }
    range(from2, to = from2) {
      return Range.create(from2, to, this);
    }
  };
  RangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;
  RangeValue.prototype.point = false;
  RangeValue.prototype.mapMode = MapMode.TrackDel;
  var Range = class {
    constructor(from2, to, value) {
      this.from = from2;
      this.to = to;
      this.value = value;
    }
    static create(from2, to, value) {
      return new Range(from2, to, value);
    }
  };
  function cmpRange(a, b) {
    return a.from - b.from || a.value.startSide - b.value.startSide;
  }
  var Chunk = class {
    constructor(from2, to, value, maxPoint) {
      this.from = from2;
      this.to = to;
      this.value = value;
      this.maxPoint = maxPoint;
    }
    get length() {
      return this.to[this.to.length - 1];
    }
    findIndex(pos, side, end, startAt = 0) {
      let arr = end ? this.to : this.from;
      for (let lo = startAt, hi = arr.length; ; ) {
        if (lo == hi)
          return lo;
        let mid = lo + hi >> 1;
        let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;
        if (mid == lo)
          return diff >= 0 ? lo : hi;
        if (diff >= 0)
          hi = mid;
        else
          lo = mid + 1;
      }
    }
    between(offset, from2, to, f) {
      for (let i = this.findIndex(from2, -1e9, true), e = this.findIndex(to, 1e9, false, i); i < e; i++)
        if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)
          return false;
    }
    map(offset, changes) {
      let value = [], from2 = [], to = [], newPos = -1, maxPoint = -1;
      for (let i = 0; i < this.value.length; i++) {
        let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;
        if (curFrom == curTo) {
          let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);
          if (mapped == null)
            continue;
          newFrom = newTo = mapped;
          if (val.startSide != val.endSide) {
            newTo = changes.mapPos(curFrom, val.endSide);
            if (newTo < newFrom)
              continue;
          }
        } else {
          newFrom = changes.mapPos(curFrom, val.startSide);
          newTo = changes.mapPos(curTo, val.endSide);
          if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)
            continue;
        }
        if ((newTo - newFrom || val.endSide - val.startSide) < 0)
          continue;
        if (newPos < 0)
          newPos = newFrom;
        if (val.point)
          maxPoint = Math.max(maxPoint, newTo - newFrom);
        value.push(val);
        from2.push(newFrom - newPos);
        to.push(newTo - newPos);
      }
      return {mapped: value.length ? new Chunk(from2, to, value, maxPoint) : null, pos: newPos};
    }
  };
  var RangeSet = class {
    constructor(chunkPos, chunk, nextLayer, maxPoint) {
      this.chunkPos = chunkPos;
      this.chunk = chunk;
      this.nextLayer = nextLayer;
      this.maxPoint = maxPoint;
    }
    static create(chunkPos, chunk, nextLayer, maxPoint) {
      return new RangeSet(chunkPos, chunk, nextLayer, maxPoint);
    }
    get length() {
      let last = this.chunk.length - 1;
      return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);
    }
    get size() {
      if (this.isEmpty)
        return 0;
      let size = this.nextLayer.size;
      for (let chunk of this.chunk)
        size += chunk.value.length;
      return size;
    }
    chunkEnd(index) {
      return this.chunkPos[index] + this.chunk[index].length;
    }
    update(updateSpec) {
      let {add = [], sort = false, filterFrom = 0, filterTo = this.length} = updateSpec;
      let filter = updateSpec.filter;
      if (add.length == 0 && !filter)
        return this;
      if (sort)
        add = add.slice().sort(cmpRange);
      if (this.isEmpty)
        return add.length ? RangeSet.of(add) : this;
      let cur2 = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];
      let builder = new RangeSetBuilder();
      while (cur2.value || i < add.length) {
        if (i < add.length && (cur2.from - add[i].from || cur2.startSide - add[i].value.startSide) >= 0) {
          let range = add[i++];
          if (!builder.addInner(range.from, range.to, range.value))
            spill.push(range);
        } else if (cur2.rangeIndex == 1 && cur2.chunkIndex < this.chunk.length && (i == add.length || this.chunkEnd(cur2.chunkIndex) < add[i].from) && (!filter || filterFrom > this.chunkEnd(cur2.chunkIndex) || filterTo < this.chunkPos[cur2.chunkIndex]) && builder.addChunk(this.chunkPos[cur2.chunkIndex], this.chunk[cur2.chunkIndex])) {
          cur2.nextChunk();
        } else {
          if (!filter || filterFrom > cur2.to || filterTo < cur2.from || filter(cur2.from, cur2.to, cur2.value)) {
            if (!builder.addInner(cur2.from, cur2.to, cur2.value))
              spill.push(Range.create(cur2.from, cur2.to, cur2.value));
          }
          cur2.next();
        }
      }
      return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty : this.nextLayer.update({add: spill, filter, filterFrom, filterTo}));
    }
    map(changes) {
      if (changes.empty || this.isEmpty)
        return this;
      let chunks = [], chunkPos = [], maxPoint = -1;
      for (let i = 0; i < this.chunk.length; i++) {
        let start = this.chunkPos[i], chunk = this.chunk[i];
        let touch = changes.touchesRange(start, start + chunk.length);
        if (touch === false) {
          maxPoint = Math.max(maxPoint, chunk.maxPoint);
          chunks.push(chunk);
          chunkPos.push(changes.mapPos(start));
        } else if (touch === true) {
          let {mapped, pos} = chunk.map(start, changes);
          if (mapped) {
            maxPoint = Math.max(maxPoint, mapped.maxPoint);
            chunks.push(mapped);
            chunkPos.push(pos);
          }
        }
      }
      let next = this.nextLayer.map(changes);
      return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next || RangeSet.empty, maxPoint);
    }
    between(from2, to, f) {
      if (this.isEmpty)
        return;
      for (let i = 0; i < this.chunk.length; i++) {
        let start = this.chunkPos[i], chunk = this.chunk[i];
        if (to >= start && from2 <= start + chunk.length && chunk.between(start, from2 - start, to - start, f) === false)
          return;
      }
      this.nextLayer.between(from2, to, f);
    }
    iter(from2 = 0) {
      return HeapCursor.from([this]).goto(from2);
    }
    get isEmpty() {
      return this.nextLayer == this;
    }
    static iter(sets, from2 = 0) {
      return HeapCursor.from(sets).goto(from2);
    }
    static compare(oldSets, newSets, textDiff, comparator, minPointSize = -1) {
      let a = oldSets.filter((set) => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);
      let b = newSets.filter((set) => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);
      let sharedChunks = findSharedChunks(a, b, textDiff);
      let sideA = new SpanCursor(a, sharedChunks, minPointSize);
      let sideB = new SpanCursor(b, sharedChunks, minPointSize);
      textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));
      if (textDiff.empty && textDiff.length == 0)
        compare(sideA, 0, sideB, 0, 0, comparator);
    }
    static eq(oldSets, newSets, from2 = 0, to) {
      if (to == null)
        to = 1e9 - 1;
      let a = oldSets.filter((set) => !set.isEmpty && newSets.indexOf(set) < 0);
      let b = newSets.filter((set) => !set.isEmpty && oldSets.indexOf(set) < 0);
      if (a.length != b.length)
        return false;
      if (!a.length)
        return true;
      let sharedChunks = findSharedChunks(a, b);
      let sideA = new SpanCursor(a, sharedChunks, 0).goto(from2), sideB = new SpanCursor(b, sharedChunks, 0).goto(from2);
      for (; ; ) {
        if (sideA.to != sideB.to || !sameValues(sideA.active, sideB.active) || sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))
          return false;
        if (sideA.to > to)
          return true;
        sideA.next();
        sideB.next();
      }
    }
    static spans(sets, from2, to, iterator, minPointSize = -1) {
      let cursor = new SpanCursor(sets, null, minPointSize).goto(from2), pos = from2;
      let openRanges = cursor.openStart;
      for (; ; ) {
        let curTo = Math.min(cursor.to, to);
        if (cursor.point) {
          let active = cursor.activeForPoint(cursor.to);
          let openCount = cursor.pointFrom < from2 ? active.length + 1 : Math.min(active.length, openRanges);
          iterator.point(pos, curTo, cursor.point, active, openCount, cursor.pointRank);
          openRanges = Math.min(cursor.openEnd(curTo), active.length);
        } else if (curTo > pos) {
          iterator.span(pos, curTo, cursor.active, openRanges);
          openRanges = cursor.openEnd(curTo);
        }
        if (cursor.to > to)
          return openRanges + (cursor.point && cursor.to > to ? 1 : 0);
        pos = cursor.to;
        cursor.next();
      }
    }
    static of(ranges, sort = false) {
      let build = new RangeSetBuilder();
      for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)
        build.add(range.from, range.to, range.value);
      return build.finish();
    }
  };
  RangeSet.empty = /* @__PURE__ */ new RangeSet([], [], null, -1);
  function lazySort(ranges) {
    if (ranges.length > 1)
      for (let prev = ranges[0], i = 1; i < ranges.length; i++) {
        let cur2 = ranges[i];
        if (cmpRange(prev, cur2) > 0)
          return ranges.slice().sort(cmpRange);
        prev = cur2;
      }
    return ranges;
  }
  RangeSet.empty.nextLayer = RangeSet.empty;
  var RangeSetBuilder = class {
    constructor() {
      this.chunks = [];
      this.chunkPos = [];
      this.chunkStart = -1;
      this.last = null;
      this.lastFrom = -1e9;
      this.lastTo = -1e9;
      this.from = [];
      this.to = [];
      this.value = [];
      this.maxPoint = -1;
      this.setMaxPoint = -1;
      this.nextLayer = null;
    }
    finishChunk(newArrays) {
      this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));
      this.chunkPos.push(this.chunkStart);
      this.chunkStart = -1;
      this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);
      this.maxPoint = -1;
      if (newArrays) {
        this.from = [];
        this.to = [];
        this.value = [];
      }
    }
    add(from2, to, value) {
      if (!this.addInner(from2, to, value))
        (this.nextLayer || (this.nextLayer = new RangeSetBuilder())).add(from2, to, value);
    }
    addInner(from2, to, value) {
      let diff = from2 - this.lastTo || value.startSide - this.last.endSide;
      if (diff <= 0 && (from2 - this.lastFrom || value.startSide - this.last.startSide) < 0)
        throw new Error("Ranges must be added sorted by `from` position and `startSide`");
      if (diff < 0)
        return false;
      if (this.from.length == 250)
        this.finishChunk(true);
      if (this.chunkStart < 0)
        this.chunkStart = from2;
      this.from.push(from2 - this.chunkStart);
      this.to.push(to - this.chunkStart);
      this.last = value;
      this.lastFrom = from2;
      this.lastTo = to;
      this.value.push(value);
      if (value.point)
        this.maxPoint = Math.max(this.maxPoint, to - from2);
      return true;
    }
    addChunk(from2, chunk) {
      if ((from2 - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)
        return false;
      if (this.from.length)
        this.finishChunk(true);
      this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);
      this.chunks.push(chunk);
      this.chunkPos.push(from2);
      let last = chunk.value.length - 1;
      this.last = chunk.value[last];
      this.lastFrom = chunk.from[last] + from2;
      this.lastTo = chunk.to[last] + from2;
      return true;
    }
    finish() {
      return this.finishInner(RangeSet.empty);
    }
    finishInner(next) {
      if (this.from.length)
        this.finishChunk(false);
      if (this.chunks.length == 0)
        return next;
      let result = RangeSet.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);
      this.from = null;
      return result;
    }
  };
  function findSharedChunks(a, b, textDiff) {
    let inA = new Map();
    for (let set of a)
      for (let i = 0; i < set.chunk.length; i++)
        if (set.chunk[i].maxPoint <= 0)
          inA.set(set.chunk[i], set.chunkPos[i]);
    let shared = new Set();
    for (let set of b)
      for (let i = 0; i < set.chunk.length; i++) {
        let known = inA.get(set.chunk[i]);
        if (known != null && (textDiff ? textDiff.mapPos(known) : known) == set.chunkPos[i] && !(textDiff === null || textDiff === void 0 ? void 0 : textDiff.touchesRange(known, known + set.chunk[i].length)))
          shared.add(set.chunk[i]);
      }
    return shared;
  }
  var LayerCursor = class {
    constructor(layer, skip, minPoint, rank = 0) {
      this.layer = layer;
      this.skip = skip;
      this.minPoint = minPoint;
      this.rank = rank;
    }
    get startSide() {
      return this.value ? this.value.startSide : 0;
    }
    get endSide() {
      return this.value ? this.value.endSide : 0;
    }
    goto(pos, side = -1e9) {
      this.chunkIndex = this.rangeIndex = 0;
      this.gotoInner(pos, side, false);
      return this;
    }
    gotoInner(pos, side, forward) {
      while (this.chunkIndex < this.layer.chunk.length) {
        let next = this.layer.chunk[this.chunkIndex];
        if (!(this.skip && this.skip.has(next) || this.layer.chunkEnd(this.chunkIndex) < pos || next.maxPoint < this.minPoint))
          break;
        this.chunkIndex++;
        forward = false;
      }
      if (this.chunkIndex < this.layer.chunk.length) {
        let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);
        if (!forward || this.rangeIndex < rangeIndex)
          this.setRangeIndex(rangeIndex);
      }
      this.next();
    }
    forward(pos, side) {
      if ((this.to - pos || this.endSide - side) < 0)
        this.gotoInner(pos, side, true);
    }
    next() {
      for (; ; ) {
        if (this.chunkIndex == this.layer.chunk.length) {
          this.from = this.to = 1e9;
          this.value = null;
          break;
        } else {
          let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];
          let from2 = chunkPos + chunk.from[this.rangeIndex];
          this.from = from2;
          this.to = chunkPos + chunk.to[this.rangeIndex];
          this.value = chunk.value[this.rangeIndex];
          this.setRangeIndex(this.rangeIndex + 1);
          if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)
            break;
        }
      }
    }
    setRangeIndex(index) {
      if (index == this.layer.chunk[this.chunkIndex].value.length) {
        this.chunkIndex++;
        if (this.skip) {
          while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))
            this.chunkIndex++;
        }
        this.rangeIndex = 0;
      } else {
        this.rangeIndex = index;
      }
    }
    nextChunk() {
      this.chunkIndex++;
      this.rangeIndex = 0;
      this.next();
    }
    compare(other) {
      return this.from - other.from || this.startSide - other.startSide || this.rank - other.rank || this.to - other.to || this.endSide - other.endSide;
    }
  };
  var HeapCursor = class {
    constructor(heap) {
      this.heap = heap;
    }
    static from(sets, skip = null, minPoint = -1) {
      let heap = [];
      for (let i = 0; i < sets.length; i++) {
        for (let cur2 = sets[i]; !cur2.isEmpty; cur2 = cur2.nextLayer) {
          if (cur2.maxPoint >= minPoint)
            heap.push(new LayerCursor(cur2, skip, minPoint, i));
        }
      }
      return heap.length == 1 ? heap[0] : new HeapCursor(heap);
    }
    get startSide() {
      return this.value ? this.value.startSide : 0;
    }
    goto(pos, side = -1e9) {
      for (let cur2 of this.heap)
        cur2.goto(pos, side);
      for (let i = this.heap.length >> 1; i >= 0; i--)
        heapBubble(this.heap, i);
      this.next();
      return this;
    }
    forward(pos, side) {
      for (let cur2 of this.heap)
        cur2.forward(pos, side);
      for (let i = this.heap.length >> 1; i >= 0; i--)
        heapBubble(this.heap, i);
      if ((this.to - pos || this.value.endSide - side) < 0)
        this.next();
    }
    next() {
      if (this.heap.length == 0) {
        this.from = this.to = 1e9;
        this.value = null;
        this.rank = -1;
      } else {
        let top2 = this.heap[0];
        this.from = top2.from;
        this.to = top2.to;
        this.value = top2.value;
        this.rank = top2.rank;
        if (top2.value)
          top2.next();
        heapBubble(this.heap, 0);
      }
    }
  };
  function heapBubble(heap, index) {
    for (let cur2 = heap[index]; ; ) {
      let childIndex = (index << 1) + 1;
      if (childIndex >= heap.length)
        break;
      let child = heap[childIndex];
      if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {
        child = heap[childIndex + 1];
        childIndex++;
      }
      if (cur2.compare(child) < 0)
        break;
      heap[childIndex] = cur2;
      heap[index] = child;
      index = childIndex;
    }
  }
  var SpanCursor = class {
    constructor(sets, skip, minPoint) {
      this.minPoint = minPoint;
      this.active = [];
      this.activeTo = [];
      this.activeRank = [];
      this.minActive = -1;
      this.point = null;
      this.pointFrom = 0;
      this.pointRank = 0;
      this.to = -1e9;
      this.endSide = 0;
      this.openStart = -1;
      this.cursor = HeapCursor.from(sets, skip, minPoint);
    }
    goto(pos, side = -1e9) {
      this.cursor.goto(pos, side);
      this.active.length = this.activeTo.length = this.activeRank.length = 0;
      this.minActive = -1;
      this.to = pos;
      this.endSide = side;
      this.openStart = -1;
      this.next();
      return this;
    }
    forward(pos, side) {
      while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)
        this.removeActive(this.minActive);
      this.cursor.forward(pos, side);
    }
    removeActive(index) {
      remove(this.active, index);
      remove(this.activeTo, index);
      remove(this.activeRank, index);
      this.minActive = findMinIndex(this.active, this.activeTo);
    }
    addActive(trackOpen) {
      let i = 0, {value, to, rank} = this.cursor;
      while (i < this.activeRank.length && this.activeRank[i] <= rank)
        i++;
      insert(this.active, i, value);
      insert(this.activeTo, i, to);
      insert(this.activeRank, i, rank);
      if (trackOpen)
        insert(trackOpen, i, this.cursor.from);
      this.minActive = findMinIndex(this.active, this.activeTo);
    }
    next() {
      let from2 = this.to, wasPoint = this.point;
      this.point = null;
      let trackOpen = this.openStart < 0 ? [] : null;
      for (; ; ) {
        let a = this.minActive;
        if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {
          if (this.activeTo[a] > from2) {
            this.to = this.activeTo[a];
            this.endSide = this.active[a].endSide;
            break;
          }
          this.removeActive(a);
          if (trackOpen)
            remove(trackOpen, a);
        } else if (!this.cursor.value) {
          this.to = this.endSide = 1e9;
          break;
        } else if (this.cursor.from > from2) {
          this.to = this.cursor.from;
          this.endSide = this.cursor.startSide;
          break;
        } else {
          let nextVal = this.cursor.value;
          if (!nextVal.point) {
            this.addActive(trackOpen);
            this.cursor.next();
          } else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to) {
            this.cursor.next();
          } else {
            this.point = nextVal;
            this.pointFrom = this.cursor.from;
            this.pointRank = this.cursor.rank;
            this.to = this.cursor.to;
            this.endSide = nextVal.endSide;
            this.cursor.next();
            this.forward(this.to, this.endSide);
            break;
          }
        }
      }
      if (trackOpen) {
        this.openStart = 0;
        for (let i = trackOpen.length - 1; i >= 0 && trackOpen[i] < from2; i--)
          this.openStart++;
      }
    }
    activeForPoint(to) {
      if (!this.active.length)
        return this.active;
      let active = [];
      for (let i = this.active.length - 1; i >= 0; i--) {
        if (this.activeRank[i] < this.pointRank)
          break;
        if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)
          active.push(this.active[i]);
      }
      return active.reverse();
    }
    openEnd(to) {
      let open = 0;
      for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)
        open++;
      return open;
    }
  };
  function compare(a, startA, b, startB, length, comparator) {
    a.goto(startA);
    b.goto(startB);
    let endB = startB + length;
    let pos = startB, dPos = startB - startA;
    for (; ; ) {
      let diff = a.to + dPos - b.to || a.endSide - b.endSide;
      let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);
      if (a.point || b.point) {
        if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) && sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))
          comparator.comparePoint(pos, clipEnd, a.point, b.point);
      } else {
        if (clipEnd > pos && !sameValues(a.active, b.active))
          comparator.compareRange(pos, clipEnd, a.active, b.active);
      }
      if (end > endB)
        break;
      pos = end;
      if (diff <= 0)
        a.next();
      if (diff >= 0)
        b.next();
    }
  }
  function sameValues(a, b) {
    if (a.length != b.length)
      return false;
    for (let i = 0; i < a.length; i++)
      if (a[i] != b[i] && !a[i].eq(b[i]))
        return false;
    return true;
  }
  function remove(array2, index) {
    for (let i = index, e = array2.length - 1; i < e; i++)
      array2[i] = array2[i + 1];
    array2.pop();
  }
  function insert(array2, index, value) {
    for (let i = array2.length - 1; i >= index; i--)
      array2[i + 1] = array2[i];
    array2[index] = value;
  }
  function findMinIndex(value, array2) {
    let found = -1, foundPos = 1e9;
    for (let i = 0; i < array2.length; i++)
      if ((array2[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {
        found = i;
        foundPos = array2[i];
      }
    return found;
  }
  function countColumn(string2, tabSize, to = string2.length) {
    let n = 0;
    for (let i = 0; i < to; ) {
      if (string2.charCodeAt(i) == 9) {
        n += tabSize - n % tabSize;
        i++;
      } else {
        n++;
        i = findClusterBreak(string2, i);
      }
    }
    return n;
  }
  function findColumn(string2, col, tabSize, strict) {
    for (let i = 0, n = 0; ; ) {
      if (n >= col)
        return i;
      if (i == string2.length)
        break;
      n += string2.charCodeAt(i) == 9 ? tabSize - n % tabSize : 1;
      i = findClusterBreak(string2, i);
    }
    return strict === true ? -1 : string2.length;
  }

  // node_modules/style-mod/src/style-mod.js
  var C = "\u037C";
  var COUNT = typeof Symbol == "undefined" ? "__" + C : Symbol.for(C);
  var SET = typeof Symbol == "undefined" ? "__styleSet" + Math.floor(Math.random() * 1e8) : Symbol("styleSet");
  var top = typeof globalThis != "undefined" ? globalThis : typeof window != "undefined" ? window : {};
  var StyleModule = class {
    constructor(spec, options) {
      this.rules = [];
      let {finish} = options || {};
      function splitSelector(selector) {
        return /^@/.test(selector) ? [selector] : selector.split(/,\s*/);
      }
      function render(selectors, spec2, target, isKeyframes) {
        let local = [], isAt = /^@(\w+)\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == "keyframes";
        if (isAt && spec2 == null)
          return target.push(selectors[0] + ";");
        for (let prop in spec2) {
          let value = spec2[prop];
          if (/&/.test(prop)) {
            render(prop.split(/,\s*/).map((part) => selectors.map((sel) => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)), value, target);
          } else if (value && typeof value == "object") {
            if (!isAt)
              throw new RangeError("The value of a property (" + prop + ") should be a primitive value.");
            render(splitSelector(prop), value, local, keyframes);
          } else if (value != null) {
            local.push(prop.replace(/_.*/, "").replace(/[A-Z]/g, (l) => "-" + l.toLowerCase()) + ": " + value + ";");
          }
        }
        if (local.length || keyframes) {
          target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(", ") + " {" + local.join(" ") + "}");
        }
      }
      for (let prop in spec)
        render(splitSelector(prop), spec[prop], this.rules);
    }
    getRules() {
      return this.rules.join("\n");
    }
    static newName() {
      let id2 = top[COUNT] || 1;
      top[COUNT] = id2 + 1;
      return C + id2.toString(36);
    }
    static mount(root, modules) {
      (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules]);
    }
  };
  var adoptedSet = null;
  var StyleSet = class {
    constructor(root) {
      if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != "undefined") {
        if (adoptedSet) {
          root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets);
          return root[SET] = adoptedSet;
        }
        this.sheet = new CSSStyleSheet();
        root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets);
        adoptedSet = this;
      } else {
        this.styleTag = (root.ownerDocument || root).createElement("style");
        let target = root.head || root;
        target.insertBefore(this.styleTag, target.firstChild);
      }
      this.modules = [];
      root[SET] = this;
    }
    mount(modules) {
      let sheet = this.sheet;
      let pos = 0, j = 0;
      for (let i = 0; i < modules.length; i++) {
        let mod = modules[i], index = this.modules.indexOf(mod);
        if (index < j && index > -1) {
          this.modules.splice(index, 1);
          j--;
          index = -1;
        }
        if (index == -1) {
          this.modules.splice(j++, 0, mod);
          if (sheet)
            for (let k = 0; k < mod.rules.length; k++)
              sheet.insertRule(mod.rules[k], pos++);
        } else {
          while (j < index)
            pos += this.modules[j++].rules.length;
          pos += mod.rules.length;
          j++;
        }
      }
      if (!sheet) {
        let text = "";
        for (let i = 0; i < this.modules.length; i++)
          text += this.modules[i].getRules() + "\n";
        this.styleTag.textContent = text;
      }
    }
  };

  // node_modules/w3c-keyname/index.es.js
  var base = {
    8: "Backspace",
    9: "Tab",
    10: "Enter",
    12: "NumLock",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    44: "PrintScreen",
    45: "Insert",
    46: "Delete",
    59: ";",
    61: "=",
    91: "Meta",
    92: "Meta",
    106: "*",
    107: "+",
    108: ",",
    109: "-",
    110: ".",
    111: "/",
    144: "NumLock",
    145: "ScrollLock",
    160: "Shift",
    161: "Shift",
    162: "Control",
    163: "Control",
    164: "Alt",
    165: "Alt",
    173: "-",
    186: ";",
    187: "=",
    188: ",",
    189: "-",
    190: ".",
    191: "/",
    192: "`",
    219: "[",
    220: "\\",
    221: "]",
    222: "'"
  };
  var shift = {
    48: ")",
    49: "!",
    50: "@",
    51: "#",
    52: "$",
    53: "%",
    54: "^",
    55: "&",
    56: "*",
    57: "(",
    59: ":",
    61: "+",
    173: "_",
    186: ":",
    187: "+",
    188: "<",
    189: "_",
    190: ">",
    191: "?",
    192: "~",
    219: "{",
    220: "|",
    221: "}",
    222: '"'
  };
  var chrome = typeof navigator != "undefined" && /Chrome\/(\d+)/.exec(navigator.userAgent);
  var gecko = typeof navigator != "undefined" && /Gecko\/\d+/.test(navigator.userAgent);
  var mac = typeof navigator != "undefined" && /Mac/.test(navigator.platform);
  var ie = typeof navigator != "undefined" && /MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);
  var brokenModifierNames = mac || chrome && +chrome[1] < 57;
  for (var i = 0; i < 10; i++)
    base[48 + i] = base[96 + i] = String(i);
  for (var i = 1; i <= 24; i++)
    base[i + 111] = "F" + i;
  for (var i = 65; i <= 90; i++) {
    base[i] = String.fromCharCode(i + 32);
    shift[i] = String.fromCharCode(i);
  }
  for (var code in base)
    if (!shift.hasOwnProperty(code))
      shift[code] = base[code];
  function keyName(event) {
    var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) || ie && event.shiftKey && event.key && event.key.length == 1 || event.key == "Unidentified";
    var name2 = !ignoreKey && event.key || (event.shiftKey ? shift : base)[event.keyCode] || event.key || "Unidentified";
    if (name2 == "Esc")
      name2 = "Escape";
    if (name2 == "Del")
      name2 = "Delete";
    if (name2 == "Left")
      name2 = "ArrowLeft";
    if (name2 == "Up")
      name2 = "ArrowUp";
    if (name2 == "Right")
      name2 = "ArrowRight";
    if (name2 == "Down")
      name2 = "ArrowDown";
    return name2;
  }

  // node_modules/@codemirror/view/dist/index.js
  function getSelection(root) {
    let target;
    if (root.nodeType == 11) {
      target = root.getSelection ? root : root.ownerDocument;
    } else {
      target = root;
    }
    return target.getSelection();
  }
  function contains(dom, node) {
    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;
  }
  function deepActiveElement(doc2) {
    let elt = doc2.activeElement;
    while (elt && elt.shadowRoot)
      elt = elt.shadowRoot.activeElement;
    return elt;
  }
  function hasSelection(dom, selection) {
    if (!selection.anchorNode)
      return false;
    try {
      return contains(dom, selection.anchorNode);
    } catch (_) {
      return false;
    }
  }
  function clientRectsFor(dom) {
    if (dom.nodeType == 3)
      return textRange(dom, 0, dom.nodeValue.length).getClientRects();
    else if (dom.nodeType == 1)
      return dom.getClientRects();
    else
      return [];
  }
  function isEquivalentPosition(node, off, targetNode, targetOff) {
    return targetNode ? scanFor(node, off, targetNode, targetOff, -1) || scanFor(node, off, targetNode, targetOff, 1) : false;
  }
  function domIndex(node) {
    for (var index = 0; ; index++) {
      node = node.previousSibling;
      if (!node)
        return index;
    }
  }
  function scanFor(node, off, targetNode, targetOff, dir) {
    for (; ; ) {
      if (node == targetNode && off == targetOff)
        return true;
      if (off == (dir < 0 ? 0 : maxOffset(node))) {
        if (node.nodeName == "DIV")
          return false;
        let parent = node.parentNode;
        if (!parent || parent.nodeType != 1)
          return false;
        off = domIndex(node) + (dir < 0 ? 0 : 1);
        node = parent;
      } else if (node.nodeType == 1) {
        node = node.childNodes[off + (dir < 0 ? -1 : 0)];
        if (node.nodeType == 1 && node.contentEditable == "false")
          return false;
        off = dir < 0 ? maxOffset(node) : 0;
      } else {
        return false;
      }
    }
  }
  function maxOffset(node) {
    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;
  }
  var Rect0 = {left: 0, right: 0, top: 0, bottom: 0};
  function flattenRect(rect, left) {
    let x = left ? rect.left : rect.right;
    return {left: x, right: x, top: rect.top, bottom: rect.bottom};
  }
  function windowRect(win) {
    return {
      left: 0,
      right: win.innerWidth,
      top: 0,
      bottom: win.innerHeight
    };
  }
  function scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {
    let doc2 = dom.ownerDocument, win = doc2.defaultView || window;
    for (let cur2 = dom; cur2; ) {
      if (cur2.nodeType == 1) {
        let bounding, top2 = cur2 == doc2.body;
        if (top2) {
          bounding = windowRect(win);
        } else {
          if (cur2.scrollHeight <= cur2.clientHeight && cur2.scrollWidth <= cur2.clientWidth) {
            cur2 = cur2.assignedSlot || cur2.parentNode;
            continue;
          }
          let rect2 = cur2.getBoundingClientRect();
          bounding = {
            left: rect2.left,
            right: rect2.left + cur2.clientWidth,
            top: rect2.top,
            bottom: rect2.top + cur2.clientHeight
          };
        }
        let moveX = 0, moveY = 0;
        if (y == "nearest") {
          if (rect.top < bounding.top) {
            moveY = -(bounding.top - rect.top + yMargin);
            if (side > 0 && rect.bottom > bounding.bottom + moveY)
              moveY = rect.bottom - bounding.bottom + moveY + yMargin;
          } else if (rect.bottom > bounding.bottom) {
            moveY = rect.bottom - bounding.bottom + yMargin;
            if (side < 0 && rect.top - moveY < bounding.top)
              moveY = -(bounding.top + moveY - rect.top + yMargin);
          }
        } else {
          let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;
          let targetTop = y == "center" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 : y == "start" || y == "center" && side < 0 ? rect.top - yMargin : rect.bottom - boundingHeight + yMargin;
          moveY = targetTop - bounding.top;
        }
        if (x == "nearest") {
          if (rect.left < bounding.left) {
            moveX = -(bounding.left - rect.left + xMargin);
            if (side > 0 && rect.right > bounding.right + moveX)
              moveX = rect.right - bounding.right + moveX + xMargin;
          } else if (rect.right > bounding.right) {
            moveX = rect.right - bounding.right + xMargin;
            if (side < 0 && rect.left < bounding.left + moveX)
              moveX = -(bounding.left + moveX - rect.left + xMargin);
          }
        } else {
          let targetLeft = x == "center" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 : x == "start" == ltr ? rect.left - xMargin : rect.right - (bounding.right - bounding.left) + xMargin;
          moveX = targetLeft - bounding.left;
        }
        if (moveX || moveY) {
          if (top2) {
            win.scrollBy(moveX, moveY);
          } else {
            let movedX = 0, movedY = 0;
            if (moveY) {
              let start = cur2.scrollTop;
              cur2.scrollTop += moveY;
              movedY = cur2.scrollTop - start;
            }
            if (moveX) {
              let start = cur2.scrollLeft;
              cur2.scrollLeft += moveX;
              movedX = cur2.scrollLeft - start;
            }
            rect = {
              left: rect.left - movedX,
              top: rect.top - movedY,
              right: rect.right - movedX,
              bottom: rect.bottom - movedY
            };
            if (movedX && Math.abs(movedX - moveX) < 1)
              x = "nearest";
            if (movedY && Math.abs(movedY - moveY) < 1)
              y = "nearest";
          }
        }
        if (top2)
          break;
        cur2 = cur2.assignedSlot || cur2.parentNode;
      } else if (cur2.nodeType == 11) {
        cur2 = cur2.host;
      } else {
        break;
      }
    }
  }
  var DOMSelectionState = class {
    constructor() {
      this.anchorNode = null;
      this.anchorOffset = 0;
      this.focusNode = null;
      this.focusOffset = 0;
    }
    eq(domSel) {
      return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset && this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;
    }
    setRange(range) {
      this.set(range.anchorNode, range.anchorOffset, range.focusNode, range.focusOffset);
    }
    set(anchorNode, anchorOffset, focusNode, focusOffset) {
      this.anchorNode = anchorNode;
      this.anchorOffset = anchorOffset;
      this.focusNode = focusNode;
      this.focusOffset = focusOffset;
    }
  };
  var preventScrollSupported = null;
  function focusPreventScroll(dom) {
    if (dom.setActive)
      return dom.setActive();
    if (preventScrollSupported)
      return dom.focus(preventScrollSupported);
    let stack = [];
    for (let cur2 = dom; cur2; cur2 = cur2.parentNode) {
      stack.push(cur2, cur2.scrollTop, cur2.scrollLeft);
      if (cur2 == cur2.ownerDocument)
        break;
    }
    dom.focus(preventScrollSupported == null ? {
      get preventScroll() {
        preventScrollSupported = {preventScroll: true};
        return true;
      }
    } : void 0);
    if (!preventScrollSupported) {
      preventScrollSupported = false;
      for (let i = 0; i < stack.length; ) {
        let elt = stack[i++], top2 = stack[i++], left = stack[i++];
        if (elt.scrollTop != top2)
          elt.scrollTop = top2;
        if (elt.scrollLeft != left)
          elt.scrollLeft = left;
      }
    }
  }
  var scratchRange;
  function textRange(node, from2, to = from2) {
    let range = scratchRange || (scratchRange = document.createRange());
    range.setEnd(node, to);
    range.setStart(node, from2);
    return range;
  }
  function dispatchKey(elt, name2, code) {
    let options = {key: name2, code: name2, keyCode: code, which: code, cancelable: true};
    let down = new KeyboardEvent("keydown", options);
    down.synthetic = true;
    elt.dispatchEvent(down);
    let up = new KeyboardEvent("keyup", options);
    up.synthetic = true;
    elt.dispatchEvent(up);
    return down.defaultPrevented || up.defaultPrevented;
  }
  function getRoot(node) {
    while (node) {
      if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))
        return node;
      node = node.assignedSlot || node.parentNode;
    }
    return null;
  }
  function clearAttributes(node) {
    while (node.attributes.length)
      node.removeAttributeNode(node.attributes[0]);
  }
  function atElementStart(doc2, selection) {
    let node = selection.focusNode, offset = selection.focusOffset;
    if (!node || selection.anchorNode != node || selection.anchorOffset != offset)
      return false;
    for (; ; ) {
      if (offset) {
        if (node.nodeType != 1)
          return false;
        let prev = node.childNodes[offset - 1];
        if (prev.contentEditable == "false")
          offset--;
        else {
          node = prev;
          offset = maxOffset(node);
        }
      } else if (node == doc2) {
        return true;
      } else {
        offset = domIndex(node);
        node = node.parentNode;
      }
    }
  }
  var DOMPos = class {
    constructor(node, offset, precise = true) {
      this.node = node;
      this.offset = offset;
      this.precise = precise;
    }
    static before(dom, precise) {
      return new DOMPos(dom.parentNode, domIndex(dom), precise);
    }
    static after(dom, precise) {
      return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise);
    }
  };
  var noChildren = [];
  var ContentView = class {
    constructor() {
      this.parent = null;
      this.dom = null;
      this.dirty = 2;
    }
    get editorView() {
      if (!this.parent)
        throw new Error("Accessing view in orphan content view");
      return this.parent.editorView;
    }
    get overrideDOMText() {
      return null;
    }
    get posAtStart() {
      return this.parent ? this.parent.posBefore(this) : 0;
    }
    get posAtEnd() {
      return this.posAtStart + this.length;
    }
    posBefore(view) {
      let pos = this.posAtStart;
      for (let child of this.children) {
        if (child == view)
          return pos;
        pos += child.length + child.breakAfter;
      }
      throw new RangeError("Invalid child in posBefore");
    }
    posAfter(view) {
      return this.posBefore(view) + view.length;
    }
    coordsAt(_pos, _side) {
      return null;
    }
    sync(track) {
      if (this.dirty & 2) {
        let parent = this.dom;
        let prev = null, next;
        for (let child of this.children) {
          if (child.dirty) {
            if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {
              let contentView = ContentView.get(next);
              if (!contentView || !contentView.parent && contentView.canReuseDOM(child))
                child.reuseDOM(next);
            }
            child.sync(track);
            child.dirty = 0;
          }
          next = prev ? prev.nextSibling : parent.firstChild;
          if (track && !track.written && track.node == parent && next != child.dom)
            track.written = true;
          if (child.dom.parentNode == parent) {
            while (next && next != child.dom)
              next = rm$1(next);
          } else {
            parent.insertBefore(child.dom, next);
          }
          prev = child.dom;
        }
        next = prev ? prev.nextSibling : parent.firstChild;
        if (next && track && track.node == parent)
          track.written = true;
        while (next)
          next = rm$1(next);
      } else if (this.dirty & 1) {
        for (let child of this.children)
          if (child.dirty) {
            child.sync(track);
            child.dirty = 0;
          }
      }
    }
    reuseDOM(_dom) {
    }
    localPosFromDOM(node, offset) {
      let after;
      if (node == this.dom) {
        after = this.dom.childNodes[offset];
      } else {
        let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;
        for (; ; ) {
          let parent = node.parentNode;
          if (parent == this.dom)
            break;
          if (bias == 0 && parent.firstChild != parent.lastChild) {
            if (node == parent.firstChild)
              bias = -1;
            else
              bias = 1;
          }
          node = parent;
        }
        if (bias < 0)
          after = node;
        else
          after = node.nextSibling;
      }
      if (after == this.dom.firstChild)
        return 0;
      while (after && !ContentView.get(after))
        after = after.nextSibling;
      if (!after)
        return this.length;
      for (let i = 0, pos = 0; ; i++) {
        let child = this.children[i];
        if (child.dom == after)
          return pos;
        pos += child.length + child.breakAfter;
      }
    }
    domBoundsAround(from2, to, offset = 0) {
      let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;
      for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {
        let child = this.children[i], end = pos + child.length;
        if (pos < from2 && end > to)
          return child.domBoundsAround(from2, to, pos);
        if (end >= from2 && fromI == -1) {
          fromI = i;
          fromStart = pos;
        }
        if (pos > to && child.dom.parentNode == this.dom) {
          toI = i;
          toEnd = prevEnd;
          break;
        }
        prevEnd = end;
        pos = end + child.breakAfter;
      }
      return {
        from: fromStart,
        to: toEnd < 0 ? offset + this.length : toEnd,
        startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,
        endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null
      };
    }
    markDirty(andParent = false) {
      this.dirty |= 2;
      this.markParentsDirty(andParent);
    }
    markParentsDirty(childList) {
      for (let parent = this.parent; parent; parent = parent.parent) {
        if (childList)
          parent.dirty |= 2;
        if (parent.dirty & 1)
          return;
        parent.dirty |= 1;
        childList = false;
      }
    }
    setParent(parent) {
      if (this.parent != parent) {
        this.parent = parent;
        if (this.dirty)
          this.markParentsDirty(true);
      }
    }
    setDOM(dom) {
      if (this.dom)
        this.dom.cmView = null;
      this.dom = dom;
      dom.cmView = this;
    }
    get rootView() {
      for (let v = this; ; ) {
        let parent = v.parent;
        if (!parent)
          return v;
        v = parent;
      }
    }
    replaceChildren(from2, to, children = noChildren) {
      this.markDirty();
      for (let i = from2; i < to; i++) {
        let child = this.children[i];
        if (child.parent == this)
          child.destroy();
      }
      this.children.splice(from2, to - from2, ...children);
      for (let i = 0; i < children.length; i++)
        children[i].setParent(this);
    }
    ignoreMutation(_rec) {
      return false;
    }
    ignoreEvent(_event) {
      return false;
    }
    childCursor(pos = this.length) {
      return new ChildCursor(this.children, pos, this.children.length);
    }
    childPos(pos, bias = 1) {
      return this.childCursor().findPos(pos, bias);
    }
    toString() {
      let name2 = this.constructor.name.replace("View", "");
      return name2 + (this.children.length ? "(" + this.children.join() + ")" : this.length ? "[" + (name2 == "Text" ? this.text : this.length) + "]" : "") + (this.breakAfter ? "#" : "");
    }
    static get(node) {
      return node.cmView;
    }
    get isEditable() {
      return true;
    }
    merge(from2, to, source, hasStart, openStart, openEnd) {
      return false;
    }
    become(other) {
      return false;
    }
    canReuseDOM(other) {
      return other.constructor == this.constructor;
    }
    getSide() {
      return 0;
    }
    destroy() {
      this.parent = null;
    }
  };
  ContentView.prototype.breakAfter = 0;
  function rm$1(dom) {
    let next = dom.nextSibling;
    dom.parentNode.removeChild(dom);
    return next;
  }
  var ChildCursor = class {
    constructor(children, pos, i) {
      this.children = children;
      this.pos = pos;
      this.i = i;
      this.off = 0;
    }
    findPos(pos, bias = 1) {
      for (; ; ) {
        if (pos > this.pos || pos == this.pos && (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {
          this.off = pos - this.pos;
          return this;
        }
        let next = this.children[--this.i];
        this.pos -= next.length + next.breakAfter;
      }
    }
  };
  function replaceRange(parent, fromI, fromOff, toI, toOff, insert2, breakAtStart, openStart, openEnd) {
    let {children} = parent;
    let before = children.length ? children[fromI] : null;
    let last = insert2.length ? insert2[insert2.length - 1] : null;
    let breakAtEnd = last ? last.breakAfter : breakAtStart;
    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert2.length < 2 && before.merge(fromOff, toOff, insert2.length ? last : null, fromOff == 0, openStart, openEnd))
      return;
    if (toI < children.length) {
      let after = children[toI];
      if (after && toOff < after.length) {
        if (fromI == toI) {
          after = after.split(toOff);
          toOff = 0;
        }
        if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {
          insert2[insert2.length - 1] = after;
        } else {
          if (toOff)
            after.merge(0, toOff, null, false, 0, openEnd);
          insert2.push(after);
        }
      } else if (after === null || after === void 0 ? void 0 : after.breakAfter) {
        if (last)
          last.breakAfter = 1;
        else
          breakAtStart = 1;
      }
      toI++;
    }
    if (before) {
      before.breakAfter = breakAtStart;
      if (fromOff > 0) {
        if (!breakAtStart && insert2.length && before.merge(fromOff, before.length, insert2[0], false, openStart, 0)) {
          before.breakAfter = insert2.shift().breakAfter;
        } else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {
          before.merge(fromOff, before.length, null, false, openStart, 0);
        }
        fromI++;
      }
    }
    while (fromI < toI && insert2.length) {
      if (children[toI - 1].become(insert2[insert2.length - 1])) {
        toI--;
        insert2.pop();
        openEnd = insert2.length ? 0 : openStart;
      } else if (children[fromI].become(insert2[0])) {
        fromI++;
        insert2.shift();
        openStart = insert2.length ? 0 : openEnd;
      } else {
        break;
      }
    }
    if (!insert2.length && fromI && toI < children.length && !children[fromI - 1].breakAfter && children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))
      fromI--;
    if (fromI < toI || insert2.length)
      parent.replaceChildren(fromI, toI, insert2);
  }
  function mergeChildrenInto(parent, from2, to, insert2, openStart, openEnd) {
    let cur2 = parent.childCursor();
    let {i: toI, off: toOff} = cur2.findPos(to, 1);
    let {i: fromI, off: fromOff} = cur2.findPos(from2, -1);
    let dLen = from2 - to;
    for (let view of insert2)
      dLen += view.length;
    parent.length += dLen;
    replaceRange(parent, fromI, fromOff, toI, toOff, insert2, 0, openStart, openEnd);
  }
  var nav = typeof navigator != "undefined" ? navigator : {userAgent: "", vendor: "", platform: ""};
  var doc = typeof document != "undefined" ? document : {documentElement: {style: {}}};
  var ie_edge = /* @__PURE__ */ /Edge\/(\d+)/.exec(nav.userAgent);
  var ie_upto10 = /* @__PURE__ */ /MSIE \d/.test(nav.userAgent);
  var ie_11up = /* @__PURE__ */ /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent);
  var ie2 = !!(ie_upto10 || ie_11up || ie_edge);
  var gecko2 = !ie2 && /* @__PURE__ */ /gecko\/(\d+)/i.test(nav.userAgent);
  var chrome2 = !ie2 && /* @__PURE__ */ /Chrome\/(\d+)/.exec(nav.userAgent);
  var webkit = "webkitFontSmoothing" in doc.documentElement.style;
  var safari = !ie2 && /* @__PURE__ */ /Apple Computer/.test(nav.vendor);
  var ios = safari && (/* @__PURE__ */ /Mobile\/\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);
  var browser = {
    mac: ios || /* @__PURE__ */ /Mac/.test(nav.platform),
    windows: /* @__PURE__ */ /Win/.test(nav.platform),
    linux: /* @__PURE__ */ /Linux|X11/.test(nav.platform),
    ie: ie2,
    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,
    gecko: gecko2,
    gecko_version: gecko2 ? +(/* @__PURE__ */ /Firefox\/(\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,
    chrome: !!chrome2,
    chrome_version: chrome2 ? +chrome2[1] : 0,
    ios,
    android: /* @__PURE__ */ /Android\b/.test(nav.userAgent),
    webkit,
    safari,
    webkit_version: webkit ? +(/* @__PURE__ */ /\bAppleWebKit\/(\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,
    tabSize: doc.documentElement.style.tabSize != null ? "tab-size" : "-moz-tab-size"
  };
  var MaxJoinLen = 256;
  var TextView = class extends ContentView {
    constructor(text) {
      super();
      this.text = text;
    }
    get length() {
      return this.text.length;
    }
    createDOM(textDOM) {
      this.setDOM(textDOM || document.createTextNode(this.text));
    }
    sync(track) {
      if (!this.dom)
        this.createDOM();
      if (this.dom.nodeValue != this.text) {
        if (track && track.node == this.dom)
          track.written = true;
        this.dom.nodeValue = this.text;
      }
    }
    reuseDOM(dom) {
      if (dom.nodeType == 3)
        this.createDOM(dom);
    }
    merge(from2, to, source) {
      if (source && (!(source instanceof TextView) || this.length - (to - from2) + source.length > MaxJoinLen))
        return false;
      this.text = this.text.slice(0, from2) + (source ? source.text : "") + this.text.slice(to);
      this.markDirty();
      return true;
    }
    split(from2) {
      let result = new TextView(this.text.slice(from2));
      this.text = this.text.slice(0, from2);
      this.markDirty();
      return result;
    }
    localPosFromDOM(node, offset) {
      return node == this.dom ? offset : offset ? this.text.length : 0;
    }
    domAtPos(pos) {
      return new DOMPos(this.dom, pos);
    }
    domBoundsAround(_from, _to, offset) {
      return {from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling};
    }
    coordsAt(pos, side) {
      return textCoords(this.dom, pos, side);
    }
  };
  var MarkView = class extends ContentView {
    constructor(mark, children = [], length = 0) {
      super();
      this.mark = mark;
      this.children = children;
      this.length = length;
      for (let ch of children)
        ch.setParent(this);
    }
    setAttrs(dom) {
      clearAttributes(dom);
      if (this.mark.class)
        dom.className = this.mark.class;
      if (this.mark.attrs)
        for (let name2 in this.mark.attrs)
          dom.setAttribute(name2, this.mark.attrs[name2]);
      return dom;
    }
    reuseDOM(node) {
      if (node.nodeName == this.mark.tagName.toUpperCase()) {
        this.setDOM(node);
        this.dirty |= 4 | 2;
      }
    }
    sync(track) {
      if (!this.dom)
        this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));
      else if (this.dirty & 4)
        this.setAttrs(this.dom);
      super.sync(track);
    }
    merge(from2, to, source, _hasStart, openStart, openEnd) {
      if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) || from2 && openStart <= 0 || to < this.length && openEnd <= 0))
        return false;
      mergeChildrenInto(this, from2, to, source ? source.children : [], openStart - 1, openEnd - 1);
      this.markDirty();
      return true;
    }
    split(from2) {
      let result = [], off = 0, detachFrom = -1, i = 0;
      for (let elt of this.children) {
        let end = off + elt.length;
        if (end > from2)
          result.push(off < from2 ? elt.split(from2 - off) : elt);
        if (detachFrom < 0 && off >= from2)
          detachFrom = i;
        off = end;
        i++;
      }
      let length = this.length - from2;
      this.length = from2;
      if (detachFrom > -1) {
        this.children.length = detachFrom;
        this.markDirty();
      }
      return new MarkView(this.mark, result, length);
    }
    domAtPos(pos) {
      return inlineDOMAtPos(this, pos);
    }
    coordsAt(pos, side) {
      return coordsInChildren(this, pos, side);
    }
  };
  function textCoords(text, pos, side) {
    let length = text.nodeValue.length;
    if (pos > length)
      pos = length;
    let from2 = pos, to = pos, flatten2 = 0;
    if (pos == 0 && side < 0 || pos == length && side >= 0) {
      if (!(browser.chrome || browser.gecko)) {
        if (pos) {
          from2--;
          flatten2 = 1;
        } else if (to < length) {
          to++;
          flatten2 = -1;
        }
      }
    } else {
      if (side < 0)
        from2--;
      else if (to < length)
        to++;
    }
    let rects = textRange(text, from2, to).getClientRects();
    if (!rects.length)
      return Rect0;
    let rect = rects[(flatten2 ? flatten2 < 0 : side >= 0) ? 0 : rects.length - 1];
    if (browser.safari && !flatten2 && rect.width == 0)
      rect = Array.prototype.find.call(rects, (r) => r.width) || rect;
    return flatten2 ? flattenRect(rect, flatten2 < 0) : rect || null;
  }
  var WidgetView = class extends ContentView {
    constructor(widget, length, side) {
      super();
      this.widget = widget;
      this.length = length;
      this.side = side;
      this.prevWidget = null;
    }
    static create(widget, length, side) {
      return new (widget.customView || WidgetView)(widget, length, side);
    }
    split(from2) {
      let result = WidgetView.create(this.widget, this.length - from2, this.side);
      this.length -= from2;
      return result;
    }
    sync() {
      if (!this.dom || !this.widget.updateDOM(this.dom)) {
        if (this.dom && this.prevWidget)
          this.prevWidget.destroy(this.dom);
        this.prevWidget = null;
        this.setDOM(this.widget.toDOM(this.editorView));
        this.dom.contentEditable = "false";
      }
    }
    getSide() {
      return this.side;
    }
    merge(from2, to, source, hasStart, openStart, openEnd) {
      if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) || from2 > 0 && openStart <= 0 || to < this.length && openEnd <= 0))
        return false;
      this.length = from2 + (source ? source.length : 0) + (this.length - to);
      return true;
    }
    become(other) {
      if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {
        if (this.widget.constructor == other.widget.constructor) {
          if (!this.widget.eq(other.widget))
            this.markDirty(true);
          if (this.dom && !this.prevWidget)
            this.prevWidget = this.widget;
          this.widget = other.widget;
          return true;
        }
      }
      return false;
    }
    ignoreMutation() {
      return true;
    }
    ignoreEvent(event) {
      return this.widget.ignoreEvent(event);
    }
    get overrideDOMText() {
      if (this.length == 0)
        return Text.empty;
      let top2 = this;
      while (top2.parent)
        top2 = top2.parent;
      let view = top2.editorView, text = view && view.state.doc, start = this.posAtStart;
      return text ? text.slice(start, start + this.length) : Text.empty;
    }
    domAtPos(pos) {
      return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);
    }
    domBoundsAround() {
      return null;
    }
    coordsAt(pos, side) {
      let rects = this.dom.getClientRects(), rect = null;
      if (!rects.length)
        return Rect0;
      for (let i = pos > 0 ? rects.length - 1 : 0; ; i += pos > 0 ? -1 : 1) {
        rect = rects[i];
        if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)
          break;
      }
      return this.length ? rect : flattenRect(rect, this.side > 0);
    }
    get isEditable() {
      return false;
    }
    destroy() {
      super.destroy();
      if (this.dom)
        this.widget.destroy(this.dom);
    }
  };
  var CompositionView = class extends WidgetView {
    domAtPos(pos) {
      let {topView, text} = this.widget;
      if (!topView)
        return new DOMPos(text, Math.min(pos, text.nodeValue.length));
      return scanCompositionTree(pos, 0, topView, text, (v, p) => v.domAtPos(p), (p) => new DOMPos(text, Math.min(p, text.nodeValue.length)));
    }
    sync() {
      this.setDOM(this.widget.toDOM());
    }
    localPosFromDOM(node, offset) {
      let {topView, text} = this.widget;
      if (!topView)
        return Math.min(offset, this.length);
      return posFromDOMInCompositionTree(node, offset, topView, text);
    }
    ignoreMutation() {
      return false;
    }
    get overrideDOMText() {
      return null;
    }
    coordsAt(pos, side) {
      let {topView, text} = this.widget;
      if (!topView)
        return textCoords(text, pos, side);
      return scanCompositionTree(pos, side, topView, text, (v, pos2, side2) => v.coordsAt(pos2, side2), (pos2, side2) => textCoords(text, pos2, side2));
    }
    destroy() {
      var _a2;
      super.destroy();
      (_a2 = this.widget.topView) === null || _a2 === void 0 ? void 0 : _a2.destroy();
    }
    get isEditable() {
      return true;
    }
    canReuseDOM() {
      return true;
    }
  };
  function scanCompositionTree(pos, side, view, text, enterView, fromText) {
    if (view instanceof MarkView) {
      for (let child = view.dom.firstChild; child; child = child.nextSibling) {
        let desc = ContentView.get(child);
        if (!desc)
          return fromText(pos, side);
        let hasComp = contains(child, text);
        let len = desc.length + (hasComp ? text.nodeValue.length : 0);
        if (pos < len || pos == len && desc.getSide() <= 0)
          return hasComp ? scanCompositionTree(pos, side, desc, text, enterView, fromText) : enterView(desc, pos, side);
        pos -= len;
      }
      return enterView(view, view.length, -1);
    } else if (view.dom == text) {
      return fromText(pos, side);
    } else {
      return enterView(view, pos, side);
    }
  }
  function posFromDOMInCompositionTree(node, offset, view, text) {
    if (view instanceof MarkView) {
      for (let child of view.children) {
        let pos = 0, hasComp = contains(child.dom, text);
        if (contains(child.dom, node))
          return pos + (hasComp ? posFromDOMInCompositionTree(node, offset, child, text) : child.localPosFromDOM(node, offset));
        pos += hasComp ? text.nodeValue.length : child.length;
      }
    } else if (view.dom == text) {
      return Math.min(offset, text.nodeValue.length);
    }
    return view.localPosFromDOM(node, offset);
  }
  var WidgetBufferView = class extends ContentView {
    constructor(side) {
      super();
      this.side = side;
    }
    get length() {
      return 0;
    }
    merge() {
      return false;
    }
    become(other) {
      return other instanceof WidgetBufferView && other.side == this.side;
    }
    split() {
      return new WidgetBufferView(this.side);
    }
    sync() {
      if (!this.dom) {
        let dom = document.createElement("img");
        dom.className = "cm-widgetBuffer";
        dom.setAttribute("aria-hidden", "true");
        this.setDOM(dom);
      }
    }
    getSide() {
      return this.side;
    }
    domAtPos(pos) {
      return DOMPos.before(this.dom);
    }
    localPosFromDOM() {
      return 0;
    }
    domBoundsAround() {
      return null;
    }
    coordsAt(pos) {
      let imgRect = this.dom.getBoundingClientRect();
      let siblingRect = inlineSiblingRect(this, this.side > 0 ? -1 : 1);
      return siblingRect && siblingRect.top < imgRect.bottom && siblingRect.bottom > imgRect.top ? {left: imgRect.left, right: imgRect.right, top: siblingRect.top, bottom: siblingRect.bottom} : imgRect;
    }
    get overrideDOMText() {
      return Text.empty;
    }
  };
  TextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;
  function inlineSiblingRect(view, side) {
    let parent = view.parent, index = parent ? parent.children.indexOf(view) : -1;
    while (parent && index >= 0) {
      if (side < 0 ? index > 0 : index < parent.children.length) {
        let next = parent.children[index + side];
        if (next instanceof TextView) {
          let nextRect = next.coordsAt(side < 0 ? next.length : 0, side);
          if (nextRect)
            return nextRect;
        }
        index += side;
      } else if (parent instanceof MarkView && parent.parent) {
        index = parent.parent.children.indexOf(parent) + (side < 0 ? 0 : 1);
        parent = parent.parent;
      } else {
        let last = parent.dom.lastChild;
        if (last && last.nodeName == "BR")
          return last.getClientRects()[0];
        break;
      }
    }
    return void 0;
  }
  function inlineDOMAtPos(parent, pos) {
    let dom = parent.dom, {children} = parent, i = 0;
    for (let off = 0; i < children.length; i++) {
      let child = children[i], end = off + child.length;
      if (end == off && child.getSide() <= 0)
        continue;
      if (pos > off && pos < end && child.dom.parentNode == dom)
        return child.domAtPos(pos - off);
      if (pos <= off)
        break;
      off = end;
    }
    for (let j = i; j > 0; j--) {
      let prev = children[j - 1];
      if (prev.dom.parentNode == dom)
        return prev.domAtPos(prev.length);
    }
    for (let j = i; j < children.length; j++) {
      let next = children[j];
      if (next.dom.parentNode == dom)
        return next.domAtPos(0);
    }
    return new DOMPos(dom, 0);
  }
  function joinInlineInto(parent, view, open) {
    let last, {children} = parent;
    if (open > 0 && view instanceof MarkView && children.length && (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {
      joinInlineInto(last, view.children[0], open - 1);
    } else {
      children.push(view);
      view.setParent(parent);
    }
    parent.length += view.length;
  }
  function coordsInChildren(view, pos, side) {
    let before = null, beforePos = -1, after = null, afterPos = -1;
    function scan(view2, pos2) {
      for (let i = 0, off = 0; i < view2.children.length && off <= pos2; i++) {
        let child = view2.children[i], end = off + child.length;
        if (end >= pos2) {
          if (child.children.length) {
            scan(child, pos2 - off);
          } else if (!after && (end > pos2 || off == end && child.getSide() > 0)) {
            after = child;
            afterPos = pos2 - off;
          } else if (off < pos2 || off == end && child.getSide() < 0) {
            before = child;
            beforePos = pos2 - off;
          }
        }
        off = end;
      }
    }
    scan(view, pos);
    let target = (side < 0 ? before : after) || before || after;
    if (target)
      return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);
    return fallbackRect(view);
  }
  function fallbackRect(view) {
    let last = view.dom.lastChild;
    if (!last)
      return view.dom.getBoundingClientRect();
    let rects = clientRectsFor(last);
    return rects[rects.length - 1] || null;
  }
  function combineAttrs(source, target) {
    for (let name2 in source) {
      if (name2 == "class" && target.class)
        target.class += " " + source.class;
      else if (name2 == "style" && target.style)
        target.style += ";" + source.style;
      else
        target[name2] = source[name2];
    }
    return target;
  }
  function attrsEq(a, b) {
    if (a == b)
      return true;
    if (!a || !b)
      return false;
    let keysA = Object.keys(a), keysB = Object.keys(b);
    if (keysA.length != keysB.length)
      return false;
    for (let key of keysA) {
      if (keysB.indexOf(key) == -1 || a[key] !== b[key])
        return false;
    }
    return true;
  }
  function updateAttrs(dom, prev, attrs) {
    let changed = null;
    if (prev) {
      for (let name2 in prev)
        if (!(attrs && name2 in attrs))
          dom.removeAttribute(changed = name2);
    }
    if (attrs) {
      for (let name2 in attrs)
        if (!(prev && prev[name2] == attrs[name2]))
          dom.setAttribute(changed = name2, attrs[name2]);
    }
    return !!changed;
  }
  var WidgetType = class {
    eq(widget) {
      return false;
    }
    updateDOM(dom) {
      return false;
    }
    compare(other) {
      return this == other || this.constructor == other.constructor && this.eq(other);
    }
    get estimatedHeight() {
      return -1;
    }
    ignoreEvent(event) {
      return true;
    }
    get customView() {
      return null;
    }
    destroy(dom) {
    }
  };
  var BlockType = /* @__PURE__ */ function(BlockType2) {
    BlockType2[BlockType2["Text"] = 0] = "Text";
    BlockType2[BlockType2["WidgetBefore"] = 1] = "WidgetBefore";
    BlockType2[BlockType2["WidgetAfter"] = 2] = "WidgetAfter";
    BlockType2[BlockType2["WidgetRange"] = 3] = "WidgetRange";
    return BlockType2;
  }(BlockType || (BlockType = {}));
  var Decoration = class extends RangeValue {
    constructor(startSide, endSide, widget, spec) {
      super();
      this.startSide = startSide;
      this.endSide = endSide;
      this.widget = widget;
      this.spec = spec;
    }
    get heightRelevant() {
      return false;
    }
    static mark(spec) {
      return new MarkDecoration(spec);
    }
    static widget(spec) {
      let side = spec.side || 0, block = !!spec.block;
      side += block ? side > 0 ? 3e8 : -4e8 : side > 0 ? 1e8 : -1e8;
      return new PointDecoration(spec, side, side, block, spec.widget || null, false);
    }
    static replace(spec) {
      let block = !!spec.block, startSide, endSide;
      if (spec.isBlockGap) {
        startSide = -5e8;
        endSide = 4e8;
      } else {
        let {start, end} = getInclusive(spec, block);
        startSide = (start ? block ? -3e8 : -1 : 5e8) - 1;
        endSide = (end ? block ? 2e8 : 1 : -6e8) + 1;
      }
      return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);
    }
    static line(spec) {
      return new LineDecoration(spec);
    }
    static set(of, sort = false) {
      return RangeSet.of(of, sort);
    }
    hasHeight() {
      return this.widget ? this.widget.estimatedHeight > -1 : false;
    }
  };
  Decoration.none = RangeSet.empty;
  var MarkDecoration = class extends Decoration {
    constructor(spec) {
      let {start, end} = getInclusive(spec);
      super(start ? -1 : 5e8, end ? 1 : -6e8, null, spec);
      this.tagName = spec.tagName || "span";
      this.class = spec.class || "";
      this.attrs = spec.attributes || null;
    }
    eq(other) {
      return this == other || other instanceof MarkDecoration && this.tagName == other.tagName && this.class == other.class && attrsEq(this.attrs, other.attrs);
    }
    range(from2, to = from2) {
      if (from2 >= to)
        throw new RangeError("Mark decorations may not be empty");
      return super.range(from2, to);
    }
  };
  MarkDecoration.prototype.point = false;
  var LineDecoration = class extends Decoration {
    constructor(spec) {
      super(-2e8, -2e8, null, spec);
    }
    eq(other) {
      return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);
    }
    range(from2, to = from2) {
      if (to != from2)
        throw new RangeError("Line decoration ranges must be zero-length");
      return super.range(from2, to);
    }
  };
  LineDecoration.prototype.mapMode = MapMode.TrackBefore;
  LineDecoration.prototype.point = true;
  var PointDecoration = class extends Decoration {
    constructor(spec, startSide, endSide, block, widget, isReplace) {
      super(startSide, endSide, widget, spec);
      this.block = block;
      this.isReplace = isReplace;
      this.mapMode = !block ? MapMode.TrackDel : startSide <= 0 ? MapMode.TrackBefore : MapMode.TrackAfter;
    }
    get type() {
      return this.startSide < this.endSide ? BlockType.WidgetRange : this.startSide <= 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;
    }
    get heightRelevant() {
      return this.block || !!this.widget && this.widget.estimatedHeight >= 5;
    }
    eq(other) {
      return other instanceof PointDecoration && widgetsEq(this.widget, other.widget) && this.block == other.block && this.startSide == other.startSide && this.endSide == other.endSide;
    }
    range(from2, to = from2) {
      if (this.isReplace && (from2 > to || from2 == to && this.startSide > 0 && this.endSide <= 0))
        throw new RangeError("Invalid range for replacement decoration");
      if (!this.isReplace && to != from2)
        throw new RangeError("Widget decorations can only have zero-length ranges");
      return super.range(from2, to);
    }
  };
  PointDecoration.prototype.point = true;
  function getInclusive(spec, block = false) {
    let {inclusiveStart: start, inclusiveEnd: end} = spec;
    if (start == null)
      start = spec.inclusive;
    if (end == null)
      end = spec.inclusive;
    return {start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block};
  }
  function widgetsEq(a, b) {
    return a == b || !!(a && b && a.compare(b));
  }
  function addRange(from2, to, ranges, margin = 0) {
    let last = ranges.length - 1;
    if (last >= 0 && ranges[last] + margin >= from2)
      ranges[last] = Math.max(ranges[last], to);
    else
      ranges.push(from2, to);
  }
  var LineView = class extends ContentView {
    constructor() {
      super(...arguments);
      this.children = [];
      this.length = 0;
      this.prevAttrs = void 0;
      this.attrs = null;
      this.breakAfter = 0;
    }
    merge(from2, to, source, hasStart, openStart, openEnd) {
      if (source) {
        if (!(source instanceof LineView))
          return false;
        if (!this.dom)
          source.transferDOM(this);
      }
      if (hasStart)
        this.setDeco(source ? source.attrs : null);
      mergeChildrenInto(this, from2, to, source ? source.children : [], openStart, openEnd);
      return true;
    }
    split(at) {
      let end = new LineView();
      end.breakAfter = this.breakAfter;
      if (this.length == 0)
        return end;
      let {i, off} = this.childPos(at);
      if (off) {
        end.append(this.children[i].split(off), 0);
        this.children[i].merge(off, this.children[i].length, null, false, 0, 0);
        i++;
      }
      for (let j = i; j < this.children.length; j++)
        end.append(this.children[j], 0);
      while (i > 0 && this.children[i - 1].length == 0)
        this.children[--i].destroy();
      this.children.length = i;
      this.markDirty();
      this.length = at;
      return end;
    }
    transferDOM(other) {
      if (!this.dom)
        return;
      this.markDirty();
      other.setDOM(this.dom);
      other.prevAttrs = this.prevAttrs === void 0 ? this.attrs : this.prevAttrs;
      this.prevAttrs = void 0;
      this.dom = null;
    }
    setDeco(attrs) {
      if (!attrsEq(this.attrs, attrs)) {
        if (this.dom) {
          this.prevAttrs = this.attrs;
          this.markDirty();
        }
        this.attrs = attrs;
      }
    }
    append(child, openStart) {
      joinInlineInto(this, child, openStart);
    }
    addLineDeco(deco) {
      let attrs = deco.spec.attributes, cls = deco.spec.class;
      if (attrs)
        this.attrs = combineAttrs(attrs, this.attrs || {});
      if (cls)
        this.attrs = combineAttrs({class: cls}, this.attrs || {});
    }
    domAtPos(pos) {
      return inlineDOMAtPos(this, pos);
    }
    reuseDOM(node) {
      if (node.nodeName == "DIV") {
        this.setDOM(node);
        this.dirty |= 4 | 2;
      }
    }
    sync(track) {
      var _a2;
      if (!this.dom) {
        this.setDOM(document.createElement("div"));
        this.dom.className = "cm-line";
        this.prevAttrs = this.attrs ? null : void 0;
      } else if (this.dirty & 4) {
        clearAttributes(this.dom);
        this.dom.className = "cm-line";
        this.prevAttrs = this.attrs ? null : void 0;
      }
      if (this.prevAttrs !== void 0) {
        updateAttrs(this.dom, this.prevAttrs, this.attrs);
        this.dom.classList.add("cm-line");
        this.prevAttrs = void 0;
      }
      super.sync(track);
      let last = this.dom.lastChild;
      while (last && ContentView.get(last) instanceof MarkView)
        last = last.lastChild;
      if (!last || !this.length || last.nodeName != "BR" && ((_a2 = ContentView.get(last)) === null || _a2 === void 0 ? void 0 : _a2.isEditable) == false && (!browser.ios || !this.children.some((ch) => ch instanceof TextView))) {
        let hack = document.createElement("BR");
        hack.cmIgnore = true;
        this.dom.appendChild(hack);
      }
    }
    measureTextSize() {
      if (this.children.length == 0 || this.length > 20)
        return null;
      let totalWidth = 0;
      for (let child of this.children) {
        if (!(child instanceof TextView) || /[^ -~]/.test(child.text))
          return null;
        let rects = clientRectsFor(child.dom);
        if (rects.length != 1)
          return null;
        totalWidth += rects[0].width;
      }
      return !totalWidth ? null : {
        lineHeight: this.dom.getBoundingClientRect().height,
        charWidth: totalWidth / this.length
      };
    }
    coordsAt(pos, side) {
      return coordsInChildren(this, pos, side);
    }
    become(_other) {
      return false;
    }
    get type() {
      return BlockType.Text;
    }
    static find(docView, pos) {
      for (let i = 0, off = 0; i < docView.children.length; i++) {
        let block = docView.children[i], end = off + block.length;
        if (end >= pos) {
          if (block instanceof LineView)
            return block;
          if (end > pos)
            break;
        }
        off = end + block.breakAfter;
      }
      return null;
    }
  };
  var BlockWidgetView = class extends ContentView {
    constructor(widget, length, type) {
      super();
      this.widget = widget;
      this.length = length;
      this.type = type;
      this.breakAfter = 0;
      this.prevWidget = null;
    }
    merge(from2, to, source, _takeDeco, openStart, openEnd) {
      if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) || from2 > 0 && openStart <= 0 || to < this.length && openEnd <= 0))
        return false;
      this.length = from2 + (source ? source.length : 0) + (this.length - to);
      return true;
    }
    domAtPos(pos) {
      return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);
    }
    split(at) {
      let len = this.length - at;
      this.length = at;
      let end = new BlockWidgetView(this.widget, len, this.type);
      end.breakAfter = this.breakAfter;
      return end;
    }
    get children() {
      return noChildren;
    }
    sync() {
      if (!this.dom || !this.widget.updateDOM(this.dom)) {
        if (this.dom && this.prevWidget)
          this.prevWidget.destroy(this.dom);
        this.prevWidget = null;
        this.setDOM(this.widget.toDOM(this.editorView));
        this.dom.contentEditable = "false";
      }
    }
    get overrideDOMText() {
      return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text.empty;
    }
    domBoundsAround() {
      return null;
    }
    become(other) {
      if (other instanceof BlockWidgetView && other.type == this.type && other.widget.constructor == this.widget.constructor) {
        if (!other.widget.eq(this.widget))
          this.markDirty(true);
        if (this.dom && !this.prevWidget)
          this.prevWidget = this.widget;
        this.widget = other.widget;
        this.length = other.length;
        this.breakAfter = other.breakAfter;
        return true;
      }
      return false;
    }
    ignoreMutation() {
      return true;
    }
    ignoreEvent(event) {
      return this.widget.ignoreEvent(event);
    }
    destroy() {
      super.destroy();
      if (this.dom)
        this.widget.destroy(this.dom);
    }
  };
  var ContentBuilder = class {
    constructor(doc2, pos, end, disallowBlockEffectsFor) {
      this.doc = doc2;
      this.pos = pos;
      this.end = end;
      this.disallowBlockEffectsFor = disallowBlockEffectsFor;
      this.content = [];
      this.curLine = null;
      this.breakAtStart = 0;
      this.pendingBuffer = 0;
      this.atCursorPos = true;
      this.openStart = -1;
      this.openEnd = -1;
      this.text = "";
      this.textOff = 0;
      this.cursor = doc2.iter();
      this.skip = pos;
    }
    posCovered() {
      if (this.content.length == 0)
        return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;
      let last = this.content[this.content.length - 1];
      return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);
    }
    getLine() {
      if (!this.curLine) {
        this.content.push(this.curLine = new LineView());
        this.atCursorPos = true;
      }
      return this.curLine;
    }
    flushBuffer(active) {
      if (this.pendingBuffer) {
        this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);
        this.pendingBuffer = 0;
      }
    }
    addBlockWidget(view) {
      this.flushBuffer([]);
      this.curLine = null;
      this.content.push(view);
    }
    finish(openEnd) {
      if (!openEnd)
        this.flushBuffer([]);
      else
        this.pendingBuffer = 0;
      if (!this.posCovered())
        this.getLine();
    }
    buildText(length, active, openStart) {
      while (length > 0) {
        if (this.textOff == this.text.length) {
          let {value, lineBreak, done} = this.cursor.next(this.skip);
          this.skip = 0;
          if (done)
            throw new Error("Ran out of text content when drawing inline views");
          if (lineBreak) {
            if (!this.posCovered())
              this.getLine();
            if (this.content.length)
              this.content[this.content.length - 1].breakAfter = 1;
            else
              this.breakAtStart = 1;
            this.flushBuffer([]);
            this.curLine = null;
            length--;
            continue;
          } else {
            this.text = value;
            this.textOff = 0;
          }
        }
        let take = Math.min(this.text.length - this.textOff, length, 512);
        this.flushBuffer(active.slice(active.length - openStart));
        this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);
        this.atCursorPos = true;
        this.textOff += take;
        length -= take;
        openStart = 0;
      }
    }
    span(from2, to, active, openStart) {
      this.buildText(to - from2, active, openStart);
      this.pos = to;
      if (this.openStart < 0)
        this.openStart = openStart;
    }
    point(from2, to, deco, active, openStart, index) {
      if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {
        if (deco.block)
          throw new RangeError("Block decorations may not be specified via plugins");
        if (to > this.doc.lineAt(this.pos).to)
          throw new RangeError("Decorations that replace line breaks may not be specified via plugins");
      }
      let len = to - from2;
      if (deco instanceof PointDecoration) {
        if (deco.block) {
          let {type} = deco;
          if (type == BlockType.WidgetAfter && !this.posCovered())
            this.getLine();
          this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget("div"), len, type));
        } else {
          let view = WidgetView.create(deco.widget || new NullWidget("span"), len, len ? 0 : deco.startSide);
          let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length && (from2 < to || deco.startSide > 0);
          let cursorAfter = !view.isEditable && (from2 < to || deco.startSide <= 0);
          let line = this.getLine();
          if (this.pendingBuffer == 2 && !cursorBefore)
            this.pendingBuffer = 0;
          this.flushBuffer(active);
          if (cursorBefore) {
            line.append(wrapMarks(new WidgetBufferView(1), active), openStart);
            openStart = active.length + Math.max(0, openStart - active.length);
          }
          line.append(wrapMarks(view, active), openStart);
          this.atCursorPos = cursorAfter;
          this.pendingBuffer = !cursorAfter ? 0 : from2 < to ? 1 : 2;
        }
      } else if (this.doc.lineAt(this.pos).from == this.pos) {
        this.getLine().addLineDeco(deco);
      }
      if (len) {
        if (this.textOff + len <= this.text.length) {
          this.textOff += len;
        } else {
          this.skip += len - (this.text.length - this.textOff);
          this.text = "";
          this.textOff = 0;
        }
        this.pos = to;
      }
      if (this.openStart < 0)
        this.openStart = openStart;
    }
    static build(text, from2, to, decorations2, dynamicDecorationMap) {
      let builder = new ContentBuilder(text, from2, to, dynamicDecorationMap);
      builder.openEnd = RangeSet.spans(decorations2, from2, to, builder);
      if (builder.openStart < 0)
        builder.openStart = builder.openEnd;
      builder.finish(builder.openEnd);
      return builder;
    }
  };
  function wrapMarks(view, active) {
    for (let mark of active)
      view = new MarkView(mark, [view], view.length);
    return view;
  }
  var NullWidget = class extends WidgetType {
    constructor(tag) {
      super();
      this.tag = tag;
    }
    eq(other) {
      return other.tag == this.tag;
    }
    toDOM() {
      return document.createElement(this.tag);
    }
    updateDOM(elt) {
      return elt.nodeName.toLowerCase() == this.tag;
    }
  };
  var clickAddsSelectionRange = /* @__PURE__ */ Facet.define();
  var dragMovesSelection$1 = /* @__PURE__ */ Facet.define();
  var mouseSelectionStyle = /* @__PURE__ */ Facet.define();
  var exceptionSink = /* @__PURE__ */ Facet.define();
  var updateListener = /* @__PURE__ */ Facet.define();
  var inputHandler = /* @__PURE__ */ Facet.define();
  var perLineTextDirection = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.some((x) => x)
  });
  var nativeSelectionHidden = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.some((x) => x)
  });
  var ScrollTarget = class {
    constructor(range, y = "nearest", x = "nearest", yMargin = 5, xMargin = 5) {
      this.range = range;
      this.y = y;
      this.x = x;
      this.yMargin = yMargin;
      this.xMargin = xMargin;
    }
    map(changes) {
      return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);
    }
  };
  var scrollIntoView = /* @__PURE__ */ StateEffect.define({map: (t2, ch) => t2.map(ch)});
  function logException(state, exception, context) {
    let handler = state.facet(exceptionSink);
    if (handler.length)
      handler[0](exception);
    else if (window.onerror)
      window.onerror(String(exception), context, void 0, void 0, exception);
    else if (context)
      console.error(context + ":", exception);
    else
      console.error(exception);
  }
  var editable = /* @__PURE__ */ Facet.define({combine: (values2) => values2.length ? values2[0] : true});
  var nextPluginID = 0;
  var viewPlugin = /* @__PURE__ */ Facet.define();
  var ViewPlugin = class {
    constructor(id2, create, domEventHandlers, buildExtensions) {
      this.id = id2;
      this.create = create;
      this.domEventHandlers = domEventHandlers;
      this.extension = buildExtensions(this);
    }
    static define(create, spec) {
      const {eventHandlers, provide, decorations: deco} = spec || {};
      return new ViewPlugin(nextPluginID++, create, eventHandlers, (plugin) => {
        let ext = [viewPlugin.of(plugin)];
        if (deco)
          ext.push(decorations.of((view) => {
            let pluginInst = view.plugin(plugin);
            return pluginInst ? deco(pluginInst) : Decoration.none;
          }));
        if (provide)
          ext.push(provide(plugin));
        return ext;
      });
    }
    static fromClass(cls, spec) {
      return ViewPlugin.define((view) => new cls(view), spec);
    }
  };
  var PluginInstance = class {
    constructor(spec) {
      this.spec = spec;
      this.mustUpdate = null;
      this.value = null;
    }
    update(view) {
      if (!this.value) {
        if (this.spec) {
          try {
            this.value = this.spec.create(view);
          } catch (e) {
            logException(view.state, e, "CodeMirror plugin crashed");
            this.deactivate();
          }
        }
      } else if (this.mustUpdate) {
        let update = this.mustUpdate;
        this.mustUpdate = null;
        if (this.value.update) {
          try {
            this.value.update(update);
          } catch (e) {
            logException(update.state, e, "CodeMirror plugin crashed");
            if (this.value.destroy)
              try {
                this.value.destroy();
              } catch (_) {
              }
            this.deactivate();
          }
        }
      }
      return this;
    }
    destroy(view) {
      var _a2;
      if ((_a2 = this.value) === null || _a2 === void 0 ? void 0 : _a2.destroy) {
        try {
          this.value.destroy();
        } catch (e) {
          logException(view.state, e, "CodeMirror plugin crashed");
        }
      }
    }
    deactivate() {
      this.spec = this.value = null;
    }
  };
  var editorAttributes = /* @__PURE__ */ Facet.define();
  var contentAttributes = /* @__PURE__ */ Facet.define();
  var decorations = /* @__PURE__ */ Facet.define();
  var atomicRanges = /* @__PURE__ */ Facet.define();
  var scrollMargins = /* @__PURE__ */ Facet.define();
  var styleModule = /* @__PURE__ */ Facet.define();
  var ChangedRange = class {
    constructor(fromA, toA, fromB, toB) {
      this.fromA = fromA;
      this.toA = toA;
      this.fromB = fromB;
      this.toB = toB;
    }
    join(other) {
      return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));
    }
    addToSet(set) {
      let i = set.length, me = this;
      for (; i > 0; i--) {
        let range = set[i - 1];
        if (range.fromA > me.toA)
          continue;
        if (range.toA < me.fromA)
          break;
        me = me.join(range);
        set.splice(i - 1, 1);
      }
      set.splice(i, 0, me);
      return set;
    }
    static extendWithRanges(diff, ranges) {
      if (ranges.length == 0)
        return diff;
      let result = [];
      for (let dI = 0, rI = 0, posA = 0, posB = 0; ; dI++) {
        let next = dI == diff.length ? null : diff[dI], off = posA - posB;
        let end = next ? next.fromB : 1e9;
        while (rI < ranges.length && ranges[rI] < end) {
          let from2 = ranges[rI], to = ranges[rI + 1];
          let fromB = Math.max(posB, from2), toB = Math.min(end, to);
          if (fromB <= toB)
            new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);
          if (to > end)
            break;
          else
            rI += 2;
        }
        if (!next)
          return result;
        new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);
        posA = next.toA;
        posB = next.toB;
      }
    }
  };
  var ViewUpdate = class {
    constructor(view, state, transactions) {
      this.view = view;
      this.state = state;
      this.transactions = transactions;
      this.flags = 0;
      this.startState = view.state;
      this.changes = ChangeSet.empty(this.startState.doc.length);
      for (let tr of transactions)
        this.changes = this.changes.compose(tr.changes);
      let changedRanges = [];
      this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));
      this.changedRanges = changedRanges;
      let focus = view.hasFocus;
      if (focus != view.inputState.notifiedFocused) {
        view.inputState.notifiedFocused = focus;
        this.flags |= 1;
      }
    }
    static create(view, state, transactions) {
      return new ViewUpdate(view, state, transactions);
    }
    get viewportChanged() {
      return (this.flags & 4) > 0;
    }
    get heightChanged() {
      return (this.flags & 2) > 0;
    }
    get geometryChanged() {
      return this.docChanged || (this.flags & (8 | 2)) > 0;
    }
    get focusChanged() {
      return (this.flags & 1) > 0;
    }
    get docChanged() {
      return !this.changes.empty;
    }
    get selectionSet() {
      return this.transactions.some((tr) => tr.selection);
    }
    get empty() {
      return this.flags == 0 && this.transactions.length == 0;
    }
  };
  var Direction = /* @__PURE__ */ function(Direction2) {
    Direction2[Direction2["LTR"] = 0] = "LTR";
    Direction2[Direction2["RTL"] = 1] = "RTL";
    return Direction2;
  }(Direction || (Direction = {}));
  var LTR = Direction.LTR;
  var RTL = Direction.RTL;
  function dec(str) {
    let result = [];
    for (let i = 0; i < str.length; i++)
      result.push(1 << +str[i]);
    return result;
  }
  var LowTypes = /* @__PURE__ */ dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008");
  var ArabicTypes = /* @__PURE__ */ dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333");
  var Brackets = /* @__PURE__ */ Object.create(null);
  var BracketStack = [];
  for (let p of ["()", "[]", "{}"]) {
    let l = /* @__PURE__ */ p.charCodeAt(0), r = /* @__PURE__ */ p.charCodeAt(1);
    Brackets[l] = r;
    Brackets[r] = -l;
  }
  function charType(ch) {
    return ch <= 247 ? LowTypes[ch] : 1424 <= ch && ch <= 1524 ? 2 : 1536 <= ch && ch <= 1785 ? ArabicTypes[ch - 1536] : 1774 <= ch && ch <= 2220 ? 4 : 8192 <= ch && ch <= 8203 ? 256 : 64336 <= ch && ch <= 65023 ? 4 : ch == 8204 ? 256 : 1;
  }
  var BidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;
  var BidiSpan = class {
    constructor(from2, to, level) {
      this.from = from2;
      this.to = to;
      this.level = level;
    }
    get dir() {
      return this.level % 2 ? RTL : LTR;
    }
    side(end, dir) {
      return this.dir == dir == end ? this.to : this.from;
    }
    static find(order, index, level, assoc) {
      let maybe = -1;
      for (let i = 0; i < order.length; i++) {
        let span = order[i];
        if (span.from <= index && span.to >= index) {
          if (span.level == level)
            return i;
          if (maybe < 0 || (assoc != 0 ? assoc < 0 ? span.from < index : span.to > index : order[maybe].level > span.level))
            maybe = i;
        }
      }
      if (maybe < 0)
        throw new RangeError("Index out of range");
      return maybe;
    }
  };
  var types = [];
  function computeOrder(line, direction) {
    let len = line.length, outerType = direction == LTR ? 1 : 2, oppositeType = direction == LTR ? 2 : 1;
    if (!line || outerType == 1 && !BidiRE.test(line))
      return trivialOrder(len);
    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {
      let type = charType(line.charCodeAt(i));
      if (type == 512)
        type = prev;
      else if (type == 8 && prevStrong == 4)
        type = 16;
      types[i] = type == 4 ? 2 : type;
      if (type & 7)
        prevStrong = type;
      prev = type;
    }
    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {
      let type = types[i];
      if (type == 128) {
        if (i < len - 1 && prev == types[i + 1] && prev & 24)
          type = types[i] = prev;
        else
          types[i] = 256;
      } else if (type == 64) {
        let end = i + 1;
        while (end < len && types[end] == 64)
          end++;
        let replace = i && prev == 8 || end < len && types[end] == 8 ? prevStrong == 1 ? 1 : 8 : 256;
        for (let j = i; j < end; j++)
          types[j] = replace;
        i = end - 1;
      } else if (type == 8 && prevStrong == 1) {
        types[i] = 1;
      }
      prev = type;
      if (type & 7)
        prevStrong = type;
    }
    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {
      if (br = Brackets[ch = line.charCodeAt(i)]) {
        if (br < 0) {
          for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {
            if (BracketStack[sJ + 1] == -br) {
              let flags = BracketStack[sJ + 2];
              let type2 = flags & 2 ? outerType : !(flags & 4) ? 0 : flags & 1 ? oppositeType : outerType;
              if (type2)
                types[i] = types[BracketStack[sJ]] = type2;
              sI = sJ;
              break;
            }
          }
        } else if (BracketStack.length == 189) {
          break;
        } else {
          BracketStack[sI++] = i;
          BracketStack[sI++] = ch;
          BracketStack[sI++] = context;
        }
      } else if ((type = types[i]) == 2 || type == 1) {
        let embed = type == outerType;
        context = embed ? 0 : 1;
        for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {
          let cur2 = BracketStack[sJ + 2];
          if (cur2 & 2)
            break;
          if (embed) {
            BracketStack[sJ + 2] |= 2;
          } else {
            if (cur2 & 4)
              break;
            BracketStack[sJ + 2] |= 4;
          }
        }
      }
    }
    for (let i = 0; i < len; i++) {
      if (types[i] == 256) {
        let end = i + 1;
        while (end < len && types[end] == 256)
          end++;
        let beforeL = (i ? types[i - 1] : outerType) == 1;
        let afterL = (end < len ? types[end] : outerType) == 1;
        let replace = beforeL == afterL ? beforeL ? 1 : 2 : outerType;
        for (let j = i; j < end; j++)
          types[j] = replace;
        i = end - 1;
      }
    }
    let order = [];
    if (outerType == 1) {
      for (let i = 0; i < len; ) {
        let start = i, rtl = types[i++] != 1;
        while (i < len && rtl == (types[i] != 1))
          i++;
        if (rtl) {
          for (let j = i; j > start; ) {
            let end = j, l = types[--j] != 2;
            while (j > start && l == (types[j - 1] != 2))
              j--;
            order.push(new BidiSpan(j, end, l ? 2 : 1));
          }
        } else {
          order.push(new BidiSpan(start, i, 0));
        }
      }
    } else {
      for (let i = 0; i < len; ) {
        let start = i, rtl = types[i++] == 2;
        while (i < len && rtl == (types[i] == 2))
          i++;
        order.push(new BidiSpan(start, i, rtl ? 1 : 2));
      }
    }
    return order;
  }
  function trivialOrder(length) {
    return [new BidiSpan(0, length, 0)];
  }
  var movedOver = "";
  function moveVisually(line, order, dir, start, forward) {
    var _a2;
    let startIndex = start.head - line.from, spanI = -1;
    if (startIndex == 0) {
      if (!forward || !line.length)
        return null;
      if (order[0].level != dir) {
        startIndex = order[0].side(false, dir);
        spanI = 0;
      }
    } else if (startIndex == line.length) {
      if (forward)
        return null;
      let last = order[order.length - 1];
      if (last.level != dir) {
        startIndex = last.side(true, dir);
        spanI = order.length - 1;
      }
    }
    if (spanI < 0)
      spanI = BidiSpan.find(order, startIndex, (_a2 = start.bidiLevel) !== null && _a2 !== void 0 ? _a2 : -1, start.assoc);
    let span = order[spanI];
    if (startIndex == span.side(forward, dir)) {
      span = order[spanI += forward ? 1 : -1];
      startIndex = span.side(!forward, dir);
    }
    let indexForward = forward == (span.dir == dir);
    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);
    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));
    if (nextIndex != span.side(forward, dir))
      return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);
    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];
    if (!nextSpan && span.level != dir)
      return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);
    if (nextSpan && nextSpan.level < span.level)
      return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);
    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);
  }
  var LineBreakPlaceholder = "\uFFFF";
  var DOMReader = class {
    constructor(points, state) {
      this.points = points;
      this.text = "";
      this.lineSeparator = state.facet(EditorState.lineSeparator);
    }
    append(text) {
      this.text += text;
    }
    lineBreak() {
      this.text += LineBreakPlaceholder;
    }
    readRange(start, end) {
      if (!start)
        return this;
      let parent = start.parentNode;
      for (let cur2 = start; ; ) {
        this.findPointBefore(parent, cur2);
        this.readNode(cur2);
        let next = cur2.nextSibling;
        if (next == end)
          break;
        let view = ContentView.get(cur2), nextView = ContentView.get(next);
        if (view && nextView ? view.breakAfter : (view ? view.breakAfter : isBlockElement(cur2)) || isBlockElement(next) && (cur2.nodeName != "BR" || cur2.cmIgnore))
          this.lineBreak();
        cur2 = next;
      }
      this.findPointBefore(parent, end);
      return this;
    }
    readTextNode(node) {
      let text = node.nodeValue;
      for (let point of this.points)
        if (point.node == node)
          point.pos = this.text.length + Math.min(point.offset, text.length);
      for (let off = 0, re = this.lineSeparator ? null : /\r\n?|\n/g; ; ) {
        let nextBreak = -1, breakSize = 1, m;
        if (this.lineSeparator) {
          nextBreak = text.indexOf(this.lineSeparator, off);
          breakSize = this.lineSeparator.length;
        } else if (m = re.exec(text)) {
          nextBreak = m.index;
          breakSize = m[0].length;
        }
        this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));
        if (nextBreak < 0)
          break;
        this.lineBreak();
        if (breakSize > 1) {
          for (let point of this.points)
            if (point.node == node && point.pos > this.text.length)
              point.pos -= breakSize - 1;
        }
        off = nextBreak + breakSize;
      }
    }
    readNode(node) {
      if (node.cmIgnore)
        return;
      let view = ContentView.get(node);
      let fromView = view && view.overrideDOMText;
      if (fromView != null) {
        this.findPointInside(node, fromView.length);
        for (let i = fromView.iter(); !i.next().done; ) {
          if (i.lineBreak)
            this.lineBreak();
          else
            this.append(i.value);
        }
      } else if (node.nodeType == 3) {
        this.readTextNode(node);
      } else if (node.nodeName == "BR") {
        if (node.nextSibling)
          this.lineBreak();
      } else if (node.nodeType == 1) {
        this.readRange(node.firstChild, null);
      }
    }
    findPointBefore(node, next) {
      for (let point of this.points)
        if (point.node == node && node.childNodes[point.offset] == next)
          point.pos = this.text.length;
    }
    findPointInside(node, maxLen) {
      for (let point of this.points)
        if (node.nodeType == 3 ? point.node == node : node.contains(point.node))
          point.pos = this.text.length + Math.min(maxLen, point.offset);
    }
  };
  function isBlockElement(node) {
    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(node.nodeName);
  }
  var DOMPoint = class {
    constructor(node, offset) {
      this.node = node;
      this.offset = offset;
      this.pos = -1;
    }
  };
  var DocView = class extends ContentView {
    constructor(view) {
      super();
      this.view = view;
      this.compositionDeco = Decoration.none;
      this.decorations = [];
      this.dynamicDecorationMap = [];
      this.minWidth = 0;
      this.minWidthFrom = 0;
      this.minWidthTo = 0;
      this.impreciseAnchor = null;
      this.impreciseHead = null;
      this.forceSelection = false;
      this.lastUpdate = Date.now();
      this.setDOM(view.contentDOM);
      this.children = [new LineView()];
      this.children[0].setParent(this);
      this.updateDeco();
      this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0);
    }
    get editorView() {
      return this.view;
    }
    get length() {
      return this.view.state.doc.length;
    }
    update(update) {
      let changedRanges = update.changedRanges;
      if (this.minWidth > 0 && changedRanges.length) {
        if (!changedRanges.every(({fromA, toA}) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {
          this.minWidth = this.minWidthFrom = this.minWidthTo = 0;
        } else {
          this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);
          this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);
        }
      }
      if (this.view.inputState.composing < 0)
        this.compositionDeco = Decoration.none;
      else if (update.transactions.length || this.dirty)
        this.compositionDeco = computeCompositionDeco(this.view, update.changes);
      if ((browser.ie || browser.chrome) && !this.compositionDeco.size && update && update.state.doc.lines != update.startState.doc.lines)
        this.forceSelection = true;
      let prevDeco = this.decorations, deco = this.updateDeco();
      let decoDiff = findChangedDeco(prevDeco, deco, update.changes);
      changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);
      if (this.dirty == 0 && changedRanges.length == 0) {
        return false;
      } else {
        this.updateInner(changedRanges, update.startState.doc.length);
        if (update.transactions.length)
          this.lastUpdate = Date.now();
        return true;
      }
    }
    updateInner(changes, oldLength) {
      this.view.viewState.mustMeasureContent = true;
      this.updateChildren(changes, oldLength);
      let {observer} = this.view;
      observer.ignore(() => {
        this.dom.style.height = this.view.viewState.contentHeight + "px";
        this.dom.style.flexBasis = this.minWidth ? this.minWidth + "px" : "";
        let track = browser.chrome || browser.ios ? {node: observer.selectionRange.focusNode, written: false} : void 0;
        this.sync(track);
        this.dirty = 0;
        if (track && (track.written || observer.selectionRange.focusNode != track.node))
          this.forceSelection = true;
        this.dom.style.height = "";
      });
      let gaps = [];
      if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length) {
        for (let child of this.children)
          if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)
            gaps.push(child.dom);
      }
      observer.updateGaps(gaps);
    }
    updateChildren(changes, oldLength) {
      let cursor = this.childCursor(oldLength);
      for (let i = changes.length - 1; ; i--) {
        let next = i >= 0 ? changes[i] : null;
        if (!next)
          break;
        let {fromA, toA, fromB, toB} = next;
        let {content: content2, breakAtStart, openStart, openEnd} = ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap);
        let {i: toI, off: toOff} = cursor.findPos(toA, 1);
        let {i: fromI, off: fromOff} = cursor.findPos(fromA, -1);
        replaceRange(this, fromI, fromOff, toI, toOff, content2, breakAtStart, openStart, openEnd);
      }
    }
    updateSelection(mustRead = false, fromPointer = false) {
      if (mustRead || !this.view.observer.selectionRange.focusNode)
        this.view.observer.readSelectionRange();
      if (!(fromPointer || this.mayControlSelection()))
        return;
      let force = this.forceSelection;
      this.forceSelection = false;
      let main = this.view.state.selection.main;
      let anchor = this.domAtPos(main.anchor);
      let head = main.empty ? anchor : this.domAtPos(main.head);
      if (browser.gecko && main.empty && betweenUneditable(anchor)) {
        let dummy = document.createTextNode("");
        this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));
        anchor = head = new DOMPos(dummy, 0);
        force = true;
      }
      let domSel = this.view.observer.selectionRange;
      if (force || !domSel.focusNode || !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) || !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {
        this.view.observer.ignore(() => {
          if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) && inUneditable(domSel.focusNode, this.dom)) {
            this.dom.blur();
            this.dom.focus({preventScroll: true});
          }
          let rawSel = getSelection(this.view.root);
          if (!rawSel)
            ;
          else if (main.empty) {
            if (browser.gecko) {
              let nextTo = nextToUneditable(anchor.node, anchor.offset);
              if (nextTo && nextTo != (1 | 2)) {
                let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 ? 1 : -1);
                if (text)
                  anchor = new DOMPos(text, nextTo == 1 ? 0 : text.nodeValue.length);
              }
            }
            rawSel.collapse(anchor.node, anchor.offset);
            if (main.bidiLevel != null && domSel.cursorBidiLevel != null)
              domSel.cursorBidiLevel = main.bidiLevel;
          } else if (rawSel.extend) {
            rawSel.collapse(anchor.node, anchor.offset);
            try {
              rawSel.extend(head.node, head.offset);
            } catch (_) {
            }
          } else {
            let range = document.createRange();
            if (main.anchor > main.head)
              [anchor, head] = [head, anchor];
            range.setEnd(head.node, head.offset);
            range.setStart(anchor.node, anchor.offset);
            rawSel.removeAllRanges();
            rawSel.addRange(range);
          }
        });
        this.view.observer.setSelectionRange(anchor, head);
      }
      this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);
      this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);
    }
    enforceCursorAssoc() {
      if (this.compositionDeco.size)
        return;
      let {view} = this, cursor = view.state.selection.main;
      let sel = getSelection(view.root);
      let {anchorNode, anchorOffset} = view.observer.selectionRange;
      if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)
        return;
      let line = LineView.find(this, cursor.head);
      if (!line)
        return;
      let lineStart = line.posAtStart;
      if (cursor.head == lineStart || cursor.head == lineStart + line.length)
        return;
      let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);
      if (!before || !after || before.bottom > after.top)
        return;
      let dom = this.domAtPos(cursor.head + cursor.assoc);
      sel.collapse(dom.node, dom.offset);
      sel.modify("move", cursor.assoc < 0 ? "forward" : "backward", "lineboundary");
      view.observer.readSelectionRange();
      let newRange = view.observer.selectionRange;
      if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor.from)
        sel.collapse(anchorNode, anchorOffset);
    }
    mayControlSelection() {
      let active = this.view.root.activeElement;
      return active == this.dom || hasSelection(this.dom, this.view.observer.selectionRange) && !(active && this.dom.contains(active));
    }
    nearest(dom) {
      for (let cur2 = dom; cur2; ) {
        let domView = ContentView.get(cur2);
        if (domView && domView.rootView == this)
          return domView;
        cur2 = cur2.parentNode;
      }
      return null;
    }
    posFromDOM(node, offset) {
      let view = this.nearest(node);
      if (!view)
        throw new RangeError("Trying to find position for a DOM position outside of the document");
      return view.localPosFromDOM(node, offset) + view.posAtStart;
    }
    domAtPos(pos) {
      let {i, off} = this.childCursor().findPos(pos, -1);
      for (; i < this.children.length - 1; ) {
        let child = this.children[i];
        if (off < child.length || child instanceof LineView)
          break;
        i++;
        off = 0;
      }
      return this.children[i].domAtPos(off);
    }
    coordsAt(pos, side) {
      for (let off = this.length, i = this.children.length - 1; ; i--) {
        let child = this.children[i], start = off - child.breakAfter - child.length;
        if (pos > start || pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter && (!i || side == 2 || this.children[i - 1].breakAfter || this.children[i - 1].type == BlockType.WidgetBefore && side > -2))
          return child.coordsAt(pos - start, side);
        off = start;
      }
    }
    measureVisibleLineHeights(viewport) {
      let result = [], {from: from2, to} = viewport;
      let contentWidth = this.view.contentDOM.clientWidth;
      let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;
      let widest = -1, ltr = this.view.textDirection == Direction.LTR;
      for (let pos = 0, i = 0; i < this.children.length; i++) {
        let child = this.children[i], end = pos + child.length;
        if (end > to)
          break;
        if (pos >= from2) {
          let childRect = child.dom.getBoundingClientRect();
          result.push(childRect.height);
          if (isWider) {
            let last = child.dom.lastChild;
            let rects = last ? clientRectsFor(last) : [];
            if (rects.length) {
              let rect = rects[rects.length - 1];
              let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;
              if (width > widest) {
                widest = width;
                this.minWidth = contentWidth;
                this.minWidthFrom = pos;
                this.minWidthTo = end;
              }
            }
          }
        }
        pos = end + child.breakAfter;
      }
      return result;
    }
    textDirectionAt(pos) {
      let {i} = this.childPos(pos, 1);
      return getComputedStyle(this.children[i].dom).direction == "rtl" ? Direction.RTL : Direction.LTR;
    }
    measureTextSize() {
      for (let child of this.children) {
        if (child instanceof LineView) {
          let measure = child.measureTextSize();
          if (measure)
            return measure;
        }
      }
      let dummy = document.createElement("div"), lineHeight, charWidth;
      dummy.className = "cm-line";
      dummy.style.width = "99999px";
      dummy.textContent = "abc def ghi jkl mno pqr stu";
      this.view.observer.ignore(() => {
        this.dom.appendChild(dummy);
        let rect = clientRectsFor(dummy.firstChild)[0];
        lineHeight = dummy.getBoundingClientRect().height;
        charWidth = rect ? rect.width / 27 : 7;
        dummy.remove();
      });
      return {lineHeight, charWidth};
    }
    childCursor(pos = this.length) {
      let i = this.children.length;
      if (i)
        pos -= this.children[--i].length;
      return new ChildCursor(this.children, pos, i);
    }
    computeBlockGapDeco() {
      let deco = [], vs = this.view.viewState;
      for (let pos = 0, i = 0; ; i++) {
        let next = i == vs.viewports.length ? null : vs.viewports[i];
        let end = next ? next.from - 1 : this.length;
        if (end > pos) {
          let height = vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top;
          deco.push(Decoration.replace({
            widget: new BlockGapWidget(height),
            block: true,
            inclusive: true,
            isBlockGap: true
          }).range(pos, end));
        }
        if (!next)
          break;
        pos = next.to + 1;
      }
      return Decoration.set(deco);
    }
    updateDeco() {
      let allDeco = this.view.state.facet(decorations).map((d, i) => {
        let dynamic = this.dynamicDecorationMap[i] = typeof d == "function";
        return dynamic ? d(this.view) : d;
      });
      for (let i = allDeco.length; i < allDeco.length + 3; i++)
        this.dynamicDecorationMap[i] = false;
      return this.decorations = [
        ...allDeco,
        this.compositionDeco,
        this.computeBlockGapDeco(),
        this.view.viewState.lineGapDeco
      ];
    }
    scrollIntoView(target) {
      let {range} = target;
      let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;
      if (!rect)
        return;
      if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))
        rect = {
          left: Math.min(rect.left, other.left),
          top: Math.min(rect.top, other.top),
          right: Math.max(rect.right, other.right),
          bottom: Math.max(rect.bottom, other.bottom)
        };
      let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;
      for (let margins of this.view.state.facet(scrollMargins).map((f) => f(this.view)))
        if (margins) {
          let {left, right, top: top2, bottom} = margins;
          if (left != null)
            mLeft = Math.max(mLeft, left);
          if (right != null)
            mRight = Math.max(mRight, right);
          if (top2 != null)
            mTop = Math.max(mTop, top2);
          if (bottom != null)
            mBottom = Math.max(mBottom, bottom);
        }
      let targetRect = {
        left: rect.left - mLeft,
        top: rect.top - mTop,
        right: rect.right + mRight,
        bottom: rect.bottom + mBottom
      };
      scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == Direction.LTR);
    }
  };
  function betweenUneditable(pos) {
    return pos.node.nodeType == 1 && pos.node.firstChild && (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == "false") && (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == "false");
  }
  var BlockGapWidget = class extends WidgetType {
    constructor(height) {
      super();
      this.height = height;
    }
    toDOM() {
      let elt = document.createElement("div");
      this.updateDOM(elt);
      return elt;
    }
    eq(other) {
      return other.height == this.height;
    }
    updateDOM(elt) {
      elt.style.height = this.height + "px";
      return true;
    }
    get estimatedHeight() {
      return this.height;
    }
  };
  function compositionSurroundingNode(view) {
    let sel = view.observer.selectionRange;
    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);
    if (!textNode)
      return null;
    let cView = view.docView.nearest(textNode);
    if (!cView)
      return null;
    if (cView instanceof LineView) {
      let topNode = textNode;
      while (topNode.parentNode != cView.dom)
        topNode = topNode.parentNode;
      let prev = topNode.previousSibling;
      while (prev && !ContentView.get(prev))
        prev = prev.previousSibling;
      let pos = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;
      return {from: pos, to: pos, node: topNode, text: textNode};
    } else {
      for (; ; ) {
        let {parent} = cView;
        if (!parent)
          return null;
        if (parent instanceof LineView)
          break;
        cView = parent;
      }
      let from2 = cView.posAtStart;
      return {from: from2, to: from2 + cView.length, node: cView.dom, text: textNode};
    }
  }
  function computeCompositionDeco(view, changes) {
    let surrounding = compositionSurroundingNode(view);
    if (!surrounding)
      return Decoration.none;
    let {from: from2, to, node, text: textNode} = surrounding;
    let newFrom = changes.mapPos(from2, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));
    let {state} = view, text = node.nodeType == 3 ? node.nodeValue : new DOMReader([], state).readRange(node.firstChild, null).text;
    if (newTo - newFrom < text.length) {
      if (state.doc.sliceString(newFrom, Math.min(state.doc.length, newFrom + text.length), LineBreakPlaceholder) == text)
        newTo = newFrom + text.length;
      else if (state.doc.sliceString(Math.max(0, newTo - text.length), newTo, LineBreakPlaceholder) == text)
        newFrom = newTo - text.length;
      else
        return Decoration.none;
    } else if (state.doc.sliceString(newFrom, newTo, LineBreakPlaceholder) != text) {
      return Decoration.none;
    }
    let topView = ContentView.get(node);
    if (topView instanceof CompositionView)
      topView = topView.widget.topView;
    else if (topView)
      topView.parent = null;
    return Decoration.set(Decoration.replace({widget: new CompositionWidget(node, textNode, topView), inclusive: true}).range(newFrom, newTo));
  }
  var CompositionWidget = class extends WidgetType {
    constructor(top2, text, topView) {
      super();
      this.top = top2;
      this.text = text;
      this.topView = topView;
    }
    eq(other) {
      return this.top == other.top && this.text == other.text;
    }
    toDOM() {
      return this.top;
    }
    ignoreEvent() {
      return false;
    }
    get customView() {
      return CompositionView;
    }
  };
  function nearbyTextNode(node, offset, side) {
    for (; ; ) {
      if (node.nodeType == 3)
        return node;
      if (node.nodeType == 1 && offset > 0 && side <= 0) {
        node = node.childNodes[offset - 1];
        offset = maxOffset(node);
      } else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {
        node = node.childNodes[offset];
        offset = 0;
      } else {
        return null;
      }
    }
  }
  function nextToUneditable(node, offset) {
    if (node.nodeType != 1)
      return 0;
    return (offset && node.childNodes[offset - 1].contentEditable == "false" ? 1 : 0) | (offset < node.childNodes.length && node.childNodes[offset].contentEditable == "false" ? 2 : 0);
  }
  var DecorationComparator$1 = class {
    constructor() {
      this.changes = [];
    }
    compareRange(from2, to) {
      addRange(from2, to, this.changes);
    }
    comparePoint(from2, to) {
      addRange(from2, to, this.changes);
    }
  };
  function findChangedDeco(a, b, diff) {
    let comp = new DecorationComparator$1();
    RangeSet.compare(a, b, diff, comp);
    return comp.changes;
  }
  function inUneditable(node, inside2) {
    for (let cur2 = node; cur2 && cur2 != inside2; cur2 = cur2.assignedSlot || cur2.parentNode) {
      if (cur2.nodeType == 1 && cur2.contentEditable == "false") {
        return true;
      }
    }
    return false;
  }
  function groupAt(state, pos, bias = 1) {
    let categorize = state.charCategorizer(pos);
    let line = state.doc.lineAt(pos), linePos = pos - line.from;
    if (line.length == 0)
      return EditorSelection.cursor(pos);
    if (linePos == 0)
      bias = 1;
    else if (linePos == line.length)
      bias = -1;
    let from2 = linePos, to = linePos;
    if (bias < 0)
      from2 = findClusterBreak(line.text, linePos, false);
    else
      to = findClusterBreak(line.text, linePos);
    let cat = categorize(line.text.slice(from2, to));
    while (from2 > 0) {
      let prev = findClusterBreak(line.text, from2, false);
      if (categorize(line.text.slice(prev, from2)) != cat)
        break;
      from2 = prev;
    }
    while (to < line.length) {
      let next = findClusterBreak(line.text, to);
      if (categorize(line.text.slice(to, next)) != cat)
        break;
      to = next;
    }
    return EditorSelection.range(from2 + line.from, to + line.from);
  }
  function getdx(x, rect) {
    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);
  }
  function getdy(y, rect) {
    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);
  }
  function yOverlap(a, b) {
    return a.top < b.bottom - 1 && a.bottom > b.top + 1;
  }
  function upTop(rect, top2) {
    return top2 < rect.top ? {top: top2, left: rect.left, right: rect.right, bottom: rect.bottom} : rect;
  }
  function upBot(rect, bottom) {
    return bottom > rect.bottom ? {top: rect.top, left: rect.left, right: rect.right, bottom} : rect;
  }
  function domPosAtCoords(parent, x, y) {
    let closest, closestRect, closestX, closestY, closestOverlap = false;
    let above, below, aboveRect, belowRect;
    for (let child = parent.firstChild; child; child = child.nextSibling) {
      let rects = clientRectsFor(child);
      for (let i = 0; i < rects.length; i++) {
        let rect = rects[i];
        if (closestRect && yOverlap(closestRect, rect))
          rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);
        let dx = getdx(x, rect), dy = getdy(y, rect);
        if (dx == 0 && dy == 0)
          return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);
        if (!closest || closestY > dy || closestY == dy && closestX > dx) {
          closest = child;
          closestRect = rect;
          closestX = dx;
          closestY = dy;
          closestOverlap = !dx || (dx > 0 ? i < rects.length - 1 : i > 0);
        }
        if (dx == 0) {
          if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {
            above = child;
            aboveRect = rect;
          } else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {
            below = child;
            belowRect = rect;
          }
        } else if (aboveRect && yOverlap(aboveRect, rect)) {
          aboveRect = upBot(aboveRect, rect.bottom);
        } else if (belowRect && yOverlap(belowRect, rect)) {
          belowRect = upTop(belowRect, rect.top);
        }
      }
    }
    if (aboveRect && aboveRect.bottom >= y) {
      closest = above;
      closestRect = aboveRect;
    } else if (belowRect && belowRect.top <= y) {
      closest = below;
      closestRect = belowRect;
    }
    if (!closest)
      return {node: parent, offset: 0};
    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));
    if (closest.nodeType == 3)
      return domPosInText(closest, clipX, y);
    if (closestOverlap && closest.contentEditable != "false")
      return domPosAtCoords(closest, clipX, y);
    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) + (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);
    return {node: parent, offset};
  }
  function domPosInText(node, x, y) {
    let len = node.nodeValue.length;
    let closestOffset = -1, closestDY = 1e9, generalSide = 0;
    for (let i = 0; i < len; i++) {
      let rects = textRange(node, i, i + 1).getClientRects();
      for (let j = 0; j < rects.length; j++) {
        let rect = rects[j];
        if (rect.top == rect.bottom)
          continue;
        if (!generalSide)
          generalSide = x - rect.left;
        let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;
        if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {
          let right = x >= (rect.left + rect.right) / 2, after = right;
          if (browser.chrome || browser.gecko) {
            let rectBefore = textRange(node, i).getBoundingClientRect();
            if (rectBefore.left == rect.right)
              after = !right;
          }
          if (dy <= 0)
            return {node, offset: i + (after ? 1 : 0)};
          closestOffset = i + (after ? 1 : 0);
          closestDY = dy;
        }
      }
    }
    return {node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0};
  }
  function posAtCoords(view, {x, y}, precise, bias = -1) {
    var _a2;
    let content2 = view.contentDOM.getBoundingClientRect(), docTop = content2.top + view.viewState.paddingTop;
    let block, {docHeight} = view.viewState;
    let yOffset = y - docTop;
    if (yOffset < 0)
      return 0;
    if (yOffset > docHeight)
      return view.state.doc.length;
    for (let halfLine = view.defaultLineHeight / 2, bounced = false; ; ) {
      block = view.elementAtHeight(yOffset);
      if (block.type == BlockType.Text)
        break;
      for (; ; ) {
        yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;
        if (yOffset >= 0 && yOffset <= docHeight)
          break;
        if (bounced)
          return precise ? null : 0;
        bounced = true;
        bias = -bias;
      }
    }
    y = docTop + yOffset;
    let lineStart = block.from;
    if (lineStart < view.viewport.from)
      return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content2, block, x, y);
    if (lineStart > view.viewport.to)
      return view.viewport.to == view.state.doc.length ? view.state.doc.length : precise ? null : posAtCoordsImprecise(view, content2, block, x, y);
    let doc2 = view.dom.ownerDocument;
    let root = view.root.elementFromPoint ? view.root : doc2;
    let element = root.elementFromPoint(x, y);
    if (element && !view.contentDOM.contains(element))
      element = null;
    if (!element) {
      x = Math.max(content2.left + 1, Math.min(content2.right - 1, x));
      element = root.elementFromPoint(x, y);
      if (element && !view.contentDOM.contains(element))
        element = null;
    }
    let node, offset = -1;
    if (element && ((_a2 = view.docView.nearest(element)) === null || _a2 === void 0 ? void 0 : _a2.isEditable) != false) {
      if (doc2.caretPositionFromPoint) {
        let pos = doc2.caretPositionFromPoint(x, y);
        if (pos)
          ({offsetNode: node, offset} = pos);
      } else if (doc2.caretRangeFromPoint) {
        let range = doc2.caretRangeFromPoint(x, y);
        if (range) {
          ({startContainer: node, startOffset: offset} = range);
          if (!view.contentDOM.contains(node) || browser.safari && isSuspiciousSafariCaretResult(node, offset, x) || browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))
            node = void 0;
        }
      }
    }
    if (!node || !view.docView.dom.contains(node)) {
      let line = LineView.find(view.docView, lineStart);
      if (!line)
        return yOffset > block.top + block.height / 2 ? block.to : block.from;
      ({node, offset} = domPosAtCoords(line.dom, x, y));
    }
    return view.docView.posFromDOM(node, offset);
  }
  function posAtCoordsImprecise(view, contentRect, block, x, y) {
    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);
    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {
      let line = Math.floor((y - block.top) / view.defaultLineHeight);
      into += line * view.viewState.heightOracle.lineLength;
    }
    let content2 = view.state.sliceDoc(block.from, block.to);
    return block.from + findColumn(content2, into, view.state.tabSize);
  }
  function isSuspiciousSafariCaretResult(node, offset, x) {
    let len;
    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))
      return false;
    for (let next = node.nextSibling; next; next = next.nextSibling)
      if (next.nodeType != 1 || next.nodeName != "BR")
        return false;
    return textRange(node, len - 1, len).getBoundingClientRect().left > x;
  }
  function isSuspiciousChromeCaretResult(node, offset, x) {
    if (offset != 0)
      return false;
    for (let cur2 = node; ; ) {
      let parent = cur2.parentNode;
      if (!parent || parent.nodeType != 1 || parent.firstChild != cur2)
        return false;
      if (parent.classList.contains("cm-line"))
        break;
      cur2 = parent;
    }
    let rect = node.nodeType == 1 ? node.getBoundingClientRect() : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();
    return x - rect.left > 5;
  }
  function moveToLineBoundary(view, start, forward, includeWrap) {
    let line = view.state.doc.lineAt(start.head);
    let coords = !includeWrap || !view.lineWrapping ? null : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);
    if (coords) {
      let editorRect = view.dom.getBoundingClientRect();
      let direction = view.textDirectionAt(line.from);
      let pos = view.posAtCoords({
        x: forward == (direction == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,
        y: (coords.top + coords.bottom) / 2
      });
      if (pos != null)
        return EditorSelection.cursor(pos, forward ? -1 : 1);
    }
    let lineView = LineView.find(view.docView, start.head);
    let end = lineView ? forward ? lineView.posAtEnd : lineView.posAtStart : forward ? line.to : line.from;
    return EditorSelection.cursor(end, forward ? -1 : 1);
  }
  function moveByChar(view, start, forward, by) {
    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);
    let direction = view.textDirectionAt(line.from);
    for (let cur2 = start, check = null; ; ) {
      let next = moveVisually(line, spans, direction, cur2, forward), char = movedOver;
      if (!next) {
        if (line.number == (forward ? view.state.doc.lines : 1))
          return cur2;
        char = "\n";
        line = view.state.doc.line(line.number + (forward ? 1 : -1));
        spans = view.bidiSpans(line);
        next = EditorSelection.cursor(forward ? line.from : line.to);
      }
      if (!check) {
        if (!by)
          return next;
        check = by(char);
      } else if (!check(char)) {
        return cur2;
      }
      cur2 = next;
    }
  }
  function byGroup(view, pos, start) {
    let categorize = view.state.charCategorizer(pos);
    let cat = categorize(start);
    return (next) => {
      let nextCat = categorize(next);
      if (cat == CharCategory.Space)
        cat = nextCat;
      return cat == nextCat;
    };
  }
  function moveVertically(view, start, forward, distance) {
    let startPos = start.head, dir = forward ? 1 : -1;
    if (startPos == (forward ? view.state.doc.length : 0))
      return EditorSelection.cursor(startPos, start.assoc);
    let goal = start.goalColumn, startY;
    let rect = view.contentDOM.getBoundingClientRect();
    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;
    if (startCoords) {
      if (goal == null)
        goal = startCoords.left - rect.left;
      startY = dir < 0 ? startCoords.top : startCoords.bottom;
    } else {
      let line = view.viewState.lineBlockAt(startPos);
      if (goal == null)
        goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));
      startY = (dir < 0 ? line.top : line.bottom) + docTop;
    }
    let resolvedGoal = rect.left + goal;
    let dist = distance !== null && distance !== void 0 ? distance : view.defaultLineHeight >> 1;
    for (let extra = 0; ; extra += 10) {
      let curY = startY + (dist + extra) * dir;
      let pos = posAtCoords(view, {x: resolvedGoal, y: curY}, false, dir);
      if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))
        return EditorSelection.cursor(pos, start.assoc, void 0, goal);
    }
  }
  function skipAtoms(view, oldPos, pos) {
    let atoms = view.state.facet(atomicRanges).map((f) => f(view));
    for (; ; ) {
      let moved = false;
      for (let set of atoms) {
        set.between(pos.from - 1, pos.from + 1, (from2, to, value) => {
          if (pos.from > from2 && pos.from < to) {
            pos = oldPos.head > pos.from ? EditorSelection.cursor(from2, 1) : EditorSelection.cursor(to, -1);
            moved = true;
          }
        });
      }
      if (!moved)
        return pos;
    }
  }
  var InputState = class {
    constructor(view) {
      this.lastKeyCode = 0;
      this.lastKeyTime = 0;
      this.lastTouchTime = 0;
      this.lastFocusTime = 0;
      this.lastScrollTop = 0;
      this.lastScrollLeft = 0;
      this.chromeScrollHack = -1;
      this.pendingIOSKey = void 0;
      this.lastSelectionOrigin = null;
      this.lastSelectionTime = 0;
      this.lastEscPress = 0;
      this.lastContextMenu = 0;
      this.scrollHandlers = [];
      this.registeredEvents = [];
      this.customHandlers = [];
      this.composing = -1;
      this.compositionFirstChange = null;
      this.compositionEndedAt = 0;
      this.mouseSelection = null;
      for (let type in handlers) {
        let handler = handlers[type];
        view.contentDOM.addEventListener(type, (event) => {
          if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))
            return;
          if (type == "keydown" && this.keydown(view, event))
            return;
          if (this.mustFlushObserver(event))
            view.observer.forceFlush();
          if (this.runCustomHandlers(type, view, event))
            event.preventDefault();
          else
            handler(view, event);
        }, handlerOptions[type]);
        this.registeredEvents.push(type);
      }
      if (browser.chrome && browser.chrome_version == 102) {
        view.scrollDOM.addEventListener("wheel", () => {
          if (this.chromeScrollHack < 0)
            view.contentDOM.style.pointerEvents = "none";
          else
            window.clearTimeout(this.chromeScrollHack);
          this.chromeScrollHack = setTimeout(() => {
            this.chromeScrollHack = -1;
            view.contentDOM.style.pointerEvents = "";
          }, 100);
        }, {passive: true});
      }
      this.notifiedFocused = view.hasFocus;
      if (browser.safari)
        view.contentDOM.addEventListener("input", () => null);
    }
    setSelectionOrigin(origin) {
      this.lastSelectionOrigin = origin;
      this.lastSelectionTime = Date.now();
    }
    ensureHandlers(view, plugins) {
      var _a2;
      let handlers2;
      this.customHandlers = [];
      for (let plugin of plugins)
        if (handlers2 = (_a2 = plugin.update(view).spec) === null || _a2 === void 0 ? void 0 : _a2.domEventHandlers) {
          this.customHandlers.push({plugin: plugin.value, handlers: handlers2});
          for (let type in handlers2)
            if (this.registeredEvents.indexOf(type) < 0 && type != "scroll") {
              this.registeredEvents.push(type);
              view.contentDOM.addEventListener(type, (event) => {
                if (!eventBelongsToEditor(view, event))
                  return;
                if (this.runCustomHandlers(type, view, event))
                  event.preventDefault();
              });
            }
        }
    }
    runCustomHandlers(type, view, event) {
      for (let set of this.customHandlers) {
        let handler = set.handlers[type];
        if (handler) {
          try {
            if (handler.call(set.plugin, event, view) || event.defaultPrevented)
              return true;
          } catch (e) {
            logException(view.state, e);
          }
        }
      }
      return false;
    }
    runScrollHandlers(view, event) {
      this.lastScrollTop = view.scrollDOM.scrollTop;
      this.lastScrollLeft = view.scrollDOM.scrollLeft;
      for (let set of this.customHandlers) {
        let handler = set.handlers.scroll;
        if (handler) {
          try {
            handler.call(set.plugin, event, view);
          } catch (e) {
            logException(view.state, e);
          }
        }
      }
    }
    keydown(view, event) {
      this.lastKeyCode = event.keyCode;
      this.lastKeyTime = Date.now();
      if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2e3)
        return true;
      if (browser.android && browser.chrome && !event.synthetic && (event.keyCode == 13 || event.keyCode == 8)) {
        view.observer.delayAndroidKey(event.key, event.keyCode);
        return true;
      }
      let pending;
      if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey && ((pending = PendingKeys.find((key) => key.keyCode == event.keyCode)) && !event.ctrlKey || EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {
        this.pendingIOSKey = pending || event;
        setTimeout(() => this.flushIOSKey(view), 250);
        return true;
      }
      return false;
    }
    flushIOSKey(view) {
      let key = this.pendingIOSKey;
      if (!key)
        return false;
      this.pendingIOSKey = void 0;
      return dispatchKey(view.contentDOM, key.key, key.keyCode);
    }
    ignoreDuringComposition(event) {
      if (!/^key/.test(event.type))
        return false;
      if (this.composing > 0)
        return true;
      if (browser.safari && !browser.ios && Date.now() - this.compositionEndedAt < 100) {
        this.compositionEndedAt = 0;
        return true;
      }
      return false;
    }
    mustFlushObserver(event) {
      return event.type == "keydown" && event.keyCode != 229;
    }
    startMouseSelection(mouseSelection) {
      if (this.mouseSelection)
        this.mouseSelection.destroy();
      this.mouseSelection = mouseSelection;
    }
    update(update) {
      if (this.mouseSelection)
        this.mouseSelection.update(update);
      if (update.transactions.length)
        this.lastKeyCode = this.lastSelectionTime = 0;
    }
    destroy() {
      if (this.mouseSelection)
        this.mouseSelection.destroy();
    }
  };
  var PendingKeys = [
    {key: "Backspace", keyCode: 8, inputType: "deleteContentBackward"},
    {key: "Enter", keyCode: 13, inputType: "insertParagraph"},
    {key: "Delete", keyCode: 46, inputType: "deleteContentForward"}
  ];
  var EmacsyPendingKeys = "dthko";
  var modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];
  var MouseSelection = class {
    constructor(view, startEvent, style, mustSelect) {
      this.view = view;
      this.style = style;
      this.mustSelect = mustSelect;
      this.lastEvent = startEvent;
      let doc2 = view.contentDOM.ownerDocument;
      doc2.addEventListener("mousemove", this.move = this.move.bind(this));
      doc2.addEventListener("mouseup", this.up = this.up.bind(this));
      this.extend = startEvent.shiftKey;
      this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);
      this.dragMove = dragMovesSelection(view, startEvent);
      this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;
      if (this.dragging === false) {
        startEvent.preventDefault();
        this.select(startEvent);
      }
    }
    move(event) {
      if (event.buttons == 0)
        return this.destroy();
      if (this.dragging !== false)
        return;
      this.select(this.lastEvent = event);
    }
    up(event) {
      if (this.dragging == null)
        this.select(this.lastEvent);
      if (!this.dragging)
        event.preventDefault();
      this.destroy();
    }
    destroy() {
      let doc2 = this.view.contentDOM.ownerDocument;
      doc2.removeEventListener("mousemove", this.move);
      doc2.removeEventListener("mouseup", this.up);
      this.view.inputState.mouseSelection = null;
    }
    select(event) {
      let selection = this.style.get(event, this.extend, this.multiple);
      if (this.mustSelect || !selection.eq(this.view.state.selection) || selection.main.assoc != this.view.state.selection.main.assoc)
        this.view.dispatch({
          selection,
          userEvent: "select.pointer",
          scrollIntoView: true
        });
      this.mustSelect = false;
    }
    update(update) {
      if (update.docChanged && this.dragging)
        this.dragging = this.dragging.map(update.changes);
      if (this.style.update(update))
        setTimeout(() => this.select(this.lastEvent), 20);
    }
  };
  function addsSelectionRange(view, event) {
    let facet = view.state.facet(clickAddsSelectionRange);
    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;
  }
  function dragMovesSelection(view, event) {
    let facet = view.state.facet(dragMovesSelection$1);
    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;
  }
  function isInPrimarySelection(view, event) {
    let {main} = view.state.selection;
    if (main.empty)
      return false;
    let sel = getSelection(view.root);
    if (!sel || sel.rangeCount == 0)
      return true;
    let rects = sel.getRangeAt(0).getClientRects();
    for (let i = 0; i < rects.length; i++) {
      let rect = rects[i];
      if (rect.left <= event.clientX && rect.right >= event.clientX && rect.top <= event.clientY && rect.bottom >= event.clientY)
        return true;
    }
    return false;
  }
  function eventBelongsToEditor(view, event) {
    if (!event.bubbles)
      return true;
    if (event.defaultPrevented)
      return false;
    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)
      if (!node || node.nodeType == 11 || (cView = ContentView.get(node)) && cView.ignoreEvent(event))
        return false;
    return true;
  }
  var handlers = /* @__PURE__ */ Object.create(null);
  var handlerOptions = /* @__PURE__ */ Object.create(null);
  var brokenClipboardAPI = browser.ie && browser.ie_version < 15 || browser.ios && browser.webkit_version < 604;
  function capturePaste(view) {
    let parent = view.dom.parentNode;
    if (!parent)
      return;
    let target = parent.appendChild(document.createElement("textarea"));
    target.style.cssText = "position: fixed; left: -10000px; top: 10px";
    target.focus();
    setTimeout(() => {
      view.focus();
      target.remove();
      doPaste(view, target.value);
    }, 50);
  }
  function doPaste(view, input) {
    let {state} = view, changes, i = 1, text = state.toText(input);
    let byLine = text.lines == state.selection.ranges.length;
    let linewise = lastLinewiseCopy != null && state.selection.ranges.every((r) => r.empty) && lastLinewiseCopy == text.toString();
    if (linewise) {
      let lastLine = -1;
      changes = state.changeByRange((range) => {
        let line = state.doc.lineAt(range.from);
        if (line.from == lastLine)
          return {range};
        lastLine = line.from;
        let insert2 = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);
        return {
          changes: {from: line.from, insert: insert2},
          range: EditorSelection.cursor(range.from + insert2.length)
        };
      });
    } else if (byLine) {
      changes = state.changeByRange((range) => {
        let line = text.line(i++);
        return {
          changes: {from: range.from, to: range.to, insert: line.text},
          range: EditorSelection.cursor(range.from + line.length)
        };
      });
    } else {
      changes = state.replaceSelection(text);
    }
    view.dispatch(changes, {
      userEvent: "input.paste",
      scrollIntoView: true
    });
  }
  handlers.keydown = (view, event) => {
    view.inputState.setSelectionOrigin("select");
    if (event.keyCode == 27)
      view.inputState.lastEscPress = Date.now();
    else if (modifierCodes.indexOf(event.keyCode) < 0)
      view.inputState.lastEscPress = 0;
  };
  handlers.touchstart = (view, e) => {
    view.inputState.lastTouchTime = Date.now();
    view.inputState.setSelectionOrigin("select.pointer");
  };
  handlers.touchmove = (view) => {
    view.inputState.setSelectionOrigin("select.pointer");
  };
  handlerOptions.touchstart = handlerOptions.touchmove = {passive: true};
  handlers.mousedown = (view, event) => {
    view.observer.flush();
    if (view.inputState.lastTouchTime > Date.now() - 2e3)
      return;
    let style = null;
    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {
      style = makeStyle(view, event);
      if (style)
        break;
    }
    if (!style && event.button == 0)
      style = basicMouseSelection(view, event);
    if (style) {
      let mustFocus = view.root.activeElement != view.contentDOM;
      if (mustFocus)
        view.observer.ignore(() => focusPreventScroll(view.contentDOM));
      view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));
    }
  };
  function rangeForClick(view, pos, bias, type) {
    if (type == 1) {
      return EditorSelection.cursor(pos, bias);
    } else if (type == 2) {
      return groupAt(view.state, pos, bias);
    } else {
      let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);
      let from2 = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;
      if (to < view.state.doc.length && to == line.to)
        to++;
      return EditorSelection.range(from2, to);
    }
  }
  var insideY = (y, rect) => y >= rect.top && y <= rect.bottom;
  var inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;
  function findPositionSide(view, pos, x, y) {
    let line = LineView.find(view.docView, pos);
    if (!line)
      return 1;
    let off = pos - line.posAtStart;
    if (off == 0)
      return 1;
    if (off == line.length)
      return -1;
    let before = line.coordsAt(off, -1);
    if (before && inside(x, y, before))
      return -1;
    let after = line.coordsAt(off, 1);
    if (after && inside(x, y, after))
      return 1;
    return before && insideY(y, before) ? -1 : 1;
  }
  function queryPos(view, event) {
    let pos = view.posAtCoords({x: event.clientX, y: event.clientY}, false);
    return {pos, bias: findPositionSide(view, pos, event.clientX, event.clientY)};
  }
  var BadMouseDetail = browser.ie && browser.ie_version <= 11;
  var lastMouseDown = null;
  var lastMouseDownCount = 0;
  var lastMouseDownTime = 0;
  function getClickType(event) {
    if (!BadMouseDetail)
      return event.detail;
    let last = lastMouseDown, lastTime = lastMouseDownTime;
    lastMouseDown = event;
    lastMouseDownTime = Date.now();
    return lastMouseDownCount = !last || lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 && Math.abs(last.clientY - event.clientY) < 2 ? (lastMouseDownCount + 1) % 3 : 1;
  }
  function basicMouseSelection(view, event) {
    let start = queryPos(view, event), type = getClickType(event);
    let startSel = view.state.selection;
    let last = start, lastEvent = event;
    return {
      update(update) {
        if (update.docChanged) {
          start.pos = update.changes.mapPos(start.pos);
          startSel = startSel.map(update.changes);
          lastEvent = null;
        }
      },
      get(event2, extend2, multiple) {
        let cur2;
        if (lastEvent && event2.clientX == lastEvent.clientX && event2.clientY == lastEvent.clientY)
          cur2 = last;
        else {
          cur2 = last = queryPos(view, event2);
          lastEvent = event2;
        }
        let range = rangeForClick(view, cur2.pos, cur2.bias, type);
        if (start.pos != cur2.pos && !extend2) {
          let startRange = rangeForClick(view, start.pos, start.bias, type);
          let from2 = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);
          range = from2 < range.from ? EditorSelection.range(from2, to) : EditorSelection.range(to, from2);
        }
        if (extend2)
          return startSel.replaceRange(startSel.main.extend(range.from, range.to));
        else if (multiple && startSel.ranges.length > 1 && startSel.ranges.some((r) => r.eq(range)))
          return removeRange(startSel, range);
        else if (multiple)
          return startSel.addRange(range);
        else
          return EditorSelection.create([range]);
      }
    };
  }
  function removeRange(sel, range) {
    for (let i = 0; ; i++) {
      if (sel.ranges[i].eq(range))
        return EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));
    }
  }
  handlers.dragstart = (view, event) => {
    let {selection: {main}} = view.state;
    let {mouseSelection} = view.inputState;
    if (mouseSelection)
      mouseSelection.dragging = main;
    if (event.dataTransfer) {
      event.dataTransfer.setData("Text", view.state.sliceDoc(main.from, main.to));
      event.dataTransfer.effectAllowed = "copyMove";
    }
  };
  function dropText(view, event, text, direct) {
    if (!text)
      return;
    let dropPos = view.posAtCoords({x: event.clientX, y: event.clientY}, false);
    event.preventDefault();
    let {mouseSelection} = view.inputState;
    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ? {from: mouseSelection.dragging.from, to: mouseSelection.dragging.to} : null;
    let ins = {from: dropPos, insert: text};
    let changes = view.state.changes(del ? [del, ins] : ins);
    view.focus();
    view.dispatch({
      changes,
      selection: {anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1)},
      userEvent: del ? "move.drop" : "input.drop"
    });
  }
  handlers.drop = (view, event) => {
    if (!event.dataTransfer)
      return;
    if (view.state.readOnly)
      return event.preventDefault();
    let files = event.dataTransfer.files;
    if (files && files.length) {
      event.preventDefault();
      let text = Array(files.length), read = 0;
      let finishFile = () => {
        if (++read == files.length)
          dropText(view, event, text.filter((s) => s != null).join(view.state.lineBreak), false);
      };
      for (let i = 0; i < files.length; i++) {
        let reader = new FileReader();
        reader.onerror = finishFile;
        reader.onload = () => {
          if (!/[\x00-\x08\x0e-\x1f]{2}/.test(reader.result))
            text[i] = reader.result;
          finishFile();
        };
        reader.readAsText(files[i]);
      }
    } else {
      dropText(view, event, event.dataTransfer.getData("Text"), true);
    }
  };
  handlers.paste = (view, event) => {
    if (view.state.readOnly)
      return event.preventDefault();
    view.observer.flush();
    let data = brokenClipboardAPI ? null : event.clipboardData;
    if (data) {
      doPaste(view, data.getData("text/plain"));
      event.preventDefault();
    } else {
      capturePaste(view);
    }
  };
  function captureCopy(view, text) {
    let parent = view.dom.parentNode;
    if (!parent)
      return;
    let target = parent.appendChild(document.createElement("textarea"));
    target.style.cssText = "position: fixed; left: -10000px; top: 10px";
    target.value = text;
    target.focus();
    target.selectionEnd = text.length;
    target.selectionStart = 0;
    setTimeout(() => {
      target.remove();
      view.focus();
    }, 50);
  }
  function copiedRange(state) {
    let content2 = [], ranges = [], linewise = false;
    for (let range of state.selection.ranges)
      if (!range.empty) {
        content2.push(state.sliceDoc(range.from, range.to));
        ranges.push(range);
      }
    if (!content2.length) {
      let upto = -1;
      for (let {from: from2} of state.selection.ranges) {
        let line = state.doc.lineAt(from2);
        if (line.number > upto) {
          content2.push(line.text);
          ranges.push({from: line.from, to: Math.min(state.doc.length, line.to + 1)});
        }
        upto = line.number;
      }
      linewise = true;
    }
    return {text: content2.join(state.lineBreak), ranges, linewise};
  }
  var lastLinewiseCopy = null;
  handlers.copy = handlers.cut = (view, event) => {
    let {text, ranges, linewise} = copiedRange(view.state);
    if (!text && !linewise)
      return;
    lastLinewiseCopy = linewise ? text : null;
    let data = brokenClipboardAPI ? null : event.clipboardData;
    if (data) {
      event.preventDefault();
      data.clearData();
      data.setData("text/plain", text);
    } else {
      captureCopy(view, text);
    }
    if (event.type == "cut" && !view.state.readOnly)
      view.dispatch({
        changes: ranges,
        scrollIntoView: true,
        userEvent: "delete.cut"
      });
  };
  function updateForFocusChange(view) {
    setTimeout(() => {
      if (view.hasFocus != view.inputState.notifiedFocused)
        view.update([]);
    }, 10);
  }
  handlers.focus = (view) => {
    view.inputState.lastFocusTime = Date.now();
    if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {
      view.scrollDOM.scrollTop = view.inputState.lastScrollTop;
      view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;
    }
    updateForFocusChange(view);
  };
  handlers.blur = (view) => {
    view.observer.clearSelectionRange();
    updateForFocusChange(view);
  };
  handlers.compositionstart = handlers.compositionupdate = (view) => {
    if (view.inputState.compositionFirstChange == null)
      view.inputState.compositionFirstChange = true;
    if (view.inputState.composing < 0) {
      view.inputState.composing = 0;
    }
  };
  handlers.compositionend = (view) => {
    view.inputState.composing = -1;
    view.inputState.compositionEndedAt = Date.now();
    view.inputState.compositionFirstChange = null;
    if (browser.chrome && browser.android)
      view.observer.flushSoon();
    setTimeout(() => {
      if (view.inputState.composing < 0 && view.docView.compositionDeco.size)
        view.update([]);
    }, 50);
  };
  handlers.contextmenu = (view) => {
    view.inputState.lastContextMenu = Date.now();
  };
  handlers.beforeinput = (view, event) => {
    var _a2;
    let pending;
    if (browser.chrome && browser.android && (pending = PendingKeys.find((key) => key.inputType == event.inputType))) {
      view.observer.delayAndroidKey(pending.key, pending.keyCode);
      if (pending.key == "Backspace" || pending.key == "Delete") {
        let startViewHeight = ((_a2 = window.visualViewport) === null || _a2 === void 0 ? void 0 : _a2.height) || 0;
        setTimeout(() => {
          var _a3;
          if ((((_a3 = window.visualViewport) === null || _a3 === void 0 ? void 0 : _a3.height) || 0) > startViewHeight + 10 && view.hasFocus) {
            view.contentDOM.blur();
            view.focus();
          }
        }, 100);
      }
    }
  };
  var wrappingWhiteSpace = ["pre-wrap", "normal", "pre-line", "break-spaces"];
  var HeightOracle = class {
    constructor(lineWrapping) {
      this.lineWrapping = lineWrapping;
      this.doc = Text.empty;
      this.heightSamples = {};
      this.lineHeight = 14;
      this.charWidth = 7;
      this.lineLength = 30;
      this.heightChanged = false;
    }
    heightForGap(from2, to) {
      let lines = this.doc.lineAt(to).number - this.doc.lineAt(from2).number + 1;
      if (this.lineWrapping)
        lines += Math.ceil((to - from2 - lines * this.lineLength * 0.5) / this.lineLength);
      return this.lineHeight * lines;
    }
    heightForLine(length) {
      if (!this.lineWrapping)
        return this.lineHeight;
      let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));
      return lines * this.lineHeight;
    }
    setDoc(doc2) {
      this.doc = doc2;
      return this;
    }
    mustRefreshForWrapping(whiteSpace) {
      return wrappingWhiteSpace.indexOf(whiteSpace) > -1 != this.lineWrapping;
    }
    mustRefreshForHeights(lineHeights) {
      let newHeight = false;
      for (let i = 0; i < lineHeights.length; i++) {
        let h = lineHeights[i];
        if (h < 0) {
          i++;
        } else if (!this.heightSamples[Math.floor(h * 10)]) {
          newHeight = true;
          this.heightSamples[Math.floor(h * 10)] = true;
        }
      }
      return newHeight;
    }
    refresh(whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {
      let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;
      let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;
      this.lineWrapping = lineWrapping;
      this.lineHeight = lineHeight;
      this.charWidth = charWidth;
      this.lineLength = lineLength;
      if (changed) {
        this.heightSamples = {};
        for (let i = 0; i < knownHeights.length; i++) {
          let h = knownHeights[i];
          if (h < 0)
            i++;
          else
            this.heightSamples[Math.floor(h * 10)] = true;
        }
      }
      return changed;
    }
  };
  var MeasuredHeights = class {
    constructor(from2, heights) {
      this.from = from2;
      this.heights = heights;
      this.index = 0;
    }
    get more() {
      return this.index < this.heights.length;
    }
  };
  var BlockInfo = class {
    constructor(from2, length, top2, height, type) {
      this.from = from2;
      this.length = length;
      this.top = top2;
      this.height = height;
      this.type = type;
    }
    get to() {
      return this.from + this.length;
    }
    get bottom() {
      return this.top + this.height;
    }
    join(other) {
      let detail = (Array.isArray(this.type) ? this.type : [this]).concat(Array.isArray(other.type) ? other.type : [other]);
      return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);
    }
  };
  var QueryType = /* @__PURE__ */ function(QueryType2) {
    QueryType2[QueryType2["ByPos"] = 0] = "ByPos";
    QueryType2[QueryType2["ByHeight"] = 1] = "ByHeight";
    QueryType2[QueryType2["ByPosNoHeight"] = 2] = "ByPosNoHeight";
    return QueryType2;
  }(QueryType || (QueryType = {}));
  var Epsilon = 1e-3;
  var HeightMap = class {
    constructor(length, height, flags = 2) {
      this.length = length;
      this.height = height;
      this.flags = flags;
    }
    get outdated() {
      return (this.flags & 2) > 0;
    }
    set outdated(value) {
      this.flags = (value ? 2 : 0) | this.flags & ~2;
    }
    setHeight(oracle, height) {
      if (this.height != height) {
        if (Math.abs(this.height - height) > Epsilon)
          oracle.heightChanged = true;
        this.height = height;
      }
    }
    replace(_from, _to, nodes) {
      return HeightMap.of(nodes);
    }
    decomposeLeft(_to, result) {
      result.push(this);
    }
    decomposeRight(_from, result) {
      result.push(this);
    }
    applyChanges(decorations2, oldDoc, oracle, changes) {
      let me = this;
      for (let i = changes.length - 1; i >= 0; i--) {
        let {fromA, toA, fromB, toB} = changes[i];
        let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);
        let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);
        toB += end.to - toA;
        toA = end.to;
        while (i > 0 && start.from <= changes[i - 1].toA) {
          fromA = changes[i - 1].fromA;
          fromB = changes[i - 1].fromB;
          i--;
          if (fromA < start.from)
            start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);
        }
        fromB += start.from - fromA;
        fromA = start.from;
        let nodes = NodeBuilder.build(oracle, decorations2, fromB, toB);
        me = me.replace(fromA, toA, nodes);
      }
      return me.updateHeight(oracle, 0);
    }
    static empty() {
      return new HeightMapText(0, 0);
    }
    static of(nodes) {
      if (nodes.length == 1)
        return nodes[0];
      let i = 0, j = nodes.length, before = 0, after = 0;
      for (; ; ) {
        if (i == j) {
          if (before > after * 2) {
            let split = nodes[i - 1];
            if (split.break)
              nodes.splice(--i, 1, split.left, null, split.right);
            else
              nodes.splice(--i, 1, split.left, split.right);
            j += 1 + split.break;
            before -= split.size;
          } else if (after > before * 2) {
            let split = nodes[j];
            if (split.break)
              nodes.splice(j, 1, split.left, null, split.right);
            else
              nodes.splice(j, 1, split.left, split.right);
            j += 2 + split.break;
            after -= split.size;
          } else {
            break;
          }
        } else if (before < after) {
          let next = nodes[i++];
          if (next)
            before += next.size;
        } else {
          let next = nodes[--j];
          if (next)
            after += next.size;
        }
      }
      let brk = 0;
      if (nodes[i - 1] == null) {
        brk = 1;
        i--;
      } else if (nodes[i] == null) {
        brk = 1;
        j++;
      }
      return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));
    }
  };
  HeightMap.prototype.size = 1;
  var HeightMapBlock = class extends HeightMap {
    constructor(length, height, type) {
      super(length, height);
      this.type = type;
    }
    blockAt(_height, _doc, top2, offset) {
      return new BlockInfo(offset, this.length, top2, this.height, this.type);
    }
    lineAt(_value, _type, doc2, top2, offset) {
      return this.blockAt(0, doc2, top2, offset);
    }
    forEachLine(from2, to, doc2, top2, offset, f) {
      if (from2 <= offset + this.length && to >= offset)
        f(this.blockAt(0, doc2, top2, offset));
    }
    updateHeight(oracle, offset = 0, _force = false, measured) {
      if (measured && measured.from <= offset && measured.more)
        this.setHeight(oracle, measured.heights[measured.index++]);
      this.outdated = false;
      return this;
    }
    toString() {
      return `block(${this.length})`;
    }
  };
  var HeightMapText = class extends HeightMapBlock {
    constructor(length, height) {
      super(length, height, BlockType.Text);
      this.collapsed = 0;
      this.widgetHeight = 0;
    }
    replace(_from, _to, nodes) {
      let node = nodes[0];
      if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && node.flags & 4) && Math.abs(this.length - node.length) < 10) {
        if (node instanceof HeightMapGap)
          node = new HeightMapText(node.length, this.height);
        else
          node.height = this.height;
        if (!this.outdated)
          node.outdated = false;
        return node;
      } else {
        return HeightMap.of(nodes);
      }
    }
    updateHeight(oracle, offset = 0, force = false, measured) {
      if (measured && measured.from <= offset && measured.more)
        this.setHeight(oracle, measured.heights[measured.index++]);
      else if (force || this.outdated)
        this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));
      this.outdated = false;
      return this;
    }
    toString() {
      return `line(${this.length}${this.collapsed ? -this.collapsed : ""}${this.widgetHeight ? ":" + this.widgetHeight : ""})`;
    }
  };
  var HeightMapGap = class extends HeightMap {
    constructor(length) {
      super(length, 0);
    }
    lines(doc2, offset) {
      let firstLine = doc2.lineAt(offset).number, lastLine = doc2.lineAt(offset + this.length).number;
      return {firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1)};
    }
    blockAt(height, doc2, top2, offset) {
      let {firstLine, lastLine, lineHeight} = this.lines(doc2, offset);
      let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top2) / lineHeight)));
      let {from: from2, length} = doc2.line(firstLine + line);
      return new BlockInfo(from2, length, top2 + lineHeight * line, lineHeight, BlockType.Text);
    }
    lineAt(value, type, doc2, top2, offset) {
      if (type == QueryType.ByHeight)
        return this.blockAt(value, doc2, top2, offset);
      if (type == QueryType.ByPosNoHeight) {
        let {from: from3, to} = doc2.lineAt(value);
        return new BlockInfo(from3, to - from3, 0, 0, BlockType.Text);
      }
      let {firstLine, lineHeight} = this.lines(doc2, offset);
      let {from: from2, length, number: number2} = doc2.lineAt(value);
      return new BlockInfo(from2, length, top2 + lineHeight * (number2 - firstLine), lineHeight, BlockType.Text);
    }
    forEachLine(from2, to, doc2, top2, offset, f) {
      let {firstLine, lineHeight} = this.lines(doc2, offset);
      for (let pos = Math.max(from2, offset), end = Math.min(offset + this.length, to); pos <= end; ) {
        let line = doc2.lineAt(pos);
        if (pos == from2)
          top2 += lineHeight * (line.number - firstLine);
        f(new BlockInfo(line.from, line.length, top2, lineHeight, BlockType.Text));
        top2 += lineHeight;
        pos = line.to + 1;
      }
    }
    replace(from2, to, nodes) {
      let after = this.length - to;
      if (after > 0) {
        let last = nodes[nodes.length - 1];
        if (last instanceof HeightMapGap)
          nodes[nodes.length - 1] = new HeightMapGap(last.length + after);
        else
          nodes.push(null, new HeightMapGap(after - 1));
      }
      if (from2 > 0) {
        let first = nodes[0];
        if (first instanceof HeightMapGap)
          nodes[0] = new HeightMapGap(from2 + first.length);
        else
          nodes.unshift(new HeightMapGap(from2 - 1), null);
      }
      return HeightMap.of(nodes);
    }
    decomposeLeft(to, result) {
      result.push(new HeightMapGap(to - 1), null);
    }
    decomposeRight(from2, result) {
      result.push(null, new HeightMapGap(this.length - from2 - 1));
    }
    updateHeight(oracle, offset = 0, force = false, measured) {
      let end = offset + this.length;
      if (measured && measured.from <= offset + this.length && measured.more) {
        let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;
        let wasChanged = oracle.heightChanged;
        if (measured.from > offset)
          nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));
        while (pos <= end && measured.more) {
          let len = oracle.doc.lineAt(pos).length;
          if (nodes.length)
            nodes.push(null);
          let height = measured.heights[measured.index++];
          if (singleHeight == -1)
            singleHeight = height;
          else if (Math.abs(height - singleHeight) >= Epsilon)
            singleHeight = -2;
          let line = new HeightMapText(len, height);
          line.outdated = false;
          nodes.push(line);
          pos += len + 1;
        }
        if (pos <= end)
          nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));
        let result = HeightMap.of(nodes);
        oracle.heightChanged = wasChanged || singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon || Math.abs(singleHeight - this.lines(oracle.doc, offset).lineHeight) >= Epsilon;
        return result;
      } else if (force || this.outdated) {
        this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));
        this.outdated = false;
      }
      return this;
    }
    toString() {
      return `gap(${this.length})`;
    }
  };
  var HeightMapBranch = class extends HeightMap {
    constructor(left, brk, right) {
      super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 : 0));
      this.left = left;
      this.right = right;
      this.size = left.size + right.size;
    }
    get break() {
      return this.flags & 1;
    }
    blockAt(height, doc2, top2, offset) {
      let mid = top2 + this.left.height;
      return height < mid ? this.left.blockAt(height, doc2, top2, offset) : this.right.blockAt(height, doc2, mid, offset + this.left.length + this.break);
    }
    lineAt(value, type, doc2, top2, offset) {
      let rightTop = top2 + this.left.height, rightOffset = offset + this.left.length + this.break;
      let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;
      let base2 = left ? this.left.lineAt(value, type, doc2, top2, offset) : this.right.lineAt(value, type, doc2, rightTop, rightOffset);
      if (this.break || (left ? base2.to < rightOffset : base2.from > rightOffset))
        return base2;
      let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;
      if (left)
        return base2.join(this.right.lineAt(rightOffset, subQuery, doc2, rightTop, rightOffset));
      else
        return this.left.lineAt(rightOffset, subQuery, doc2, top2, offset).join(base2);
    }
    forEachLine(from2, to, doc2, top2, offset, f) {
      let rightTop = top2 + this.left.height, rightOffset = offset + this.left.length + this.break;
      if (this.break) {
        if (from2 < rightOffset)
          this.left.forEachLine(from2, to, doc2, top2, offset, f);
        if (to >= rightOffset)
          this.right.forEachLine(from2, to, doc2, rightTop, rightOffset, f);
      } else {
        let mid = this.lineAt(rightOffset, QueryType.ByPos, doc2, top2, offset);
        if (from2 < mid.from)
          this.left.forEachLine(from2, mid.from - 1, doc2, top2, offset, f);
        if (mid.to >= from2 && mid.from <= to)
          f(mid);
        if (to > mid.to)
          this.right.forEachLine(mid.to + 1, to, doc2, rightTop, rightOffset, f);
      }
    }
    replace(from2, to, nodes) {
      let rightStart = this.left.length + this.break;
      if (to < rightStart)
        return this.balanced(this.left.replace(from2, to, nodes), this.right);
      if (from2 > this.left.length)
        return this.balanced(this.left, this.right.replace(from2 - rightStart, to - rightStart, nodes));
      let result = [];
      if (from2 > 0)
        this.decomposeLeft(from2, result);
      let left = result.length;
      for (let node of nodes)
        result.push(node);
      if (from2 > 0)
        mergeGaps(result, left - 1);
      if (to < this.length) {
        let right = result.length;
        this.decomposeRight(to, result);
        mergeGaps(result, right);
      }
      return HeightMap.of(result);
    }
    decomposeLeft(to, result) {
      let left = this.left.length;
      if (to <= left)
        return this.left.decomposeLeft(to, result);
      result.push(this.left);
      if (this.break) {
        left++;
        if (to >= left)
          result.push(null);
      }
      if (to > left)
        this.right.decomposeLeft(to - left, result);
    }
    decomposeRight(from2, result) {
      let left = this.left.length, right = left + this.break;
      if (from2 >= right)
        return this.right.decomposeRight(from2 - right, result);
      if (from2 < left)
        this.left.decomposeRight(from2, result);
      if (this.break && from2 < right)
        result.push(null);
      result.push(this.right);
    }
    balanced(left, right) {
      if (left.size > 2 * right.size || right.size > 2 * left.size)
        return HeightMap.of(this.break ? [left, null, right] : [left, right]);
      this.left = left;
      this.right = right;
      this.height = left.height + right.height;
      this.outdated = left.outdated || right.outdated;
      this.size = left.size + right.size;
      this.length = left.length + this.break + right.length;
      return this;
    }
    updateHeight(oracle, offset = 0, force = false, measured) {
      let {left, right} = this, rightStart = offset + left.length + this.break, rebalance = null;
      if (measured && measured.from <= offset + left.length && measured.more)
        rebalance = left = left.updateHeight(oracle, offset, force, measured);
      else
        left.updateHeight(oracle, offset, force);
      if (measured && measured.from <= rightStart + right.length && measured.more)
        rebalance = right = right.updateHeight(oracle, rightStart, force, measured);
      else
        right.updateHeight(oracle, rightStart, force);
      if (rebalance)
        return this.balanced(left, right);
      this.height = this.left.height + this.right.height;
      this.outdated = false;
      return this;
    }
    toString() {
      return this.left + (this.break ? " " : "-") + this.right;
    }
  };
  function mergeGaps(nodes, around) {
    let before, after;
    if (nodes[around] == null && (before = nodes[around - 1]) instanceof HeightMapGap && (after = nodes[around + 1]) instanceof HeightMapGap)
      nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));
  }
  var relevantWidgetHeight = 5;
  var NodeBuilder = class {
    constructor(pos, oracle) {
      this.pos = pos;
      this.oracle = oracle;
      this.nodes = [];
      this.lineStart = -1;
      this.lineEnd = -1;
      this.covering = null;
      this.writtenTo = pos;
    }
    get isCovered() {
      return this.covering && this.nodes[this.nodes.length - 1] == this.covering;
    }
    span(_from, to) {
      if (this.lineStart > -1) {
        let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];
        if (last instanceof HeightMapText)
          last.length += end - this.pos;
        else if (end > this.pos || !this.isCovered)
          this.nodes.push(new HeightMapText(end - this.pos, -1));
        this.writtenTo = end;
        if (to > end) {
          this.nodes.push(null);
          this.writtenTo++;
          this.lineStart = -1;
        }
      }
      this.pos = to;
    }
    point(from2, to, deco) {
      if (from2 < to || deco.heightRelevant) {
        let height = deco.widget ? deco.widget.estimatedHeight : 0;
        if (height < 0)
          height = this.oracle.lineHeight;
        let len = to - from2;
        if (deco.block) {
          this.addBlock(new HeightMapBlock(len, height, deco.type));
        } else if (len || height >= relevantWidgetHeight) {
          this.addLineDeco(height, len);
        }
      } else if (to > from2) {
        this.span(from2, to);
      }
      if (this.lineEnd > -1 && this.lineEnd < this.pos)
        this.lineEnd = this.oracle.doc.lineAt(this.pos).to;
    }
    enterLine() {
      if (this.lineStart > -1)
        return;
      let {from: from2, to} = this.oracle.doc.lineAt(this.pos);
      this.lineStart = from2;
      this.lineEnd = to;
      if (this.writtenTo < from2) {
        if (this.writtenTo < from2 - 1 || this.nodes[this.nodes.length - 1] == null)
          this.nodes.push(this.blankContent(this.writtenTo, from2 - 1));
        this.nodes.push(null);
      }
      if (this.pos > from2)
        this.nodes.push(new HeightMapText(this.pos - from2, -1));
      this.writtenTo = this.pos;
    }
    blankContent(from2, to) {
      let gap = new HeightMapGap(to - from2);
      if (this.oracle.doc.lineAt(from2).to == to)
        gap.flags |= 4;
      return gap;
    }
    ensureLine() {
      this.enterLine();
      let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;
      if (last instanceof HeightMapText)
        return last;
      let line = new HeightMapText(0, -1);
      this.nodes.push(line);
      return line;
    }
    addBlock(block) {
      this.enterLine();
      if (block.type == BlockType.WidgetAfter && !this.isCovered)
        this.ensureLine();
      this.nodes.push(block);
      this.writtenTo = this.pos = this.pos + block.length;
      if (block.type != BlockType.WidgetBefore)
        this.covering = block;
    }
    addLineDeco(height, length) {
      let line = this.ensureLine();
      line.length += length;
      line.collapsed += length;
      line.widgetHeight = Math.max(line.widgetHeight, height);
      this.writtenTo = this.pos = this.pos + length;
    }
    finish(from2) {
      let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];
      if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)
        this.nodes.push(new HeightMapText(0, -1));
      else if (this.writtenTo < this.pos || last == null)
        this.nodes.push(this.blankContent(this.writtenTo, this.pos));
      let pos = from2;
      for (let node of this.nodes) {
        if (node instanceof HeightMapText)
          node.updateHeight(this.oracle, pos);
        pos += node ? node.length : 1;
      }
      return this.nodes;
    }
    static build(oracle, decorations2, from2, to) {
      let builder = new NodeBuilder(from2, oracle);
      RangeSet.spans(decorations2, from2, to, builder, 0);
      return builder.finish(from2);
    }
  };
  function heightRelevantDecoChanges(a, b, diff) {
    let comp = new DecorationComparator();
    RangeSet.compare(a, b, diff, comp, 0);
    return comp.changes;
  }
  var DecorationComparator = class {
    constructor() {
      this.changes = [];
    }
    compareRange() {
    }
    comparePoint(from2, to, a, b) {
      if (from2 < to || a && a.heightRelevant || b && b.heightRelevant)
        addRange(from2, to, this.changes, 5);
    }
  };
  function visiblePixelRange(dom, paddingTop) {
    let rect = dom.getBoundingClientRect();
    let doc2 = dom.ownerDocument, win = doc2.defaultView || window;
    let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);
    let top2 = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);
    for (let parent = dom.parentNode; parent && parent != doc2.body; ) {
      if (parent.nodeType == 1) {
        let elt = parent;
        let style = window.getComputedStyle(elt);
        if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) && style.overflow != "visible") {
          let parentRect = elt.getBoundingClientRect();
          left = Math.max(left, parentRect.left);
          right = Math.min(right, parentRect.right);
          top2 = Math.max(top2, parentRect.top);
          bottom = parent == dom.parentNode ? parentRect.bottom : Math.min(bottom, parentRect.bottom);
        }
        parent = style.position == "absolute" || style.position == "fixed" ? elt.offsetParent : elt.parentNode;
      } else if (parent.nodeType == 11) {
        parent = parent.host;
      } else {
        break;
      }
    }
    return {
      left: left - rect.left,
      right: Math.max(left, right) - rect.left,
      top: top2 - (rect.top + paddingTop),
      bottom: Math.max(top2, bottom) - (rect.top + paddingTop)
    };
  }
  function fullPixelRange(dom, paddingTop) {
    let rect = dom.getBoundingClientRect();
    return {
      left: 0,
      right: rect.right - rect.left,
      top: paddingTop,
      bottom: rect.bottom - (rect.top + paddingTop)
    };
  }
  var LineGap = class {
    constructor(from2, to, size) {
      this.from = from2;
      this.to = to;
      this.size = size;
    }
    static same(a, b) {
      if (a.length != b.length)
        return false;
      for (let i = 0; i < a.length; i++) {
        let gA = a[i], gB = b[i];
        if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)
          return false;
      }
      return true;
    }
    draw(wrapping) {
      return Decoration.replace({widget: new LineGapWidget(this.size, wrapping)}).range(this.from, this.to);
    }
  };
  var LineGapWidget = class extends WidgetType {
    constructor(size, vertical) {
      super();
      this.size = size;
      this.vertical = vertical;
    }
    eq(other) {
      return other.size == this.size && other.vertical == this.vertical;
    }
    toDOM() {
      let elt = document.createElement("div");
      if (this.vertical) {
        elt.style.height = this.size + "px";
      } else {
        elt.style.width = this.size + "px";
        elt.style.height = "2px";
        elt.style.display = "inline-block";
      }
      return elt;
    }
    get estimatedHeight() {
      return this.vertical ? this.size : -1;
    }
  };
  var ViewState = class {
    constructor(state) {
      this.state = state;
      this.pixelViewport = {left: 0, right: window.innerWidth, top: 0, bottom: 0};
      this.inView = true;
      this.paddingTop = 0;
      this.paddingBottom = 0;
      this.contentDOMWidth = 0;
      this.contentDOMHeight = 0;
      this.editorHeight = 0;
      this.editorWidth = 0;
      this.scaler = IdScaler;
      this.scrollTarget = null;
      this.printing = false;
      this.mustMeasureContent = true;
      this.defaultTextDirection = Direction.LTR;
      this.visibleRanges = [];
      this.mustEnforceCursorAssoc = false;
      let guessWrapping = state.facet(contentAttributes).some((v) => typeof v != "function" && v.class == "cm-lineWrapping");
      this.heightOracle = new HeightOracle(guessWrapping);
      this.stateDeco = state.facet(decorations).filter((d) => typeof d != "function");
      this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);
      this.viewport = this.getViewport(0, null);
      this.updateViewportLines();
      this.updateForViewport();
      this.lineGaps = this.ensureLineGaps([]);
      this.lineGapDeco = Decoration.set(this.lineGaps.map((gap) => gap.draw(false)));
      this.computeVisibleRanges();
    }
    updateForViewport() {
      let viewports = [this.viewport], {main} = this.state.selection;
      for (let i = 0; i <= 1; i++) {
        let pos = i ? main.head : main.anchor;
        if (!viewports.some(({from: from2, to}) => pos >= from2 && pos <= to)) {
          let {from: from2, to} = this.lineBlockAt(pos);
          viewports.push(new Viewport(from2, to));
        }
      }
      this.viewports = viewports.sort((a, b) => a.from - b.from);
      this.scaler = this.heightMap.height <= 7e6 ? IdScaler : new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);
    }
    updateViewportLines() {
      this.viewportLines = [];
      this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, (block) => {
        this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));
      });
    }
    update(update, scrollTarget = null) {
      this.state = update.state;
      let prevDeco = this.stateDeco;
      this.stateDeco = this.state.facet(decorations).filter((d) => typeof d != "function");
      let contentChanges = update.changedRanges;
      let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));
      let prevHeight = this.heightMap.height;
      this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);
      if (this.heightMap.height != prevHeight)
        update.flags |= 2;
      let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;
      if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) || !this.viewportIsAppropriate(viewport))
        viewport = this.getViewport(0, scrollTarget);
      let updateLines = !update.changes.empty || update.flags & 2 || viewport.from != this.viewport.from || viewport.to != this.viewport.to;
      this.viewport = viewport;
      this.updateForViewport();
      if (updateLines)
        this.updateViewportLines();
      if (this.lineGaps.length || this.viewport.to - this.viewport.from > 2e3 << 1)
        this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));
      update.flags |= this.computeVisibleRanges();
      if (scrollTarget)
        this.scrollTarget = scrollTarget;
      if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping && update.state.selection.main.empty && update.state.selection.main.assoc && !update.state.facet(nativeSelectionHidden))
        this.mustEnforceCursorAssoc = true;
    }
    measure(view) {
      let dom = view.contentDOM, style = window.getComputedStyle(dom);
      let oracle = this.heightOracle;
      let whiteSpace = style.whiteSpace;
      this.defaultTextDirection = style.direction == "rtl" ? Direction.RTL : Direction.LTR;
      let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);
      let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != dom.clientHeight;
      this.contentDOMHeight = dom.clientHeight;
      this.mustMeasureContent = false;
      let result = 0, bias = 0;
      let paddingTop = parseInt(style.paddingTop) || 0, paddingBottom = parseInt(style.paddingBottom) || 0;
      if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {
        this.paddingTop = paddingTop;
        this.paddingBottom = paddingBottom;
        result |= 8 | 2;
      }
      if (this.editorWidth != view.scrollDOM.clientWidth) {
        if (oracle.lineWrapping)
          measureContent = true;
        this.editorWidth = view.scrollDOM.clientWidth;
        result |= 8;
      }
      let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);
      let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;
      this.pixelViewport = pixelViewport;
      let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;
      if (inView != this.inView) {
        this.inView = inView;
        if (inView)
          measureContent = true;
      }
      if (!this.inView && !this.scrollTarget)
        return 0;
      let contentWidth = dom.clientWidth;
      if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {
        this.contentDOMWidth = contentWidth;
        this.editorHeight = view.scrollDOM.clientHeight;
        result |= 8;
      }
      if (measureContent) {
        let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);
        if (oracle.mustRefreshForHeights(lineHeights))
          refresh = true;
        if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {
          let {lineHeight, charWidth} = view.docView.measureTextSize();
          refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, contentWidth / charWidth, lineHeights);
          if (refresh) {
            view.docView.minWidth = 0;
            result |= 8;
          }
        }
        if (dTop > 0 && dBottom > 0)
          bias = Math.max(dTop, dBottom);
        else if (dTop < 0 && dBottom < 0)
          bias = Math.min(dTop, dBottom);
        oracle.heightChanged = false;
        for (let vp of this.viewports) {
          let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);
          this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));
        }
        if (oracle.heightChanged)
          result |= 2;
      }
      let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) || this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from || this.scrollTarget.range.head > this.viewport.to);
      if (viewportChange)
        this.viewport = this.getViewport(bias, this.scrollTarget);
      this.updateForViewport();
      if (result & 2 || viewportChange)
        this.updateViewportLines();
      if (this.lineGaps.length || this.viewport.to - this.viewport.from > 2e3 << 1)
        this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));
      result |= this.computeVisibleRanges();
      if (this.mustEnforceCursorAssoc) {
        this.mustEnforceCursorAssoc = false;
        view.docView.enforceCursorAssoc();
      }
      return result;
    }
    get visibleTop() {
      return this.scaler.fromDOM(this.pixelViewport.top);
    }
    get visibleBottom() {
      return this.scaler.fromDOM(this.pixelViewport.bottom);
    }
    getViewport(bias, scrollTarget) {
      let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1e3 / 2));
      let map = this.heightMap, doc2 = this.state.doc, {visibleTop, visibleBottom} = this;
      let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1e3, QueryType.ByHeight, doc2, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1e3, QueryType.ByHeight, doc2, 0, 0).to);
      if (scrollTarget) {
        let {head} = scrollTarget.range;
        if (head < viewport.from || head > viewport.to) {
          let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);
          let block = map.lineAt(head, QueryType.ByPos, doc2, 0, 0), topPos;
          if (scrollTarget.y == "center")
            topPos = (block.top + block.bottom) / 2 - viewHeight / 2;
          else if (scrollTarget.y == "start" || scrollTarget.y == "nearest" && head < viewport.from)
            topPos = block.top;
          else
            topPos = block.bottom - viewHeight;
          viewport = new Viewport(map.lineAt(topPos - 1e3 / 2, QueryType.ByHeight, doc2, 0, 0).from, map.lineAt(topPos + viewHeight + 1e3 / 2, QueryType.ByHeight, doc2, 0, 0).to);
        }
      }
      return viewport;
    }
    mapViewport(viewport, changes) {
      let from2 = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);
      return new Viewport(this.heightMap.lineAt(from2, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);
    }
    viewportIsAppropriate({from: from2, to}, bias = 0) {
      if (!this.inView)
        return true;
      let {top: top2} = this.heightMap.lineAt(from2, QueryType.ByPos, this.state.doc, 0, 0);
      let {bottom} = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);
      let {visibleTop, visibleBottom} = this;
      return (from2 == 0 || top2 <= visibleTop - Math.max(10, Math.min(-bias, 250))) && (to == this.state.doc.length || bottom >= visibleBottom + Math.max(10, Math.min(bias, 250))) && (top2 > visibleTop - 2 * 1e3 && bottom < visibleBottom + 2 * 1e3);
    }
    mapLineGaps(gaps, changes) {
      if (!gaps.length || changes.empty)
        return gaps;
      let mapped = [];
      for (let gap of gaps)
        if (!changes.touchesRange(gap.from, gap.to))
          mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));
      return mapped;
    }
    ensureLineGaps(current, mayMeasure) {
      let wrapping = this.heightOracle.lineWrapping;
      let margin = wrapping ? 1e4 : 2e3, halfMargin = margin >> 1, doubleMargin = margin << 1;
      if (this.defaultTextDirection != Direction.LTR && !wrapping)
        return [];
      let gaps = [];
      let addGap = (from2, to, line, structure) => {
        if (to - from2 < halfMargin)
          return;
        let sel = this.state.selection.main, avoid = [sel.from];
        if (!sel.empty)
          avoid.push(sel.to);
        for (let pos of avoid) {
          if (pos > from2 && pos < to) {
            addGap(from2, pos - 10, line, structure);
            addGap(pos + 10, to, line, structure);
            return;
          }
        }
        let gap = find(current, (gap2) => gap2.from >= line.from && gap2.to <= line.to && Math.abs(gap2.from - from2) < halfMargin && Math.abs(gap2.to - to) < halfMargin && !avoid.some((pos) => gap2.from < pos && gap2.to > pos));
        if (!gap) {
          if (to < line.to && mayMeasure && wrapping && mayMeasure.visibleRanges.some((r) => r.from <= to && r.to >= to)) {
            let lineStart = mayMeasure.moveToLineBoundary(EditorSelection.cursor(to), false, true).head;
            if (lineStart > from2)
              to = lineStart;
          }
          gap = new LineGap(from2, to, this.gapSize(line, from2, to, structure));
        }
        gaps.push(gap);
      };
      for (let line of this.viewportLines) {
        if (line.length < doubleMargin)
          continue;
        let structure = lineStructure(line.from, line.to, this.stateDeco);
        if (structure.total < doubleMargin)
          continue;
        let target = this.scrollTarget ? this.scrollTarget.range.head : null;
        let viewFrom, viewTo;
        if (wrapping) {
          let marginHeight = margin / this.heightOracle.lineLength * this.heightOracle.lineHeight;
          let top2, bot;
          if (target != null) {
            let targetFrac = findFraction(structure, target);
            let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;
            top2 = targetFrac - spaceFrac;
            bot = targetFrac + spaceFrac;
          } else {
            top2 = (this.visibleTop - line.top - marginHeight) / line.height;
            bot = (this.visibleBottom - line.top + marginHeight) / line.height;
          }
          viewFrom = findPosition(structure, top2);
          viewTo = findPosition(structure, bot);
        } else {
          let totalWidth = structure.total * this.heightOracle.charWidth;
          let marginWidth = margin * this.heightOracle.charWidth;
          let left, right;
          if (target != null) {
            let targetFrac = findFraction(structure, target);
            let spaceFrac = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + marginWidth) / totalWidth;
            left = targetFrac - spaceFrac;
            right = targetFrac + spaceFrac;
          } else {
            left = (this.pixelViewport.left - marginWidth) / totalWidth;
            right = (this.pixelViewport.right + marginWidth) / totalWidth;
          }
          viewFrom = findPosition(structure, left);
          viewTo = findPosition(structure, right);
        }
        if (viewFrom > line.from)
          addGap(line.from, viewFrom, line, structure);
        if (viewTo < line.to)
          addGap(viewTo, line.to, line, structure);
      }
      return gaps;
    }
    gapSize(line, from2, to, structure) {
      let fraction = findFraction(structure, to) - findFraction(structure, from2);
      if (this.heightOracle.lineWrapping) {
        return line.height * fraction;
      } else {
        return structure.total * this.heightOracle.charWidth * fraction;
      }
    }
    updateLineGaps(gaps) {
      if (!LineGap.same(gaps, this.lineGaps)) {
        this.lineGaps = gaps;
        this.lineGapDeco = Decoration.set(gaps.map((gap) => gap.draw(this.heightOracle.lineWrapping)));
      }
    }
    computeVisibleRanges() {
      let deco = this.stateDeco;
      if (this.lineGaps.length)
        deco = deco.concat(this.lineGapDeco);
      let ranges = [];
      RangeSet.spans(deco, this.viewport.from, this.viewport.to, {
        span(from2, to) {
          ranges.push({from: from2, to});
        },
        point() {
        }
      }, 20);
      let changed = ranges.length != this.visibleRanges.length || this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);
      this.visibleRanges = ranges;
      return changed ? 4 : 0;
    }
    lineBlockAt(pos) {
      return pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find((b) => b.from <= pos && b.to >= pos) || scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, 0, 0), this.scaler);
    }
    lineBlockAtHeight(height) {
      return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.state.doc, 0, 0), this.scaler);
    }
    elementAtHeight(height) {
      return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.state.doc, 0, 0), this.scaler);
    }
    get docHeight() {
      return this.scaler.toDOM(this.heightMap.height);
    }
    get contentHeight() {
      return this.docHeight + this.paddingTop + this.paddingBottom;
    }
  };
  var Viewport = class {
    constructor(from2, to) {
      this.from = from2;
      this.to = to;
    }
  };
  function lineStructure(from2, to, stateDeco) {
    let ranges = [], pos = from2, total = 0;
    RangeSet.spans(stateDeco, from2, to, {
      span() {
      },
      point(from3, to2) {
        if (from3 > pos) {
          ranges.push({from: pos, to: from3});
          total += from3 - pos;
        }
        pos = to2;
      }
    }, 20);
    if (pos < to) {
      ranges.push({from: pos, to});
      total += to - pos;
    }
    return {total, ranges};
  }
  function findPosition({total, ranges}, ratio) {
    if (ratio <= 0)
      return ranges[0].from;
    if (ratio >= 1)
      return ranges[ranges.length - 1].to;
    let dist = Math.floor(total * ratio);
    for (let i = 0; ; i++) {
      let {from: from2, to} = ranges[i], size = to - from2;
      if (dist <= size)
        return from2 + dist;
      dist -= size;
    }
  }
  function findFraction(structure, pos) {
    let counted = 0;
    for (let {from: from2, to} of structure.ranges) {
      if (pos <= to) {
        counted += pos - from2;
        break;
      }
      counted += to - from2;
    }
    return counted / structure.total;
  }
  function find(array2, f) {
    for (let val of array2)
      if (f(val))
        return val;
    return void 0;
  }
  var IdScaler = {
    toDOM(n) {
      return n;
    },
    fromDOM(n) {
      return n;
    },
    scale: 1
  };
  var BigScaler = class {
    constructor(doc2, heightMap, viewports) {
      let vpHeight = 0, base2 = 0, domBase = 0;
      this.viewports = viewports.map(({from: from2, to}) => {
        let top2 = heightMap.lineAt(from2, QueryType.ByPos, doc2, 0, 0).top;
        let bottom = heightMap.lineAt(to, QueryType.ByPos, doc2, 0, 0).bottom;
        vpHeight += bottom - top2;
        return {from: from2, to, top: top2, bottom, domTop: 0, domBottom: 0};
      });
      this.scale = (7e6 - vpHeight) / (heightMap.height - vpHeight);
      for (let obj of this.viewports) {
        obj.domTop = domBase + (obj.top - base2) * this.scale;
        domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);
        base2 = obj.bottom;
      }
    }
    toDOM(n) {
      for (let i = 0, base2 = 0, domBase = 0; ; i++) {
        let vp = i < this.viewports.length ? this.viewports[i] : null;
        if (!vp || n < vp.top)
          return domBase + (n - base2) * this.scale;
        if (n <= vp.bottom)
          return vp.domTop + (n - vp.top);
        base2 = vp.bottom;
        domBase = vp.domBottom;
      }
    }
    fromDOM(n) {
      for (let i = 0, base2 = 0, domBase = 0; ; i++) {
        let vp = i < this.viewports.length ? this.viewports[i] : null;
        if (!vp || n < vp.domTop)
          return base2 + (n - domBase) / this.scale;
        if (n <= vp.domBottom)
          return vp.top + (n - vp.domTop);
        base2 = vp.bottom;
        domBase = vp.domBottom;
      }
    }
  };
  function scaleBlock(block, scaler) {
    if (scaler.scale == 1)
      return block;
    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);
    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map((b) => scaleBlock(b, scaler)) : block.type);
  }
  var theme = /* @__PURE__ */ Facet.define({combine: (strs) => strs.join(" ")});
  var darkTheme = /* @__PURE__ */ Facet.define({combine: (values2) => values2.indexOf(true) > -1});
  var baseThemeID = /* @__PURE__ */ StyleModule.newName();
  var baseLightID = /* @__PURE__ */ StyleModule.newName();
  var baseDarkID = /* @__PURE__ */ StyleModule.newName();
  var lightDarkIDs = {"&light": "." + baseLightID, "&dark": "." + baseDarkID};
  function buildTheme(main, spec, scopes) {
    return new StyleModule(spec, {
      finish(sel) {
        return /&/.test(sel) ? sel.replace(/&\w*/, (m) => {
          if (m == "&")
            return main;
          if (!scopes || !scopes[m])
            throw new RangeError(`Unsupported selector: ${m}`);
          return scopes[m];
        }) : main + " " + sel;
      }
    });
  }
  var baseTheme$1 = /* @__PURE__ */ buildTheme("." + baseThemeID, {
    "&.cm-editor": {
      position: "relative !important",
      boxSizing: "border-box",
      "&.cm-focused": {
        outline: "1px dotted #212121"
      },
      display: "flex !important",
      flexDirection: "column"
    },
    ".cm-scroller": {
      display: "flex !important",
      alignItems: "flex-start !important",
      fontFamily: "monospace",
      lineHeight: 1.4,
      height: "100%",
      overflowX: "auto",
      position: "relative",
      zIndex: 0
    },
    ".cm-content": {
      margin: 0,
      flexGrow: 2,
      flexShrink: 0,
      minHeight: "100%",
      display: "block",
      whiteSpace: "pre",
      wordWrap: "normal",
      boxSizing: "border-box",
      padding: "4px 0",
      outline: "none",
      "&[contenteditable=true]": {
        WebkitUserModify: "read-write-plaintext-only"
      }
    },
    ".cm-lineWrapping": {
      whiteSpace_fallback: "pre-wrap",
      whiteSpace: "break-spaces",
      wordBreak: "break-word",
      overflowWrap: "anywhere",
      flexShrink: 1
    },
    "&light .cm-content": {caretColor: "black"},
    "&dark .cm-content": {caretColor: "white"},
    ".cm-line": {
      display: "block",
      padding: "0 2px 0 4px"
    },
    ".cm-selectionLayer": {
      zIndex: -1,
      contain: "size style"
    },
    ".cm-selectionBackground": {
      position: "absolute"
    },
    "&light .cm-selectionBackground": {
      background: "#d9d9d9"
    },
    "&dark .cm-selectionBackground": {
      background: "#222"
    },
    "&light.cm-focused .cm-selectionBackground": {
      background: "#d7d4f0"
    },
    "&dark.cm-focused .cm-selectionBackground": {
      background: "#233"
    },
    ".cm-cursorLayer": {
      zIndex: 100,
      contain: "size style",
      pointerEvents: "none"
    },
    "&.cm-focused .cm-cursorLayer": {
      animation: "steps(1) cm-blink 1.2s infinite"
    },
    "@keyframes cm-blink": {"0%": {}, "50%": {opacity: 0}, "100%": {}},
    "@keyframes cm-blink2": {"0%": {}, "50%": {opacity: 0}, "100%": {}},
    ".cm-cursor, .cm-dropCursor": {
      position: "absolute",
      borderLeft: "1.2px solid black",
      marginLeft: "-0.6px",
      pointerEvents: "none"
    },
    ".cm-cursor": {
      display: "none"
    },
    "&dark .cm-cursor": {
      borderLeftColor: "#444"
    },
    "&.cm-focused .cm-cursor": {
      display: "block"
    },
    "&light .cm-activeLine": {backgroundColor: "#cceeff44"},
    "&dark .cm-activeLine": {backgroundColor: "#99eeff33"},
    "&light .cm-specialChar": {color: "red"},
    "&dark .cm-specialChar": {color: "#f78"},
    ".cm-gutters": {
      flexShrink: 0,
      display: "flex",
      height: "100%",
      boxSizing: "border-box",
      left: 0,
      zIndex: 200
    },
    "&light .cm-gutters": {
      backgroundColor: "#f5f5f5",
      color: "#6c6c6c",
      borderRight: "1px solid #ddd"
    },
    "&dark .cm-gutters": {
      backgroundColor: "#333338",
      color: "#ccc"
    },
    ".cm-gutter": {
      display: "flex !important",
      flexDirection: "column",
      flexShrink: 0,
      boxSizing: "border-box",
      minHeight: "100%",
      overflow: "hidden"
    },
    ".cm-gutterElement": {
      boxSizing: "border-box"
    },
    ".cm-lineNumbers .cm-gutterElement": {
      padding: "0 3px 0 5px",
      minWidth: "20px",
      textAlign: "right",
      whiteSpace: "nowrap"
    },
    "&light .cm-activeLineGutter": {
      backgroundColor: "#e2f2ff"
    },
    "&dark .cm-activeLineGutter": {
      backgroundColor: "#222227"
    },
    ".cm-panels": {
      boxSizing: "border-box",
      position: "sticky",
      left: 0,
      right: 0
    },
    "&light .cm-panels": {
      backgroundColor: "#f5f5f5",
      color: "black"
    },
    "&light .cm-panels-top": {
      borderBottom: "1px solid #ddd"
    },
    "&light .cm-panels-bottom": {
      borderTop: "1px solid #ddd"
    },
    "&dark .cm-panels": {
      backgroundColor: "#333338",
      color: "white"
    },
    ".cm-tab": {
      display: "inline-block",
      overflow: "hidden",
      verticalAlign: "bottom"
    },
    ".cm-widgetBuffer": {
      verticalAlign: "text-top",
      height: "1em",
      width: 0,
      display: "inline"
    },
    ".cm-placeholder": {
      color: "#888",
      display: "inline-block",
      verticalAlign: "top"
    },
    ".cm-button": {
      verticalAlign: "middle",
      color: "inherit",
      fontSize: "70%",
      padding: ".2em 1em",
      borderRadius: "1px"
    },
    "&light .cm-button": {
      backgroundImage: "linear-gradient(#eff1f5, #d9d9df)",
      border: "1px solid #888",
      "&:active": {
        backgroundImage: "linear-gradient(#b4b4b4, #d0d3d6)"
      }
    },
    "&dark .cm-button": {
      backgroundImage: "linear-gradient(#393939, #111)",
      border: "1px solid #888",
      "&:active": {
        backgroundImage: "linear-gradient(#111, #333)"
      }
    },
    ".cm-textfield": {
      verticalAlign: "middle",
      color: "inherit",
      fontSize: "70%",
      border: "1px solid silver",
      padding: ".2em .5em"
    },
    "&light .cm-textfield": {
      backgroundColor: "white"
    },
    "&dark .cm-textfield": {
      border: "1px solid #555",
      backgroundColor: "inherit"
    }
  }, lightDarkIDs);
  var DOMChange = class {
    constructor(view, start, end, typeOver) {
      this.typeOver = typeOver;
      this.bounds = null;
      this.text = "";
      let {impreciseHead: iHead, impreciseAnchor: iAnchor} = view.docView;
      if (view.state.readOnly && start > -1) {
        this.newSel = null;
      } else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {
        let selPoints = iHead || iAnchor ? [] : selectionPoints(view);
        let reader = new DOMReader(selPoints, view.state);
        reader.readRange(this.bounds.startDOM, this.bounds.endDOM);
        this.text = reader.text;
        this.newSel = selectionFromPoints(selPoints, this.bounds.from);
      } else {
        let domSel = view.observer.selectionRange;
        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset || !contains(view.contentDOM, domSel.focusNode) ? view.state.selection.main.head : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);
        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset || !contains(view.contentDOM, domSel.anchorNode) ? view.state.selection.main.anchor : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);
        this.newSel = EditorSelection.single(anchor, head);
      }
    }
  };
  function applyDOMChange(view, domChange) {
    let change;
    let {newSel} = domChange, sel = view.state.selection.main;
    if (domChange.bounds) {
      let {from: from2, to} = domChange.bounds;
      let preferredPos = sel.from, preferredSide = null;
      if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 || browser.android && domChange.text.length < to - from2) {
        preferredPos = sel.to;
        preferredSide = "end";
      }
      let diff = findDiff(view.state.doc.sliceString(from2, to, LineBreakPlaceholder), domChange.text, preferredPos - from2, preferredSide);
      if (diff) {
        if (browser.chrome && view.inputState.lastKeyCode == 13 && diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)
          diff.toB--;
        change = {
          from: from2 + diff.from,
          to: from2 + diff.toA,
          insert: Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder))
        };
      }
    } else if (newSel && (!view.hasFocus || !view.state.facet(editable) || newSel.main.eq(sel))) {
      newSel = null;
    }
    if (!change && !newSel)
      return false;
    if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {
      change = {from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to)};
    } else if (change && change.from >= sel.from && change.to <= sel.to && (change.from != sel.from || change.to != sel.to) && sel.to - sel.from - (change.to - change.from) <= 4) {
      change = {
        from: sel.from,
        to: sel.to,
        insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))
      };
    } else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 && /^\. ?$/.test(change.insert.toString())) {
      if (newSel && change.insert.length == 2)
        newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);
      change = {from: sel.from, to: sel.to, insert: Text.of([" "])};
    } else if (browser.chrome && change && change.from == change.to && change.from == sel.head && change.insert.toString() == "\n " && view.lineWrapping) {
      if (newSel)
        newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);
      change = {from: sel.from, to: sel.to, insert: Text.of([" "])};
    }
    if (change) {
      let startState = view.state;
      if (browser.ios && view.inputState.flushIOSKey(view))
        return true;
      if (browser.android && (change.from == sel.from && change.to == sel.to && change.insert.length == 1 && change.insert.lines == 2 && dispatchKey(view.contentDOM, "Enter", 13) || change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 && dispatchKey(view.contentDOM, "Backspace", 8) || change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 && dispatchKey(view.contentDOM, "Delete", 46)))
        return true;
      let text = change.insert.toString();
      if (view.state.facet(inputHandler).some((h) => h(view, change.from, change.to, text)))
        return true;
      if (view.inputState.composing >= 0)
        view.inputState.composing++;
      let tr;
      if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 && (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) && view.inputState.composing < 0) {
        let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : "";
        let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : "";
        tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, void 0, view.state.lineBreak) + after));
      } else {
        let changes = startState.changes(change);
        let mainSel = newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength ? newSel.main : void 0;
        if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 && change.to <= sel.to && change.to >= sel.to - 10) {
          let replaced = view.state.sliceDoc(change.from, change.to);
          let compositionRange = compositionSurroundingNode(view) || view.state.doc.lineAt(sel.head);
          let offset = sel.to - change.to, size = sel.to - sel.from;
          tr = startState.changeByRange((range) => {
            if (range.from == sel.from && range.to == sel.to)
              return {changes, range: mainSel || range.map(changes)};
            let to = range.to - offset, from2 = to - replaced.length;
            if (range.to - range.from != size || view.state.sliceDoc(from2, to) != replaced || compositionRange && range.to >= compositionRange.from && range.from <= compositionRange.to)
              return {range};
            let rangeChanges = startState.changes({from: from2, to, insert: change.insert}), selOff = range.to - sel.to;
            return {
              changes: rangeChanges,
              range: !mainSel ? range.map(rangeChanges) : EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))
            };
          });
        } else {
          tr = {
            changes,
            selection: mainSel && startState.selection.replaceRange(mainSel)
          };
        }
      }
      let userEvent = "input.type";
      if (view.composing) {
        userEvent += ".compose";
        if (view.inputState.compositionFirstChange) {
          userEvent += ".start";
          view.inputState.compositionFirstChange = false;
        }
      }
      view.dispatch(tr, {scrollIntoView: true, userEvent});
      return true;
    } else if (newSel && !newSel.main.eq(sel)) {
      let scrollIntoView3 = false, userEvent = "select";
      if (view.inputState.lastSelectionTime > Date.now() - 50) {
        if (view.inputState.lastSelectionOrigin == "select")
          scrollIntoView3 = true;
        userEvent = view.inputState.lastSelectionOrigin;
      }
      view.dispatch({selection: newSel, scrollIntoView: scrollIntoView3, userEvent});
      return true;
    } else {
      return false;
    }
  }
  function findDiff(a, b, preferredPos, preferredSide) {
    let minLen = Math.min(a.length, b.length);
    let from2 = 0;
    while (from2 < minLen && a.charCodeAt(from2) == b.charCodeAt(from2))
      from2++;
    if (from2 == minLen && a.length == b.length)
      return null;
    let toA = a.length, toB = b.length;
    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {
      toA--;
      toB--;
    }
    if (preferredSide == "end") {
      let adjust = Math.max(0, from2 - Math.min(toA, toB));
      preferredPos -= toA + adjust - from2;
    }
    if (toA < from2 && a.length < b.length) {
      let move = preferredPos <= from2 && preferredPos >= toA ? from2 - preferredPos : 0;
      from2 -= move;
      toB = from2 + (toB - toA);
      toA = from2;
    } else if (toB < from2) {
      let move = preferredPos <= from2 && preferredPos >= toB ? from2 - preferredPos : 0;
      from2 -= move;
      toA = from2 + (toA - toB);
      toB = from2;
    }
    return {from: from2, toA, toB};
  }
  function selectionPoints(view) {
    let result = [];
    if (view.root.activeElement != view.contentDOM)
      return result;
    let {anchorNode, anchorOffset, focusNode, focusOffset} = view.observer.selectionRange;
    if (anchorNode) {
      result.push(new DOMPoint(anchorNode, anchorOffset));
      if (focusNode != anchorNode || focusOffset != anchorOffset)
        result.push(new DOMPoint(focusNode, focusOffset));
    }
    return result;
  }
  function selectionFromPoints(points, base2) {
    if (points.length == 0)
      return null;
    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;
    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base2, head + base2) : null;
  }
  var observeOptions = {
    childList: true,
    characterData: true,
    subtree: true,
    attributes: true,
    characterDataOldValue: true
  };
  var useCharData = browser.ie && browser.ie_version <= 11;
  var DOMObserver = class {
    constructor(view) {
      this.view = view;
      this.active = false;
      this.selectionRange = new DOMSelectionState();
      this.selectionChanged = false;
      this.delayedFlush = -1;
      this.resizeTimeout = -1;
      this.queue = [];
      this.delayedAndroidKey = null;
      this.flushingAndroidKey = -1;
      this.lastChange = 0;
      this.scrollTargets = [];
      this.intersection = null;
      this.resize = null;
      this.intersecting = false;
      this.gapIntersection = null;
      this.gaps = [];
      this.parentCheck = -1;
      this.dom = view.contentDOM;
      this.observer = new MutationObserver((mutations) => {
        for (let mut of mutations)
          this.queue.push(mut);
        if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) && mutations.some((m) => m.type == "childList" && m.removedNodes.length || m.type == "characterData" && m.oldValue.length > m.target.nodeValue.length))
          this.flushSoon();
        else
          this.flush();
      });
      if (useCharData)
        this.onCharData = (event) => {
          this.queue.push({
            target: event.target,
            type: "characterData",
            oldValue: event.prevValue
          });
          this.flushSoon();
        };
      this.onSelectionChange = this.onSelectionChange.bind(this);
      this.onResize = this.onResize.bind(this);
      this.onPrint = this.onPrint.bind(this);
      this.onScroll = this.onScroll.bind(this);
      if (typeof ResizeObserver == "function") {
        this.resize = new ResizeObserver(() => {
          var _a2;
          if (((_a2 = this.view.docView) === null || _a2 === void 0 ? void 0 : _a2.lastUpdate) < Date.now() - 75)
            this.onResize();
        });
        this.resize.observe(view.scrollDOM);
      }
      this.addWindowListeners(this.win = view.win);
      this.start();
      if (typeof IntersectionObserver == "function") {
        this.intersection = new IntersectionObserver((entries) => {
          if (this.parentCheck < 0)
            this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1e3);
          if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {
            this.intersecting = !this.intersecting;
            if (this.intersecting != this.view.inView)
              this.onScrollChanged(document.createEvent("Event"));
          }
        }, {});
        this.intersection.observe(this.dom);
        this.gapIntersection = new IntersectionObserver((entries) => {
          if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)
            this.onScrollChanged(document.createEvent("Event"));
        }, {});
      }
      this.listenForScroll();
      this.readSelectionRange();
    }
    onScrollChanged(e) {
      this.view.inputState.runScrollHandlers(this.view, e);
      if (this.intersecting)
        this.view.measure();
    }
    onScroll(e) {
      if (this.intersecting)
        this.flush(false);
      this.onScrollChanged(e);
    }
    onResize() {
      if (this.resizeTimeout < 0)
        this.resizeTimeout = setTimeout(() => {
          this.resizeTimeout = -1;
          this.view.requestMeasure();
        }, 50);
    }
    onPrint() {
      this.view.viewState.printing = true;
      this.view.measure();
      setTimeout(() => {
        this.view.viewState.printing = false;
        this.view.requestMeasure();
      }, 500);
    }
    updateGaps(gaps) {
      if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {
        this.gapIntersection.disconnect();
        for (let gap of gaps)
          this.gapIntersection.observe(gap);
        this.gaps = gaps;
      }
    }
    onSelectionChange(event) {
      let wasChanged = this.selectionChanged;
      if (!this.readSelectionRange() || this.delayedAndroidKey)
        return;
      let {view} = this, sel = this.selectionRange;
      if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))
        return;
      let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);
      if (context && context.ignoreEvent(event)) {
        if (!wasChanged)
          this.selectionChanged = false;
        return;
      }
      if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty && sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))
        this.flushSoon();
      else
        this.flush(false);
    }
    readSelectionRange() {
      let {view} = this;
      let range = browser.safari && view.root.nodeType == 11 && deepActiveElement(this.dom.ownerDocument) == this.dom && safariSelectionRangeHack(this.view) || getSelection(view.root);
      if (!range || this.selectionRange.eq(range))
        return false;
      let local = hasSelection(this.dom, range);
      if (local && !this.selectionChanged && view.inputState.lastFocusTime > Date.now() - 200 && view.inputState.lastTouchTime < Date.now() - 300 && atElementStart(this.dom, range)) {
        this.view.inputState.lastFocusTime = 0;
        view.docView.updateSelection();
        return false;
      }
      this.selectionRange.setRange(range);
      if (local)
        this.selectionChanged = true;
      return true;
    }
    setSelectionRange(anchor, head) {
      this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);
      this.selectionChanged = false;
    }
    clearSelectionRange() {
      this.selectionRange.set(null, 0, null, 0);
    }
    listenForScroll() {
      this.parentCheck = -1;
      let i = 0, changed = null;
      for (let dom = this.dom; dom; ) {
        if (dom.nodeType == 1) {
          if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)
            i++;
          else if (!changed)
            changed = this.scrollTargets.slice(0, i);
          if (changed)
            changed.push(dom);
          dom = dom.assignedSlot || dom.parentNode;
        } else if (dom.nodeType == 11) {
          dom = dom.host;
        } else {
          break;
        }
      }
      if (i < this.scrollTargets.length && !changed)
        changed = this.scrollTargets.slice(0, i);
      if (changed) {
        for (let dom of this.scrollTargets)
          dom.removeEventListener("scroll", this.onScroll);
        for (let dom of this.scrollTargets = changed)
          dom.addEventListener("scroll", this.onScroll);
      }
    }
    ignore(f) {
      if (!this.active)
        return f();
      try {
        this.stop();
        return f();
      } finally {
        this.start();
        this.clear();
      }
    }
    start() {
      if (this.active)
        return;
      this.observer.observe(this.dom, observeOptions);
      if (useCharData)
        this.dom.addEventListener("DOMCharacterDataModified", this.onCharData);
      this.active = true;
    }
    stop() {
      if (!this.active)
        return;
      this.active = false;
      this.observer.disconnect();
      if (useCharData)
        this.dom.removeEventListener("DOMCharacterDataModified", this.onCharData);
    }
    clear() {
      this.processRecords();
      this.queue.length = 0;
      this.selectionChanged = false;
    }
    delayAndroidKey(key, keyCode) {
      var _a2;
      if (!this.delayedAndroidKey) {
        let flush = () => {
          let key2 = this.delayedAndroidKey;
          if (key2) {
            this.clearDelayedAndroidKey();
            if (!this.flush() && key2.force)
              dispatchKey(this.dom, key2.key, key2.keyCode);
          }
        };
        this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);
      }
      if (!this.delayedAndroidKey || key == "Enter")
        this.delayedAndroidKey = {
          key,
          keyCode,
          force: this.lastChange < Date.now() - 50 || !!((_a2 = this.delayedAndroidKey) === null || _a2 === void 0 ? void 0 : _a2.force)
        };
    }
    clearDelayedAndroidKey() {
      this.win.cancelAnimationFrame(this.flushingAndroidKey);
      this.delayedAndroidKey = null;
      this.flushingAndroidKey = -1;
    }
    flushSoon() {
      if (this.delayedFlush < 0)
        this.delayedFlush = this.view.win.requestAnimationFrame(() => {
          this.delayedFlush = -1;
          this.flush();
        });
    }
    forceFlush() {
      if (this.delayedFlush >= 0) {
        this.view.win.cancelAnimationFrame(this.delayedFlush);
        this.delayedFlush = -1;
      }
      this.flush();
    }
    processRecords() {
      let records = this.queue;
      for (let mut of this.observer.takeRecords())
        records.push(mut);
      if (records.length)
        this.queue = [];
      let from2 = -1, to = -1, typeOver = false;
      for (let record of records) {
        let range = this.readMutation(record);
        if (!range)
          continue;
        if (range.typeOver)
          typeOver = true;
        if (from2 == -1) {
          ({from: from2, to} = range);
        } else {
          from2 = Math.min(range.from, from2);
          to = Math.max(range.to, to);
        }
      }
      return {from: from2, to, typeOver};
    }
    readChange() {
      let {from: from2, to, typeOver} = this.processRecords();
      let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);
      if (from2 < 0 && !newSel)
        return null;
      if (from2 > -1)
        this.lastChange = Date.now();
      this.view.inputState.lastFocusTime = 0;
      this.selectionChanged = false;
      return new DOMChange(this.view, from2, to, typeOver);
    }
    flush(readSelection = true) {
      if (this.delayedFlush >= 0 || this.delayedAndroidKey)
        return false;
      if (readSelection)
        this.readSelectionRange();
      let domChange = this.readChange();
      if (!domChange)
        return false;
      let startState = this.view.state;
      let handled = applyDOMChange(this.view, domChange);
      if (this.view.state == startState)
        this.view.update([]);
      return handled;
    }
    readMutation(rec) {
      let cView = this.view.docView.nearest(rec.target);
      if (!cView || cView.ignoreMutation(rec))
        return null;
      cView.markDirty(rec.type == "attributes");
      if (rec.type == "attributes")
        cView.dirty |= 4;
      if (rec.type == "childList") {
        let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);
        let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);
        return {
          from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,
          to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd,
          typeOver: false
        };
      } else if (rec.type == "characterData") {
        return {from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue};
      } else {
        return null;
      }
    }
    setWindow(win) {
      if (win != this.win) {
        this.removeWindowListeners(this.win);
        this.win = win;
        this.addWindowListeners(this.win);
      }
    }
    addWindowListeners(win) {
      win.addEventListener("resize", this.onResize);
      win.addEventListener("beforeprint", this.onPrint);
      win.addEventListener("scroll", this.onScroll);
      win.document.addEventListener("selectionchange", this.onSelectionChange);
    }
    removeWindowListeners(win) {
      win.removeEventListener("scroll", this.onScroll);
      win.removeEventListener("resize", this.onResize);
      win.removeEventListener("beforeprint", this.onPrint);
      win.document.removeEventListener("selectionchange", this.onSelectionChange);
    }
    destroy() {
      var _a2, _b, _c;
      this.stop();
      (_a2 = this.intersection) === null || _a2 === void 0 ? void 0 : _a2.disconnect();
      (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();
      (_c = this.resize) === null || _c === void 0 ? void 0 : _c.disconnect();
      for (let dom of this.scrollTargets)
        dom.removeEventListener("scroll", this.onScroll);
      this.removeWindowListeners(this.win);
      clearTimeout(this.parentCheck);
      clearTimeout(this.resizeTimeout);
      this.win.cancelAnimationFrame(this.delayedFlush);
      this.win.cancelAnimationFrame(this.flushingAndroidKey);
    }
  };
  function findChild(cView, dom, dir) {
    while (dom) {
      let curView = ContentView.get(dom);
      if (curView && curView.parent == cView)
        return curView;
      let parent = dom.parentNode;
      dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;
    }
    return null;
  }
  function safariSelectionRangeHack(view) {
    let found = null;
    function read(event) {
      event.preventDefault();
      event.stopImmediatePropagation();
      found = event.getTargetRanges()[0];
    }
    view.contentDOM.addEventListener("beforeinput", read, true);
    view.dom.ownerDocument.execCommand("indent");
    view.contentDOM.removeEventListener("beforeinput", read, true);
    if (!found)
      return null;
    let anchorNode = found.startContainer, anchorOffset = found.startOffset;
    let focusNode = found.endContainer, focusOffset = found.endOffset;
    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);
    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))
      [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];
    return {anchorNode, anchorOffset, focusNode, focusOffset};
  }
  var EditorView = class {
    constructor(config = {}) {
      this.plugins = [];
      this.pluginMap = new Map();
      this.editorAttrs = {};
      this.contentAttrs = {};
      this.bidiCache = [];
      this.destroyed = false;
      this.updateState = 2;
      this.measureScheduled = -1;
      this.measureRequests = [];
      this.contentDOM = document.createElement("div");
      this.scrollDOM = document.createElement("div");
      this.scrollDOM.tabIndex = -1;
      this.scrollDOM.className = "cm-scroller";
      this.scrollDOM.appendChild(this.contentDOM);
      this.announceDOM = document.createElement("div");
      this.announceDOM.style.cssText = "position: absolute; top: -10000px";
      this.announceDOM.setAttribute("aria-live", "polite");
      this.dom = document.createElement("div");
      this.dom.appendChild(this.announceDOM);
      this.dom.appendChild(this.scrollDOM);
      this._dispatch = config.dispatch || ((tr) => this.update([tr]));
      this.dispatch = this.dispatch.bind(this);
      this._root = config.root || getRoot(config.parent) || document;
      this.viewState = new ViewState(config.state || EditorState.create(config));
      this.plugins = this.state.facet(viewPlugin).map((spec) => new PluginInstance(spec));
      for (let plugin of this.plugins)
        plugin.update(this);
      this.observer = new DOMObserver(this);
      this.inputState = new InputState(this);
      this.inputState.ensureHandlers(this, this.plugins);
      this.docView = new DocView(this);
      this.mountStyles();
      this.updateAttrs();
      this.updateState = 0;
      this.requestMeasure();
      if (config.parent)
        config.parent.appendChild(this.dom);
    }
    get state() {
      return this.viewState.state;
    }
    get viewport() {
      return this.viewState.viewport;
    }
    get visibleRanges() {
      return this.viewState.visibleRanges;
    }
    get inView() {
      return this.viewState.inView;
    }
    get composing() {
      return this.inputState.composing > 0;
    }
    get compositionStarted() {
      return this.inputState.composing >= 0;
    }
    get root() {
      return this._root;
    }
    get win() {
      return this.dom.ownerDocument.defaultView || window;
    }
    dispatch(...input) {
      this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0] : this.state.update(...input));
    }
    update(transactions) {
      if (this.updateState != 0)
        throw new Error("Calls to EditorView.update are not allowed while an update is in progress");
      let redrawn = false, attrsChanged = false, update;
      let state = this.state;
      for (let tr of transactions) {
        if (tr.startState != state)
          throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");
        state = tr.state;
      }
      if (this.destroyed) {
        this.viewState.state = state;
        return;
      }
      let pendingKey = this.observer.delayedAndroidKey, domChange = null;
      if (pendingKey) {
        this.observer.clearDelayedAndroidKey();
        domChange = this.observer.readChange();
        if (domChange && !this.state.doc.eq(state.doc) || !this.state.selection.eq(state.selection))
          domChange = null;
      } else {
        this.observer.clear();
      }
      if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))
        return this.setState(state);
      update = ViewUpdate.create(this, state, transactions);
      let scrollTarget = this.viewState.scrollTarget;
      try {
        this.updateState = 2;
        for (let tr of transactions) {
          if (scrollTarget)
            scrollTarget = scrollTarget.map(tr.changes);
          if (tr.scrollIntoView) {
            let {main} = tr.state.selection;
            scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));
          }
          for (let e of tr.effects)
            if (e.is(scrollIntoView))
              scrollTarget = e.value;
        }
        this.viewState.update(update, scrollTarget);
        this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);
        if (!update.empty) {
          this.updatePlugins(update);
          this.inputState.update(update);
        }
        redrawn = this.docView.update(update);
        if (this.state.facet(styleModule) != this.styleModules)
          this.mountStyles();
        attrsChanged = this.updateAttrs();
        this.showAnnouncements(transactions);
        this.docView.updateSelection(redrawn, transactions.some((tr) => tr.isUserEvent("select.pointer")));
      } finally {
        this.updateState = 0;
      }
      if (update.startState.facet(theme) != update.state.facet(theme))
        this.viewState.mustMeasureContent = true;
      if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)
        this.requestMeasure();
      if (!update.empty)
        for (let listener of this.state.facet(updateListener))
          listener(update);
      if (domChange) {
        if (!applyDOMChange(this, domChange) && pendingKey.force)
          dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);
      }
    }
    setState(newState) {
      if (this.updateState != 0)
        throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");
      if (this.destroyed) {
        this.viewState.state = newState;
        return;
      }
      this.updateState = 2;
      let hadFocus = this.hasFocus;
      try {
        for (let plugin of this.plugins)
          plugin.destroy(this);
        this.viewState = new ViewState(newState);
        this.plugins = newState.facet(viewPlugin).map((spec) => new PluginInstance(spec));
        this.pluginMap.clear();
        for (let plugin of this.plugins)
          plugin.update(this);
        this.docView = new DocView(this);
        this.inputState.ensureHandlers(this, this.plugins);
        this.mountStyles();
        this.updateAttrs();
        this.bidiCache = [];
      } finally {
        this.updateState = 0;
      }
      if (hadFocus)
        this.focus();
      this.requestMeasure();
    }
    updatePlugins(update) {
      let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);
      if (prevSpecs != specs) {
        let newPlugins = [];
        for (let spec of specs) {
          let found = prevSpecs.indexOf(spec);
          if (found < 0) {
            newPlugins.push(new PluginInstance(spec));
          } else {
            let plugin = this.plugins[found];
            plugin.mustUpdate = update;
            newPlugins.push(plugin);
          }
        }
        for (let plugin of this.plugins)
          if (plugin.mustUpdate != update)
            plugin.destroy(this);
        this.plugins = newPlugins;
        this.pluginMap.clear();
        this.inputState.ensureHandlers(this, this.plugins);
      } else {
        for (let p of this.plugins)
          p.mustUpdate = update;
      }
      for (let i = 0; i < this.plugins.length; i++)
        this.plugins[i].update(this);
    }
    measure(flush = true) {
      if (this.destroyed)
        return;
      if (this.measureScheduled > -1)
        cancelAnimationFrame(this.measureScheduled);
      this.measureScheduled = 0;
      if (flush)
        this.observer.forceFlush();
      let updated = null;
      let {scrollHeight, scrollTop, clientHeight} = this.scrollDOM;
      let refHeight = scrollTop > scrollHeight - clientHeight - 4 ? scrollHeight : scrollTop;
      try {
        for (let i = 0; ; i++) {
          this.updateState = 1;
          let oldViewport = this.viewport;
          let refBlock = this.viewState.lineBlockAtHeight(refHeight);
          let changed = this.viewState.measure(this);
          if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)
            break;
          if (i > 5) {
            console.warn(this.measureRequests.length ? "Measure loop restarted more than 5 times" : "Viewport failed to stabilize");
            break;
          }
          let measuring = [];
          if (!(changed & 4))
            [this.measureRequests, measuring] = [measuring, this.measureRequests];
          let measured = measuring.map((m) => {
            try {
              return m.read(this);
            } catch (e) {
              logException(this.state, e);
              return BadMeasure;
            }
          });
          let update = ViewUpdate.create(this, this.state, []), redrawn = false, scrolled = false;
          update.flags |= changed;
          if (!updated)
            updated = update;
          else
            updated.flags |= changed;
          this.updateState = 2;
          if (!update.empty) {
            this.updatePlugins(update);
            this.inputState.update(update);
            this.updateAttrs();
            redrawn = this.docView.update(update);
          }
          for (let i2 = 0; i2 < measuring.length; i2++)
            if (measured[i2] != BadMeasure) {
              try {
                let m = measuring[i2];
                if (m.write)
                  m.write(measured[i2], this);
              } catch (e) {
                logException(this.state, e);
              }
            }
          if (this.viewState.editorHeight) {
            if (this.viewState.scrollTarget) {
              this.docView.scrollIntoView(this.viewState.scrollTarget);
              this.viewState.scrollTarget = null;
              scrolled = true;
            } else {
              let diff = this.viewState.lineBlockAt(refBlock.from).top - refBlock.top;
              if (diff > 1 || diff < -1) {
                this.scrollDOM.scrollTop += diff;
                scrolled = true;
              }
            }
          }
          if (redrawn)
            this.docView.updateSelection(true);
          if (this.viewport.from == oldViewport.from && this.viewport.to == oldViewport.to && !scrolled && this.measureRequests.length == 0)
            break;
        }
      } finally {
        this.updateState = 0;
        this.measureScheduled = -1;
      }
      if (updated && !updated.empty)
        for (let listener of this.state.facet(updateListener))
          listener(updated);
    }
    get themeClasses() {
      return baseThemeID + " " + (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + " " + this.state.facet(theme);
    }
    updateAttrs() {
      let editorAttrs = attrsFromFacet(this, editorAttributes, {
        class: "cm-editor" + (this.hasFocus ? " cm-focused " : " ") + this.themeClasses
      });
      let contentAttrs = {
        spellcheck: "false",
        autocorrect: "off",
        autocapitalize: "off",
        translate: "no",
        contenteditable: !this.state.facet(editable) ? "false" : "true",
        class: "cm-content",
        style: `${browser.tabSize}: ${this.state.tabSize}`,
        role: "textbox",
        "aria-multiline": "true"
      };
      if (this.state.readOnly)
        contentAttrs["aria-readonly"] = "true";
      attrsFromFacet(this, contentAttributes, contentAttrs);
      let changed = this.observer.ignore(() => {
        let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);
        let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);
        return changedContent || changedEditor;
      });
      this.editorAttrs = editorAttrs;
      this.contentAttrs = contentAttrs;
      return changed;
    }
    showAnnouncements(trs) {
      let first = true;
      for (let tr of trs)
        for (let effect of tr.effects)
          if (effect.is(EditorView.announce)) {
            if (first)
              this.announceDOM.textContent = "";
            first = false;
            let div = this.announceDOM.appendChild(document.createElement("div"));
            div.textContent = effect.value;
          }
    }
    mountStyles() {
      this.styleModules = this.state.facet(styleModule);
      StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse());
    }
    readMeasured() {
      if (this.updateState == 2)
        throw new Error("Reading the editor layout isn't allowed during an update");
      if (this.updateState == 0 && this.measureScheduled > -1)
        this.measure(false);
    }
    requestMeasure(request) {
      if (this.measureScheduled < 0)
        this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());
      if (request) {
        if (request.key != null)
          for (let i = 0; i < this.measureRequests.length; i++) {
            if (this.measureRequests[i].key === request.key) {
              this.measureRequests[i] = request;
              return;
            }
          }
        this.measureRequests.push(request);
      }
    }
    plugin(plugin) {
      let known = this.pluginMap.get(plugin);
      if (known === void 0 || known && known.spec != plugin)
        this.pluginMap.set(plugin, known = this.plugins.find((p) => p.spec == plugin) || null);
      return known && known.update(this).value;
    }
    get documentTop() {
      return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;
    }
    get documentPadding() {
      return {top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom};
    }
    elementAtHeight(height) {
      this.readMeasured();
      return this.viewState.elementAtHeight(height);
    }
    lineBlockAtHeight(height) {
      this.readMeasured();
      return this.viewState.lineBlockAtHeight(height);
    }
    get viewportLineBlocks() {
      return this.viewState.viewportLines;
    }
    lineBlockAt(pos) {
      return this.viewState.lineBlockAt(pos);
    }
    get contentHeight() {
      return this.viewState.contentHeight;
    }
    moveByChar(start, forward, by) {
      return skipAtoms(this, start, moveByChar(this, start, forward, by));
    }
    moveByGroup(start, forward) {
      return skipAtoms(this, start, moveByChar(this, start, forward, (initial) => byGroup(this, start.head, initial)));
    }
    moveToLineBoundary(start, forward, includeWrap = true) {
      return moveToLineBoundary(this, start, forward, includeWrap);
    }
    moveVertically(start, forward, distance) {
      return skipAtoms(this, start, moveVertically(this, start, forward, distance));
    }
    domAtPos(pos) {
      return this.docView.domAtPos(pos);
    }
    posAtDOM(node, offset = 0) {
      return this.docView.posFromDOM(node, offset);
    }
    posAtCoords(coords, precise = true) {
      this.readMeasured();
      return posAtCoords(this, coords, precise);
    }
    coordsAtPos(pos, side = 1) {
      this.readMeasured();
      let rect = this.docView.coordsAt(pos, side);
      if (!rect || rect.left == rect.right)
        return rect;
      let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);
      let span = order[BidiSpan.find(order, pos - line.from, -1, side)];
      return flattenRect(rect, span.dir == Direction.LTR == side > 0);
    }
    get defaultCharacterWidth() {
      return this.viewState.heightOracle.charWidth;
    }
    get defaultLineHeight() {
      return this.viewState.heightOracle.lineHeight;
    }
    get textDirection() {
      return this.viewState.defaultTextDirection;
    }
    textDirectionAt(pos) {
      let perLine = this.state.facet(perLineTextDirection);
      if (!perLine || pos < this.viewport.from || pos > this.viewport.to)
        return this.textDirection;
      this.readMeasured();
      return this.docView.textDirectionAt(pos);
    }
    get lineWrapping() {
      return this.viewState.heightOracle.lineWrapping;
    }
    bidiSpans(line) {
      if (line.length > MaxBidiLine)
        return trivialOrder(line.length);
      let dir = this.textDirectionAt(line.from);
      for (let entry of this.bidiCache)
        if (entry.from == line.from && entry.dir == dir)
          return entry.order;
      let order = computeOrder(line.text, dir);
      this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));
      return order;
    }
    get hasFocus() {
      var _a2;
      return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a2 = this.inputState) === null || _a2 === void 0 ? void 0 : _a2.lastContextMenu) > Date.now() - 3e4) && this.root.activeElement == this.contentDOM;
    }
    focus() {
      this.observer.ignore(() => {
        focusPreventScroll(this.contentDOM);
        this.docView.updateSelection();
      });
    }
    setRoot(root) {
      if (this._root != root) {
        this._root = root;
        this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);
        this.mountStyles();
      }
    }
    destroy() {
      for (let plugin of this.plugins)
        plugin.destroy(this);
      this.plugins = [];
      this.inputState.destroy();
      this.dom.remove();
      this.observer.destroy();
      if (this.measureScheduled > -1)
        cancelAnimationFrame(this.measureScheduled);
      this.destroyed = true;
    }
    static scrollIntoView(pos, options = {}) {
      return scrollIntoView.of(new ScrollTarget(typeof pos == "number" ? EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));
    }
    static domEventHandlers(handlers2) {
      return ViewPlugin.define(() => ({}), {eventHandlers: handlers2});
    }
    static theme(spec, options) {
      let prefix = StyleModule.newName();
      let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];
      if (options && options.dark)
        result.push(darkTheme.of(true));
      return result;
    }
    static baseTheme(spec) {
      return Prec.lowest(styleModule.of(buildTheme("." + baseThemeID, spec, lightDarkIDs)));
    }
    static findFromDOM(dom) {
      var _a2;
      let content2 = dom.querySelector(".cm-content");
      let cView = content2 && ContentView.get(content2) || ContentView.get(dom);
      return ((_a2 = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a2 === void 0 ? void 0 : _a2.view) || null;
    }
  };
  EditorView.styleModule = styleModule;
  EditorView.inputHandler = inputHandler;
  EditorView.perLineTextDirection = perLineTextDirection;
  EditorView.exceptionSink = exceptionSink;
  EditorView.updateListener = updateListener;
  EditorView.editable = editable;
  EditorView.mouseSelectionStyle = mouseSelectionStyle;
  EditorView.dragMovesSelection = dragMovesSelection$1;
  EditorView.clickAddsSelectionRange = clickAddsSelectionRange;
  EditorView.decorations = decorations;
  EditorView.atomicRanges = atomicRanges;
  EditorView.scrollMargins = scrollMargins;
  EditorView.darkTheme = darkTheme;
  EditorView.contentAttributes = contentAttributes;
  EditorView.editorAttributes = editorAttributes;
  EditorView.lineWrapping = /* @__PURE__ */ EditorView.contentAttributes.of({class: "cm-lineWrapping"});
  EditorView.announce = /* @__PURE__ */ StateEffect.define();
  var MaxBidiLine = 4096;
  var BadMeasure = {};
  var CachedOrder = class {
    constructor(from2, to, dir, order) {
      this.from = from2;
      this.to = to;
      this.dir = dir;
      this.order = order;
    }
    static update(cache2, changes) {
      if (changes.empty)
        return cache2;
      let result = [], lastDir = cache2.length ? cache2[cache2.length - 1].dir : Direction.LTR;
      for (let i = Math.max(0, cache2.length - 10); i < cache2.length; i++) {
        let entry = cache2[i];
        if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))
          result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));
      }
      return result;
    }
  };
  function attrsFromFacet(view, facet, base2) {
    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {
      let source = sources[i], value = typeof source == "function" ? source(view) : source;
      if (value)
        combineAttrs(value, base2);
    }
    return base2;
  }
  var currentPlatform = browser.mac ? "mac" : browser.windows ? "win" : browser.linux ? "linux" : "key";
  function normalizeKeyName(name2, platform) {
    const parts = name2.split(/-(?!$)/);
    let result = parts[parts.length - 1];
    if (result == "Space")
      result = " ";
    let alt, ctrl, shift2, meta2;
    for (let i = 0; i < parts.length - 1; ++i) {
      const mod = parts[i];
      if (/^(cmd|meta|m)$/i.test(mod))
        meta2 = true;
      else if (/^a(lt)?$/i.test(mod))
        alt = true;
      else if (/^(c|ctrl|control)$/i.test(mod))
        ctrl = true;
      else if (/^s(hift)?$/i.test(mod))
        shift2 = true;
      else if (/^mod$/i.test(mod)) {
        if (platform == "mac")
          meta2 = true;
        else
          ctrl = true;
      } else
        throw new Error("Unrecognized modifier name: " + mod);
    }
    if (alt)
      result = "Alt-" + result;
    if (ctrl)
      result = "Ctrl-" + result;
    if (meta2)
      result = "Meta-" + result;
    if (shift2)
      result = "Shift-" + result;
    return result;
  }
  function modifiers(name2, event, shift2) {
    if (event.altKey)
      name2 = "Alt-" + name2;
    if (event.ctrlKey)
      name2 = "Ctrl-" + name2;
    if (event.metaKey)
      name2 = "Meta-" + name2;
    if (shift2 !== false && event.shiftKey)
      name2 = "Shift-" + name2;
    return name2;
  }
  var handleKeyEvents = /* @__PURE__ */ Prec.default(/* @__PURE__ */ EditorView.domEventHandlers({
    keydown(event, view) {
      return runHandlers(getKeymap(view.state), event, view, "editor");
    }
  }));
  var keymap = /* @__PURE__ */ Facet.define({enables: handleKeyEvents});
  var Keymaps = /* @__PURE__ */ new WeakMap();
  function getKeymap(state) {
    let bindings = state.facet(keymap);
    let map = Keymaps.get(bindings);
    if (!map)
      Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));
    return map;
  }
  var storedPrefix = null;
  var PrefixTimeout = 4e3;
  function buildKeymap(bindings, platform = currentPlatform) {
    let bound = Object.create(null);
    let isPrefix = Object.create(null);
    let checkPrefix = (name2, is) => {
      let current = isPrefix[name2];
      if (current == null)
        isPrefix[name2] = is;
      else if (current != is)
        throw new Error("Key binding " + name2 + " is used both as a regular binding and as a multi-stroke prefix");
    };
    let add = (scope, key, command, preventDefault) => {
      var _a2, _b;
      let scopeObj = bound[scope] || (bound[scope] = Object.create(null));
      let parts = key.split(/ (?!$)/).map((k) => normalizeKeyName(k, platform));
      for (let i = 1; i < parts.length; i++) {
        let prefix = parts.slice(0, i).join(" ");
        checkPrefix(prefix, true);
        if (!scopeObj[prefix])
          scopeObj[prefix] = {
            preventDefault: true,
            run: [(view) => {
              let ourObj = storedPrefix = {view, prefix, scope};
              setTimeout(() => {
                if (storedPrefix == ourObj)
                  storedPrefix = null;
              }, PrefixTimeout);
              return true;
            }]
          };
      }
      let full = parts.join(" ");
      checkPrefix(full, false);
      let binding = scopeObj[full] || (scopeObj[full] = {preventDefault: false, run: ((_b = (_a2 = scopeObj._any) === null || _a2 === void 0 ? void 0 : _a2.run) === null || _b === void 0 ? void 0 : _b.slice()) || []});
      if (command)
        binding.run.push(command);
      if (preventDefault)
        binding.preventDefault = true;
    };
    for (let b of bindings) {
      let scopes = b.scope ? b.scope.split(" ") : ["editor"];
      if (b.any)
        for (let scope of scopes) {
          let scopeObj = bound[scope] || (bound[scope] = Object.create(null));
          if (!scopeObj._any)
            scopeObj._any = {preventDefault: false, run: []};
          for (let key in scopeObj)
            scopeObj[key].run.push(b.any);
        }
      let name2 = b[platform] || b.key;
      if (!name2)
        continue;
      for (let scope of scopes) {
        add(scope, name2, b.run, b.preventDefault);
        if (b.shift)
          add(scope, "Shift-" + name2, b.shift, b.preventDefault);
      }
    }
    return bound;
  }
  function runHandlers(map, event, view, scope) {
    let name2 = keyName(event);
    let charCode = codePointAt(name2, 0), isChar = codePointSize(charCode) == name2.length && name2 != " ";
    let prefix = "", fallthrough = false;
    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {
      prefix = storedPrefix.prefix + " ";
      if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)
        storedPrefix = null;
    }
    let ran = new Set();
    let runFor = (binding) => {
      if (binding) {
        for (let cmd of binding.run)
          if (!ran.has(cmd)) {
            ran.add(cmd);
            if (cmd(view, event))
              return true;
          }
        if (binding.preventDefault)
          fallthrough = true;
      }
      return false;
    };
    let scopeObj = map[scope], baseName, shiftName;
    if (scopeObj) {
      if (runFor(scopeObj[prefix + modifiers(name2, event, !isChar)]))
        return true;
      if (isChar && (event.altKey || event.metaKey || event.ctrlKey) && (baseName = base[event.keyCode]) && baseName != name2) {
        if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))
          return true;
        else if (event.shiftKey && (shiftName = shift[event.keyCode]) != name2 && shiftName != baseName && runFor(scopeObj[prefix + modifiers(shiftName, event, false)]))
          return true;
      } else if (isChar && event.shiftKey) {
        if (runFor(scopeObj[prefix + modifiers(name2, event, true)]))
          return true;
      }
      if (runFor(scopeObj._any))
        return true;
    }
    return fallthrough;
  }
  var CanHidePrimary = !browser.ios;
  var themeSpec = {
    ".cm-line": {
      "& ::selection": {backgroundColor: "transparent !important"},
      "&::selection": {backgroundColor: "transparent !important"}
    }
  };
  if (CanHidePrimary)
    themeSpec[".cm-line"].caretColor = "transparent !important";
  var UnicodeRegexpSupport = /x/.unicode != null ? "gu" : "g";
  var Outside = "-10000px";
  var TooltipViewManager = class {
    constructor(view, facet, createTooltipView) {
      this.facet = facet;
      this.createTooltipView = createTooltipView;
      this.input = view.state.facet(facet);
      this.tooltips = this.input.filter((t2) => t2);
      this.tooltipViews = this.tooltips.map(createTooltipView);
    }
    update(update) {
      var _a2;
      let input = update.state.facet(this.facet);
      let tooltips = input.filter((x) => x);
      if (input === this.input) {
        for (let t2 of this.tooltipViews)
          if (t2.update)
            t2.update(update);
        return false;
      }
      let tooltipViews = [];
      for (let i = 0; i < tooltips.length; i++) {
        let tip = tooltips[i], known = -1;
        if (!tip)
          continue;
        for (let i2 = 0; i2 < this.tooltips.length; i2++) {
          let other = this.tooltips[i2];
          if (other && other.create == tip.create)
            known = i2;
        }
        if (known < 0) {
          tooltipViews[i] = this.createTooltipView(tip);
        } else {
          let tooltipView = tooltipViews[i] = this.tooltipViews[known];
          if (tooltipView.update)
            tooltipView.update(update);
        }
      }
      for (let t2 of this.tooltipViews)
        if (tooltipViews.indexOf(t2) < 0) {
          t2.dom.remove();
          (_a2 = t2.destroy) === null || _a2 === void 0 ? void 0 : _a2.call(t2);
        }
      this.input = input;
      this.tooltips = tooltips;
      this.tooltipViews = tooltipViews;
      return true;
    }
  };
  function windowSpace(view) {
    let {win} = view;
    return {top: 0, left: 0, bottom: win.innerHeight, right: win.innerWidth};
  }
  var tooltipConfig = /* @__PURE__ */ Facet.define({
    combine: (values2) => {
      var _a2, _b, _c;
      return {
        position: browser.ios ? "absolute" : ((_a2 = values2.find((conf) => conf.position)) === null || _a2 === void 0 ? void 0 : _a2.position) || "fixed",
        parent: ((_b = values2.find((conf) => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,
        tooltipSpace: ((_c = values2.find((conf) => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace
      };
    }
  });
  var tooltipPlugin = /* @__PURE__ */ ViewPlugin.fromClass(class {
    constructor(view) {
      this.view = view;
      this.inView = true;
      this.lastTransaction = 0;
      this.measureTimeout = -1;
      let config = view.state.facet(tooltipConfig);
      this.position = config.position;
      this.parent = config.parent;
      this.classes = view.themeClasses;
      this.createContainer();
      this.measureReq = {read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this};
      this.manager = new TooltipViewManager(view, showTooltip, (t2) => this.createTooltip(t2));
      this.intersectionObserver = typeof IntersectionObserver == "function" ? new IntersectionObserver((entries) => {
        if (Date.now() > this.lastTransaction - 50 && entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)
          this.measureSoon();
      }, {threshold: [1]}) : null;
      this.observeIntersection();
      view.win.addEventListener("resize", this.measureSoon = this.measureSoon.bind(this));
      this.maybeMeasure();
    }
    createContainer() {
      if (this.parent) {
        this.container = document.createElement("div");
        this.container.style.position = "relative";
        this.container.className = this.view.themeClasses;
        this.parent.appendChild(this.container);
      } else {
        this.container = this.view.dom;
      }
    }
    observeIntersection() {
      if (this.intersectionObserver) {
        this.intersectionObserver.disconnect();
        for (let tooltip of this.manager.tooltipViews)
          this.intersectionObserver.observe(tooltip.dom);
      }
    }
    measureSoon() {
      if (this.measureTimeout < 0)
        this.measureTimeout = setTimeout(() => {
          this.measureTimeout = -1;
          this.maybeMeasure();
        }, 50);
    }
    update(update) {
      if (update.transactions.length)
        this.lastTransaction = Date.now();
      let updated = this.manager.update(update);
      if (updated)
        this.observeIntersection();
      let shouldMeasure = updated || update.geometryChanged;
      let newConfig = update.state.facet(tooltipConfig);
      if (newConfig.position != this.position) {
        this.position = newConfig.position;
        for (let t2 of this.manager.tooltipViews)
          t2.dom.style.position = this.position;
        shouldMeasure = true;
      }
      if (newConfig.parent != this.parent) {
        if (this.parent)
          this.container.remove();
        this.parent = newConfig.parent;
        this.createContainer();
        for (let t2 of this.manager.tooltipViews)
          this.container.appendChild(t2.dom);
        shouldMeasure = true;
      } else if (this.parent && this.view.themeClasses != this.classes) {
        this.classes = this.container.className = this.view.themeClasses;
      }
      if (shouldMeasure)
        this.maybeMeasure();
    }
    createTooltip(tooltip) {
      let tooltipView = tooltip.create(this.view);
      tooltipView.dom.classList.add("cm-tooltip");
      if (tooltip.arrow && !tooltipView.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")) {
        let arrow = document.createElement("div");
        arrow.className = "cm-tooltip-arrow";
        tooltipView.dom.appendChild(arrow);
      }
      tooltipView.dom.style.position = this.position;
      tooltipView.dom.style.top = Outside;
      this.container.appendChild(tooltipView.dom);
      if (tooltipView.mount)
        tooltipView.mount(this.view);
      return tooltipView;
    }
    destroy() {
      var _a2, _b;
      this.view.win.removeEventListener("resize", this.measureSoon);
      for (let tooltipView of this.manager.tooltipViews) {
        tooltipView.dom.remove();
        (_a2 = tooltipView.destroy) === null || _a2 === void 0 ? void 0 : _a2.call(tooltipView);
      }
      (_b = this.intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();
      clearTimeout(this.measureTimeout);
    }
    readMeasure() {
      let editor = this.view.dom.getBoundingClientRect();
      return {
        editor,
        parent: this.parent ? this.container.getBoundingClientRect() : editor,
        pos: this.manager.tooltips.map((t2, i) => {
          let tv = this.manager.tooltipViews[i];
          return tv.getCoords ? tv.getCoords(t2.pos) : this.view.coordsAtPos(t2.pos);
        }),
        size: this.manager.tooltipViews.map(({dom}) => dom.getBoundingClientRect()),
        space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view)
      };
    }
    writeMeasure(measured) {
      let {editor, space: space3} = measured;
      let others = [];
      for (let i = 0; i < this.manager.tooltips.length; i++) {
        let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], {dom} = tView;
        let pos = measured.pos[i], size = measured.size[i];
        if (!pos || pos.bottom <= Math.max(editor.top, space3.top) || pos.top >= Math.min(editor.bottom, space3.bottom) || pos.right < Math.max(editor.left, space3.left) - 0.1 || pos.left > Math.min(editor.right, space3.right) + 0.1) {
          dom.style.top = Outside;
          continue;
        }
        let arrow = tooltip.arrow ? tView.dom.querySelector(".cm-tooltip-arrow") : null;
        let arrowHeight = arrow ? 7 : 0;
        let width = size.right - size.left, height = size.bottom - size.top;
        let offset = tView.offset || noOffset, ltr = this.view.textDirection == Direction.LTR;
        let left = size.width > space3.right - space3.left ? ltr ? space3.left : space3.right - size.width : ltr ? Math.min(pos.left - (arrow ? 14 : 0) + offset.x, space3.right - width) : Math.max(space3.left, pos.left - width + (arrow ? 14 : 0) - offset.x);
        let above = !!tooltip.above;
        if (!tooltip.strictSide && (above ? pos.top - (size.bottom - size.top) - offset.y < space3.top : pos.bottom + (size.bottom - size.top) + offset.y > space3.bottom) && above == space3.bottom - pos.bottom > pos.top - space3.top)
          above = !above;
        let top2 = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;
        let right = left + width;
        if (tView.overlap !== true) {
          for (let r of others)
            if (r.left < right && r.right > left && r.top < top2 + height && r.bottom > top2)
              top2 = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;
        }
        if (this.position == "absolute") {
          dom.style.top = top2 - measured.parent.top + "px";
          dom.style.left = left - measured.parent.left + "px";
        } else {
          dom.style.top = top2 + "px";
          dom.style.left = left + "px";
        }
        if (arrow)
          arrow.style.left = `${pos.left + (ltr ? offset.x : -offset.x) - (left + 14 - 7)}px`;
        if (tView.overlap !== true)
          others.push({left, top: top2, right, bottom: top2 + height});
        dom.classList.toggle("cm-tooltip-above", above);
        dom.classList.toggle("cm-tooltip-below", !above);
        if (tView.positioned)
          tView.positioned(measured.space);
      }
    }
    maybeMeasure() {
      if (this.manager.tooltips.length) {
        if (this.view.inView)
          this.view.requestMeasure(this.measureReq);
        if (this.inView != this.view.inView) {
          this.inView = this.view.inView;
          if (!this.inView)
            for (let tv of this.manager.tooltipViews)
              tv.dom.style.top = Outside;
        }
      }
    }
  }, {
    eventHandlers: {
      scroll() {
        this.maybeMeasure();
      }
    }
  });
  var baseTheme = /* @__PURE__ */ EditorView.baseTheme({
    ".cm-tooltip": {
      zIndex: 100
    },
    "&light .cm-tooltip": {
      border: "1px solid #bbb",
      backgroundColor: "#f5f5f5"
    },
    "&light .cm-tooltip-section:not(:first-child)": {
      borderTop: "1px solid #bbb"
    },
    "&dark .cm-tooltip": {
      backgroundColor: "#333338",
      color: "white"
    },
    ".cm-tooltip-arrow": {
      height: `${7}px`,
      width: `${7 * 2}px`,
      position: "absolute",
      zIndex: -1,
      overflow: "hidden",
      "&:before, &:after": {
        content: "''",
        position: "absolute",
        width: 0,
        height: 0,
        borderLeft: `${7}px solid transparent`,
        borderRight: `${7}px solid transparent`
      },
      ".cm-tooltip-above &": {
        bottom: `-${7}px`,
        "&:before": {
          borderTop: `${7}px solid #bbb`
        },
        "&:after": {
          borderTop: `${7}px solid #f5f5f5`,
          bottom: "1px"
        }
      },
      ".cm-tooltip-below &": {
        top: `-${7}px`,
        "&:before": {
          borderBottom: `${7}px solid #bbb`
        },
        "&:after": {
          borderBottom: `${7}px solid #f5f5f5`,
          top: "1px"
        }
      }
    },
    "&dark .cm-tooltip .cm-tooltip-arrow": {
      "&:before": {
        borderTopColor: "#333338",
        borderBottomColor: "#333338"
      },
      "&:after": {
        borderTopColor: "transparent",
        borderBottomColor: "transparent"
      }
    }
  });
  var noOffset = {x: 0, y: 0};
  var showTooltip = /* @__PURE__ */ Facet.define({
    enables: [tooltipPlugin, baseTheme]
  });
  function getTooltip(view, tooltip) {
    let plugin = view.plugin(tooltipPlugin);
    if (!plugin)
      return null;
    let found = plugin.manager.tooltips.indexOf(tooltip);
    return found < 0 ? null : plugin.manager.tooltipViews[found];
  }
  var GutterMarker = class extends RangeValue {
    compare(other) {
      return this == other || this.constructor == other.constructor && this.eq(other);
    }
    eq(other) {
      return false;
    }
    destroy(dom) {
    }
  };
  GutterMarker.prototype.elementClass = "";
  GutterMarker.prototype.toDOM = void 0;
  GutterMarker.prototype.mapMode = MapMode.TrackBefore;
  GutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;
  GutterMarker.prototype.point = true;
  var gutterLineClass = /* @__PURE__ */ Facet.define();
  var activeGutters = /* @__PURE__ */ Facet.define();
  var unfixGutters = /* @__PURE__ */ Facet.define({
    combine: (values2) => values2.some((x) => x)
  });
  function gutters(config) {
    let result = [
      gutterView
    ];
    if (config && config.fixed === false)
      result.push(unfixGutters.of(true));
    return result;
  }
  var gutterView = /* @__PURE__ */ ViewPlugin.fromClass(class {
    constructor(view) {
      this.view = view;
      this.prevViewport = view.viewport;
      this.dom = document.createElement("div");
      this.dom.className = "cm-gutters";
      this.dom.setAttribute("aria-hidden", "true");
      this.dom.style.minHeight = this.view.contentHeight + "px";
      this.gutters = view.state.facet(activeGutters).map((conf) => new SingleGutterView(view, conf));
      for (let gutter2 of this.gutters)
        this.dom.appendChild(gutter2.dom);
      this.fixed = !view.state.facet(unfixGutters);
      if (this.fixed) {
        this.dom.style.position = "sticky";
      }
      this.syncGutters(false);
      view.scrollDOM.insertBefore(this.dom, view.contentDOM);
    }
    update(update) {
      if (this.updateGutters(update)) {
        let vpA = this.prevViewport, vpB = update.view.viewport;
        let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);
        this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);
      }
      if (update.geometryChanged)
        this.dom.style.minHeight = this.view.contentHeight + "px";
      if (this.view.state.facet(unfixGutters) != !this.fixed) {
        this.fixed = !this.fixed;
        this.dom.style.position = this.fixed ? "sticky" : "";
      }
      this.prevViewport = update.view.viewport;
    }
    syncGutters(detach) {
      let after = this.dom.nextSibling;
      if (detach)
        this.dom.remove();
      let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);
      let classSet = [];
      let contexts = this.gutters.map((gutter2) => new UpdateContext(gutter2, this.view.viewport, -this.view.documentPadding.top));
      for (let line of this.view.viewportLineBlocks) {
        let text;
        if (Array.isArray(line.type)) {
          for (let b of line.type)
            if (b.type == BlockType.Text) {
              text = b;
              break;
            }
        } else {
          text = line.type == BlockType.Text ? line : void 0;
        }
        if (!text)
          continue;
        if (classSet.length)
          classSet = [];
        advanceCursor(lineClasses, classSet, line.from);
        for (let cx of contexts)
          cx.line(this.view, text, classSet);
      }
      for (let cx of contexts)
        cx.finish();
      if (detach)
        this.view.scrollDOM.insertBefore(this.dom, after);
    }
    updateGutters(update) {
      let prev = update.startState.facet(activeGutters), cur2 = update.state.facet(activeGutters);
      let change = update.docChanged || update.heightChanged || update.viewportChanged || !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);
      if (prev == cur2) {
        for (let gutter2 of this.gutters)
          if (gutter2.update(update))
            change = true;
      } else {
        change = true;
        let gutters2 = [];
        for (let conf of cur2) {
          let known = prev.indexOf(conf);
          if (known < 0) {
            gutters2.push(new SingleGutterView(this.view, conf));
          } else {
            this.gutters[known].update(update);
            gutters2.push(this.gutters[known]);
          }
        }
        for (let g of this.gutters) {
          g.dom.remove();
          if (gutters2.indexOf(g) < 0)
            g.destroy();
        }
        for (let g of gutters2)
          this.dom.appendChild(g.dom);
        this.gutters = gutters2;
      }
      return change;
    }
    destroy() {
      for (let view of this.gutters)
        view.destroy();
      this.dom.remove();
    }
  }, {
    provide: (plugin) => EditorView.scrollMargins.of((view) => {
      let value = view.plugin(plugin);
      if (!value || value.gutters.length == 0 || !value.fixed)
        return null;
      return view.textDirection == Direction.LTR ? {left: value.dom.offsetWidth} : {right: value.dom.offsetWidth};
    })
  });
  function asArray2(val) {
    return Array.isArray(val) ? val : [val];
  }
  function advanceCursor(cursor, collect, pos) {
    while (cursor.value && cursor.from <= pos) {
      if (cursor.from == pos)
        collect.push(cursor.value);
      cursor.next();
    }
  }
  var UpdateContext = class {
    constructor(gutter2, viewport, height) {
      this.gutter = gutter2;
      this.height = height;
      this.localMarkers = [];
      this.i = 0;
      this.cursor = RangeSet.iter(gutter2.markers, viewport.from);
    }
    line(view, line, extraMarkers) {
      if (this.localMarkers.length)
        this.localMarkers = [];
      advanceCursor(this.cursor, this.localMarkers, line.from);
      let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;
      let forLine = this.gutter.config.lineMarker(view, line, localMarkers);
      if (forLine)
        localMarkers.unshift(forLine);
      let gutter2 = this.gutter;
      if (localMarkers.length == 0 && !gutter2.config.renderEmptyElements)
        return;
      let above = line.top - this.height;
      if (this.i == gutter2.elements.length) {
        let newElt = new GutterElement(view, line.height, above, localMarkers);
        gutter2.elements.push(newElt);
        gutter2.dom.appendChild(newElt.dom);
      } else {
        gutter2.elements[this.i].update(view, line.height, above, localMarkers);
      }
      this.height = line.bottom;
      this.i++;
    }
    finish() {
      let gutter2 = this.gutter;
      while (gutter2.elements.length > this.i) {
        let last = gutter2.elements.pop();
        gutter2.dom.removeChild(last.dom);
        last.destroy();
      }
    }
  };
  var SingleGutterView = class {
    constructor(view, config) {
      this.view = view;
      this.config = config;
      this.elements = [];
      this.spacer = null;
      this.dom = document.createElement("div");
      this.dom.className = "cm-gutter" + (this.config.class ? " " + this.config.class : "");
      for (let prop in config.domEventHandlers) {
        this.dom.addEventListener(prop, (event) => {
          let line = view.lineBlockAtHeight(event.clientY - view.documentTop);
          if (config.domEventHandlers[prop](view, line, event))
            event.preventDefault();
        });
      }
      this.markers = asArray2(config.markers(view));
      if (config.initialSpacer) {
        this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);
        this.dom.appendChild(this.spacer.dom);
        this.spacer.dom.style.cssText += "visibility: hidden; pointer-events: none";
      }
    }
    update(update) {
      let prevMarkers = this.markers;
      this.markers = asArray2(this.config.markers(update.view));
      if (this.spacer && this.config.updateSpacer) {
        let updated = this.config.updateSpacer(this.spacer.markers[0], update);
        if (updated != this.spacer.markers[0])
          this.spacer.update(update.view, 0, 0, [updated]);
      }
      let vp = update.view.viewport;
      return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) || (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);
    }
    destroy() {
      for (let elt of this.elements)
        elt.destroy();
    }
  };
  var GutterElement = class {
    constructor(view, height, above, markers) {
      this.height = -1;
      this.above = 0;
      this.markers = [];
      this.dom = document.createElement("div");
      this.dom.className = "cm-gutterElement";
      this.update(view, height, above, markers);
    }
    update(view, height, above, markers) {
      if (this.height != height)
        this.dom.style.height = (this.height = height) + "px";
      if (this.above != above)
        this.dom.style.marginTop = (this.above = above) ? above + "px" : "";
      if (!sameMarkers(this.markers, markers))
        this.setMarkers(view, markers);
    }
    setMarkers(view, markers) {
      let cls = "cm-gutterElement", domPos = this.dom.firstChild;
      for (let iNew = 0, iOld = 0; ; ) {
        let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;
        if (marker) {
          let c = marker.elementClass;
          if (c)
            cls += " " + c;
          for (let i = iOld; i < this.markers.length; i++)
            if (this.markers[i].compare(marker)) {
              skipTo = i;
              matched = true;
              break;
            }
        } else {
          skipTo = this.markers.length;
        }
        while (iOld < skipTo) {
          let next = this.markers[iOld++];
          if (next.toDOM) {
            next.destroy(domPos);
            let after = domPos.nextSibling;
            domPos.remove();
            domPos = after;
          }
        }
        if (!marker)
          break;
        if (marker.toDOM) {
          if (matched)
            domPos = domPos.nextSibling;
          else
            this.dom.insertBefore(marker.toDOM(view), domPos);
        }
        if (matched)
          iOld++;
      }
      this.dom.className = cls;
      this.markers = markers;
    }
    destroy() {
      this.setMarkers(null, []);
    }
  };
  function sameMarkers(a, b) {
    if (a.length != b.length)
      return false;
    for (let i = 0; i < a.length; i++)
      if (!a[i].compare(b[i]))
        return false;
    return true;
  }
  var lineNumberMarkers = /* @__PURE__ */ Facet.define();
  var lineNumberConfig = /* @__PURE__ */ Facet.define({
    combine(values2) {
      return combineConfig(values2, {formatNumber: String, domEventHandlers: {}}, {
        domEventHandlers(a, b) {
          let result = Object.assign({}, a);
          for (let event in b) {
            let exists = result[event], add = b[event];
            result[event] = exists ? (view, line, event2) => exists(view, line, event2) || add(view, line, event2) : add;
          }
          return result;
        }
      });
    }
  });
  var NumberMarker = class extends GutterMarker {
    constructor(number2) {
      super();
      this.number = number2;
    }
    eq(other) {
      return this.number == other.number;
    }
    toDOM() {
      return document.createTextNode(this.number);
    }
  };
  function formatNumber(view, number2) {
    return view.state.facet(lineNumberConfig).formatNumber(number2, view.state);
  }
  var lineNumberGutter = /* @__PURE__ */ activeGutters.compute([lineNumberConfig], (state) => ({
    class: "cm-lineNumbers",
    renderEmptyElements: false,
    markers(view) {
      return view.state.facet(lineNumberMarkers);
    },
    lineMarker(view, line, others) {
      if (others.some((m) => m.toDOM))
        return null;
      return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));
    },
    lineMarkerChange: (update) => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),
    initialSpacer(view) {
      return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));
    },
    updateSpacer(spacer, update) {
      let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));
      return max == spacer.number ? spacer : new NumberMarker(max);
    },
    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers
  }));
  function lineNumbers(config = {}) {
    return [
      lineNumberConfig.of(config),
      gutters(),
      lineNumberGutter
    ];
  }
  function maxLineNumber(lines) {
    let last = 9;
    while (last < lines)
      last = last * 10 + 9;
    return last;
  }

  // node_modules/@lezer/common/dist/index.js
  var DefaultBufferLength = 1024;
  var nextPropID = 0;
  var Range2 = class {
    constructor(from2, to) {
      this.from = from2;
      this.to = to;
    }
  };
  var NodeProp = class {
    constructor(config = {}) {
      this.id = nextPropID++;
      this.perNode = !!config.perNode;
      this.deserialize = config.deserialize || (() => {
        throw new Error("This node type doesn't define a deserialize function");
      });
    }
    add(match2) {
      if (this.perNode)
        throw new RangeError("Can't add per-node props to node types");
      if (typeof match2 != "function")
        match2 = NodeType.match(match2);
      return (type) => {
        let result = match2(type);
        return result === void 0 ? null : [this, result];
      };
    }
  };
  NodeProp.closedBy = new NodeProp({deserialize: (str) => str.split(" ")});
  NodeProp.openedBy = new NodeProp({deserialize: (str) => str.split(" ")});
  NodeProp.group = new NodeProp({deserialize: (str) => str.split(" ")});
  NodeProp.contextHash = new NodeProp({perNode: true});
  NodeProp.lookAhead = new NodeProp({perNode: true});
  NodeProp.mounted = new NodeProp({perNode: true});
  var MountedTree = class {
    constructor(tree, overlay, parser8) {
      this.tree = tree;
      this.overlay = overlay;
      this.parser = parser8;
    }
  };
  var noProps = Object.create(null);
  var NodeType = class {
    constructor(name2, props, id2, flags = 0) {
      this.name = name2;
      this.props = props;
      this.id = id2;
      this.flags = flags;
    }
    static define(spec) {
      let props = spec.props && spec.props.length ? Object.create(null) : noProps;
      let flags = (spec.top ? 1 : 0) | (spec.skipped ? 2 : 0) | (spec.error ? 4 : 0) | (spec.name == null ? 8 : 0);
      let type = new NodeType(spec.name || "", props, spec.id, flags);
      if (spec.props)
        for (let src of spec.props) {
          if (!Array.isArray(src))
            src = src(type);
          if (src) {
            if (src[0].perNode)
              throw new RangeError("Can't store a per-node prop on a node type");
            props[src[0].id] = src[1];
          }
        }
      return type;
    }
    prop(prop) {
      return this.props[prop.id];
    }
    get isTop() {
      return (this.flags & 1) > 0;
    }
    get isSkipped() {
      return (this.flags & 2) > 0;
    }
    get isError() {
      return (this.flags & 4) > 0;
    }
    get isAnonymous() {
      return (this.flags & 8) > 0;
    }
    is(name2) {
      if (typeof name2 == "string") {
        if (this.name == name2)
          return true;
        let group = this.prop(NodeProp.group);
        return group ? group.indexOf(name2) > -1 : false;
      }
      return this.id == name2;
    }
    static match(map) {
      let direct = Object.create(null);
      for (let prop in map)
        for (let name2 of prop.split(" "))
          direct[name2] = map[prop];
      return (node) => {
        for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {
          let found = direct[i < 0 ? node.name : groups[i]];
          if (found)
            return found;
        }
      };
    }
  };
  NodeType.none = new NodeType("", Object.create(null), 0, 8);
  var NodeSet = class {
    constructor(types2) {
      this.types = types2;
      for (let i = 0; i < types2.length; i++)
        if (types2[i].id != i)
          throw new RangeError("Node type ids should correspond to array positions when creating a node set");
    }
    extend(...props) {
      let newTypes = [];
      for (let type of this.types) {
        let newProps = null;
        for (let source of props) {
          let add = source(type);
          if (add) {
            if (!newProps)
              newProps = Object.assign({}, type.props);
            newProps[add[0].id] = add[1];
          }
        }
        newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);
      }
      return new NodeSet(newTypes);
    }
  };
  var CachedNode = new WeakMap();
  var CachedInnerNode = new WeakMap();
  var IterMode;
  (function(IterMode2) {
    IterMode2[IterMode2["ExcludeBuffers"] = 1] = "ExcludeBuffers";
    IterMode2[IterMode2["IncludeAnonymous"] = 2] = "IncludeAnonymous";
    IterMode2[IterMode2["IgnoreMounts"] = 4] = "IgnoreMounts";
    IterMode2[IterMode2["IgnoreOverlays"] = 8] = "IgnoreOverlays";
  })(IterMode || (IterMode = {}));
  var Tree = class {
    constructor(type, children, positions, length, props) {
      this.type = type;
      this.children = children;
      this.positions = positions;
      this.length = length;
      this.props = null;
      if (props && props.length) {
        this.props = Object.create(null);
        for (let [prop, value] of props)
          this.props[typeof prop == "number" ? prop : prop.id] = value;
      }
    }
    toString() {
      let mounted = this.prop(NodeProp.mounted);
      if (mounted && !mounted.overlay)
        return mounted.tree.toString();
      let children = "";
      for (let ch of this.children) {
        let str = ch.toString();
        if (str) {
          if (children)
            children += ",";
          children += str;
        }
      }
      return !this.type.name ? children : (/\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) + (children.length ? "(" + children + ")" : "");
    }
    cursor(mode = 0) {
      return new TreeCursor(this.topNode, mode);
    }
    cursorAt(pos, side = 0, mode = 0) {
      let scope = CachedNode.get(this) || this.topNode;
      let cursor = new TreeCursor(scope);
      cursor.moveTo(pos, side);
      CachedNode.set(this, cursor._tree);
      return cursor;
    }
    get topNode() {
      return new TreeNode(this, 0, 0, null);
    }
    resolve(pos, side = 0) {
      let node = resolveNode(CachedNode.get(this) || this.topNode, pos, side, false);
      CachedNode.set(this, node);
      return node;
    }
    resolveInner(pos, side = 0) {
      let node = resolveNode(CachedInnerNode.get(this) || this.topNode, pos, side, true);
      CachedInnerNode.set(this, node);
      return node;
    }
    iterate(spec) {
      let {enter, leave, from: from2 = 0, to = this.length} = spec;
      for (let c = this.cursor((spec.mode || 0) | IterMode.IncludeAnonymous); ; ) {
        let entered = false;
        if (c.from <= to && c.to >= from2 && (c.type.isAnonymous || enter(c) !== false)) {
          if (c.firstChild())
            continue;
          entered = true;
        }
        for (; ; ) {
          if (entered && leave && !c.type.isAnonymous)
            leave(c);
          if (c.nextSibling())
            break;
          if (!c.parent())
            return;
          entered = true;
        }
      }
    }
    prop(prop) {
      return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : void 0;
    }
    get propValues() {
      let result = [];
      if (this.props)
        for (let id2 in this.props)
          result.push([+id2, this.props[id2]]);
      return result;
    }
    balance(config = {}) {
      return this.children.length <= 8 ? this : balanceRange(NodeType.none, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));
    }
    static build(data) {
      return buildTree(data);
    }
  };
  Tree.empty = new Tree(NodeType.none, [], [], 0);
  var FlatBufferCursor = class {
    constructor(buffer, index) {
      this.buffer = buffer;
      this.index = index;
    }
    get id() {
      return this.buffer[this.index - 4];
    }
    get start() {
      return this.buffer[this.index - 3];
    }
    get end() {
      return this.buffer[this.index - 2];
    }
    get size() {
      return this.buffer[this.index - 1];
    }
    get pos() {
      return this.index;
    }
    next() {
      this.index -= 4;
    }
    fork() {
      return new FlatBufferCursor(this.buffer, this.index);
    }
  };
  var TreeBuffer = class {
    constructor(buffer, length, set) {
      this.buffer = buffer;
      this.length = length;
      this.set = set;
    }
    get type() {
      return NodeType.none;
    }
    toString() {
      let result = [];
      for (let index = 0; index < this.buffer.length; ) {
        result.push(this.childString(index));
        index = this.buffer[index + 3];
      }
      return result.join(",");
    }
    childString(index) {
      let id2 = this.buffer[index], endIndex = this.buffer[index + 3];
      let type = this.set.types[id2], result = type.name;
      if (/\W/.test(result) && !type.isError)
        result = JSON.stringify(result);
      index += 4;
      if (endIndex == index)
        return result;
      let children = [];
      while (index < endIndex) {
        children.push(this.childString(index));
        index = this.buffer[index + 3];
      }
      return result + "(" + children.join(",") + ")";
    }
    findChild(startIndex, endIndex, dir, pos, side) {
      let {buffer} = this, pick = -1;
      for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {
        if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {
          pick = i;
          if (dir > 0)
            break;
        }
      }
      return pick;
    }
    slice(startI, endI, from2) {
      let b = this.buffer;
      let copy = new Uint16Array(endI - startI), len = 0;
      for (let i = startI, j = 0; i < endI; ) {
        copy[j++] = b[i++];
        copy[j++] = b[i++] - from2;
        let to = copy[j++] = b[i++] - from2;
        copy[j++] = b[i++] - startI;
        len = Math.max(len, to);
      }
      return new TreeBuffer(copy, len, this.set);
    }
  };
  function checkSide(side, pos, from2, to) {
    switch (side) {
      case -2:
        return from2 < pos;
      case -1:
        return to >= pos && from2 < pos;
      case 0:
        return from2 < pos && to > pos;
      case 1:
        return from2 <= pos && to > pos;
      case 2:
        return to > pos;
      case 4:
        return true;
    }
  }
  function enterUnfinishedNodesBefore(node, pos) {
    let scan = node.childBefore(pos);
    while (scan) {
      let last = scan.lastChild;
      if (!last || last.to != scan.to)
        break;
      if (last.type.isError && last.from == last.to) {
        node = scan;
        scan = last.prevSibling;
      } else {
        scan = last;
      }
    }
    return node;
  }
  function resolveNode(node, pos, side, overlays) {
    var _a2;
    while (node.from == node.to || (side < 1 ? node.from >= pos : node.from > pos) || (side > -1 ? node.to <= pos : node.to < pos)) {
      let parent = !overlays && node instanceof TreeNode && node.index < 0 ? null : node.parent;
      if (!parent)
        return node;
      node = parent;
    }
    let mode = overlays ? 0 : IterMode.IgnoreOverlays;
    if (overlays)
      for (let scan = node, parent = scan.parent; parent; scan = parent, parent = scan.parent) {
        if (scan instanceof TreeNode && scan.index < 0 && ((_a2 = parent.enter(pos, side, mode)) === null || _a2 === void 0 ? void 0 : _a2.from) != scan.from)
          node = parent;
      }
    for (; ; ) {
      let inner = node.enter(pos, side, mode);
      if (!inner)
        return node;
      node = inner;
    }
  }
  var TreeNode = class {
    constructor(_tree, from2, index, _parent) {
      this._tree = _tree;
      this.from = from2;
      this.index = index;
      this._parent = _parent;
    }
    get type() {
      return this._tree.type;
    }
    get name() {
      return this._tree.type.name;
    }
    get to() {
      return this.from + this._tree.length;
    }
    nextChild(i, dir, pos, side, mode = 0) {
      for (let parent = this; ; ) {
        for (let {children, positions} = parent._tree, e = dir > 0 ? children.length : -1; i != e; i += dir) {
          let next = children[i], start = positions[i] + parent.from;
          if (!checkSide(side, pos, start, start + next.length))
            continue;
          if (next instanceof TreeBuffer) {
            if (mode & IterMode.ExcludeBuffers)
              continue;
            let index = next.findChild(0, next.buffer.length, dir, pos - start, side);
            if (index > -1)
              return new BufferNode(new BufferContext(parent, next, i, start), null, index);
          } else if (mode & IterMode.IncludeAnonymous || (!next.type.isAnonymous || hasChild(next))) {
            let mounted;
            if (!(mode & IterMode.IgnoreMounts) && next.props && (mounted = next.prop(NodeProp.mounted)) && !mounted.overlay)
              return new TreeNode(mounted.tree, start, i, parent);
            let inner = new TreeNode(next, start, i, parent);
            return mode & IterMode.IncludeAnonymous || !inner.type.isAnonymous ? inner : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);
          }
        }
        if (mode & IterMode.IncludeAnonymous || !parent.type.isAnonymous)
          return null;
        if (parent.index >= 0)
          i = parent.index + dir;
        else
          i = dir < 0 ? -1 : parent._parent._tree.children.length;
        parent = parent._parent;
        if (!parent)
          return null;
      }
    }
    get firstChild() {
      return this.nextChild(0, 1, 0, 4);
    }
    get lastChild() {
      return this.nextChild(this._tree.children.length - 1, -1, 0, 4);
    }
    childAfter(pos) {
      return this.nextChild(0, 1, pos, 2);
    }
    childBefore(pos) {
      return this.nextChild(this._tree.children.length - 1, -1, pos, -2);
    }
    enter(pos, side, mode = 0) {
      let mounted;
      if (!(mode & IterMode.IgnoreOverlays) && (mounted = this._tree.prop(NodeProp.mounted)) && mounted.overlay) {
        let rPos = pos - this.from;
        for (let {from: from2, to} of mounted.overlay) {
          if ((side > 0 ? from2 <= rPos : from2 < rPos) && (side < 0 ? to >= rPos : to > rPos))
            return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);
        }
      }
      return this.nextChild(0, 1, pos, side, mode);
    }
    nextSignificantParent() {
      let val = this;
      while (val.type.isAnonymous && val._parent)
        val = val._parent;
      return val;
    }
    get parent() {
      return this._parent ? this._parent.nextSignificantParent() : null;
    }
    get nextSibling() {
      return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4) : null;
    }
    get prevSibling() {
      return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4) : null;
    }
    cursor(mode = 0) {
      return new TreeCursor(this, mode);
    }
    get tree() {
      return this._tree;
    }
    toTree() {
      return this._tree;
    }
    resolve(pos, side = 0) {
      return resolveNode(this, pos, side, false);
    }
    resolveInner(pos, side = 0) {
      return resolveNode(this, pos, side, true);
    }
    enterUnfinishedNodesBefore(pos) {
      return enterUnfinishedNodesBefore(this, pos);
    }
    getChild(type, before = null, after = null) {
      let r = getChildren(this, type, before, after);
      return r.length ? r[0] : null;
    }
    getChildren(type, before = null, after = null) {
      return getChildren(this, type, before, after);
    }
    toString() {
      return this._tree.toString();
    }
    get node() {
      return this;
    }
    matchContext(context) {
      return matchNodeContext(this, context);
    }
  };
  function getChildren(node, type, before, after) {
    let cur2 = node.cursor(), result = [];
    if (!cur2.firstChild())
      return result;
    if (before != null) {
      while (!cur2.type.is(before))
        if (!cur2.nextSibling())
          return result;
    }
    for (; ; ) {
      if (after != null && cur2.type.is(after))
        return result;
      if (cur2.type.is(type))
        result.push(cur2.node);
      if (!cur2.nextSibling())
        return after == null ? result : [];
    }
  }
  function matchNodeContext(node, context, i = context.length - 1) {
    for (let p = node.parent; i >= 0; p = p.parent) {
      if (!p)
        return false;
      if (!p.type.isAnonymous) {
        if (context[i] && context[i] != p.name)
          return false;
        i--;
      }
    }
    return true;
  }
  var BufferContext = class {
    constructor(parent, buffer, index, start) {
      this.parent = parent;
      this.buffer = buffer;
      this.index = index;
      this.start = start;
    }
  };
  var BufferNode = class {
    get name() {
      return this.type.name;
    }
    get from() {
      return this.context.start + this.context.buffer.buffer[this.index + 1];
    }
    get to() {
      return this.context.start + this.context.buffer.buffer[this.index + 2];
    }
    constructor(context, _parent, index) {
      this.context = context;
      this._parent = _parent;
      this.index = index;
      this.type = context.buffer.set.types[context.buffer.buffer[index]];
    }
    child(dir, pos, side) {
      let {buffer} = this.context;
      let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);
      return index < 0 ? null : new BufferNode(this.context, this, index);
    }
    get firstChild() {
      return this.child(1, 0, 4);
    }
    get lastChild() {
      return this.child(-1, 0, 4);
    }
    childAfter(pos) {
      return this.child(1, pos, 2);
    }
    childBefore(pos) {
      return this.child(-1, pos, -2);
    }
    enter(pos, side, mode = 0) {
      if (mode & IterMode.ExcludeBuffers)
        return null;
      let {buffer} = this.context;
      let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);
      return index < 0 ? null : new BufferNode(this.context, this, index);
    }
    get parent() {
      return this._parent || this.context.parent.nextSignificantParent();
    }
    externalSibling(dir) {
      return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4);
    }
    get nextSibling() {
      let {buffer} = this.context;
      let after = buffer.buffer[this.index + 3];
      if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))
        return new BufferNode(this.context, this._parent, after);
      return this.externalSibling(1);
    }
    get prevSibling() {
      let {buffer} = this.context;
      let parentStart = this._parent ? this._parent.index + 4 : 0;
      if (this.index == parentStart)
        return this.externalSibling(-1);
      return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4));
    }
    cursor(mode = 0) {
      return new TreeCursor(this, mode);
    }
    get tree() {
      return null;
    }
    toTree() {
      let children = [], positions = [];
      let {buffer} = this.context;
      let startI = this.index + 4, endI = buffer.buffer[this.index + 3];
      if (endI > startI) {
        let from2 = buffer.buffer[this.index + 1];
        children.push(buffer.slice(startI, endI, from2));
        positions.push(0);
      }
      return new Tree(this.type, children, positions, this.to - this.from);
    }
    resolve(pos, side = 0) {
      return resolveNode(this, pos, side, false);
    }
    resolveInner(pos, side = 0) {
      return resolveNode(this, pos, side, true);
    }
    enterUnfinishedNodesBefore(pos) {
      return enterUnfinishedNodesBefore(this, pos);
    }
    toString() {
      return this.context.buffer.childString(this.index);
    }
    getChild(type, before = null, after = null) {
      let r = getChildren(this, type, before, after);
      return r.length ? r[0] : null;
    }
    getChildren(type, before = null, after = null) {
      return getChildren(this, type, before, after);
    }
    get node() {
      return this;
    }
    matchContext(context) {
      return matchNodeContext(this, context);
    }
  };
  var TreeCursor = class {
    get name() {
      return this.type.name;
    }
    constructor(node, mode = 0) {
      this.mode = mode;
      this.buffer = null;
      this.stack = [];
      this.index = 0;
      this.bufferNode = null;
      if (node instanceof TreeNode) {
        this.yieldNode(node);
      } else {
        this._tree = node.context.parent;
        this.buffer = node.context;
        for (let n = node._parent; n; n = n._parent)
          this.stack.unshift(n.index);
        this.bufferNode = node;
        this.yieldBuf(node.index);
      }
    }
    yieldNode(node) {
      if (!node)
        return false;
      this._tree = node;
      this.type = node.type;
      this.from = node.from;
      this.to = node.to;
      return true;
    }
    yieldBuf(index, type) {
      this.index = index;
      let {start, buffer} = this.buffer;
      this.type = type || buffer.set.types[buffer.buffer[index]];
      this.from = start + buffer.buffer[index + 1];
      this.to = start + buffer.buffer[index + 2];
      return true;
    }
    yield(node) {
      if (!node)
        return false;
      if (node instanceof TreeNode) {
        this.buffer = null;
        return this.yieldNode(node);
      }
      this.buffer = node.context;
      return this.yieldBuf(node.index, node.type);
    }
    toString() {
      return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();
    }
    enterChild(dir, pos, side) {
      if (!this.buffer)
        return this.yield(this._tree.nextChild(dir < 0 ? this._tree._tree.children.length - 1 : 0, dir, pos, side, this.mode));
      let {buffer} = this.buffer;
      let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);
      if (index < 0)
        return false;
      this.stack.push(this.index);
      return this.yieldBuf(index);
    }
    firstChild() {
      return this.enterChild(1, 0, 4);
    }
    lastChild() {
      return this.enterChild(-1, 0, 4);
    }
    childAfter(pos) {
      return this.enterChild(1, pos, 2);
    }
    childBefore(pos) {
      return this.enterChild(-1, pos, -2);
    }
    enter(pos, side, mode = this.mode) {
      if (!this.buffer)
        return this.yield(this._tree.enter(pos, side, mode));
      return mode & IterMode.ExcludeBuffers ? false : this.enterChild(1, pos, side);
    }
    parent() {
      if (!this.buffer)
        return this.yieldNode(this.mode & IterMode.IncludeAnonymous ? this._tree._parent : this._tree.parent);
      if (this.stack.length)
        return this.yieldBuf(this.stack.pop());
      let parent = this.mode & IterMode.IncludeAnonymous ? this.buffer.parent : this.buffer.parent.nextSignificantParent();
      this.buffer = null;
      return this.yieldNode(parent);
    }
    sibling(dir) {
      if (!this.buffer)
        return !this._tree._parent ? false : this.yield(this._tree.index < 0 ? null : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4, this.mode));
      let {buffer} = this.buffer, d = this.stack.length - 1;
      if (dir < 0) {
        let parentStart = d < 0 ? 0 : this.stack[d] + 4;
        if (this.index != parentStart)
          return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4));
      } else {
        let after = buffer.buffer[this.index + 3];
        if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))
          return this.yieldBuf(after);
      }
      return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4, this.mode)) : false;
    }
    nextSibling() {
      return this.sibling(1);
    }
    prevSibling() {
      return this.sibling(-1);
    }
    atLastNode(dir) {
      let index, parent, {buffer} = this;
      if (buffer) {
        if (dir > 0) {
          if (this.index < buffer.buffer.buffer.length)
            return false;
        } else {
          for (let i = 0; i < this.index; i++)
            if (buffer.buffer.buffer[i + 3] < this.index)
              return false;
        }
        ({index, parent} = buffer);
      } else {
        ({index, _parent: parent} = this._tree);
      }
      for (; parent; {index, _parent: parent} = parent) {
        if (index > -1)
          for (let i = index + dir, e = dir < 0 ? -1 : parent._tree.children.length; i != e; i += dir) {
            let child = parent._tree.children[i];
            if (this.mode & IterMode.IncludeAnonymous || child instanceof TreeBuffer || !child.type.isAnonymous || hasChild(child))
              return false;
          }
      }
      return true;
    }
    move(dir, enter) {
      if (enter && this.enterChild(dir, 0, 4))
        return true;
      for (; ; ) {
        if (this.sibling(dir))
          return true;
        if (this.atLastNode(dir) || !this.parent())
          return false;
      }
    }
    next(enter = true) {
      return this.move(1, enter);
    }
    prev(enter = true) {
      return this.move(-1, enter);
    }
    moveTo(pos, side = 0) {
      while (this.from == this.to || (side < 1 ? this.from >= pos : this.from > pos) || (side > -1 ? this.to <= pos : this.to < pos))
        if (!this.parent())
          break;
      while (this.enterChild(1, pos, side)) {
      }
      return this;
    }
    get node() {
      if (!this.buffer)
        return this._tree;
      let cache2 = this.bufferNode, result = null, depth = 0;
      if (cache2 && cache2.context == this.buffer) {
        scan:
          for (let index = this.index, d = this.stack.length; d >= 0; ) {
            for (let c = cache2; c; c = c._parent)
              if (c.index == index) {
                if (index == this.index)
                  return c;
                result = c;
                depth = d + 1;
                break scan;
              }
            index = this.stack[--d];
          }
      }
      for (let i = depth; i < this.stack.length; i++)
        result = new BufferNode(this.buffer, result, this.stack[i]);
      return this.bufferNode = new BufferNode(this.buffer, result, this.index);
    }
    get tree() {
      return this.buffer ? null : this._tree._tree;
    }
    iterate(enter, leave) {
      for (let depth = 0; ; ) {
        let mustLeave = false;
        if (this.type.isAnonymous || enter(this) !== false) {
          if (this.firstChild()) {
            depth++;
            continue;
          }
          if (!this.type.isAnonymous)
            mustLeave = true;
        }
        for (; ; ) {
          if (mustLeave && leave)
            leave(this);
          mustLeave = this.type.isAnonymous;
          if (this.nextSibling())
            break;
          if (!depth)
            return;
          this.parent();
          depth--;
          mustLeave = true;
        }
      }
    }
    matchContext(context) {
      if (!this.buffer)
        return matchNodeContext(this.node, context);
      let {buffer} = this.buffer, {types: types2} = buffer.set;
      for (let i = context.length - 1, d = this.stack.length - 1; i >= 0; d--) {
        if (d < 0)
          return matchNodeContext(this.node, context, i);
        let type = types2[buffer.buffer[this.stack[d]]];
        if (!type.isAnonymous) {
          if (context[i] && context[i] != type.name)
            return false;
          i--;
        }
      }
      return true;
    }
  };
  function hasChild(tree) {
    return tree.children.some((ch) => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));
  }
  function buildTree(data) {
    var _a2;
    let {buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length} = data;
    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;
    let types2 = nodeSet.types;
    let contextHash = 0, lookAhead = 0;
    function takeNode(parentStart, minPos, children2, positions2, inRepeat) {
      let {id: id2, start, end, size} = cursor;
      let lookAheadAtStart = lookAhead;
      while (size < 0) {
        cursor.next();
        if (size == -1) {
          let node2 = reused[id2];
          children2.push(node2);
          positions2.push(start - parentStart);
          return;
        } else if (size == -3) {
          contextHash = id2;
          return;
        } else if (size == -4) {
          lookAhead = id2;
          return;
        } else {
          throw new RangeError(`Unrecognized record size: ${size}`);
        }
      }
      let type = types2[id2], node, buffer2;
      let startPos = start - parentStart;
      if (end - start <= maxBufferLength && (buffer2 = findBufferSize(cursor.pos - minPos, inRepeat))) {
        let data2 = new Uint16Array(buffer2.size - buffer2.skip);
        let endPos = cursor.pos - buffer2.size, index = data2.length;
        while (cursor.pos > endPos)
          index = copyToBuffer(buffer2.start, data2, index);
        node = new TreeBuffer(data2, end - buffer2.start, nodeSet);
        startPos = buffer2.start - parentStart;
      } else {
        let endPos = cursor.pos - size;
        cursor.next();
        let localChildren = [], localPositions = [];
        let localInRepeat = id2 >= minRepeatType ? id2 : -1;
        let lastGroup = 0, lastEnd = end;
        while (cursor.pos > endPos) {
          if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {
            if (cursor.end <= lastEnd - maxBufferLength) {
              makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);
              lastGroup = localChildren.length;
              lastEnd = cursor.end;
            }
            cursor.next();
          } else {
            takeNode(start, endPos, localChildren, localPositions, localInRepeat);
          }
        }
        if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)
          makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);
        localChildren.reverse();
        localPositions.reverse();
        if (localInRepeat > -1 && lastGroup > 0) {
          let make = makeBalanced(type);
          node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);
        } else {
          node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);
        }
      }
      children2.push(node);
      positions2.push(startPos);
    }
    function makeBalanced(type) {
      return (children2, positions2, length2) => {
        let lookAhead2 = 0, lastI = children2.length - 1, last, lookAheadProp;
        if (lastI >= 0 && (last = children2[lastI]) instanceof Tree) {
          if (!lastI && last.type == type && last.length == length2)
            return last;
          if (lookAheadProp = last.prop(NodeProp.lookAhead))
            lookAhead2 = positions2[lastI] + last.length + lookAheadProp;
        }
        return makeTree(type, children2, positions2, length2, lookAhead2);
      };
    }
    function makeRepeatLeaf(children2, positions2, base2, i, from2, to, type, lookAhead2) {
      let localChildren = [], localPositions = [];
      while (children2.length > i) {
        localChildren.push(children2.pop());
        localPositions.push(positions2.pop() + base2 - from2);
      }
      children2.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from2, lookAhead2 - to));
      positions2.push(from2 - base2);
    }
    function makeTree(type, children2, positions2, length2, lookAhead2 = 0, props) {
      if (contextHash) {
        let pair2 = [NodeProp.contextHash, contextHash];
        props = props ? [pair2].concat(props) : [pair2];
      }
      if (lookAhead2 > 25) {
        let pair2 = [NodeProp.lookAhead, lookAhead2];
        props = props ? [pair2].concat(props) : [pair2];
      }
      return new Tree(type, children2, positions2, length2, props);
    }
    function findBufferSize(maxSize, inRepeat) {
      let fork = cursor.fork();
      let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;
      let result = {size: 0, start: 0, skip: 0};
      scan:
        for (let minPos = fork.pos - maxSize; fork.pos > minPos; ) {
          let nodeSize2 = fork.size;
          if (fork.id == inRepeat && nodeSize2 >= 0) {
            result.size = size;
            result.start = start;
            result.skip = skip;
            skip += 4;
            size += 4;
            fork.next();
            continue;
          }
          let startPos = fork.pos - nodeSize2;
          if (nodeSize2 < 0 || startPos < minPos || fork.start < minStart)
            break;
          let localSkipped = fork.id >= minRepeatType ? 4 : 0;
          let nodeStart = fork.start;
          fork.next();
          while (fork.pos > startPos) {
            if (fork.size < 0) {
              if (fork.size == -3)
                localSkipped += 4;
              else
                break scan;
            } else if (fork.id >= minRepeatType) {
              localSkipped += 4;
            }
            fork.next();
          }
          start = nodeStart;
          size += nodeSize2;
          skip += localSkipped;
        }
      if (inRepeat < 0 || size == maxSize) {
        result.size = size;
        result.start = start;
        result.skip = skip;
      }
      return result.size > 4 ? result : void 0;
    }
    function copyToBuffer(bufferStart, buffer2, index) {
      let {id: id2, start, end, size} = cursor;
      cursor.next();
      if (size >= 0 && id2 < minRepeatType) {
        let startIndex = index;
        if (size > 4) {
          let endPos = cursor.pos - (size - 4);
          while (cursor.pos > endPos)
            index = copyToBuffer(bufferStart, buffer2, index);
        }
        buffer2[--index] = startIndex;
        buffer2[--index] = end - bufferStart;
        buffer2[--index] = start - bufferStart;
        buffer2[--index] = id2;
      } else if (size == -3) {
        contextHash = id2;
      } else if (size == -4) {
        lookAhead = id2;
      }
      return index;
    }
    let children = [], positions = [];
    while (cursor.pos > 0)
      takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);
    let length = (_a2 = data.length) !== null && _a2 !== void 0 ? _a2 : children.length ? positions[0] + children[0].length : 0;
    return new Tree(types2[data.topID], children.reverse(), positions.reverse(), length);
  }
  var nodeSizeCache = new WeakMap();
  function nodeSize(balanceType, node) {
    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)
      return 1;
    let size = nodeSizeCache.get(node);
    if (size == null) {
      size = 1;
      for (let child of node.children) {
        if (child.type != balanceType || !(child instanceof Tree)) {
          size = 1;
          break;
        }
        size += nodeSize(balanceType, child);
      }
      nodeSizeCache.set(node, size);
    }
    return size;
  }
  function balanceRange(balanceType, children, positions, from2, to, start, length, mkTop, mkTree) {
    let total = 0;
    for (let i = from2; i < to; i++)
      total += nodeSize(balanceType, children[i]);
    let maxChild = Math.ceil(total * 1.5 / 8);
    let localChildren = [], localPositions = [];
    function divide(children2, positions2, from3, to2, offset) {
      for (let i = from3; i < to2; ) {
        let groupFrom = i, groupStart = positions2[i], groupSize = nodeSize(balanceType, children2[i]);
        i++;
        for (; i < to2; i++) {
          let nextSize = nodeSize(balanceType, children2[i]);
          if (groupSize + nextSize >= maxChild)
            break;
          groupSize += nextSize;
        }
        if (i == groupFrom + 1) {
          if (groupSize > maxChild) {
            let only = children2[groupFrom];
            divide(only.children, only.positions, 0, only.children.length, positions2[groupFrom] + offset);
            continue;
          }
          localChildren.push(children2[groupFrom]);
        } else {
          let length2 = positions2[i - 1] + children2[i - 1].length - groupStart;
          localChildren.push(balanceRange(balanceType, children2, positions2, groupFrom, i, groupStart, length2, null, mkTree));
        }
        localPositions.push(groupStart + offset - start);
      }
    }
    divide(children, positions, from2, to, 0);
    return (mkTop || mkTree)(localChildren, localPositions, length);
  }
  var NodeWeakMap = class {
    constructor() {
      this.map = new WeakMap();
    }
    setBuffer(buffer, index, value) {
      let inner = this.map.get(buffer);
      if (!inner)
        this.map.set(buffer, inner = new Map());
      inner.set(index, value);
    }
    getBuffer(buffer, index) {
      let inner = this.map.get(buffer);
      return inner && inner.get(index);
    }
    set(node, value) {
      if (node instanceof BufferNode)
        this.setBuffer(node.context.buffer, node.index, value);
      else if (node instanceof TreeNode)
        this.map.set(node.tree, value);
    }
    get(node) {
      return node instanceof BufferNode ? this.getBuffer(node.context.buffer, node.index) : node instanceof TreeNode ? this.map.get(node.tree) : void 0;
    }
    cursorSet(cursor, value) {
      if (cursor.buffer)
        this.setBuffer(cursor.buffer.buffer, cursor.index, value);
      else
        this.map.set(cursor.tree, value);
    }
    cursorGet(cursor) {
      return cursor.buffer ? this.getBuffer(cursor.buffer.buffer, cursor.index) : this.map.get(cursor.tree);
    }
  };
  var TreeFragment = class {
    constructor(from2, to, tree, offset, openStart = false, openEnd = false) {
      this.from = from2;
      this.to = to;
      this.tree = tree;
      this.offset = offset;
      this.open = (openStart ? 1 : 0) | (openEnd ? 2 : 0);
    }
    get openStart() {
      return (this.open & 1) > 0;
    }
    get openEnd() {
      return (this.open & 2) > 0;
    }
    static addTree(tree, fragments = [], partial = false) {
      let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];
      for (let f of fragments)
        if (f.to > tree.length)
          result.push(f);
      return result;
    }
    static applyChanges(fragments, changes, minGap = 128) {
      if (!changes.length)
        return fragments;
      let result = [];
      let fI = 1, nextF = fragments.length ? fragments[0] : null;
      for (let cI = 0, pos = 0, off = 0; ; cI++) {
        let nextC = cI < changes.length ? changes[cI] : null;
        let nextPos = nextC ? nextC.fromA : 1e9;
        if (nextPos - pos >= minGap)
          while (nextF && nextF.from < nextPos) {
            let cut = nextF;
            if (pos >= cut.from || nextPos <= cut.to || off) {
              let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;
              cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);
            }
            if (cut)
              result.push(cut);
            if (nextF.to > nextPos)
              break;
            nextF = fI < fragments.length ? fragments[fI++] : null;
          }
        if (!nextC)
          break;
        pos = nextC.toA;
        off = nextC.toA - nextC.toB;
      }
      return result;
    }
  };
  var Parser = class {
    startParse(input, fragments, ranges) {
      if (typeof input == "string")
        input = new StringInput(input);
      ranges = !ranges ? [new Range2(0, input.length)] : ranges.length ? ranges.map((r) => new Range2(r.from, r.to)) : [new Range2(0, 0)];
      return this.createParse(input, fragments || [], ranges);
    }
    parse(input, fragments, ranges) {
      let parse = this.startParse(input, fragments, ranges);
      for (; ; ) {
        let done = parse.advance();
        if (done)
          return done;
      }
    }
  };
  var StringInput = class {
    constructor(string2) {
      this.string = string2;
    }
    get length() {
      return this.string.length;
    }
    chunk(from2) {
      return this.string.slice(from2);
    }
    get lineChunks() {
      return false;
    }
    read(from2, to) {
      return this.string.slice(from2, to);
    }
  };
  function parseMixed(nest) {
    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);
  }
  var InnerParse = class {
    constructor(parser8, parse, overlay, target, ranges) {
      this.parser = parser8;
      this.parse = parse;
      this.overlay = overlay;
      this.target = target;
      this.ranges = ranges;
    }
  };
  var ActiveOverlay = class {
    constructor(parser8, predicate, mounts, index, start, target, prev) {
      this.parser = parser8;
      this.predicate = predicate;
      this.mounts = mounts;
      this.index = index;
      this.start = start;
      this.target = target;
      this.prev = prev;
      this.depth = 0;
      this.ranges = [];
    }
  };
  var stoppedInner = new NodeProp({perNode: true});
  var MixedParse = class {
    constructor(base2, nest, input, fragments, ranges) {
      this.nest = nest;
      this.input = input;
      this.fragments = fragments;
      this.ranges = ranges;
      this.inner = [];
      this.innerDone = 0;
      this.baseTree = null;
      this.stoppedAt = null;
      this.baseParse = base2;
    }
    advance() {
      if (this.baseParse) {
        let done2 = this.baseParse.advance();
        if (!done2)
          return null;
        this.baseParse = null;
        this.baseTree = done2;
        this.startInner();
        if (this.stoppedAt != null)
          for (let inner2 of this.inner)
            inner2.parse.stopAt(this.stoppedAt);
      }
      if (this.innerDone == this.inner.length) {
        let result = this.baseTree;
        if (this.stoppedAt != null)
          result = new Tree(result.type, result.children, result.positions, result.length, result.propValues.concat([[stoppedInner, this.stoppedAt]]));
        return result;
      }
      let inner = this.inner[this.innerDone], done = inner.parse.advance();
      if (done) {
        this.innerDone++;
        let props = Object.assign(Object.create(null), inner.target.props);
        props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);
        inner.target.props = props;
      }
      return null;
    }
    get parsedPos() {
      if (this.baseParse)
        return 0;
      let pos = this.input.length;
      for (let i = this.innerDone; i < this.inner.length; i++) {
        if (this.inner[i].ranges[0].from < pos)
          pos = Math.min(pos, this.inner[i].parse.parsedPos);
      }
      return pos;
    }
    stopAt(pos) {
      this.stoppedAt = pos;
      if (this.baseParse)
        this.baseParse.stopAt(pos);
      else
        for (let i = this.innerDone; i < this.inner.length; i++)
          this.inner[i].parse.stopAt(pos);
    }
    startInner() {
      let fragmentCursor = new FragmentCursor(this.fragments);
      let overlay = null;
      let covered = null;
      let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), IterMode.IncludeAnonymous | IterMode.IgnoreMounts);
      scan:
        for (let nest, isCovered; this.stoppedAt == null || cursor.from < this.stoppedAt; ) {
          let enter = true, range;
          if (fragmentCursor.hasNode(cursor)) {
            if (overlay) {
              let match2 = overlay.mounts.find((m) => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);
              if (match2)
                for (let r of match2.mount.overlay) {
                  let from2 = r.from + match2.pos, to = r.to + match2.pos;
                  if (from2 >= cursor.from && to <= cursor.to && !overlay.ranges.some((r2) => r2.from < to && r2.to > from2))
                    overlay.ranges.push({from: from2, to});
                }
            }
            enter = false;
          } else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {
            enter = isCovered != 2;
          } else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {
            if (!cursor.tree)
              materialize(cursor);
            let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);
            if (typeof nest.overlay == "function") {
              overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);
            } else {
              let ranges = punchRanges(this.ranges, nest.overlay || [new Range2(cursor.from, cursor.to)]);
              if (ranges.length)
                this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map((r) => new Range2(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree, ranges));
              if (!nest.overlay)
                enter = false;
              else if (ranges.length)
                covered = {ranges, depth: 0, prev: covered};
            }
          } else if (overlay && (range = overlay.predicate(cursor))) {
            if (range === true)
              range = new Range2(cursor.from, cursor.to);
            if (range.from < range.to)
              overlay.ranges.push(range);
          }
          if (enter && cursor.firstChild()) {
            if (overlay)
              overlay.depth++;
            if (covered)
              covered.depth++;
          } else {
            for (; ; ) {
              if (cursor.nextSibling())
                break;
              if (!cursor.parent())
                break scan;
              if (overlay && !--overlay.depth) {
                let ranges = punchRanges(this.ranges, overlay.ranges);
                if (ranges.length)
                  this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map((r) => new Range2(r.from - overlay.start, r.to - overlay.start)), overlay.target, ranges));
                overlay = overlay.prev;
              }
              if (covered && !--covered.depth)
                covered = covered.prev;
            }
          }
        }
    }
  };
  function checkCover(covered, from2, to) {
    for (let range of covered) {
      if (range.from >= to)
        break;
      if (range.to > from2)
        return range.from <= from2 && range.to >= to ? 2 : 1;
    }
    return 0;
  }
  function sliceBuf(buf, startI, endI, nodes, positions, off) {
    if (startI < endI) {
      let from2 = buf.buffer[startI + 1];
      nodes.push(buf.slice(startI, endI, from2));
      positions.push(from2 - off);
    }
  }
  function materialize(cursor) {
    let {node} = cursor, depth = 0;
    do {
      cursor.parent();
      depth++;
    } while (!cursor.tree);
    let i = 0, base2 = cursor.tree, off = 0;
    for (; ; i++) {
      off = base2.positions[i] + cursor.from;
      if (off <= node.from && off + base2.children[i].length >= node.to)
        break;
    }
    let buf = base2.children[i], b = buf.buffer;
    function split(startI, endI, type, innerOffset, length) {
      let i2 = startI;
      while (b[i2 + 2] + off <= node.from)
        i2 = b[i2 + 3];
      let children = [], positions = [];
      sliceBuf(buf, startI, i2, children, positions, innerOffset);
      let from2 = b[i2 + 1], to = b[i2 + 2];
      let isTarget = from2 + off == node.from && to + off == node.to && b[i2] == node.type.id;
      children.push(isTarget ? node.toTree() : split(i2 + 4, b[i2 + 3], buf.set.types[b[i2]], from2, to - from2));
      positions.push(from2 - innerOffset);
      sliceBuf(buf, b[i2 + 3], endI, children, positions, innerOffset);
      return new Tree(type, children, positions, length);
    }
    base2.children[i] = split(0, b.length, NodeType.none, 0, buf.length);
    for (let d = 0; d <= depth; d++)
      cursor.childAfter(node.from);
  }
  var StructureCursor = class {
    constructor(root, offset) {
      this.offset = offset;
      this.done = false;
      this.cursor = root.cursor(IterMode.IncludeAnonymous | IterMode.IgnoreMounts);
    }
    moveTo(pos) {
      let {cursor} = this, p = pos - this.offset;
      while (!this.done && cursor.from < p) {
        if (cursor.to >= pos && cursor.enter(p, 1, IterMode.IgnoreOverlays | IterMode.ExcludeBuffers))
          ;
        else if (!cursor.next(false))
          this.done = true;
      }
    }
    hasNode(cursor) {
      this.moveTo(cursor.from);
      if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {
        for (let tree = this.cursor.tree; ; ) {
          if (tree == cursor.tree)
            return true;
          if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)
            tree = tree.children[0];
          else
            break;
        }
      }
      return false;
    }
  };
  var FragmentCursor = class {
    constructor(fragments) {
      var _a2;
      this.fragments = fragments;
      this.curTo = 0;
      this.fragI = 0;
      if (fragments.length) {
        let first = this.curFrag = fragments[0];
        this.curTo = (_a2 = first.tree.prop(stoppedInner)) !== null && _a2 !== void 0 ? _a2 : first.to;
        this.inner = new StructureCursor(first.tree, -first.offset);
      } else {
        this.curFrag = this.inner = null;
      }
    }
    hasNode(node) {
      while (this.curFrag && node.from >= this.curTo)
        this.nextFrag();
      return this.curFrag && this.curFrag.from <= node.from && this.curTo >= node.to && this.inner.hasNode(node);
    }
    nextFrag() {
      var _a2;
      this.fragI++;
      if (this.fragI == this.fragments.length) {
        this.curFrag = this.inner = null;
      } else {
        let frag = this.curFrag = this.fragments[this.fragI];
        this.curTo = (_a2 = frag.tree.prop(stoppedInner)) !== null && _a2 !== void 0 ? _a2 : frag.to;
        this.inner = new StructureCursor(frag.tree, -frag.offset);
      }
    }
    findMounts(pos, parser8) {
      var _a2;
      let result = [];
      if (this.inner) {
        this.inner.cursor.moveTo(pos, 1);
        for (let pos2 = this.inner.cursor.node; pos2; pos2 = pos2.parent) {
          let mount = (_a2 = pos2.tree) === null || _a2 === void 0 ? void 0 : _a2.prop(NodeProp.mounted);
          if (mount && mount.parser == parser8) {
            for (let i = this.fragI; i < this.fragments.length; i++) {
              let frag = this.fragments[i];
              if (frag.from >= pos2.to)
                break;
              if (frag.tree == this.curFrag.tree)
                result.push({
                  frag,
                  pos: pos2.from - frag.offset,
                  mount
                });
            }
          }
        }
      }
      return result;
    }
  };
  function punchRanges(outer, ranges) {
    let copy = null, current = ranges;
    for (let i = 1, j = 0; i < outer.length; i++) {
      let gapFrom = outer[i - 1].to, gapTo = outer[i].from;
      for (; j < current.length; j++) {
        let r = current[j];
        if (r.from >= gapTo)
          break;
        if (r.to <= gapFrom)
          continue;
        if (!copy)
          current = copy = ranges.slice();
        if (r.from < gapFrom) {
          copy[j] = new Range2(r.from, gapFrom);
          if (r.to > gapTo)
            copy.splice(j + 1, 0, new Range2(gapTo, r.to));
        } else if (r.to > gapTo) {
          copy[j--] = new Range2(gapTo, r.to);
        } else {
          copy.splice(j--, 1);
        }
      }
    }
    return current;
  }
  function findCoverChanges(a, b, from2, to) {
    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;
    let result = [];
    for (; ; ) {
      let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;
      let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;
      if (inA != inB) {
        let start = Math.max(pos, from2), end = Math.min(nextA, nextB, to);
        if (start < end)
          result.push(new Range2(start, end));
      }
      pos = Math.min(nextA, nextB);
      if (pos == 1e9)
        break;
      if (nextA == pos) {
        if (!inA)
          inA = true;
        else {
          inA = false;
          iA++;
        }
      }
      if (nextB == pos) {
        if (!inB)
          inB = true;
        else {
          inB = false;
          iB++;
        }
      }
    }
    return result;
  }
  function enterFragments(mounts, ranges) {
    let result = [];
    for (let {pos, mount, frag} of mounts) {
      let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;
      let from2 = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);
      if (mount.overlay) {
        let overlay = mount.overlay.map((r) => new Range2(r.from + pos, r.to + pos));
        let changes = findCoverChanges(ranges, overlay, from2, to);
        for (let i = 0, pos2 = from2; ; i++) {
          let last = i == changes.length, end = last ? to : changes[i].from;
          if (end > pos2)
            result.push(new TreeFragment(pos2, end, mount.tree, -startPos, frag.from >= pos2 || frag.openStart, frag.to <= end || frag.openEnd));
          if (last)
            break;
          pos2 = changes[i].to;
        }
      } else {
        result.push(new TreeFragment(from2, to, mount.tree, -startPos, frag.from >= startPos || frag.openStart, frag.to <= endPos || frag.openEnd));
      }
    }
    return result;
  }

  // node_modules/@lezer/highlight/dist/index.js
  var nextTagID = 0;
  var Tag = class {
    constructor(set, base2, modified) {
      this.set = set;
      this.base = base2;
      this.modified = modified;
      this.id = nextTagID++;
    }
    static define(parent) {
      if (parent === null || parent === void 0 ? void 0 : parent.base)
        throw new Error("Can not derive from a modified tag");
      let tag = new Tag([], null, []);
      tag.set.push(tag);
      if (parent)
        for (let t2 of parent.set)
          tag.set.push(t2);
      return tag;
    }
    static defineModifier() {
      let mod = new Modifier();
      return (tag) => {
        if (tag.modified.indexOf(mod) > -1)
          return tag;
        return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));
      };
    }
  };
  var nextModifierID = 0;
  var Modifier = class {
    constructor() {
      this.instances = [];
      this.id = nextModifierID++;
    }
    static get(base2, mods) {
      if (!mods.length)
        return base2;
      let exists = mods[0].instances.find((t2) => t2.base == base2 && sameArray2(mods, t2.modified));
      if (exists)
        return exists;
      let set = [], tag = new Tag(set, base2, mods);
      for (let m of mods)
        m.instances.push(tag);
      let configs = powerSet(mods);
      for (let parent of base2.set)
        if (!parent.modified.length)
          for (let config of configs)
            set.push(Modifier.get(parent, config));
      return tag;
    }
  };
  function sameArray2(a, b) {
    return a.length == b.length && a.every((x, i) => x == b[i]);
  }
  function powerSet(array2) {
    let sets = [[]];
    for (let i = 0; i < array2.length; i++) {
      for (let j = 0, e = sets.length; j < e; j++) {
        sets.push(sets[j].concat(array2[i]));
      }
    }
    return sets.sort((a, b) => b.length - a.length);
  }
  function styleTags(spec) {
    let byName = Object.create(null);
    for (let prop in spec) {
      let tags3 = spec[prop];
      if (!Array.isArray(tags3))
        tags3 = [tags3];
      for (let part of prop.split(" "))
        if (part) {
          let pieces = [], mode = 2, rest = part;
          for (let pos = 0; ; ) {
            if (rest == "..." && pos > 0 && pos + 3 == part.length) {
              mode = 1;
              break;
            }
            let m = /^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(rest);
            if (!m)
              throw new RangeError("Invalid path: " + part);
            pieces.push(m[0] == "*" ? "" : m[0][0] == '"' ? JSON.parse(m[0]) : m[0]);
            pos += m[0].length;
            if (pos == part.length)
              break;
            let next = part[pos++];
            if (pos == part.length && next == "!") {
              mode = 0;
              break;
            }
            if (next != "/")
              throw new RangeError("Invalid path: " + part);
            rest = part.slice(pos);
          }
          let last = pieces.length - 1, inner = pieces[last];
          if (!inner)
            throw new RangeError("Invalid path: " + part);
          let rule = new Rule(tags3, mode, last > 0 ? pieces.slice(0, last) : null);
          byName[inner] = rule.sort(byName[inner]);
        }
    }
    return ruleNodeProp.add(byName);
  }
  var ruleNodeProp = new NodeProp();
  var Rule = class {
    constructor(tags3, mode, context, next) {
      this.tags = tags3;
      this.mode = mode;
      this.context = context;
      this.next = next;
    }
    get opaque() {
      return this.mode == 0;
    }
    get inherit() {
      return this.mode == 1;
    }
    sort(other) {
      if (!other || other.depth < this.depth) {
        this.next = other;
        return this;
      }
      other.next = this.sort(other.next);
      return other;
    }
    get depth() {
      return this.context ? this.context.length : 0;
    }
  };
  Rule.empty = new Rule([], 2, null);
  function tagHighlighter(tags3, options) {
    let map = Object.create(null);
    for (let style of tags3) {
      if (!Array.isArray(style.tag))
        map[style.tag.id] = style.class;
      else
        for (let tag of style.tag)
          map[tag.id] = style.class;
    }
    let {scope, all = null} = options || {};
    return {
      style: (tags4) => {
        let cls = all;
        for (let tag of tags4) {
          for (let sub of tag.set) {
            let tagClass = map[sub.id];
            if (tagClass) {
              cls = cls ? cls + " " + tagClass : tagClass;
              break;
            }
          }
        }
        return cls;
      },
      scope
    };
  }
  function highlightTags(highlighters, tags3) {
    let result = null;
    for (let highlighter of highlighters) {
      let value = highlighter.style(tags3);
      if (value)
        result = result ? result + " " + value : value;
    }
    return result;
  }
  function highlightTree(tree, highlighter, putStyle, from2 = 0, to = tree.length) {
    let builder = new HighlightBuilder(from2, Array.isArray(highlighter) ? highlighter : [highlighter], putStyle);
    builder.highlightRange(tree.cursor(), from2, to, "", builder.highlighters);
    builder.flush(to);
  }
  var HighlightBuilder = class {
    constructor(at, highlighters, span) {
      this.at = at;
      this.highlighters = highlighters;
      this.span = span;
      this.class = "";
    }
    startSpan(at, cls) {
      if (cls != this.class) {
        this.flush(at);
        if (at > this.at)
          this.at = at;
        this.class = cls;
      }
    }
    flush(to) {
      if (to > this.at && this.class)
        this.span(this.at, to, this.class);
    }
    highlightRange(cursor, from2, to, inheritedClass, highlighters) {
      let {type, from: start, to: end} = cursor;
      if (start >= to || end <= from2)
        return;
      if (type.isTop)
        highlighters = this.highlighters.filter((h) => !h.scope || h.scope(type));
      let cls = inheritedClass;
      let rule = getStyleTags(cursor) || Rule.empty;
      let tagCls = highlightTags(highlighters, rule.tags);
      if (tagCls) {
        if (cls)
          cls += " ";
        cls += tagCls;
        if (rule.mode == 1)
          inheritedClass += (inheritedClass ? " " : "") + tagCls;
      }
      this.startSpan(cursor.from, cls);
      if (rule.opaque)
        return;
      let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);
      if (mounted && mounted.overlay) {
        let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);
        let innerHighlighters = this.highlighters.filter((h) => !h.scope || h.scope(mounted.tree.type));
        let hasChild2 = cursor.firstChild();
        for (let i = 0, pos = start; ; i++) {
          let next = i < mounted.overlay.length ? mounted.overlay[i] : null;
          let nextPos = next ? next.from + start : end;
          let rangeFrom = Math.max(from2, pos), rangeTo = Math.min(to, nextPos);
          if (rangeFrom < rangeTo && hasChild2) {
            while (cursor.from < rangeTo) {
              this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, highlighters);
              this.startSpan(Math.min(to, cursor.to), cls);
              if (cursor.to >= nextPos || !cursor.nextSibling())
                break;
            }
          }
          if (!next || nextPos > to)
            break;
          pos = next.to + start;
          if (pos > from2) {
            this.highlightRange(inner.cursor(), Math.max(from2, next.from + start), Math.min(to, pos), inheritedClass, innerHighlighters);
            this.startSpan(pos, cls);
          }
        }
        if (hasChild2)
          cursor.parent();
      } else if (cursor.firstChild()) {
        do {
          if (cursor.to <= from2)
            continue;
          if (cursor.from >= to)
            break;
          this.highlightRange(cursor, from2, to, inheritedClass, highlighters);
          this.startSpan(Math.min(to, cursor.to), cls);
        } while (cursor.nextSibling());
        cursor.parent();
      }
    }
  };
  function getStyleTags(node) {
    let rule = node.type.prop(ruleNodeProp);
    while (rule && rule.context && !node.matchContext(rule.context))
      rule = rule.next;
    return rule || null;
  }
  var t = Tag.define;
  var comment = t();
  var name = t();
  var typeName = t(name);
  var propertyName = t(name);
  var literal = t();
  var string = t(literal);
  var number = t(literal);
  var content = t();
  var heading = t(content);
  var keyword = t();
  var operator = t();
  var punctuation = t();
  var bracket = t(punctuation);
  var meta = t();
  var tags = {
    comment,
    lineComment: t(comment),
    blockComment: t(comment),
    docComment: t(comment),
    name,
    variableName: t(name),
    typeName,
    tagName: t(typeName),
    propertyName,
    attributeName: t(propertyName),
    className: t(name),
    labelName: t(name),
    namespace: t(name),
    macroName: t(name),
    literal,
    string,
    docString: t(string),
    character: t(string),
    attributeValue: t(string),
    number,
    integer: t(number),
    float: t(number),
    bool: t(literal),
    regexp: t(literal),
    escape: t(literal),
    color: t(literal),
    url: t(literal),
    keyword,
    self: t(keyword),
    null: t(keyword),
    atom: t(keyword),
    unit: t(keyword),
    modifier: t(keyword),
    operatorKeyword: t(keyword),
    controlKeyword: t(keyword),
    definitionKeyword: t(keyword),
    moduleKeyword: t(keyword),
    operator,
    derefOperator: t(operator),
    arithmeticOperator: t(operator),
    logicOperator: t(operator),
    bitwiseOperator: t(operator),
    compareOperator: t(operator),
    updateOperator: t(operator),
    definitionOperator: t(operator),
    typeOperator: t(operator),
    controlOperator: t(operator),
    punctuation,
    separator: t(punctuation),
    bracket,
    angleBracket: t(bracket),
    squareBracket: t(bracket),
    paren: t(bracket),
    brace: t(bracket),
    content,
    heading,
    heading1: t(heading),
    heading2: t(heading),
    heading3: t(heading),
    heading4: t(heading),
    heading5: t(heading),
    heading6: t(heading),
    contentSeparator: t(content),
    list: t(content),
    quote: t(content),
    emphasis: t(content),
    strong: t(content),
    link: t(content),
    monospace: t(content),
    strikethrough: t(content),
    inserted: t(),
    deleted: t(),
    changed: t(),
    invalid: t(),
    meta,
    documentMeta: t(meta),
    annotation: t(meta),
    processingInstruction: t(meta),
    definition: Tag.defineModifier(),
    constant: Tag.defineModifier(),
    function: Tag.defineModifier(),
    standard: Tag.defineModifier(),
    local: Tag.defineModifier(),
    special: Tag.defineModifier()
  };
  var classHighlighter = tagHighlighter([
    {tag: tags.link, class: "tok-link"},
    {tag: tags.heading, class: "tok-heading"},
    {tag: tags.emphasis, class: "tok-emphasis"},
    {tag: tags.strong, class: "tok-strong"},
    {tag: tags.keyword, class: "tok-keyword"},
    {tag: tags.atom, class: "tok-atom"},
    {tag: tags.bool, class: "tok-bool"},
    {tag: tags.url, class: "tok-url"},
    {tag: tags.labelName, class: "tok-labelName"},
    {tag: tags.inserted, class: "tok-inserted"},
    {tag: tags.deleted, class: "tok-deleted"},
    {tag: tags.literal, class: "tok-literal"},
    {tag: tags.string, class: "tok-string"},
    {tag: tags.number, class: "tok-number"},
    {tag: [tags.regexp, tags.escape, tags.special(tags.string)], class: "tok-string2"},
    {tag: tags.variableName, class: "tok-variableName"},
    {tag: tags.local(tags.variableName), class: "tok-variableName tok-local"},
    {tag: tags.definition(tags.variableName), class: "tok-variableName tok-definition"},
    {tag: tags.special(tags.variableName), class: "tok-variableName2"},
    {tag: tags.definition(tags.propertyName), class: "tok-propertyName tok-definition"},
    {tag: tags.typeName, class: "tok-typeName"},
    {tag: tags.namespace, class: "tok-namespace"},
    {tag: tags.className, class: "tok-className"},
    {tag: tags.macroName, class: "tok-macroName"},
    {tag: tags.propertyName, class: "tok-propertyName"},
    {tag: tags.operator, class: "tok-operator"},
    {tag: tags.comment, class: "tok-comment"},
    {tag: tags.meta, class: "tok-meta"},
    {tag: tags.invalid, class: "tok-invalid"},
    {tag: tags.punctuation, class: "tok-punctuation"}
  ]);

  // node_modules/@codemirror/language/dist/index.js
  var _a;
  var languageDataProp = /* @__PURE__ */ new NodeProp();
  function defineLanguageFacet(baseData) {
    return Facet.define({
      combine: baseData ? (values2) => values2.concat(baseData) : void 0
    });
  }
  var Language = class {
    constructor(data, parser8, extraExtensions = [], name2 = "") {
      this.data = data;
      this.name = name2;
      if (!EditorState.prototype.hasOwnProperty("tree"))
        Object.defineProperty(EditorState.prototype, "tree", {get() {
          return syntaxTree(this);
        }});
      this.parser = parser8;
      this.extension = [
        language.of(this),
        EditorState.languageData.of((state, pos, side) => state.facet(languageDataFacetAt(state, pos, side)))
      ].concat(extraExtensions);
    }
    isActiveAt(state, pos, side = -1) {
      return languageDataFacetAt(state, pos, side) == this.data;
    }
    findRegions(state) {
      let lang = state.facet(language);
      if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)
        return [{from: 0, to: state.doc.length}];
      if (!lang || !lang.allowsNesting)
        return [];
      let result = [];
      let explore = (tree, from2) => {
        if (tree.prop(languageDataProp) == this.data) {
          result.push({from: from2, to: from2 + tree.length});
          return;
        }
        let mount = tree.prop(NodeProp.mounted);
        if (mount) {
          if (mount.tree.prop(languageDataProp) == this.data) {
            if (mount.overlay)
              for (let r of mount.overlay)
                result.push({from: r.from + from2, to: r.to + from2});
            else
              result.push({from: from2, to: from2 + tree.length});
            return;
          } else if (mount.overlay) {
            let size = result.length;
            explore(mount.tree, mount.overlay[0].from + from2);
            if (result.length > size)
              return;
          }
        }
        for (let i = 0; i < tree.children.length; i++) {
          let ch = tree.children[i];
          if (ch instanceof Tree)
            explore(ch, tree.positions[i] + from2);
        }
      };
      explore(syntaxTree(state), 0);
      return result;
    }
    get allowsNesting() {
      return true;
    }
  };
  Language.setState = /* @__PURE__ */ StateEffect.define();
  function languageDataFacetAt(state, pos, side) {
    let topLang = state.facet(language);
    if (!topLang)
      return null;
    let facet = topLang.data;
    if (topLang.allowsNesting) {
      for (let node = syntaxTree(state).topNode; node; node = node.enter(pos, side, IterMode.ExcludeBuffers))
        facet = node.type.prop(languageDataProp) || facet;
    }
    return facet;
  }
  var LRLanguage = class extends Language {
    constructor(data, parser8, name2) {
      super(data, parser8, [], name2);
      this.parser = parser8;
    }
    static define(spec) {
      let data = defineLanguageFacet(spec.languageData);
      return new LRLanguage(data, spec.parser.configure({
        props: [languageDataProp.add((type) => type.isTop ? data : void 0)]
      }), spec.name);
    }
    configure(options, name2) {
      return new LRLanguage(this.data, this.parser.configure(options), name2 || this.name);
    }
    get allowsNesting() {
      return this.parser.hasWrappers();
    }
  };
  function syntaxTree(state) {
    let field = state.field(Language.state, false);
    return field ? field.tree : Tree.empty;
  }
  var DocInput = class {
    constructor(doc2, length = doc2.length) {
      this.doc = doc2;
      this.length = length;
      this.cursorPos = 0;
      this.string = "";
      this.cursor = doc2.iter();
    }
    syncTo(pos) {
      this.string = this.cursor.next(pos - this.cursorPos).value;
      this.cursorPos = pos + this.string.length;
      return this.cursorPos - this.string.length;
    }
    chunk(pos) {
      this.syncTo(pos);
      return this.string;
    }
    get lineChunks() {
      return true;
    }
    read(from2, to) {
      let stringStart = this.cursorPos - this.string.length;
      if (from2 < stringStart || to >= this.cursorPos)
        return this.doc.sliceString(from2, to);
      else
        return this.string.slice(from2 - stringStart, to - stringStart);
    }
  };
  var currentContext = null;
  var ParseContext = class {
    constructor(parser8, state, fragments = [], tree, treeLen, viewport, skipped, scheduleOn) {
      this.parser = parser8;
      this.state = state;
      this.fragments = fragments;
      this.tree = tree;
      this.treeLen = treeLen;
      this.viewport = viewport;
      this.skipped = skipped;
      this.scheduleOn = scheduleOn;
      this.parse = null;
      this.tempSkipped = [];
    }
    static create(parser8, state, viewport) {
      return new ParseContext(parser8, state, [], Tree.empty, 0, viewport, [], null);
    }
    startParse() {
      return this.parser.startParse(new DocInput(this.state.doc), this.fragments);
    }
    work(until, upto) {
      if (upto != null && upto >= this.state.doc.length)
        upto = void 0;
      if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {
        this.takeTree();
        return true;
      }
      return this.withContext(() => {
        var _a2;
        if (typeof until == "number") {
          let endTime = Date.now() + until;
          until = () => Date.now() > endTime;
        }
        if (!this.parse)
          this.parse = this.startParse();
        if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) && upto < this.state.doc.length)
          this.parse.stopAt(upto);
        for (; ; ) {
          let done = this.parse.advance();
          if (done) {
            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));
            this.treeLen = (_a2 = this.parse.stoppedAt) !== null && _a2 !== void 0 ? _a2 : this.state.doc.length;
            this.tree = done;
            this.parse = null;
            if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))
              this.parse = this.startParse();
            else
              return true;
          }
          if (until())
            return false;
        }
      });
    }
    takeTree() {
      let pos, tree;
      if (this.parse && (pos = this.parse.parsedPos) >= this.treeLen) {
        if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)
          this.parse.stopAt(pos);
        this.withContext(() => {
          while (!(tree = this.parse.advance())) {
          }
        });
        this.treeLen = pos;
        this.tree = tree;
        this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));
        this.parse = null;
      }
    }
    withContext(f) {
      let prev = currentContext;
      currentContext = this;
      try {
        return f();
      } finally {
        currentContext = prev;
      }
    }
    withoutTempSkipped(fragments) {
      for (let r; r = this.tempSkipped.pop(); )
        fragments = cutFragments(fragments, r.from, r.to);
      return fragments;
    }
    changes(changes, newState) {
      let {fragments, tree, treeLen, viewport, skipped} = this;
      this.takeTree();
      if (!changes.empty) {
        let ranges = [];
        changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({fromA, toA, fromB, toB}));
        fragments = TreeFragment.applyChanges(fragments, ranges);
        tree = Tree.empty;
        treeLen = 0;
        viewport = {from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1)};
        if (this.skipped.length) {
          skipped = [];
          for (let r of this.skipped) {
            let from2 = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);
            if (from2 < to)
              skipped.push({from: from2, to});
          }
        }
      }
      return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);
    }
    updateViewport(viewport) {
      if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)
        return false;
      this.viewport = viewport;
      let startLen = this.skipped.length;
      for (let i = 0; i < this.skipped.length; i++) {
        let {from: from2, to} = this.skipped[i];
        if (from2 < viewport.to && to > viewport.from) {
          this.fragments = cutFragments(this.fragments, from2, to);
          this.skipped.splice(i--, 1);
        }
      }
      if (this.skipped.length >= startLen)
        return false;
      this.reset();
      return true;
    }
    reset() {
      if (this.parse) {
        this.takeTree();
        this.parse = null;
      }
    }
    skipUntilInView(from2, to) {
      this.skipped.push({from: from2, to});
    }
    static getSkippingParser(until) {
      return new class extends Parser {
        createParse(input, fragments, ranges) {
          let from2 = ranges[0].from, to = ranges[ranges.length - 1].to;
          let parser8 = {
            parsedPos: from2,
            advance() {
              let cx = currentContext;
              if (cx) {
                for (let r of ranges)
                  cx.tempSkipped.push(r);
                if (until)
                  cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;
              }
              this.parsedPos = to;
              return new Tree(NodeType.none, [], [], to - from2);
            },
            stoppedAt: null,
            stopAt() {
            }
          };
          return parser8;
        }
      }();
    }
    isDone(upto) {
      upto = Math.min(upto, this.state.doc.length);
      let frags = this.fragments;
      return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;
    }
    static get() {
      return currentContext;
    }
  };
  function cutFragments(fragments, from2, to) {
    return TreeFragment.applyChanges(fragments, [{fromA: from2, toA: to, fromB: from2, toB: to}]);
  }
  var LanguageState = class {
    constructor(context) {
      this.context = context;
      this.tree = context.tree;
    }
    apply(tr) {
      if (!tr.docChanged && this.tree == this.context.tree)
        return this;
      let newCx = this.context.changes(tr.changes, tr.state);
      let upto = this.context.treeLen == tr.startState.doc.length ? void 0 : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);
      if (!newCx.work(20, upto))
        newCx.takeTree();
      return new LanguageState(newCx);
    }
    static init(state) {
      let vpTo = Math.min(3e3, state.doc.length);
      let parseState = ParseContext.create(state.facet(language).parser, state, {from: 0, to: vpTo});
      if (!parseState.work(20, vpTo))
        parseState.takeTree();
      return new LanguageState(parseState);
    }
  };
  Language.state = /* @__PURE__ */ StateField.define({
    create: LanguageState.init,
    update(value, tr) {
      for (let e of tr.effects)
        if (e.is(Language.setState))
          return e.value;
      if (tr.startState.facet(language) != tr.state.facet(language))
        return LanguageState.init(tr.state);
      return value.apply(tr);
    }
  });
  var requestIdle = (callback) => {
    let timeout = setTimeout(() => callback(), 500);
    return () => clearTimeout(timeout);
  };
  if (typeof requestIdleCallback != "undefined")
    requestIdle = (callback) => {
      let idle = -1, timeout = setTimeout(() => {
        idle = requestIdleCallback(callback, {timeout: 500 - 100});
      }, 100);
      return () => idle < 0 ? clearTimeout(timeout) : cancelIdleCallback(idle);
    };
  var isInputPending = typeof navigator != "undefined" && ((_a = navigator.scheduling) === null || _a === void 0 ? void 0 : _a.isInputPending) ? () => navigator.scheduling.isInputPending() : null;
  var parseWorker = /* @__PURE__ */ ViewPlugin.fromClass(class ParseWorker {
    constructor(view) {
      this.view = view;
      this.working = null;
      this.workScheduled = 0;
      this.chunkEnd = -1;
      this.chunkBudget = -1;
      this.work = this.work.bind(this);
      this.scheduleWork();
    }
    update(update) {
      let cx = this.view.state.field(Language.state).context;
      if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)
        this.scheduleWork();
      if (update.docChanged) {
        if (this.view.hasFocus)
          this.chunkBudget += 50;
        this.scheduleWork();
      }
      this.checkAsyncSchedule(cx);
    }
    scheduleWork() {
      if (this.working)
        return;
      let {state} = this.view, field = state.field(Language.state);
      if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))
        this.working = requestIdle(this.work);
    }
    work(deadline) {
      this.working = null;
      let now = Date.now();
      if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) {
        this.chunkEnd = now + 3e4;
        this.chunkBudget = 3e3;
      }
      if (this.chunkBudget <= 0)
        return;
      let {state, viewport: {to: vpTo}} = this.view, field = state.field(Language.state);
      if (field.tree == field.context.tree && field.context.isDone(vpTo + 1e5))
        return;
      let endTime = Date.now() + Math.min(this.chunkBudget, 100, deadline && !isInputPending ? Math.max(25, deadline.timeRemaining() - 5) : 1e9);
      let viewportFirst = field.context.treeLen < vpTo && state.doc.length > vpTo + 1e3;
      let done = field.context.work(() => {
        return isInputPending && isInputPending() || Date.now() > endTime;
      }, vpTo + (viewportFirst ? 0 : 1e5));
      this.chunkBudget -= Date.now() - now;
      if (done || this.chunkBudget <= 0) {
        field.context.takeTree();
        this.view.dispatch({effects: Language.setState.of(new LanguageState(field.context))});
      }
      if (this.chunkBudget > 0 && !(done && !viewportFirst))
        this.scheduleWork();
      this.checkAsyncSchedule(field.context);
    }
    checkAsyncSchedule(cx) {
      if (cx.scheduleOn) {
        this.workScheduled++;
        cx.scheduleOn.then(() => this.scheduleWork()).catch((err) => logException(this.view.state, err)).then(() => this.workScheduled--);
        cx.scheduleOn = null;
      }
    }
    destroy() {
      if (this.working)
        this.working();
    }
    isWorking() {
      return !!(this.working || this.workScheduled > 0);
    }
  }, {
    eventHandlers: {focus() {
      this.scheduleWork();
    }}
  });
  var language = /* @__PURE__ */ Facet.define({
    combine(languages) {
      return languages.length ? languages[0] : null;
    },
    enables: (language2) => [
      Language.state,
      parseWorker,
      EditorView.contentAttributes.compute([language2], (state) => {
        let lang = state.facet(language2);
        return lang && lang.name ? {"data-language": lang.name} : {};
      })
    ]
  });
  var LanguageSupport = class {
    constructor(language2, support = []) {
      this.language = language2;
      this.support = support;
      this.extension = [language2, support];
    }
  };
  var indentUnit = /* @__PURE__ */ Facet.define({
    combine: (values2) => {
      if (!values2.length)
        return "  ";
      if (!/^(?: +|\t+)$/.test(values2[0]))
        throw new Error("Invalid indent unit: " + JSON.stringify(values2[0]));
      return values2[0];
    }
  });
  function getIndentUnit(state) {
    let unit = state.facet(indentUnit);
    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;
  }
  function indentString(state, cols) {
    let result = "", ts = state.tabSize;
    if (state.facet(indentUnit).charCodeAt(0) == 9)
      while (cols >= ts) {
        result += "	";
        cols -= ts;
      }
    for (let i = 0; i < cols; i++)
      result += " ";
    return result;
  }
  var indentNodeProp = /* @__PURE__ */ new NodeProp();
  function bracketedAligned(context) {
    let tree = context.node;
    let openToken = tree.childAfter(tree.from), last = tree.lastChild;
    if (!openToken)
      return null;
    let sim = context.options.simulateBreak;
    let openLine = context.state.doc.lineAt(openToken.from);
    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);
    for (let pos = openToken.to; ; ) {
      let next = tree.childAfter(pos);
      if (!next || next == last)
        return null;
      if (!next.type.isSkipped)
        return next.from < lineEnd ? openToken : null;
      pos = next.to;
    }
  }
  function delimitedIndent({closing, align = true, units = 1}) {
    return (context) => delimitedStrategy(context, align, units, closing);
  }
  function delimitedStrategy(context, align, units, closing, closedAt) {
    let after = context.textAfter, space3 = after.match(/^\s*/)[0].length;
    let closed = closing && after.slice(space3, space3 + closing.length) == closing || closedAt == context.pos + space3;
    let aligned = align ? bracketedAligned(context) : null;
    if (aligned)
      return closed ? context.column(aligned.from) : context.column(aligned.to);
    return context.baseIndent + (closed ? 0 : context.unit * units);
  }
  var flatIndent = (context) => context.baseIndent;
  function continuedIndent({except, units = 1} = {}) {
    return (context) => {
      let matchExcept = except && except.test(context.textAfter);
      return context.baseIndent + (matchExcept ? 0 : units * context.unit);
    };
  }
  var foldNodeProp = /* @__PURE__ */ new NodeProp();
  function foldInside(node) {
    let first = node.firstChild, last = node.lastChild;
    return first && first.to < last.from ? {from: first.to, to: last.type.isError ? node.to : last.from} : null;
  }
  var HighlightStyle = class {
    constructor(specs, options) {
      this.specs = specs;
      let modSpec;
      function def(spec) {
        let cls = StyleModule.newName();
        (modSpec || (modSpec = Object.create(null)))["." + cls] = spec;
        return cls;
      }
      const all = typeof options.all == "string" ? options.all : options.all ? def(options.all) : void 0;
      const scopeOpt = options.scope;
      this.scope = scopeOpt instanceof Language ? (type) => type.prop(languageDataProp) == scopeOpt.data : scopeOpt ? (type) => type == scopeOpt : void 0;
      this.style = tagHighlighter(specs.map((style) => ({
        tag: style.tag,
        class: style.class || def(Object.assign({}, style, {tag: null}))
      })), {
        all
      }).style;
      this.module = modSpec ? new StyleModule(modSpec) : null;
      this.themeType = options.themeType;
    }
    static define(specs, options) {
      return new HighlightStyle(specs, options || {});
    }
  };
  var highlighterFacet = /* @__PURE__ */ Facet.define();
  var fallbackHighlighter = /* @__PURE__ */ Facet.define({
    combine(values2) {
      return values2.length ? [values2[0]] : null;
    }
  });
  function getHighlighters(state) {
    let main = state.facet(highlighterFacet);
    return main.length ? main : state.facet(fallbackHighlighter);
  }
  function syntaxHighlighting(highlighter, options) {
    let ext = [treeHighlighter], themeType;
    if (highlighter instanceof HighlightStyle) {
      if (highlighter.module)
        ext.push(EditorView.styleModule.of(highlighter.module));
      themeType = highlighter.themeType;
    }
    if (options === null || options === void 0 ? void 0 : options.fallback)
      ext.push(fallbackHighlighter.of(highlighter));
    else if (themeType)
      ext.push(highlighterFacet.computeN([EditorView.darkTheme], (state) => {
        return state.facet(EditorView.darkTheme) == (themeType == "dark") ? [highlighter] : [];
      }));
    else
      ext.push(highlighterFacet.of(highlighter));
    return ext;
  }
  var TreeHighlighter = class {
    constructor(view) {
      this.markCache = Object.create(null);
      this.tree = syntaxTree(view.state);
      this.decorations = this.buildDeco(view, getHighlighters(view.state));
    }
    update(update) {
      let tree = syntaxTree(update.state), highlighters = getHighlighters(update.state);
      let styleChange = highlighters != getHighlighters(update.startState);
      if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {
        this.decorations = this.decorations.map(update.changes);
      } else if (tree != this.tree || update.viewportChanged || styleChange) {
        this.tree = tree;
        this.decorations = this.buildDeco(update.view, highlighters);
      }
    }
    buildDeco(view, highlighters) {
      if (!highlighters || !this.tree.length)
        return Decoration.none;
      let builder = new RangeSetBuilder();
      for (let {from: from2, to} of view.visibleRanges) {
        highlightTree(this.tree, highlighters, (from3, to2, style) => {
          builder.add(from3, to2, this.markCache[style] || (this.markCache[style] = Decoration.mark({class: style})));
        }, from2, to);
      }
      return builder.finish();
    }
  };
  var treeHighlighter = /* @__PURE__ */ Prec.high(/* @__PURE__ */ ViewPlugin.fromClass(TreeHighlighter, {
    decorations: (v) => v.decorations
  }));
  var defaultHighlightStyle = /* @__PURE__ */ HighlightStyle.define([
    {
      tag: tags.meta,
      color: "#7a757a"
    },
    {
      tag: tags.link,
      textDecoration: "underline"
    },
    {
      tag: tags.heading,
      textDecoration: "underline",
      fontWeight: "bold"
    },
    {
      tag: tags.emphasis,
      fontStyle: "italic"
    },
    {
      tag: tags.strong,
      fontWeight: "bold"
    },
    {
      tag: tags.strikethrough,
      textDecoration: "line-through"
    },
    {
      tag: tags.keyword,
      color: "#708"
    },
    {
      tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],
      color: "#219"
    },
    {
      tag: [tags.literal, tags.inserted],
      color: "#164"
    },
    {
      tag: [tags.string, tags.deleted],
      color: "#a11"
    },
    {
      tag: [tags.regexp, tags.escape, /* @__PURE__ */ tags.special(tags.string)],
      color: "#e40"
    },
    {
      tag: /* @__PURE__ */ tags.definition(tags.variableName),
      color: "#00f"
    },
    {
      tag: /* @__PURE__ */ tags.local(tags.variableName),
      color: "#30a"
    },
    {
      tag: [tags.typeName, tags.namespace],
      color: "#085"
    },
    {
      tag: tags.className,
      color: "#167"
    },
    {
      tag: [/* @__PURE__ */ tags.special(tags.variableName), tags.macroName],
      color: "#256"
    },
    {
      tag: /* @__PURE__ */ tags.definition(tags.propertyName),
      color: "#00c"
    },
    {
      tag: tags.comment,
      color: "#940"
    },
    {
      tag: tags.invalid,
      color: "#f00"
    }
  ]);
  var noTokens = /* @__PURE__ */ Object.create(null);
  var typeArray = [NodeType.none];
  var warned = [];
  var defaultTable = /* @__PURE__ */ Object.create(null);
  for (let [legacyName, name2] of [
    ["variable", "variableName"],
    ["variable-2", "variableName.special"],
    ["string-2", "string.special"],
    ["def", "variableName.definition"],
    ["tag", "tagName"],
    ["attribute", "attributeName"],
    ["type", "typeName"],
    ["builtin", "variableName.standard"],
    ["qualifier", "modifier"],
    ["error", "invalid"],
    ["header", "heading"],
    ["property", "propertyName"]
  ])
    defaultTable[legacyName] = /* @__PURE__ */ createTokenType(noTokens, name2);
  function warnForPart(part, msg) {
    if (warned.indexOf(part) > -1)
      return;
    warned.push(part);
    console.warn(msg);
  }
  function createTokenType(extra, tagStr) {
    let tag = null;
    for (let part of tagStr.split(".")) {
      let value = extra[part] || tags[part];
      if (!value) {
        warnForPart(part, `Unknown highlighting tag ${part}`);
      } else if (typeof value == "function") {
        if (!tag)
          warnForPart(part, `Modifier ${part} used at start of tag`);
        else
          tag = value(tag);
      } else {
        if (tag)
          warnForPart(part, `Tag ${part} used as modifier`);
        else
          tag = value;
      }
    }
    if (!tag)
      return 0;
    let name2 = tagStr.replace(/ /g, "_"), type = NodeType.define({
      id: typeArray.length,
      name: name2,
      props: [styleTags({[name2]: tag})]
    });
    typeArray.push(type);
    return type.id;
  }

  // node_modules/@codemirror/commands/dist/index.js
  var fromHistory = /* @__PURE__ */ Annotation.define();
  var invertedEffects = /* @__PURE__ */ Facet.define();
  var HistEvent = class {
    constructor(changes, effects, mapped, startSelection, selectionsAfter) {
      this.changes = changes;
      this.effects = effects;
      this.mapped = mapped;
      this.startSelection = startSelection;
      this.selectionsAfter = selectionsAfter;
    }
    setSelAfter(after) {
      return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);
    }
    toJSON() {
      var _a2, _b, _c;
      return {
        changes: (_a2 = this.changes) === null || _a2 === void 0 ? void 0 : _a2.toJSON(),
        mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),
        startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),
        selectionsAfter: this.selectionsAfter.map((s) => s.toJSON())
      };
    }
    static fromJSON(json2) {
      return new HistEvent(json2.changes && ChangeSet.fromJSON(json2.changes), [], json2.mapped && ChangeDesc.fromJSON(json2.mapped), json2.startSelection && EditorSelection.fromJSON(json2.startSelection), json2.selectionsAfter.map(EditorSelection.fromJSON));
    }
    static fromTransaction(tr, selection) {
      let effects = none2;
      for (let invert of tr.startState.facet(invertedEffects)) {
        let result = invert(tr);
        if (result.length)
          effects = effects.concat(result);
      }
      if (!effects.length && tr.changes.empty)
        return null;
      return new HistEvent(tr.changes.invert(tr.startState.doc), effects, void 0, selection || tr.startState.selection, none2);
    }
    static selection(selections) {
      return new HistEvent(void 0, none2, void 0, void 0, selections);
    }
  };
  function updateBranch(branch, to, maxLen, newEvent) {
    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;
    let newBranch = branch.slice(start, to);
    newBranch.push(newEvent);
    return newBranch;
  }
  function isAdjacent(a, b) {
    let ranges = [], isAdjacent2 = false;
    a.iterChangedRanges((f, t2) => ranges.push(f, t2));
    b.iterChangedRanges((_f, _t, f, t2) => {
      for (let i = 0; i < ranges.length; ) {
        let from2 = ranges[i++], to = ranges[i++];
        if (t2 >= from2 && f <= to)
          isAdjacent2 = true;
      }
    });
    return isAdjacent2;
  }
  function eqSelectionShape(a, b) {
    return a.ranges.length == b.ranges.length && a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;
  }
  function conc(a, b) {
    return !a.length ? b : !b.length ? a : a.concat(b);
  }
  var none2 = [];
  var MaxSelectionsPerEvent = 200;
  function addSelection(branch, selection) {
    if (!branch.length) {
      return [HistEvent.selection([selection])];
    } else {
      let lastEvent = branch[branch.length - 1];
      let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));
      if (sels.length && sels[sels.length - 1].eq(selection))
        return branch;
      sels.push(selection);
      return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));
    }
  }
  function popSelection(branch) {
    let last = branch[branch.length - 1];
    let newBranch = branch.slice();
    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));
    return newBranch;
  }
  function addMappingToBranch(branch, mapping) {
    if (!branch.length)
      return branch;
    let length = branch.length, selections = none2;
    while (length) {
      let event = mapEvent(branch[length - 1], mapping, selections);
      if (event.changes && !event.changes.empty || event.effects.length) {
        let result = branch.slice(0, length);
        result[length - 1] = event;
        return result;
      } else {
        mapping = event.mapped;
        length--;
        selections = event.selectionsAfter;
      }
    }
    return selections.length ? [HistEvent.selection(selections)] : none2;
  }
  function mapEvent(event, mapping, extraSelections) {
    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map((s) => s.map(mapping)) : none2, extraSelections);
    if (!event.changes)
      return HistEvent.selection(selections);
    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);
    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;
    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);
  }
  var joinableUserEvent = /^(input\.type|delete)($|\.)/;
  var HistoryState = class {
    constructor(done, undone, prevTime = 0, prevUserEvent = void 0) {
      this.done = done;
      this.undone = undone;
      this.prevTime = prevTime;
      this.prevUserEvent = prevUserEvent;
    }
    isolate() {
      return this.prevTime ? new HistoryState(this.done, this.undone) : this;
    }
    addChanges(event, time, userEvent, newGroupDelay, maxLen) {
      let done = this.done, lastEvent = done[done.length - 1];
      if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes && (!userEvent || joinableUserEvent.test(userEvent)) && (!lastEvent.selectionsAfter.length && time - this.prevTime < newGroupDelay && isAdjacent(lastEvent.changes, event.changes) || userEvent == "input.type.compose")) {
        done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none2));
      } else {
        done = updateBranch(done, done.length, maxLen, event);
      }
      return new HistoryState(done, none2, time, userEvent);
    }
    addSelection(selection, time, userEvent, newGroupDelay) {
      let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none2;
      if (last.length > 0 && time - this.prevTime < newGroupDelay && userEvent == this.prevUserEvent && userEvent && /^select($|\.)/.test(userEvent) && eqSelectionShape(last[last.length - 1], selection))
        return this;
      return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);
    }
    addMapping(mapping) {
      return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);
    }
    pop(side, state, selection) {
      let branch = side == 0 ? this.done : this.undone;
      if (branch.length == 0)
        return null;
      let event = branch[branch.length - 1];
      if (selection && event.selectionsAfter.length) {
        return state.update({
          selection: event.selectionsAfter[event.selectionsAfter.length - 1],
          annotations: fromHistory.of({side, rest: popSelection(branch)}),
          userEvent: side == 0 ? "select.undo" : "select.redo",
          scrollIntoView: true
        });
      } else if (!event.changes) {
        return null;
      } else {
        let rest = branch.length == 1 ? none2 : branch.slice(0, branch.length - 1);
        if (event.mapped)
          rest = addMappingToBranch(rest, event.mapped);
        return state.update({
          changes: event.changes,
          selection: event.startSelection,
          effects: event.effects,
          annotations: fromHistory.of({side, rest}),
          filter: false,
          userEvent: side == 0 ? "undo" : "redo",
          scrollIntoView: true
        });
      }
    }
  };
  HistoryState.empty = /* @__PURE__ */ new HistoryState(none2, none2);
  function changeBySelectedLine(state, f) {
    let atLine = -1;
    return state.changeByRange((range) => {
      let changes = [];
      for (let pos = range.from; pos <= range.to; ) {
        let line = state.doc.lineAt(pos);
        if (line.number > atLine && (range.empty || range.to > line.from)) {
          f(line, changes, range);
          atLine = line.number;
        }
        pos = line.to + 1;
      }
      let changeSet = state.changes(changes);
      return {
        changes,
        range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1))
      };
    });
  }
  var indentMore = ({state, dispatch}) => {
    if (state.readOnly)
      return false;
    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {
      changes.push({from: line.from, insert: state.facet(indentUnit)});
    }), {userEvent: "input.indent"}));
    return true;
  };
  var indentLess = ({state, dispatch}) => {
    if (state.readOnly)
      return false;
    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {
      let space3 = /^\s*/.exec(line.text)[0];
      if (!space3)
        return;
      let col = countColumn(space3, state.tabSize), keep = 0;
      let insert2 = indentString(state, Math.max(0, col - getIndentUnit(state)));
      while (keep < space3.length && keep < insert2.length && space3.charCodeAt(keep) == insert2.charCodeAt(keep))
        keep++;
      changes.push({from: line.from + keep, to: line.from + space3.length, insert: insert2.slice(keep)});
    }), {userEvent: "delete.dedent"}));
    return true;
  };
  var indentWithTab = {key: "Tab", run: indentMore, shift: indentLess};

  // node_modules/@codemirror/autocomplete/dist/index.js
  var CompletionContext = class {
    constructor(state, pos, explicit) {
      this.state = state;
      this.pos = pos;
      this.explicit = explicit;
      this.abortListeners = [];
    }
    tokenBefore(types2) {
      let token = syntaxTree(this.state).resolveInner(this.pos, -1);
      while (token && types2.indexOf(token.name) < 0)
        token = token.parent;
      return token ? {
        from: token.from,
        to: this.pos,
        text: this.state.sliceDoc(token.from, this.pos),
        type: token.type
      } : null;
    }
    matchBefore(expr) {
      let line = this.state.doc.lineAt(this.pos);
      let start = Math.max(line.from, this.pos - 250);
      let str = line.text.slice(start - line.from, this.pos - line.from);
      let found = str.search(ensureAnchor(expr, false));
      return found < 0 ? null : {from: start + found, to: this.pos, text: str.slice(found)};
    }
    get aborted() {
      return this.abortListeners == null;
    }
    addEventListener(type, listener) {
      if (type == "abort" && this.abortListeners)
        this.abortListeners.push(listener);
    }
  };
  function toSet(chars) {
    let flat = Object.keys(chars).join("");
    let words = /\w/.test(flat);
    if (words)
      flat = flat.replace(/\w/g, "");
    return `[${words ? "\\w" : ""}${flat.replace(/[^\w\s]/g, "\\$&")}]`;
  }
  function prefixMatch(options) {
    let first = Object.create(null), rest = Object.create(null);
    for (let {label} of options) {
      first[label[0]] = true;
      for (let i = 1; i < label.length; i++)
        rest[label[i]] = true;
    }
    let source = toSet(first) + toSet(rest) + "*$";
    return [new RegExp("^" + source), new RegExp(source)];
  }
  function completeFromList(list2) {
    let options = list2.map((o) => typeof o == "string" ? {label: o} : o);
    let [validFor, match2] = options.every((o) => /^\w+$/.test(o.label)) ? [/\w*$/, /\w+$/] : prefixMatch(options);
    return (context) => {
      let token = context.matchBefore(match2);
      return token || context.explicit ? {from: token ? token.from : context.pos, options, validFor} : null;
    };
  }
  function ifNotIn(nodes, source) {
    return (context) => {
      for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)
        if (nodes.indexOf(pos.name) > -1)
          return null;
      return source(context);
    };
  }
  var Option = class {
    constructor(completion, source, match2) {
      this.completion = completion;
      this.source = source;
      this.match = match2;
    }
  };
  function cur(state) {
    return state.selection.main.head;
  }
  function ensureAnchor(expr, start) {
    var _a2;
    let {source} = expr;
    let addStart = start && source[0] != "^", addEnd = source[source.length - 1] != "$";
    if (!addStart && !addEnd)
      return expr;
    return new RegExp(`${addStart ? "^" : ""}(?:${source})${addEnd ? "$" : ""}`, (_a2 = expr.flags) !== null && _a2 !== void 0 ? _a2 : expr.ignoreCase ? "i" : "");
  }
  var pickedCompletion = /* @__PURE__ */ Annotation.define();
  function insertCompletionText(state, text, from2, to) {
    return Object.assign(Object.assign({}, state.changeByRange((range) => {
      if (range == state.selection.main)
        return {
          changes: {from: from2, to, insert: text},
          range: EditorSelection.cursor(from2 + text.length)
        };
      let len = to - from2;
      if (!range.empty || len && state.sliceDoc(range.from - len, range.from) != state.sliceDoc(from2, to))
        return {range};
      return {
        changes: {from: range.from - len, to: range.from, insert: text},
        range: EditorSelection.cursor(range.from - len + text.length)
      };
    })), {userEvent: "input.complete"});
  }
  function applyCompletion(view, option) {
    const apply = option.completion.apply || option.completion.label;
    let result = option.source;
    if (typeof apply == "string")
      view.dispatch(Object.assign(Object.assign({}, insertCompletionText(view.state, apply, result.from, result.to)), {annotations: pickedCompletion.of(option.completion)}));
    else
      apply(view, option.completion, result.from, result.to);
  }
  var SourceCache = /* @__PURE__ */ new WeakMap();
  function asSource(source) {
    if (!Array.isArray(source))
      return source;
    let known = SourceCache.get(source);
    if (!known)
      SourceCache.set(source, known = completeFromList(source));
    return known;
  }
  var FuzzyMatcher = class {
    constructor(pattern) {
      this.pattern = pattern;
      this.chars = [];
      this.folded = [];
      this.any = [];
      this.precise = [];
      this.byWord = [];
      for (let p = 0; p < pattern.length; ) {
        let char = codePointAt(pattern, p), size = codePointSize(char);
        this.chars.push(char);
        let part = pattern.slice(p, p + size), upper = part.toUpperCase();
        this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));
        p += size;
      }
      this.astral = pattern.length != this.chars.length;
    }
    match(word) {
      if (this.pattern.length == 0)
        return [0];
      if (word.length < this.pattern.length)
        return null;
      let {chars, folded, any, precise, byWord} = this;
      if (chars.length == 1) {
        let first = codePointAt(word, 0);
        return first == chars[0] ? [0, 0, codePointSize(first)] : first == folded[0] ? [-200, 0, codePointSize(first)] : null;
      }
      let direct = word.indexOf(this.pattern);
      if (direct == 0)
        return [0, 0, this.pattern.length];
      let len = chars.length, anyTo = 0;
      if (direct < 0) {
        for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len; ) {
          let next = codePointAt(word, i);
          if (next == chars[anyTo] || next == folded[anyTo])
            any[anyTo++] = i;
          i += codePointSize(next);
        }
        if (anyTo < len)
          return null;
      }
      let preciseTo = 0;
      let byWordTo = 0, byWordFolded = false;
      let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;
      let hasLower = /[a-z]/.test(word), wordAdjacent = true;
      for (let i = 0, e = Math.min(word.length, 200), prevType = 0; i < e && byWordTo < len; ) {
        let next = codePointAt(word, i);
        if (direct < 0) {
          if (preciseTo < len && next == chars[preciseTo])
            precise[preciseTo++] = i;
          if (adjacentTo < len) {
            if (next == chars[adjacentTo] || next == folded[adjacentTo]) {
              if (adjacentTo == 0)
                adjacentStart = i;
              adjacentEnd = i + 1;
              adjacentTo++;
            } else {
              adjacentTo = 0;
            }
          }
        }
        let ch, type = next < 255 ? next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 : next >= 65 && next <= 90 ? 1 : 0 : (ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 : ch != ch.toUpperCase() ? 2 : 0;
        if (!i || type == 1 && hasLower || prevType == 0 && type != 0) {
          if (chars[byWordTo] == next || folded[byWordTo] == next && (byWordFolded = true))
            byWord[byWordTo++] = i;
          else if (byWord.length)
            wordAdjacent = false;
        }
        prevType = type;
        i += codePointSize(next);
      }
      if (byWordTo == len && byWord[0] == 0 && wordAdjacent)
        return this.result(-100 + (byWordFolded ? -200 : 0), byWord, word);
      if (adjacentTo == len && adjacentStart == 0)
        return [-200 - word.length, 0, adjacentEnd];
      if (direct > -1)
        return [-700 - word.length, direct, direct + this.pattern.length];
      if (adjacentTo == len)
        return [-200 + -700 - word.length, adjacentStart, adjacentEnd];
      if (byWordTo == len)
        return this.result(-100 + (byWordFolded ? -200 : 0) + -700 + (wordAdjacent ? 0 : -1100), byWord, word);
      return chars.length == 2 ? null : this.result((any[0] ? -700 : 0) + -200 + -1100, any, word);
    }
    result(score2, positions, word) {
      let result = [score2 - word.length], i = 1;
      for (let pos of positions) {
        let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);
        if (i > 1 && result[i - 1] == pos)
          result[i - 1] = to;
        else {
          result[i++] = pos;
          result[i++] = to;
        }
      }
      return result;
    }
  };
  var completionConfig = /* @__PURE__ */ Facet.define({
    combine(configs) {
      return combineConfig(configs, {
        activateOnTyping: true,
        selectOnOpen: true,
        override: null,
        closeOnBlur: true,
        maxRenderedOptions: 100,
        defaultKeymap: true,
        optionClass: () => "",
        aboveCursor: false,
        icons: true,
        addToOptions: [],
        compareCompletions: (a, b) => a.label.localeCompare(b.label),
        interactionDelay: 75
      }, {
        defaultKeymap: (a, b) => a && b,
        closeOnBlur: (a, b) => a && b,
        icons: (a, b) => a && b,
        optionClass: (a, b) => (c) => joinClass(a(c), b(c)),
        addToOptions: (a, b) => a.concat(b)
      });
    }
  });
  function joinClass(a, b) {
    return a ? b ? a + " " + b : a : b;
  }
  function optionContent(config) {
    let content2 = config.addToOptions.slice();
    if (config.icons)
      content2.push({
        render(completion) {
          let icon = document.createElement("div");
          icon.classList.add("cm-completionIcon");
          if (completion.type)
            icon.classList.add(...completion.type.split(/\s+/g).map((cls) => "cm-completionIcon-" + cls));
          icon.setAttribute("aria-hidden", "true");
          return icon;
        },
        position: 20
      });
    content2.push({
      render(completion, _s, match2) {
        let labelElt = document.createElement("span");
        labelElt.className = "cm-completionLabel";
        let {label} = completion, off = 0;
        for (let j = 1; j < match2.length; ) {
          let from2 = match2[j++], to = match2[j++];
          if (from2 > off)
            labelElt.appendChild(document.createTextNode(label.slice(off, from2)));
          let span = labelElt.appendChild(document.createElement("span"));
          span.appendChild(document.createTextNode(label.slice(from2, to)));
          span.className = "cm-completionMatchedText";
          off = to;
        }
        if (off < label.length)
          labelElt.appendChild(document.createTextNode(label.slice(off)));
        return labelElt;
      },
      position: 50
    }, {
      render(completion) {
        if (!completion.detail)
          return null;
        let detailElt = document.createElement("span");
        detailElt.className = "cm-completionDetail";
        detailElt.textContent = completion.detail;
        return detailElt;
      },
      position: 80
    });
    return content2.sort((a, b) => a.position - b.position).map((a) => a.render);
  }
  function rangeAroundSelected(total, selected, max) {
    if (total <= max)
      return {from: 0, to: total};
    if (selected < 0)
      selected = 0;
    if (selected <= total >> 1) {
      let off2 = Math.floor(selected / max);
      return {from: off2 * max, to: (off2 + 1) * max};
    }
    let off = Math.floor((total - selected) / max);
    return {from: total - (off + 1) * max, to: total - off * max};
  }
  var CompletionTooltip = class {
    constructor(view, stateField) {
      this.view = view;
      this.stateField = stateField;
      this.info = null;
      this.placeInfo = {
        read: () => this.measureInfo(),
        write: (pos) => this.positionInfo(pos),
        key: this
      };
      this.space = null;
      let cState = view.state.field(stateField);
      let {options, selected} = cState.open;
      let config = view.state.facet(completionConfig);
      this.optionContent = optionContent(config);
      this.optionClass = config.optionClass;
      this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);
      this.dom = document.createElement("div");
      this.dom.className = "cm-tooltip-autocomplete";
      this.dom.addEventListener("mousedown", (e) => {
        for (let dom = e.target, match2; dom && dom != this.dom; dom = dom.parentNode) {
          if (dom.nodeName == "LI" && (match2 = /-(\d+)$/.exec(dom.id)) && +match2[1] < options.length) {
            applyCompletion(view, options[+match2[1]]);
            e.preventDefault();
            return;
          }
        }
      });
      this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));
      this.list.addEventListener("scroll", () => {
        if (this.info)
          this.view.requestMeasure(this.placeInfo);
      });
    }
    mount() {
      this.updateSel();
    }
    update(update) {
      var _a2, _b, _c;
      let cState = update.state.field(this.stateField);
      let prevState = update.startState.field(this.stateField);
      if (cState != prevState) {
        this.updateSel();
        if (((_a2 = cState.open) === null || _a2 === void 0 ? void 0 : _a2.disabled) != ((_b = prevState.open) === null || _b === void 0 ? void 0 : _b.disabled))
          this.dom.classList.toggle("cm-tooltip-autocomplete-disabled", !!((_c = cState.open) === null || _c === void 0 ? void 0 : _c.disabled));
      }
    }
    positioned(space3) {
      this.space = space3;
      if (this.info)
        this.view.requestMeasure(this.placeInfo);
    }
    updateSel() {
      let cState = this.view.state.field(this.stateField), open = cState.open;
      if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {
        this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);
        this.list.remove();
        this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));
        this.list.addEventListener("scroll", () => {
          if (this.info)
            this.view.requestMeasure(this.placeInfo);
        });
      }
      if (this.updateSelectedOption(open.selected)) {
        if (this.info) {
          this.info.remove();
          this.info = null;
        }
        let {completion} = open.options[open.selected];
        let {info} = completion;
        if (!info)
          return;
        let infoResult = typeof info === "string" ? document.createTextNode(info) : info(completion);
        if (!infoResult)
          return;
        if ("then" in infoResult) {
          infoResult.then((node) => {
            if (node && this.view.state.field(this.stateField, false) == cState)
              this.addInfoPane(node);
          }).catch((e) => logException(this.view.state, e, "completion info"));
        } else {
          this.addInfoPane(infoResult);
        }
      }
    }
    addInfoPane(content2) {
      let dom = this.info = document.createElement("div");
      dom.className = "cm-tooltip cm-completionInfo";
      dom.appendChild(content2);
      this.dom.appendChild(dom);
      this.view.requestMeasure(this.placeInfo);
    }
    updateSelectedOption(selected) {
      let set = null;
      for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {
        if (i == selected) {
          if (!opt.hasAttribute("aria-selected")) {
            opt.setAttribute("aria-selected", "true");
            set = opt;
          }
        } else {
          if (opt.hasAttribute("aria-selected"))
            opt.removeAttribute("aria-selected");
        }
      }
      if (set)
        scrollIntoView2(this.list, set);
      return set;
    }
    measureInfo() {
      let sel = this.dom.querySelector("[aria-selected]");
      if (!sel || !this.info)
        return null;
      let listRect = this.dom.getBoundingClientRect();
      let infoRect = this.info.getBoundingClientRect();
      let selRect = sel.getBoundingClientRect();
      let space3 = this.space;
      if (!space3) {
        let win = this.dom.ownerDocument.defaultView || window;
        space3 = {left: 0, top: 0, right: win.innerWidth, bottom: win.innerHeight};
      }
      if (selRect.top > Math.min(space3.bottom, listRect.bottom) - 10 || selRect.bottom < Math.max(space3.top, listRect.top) + 10)
        return null;
      let rtl = this.view.textDirection == Direction.RTL, left = rtl, narrow = false, maxWidth;
      let top2 = "", bottom = "";
      let spaceLeft = listRect.left - space3.left, spaceRight = space3.right - listRect.right;
      if (left && spaceLeft < Math.min(infoRect.width, spaceRight))
        left = false;
      else if (!left && spaceRight < Math.min(infoRect.width, spaceLeft))
        left = true;
      if (infoRect.width <= (left ? spaceLeft : spaceRight)) {
        top2 = Math.max(space3.top, Math.min(selRect.top, space3.bottom - infoRect.height)) - listRect.top + "px";
        maxWidth = Math.min(400, left ? spaceLeft : spaceRight) + "px";
      } else {
        narrow = true;
        maxWidth = Math.min(400, (rtl ? listRect.right : space3.right - listRect.left) - 30) + "px";
        let spaceBelow = space3.bottom - listRect.bottom;
        if (spaceBelow >= infoRect.height || spaceBelow > listRect.top)
          top2 = selRect.bottom - listRect.top + "px";
        else
          bottom = listRect.bottom - selRect.top + "px";
      }
      return {
        top: top2,
        bottom,
        maxWidth,
        class: narrow ? rtl ? "left-narrow" : "right-narrow" : left ? "left" : "right"
      };
    }
    positionInfo(pos) {
      if (this.info) {
        if (pos) {
          this.info.style.top = pos.top;
          this.info.style.bottom = pos.bottom;
          this.info.style.maxWidth = pos.maxWidth;
          this.info.className = "cm-tooltip cm-completionInfo cm-completionInfo-" + pos.class;
        } else {
          this.info.style.top = "-1e6px";
        }
      }
    }
    createListBox(options, id2, range) {
      const ul = document.createElement("ul");
      ul.id = id2;
      ul.setAttribute("role", "listbox");
      ul.setAttribute("aria-expanded", "true");
      ul.setAttribute("aria-label", this.view.state.phrase("Completions"));
      for (let i = range.from; i < range.to; i++) {
        let {completion, match: match2} = options[i];
        const li = ul.appendChild(document.createElement("li"));
        li.id = id2 + "-" + i;
        li.setAttribute("role", "option");
        let cls = this.optionClass(completion);
        if (cls)
          li.className = cls;
        for (let source of this.optionContent) {
          let node = source(completion, this.view.state, match2);
          if (node)
            li.appendChild(node);
        }
      }
      if (range.from)
        ul.classList.add("cm-completionListIncompleteTop");
      if (range.to < options.length)
        ul.classList.add("cm-completionListIncompleteBottom");
      return ul;
    }
  };
  function completionTooltip(stateField) {
    return (view) => new CompletionTooltip(view, stateField);
  }
  function scrollIntoView2(container, element) {
    let parent = container.getBoundingClientRect();
    let self = element.getBoundingClientRect();
    if (self.top < parent.top)
      container.scrollTop -= parent.top - self.top;
    else if (self.bottom > parent.bottom)
      container.scrollTop += self.bottom - parent.bottom;
  }
  function score(option) {
    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) + (option.type ? 1 : 0);
  }
  function sortOptions(active, state) {
    let options = [], i = 0;
    for (let a of active)
      if (a.hasResult()) {
        if (a.result.filter === false) {
          let getMatch = a.result.getMatch;
          for (let option of a.result.options) {
            let match2 = [1e9 - i++];
            if (getMatch)
              for (let n of getMatch(option))
                match2.push(n);
            options.push(new Option(option, a, match2));
          }
        } else {
          let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match2;
          for (let option of a.result.options)
            if (match2 = matcher.match(option.label)) {
              if (option.boost != null)
                match2[0] += option.boost;
              options.push(new Option(option, a, match2));
            }
        }
      }
    let result = [], prev = null;
    let compare2 = state.facet(completionConfig).compareCompletions;
    for (let opt of options.sort((a, b) => b.match[0] - a.match[0] || compare2(a.completion, b.completion))) {
      if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail || prev.type != null && opt.completion.type != null && prev.type != opt.completion.type || prev.apply != opt.completion.apply)
        result.push(opt);
      else if (score(opt.completion) > score(prev))
        result[result.length - 1] = opt;
      prev = opt.completion;
    }
    return result;
  }
  var CompletionDialog = class {
    constructor(options, attrs, tooltip, timestamp, selected, disabled) {
      this.options = options;
      this.attrs = attrs;
      this.tooltip = tooltip;
      this.timestamp = timestamp;
      this.selected = selected;
      this.disabled = disabled;
    }
    setSelected(selected, id2) {
      return selected == this.selected || selected >= this.options.length ? this : new CompletionDialog(this.options, makeAttrs(id2, selected), this.tooltip, this.timestamp, selected, this.disabled);
    }
    static build(active, state, id2, prev, conf) {
      let options = sortOptions(active, state);
      if (!options.length) {
        return prev && active.some((a) => a.state == 1) ? new CompletionDialog(prev.options, prev.attrs, prev.tooltip, prev.timestamp, prev.selected, true) : null;
      }
      let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;
      if (prev && prev.selected != selected && prev.selected != -1) {
        let selectedValue = prev.options[prev.selected].completion;
        for (let i = 0; i < options.length; i++)
          if (options[i].completion == selectedValue) {
            selected = i;
            break;
          }
      }
      return new CompletionDialog(options, makeAttrs(id2, selected), {
        pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),
        create: completionTooltip(completionState),
        above: conf.aboveCursor
      }, prev ? prev.timestamp : Date.now(), selected, false);
    }
    map(changes) {
      return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), {pos: changes.mapPos(this.tooltip.pos)}), this.timestamp, this.selected, this.disabled);
    }
  };
  var CompletionState = class {
    constructor(active, id2, open) {
      this.active = active;
      this.id = id2;
      this.open = open;
    }
    static start() {
      return new CompletionState(none3, "cm-ac-" + Math.floor(Math.random() * 2e6).toString(36), null);
    }
    update(tr) {
      let {state} = tr, conf = state.facet(completionConfig);
      let sources = conf.override || state.languageDataAt("autocomplete", cur(state)).map(asSource);
      let active = sources.map((source) => {
        let value = this.active.find((s) => s.source == source) || new ActiveSource(source, this.active.some((a) => a.state != 0) ? 1 : 0);
        return value.update(tr, conf);
      });
      if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))
        active = this.active;
      let open = this.open;
      if (tr.selection || active.some((a) => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) || !sameResults(active, this.active))
        open = CompletionDialog.build(active, state, this.id, this.open, conf);
      else if (open && open.disabled && !active.some((a) => a.state == 1))
        open = null;
      else if (open && tr.docChanged)
        open = open.map(tr.changes);
      if (!open && active.every((a) => a.state != 1) && active.some((a) => a.hasResult()))
        active = active.map((a) => a.hasResult() ? new ActiveSource(a.source, 0) : a);
      for (let effect of tr.effects)
        if (effect.is(setSelectedEffect))
          open = open && open.setSelected(effect.value, this.id);
      return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);
    }
    get tooltip() {
      return this.open ? this.open.tooltip : null;
    }
    get attrs() {
      return this.open ? this.open.attrs : baseAttrs;
    }
  };
  function sameResults(a, b) {
    if (a == b)
      return true;
    for (let iA = 0, iB = 0; ; ) {
      while (iA < a.length && !a[iA].hasResult)
        iA++;
      while (iB < b.length && !b[iB].hasResult)
        iB++;
      let endA = iA == a.length, endB = iB == b.length;
      if (endA || endB)
        return endA == endB;
      if (a[iA++].result != b[iB++].result)
        return false;
    }
  }
  var baseAttrs = {
    "aria-autocomplete": "list"
  };
  function makeAttrs(id2, selected) {
    let result = {
      "aria-autocomplete": "list",
      "aria-haspopup": "listbox",
      "aria-controls": id2
    };
    if (selected > -1)
      result["aria-activedescendant"] = id2 + "-" + selected;
    return result;
  }
  var none3 = [];
  function getUserEvent(tr) {
    return tr.isUserEvent("input.type") ? "input" : tr.isUserEvent("delete.backward") ? "delete" : null;
  }
  var ActiveSource = class {
    constructor(source, state, explicitPos = -1) {
      this.source = source;
      this.state = state;
      this.explicitPos = explicitPos;
    }
    hasResult() {
      return false;
    }
    update(tr, conf) {
      let event = getUserEvent(tr), value = this;
      if (event)
        value = value.handleUserEvent(tr, event, conf);
      else if (tr.docChanged)
        value = value.handleChange(tr);
      else if (tr.selection && value.state != 0)
        value = new ActiveSource(value.source, 0);
      for (let effect of tr.effects) {
        if (effect.is(startCompletionEffect))
          value = new ActiveSource(value.source, 1, effect.value ? cur(tr.state) : -1);
        else if (effect.is(closeCompletionEffect))
          value = new ActiveSource(value.source, 0);
        else if (effect.is(setActiveEffect)) {
          for (let active of effect.value)
            if (active.source == value.source)
              value = active;
        }
      }
      return value;
    }
    handleUserEvent(tr, type, conf) {
      return type == "delete" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1);
    }
    handleChange(tr) {
      return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0) : this.map(tr.changes);
    }
    map(changes) {
      return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));
    }
  };
  var ActiveResult = class extends ActiveSource {
    constructor(source, explicitPos, result, from2, to) {
      super(source, 2, explicitPos);
      this.result = result;
      this.from = from2;
      this.to = to;
    }
    hasResult() {
      return true;
    }
    handleUserEvent(tr, type, conf) {
      var _a2;
      let from2 = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);
      let pos = cur(tr.state);
      if ((this.explicitPos < 0 ? pos <= from2 : pos < this.from) || pos > to || type == "delete" && cur(tr.startState) == this.from)
        return new ActiveSource(this.source, type == "input" && conf.activateOnTyping ? 1 : 0);
      let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos), updated;
      if (checkValid(this.result.validFor, tr.state, from2, to))
        return new ActiveResult(this.source, explicitPos, this.result, from2, to);
      if (this.result.update && (updated = this.result.update(this.result, from2, to, new CompletionContext(tr.state, pos, explicitPos >= 0))))
        return new ActiveResult(this.source, explicitPos, updated, updated.from, (_a2 = updated.to) !== null && _a2 !== void 0 ? _a2 : cur(tr.state));
      return new ActiveSource(this.source, 1, explicitPos);
    }
    handleChange(tr) {
      return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0) : this.map(tr.changes);
    }
    map(mapping) {
      return mapping.empty ? this : new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));
    }
  };
  function checkValid(validFor, state, from2, to) {
    if (!validFor)
      return false;
    let text = state.sliceDoc(from2, to);
    return typeof validFor == "function" ? validFor(text, from2, to, state) : ensureAnchor(validFor, true).test(text);
  }
  var startCompletionEffect = /* @__PURE__ */ StateEffect.define();
  var closeCompletionEffect = /* @__PURE__ */ StateEffect.define();
  var setActiveEffect = /* @__PURE__ */ StateEffect.define({
    map(sources, mapping) {
      return sources.map((s) => s.map(mapping));
    }
  });
  var setSelectedEffect = /* @__PURE__ */ StateEffect.define();
  var completionState = /* @__PURE__ */ StateField.define({
    create() {
      return CompletionState.start();
    },
    update(value, tr) {
      return value.update(tr);
    },
    provide: (f) => [
      showTooltip.from(f, (val) => val.tooltip),
      EditorView.contentAttributes.from(f, (state) => state.attrs)
    ]
  });
  function moveCompletionSelection(forward, by = "option") {
    return (view) => {
      let cState = view.state.field(completionState, false);
      if (!cState || !cState.open || cState.open.disabled || Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)
        return false;
      let step = 1, tooltip;
      if (by == "page" && (tooltip = getTooltip(view, cState.open.tooltip)))
        step = Math.max(2, Math.floor(tooltip.dom.offsetHeight / tooltip.dom.querySelector("li").offsetHeight) - 1);
      let {length} = cState.open.options;
      let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;
      if (selected < 0)
        selected = by == "page" ? 0 : length - 1;
      else if (selected >= length)
        selected = by == "page" ? length - 1 : 0;
      view.dispatch({effects: setSelectedEffect.of(selected)});
      return true;
    };
  }
  var acceptCompletion = (view) => {
    let cState = view.state.field(completionState, false);
    if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 || Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)
      return false;
    if (!cState.open.disabled)
      applyCompletion(view, cState.open.options[cState.open.selected]);
    return true;
  };
  var startCompletion = (view) => {
    let cState = view.state.field(completionState, false);
    if (!cState)
      return false;
    view.dispatch({effects: startCompletionEffect.of(true)});
    return true;
  };
  var closeCompletion = (view) => {
    let cState = view.state.field(completionState, false);
    if (!cState || !cState.active.some((a) => a.state != 0))
      return false;
    view.dispatch({effects: closeCompletionEffect.of(null)});
    return true;
  };
  var RunningQuery = class {
    constructor(active, context) {
      this.active = active;
      this.context = context;
      this.time = Date.now();
      this.updates = [];
      this.done = void 0;
    }
  };
  var DebounceTime = 50;
  var MaxUpdateCount = 50;
  var MinAbortTime = 1e3;
  var completionPlugin = /* @__PURE__ */ ViewPlugin.fromClass(class {
    constructor(view) {
      this.view = view;
      this.debounceUpdate = -1;
      this.running = [];
      this.debounceAccept = -1;
      this.composing = 0;
      for (let active of view.state.field(completionState).active)
        if (active.state == 1)
          this.startQuery(active);
    }
    update(update) {
      let cState = update.state.field(completionState);
      if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)
        return;
      let doesReset = update.transactions.some((tr) => {
        return (tr.selection || tr.docChanged) && !getUserEvent(tr);
      });
      for (let i = 0; i < this.running.length; i++) {
        let query = this.running[i];
        if (doesReset || query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {
          for (let handler of query.context.abortListeners) {
            try {
              handler();
            } catch (e) {
              logException(this.view.state, e);
            }
          }
          query.context.abortListeners = null;
          this.running.splice(i--, 1);
        } else {
          query.updates.push(...update.transactions);
        }
      }
      if (this.debounceUpdate > -1)
        clearTimeout(this.debounceUpdate);
      this.debounceUpdate = cState.active.some((a) => a.state == 1 && !this.running.some((q) => q.active.source == a.source)) ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;
      if (this.composing != 0)
        for (let tr of update.transactions) {
          if (getUserEvent(tr) == "input")
            this.composing = 2;
          else if (this.composing == 2 && tr.selection)
            this.composing = 3;
        }
    }
    startUpdate() {
      this.debounceUpdate = -1;
      let {state} = this.view, cState = state.field(completionState);
      for (let active of cState.active) {
        if (active.state == 1 && !this.running.some((r) => r.active.source == active.source))
          this.startQuery(active);
      }
    }
    startQuery(active) {
      let {state} = this.view, pos = cur(state);
      let context = new CompletionContext(state, pos, active.explicitPos == pos);
      let pending = new RunningQuery(active, context);
      this.running.push(pending);
      Promise.resolve(active.source(context)).then((result) => {
        if (!pending.context.aborted) {
          pending.done = result || null;
          this.scheduleAccept();
        }
      }, (err) => {
        this.view.dispatch({effects: closeCompletionEffect.of(null)});
        logException(this.view.state, err);
      });
    }
    scheduleAccept() {
      if (this.running.every((q) => q.done !== void 0))
        this.accept();
      else if (this.debounceAccept < 0)
        this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);
    }
    accept() {
      var _a2;
      if (this.debounceAccept > -1)
        clearTimeout(this.debounceAccept);
      this.debounceAccept = -1;
      let updated = [];
      let conf = this.view.state.facet(completionConfig);
      for (let i = 0; i < this.running.length; i++) {
        let query = this.running[i];
        if (query.done === void 0)
          continue;
        this.running.splice(i--, 1);
        if (query.done) {
          let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a2 = query.done.to) !== null && _a2 !== void 0 ? _a2 : cur(query.updates.length ? query.updates[0].startState : this.view.state));
          for (let tr of query.updates)
            active = active.update(tr, conf);
          if (active.hasResult()) {
            updated.push(active);
            continue;
          }
        }
        let current = this.view.state.field(completionState).active.find((a) => a.source == query.active.source);
        if (current && current.state == 1) {
          if (query.done == null) {
            let active = new ActiveSource(query.active.source, 0);
            for (let tr of query.updates)
              active = active.update(tr, conf);
            if (active.state != 1)
              updated.push(active);
          } else {
            this.startQuery(current);
          }
        }
      }
      if (updated.length)
        this.view.dispatch({effects: setActiveEffect.of(updated)});
    }
  }, {
    eventHandlers: {
      blur() {
        let state = this.view.state.field(completionState, false);
        if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur)
          this.view.dispatch({effects: closeCompletionEffect.of(null)});
      },
      compositionstart() {
        this.composing = 1;
      },
      compositionend() {
        if (this.composing == 3) {
          setTimeout(() => this.view.dispatch({effects: startCompletionEffect.of(false)}), 20);
        }
        this.composing = 0;
      }
    }
  });
  var baseTheme2 = /* @__PURE__ */ EditorView.baseTheme({
    ".cm-tooltip.cm-tooltip-autocomplete": {
      "& > ul": {
        fontFamily: "monospace",
        whiteSpace: "nowrap",
        overflow: "hidden auto",
        maxWidth_fallback: "700px",
        maxWidth: "min(700px, 95vw)",
        minWidth: "250px",
        maxHeight: "10em",
        listStyle: "none",
        margin: 0,
        padding: 0,
        "& > li": {
          overflowX: "hidden",
          textOverflow: "ellipsis",
          cursor: "pointer",
          padding: "1px 3px",
          lineHeight: 1.2
        }
      }
    },
    "&light .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#17c",
      color: "white"
    },
    "&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#777"
    },
    "&dark .cm-tooltip-autocomplete ul li[aria-selected]": {
      background: "#347",
      color: "white"
    },
    "&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]": {
      background: "#444"
    },
    ".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after": {
      content: '"\xB7\xB7\xB7"',
      opacity: 0.5,
      display: "block",
      textAlign: "center"
    },
    ".cm-tooltip.cm-completionInfo": {
      position: "absolute",
      padding: "3px 9px",
      width: "max-content",
      maxWidth: `${400}px`,
      boxSizing: "border-box"
    },
    ".cm-completionInfo.cm-completionInfo-left": {right: "100%"},
    ".cm-completionInfo.cm-completionInfo-right": {left: "100%"},
    ".cm-completionInfo.cm-completionInfo-left-narrow": {right: `${30}px`},
    ".cm-completionInfo.cm-completionInfo-right-narrow": {left: `${30}px`},
    "&light .cm-snippetField": {backgroundColor: "#00000022"},
    "&dark .cm-snippetField": {backgroundColor: "#ffffff22"},
    ".cm-snippetFieldPosition": {
      verticalAlign: "text-top",
      width: 0,
      height: "1.15em",
      display: "inline-block",
      margin: "0 -0.7px -.7em",
      borderLeft: "1.4px dotted #888"
    },
    ".cm-completionMatchedText": {
      textDecoration: "underline"
    },
    ".cm-completionDetail": {
      marginLeft: "0.5em",
      fontStyle: "italic"
    },
    ".cm-completionIcon": {
      fontSize: "90%",
      width: ".8em",
      display: "inline-block",
      textAlign: "center",
      paddingRight: ".6em",
      opacity: "0.6",
      boxSizing: "content-box"
    },
    ".cm-completionIcon-function, .cm-completionIcon-method": {
      "&:after": {content: "'\u0192'"}
    },
    ".cm-completionIcon-class": {
      "&:after": {content: "'\u25CB'"}
    },
    ".cm-completionIcon-interface": {
      "&:after": {content: "'\u25CC'"}
    },
    ".cm-completionIcon-variable": {
      "&:after": {content: "'\u{1D465}'"}
    },
    ".cm-completionIcon-constant": {
      "&:after": {content: "'\u{1D436}'"}
    },
    ".cm-completionIcon-type": {
      "&:after": {content: "'\u{1D461}'"}
    },
    ".cm-completionIcon-enum": {
      "&:after": {content: "'\u222A'"}
    },
    ".cm-completionIcon-property": {
      "&:after": {content: "'\u25A1'"}
    },
    ".cm-completionIcon-keyword": {
      "&:after": {content: "'\u{1F511}\uFE0E'"}
    },
    ".cm-completionIcon-namespace": {
      "&:after": {content: "'\u25A2'"}
    },
    ".cm-completionIcon-text": {
      "&:after": {content: "'abc'", fontSize: "50%", verticalAlign: "middle"}
    }
  });
  var FieldPos = class {
    constructor(field, line, from2, to) {
      this.field = field;
      this.line = line;
      this.from = from2;
      this.to = to;
    }
  };
  var FieldRange = class {
    constructor(field, from2, to) {
      this.field = field;
      this.from = from2;
      this.to = to;
    }
    map(changes) {
      let from2 = changes.mapPos(this.from, -1, MapMode.TrackDel);
      let to = changes.mapPos(this.to, 1, MapMode.TrackDel);
      return from2 == null || to == null ? null : new FieldRange(this.field, from2, to);
    }
  };
  var Snippet = class {
    constructor(lines, fieldPositions) {
      this.lines = lines;
      this.fieldPositions = fieldPositions;
    }
    instantiate(state, pos) {
      let text = [], lineStart = [pos];
      let lineObj = state.doc.lineAt(pos), baseIndent = /^\s*/.exec(lineObj.text)[0];
      for (let line of this.lines) {
        if (text.length) {
          let indent = baseIndent, tabs = /^\t*/.exec(line)[0].length;
          for (let i = 0; i < tabs; i++)
            indent += state.facet(indentUnit);
          lineStart.push(pos + indent.length - tabs);
          line = indent + line.slice(tabs);
        }
        text.push(line);
        pos += line.length + 1;
      }
      let ranges = this.fieldPositions.map((pos2) => new FieldRange(pos2.field, lineStart[pos2.line] + pos2.from, lineStart[pos2.line] + pos2.to));
      return {text, ranges};
    }
    static parse(template2) {
      let fields = [];
      let lines = [], positions = [], m;
      for (let line of template2.split(/\r\n?|\n/)) {
        while (m = /[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(line)) {
          let seq = m[1] ? +m[1] : null, name2 = m[2] || m[3] || "", found = -1;
          for (let i = 0; i < fields.length; i++) {
            if (seq != null ? fields[i].seq == seq : name2 ? fields[i].name == name2 : false)
              found = i;
          }
          if (found < 0) {
            let i = 0;
            while (i < fields.length && (seq == null || fields[i].seq != null && fields[i].seq < seq))
              i++;
            fields.splice(i, 0, {seq, name: name2});
            found = i;
            for (let pos of positions)
              if (pos.field >= found)
                pos.field++;
          }
          positions.push(new FieldPos(found, lines.length, m.index, m.index + name2.length));
          line = line.slice(0, m.index) + name2 + line.slice(m.index + m[0].length);
        }
        for (let esc; esc = /\\([{}])/.exec(line); ) {
          line = line.slice(0, esc.index) + esc[1] + line.slice(esc.index + esc[0].length);
          for (let pos of positions)
            if (pos.line == lines.length && pos.from > esc.index) {
              pos.from--;
              pos.to--;
            }
        }
        lines.push(line);
      }
      return new Snippet(lines, positions);
    }
  };
  var fieldMarker = /* @__PURE__ */ Decoration.widget({widget: /* @__PURE__ */ new class extends WidgetType {
    toDOM() {
      let span = document.createElement("span");
      span.className = "cm-snippetFieldPosition";
      return span;
    }
    ignoreEvent() {
      return false;
    }
  }()});
  var fieldRange = /* @__PURE__ */ Decoration.mark({class: "cm-snippetField"});
  var ActiveSnippet = class {
    constructor(ranges, active) {
      this.ranges = ranges;
      this.active = active;
      this.deco = Decoration.set(ranges.map((r) => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));
    }
    map(changes) {
      let ranges = [];
      for (let r of this.ranges) {
        let mapped = r.map(changes);
        if (!mapped)
          return null;
        ranges.push(mapped);
      }
      return new ActiveSnippet(ranges, this.active);
    }
    selectionInsideField(sel) {
      return sel.ranges.every((range) => this.ranges.some((r) => r.field == this.active && r.from <= range.from && r.to >= range.to));
    }
  };
  var setActive = /* @__PURE__ */ StateEffect.define({
    map(value, changes) {
      return value && value.map(changes);
    }
  });
  var moveToField = /* @__PURE__ */ StateEffect.define();
  var snippetState = /* @__PURE__ */ StateField.define({
    create() {
      return null;
    },
    update(value, tr) {
      for (let effect of tr.effects) {
        if (effect.is(setActive))
          return effect.value;
        if (effect.is(moveToField) && value)
          return new ActiveSnippet(value.ranges, effect.value);
      }
      if (value && tr.docChanged)
        value = value.map(tr.changes);
      if (value && tr.selection && !value.selectionInsideField(tr.selection))
        value = null;
      return value;
    },
    provide: (f) => EditorView.decorations.from(f, (val) => val ? val.deco : Decoration.none)
  });
  function fieldSelection(ranges, field) {
    return EditorSelection.create(ranges.filter((r) => r.field == field).map((r) => EditorSelection.range(r.from, r.to)));
  }
  function snippet(template2) {
    let snippet2 = Snippet.parse(template2);
    return (editor, _completion, from2, to) => {
      let {text, ranges} = snippet2.instantiate(editor.state, from2);
      let spec = {
        changes: {from: from2, to, insert: Text.of(text)},
        scrollIntoView: true
      };
      if (ranges.length)
        spec.selection = fieldSelection(ranges, 0);
      if (ranges.length > 1) {
        let active = new ActiveSnippet(ranges, 0);
        let effects = spec.effects = [setActive.of(active)];
        if (editor.state.field(snippetState, false) === void 0)
          effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme2]));
      }
      editor.dispatch(editor.state.update(spec));
    };
  }
  function moveField(dir) {
    return ({state, dispatch}) => {
      let active = state.field(snippetState, false);
      if (!active || dir < 0 && active.active == 0)
        return false;
      let next = active.active + dir, last = dir > 0 && !active.ranges.some((r) => r.field == next + dir);
      dispatch(state.update({
        selection: fieldSelection(active.ranges, next),
        effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))
      }));
      return true;
    };
  }
  var clearSnippet = ({state, dispatch}) => {
    let active = state.field(snippetState, false);
    if (!active)
      return false;
    dispatch(state.update({effects: setActive.of(null)}));
    return true;
  };
  var nextSnippetField = /* @__PURE__ */ moveField(1);
  var prevSnippetField = /* @__PURE__ */ moveField(-1);
  var defaultSnippetKeymap = [
    {key: "Tab", run: nextSnippetField, shift: prevSnippetField},
    {key: "Escape", run: clearSnippet}
  ];
  var snippetKeymap = /* @__PURE__ */ Facet.define({
    combine(maps) {
      return maps.length ? maps[0] : defaultSnippetKeymap;
    }
  });
  var addSnippetKeymap = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ keymap.compute([snippetKeymap], (state) => state.facet(snippetKeymap)));
  function snippetCompletion(template2, completion) {
    return Object.assign(Object.assign({}, completion), {apply: snippet(template2)});
  }
  var snippetPointerHandler = /* @__PURE__ */ EditorView.domEventHandlers({
    mousedown(event, view) {
      let active = view.state.field(snippetState, false), pos;
      if (!active || (pos = view.posAtCoords({x: event.clientX, y: event.clientY})) == null)
        return false;
      let match2 = active.ranges.find((r) => r.from <= pos && r.to >= pos);
      if (!match2 || match2.field == active.active)
        return false;
      view.dispatch({
        selection: fieldSelection(active.ranges, match2.field),
        effects: setActive.of(active.ranges.some((r) => r.field > match2.field) ? new ActiveSnippet(active.ranges, match2.field) : null)
      });
      return true;
    }
  });
  var closedBracket = /* @__PURE__ */ new class extends RangeValue {
  }();
  closedBracket.startSide = 1;
  closedBracket.endSide = -1;
  var android = typeof navigator == "object" && /* @__PURE__ */ /Android\b/.test(navigator.userAgent);
  function autocompletion(config = {}) {
    return [
      completionState,
      completionConfig.of(config),
      completionPlugin,
      completionKeymapExt,
      baseTheme2
    ];
  }
  var completionKeymap = [
    {key: "Ctrl-Space", run: startCompletion},
    {key: "Escape", run: closeCompletion},
    {key: "ArrowDown", run: /* @__PURE__ */ moveCompletionSelection(true)},
    {key: "ArrowUp", run: /* @__PURE__ */ moveCompletionSelection(false)},
    {key: "PageDown", run: /* @__PURE__ */ moveCompletionSelection(true, "page")},
    {key: "PageUp", run: /* @__PURE__ */ moveCompletionSelection(false, "page")},
    {key: "Enter", run: acceptCompletion}
  ];
  var completionKeymapExt = /* @__PURE__ */ Prec.highest(/* @__PURE__ */ keymap.computeN([completionConfig], (state) => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));

  // node_modules/@lezer/lr/dist/index.js
  var Stack = class {
    constructor(p, stack, state, reducePos, pos, score2, buffer, bufferBase, curContext, lookAhead = 0, parent) {
      this.p = p;
      this.stack = stack;
      this.state = state;
      this.reducePos = reducePos;
      this.pos = pos;
      this.score = score2;
      this.buffer = buffer;
      this.bufferBase = bufferBase;
      this.curContext = curContext;
      this.lookAhead = lookAhead;
      this.parent = parent;
    }
    toString() {
      return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? "!" + this.score : ""}`;
    }
    static start(p, state, pos = 0) {
      let cx = p.parser.context;
      return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);
    }
    get context() {
      return this.curContext ? this.curContext.context : null;
    }
    pushState(state, start) {
      this.stack.push(this.state, start, this.bufferBase + this.buffer.length);
      this.state = state;
    }
    reduce(action) {
      let depth = action >> 19, type = action & 65535;
      let {parser: parser8} = this.p;
      let dPrec = parser8.dynamicPrecedence(type);
      if (dPrec)
        this.score += dPrec;
      if (depth == 0) {
        this.pushState(parser8.getGoto(this.state, type, true), this.reducePos);
        if (type < parser8.minRepeatTerm)
          this.storeNode(type, this.reducePos, this.reducePos, 4, true);
        this.reduceContext(type, this.reducePos);
        return;
      }
      let base2 = this.stack.length - (depth - 1) * 3 - (action & 262144 ? 6 : 0);
      let start = this.stack[base2 - 2];
      let bufferBase = this.stack[base2 - 1], count = this.bufferBase + this.buffer.length - bufferBase;
      if (type < parser8.minRepeatTerm || action & 131072) {
        let pos = parser8.stateFlag(this.state, 1) ? this.pos : this.reducePos;
        this.storeNode(type, start, pos, count + 4, true);
      }
      if (action & 262144) {
        this.state = this.stack[base2];
      } else {
        let baseStateID = this.stack[base2 - 3];
        this.state = parser8.getGoto(baseStateID, type, true);
      }
      while (this.stack.length > base2)
        this.stack.pop();
      this.reduceContext(type, start);
    }
    storeNode(term, start, end, size = 4, isReduce = false) {
      if (term == 0 && (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {
        let cur2 = this, top2 = this.buffer.length;
        if (top2 == 0 && cur2.parent) {
          top2 = cur2.bufferBase - cur2.parent.bufferBase;
          cur2 = cur2.parent;
        }
        if (top2 > 0 && cur2.buffer[top2 - 4] == 0 && cur2.buffer[top2 - 1] > -1) {
          if (start == end)
            return;
          if (cur2.buffer[top2 - 2] >= start) {
            cur2.buffer[top2 - 2] = end;
            return;
          }
        }
      }
      if (!isReduce || this.pos == end) {
        this.buffer.push(term, start, end, size);
      } else {
        let index = this.buffer.length;
        if (index > 0 && this.buffer[index - 4] != 0)
          while (index > 0 && this.buffer[index - 2] > end) {
            this.buffer[index] = this.buffer[index - 4];
            this.buffer[index + 1] = this.buffer[index - 3];
            this.buffer[index + 2] = this.buffer[index - 2];
            this.buffer[index + 3] = this.buffer[index - 1];
            index -= 4;
            if (size > 4)
              size -= 4;
          }
        this.buffer[index] = term;
        this.buffer[index + 1] = start;
        this.buffer[index + 2] = end;
        this.buffer[index + 3] = size;
      }
    }
    shift(action, next, nextEnd) {
      let start = this.pos;
      if (action & 131072) {
        this.pushState(action & 65535, this.pos);
      } else if ((action & 262144) == 0) {
        let nextState = action, {parser: parser8} = this.p;
        if (nextEnd > this.pos || next <= parser8.maxNode) {
          this.pos = nextEnd;
          if (!parser8.stateFlag(nextState, 1))
            this.reducePos = nextEnd;
        }
        this.pushState(nextState, start);
        this.shiftContext(next, start);
        if (next <= parser8.maxNode)
          this.buffer.push(next, start, nextEnd, 4);
      } else {
        this.pos = nextEnd;
        this.shiftContext(next, start);
        if (next <= this.p.parser.maxNode)
          this.buffer.push(next, start, nextEnd, 4);
      }
    }
    apply(action, next, nextEnd) {
      if (action & 65536)
        this.reduce(action);
      else
        this.shift(action, next, nextEnd);
    }
    useNode(value, next) {
      let index = this.p.reused.length - 1;
      if (index < 0 || this.p.reused[index] != value) {
        this.p.reused.push(value);
        index++;
      }
      let start = this.pos;
      this.reducePos = this.pos = start + value.length;
      this.pushState(next, start);
      this.buffer.push(index, start, this.reducePos, -1);
      if (this.curContext)
        this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));
    }
    split() {
      let parent = this;
      let off = parent.buffer.length;
      while (off > 0 && parent.buffer[off - 2] > parent.reducePos)
        off -= 4;
      let buffer = parent.buffer.slice(off), base2 = parent.bufferBase + off;
      while (parent && base2 == parent.bufferBase)
        parent = parent.parent;
      return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base2, this.curContext, this.lookAhead, parent);
    }
    recoverByDelete(next, nextEnd) {
      let isNode = next <= this.p.parser.maxNode;
      if (isNode)
        this.storeNode(next, this.pos, nextEnd, 4);
      this.storeNode(0, this.pos, nextEnd, isNode ? 8 : 4);
      this.pos = this.reducePos = nextEnd;
      this.score -= 190;
    }
    canShift(term) {
      for (let sim = new SimulatedStack(this); ; ) {
        let action = this.p.parser.stateSlot(sim.state, 4) || this.p.parser.hasAction(sim.state, term);
        if (action == 0)
          return false;
        if ((action & 65536) == 0)
          return true;
        sim.reduce(action);
      }
    }
    recoverByInsert(next) {
      if (this.stack.length >= 300)
        return [];
      let nextStates = this.p.parser.nextStates(this.state);
      if (nextStates.length > 4 << 1 || this.stack.length >= 120) {
        let best = [];
        for (let i = 0, s; i < nextStates.length; i += 2) {
          if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))
            best.push(nextStates[i], s);
        }
        if (this.stack.length < 120)
          for (let i = 0; best.length < 4 << 1 && i < nextStates.length; i += 2) {
            let s = nextStates[i + 1];
            if (!best.some((v, i2) => i2 & 1 && v == s))
              best.push(nextStates[i], s);
          }
        nextStates = best;
      }
      let result = [];
      for (let i = 0; i < nextStates.length && result.length < 4; i += 2) {
        let s = nextStates[i + 1];
        if (s == this.state)
          continue;
        let stack = this.split();
        stack.pushState(s, this.pos);
        stack.storeNode(0, stack.pos, stack.pos, 4, true);
        stack.shiftContext(nextStates[i], this.pos);
        stack.score -= 200;
        result.push(stack);
      }
      return result;
    }
    forceReduce() {
      let reduce = this.p.parser.stateSlot(this.state, 5);
      if ((reduce & 65536) == 0)
        return false;
      let {parser: parser8} = this.p;
      if (!parser8.validAction(this.state, reduce)) {
        let depth = reduce >> 19, term = reduce & 65535;
        let target = this.stack.length - depth * 3;
        if (target < 0 || parser8.getGoto(this.stack[target], term, false) < 0)
          return false;
        this.storeNode(0, this.reducePos, this.reducePos, 4, true);
        this.score -= 100;
      }
      this.reducePos = this.pos;
      this.reduce(reduce);
      return true;
    }
    forceAll() {
      while (!this.p.parser.stateFlag(this.state, 2)) {
        if (!this.forceReduce()) {
          this.storeNode(0, this.pos, this.pos, 4, true);
          break;
        }
      }
      return this;
    }
    get deadEnd() {
      if (this.stack.length != 3)
        return false;
      let {parser: parser8} = this.p;
      return parser8.data[parser8.stateSlot(this.state, 1)] == 65535 && !parser8.stateSlot(this.state, 4);
    }
    restart() {
      this.state = this.stack[0];
      this.stack.length = 0;
    }
    sameState(other) {
      if (this.state != other.state || this.stack.length != other.stack.length)
        return false;
      for (let i = 0; i < this.stack.length; i += 3)
        if (this.stack[i] != other.stack[i])
          return false;
      return true;
    }
    get parser() {
      return this.p.parser;
    }
    dialectEnabled(dialectID) {
      return this.p.parser.dialect.flags[dialectID];
    }
    shiftContext(term, start) {
      if (this.curContext)
        this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));
    }
    reduceContext(term, start) {
      if (this.curContext)
        this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));
    }
    emitContext() {
      let last = this.buffer.length - 1;
      if (last < 0 || this.buffer[last] != -3)
        this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);
    }
    emitLookAhead() {
      let last = this.buffer.length - 1;
      if (last < 0 || this.buffer[last] != -4)
        this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);
    }
    updateContext(context) {
      if (context != this.curContext.context) {
        let newCx = new StackContext(this.curContext.tracker, context);
        if (newCx.hash != this.curContext.hash)
          this.emitContext();
        this.curContext = newCx;
      }
    }
    setLookAhead(lookAhead) {
      if (lookAhead > this.lookAhead) {
        this.emitLookAhead();
        this.lookAhead = lookAhead;
      }
    }
    close() {
      if (this.curContext && this.curContext.tracker.strict)
        this.emitContext();
      if (this.lookAhead > 0)
        this.emitLookAhead();
    }
  };
  var StackContext = class {
    constructor(tracker, context) {
      this.tracker = tracker;
      this.context = context;
      this.hash = tracker.strict ? tracker.hash(context) : 0;
    }
  };
  var Recover;
  (function(Recover2) {
    Recover2[Recover2["Insert"] = 200] = "Insert";
    Recover2[Recover2["Delete"] = 190] = "Delete";
    Recover2[Recover2["Reduce"] = 100] = "Reduce";
    Recover2[Recover2["MaxNext"] = 4] = "MaxNext";
    Recover2[Recover2["MaxInsertStackDepth"] = 300] = "MaxInsertStackDepth";
    Recover2[Recover2["DampenInsertStackDepth"] = 120] = "DampenInsertStackDepth";
  })(Recover || (Recover = {}));
  var SimulatedStack = class {
    constructor(start) {
      this.start = start;
      this.state = start.state;
      this.stack = start.stack;
      this.base = this.stack.length;
    }
    reduce(action) {
      let term = action & 65535, depth = action >> 19;
      if (depth == 0) {
        if (this.stack == this.start.stack)
          this.stack = this.stack.slice();
        this.stack.push(this.state, 0, 0);
        this.base += 3;
      } else {
        this.base -= (depth - 1) * 3;
      }
      let goto2 = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);
      this.state = goto2;
    }
  };
  var StackBufferCursor = class {
    constructor(stack, pos, index) {
      this.stack = stack;
      this.pos = pos;
      this.index = index;
      this.buffer = stack.buffer;
      if (this.index == 0)
        this.maybeNext();
    }
    static create(stack, pos = stack.bufferBase + stack.buffer.length) {
      return new StackBufferCursor(stack, pos, pos - stack.bufferBase);
    }
    maybeNext() {
      let next = this.stack.parent;
      if (next != null) {
        this.index = this.stack.bufferBase - next.bufferBase;
        this.stack = next;
        this.buffer = next.buffer;
      }
    }
    get id() {
      return this.buffer[this.index - 4];
    }
    get start() {
      return this.buffer[this.index - 3];
    }
    get end() {
      return this.buffer[this.index - 2];
    }
    get size() {
      return this.buffer[this.index - 1];
    }
    next() {
      this.index -= 4;
      this.pos -= 4;
      if (this.index == 0)
        this.maybeNext();
    }
    fork() {
      return new StackBufferCursor(this.stack, this.pos, this.index);
    }
  };
  var CachedToken = class {
    constructor() {
      this.start = -1;
      this.value = -1;
      this.end = -1;
      this.extended = -1;
      this.lookAhead = 0;
      this.mask = 0;
      this.context = 0;
    }
  };
  var nullToken = new CachedToken();
  var InputStream = class {
    constructor(input, ranges) {
      this.input = input;
      this.ranges = ranges;
      this.chunk = "";
      this.chunkOff = 0;
      this.chunk2 = "";
      this.chunk2Pos = 0;
      this.next = -1;
      this.token = nullToken;
      this.rangeIndex = 0;
      this.pos = this.chunkPos = ranges[0].from;
      this.range = ranges[0];
      this.end = ranges[ranges.length - 1].to;
      this.readNext();
    }
    resolveOffset(offset, assoc) {
      let range = this.range, index = this.rangeIndex;
      let pos = this.pos + offset;
      while (pos < range.from) {
        if (!index)
          return null;
        let next = this.ranges[--index];
        pos -= range.from - next.to;
        range = next;
      }
      while (assoc < 0 ? pos > range.to : pos >= range.to) {
        if (index == this.ranges.length - 1)
          return null;
        let next = this.ranges[++index];
        pos += next.from - range.to;
        range = next;
      }
      return pos;
    }
    clipPos(pos) {
      if (pos >= this.range.from && pos < this.range.to)
        return pos;
      for (let range of this.ranges)
        if (range.to > pos)
          return Math.max(pos, range.from);
      return this.end;
    }
    peek(offset) {
      let idx = this.chunkOff + offset, pos, result;
      if (idx >= 0 && idx < this.chunk.length) {
        pos = this.pos + offset;
        result = this.chunk.charCodeAt(idx);
      } else {
        let resolved = this.resolveOffset(offset, 1);
        if (resolved == null)
          return -1;
        pos = resolved;
        if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {
          result = this.chunk2.charCodeAt(pos - this.chunk2Pos);
        } else {
          let i = this.rangeIndex, range = this.range;
          while (range.to <= pos)
            range = this.ranges[++i];
          this.chunk2 = this.input.chunk(this.chunk2Pos = pos);
          if (pos + this.chunk2.length > range.to)
            this.chunk2 = this.chunk2.slice(0, range.to - pos);
          result = this.chunk2.charCodeAt(0);
        }
      }
      if (pos >= this.token.lookAhead)
        this.token.lookAhead = pos + 1;
      return result;
    }
    acceptToken(token, endOffset = 0) {
      let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;
      if (end == null || end < this.token.start)
        throw new RangeError("Token end out of bounds");
      this.token.value = token;
      this.token.end = end;
    }
    getChunk() {
      if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {
        let {chunk, chunkPos} = this;
        this.chunk = this.chunk2;
        this.chunkPos = this.chunk2Pos;
        this.chunk2 = chunk;
        this.chunk2Pos = chunkPos;
        this.chunkOff = this.pos - this.chunkPos;
      } else {
        this.chunk2 = this.chunk;
        this.chunk2Pos = this.chunkPos;
        let nextChunk = this.input.chunk(this.pos);
        let end = this.pos + nextChunk.length;
        this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;
        this.chunkPos = this.pos;
        this.chunkOff = 0;
      }
    }
    readNext() {
      if (this.chunkOff >= this.chunk.length) {
        this.getChunk();
        if (this.chunkOff == this.chunk.length)
          return this.next = -1;
      }
      return this.next = this.chunk.charCodeAt(this.chunkOff);
    }
    advance(n = 1) {
      this.chunkOff += n;
      while (this.pos + n >= this.range.to) {
        if (this.rangeIndex == this.ranges.length - 1)
          return this.setDone();
        n -= this.range.to - this.pos;
        this.range = this.ranges[++this.rangeIndex];
        this.pos = this.range.from;
      }
      this.pos += n;
      if (this.pos >= this.token.lookAhead)
        this.token.lookAhead = this.pos + 1;
      return this.readNext();
    }
    setDone() {
      this.pos = this.chunkPos = this.end;
      this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];
      this.chunk = "";
      return this.next = -1;
    }
    reset(pos, token) {
      if (token) {
        this.token = token;
        token.start = pos;
        token.lookAhead = pos + 1;
        token.value = token.extended = -1;
      } else {
        this.token = nullToken;
      }
      if (this.pos != pos) {
        this.pos = pos;
        if (pos == this.end) {
          this.setDone();
          return this;
        }
        while (pos < this.range.from)
          this.range = this.ranges[--this.rangeIndex];
        while (pos >= this.range.to)
          this.range = this.ranges[++this.rangeIndex];
        if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {
          this.chunkOff = pos - this.chunkPos;
        } else {
          this.chunk = "";
          this.chunkOff = 0;
        }
        this.readNext();
      }
      return this;
    }
    read(from2, to) {
      if (from2 >= this.chunkPos && to <= this.chunkPos + this.chunk.length)
        return this.chunk.slice(from2 - this.chunkPos, to - this.chunkPos);
      if (from2 >= this.chunk2Pos && to <= this.chunk2Pos + this.chunk2.length)
        return this.chunk2.slice(from2 - this.chunk2Pos, to - this.chunk2Pos);
      if (from2 >= this.range.from && to <= this.range.to)
        return this.input.read(from2, to);
      let result = "";
      for (let r of this.ranges) {
        if (r.from >= to)
          break;
        if (r.to > from2)
          result += this.input.read(Math.max(r.from, from2), Math.min(r.to, to));
      }
      return result;
    }
  };
  var TokenGroup = class {
    constructor(data, id2) {
      this.data = data;
      this.id = id2;
    }
    token(input, stack) {
      readToken(this.data, input, stack, this.id);
    }
  };
  TokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;
  var ExternalTokenizer = class {
    constructor(token, options = {}) {
      this.token = token;
      this.contextual = !!options.contextual;
      this.fallback = !!options.fallback;
      this.extend = !!options.extend;
    }
  };
  function readToken(data, input, stack, group) {
    let state = 0, groupMask = 1 << group, {parser: parser8} = stack.p, {dialect: dialect2} = parser8;
    scan:
      for (; ; ) {
        if ((groupMask & data[state]) == 0)
          break;
        let accEnd = data[state + 1];
        for (let i = state + 3; i < accEnd; i += 2)
          if ((data[i + 1] & groupMask) > 0) {
            let term = data[i];
            if (dialect2.allows(term) && (input.token.value == -1 || input.token.value == term || parser8.overrides(term, input.token.value))) {
              input.acceptToken(term);
              break;
            }
          }
        let next = input.next, low = 0, high = data[state + 2];
        if (input.next < 0 && high > low && data[accEnd + high * 3 - 3] == 65535 && data[accEnd + high * 3 - 3] == 65535) {
          state = data[accEnd + high * 3 - 1];
          continue scan;
        }
        for (; low < high; ) {
          let mid = low + high >> 1;
          let index = accEnd + mid + (mid << 1);
          let from2 = data[index], to = data[index + 1] || 65536;
          if (next < from2)
            high = mid;
          else if (next >= to)
            low = mid + 1;
          else {
            state = data[index + 2];
            input.advance();
            continue scan;
          }
        }
        break;
      }
  }
  function decodeArray(input, Type2 = Uint16Array) {
    if (typeof input != "string")
      return input;
    let array2 = null;
    for (let pos = 0, out = 0; pos < input.length; ) {
      let value = 0;
      for (; ; ) {
        let next = input.charCodeAt(pos++), stop = false;
        if (next == 126) {
          value = 65535;
          break;
        }
        if (next >= 92)
          next--;
        if (next >= 34)
          next--;
        let digit = next - 32;
        if (digit >= 46) {
          digit -= 46;
          stop = true;
        }
        value += digit;
        if (stop)
          break;
        value *= 46;
      }
      if (array2)
        array2[out++] = value;
      else
        array2 = new Type2(value);
    }
    return array2;
  }
  var verbose = typeof process != "undefined" && process.env && /\bparse\b/.test(process.env.LOG);
  var stackIDs = null;
  var Safety;
  (function(Safety2) {
    Safety2[Safety2["Margin"] = 25] = "Margin";
  })(Safety || (Safety = {}));
  function cutAt(tree, pos, side) {
    let cursor = tree.cursor(IterMode.IncludeAnonymous);
    cursor.moveTo(pos);
    for (; ; ) {
      if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))
        for (; ; ) {
          if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)
            return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25)) : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25));
          if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())
            break;
          if (!cursor.parent())
            return side < 0 ? 0 : tree.length;
        }
    }
  }
  var FragmentCursor2 = class {
    constructor(fragments, nodeSet) {
      this.fragments = fragments;
      this.nodeSet = nodeSet;
      this.i = 0;
      this.fragment = null;
      this.safeFrom = -1;
      this.safeTo = -1;
      this.trees = [];
      this.start = [];
      this.index = [];
      this.nextFragment();
    }
    nextFragment() {
      let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];
      if (fr) {
        this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;
        this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;
        while (this.trees.length) {
          this.trees.pop();
          this.start.pop();
          this.index.pop();
        }
        this.trees.push(fr.tree);
        this.start.push(-fr.offset);
        this.index.push(0);
        this.nextStart = this.safeFrom;
      } else {
        this.nextStart = 1e9;
      }
    }
    nodeAt(pos) {
      if (pos < this.nextStart)
        return null;
      while (this.fragment && this.safeTo <= pos)
        this.nextFragment();
      if (!this.fragment)
        return null;
      for (; ; ) {
        let last = this.trees.length - 1;
        if (last < 0) {
          this.nextFragment();
          return null;
        }
        let top2 = this.trees[last], index = this.index[last];
        if (index == top2.children.length) {
          this.trees.pop();
          this.start.pop();
          this.index.pop();
          continue;
        }
        let next = top2.children[index];
        let start = this.start[last] + top2.positions[index];
        if (start > pos) {
          this.nextStart = start;
          return null;
        }
        if (next instanceof Tree) {
          if (start == pos) {
            if (start < this.safeFrom)
              return null;
            let end = start + next.length;
            if (end <= this.safeTo) {
              let lookAhead = next.prop(NodeProp.lookAhead);
              if (!lookAhead || end + lookAhead < this.fragment.to)
                return next;
            }
          }
          this.index[last]++;
          if (start + next.length >= Math.max(this.safeFrom, pos)) {
            this.trees.push(next);
            this.start.push(start);
            this.index.push(0);
          }
        } else {
          this.index[last]++;
          this.nextStart = start + next.length;
        }
      }
    }
  };
  var TokenCache = class {
    constructor(parser8, stream) {
      this.stream = stream;
      this.tokens = [];
      this.mainToken = null;
      this.actions = [];
      this.tokens = parser8.tokenizers.map((_) => new CachedToken());
    }
    getActions(stack) {
      let actionIndex = 0;
      let main = null;
      let {parser: parser8} = stack.p, {tokenizers} = parser8;
      let mask = parser8.stateSlot(stack.state, 3);
      let context = stack.curContext ? stack.curContext.hash : 0;
      let lookAhead = 0;
      for (let i = 0; i < tokenizers.length; i++) {
        if ((1 << i & mask) == 0)
          continue;
        let tokenizer = tokenizers[i], token = this.tokens[i];
        if (main && !tokenizer.fallback)
          continue;
        if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {
          this.updateCachedToken(token, tokenizer, stack);
          token.mask = mask;
          token.context = context;
        }
        if (token.lookAhead > token.end + 25)
          lookAhead = Math.max(token.lookAhead, lookAhead);
        if (token.value != 0) {
          let startIndex = actionIndex;
          if (token.extended > -1)
            actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);
          actionIndex = this.addActions(stack, token.value, token.end, actionIndex);
          if (!tokenizer.extend) {
            main = token;
            if (actionIndex > startIndex)
              break;
          }
        }
      }
      while (this.actions.length > actionIndex)
        this.actions.pop();
      if (lookAhead)
        stack.setLookAhead(lookAhead);
      if (!main && stack.pos == this.stream.end) {
        main = new CachedToken();
        main.value = stack.p.parser.eofTerm;
        main.start = main.end = stack.pos;
        actionIndex = this.addActions(stack, main.value, main.end, actionIndex);
      }
      this.mainToken = main;
      return this.actions;
    }
    getMainToken(stack) {
      if (this.mainToken)
        return this.mainToken;
      let main = new CachedToken(), {pos, p} = stack;
      main.start = pos;
      main.end = Math.min(pos + 1, p.stream.end);
      main.value = pos == p.stream.end ? p.parser.eofTerm : 0;
      return main;
    }
    updateCachedToken(token, tokenizer, stack) {
      let start = this.stream.clipPos(stack.pos);
      tokenizer.token(this.stream.reset(start, token), stack);
      if (token.value > -1) {
        let {parser: parser8} = stack.p;
        for (let i = 0; i < parser8.specialized.length; i++)
          if (parser8.specialized[i] == token.value) {
            let result = parser8.specializers[i](this.stream.read(token.start, token.end), stack);
            if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {
              if ((result & 1) == 0)
                token.value = result >> 1;
              else
                token.extended = result >> 1;
              break;
            }
          }
      } else {
        token.value = 0;
        token.end = this.stream.clipPos(start + 1);
      }
    }
    putAction(action, token, end, index) {
      for (let i = 0; i < index; i += 3)
        if (this.actions[i] == action)
          return index;
      this.actions[index++] = action;
      this.actions[index++] = token;
      this.actions[index++] = end;
      return index;
    }
    addActions(stack, token, end, index) {
      let {state} = stack, {parser: parser8} = stack.p, {data} = parser8;
      for (let set = 0; set < 2; set++) {
        for (let i = parser8.stateSlot(state, set ? 2 : 1); ; i += 3) {
          if (data[i] == 65535) {
            if (data[i + 1] == 1) {
              i = pair(data, i + 2);
            } else {
              if (index == 0 && data[i + 1] == 2)
                index = this.putAction(pair(data, i + 2), token, end, index);
              break;
            }
          }
          if (data[i] == token)
            index = this.putAction(pair(data, i + 1), token, end, index);
        }
      }
      return index;
    }
  };
  var Rec;
  (function(Rec2) {
    Rec2[Rec2["Distance"] = 5] = "Distance";
    Rec2[Rec2["MaxRemainingPerStep"] = 3] = "MaxRemainingPerStep";
    Rec2[Rec2["MinBufferLengthPrune"] = 500] = "MinBufferLengthPrune";
    Rec2[Rec2["ForceReduceLimit"] = 10] = "ForceReduceLimit";
    Rec2[Rec2["CutDepth"] = 15e3] = "CutDepth";
    Rec2[Rec2["CutTo"] = 9e3] = "CutTo";
  })(Rec || (Rec = {}));
  var Parse = class {
    constructor(parser8, input, fragments, ranges) {
      this.parser = parser8;
      this.input = input;
      this.ranges = ranges;
      this.recovering = 0;
      this.nextStackID = 9812;
      this.minStackPos = 0;
      this.reused = [];
      this.stoppedAt = null;
      this.stream = new InputStream(input, ranges);
      this.tokens = new TokenCache(parser8, this.stream);
      this.topTerm = parser8.top[1];
      let {from: from2} = ranges[0];
      this.stacks = [Stack.start(this, parser8.top[0], from2)];
      this.fragments = fragments.length && this.stream.end - from2 > parser8.bufferLength * 4 ? new FragmentCursor2(fragments, parser8.nodeSet) : null;
    }
    get parsedPos() {
      return this.minStackPos;
    }
    advance() {
      let stacks = this.stacks, pos = this.minStackPos;
      let newStacks = this.stacks = [];
      let stopped, stoppedTokens;
      for (let i = 0; i < stacks.length; i++) {
        let stack = stacks[i];
        for (; ; ) {
          this.tokens.mainToken = null;
          if (stack.pos > pos) {
            newStacks.push(stack);
          } else if (this.advanceStack(stack, newStacks, stacks)) {
            continue;
          } else {
            if (!stopped) {
              stopped = [];
              stoppedTokens = [];
            }
            stopped.push(stack);
            let tok = this.tokens.getMainToken(stack);
            stoppedTokens.push(tok.value, tok.end);
          }
          break;
        }
      }
      if (!newStacks.length) {
        let finished = stopped && findFinished(stopped);
        if (finished)
          return this.stackToTree(finished);
        if (this.parser.strict) {
          if (verbose && stopped)
            console.log("Stuck with token " + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : "none"));
          throw new SyntaxError("No parse at " + pos);
        }
        if (!this.recovering)
          this.recovering = 5;
      }
      if (this.recovering && stopped) {
        let finished = this.stoppedAt != null && stopped[0].pos > this.stoppedAt ? stopped[0] : this.runRecovery(stopped, stoppedTokens, newStacks);
        if (finished)
          return this.stackToTree(finished.forceAll());
      }
      if (this.recovering) {
        let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3;
        if (newStacks.length > maxRemaining) {
          newStacks.sort((a, b) => b.score - a.score);
          while (newStacks.length > maxRemaining)
            newStacks.pop();
        }
        if (newStacks.some((s) => s.reducePos > pos))
          this.recovering--;
      } else if (newStacks.length > 1) {
        outer:
          for (let i = 0; i < newStacks.length - 1; i++) {
            let stack = newStacks[i];
            for (let j = i + 1; j < newStacks.length; j++) {
              let other = newStacks[j];
              if (stack.sameState(other) || stack.buffer.length > 500 && other.buffer.length > 500) {
                if ((stack.score - other.score || stack.buffer.length - other.buffer.length) > 0) {
                  newStacks.splice(j--, 1);
                } else {
                  newStacks.splice(i--, 1);
                  continue outer;
                }
              }
            }
          }
      }
      this.minStackPos = newStacks[0].pos;
      for (let i = 1; i < newStacks.length; i++)
        if (newStacks[i].pos < this.minStackPos)
          this.minStackPos = newStacks[i].pos;
      return null;
    }
    stopAt(pos) {
      if (this.stoppedAt != null && this.stoppedAt < pos)
        throw new RangeError("Can't move stoppedAt forward");
      this.stoppedAt = pos;
    }
    advanceStack(stack, stacks, split) {
      let start = stack.pos, {parser: parser8} = this;
      let base2 = verbose ? this.stackID(stack) + " -> " : "";
      if (this.stoppedAt != null && start > this.stoppedAt)
        return stack.forceReduce() ? stack : null;
      if (this.fragments) {
        let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;
        for (let cached = this.fragments.nodeAt(start); cached; ) {
          let match2 = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser8.getGoto(stack.state, cached.type.id) : -1;
          if (match2 > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {
            stack.useNode(cached, match2);
            if (verbose)
              console.log(base2 + this.stackID(stack) + ` (via reuse of ${parser8.getName(cached.type.id)})`);
            return true;
          }
          if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)
            break;
          let inner = cached.children[0];
          if (inner instanceof Tree && cached.positions[0] == 0)
            cached = inner;
          else
            break;
        }
      }
      let defaultReduce = parser8.stateSlot(stack.state, 4);
      if (defaultReduce > 0) {
        stack.reduce(defaultReduce);
        if (verbose)
          console.log(base2 + this.stackID(stack) + ` (via always-reduce ${parser8.getName(defaultReduce & 65535)})`);
        return true;
      }
      if (stack.stack.length >= 15e3) {
        while (stack.stack.length > 9e3 && stack.forceReduce()) {
        }
      }
      let actions = this.tokens.getActions(stack);
      for (let i = 0; i < actions.length; ) {
        let action = actions[i++], term = actions[i++], end = actions[i++];
        let last = i == actions.length || !split;
        let localStack = last ? stack : stack.split();
        localStack.apply(action, term, end);
        if (verbose)
          console.log(base2 + this.stackID(localStack) + ` (via ${(action & 65536) == 0 ? "shift" : `reduce of ${parser8.getName(action & 65535)}`} for ${parser8.getName(term)} @ ${start}${localStack == stack ? "" : ", split"})`);
        if (last)
          return true;
        else if (localStack.pos > start)
          stacks.push(localStack);
        else
          split.push(localStack);
      }
      return false;
    }
    advanceFully(stack, newStacks) {
      let pos = stack.pos;
      for (; ; ) {
        if (!this.advanceStack(stack, null, null))
          return false;
        if (stack.pos > pos) {
          pushStackDedup(stack, newStacks);
          return true;
        }
      }
    }
    runRecovery(stacks, tokens2, newStacks) {
      let finished = null, restarted = false;
      for (let i = 0; i < stacks.length; i++) {
        let stack = stacks[i], token = tokens2[i << 1], tokenEnd = tokens2[(i << 1) + 1];
        let base2 = verbose ? this.stackID(stack) + " -> " : "";
        if (stack.deadEnd) {
          if (restarted)
            continue;
          restarted = true;
          stack.restart();
          if (verbose)
            console.log(base2 + this.stackID(stack) + " (restarted)");
          let done = this.advanceFully(stack, newStacks);
          if (done)
            continue;
        }
        let force = stack.split(), forceBase = base2;
        for (let j = 0; force.forceReduce() && j < 10; j++) {
          if (verbose)
            console.log(forceBase + this.stackID(force) + " (via force-reduce)");
          let done = this.advanceFully(force, newStacks);
          if (done)
            break;
          if (verbose)
            forceBase = this.stackID(force) + " -> ";
        }
        for (let insert2 of stack.recoverByInsert(token)) {
          if (verbose)
            console.log(base2 + this.stackID(insert2) + " (via recover-insert)");
          this.advanceFully(insert2, newStacks);
        }
        if (this.stream.end > stack.pos) {
          if (tokenEnd == stack.pos) {
            tokenEnd++;
            token = 0;
          }
          stack.recoverByDelete(token, tokenEnd);
          if (verbose)
            console.log(base2 + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);
          pushStackDedup(stack, newStacks);
        } else if (!finished || finished.score < stack.score) {
          finished = stack;
        }
      }
      return finished;
    }
    stackToTree(stack) {
      stack.close();
      return Tree.build({
        buffer: StackBufferCursor.create(stack),
        nodeSet: this.parser.nodeSet,
        topID: this.topTerm,
        maxBufferLength: this.parser.bufferLength,
        reused: this.reused,
        start: this.ranges[0].from,
        length: stack.pos - this.ranges[0].from,
        minRepeatType: this.parser.minRepeatTerm
      });
    }
    stackID(stack) {
      let id2 = (stackIDs || (stackIDs = new WeakMap())).get(stack);
      if (!id2)
        stackIDs.set(stack, id2 = String.fromCodePoint(this.nextStackID++));
      return id2 + stack;
    }
  };
  function pushStackDedup(stack, newStacks) {
    for (let i = 0; i < newStacks.length; i++) {
      let other = newStacks[i];
      if (other.pos == stack.pos && other.sameState(stack)) {
        if (newStacks[i].score < stack.score)
          newStacks[i] = stack;
        return;
      }
    }
    newStacks.push(stack);
  }
  var Dialect = class {
    constructor(source, flags, disabled) {
      this.source = source;
      this.flags = flags;
      this.disabled = disabled;
    }
    allows(term) {
      return !this.disabled || this.disabled[term] == 0;
    }
  };
  var id = (x) => x;
  var ContextTracker = class {
    constructor(spec) {
      this.start = spec.start;
      this.shift = spec.shift || id;
      this.reduce = spec.reduce || id;
      this.reuse = spec.reuse || id;
      this.hash = spec.hash || (() => 0);
      this.strict = spec.strict !== false;
    }
  };
  var LRParser = class extends Parser {
    constructor(spec) {
      super();
      this.wrappers = [];
      if (spec.version != 14)
        throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14})`);
      let nodeNames = spec.nodeNames.split(" ");
      this.minRepeatTerm = nodeNames.length;
      for (let i = 0; i < spec.repeatNodeCount; i++)
        nodeNames.push("");
      let topTerms = Object.keys(spec.topRules).map((r) => spec.topRules[r][1]);
      let nodeProps = [];
      for (let i = 0; i < nodeNames.length; i++)
        nodeProps.push([]);
      function setProp(nodeID, prop, value) {
        nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);
      }
      if (spec.nodeProps)
        for (let propSpec of spec.nodeProps) {
          let prop = propSpec[0];
          if (typeof prop == "string")
            prop = NodeProp[prop];
          for (let i = 1; i < propSpec.length; ) {
            let next = propSpec[i++];
            if (next >= 0) {
              setProp(next, prop, propSpec[i++]);
            } else {
              let value = propSpec[i + -next];
              for (let j = -next; j > 0; j--)
                setProp(propSpec[i++], prop, value);
              i++;
            }
          }
        }
      this.nodeSet = new NodeSet(nodeNames.map((name2, i) => NodeType.define({
        name: i >= this.minRepeatTerm ? void 0 : name2,
        id: i,
        props: nodeProps[i],
        top: topTerms.indexOf(i) > -1,
        error: i == 0,
        skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1
      })));
      if (spec.propSources)
        this.nodeSet = this.nodeSet.extend(...spec.propSources);
      this.strict = false;
      this.bufferLength = DefaultBufferLength;
      let tokenArray = decodeArray(spec.tokenData);
      this.context = spec.context;
      this.specializerSpecs = spec.specialized || [];
      this.specialized = new Uint16Array(this.specializerSpecs.length);
      for (let i = 0; i < this.specializerSpecs.length; i++)
        this.specialized[i] = this.specializerSpecs[i].term;
      this.specializers = this.specializerSpecs.map(getSpecializer);
      this.states = decodeArray(spec.states, Uint32Array);
      this.data = decodeArray(spec.stateData);
      this.goto = decodeArray(spec.goto);
      this.maxTerm = spec.maxTerm;
      this.tokenizers = spec.tokenizers.map((value) => typeof value == "number" ? new TokenGroup(tokenArray, value) : value);
      this.topRules = spec.topRules;
      this.dialects = spec.dialects || {};
      this.dynamicPrecedences = spec.dynamicPrecedences || null;
      this.tokenPrecTable = spec.tokenPrec;
      this.termNames = spec.termNames || null;
      this.maxNode = this.nodeSet.types.length - 1;
      this.dialect = this.parseDialect();
      this.top = this.topRules[Object.keys(this.topRules)[0]];
    }
    createParse(input, fragments, ranges) {
      let parse = new Parse(this, input, fragments, ranges);
      for (let w of this.wrappers)
        parse = w(parse, input, fragments, ranges);
      return parse;
    }
    getGoto(state, term, loose = false) {
      let table = this.goto;
      if (term >= table[0])
        return -1;
      for (let pos = table[term + 1]; ; ) {
        let groupTag = table[pos++], last = groupTag & 1;
        let target = table[pos++];
        if (last && loose)
          return target;
        for (let end = pos + (groupTag >> 1); pos < end; pos++)
          if (table[pos] == state)
            return target;
        if (last)
          return -1;
      }
    }
    hasAction(state, terminal) {
      let data = this.data;
      for (let set = 0; set < 2; set++) {
        for (let i = this.stateSlot(state, set ? 2 : 1), next; ; i += 3) {
          if ((next = data[i]) == 65535) {
            if (data[i + 1] == 1)
              next = data[i = pair(data, i + 2)];
            else if (data[i + 1] == 2)
              return pair(data, i + 2);
            else
              break;
          }
          if (next == terminal || next == 0)
            return pair(data, i + 1);
        }
      }
      return 0;
    }
    stateSlot(state, slot) {
      return this.states[state * 6 + slot];
    }
    stateFlag(state, flag) {
      return (this.stateSlot(state, 0) & flag) > 0;
    }
    validAction(state, action) {
      if (action == this.stateSlot(state, 4))
        return true;
      for (let i = this.stateSlot(state, 1); ; i += 3) {
        if (this.data[i] == 65535) {
          if (this.data[i + 1] == 1)
            i = pair(this.data, i + 2);
          else
            return false;
        }
        if (action == pair(this.data, i + 1))
          return true;
      }
    }
    nextStates(state) {
      let result = [];
      for (let i = this.stateSlot(state, 1); ; i += 3) {
        if (this.data[i] == 65535) {
          if (this.data[i + 1] == 1)
            i = pair(this.data, i + 2);
          else
            break;
        }
        if ((this.data[i + 2] & 65536 >> 16) == 0) {
          let value = this.data[i + 1];
          if (!result.some((v, i2) => i2 & 1 && v == value))
            result.push(this.data[i], value);
        }
      }
      return result;
    }
    overrides(token, prev) {
      let iPrev = findOffset(this.data, this.tokenPrecTable, prev);
      return iPrev < 0 || findOffset(this.data, this.tokenPrecTable, token) < iPrev;
    }
    configure(config) {
      let copy = Object.assign(Object.create(LRParser.prototype), this);
      if (config.props)
        copy.nodeSet = this.nodeSet.extend(...config.props);
      if (config.top) {
        let info = this.topRules[config.top];
        if (!info)
          throw new RangeError(`Invalid top rule name ${config.top}`);
        copy.top = info;
      }
      if (config.tokenizers)
        copy.tokenizers = this.tokenizers.map((t2) => {
          let found = config.tokenizers.find((r) => r.from == t2);
          return found ? found.to : t2;
        });
      if (config.specializers) {
        copy.specializers = this.specializers.slice();
        copy.specializerSpecs = this.specializerSpecs.map((s, i) => {
          let found = config.specializers.find((r) => r.from == s.external);
          if (!found)
            return s;
          let spec = Object.assign(Object.assign({}, s), {external: found.to});
          copy.specializers[i] = getSpecializer(spec);
          return spec;
        });
      }
      if (config.contextTracker)
        copy.context = config.contextTracker;
      if (config.dialect)
        copy.dialect = this.parseDialect(config.dialect);
      if (config.strict != null)
        copy.strict = config.strict;
      if (config.wrap)
        copy.wrappers = copy.wrappers.concat(config.wrap);
      if (config.bufferLength != null)
        copy.bufferLength = config.bufferLength;
      return copy;
    }
    hasWrappers() {
      return this.wrappers.length > 0;
    }
    getName(term) {
      return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);
    }
    get eofTerm() {
      return this.maxNode + 1;
    }
    get topNode() {
      return this.nodeSet.types[this.top[1]];
    }
    dynamicPrecedence(term) {
      let prec2 = this.dynamicPrecedences;
      return prec2 == null ? 0 : prec2[term] || 0;
    }
    parseDialect(dialect2) {
      let values2 = Object.keys(this.dialects), flags = values2.map(() => false);
      if (dialect2)
        for (let part of dialect2.split(" ")) {
          let id2 = values2.indexOf(part);
          if (id2 >= 0)
            flags[id2] = true;
        }
      let disabled = null;
      for (let i = 0; i < values2.length; i++)
        if (!flags[i]) {
          for (let j = this.dialects[values2[i]], id2; (id2 = this.data[j++]) != 65535; )
            (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id2] = 1;
        }
      return new Dialect(dialect2, flags, disabled);
    }
    static deserialize(spec) {
      return new LRParser(spec);
    }
  };
  function pair(data, off) {
    return data[off] | data[off + 1] << 16;
  }
  function findOffset(data, start, term) {
    for (let i = start, next; (next = data[i]) != 65535; i++)
      if (next == term)
        return i - start;
    return -1;
  }
  function findFinished(stacks) {
    let best = null;
    for (let stack of stacks) {
      let stopped = stack.p.stoppedAt;
      if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) && stack.p.parser.stateFlag(stack.state, 2) && (!best || best.score < stack.score))
        best = stack;
    }
    return best;
  }
  function getSpecializer(spec) {
    if (spec.external) {
      let mask = spec.extend ? 1 : 0;
      return (value, stack) => spec.external(value, stack) << 1 | mask;
    }
    return spec.get;
  }

  // node_modules/@lezer/php/dist/index.es.js
  var castOpen = 1;
  var HeredocString = 2;
  var interpolatedStringContent = 263;
  var EscapeSequence = 3;
  var afterInterpolation = 264;
  var automaticSemicolon = 265;
  var eof = 266;
  var abstract = 4;
  var and = 5;
  var array = 6;
  var as = 7;
  var Boolean = 8;
  var _break = 9;
  var _case = 10;
  var _catch = 11;
  var clone = 12;
  var _const = 13;
  var _continue = 14;
  var _default = 15;
  var declare = 16;
  var _do = 17;
  var echo = 18;
  var _else = 19;
  var elseif = 20;
  var enddeclare = 21;
  var endfor = 22;
  var endforeach = 23;
  var endif = 24;
  var endswitch = 25;
  var endwhile = 26;
  var _enum = 27;
  var _extends = 28;
  var final = 29;
  var _finally = 30;
  var fn = 31;
  var _for = 32;
  var foreach = 33;
  var from = 34;
  var _function = 35;
  var global = 36;
  var goto = 37;
  var _if = 38;
  var _implements = 39;
  var include = 40;
  var include_once = 41;
  var _instanceof = 42;
  var insteadof = 43;
  var _interface = 44;
  var list = 45;
  var match = 46;
  var namespace = 47;
  var _new = 48;
  var _null = 49;
  var or = 50;
  var print = 51;
  var require2 = 52;
  var require_once = 53;
  var _return = 54;
  var _switch = 55;
  var _throw = 56;
  var trait = 57;
  var _try = 58;
  var unset = 59;
  var use = 60;
  var _var = 61;
  var Visibility = 62;
  var _while = 63;
  var xor = 64;
  var _yield = 65;
  var keywordMap = {
    abstract,
    and,
    array,
    as,
    true: Boolean,
    false: Boolean,
    break: _break,
    case: _case,
    catch: _catch,
    clone,
    const: _const,
    continue: _continue,
    declare,
    default: _default,
    do: _do,
    echo,
    else: _else,
    elseif,
    enddeclare,
    endfor,
    endforeach,
    endif,
    endswitch,
    endwhile,
    enum: _enum,
    extends: _extends,
    final,
    finally: _finally,
    fn,
    for: _for,
    foreach,
    from,
    function: _function,
    global,
    goto,
    if: _if,
    implements: _implements,
    include,
    include_once,
    instanceof: _instanceof,
    insteadof,
    interface: _interface,
    list,
    match,
    namespace,
    new: _new,
    null: _null,
    or,
    print,
    require: require2,
    require_once,
    return: _return,
    switch: _switch,
    throw: _throw,
    trait,
    try: _try,
    unset,
    use,
    var: _var,
    public: Visibility,
    private: Visibility,
    protected: Visibility,
    while: _while,
    xor,
    yield: _yield,
    __proto__: null
  };
  function keywords(name2) {
    let found = keywordMap[name2.toLowerCase()];
    return found == null ? -1 : found;
  }
  function isSpace(ch) {
    return ch == 9 || ch == 10 || ch == 13 || ch == 32;
  }
  function isASCIILetter(ch) {
    return ch >= 97 && ch <= 122 || ch >= 65 && ch <= 90;
  }
  function isIdentifierStart(ch) {
    return ch == 95 || ch >= 128 || isASCIILetter(ch);
  }
  function isHex(ch) {
    return ch >= 48 && ch <= 55 || ch >= 97 && ch <= 102 || ch >= 65 && ch <= 70;
  }
  var castTypes = {
    int: true,
    integer: true,
    bool: true,
    boolean: true,
    float: true,
    double: true,
    real: true,
    string: true,
    array: true,
    object: true,
    unset: true,
    __proto__: null
  };
  var expression = new ExternalTokenizer((input) => {
    if (input.next == 40) {
      input.advance();
      let peek = 0;
      while (isSpace(input.peek(peek)))
        peek++;
      let name2 = "", next;
      while (isASCIILetter(next = input.peek(peek))) {
        name2 += String.fromCharCode(next);
        peek++;
      }
      while (isSpace(input.peek(peek)))
        peek++;
      if (input.peek(peek) == 41 && castTypes[name2.toLowerCase()])
        input.acceptToken(castOpen);
    } else if (input.next == 60 && input.peek(1) == 60 && input.peek(2) == 60) {
      for (let i = 0; i < 3; i++)
        input.advance();
      while (input.next == 32 || input.next == 9)
        input.advance();
      let quoted = input.next == 39;
      if (quoted)
        input.advance();
      if (!isIdentifierStart(input.next))
        return;
      let tag = String.fromCharCode(input.next);
      for (; ; ) {
        input.advance();
        if (!isIdentifierStart(input.next) && !(input.next >= 48 && input.next <= 55))
          break;
        tag += String.fromCharCode(input.next);
      }
      if (quoted) {
        if (input.next != 39)
          return;
        input.advance();
      }
      if (input.next != 10 && input.next != 13)
        return;
      for (; ; ) {
        let lineStart = input.next == 10 || input.next == 13;
        input.advance();
        if (input.next < 0)
          return;
        if (lineStart) {
          while (input.next == 32 || input.next == 9)
            input.advance();
          let match2 = true;
          for (let i = 0; i < tag.length; i++) {
            if (input.next != tag.charCodeAt(i)) {
              match2 = false;
              break;
            }
            input.advance();
          }
          if (match2)
            return input.acceptToken(HeredocString);
        }
      }
    }
  });
  var eofToken = new ExternalTokenizer((input) => {
    if (input.next < 0)
      input.acceptToken(eof);
  });
  var semicolon = new ExternalTokenizer((input, stack) => {
    if (input.next == 63 && stack.canShift(automaticSemicolon) && input.peek(1) == 62)
      input.acceptToken(automaticSemicolon);
  });
  function scanEscape(input) {
    let after = input.peek(1);
    if (after == 110 || after == 114 || after == 116 || after == 118 || after == 101 || after == 102 || after == 92 || after == 36 || after == 34 || after == 123)
      return 2;
    if (after >= 48 && after <= 55) {
      let size = 2, next;
      while (size < 5 && (next = input.peek(size)) >= 48 && next <= 55)
        size++;
      return size;
    }
    if (after == 120 && isHex(input.peek(2))) {
      return isHex(input.peek(3)) ? 4 : 3;
    }
    if (after == 117 && input.peek(2) == 123) {
      for (let size = 3; ; size++) {
        let next = input.peek(size);
        if (next == 125)
          return size == 2 ? 0 : size + 1;
        if (!isHex(next))
          break;
      }
    }
    return 0;
  }
  var interpolated = new ExternalTokenizer((input, stack) => {
    let content2 = false;
    for (; ; content2 = true) {
      if (input.next == 34 || input.next < 0 || input.next == 36 && (isIdentifierStart(input.peek(1)) || input.peek(1) == 123) || input.next == 123 && input.peek(1) == 36) {
        break;
      } else if (input.next == 92) {
        let escaped = scanEscape(input);
        if (escaped) {
          if (content2)
            break;
          else
            return input.acceptToken(EscapeSequence, escaped);
        }
      } else if (!content2 && (input.next == 91 || input.next == 45 && input.peek(1) == 62 && isIdentifierStart(input.peek(2)) || input.next == 63 && input.peek(1) == 45 && input.peek(2) == 62 && isIdentifierStart(input.peek(3))) && stack.canShift(afterInterpolation)) {
        break;
      }
      input.advance();
    }
    if (content2)
      input.acceptToken(interpolatedStringContent);
  });
  var phpHighlighting = styleTags({
    "Visibility abstract final static": tags.modifier,
    "for foreach while do if else elseif switch try catch finally return throw break continue default case": tags.controlKeyword,
    "endif endfor endforeach endswitch endwhile declare enddeclare goto match": tags.controlKeyword,
    "and or xor yield unset clone instanceof insteadof": tags.operatorKeyword,
    "function fn class trait implements extends const enum global interface use var": tags.definitionKeyword,
    "include include_once require require_once namespace": tags.moduleKeyword,
    "new from echo print array list as": tags.keyword,
    null: tags.null,
    Boolean: tags.bool,
    VariableName: tags.variableName,
    "NamespaceName/...": tags.namespace,
    "NamedType/...": tags.typeName,
    Name: tags.name,
    "CallExpression/Name": tags.function(tags.variableName),
    "LabelStatement/Name": tags.labelName,
    "MemberExpression/Name": tags.propertyName,
    "MemberExpression/VariableName": tags.special(tags.propertyName),
    "ScopedExpression/ClassMemberName/Name": tags.propertyName,
    "ScopedExpression/ClassMemberName/VariableName": tags.special(tags.propertyName),
    "CallExpression/MemberExpression/Name": tags.function(tags.propertyName),
    "CallExpression/ScopedExpression/ClassMemberName/Name": tags.function(tags.propertyName),
    "MethodDeclaration/Name": tags.function(tags.definition(tags.variableName)),
    "FunctionDefinition/Name": tags.function(tags.definition(tags.variableName)),
    "ClassDeclaration/Name": tags.definition(tags.className),
    UpdateOp: tags.updateOperator,
    ArithOp: tags.arithmeticOperator,
    LogicOp: tags.logicOperator,
    BitOp: tags.bitwiseOperator,
    CompareOp: tags.compareOperator,
    ControlOp: tags.controlOperator,
    AssignOp: tags.definitionOperator,
    "$ ConcatOp": tags.operator,
    LineComment: tags.lineComment,
    BlockComment: tags.blockComment,
    Integer: tags.integer,
    Float: tags.float,
    String: tags.string,
    ShellExpression: tags.special(tags.string),
    "=> ->": tags.punctuation,
    "( )": tags.paren,
    "#[ [ ]": tags.squareBracket,
    "${ { }": tags.brace,
    "-> ?->": tags.derefOperator,
    ", ; :: : \\": tags.separator,
    "PhpOpen PhpClose": tags.processingInstruction
  });
  var spec_Name = {__proto__: null, static: 311, STATIC: 311, class: 333, CLASS: 333};
  var parser = LRParser.deserialize({
    version: 14,
    states: "$GSQ`OWOOQhQaOOP%oO`OOOOO#t'#H_'#H_O%tO#|O'#DtOOO#u'#Dw'#DwQ&SOWO'#DwO&XO$VOOOOQ#u'#Dx'#DxO&lQaO'#D|O(mQdO'#E}O(tQdO'#EQO*kQaO'#EWO,zQ`O'#ETO-PQ`O'#E^O/nQaO'#E^O/uQ`O'#EfO/zQ`O'#EoO*kQaO'#EoO0VQ`O'#HhO0[Q`O'#E{O0[Q`O'#E{OOQS'#Ic'#IcO0aQ`O'#EvOOQS'#IZ'#IZO2oQdO'#IWO6tQeO'#FUO*kQaO'#FeO*kQaO'#FfO*kQaO'#FgO*kQaO'#FhO*kQaO'#FhO*kQaO'#FkOOQO'#Id'#IdO7RQ`O'#FqOOQO'#Hi'#HiO7ZQ`O'#HOO7uQ`O'#FlO8QQ`O'#H]O8]Q`O'#FvO8eQaO'#FwO*kQaO'#GVO*kQaO'#GYO8}OrO'#G]OOQS'#Iq'#IqOOQS'#Ip'#IpOOQS'#IW'#IWO,zQ`O'#GdO,zQ`O'#GfO,zQ`O'#GkOhQaO'#GmO9UQ`O'#GnO9ZQ`O'#GqO9`Q`O'#GtO9eQeO'#GuO9eQeO'#GvO9eQeO'#GwO9oQ`O'#GxO9tQ`O'#GzO9yQaO'#G{O<YQ`O'#G|O<_Q`O'#G}O<dQ`O'#G}O9oQ`O'#HOO<iQ`O'#HQO<nQ`O'#HRO<sQ`O'#HSO<xQ`O'#HVO=TQ`O'#HWO9yQaO'#H[OOQ#u'#IV'#IVOOQ#u'#Ha'#HaQhQaOOO=fQ`O'#HPO7pQ`O'#HPO=kO#|O'#DrPOOO)CCw)CCwOOO#t-E;]-E;]OOO#u,5:c,5:cOOO#u'#H`'#H`O&XO$VOOO=vQ$VO'#IUOOOO'#IU'#IUQOOOOOOOQ#y,5:h,5:hO=}QaO,5:hOOQ#u,5:j,5:jO@eQaO,5:mO@lQaO,5;UO*kQaO,5;UO@sQ`O,5;VOCbQaO'#EsOOQS,5;^,5;^OCiQ`O,5;jOOQP'#F]'#F]O*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qO*kQaO,5;qOOQ#u'#Im'#ImOOQS,5<q,5<qOOQ#u,5:l,5:lOEbQ`O,5:rOEiQdO'#E}OF]Q`O'#FlOFeQ`O'#FlOFmQ`O,5:oOFrQaO'#E_OOQS,5:x,5:xOHyQ`O'#I]O9yQaO'#EaO9yQaO'#I]OOQS'#I]'#I]OIQQ`O'#I[OIYQ`O,5:xO-UQaO,5:xOI_QaO'#EgOOQS,5;Q,5;QOOQS,5;Z,5;ZOIiQ`O,5;ZOOQO,5>S,5>SOJ[QdO,5;gOOQO-E;f-E;fOL^Q`O,5;gOLcQpO,5;bO0aQ`O'#EyOLkQtO'#E}OOQS'#Ez'#EzOOQS'#Ib'#IbOM`QaO,5:wO*kQaO,5;nOOQS,5;p,5;pO*kQaO,5;pOMgQdO,5<POMwQdO,5<QONXQdO,5<RONiQdO,5<SO!!sQdO,5<SO!!zQdO,5<VO!#[Q`O'#FrO!#gQ`O'#IgO!#oQ`O,5<]OOQO-E;g-E;gO!#tQ`O'#IoO<_Q`O,5=iO!#|Q`O,5=iO9oQ`O,5=jO!$RQ`O,5=nO!$WQ`O,5=kO!$]Q`O,5=kO!$bQ`O'#FnO!$xQ`O,5<WO!%TQ`O,5<WO!%WQ`O,5?ZO!%]Q`O,5<WO!%eQ`O,5<bO!%mQdO'#GPO!%{QdO'#InO!&WQdO,5=wO!&`Q`O,5<bO!%WQ`O,5<bO!&hQdO,5<cO!&xQ`O,5<cO!'lQdO,5<qO!)nQdO,5<tO!*OOrO'#HsOOOQ'#It'#ItO*kQaO'#GbOOOQ'#Hs'#HsO!*pOrO,5<wOOQS,5<w,5<wO!*wQaO,5=OO!+OQ`O,5=QO!+WQeO,5=VO!+bQ`O,5=XO!+gQaO'#GoO!+WQeO,5=YO9yQaO'#GrO!+WQeO,5=]O!&WQdO,5=`O(tQdO,5=aOOQ#u,5=a,5=aO(tQdO,5=bOOQ#u,5=b,5=bO(tQdO,5=cOOQ#u,5=c,5=cO!+nQ`O,5=dO!+vQ`O,5=fO!+{QdO'#IvOOQS'#Iv'#IvO!&WQdO,5=gO>UQaO,5=hO!-eQ`O'#F}O!-jQdO'#IlO!&WQdO,5=iOOQ#u,5=j,5=jO!-uQ`O,5=lO!-xQ`O,5=mO!-}Q`O,5=nO!.YQdO,5=qOOQ#u,5=q,5=qO!.eQ`O,5=rO!.eQ`O,5=rO!.mQdO'#IwO!.{Q`O'#HXO!&WQdO,5=rO!/ZQ`O,5=rO!/fQdO'#IYO!&WQdO,5=vOOQ#u-E;_-E;_O!1RQ`O,5=kOOO#u,5:^,5:^O!1^O#|O,5:^OOO#u-E;^-E;^OOOO,5>p,5>pOOQ#y1G0S1G0SO!1fQ`O1G0XO*kQaO1G0XO!2xQ`O1G0pOOQS1G0p1G0pO!4[Q`O1G0pOOQS'#I_'#I_O*kQaO'#I_OOQS1G0q1G0qO!4cQ`O'#IaO!7lQ`O'#E}O!7yQaO'#EuOOQO'#Ia'#IaO!8TQ`O'#I`O!8]Q`O,5;_OOQS'#FQ'#FQOOQS1G1U1G1UO!8bQdO1G1]O!:dQdO1G1]O!<PQdO1G1]O!=lQdO1G1]O!?XQdO1G1]O!@tQdO1G1]O!BaQdO1G1]O!C|QdO1G1]O!EiQdO1G1]O!GUQdO1G1]O!HqQdO1G1]O!J^QdO1G1]O!KyQdO1G1]O!MfQdO1G1]O# RQdO1G1]O#!nQdO1G1]OOQT1G0^1G0^O!%WQ`O,5<WO#$ZQaO'#EXOOQS1G0Z1G0ZO#$bQ`O,5:yOFuQaO,5:yO#$gQaO,5:}O#$nQdO,5:{O#&jQdO,5>wO#(fQaO'#HdO#(vQ`O,5>vOOQS1G0d1G0dO#)OQ`O1G0dO#)TQ`O'#I^O#*mQ`O'#I^O#*uQ`O,5;ROIbQaO,5;ROOQS1G0u1G0uPOQO'#E}'#E}O#+fQdO1G1RO0aQ`O'#HgO#-hQtO,5;cO#.YQaO1G0|OOQS,5;e,5;eO#0iQtO,5;gO#0vQdO1G0cO*kQaO1G0cO#2cQdO1G1YO#4OQdO1G1[OOQO,5<^,5<^O#4`Q`O'#HjO#4nQ`O,5?ROOQO1G1w1G1wO#4vQ`O,5?ZO!&WQdO1G3TO<_Q`O1G3TOOQ#u1G3U1G3UO#4{Q`O1G3YO!1RQ`O1G3VO#5WQ`O1G3VO#5]QpO'#FoO#5kQ`O'#FoO#5{Q`O'#FoO#6WQ`O'#FoO#6`Q`O'#FsO#6eQ`O'#FtOOQO'#If'#IfO#6lQ`O'#IeO#6tQ`O,5<YOOQS1G1r1G1rO0aQ`O1G1rO#6yQ`O1G1rO#7OQ`O1G1rO!%WQ`O1G4uO#7ZQdO1G4uO!%WQ`O1G1rO#7iQ`O1G1|O!%WQ`O1G1|O9yQaO,5<kO#7qQdO'#HqO#8PQdO,5?YOOQ#u1G3c1G3cO*kQaO1G1|O0aQ`O1G1|O#8[QdO1G1}O7RQ`O'#FyO7RQ`O'#FzO#:nQ`O'#F{OOQS1G1}1G1}O!-xQ`O1G1}O!1UQ`O1G1}O!1RQ`O1G1}O#;eO`O,5<xO#;jO`O,5<xO#;uO!bO,5<yO#<TQ`O,5<|OOOQ-E;q-E;qOOQS1G2c1G2cO#<[QaO'#GeO#<uQ$VO1G2jO#AuQ`O1G2jO#BQQ`O'#GgO#B]Q`O'#GjOOQ#u1G2l1G2lO#BhQ`O1G2lOOQ#u'#Gl'#GlOOQ#u'#Iu'#IuOOQ#u1G2q1G2qO#BmQ`O1G2qO,zQ`O1G2sO#BrQaO,5=ZO#ByQ`O,5=ZOOQ#u1G2t1G2tO#COQ`O1G2tO#CTQ`O,5=^OOQ#u1G2w1G2wO#DgQ`O1G2wOOQ#u1G2z1G2zOOQ#u1G2{1G2{OOQ#u1G2|1G2|OOQ#u1G2}1G2}O#DlQ`O'#HxO9oQ`O'#HxO#DqQ$VO1G3OO#IwQ`O1G3QO9yQaO'#HwO#I|QdO,5=[OOQ#u1G3R1G3RO#JXQ`O1G3SO9yQaO,5<iO#J^QdO'#HpO#JlQdO,5?WOOQ#u1G3T1G3TOOQ#u1G3W1G3WO!-xQ`O1G3WOOQ#u1G3X1G3XO#KfQ`O'#HTOOQ#u1G3Y1G3YO#KmQ`O1G3YO0aQ`O1G3YOOQ#u1G3]1G3]O!&WQdO1G3^O#KrQ`O1G3^O#KzQdO'#HzO#L]QdO,5?cO#LhQ`O,5?cO#LmQ`O'#HYO7RQ`O'#HYO#LxQ`O'#IxO#MQQ`O,5=sOOQ#u1G3^1G3^O!.eQ`O1G3^O!.eQ`O1G3^O#MVQeO'#HbO#MgQdO,5>tOOQ#u1G3b1G3bOOQ#u1G3V1G3VO!-xQ`O1G3VO!1UQ`O1G3VOOO#u1G/x1G/xO*kQaO7+%sO#MuQdO7+%sOOQS7+&[7+&[O$ bQ`O,5>yO>UQaO,5;`O$ iQ`O,5;aO$#OQaO'#HfO$#YQ`O,5>zOOQS1G0y1G0yO$#bQ`O'#EYO$#gQ`O'#IXO$#oQ`O,5:sOOQS1G0e1G0eO$#tQ`O1G0eO$#yQ`O1G0iO9yQaO1G0iOOQO,5>O,5>OOOQO-E;b-E;bOOQS7+&O7+&OO>UQaO,5;SO$%`QaO'#HeO$%jQ`O,5>xOOQS1G0m1G0mO$%rQ`O1G0mOOQS,5>R,5>ROOQS-E;e-E;eO$%wQdO7+&hO$'yQtO1G1RO$(WQdO7+%}OOQS1G0i1G0iOOQO,5>U,5>UOOQO-E;h-E;hOOQ#u7+(o7+(oO!&WQdO7+(oOOQ#u7+(t7+(tO#KmQ`O7+(tO0aQ`O7+(tOOQ#u7+(q7+(qO!-xQ`O7+(qO!1UQ`O7+(qO!1RQ`O7+(qO$)sQ`O,5<ZO$*OQ`O,5<ZO$*WQ`O,5<_O$*]QpO,5<ZO>UQaO,5<ZOOQO,5<_,5<_O$*kQpO,5<`O$*sQ`O,5<`O$+OQ`O'#HkO$+iQ`O,5?POOQS1G1t1G1tO$+qQpO7+'^O$+yQ`O'#FuO$,UQ`O7+'^OOQS7+'^7+'^O0aQ`O7+'^O#6yQ`O7+'^O$,^QdO7+*aO0aQ`O7+*aO$,lQ`O7+'^O*kQaO7+'hO0aQ`O7+'hO$,wQ`O7+'hO$-PQdO1G2VOOQS,5>],5>]OOQS-E;o-E;oO$.iQdO7+'hO$.yQpO7+'hO$/RQdO'#IiOOQO,5<e,5<eOOQO,5<f,5<fO$/dQpO'#GOO$/lQ`O'#GOOOQO'#Ik'#IkOOQO'#Ho'#HoO$0]Q`O'#GOO<_Q`O'#F|O!&WQdO'#GOO!.YQdO'#GQO7RQ`O'#GROOQO'#Ij'#IjOOQO'#Hn'#HnO$0yQ`O,5<gOOQ#y,5<g,5<gOOQS7+'i7+'iO!-xQ`O7+'iO!1UQ`O7+'iOOOQ1G2d1G2dO$1pO`O1G2dO$1uO!bO1G2eO$2TO`O'#G`O$2YO`O1G2eOOOQ1G2h1G2hO$2_QaO,5=PO,zQ`O'#HtO$2xQ$VO7+(UOhQaO7+(UO,zQ`O'#HuO$7xQ`O7+(UO!&WQdO7+(UO$8TQ`O7+(UO$8YQaO'#GhO$:iQ`O'#GiOOQO'#Hv'#HvO$:qQ`O,5=ROOQ#u,5=R,5=RO$:|Q`O,5=UO!&WQdO7+(WO!&WQdO7+(]O!&WQdO7+(_O$;XQaO1G2uO$;`Q`O1G2uO$;eQaO1G2uO!&WQdO7+(`O9yQaO1G2xO!&WQdO7+(cO0aQ`O'#GyO9oQ`O,5>dOOQ#u,5>d,5>dOOQ#u-E;v-E;vO$;lQaO7+(lO$<TQdO,5>cOOQS-E;u-E;uO!&WQdO7+(nO$=mQdO1G2TOOQS,5>[,5>[OOQS-E;n-E;nOOQ#u7+(r7+(rO$?nQ`O'#GQO$?uQ`O'#GQO$@ZQ`O'#HUOOQO'#Hy'#HyO$@`Q`O,5=oOOQ#u,5=o,5=oO$@gQpO7+(tOOQ#u7+(x7+(xO!&WQdO7+(xO$@rQdO,5>fOOQS-E;x-E;xO$AQQdO1G4}O$A]Q`O,5=tO$AbQ`O,5=tO$AmQ`O'#H{O$BRQ`O,5?dOOQS1G3_1G3_O#KrQ`O7+(xO$BZQdO,5=|OOQS-E;`-E;`O$CvQdO<<I_OOQS1G4e1G4eO$EcQ`O1G0zOOQO,5>Q,5>QOOQO-E;d-E;dO$8YQaO,5:tO$FxQaO'#HcO$GVQ`O,5>sOOQS1G0_1G0_OOQS7+&P7+&PO$G_Q`O7+&TO$HtQ`O1G0nO$JZQ`O,5>POOQO,5>P,5>POOQO-E;c-E;cOOQS7+&X7+&XOOQS7+&T7+&TOOQ#u<<LZ<<LZOOQ#u<<L`<<L`O$@gQpO<<L`OOQ#u<<L]<<L]O!-xQ`O<<L]O!1UQ`O<<L]O>UQaO1G1uO$KsQ`O1G1uO$LOQ`O1G1yOOQO1G1y1G1yO$LTQ`O1G1uO$L]Q`O1G1uO$MrQ`O1G1zO>UQaO1G1zOOQO,5>V,5>VOOQO-E;i-E;iOOQS<<Jx<<JxO$M}Q`O'#IhO$NVQ`O'#IhO$N[Q`O,5<aO0aQ`O<<JxO$+qQpO<<JxO$NaQ`O<<JxO0aQ`O<<M{O$NiQtO<<M{O#6yQ`O<<JxO$NwQdO<<KSO% XQpO<<KSO*kQaO<<KSO0aQ`O<<KSO% aQdO'#HmO% xQdO,5?TO!&WQdO,5<jO$/dQpO,5<jO%!ZQ`O,5<jO<_Q`O,5<hO!.YQdO,5<lOOQO-E;m-E;mO!&WQdO,5<hOOQO,5<j,5<jOOQO,5<l,5<lO%!tQdO,5<mOOQO-E;l-E;lOOQ#y1G2R1G2ROOQS<<KT<<KTO!-xQ`O<<KTOOOQ7+(O7+(OO%#PO`O7+(POOOO,5<z,5<zOOOQ7+(P7+(POhQaO,5>`OOQ#u-E;r-E;rOhQaO<<KpOOQ#u<<Kp<<KpO$8TQ`O,5>aOOQO-E;s-E;sO!&WQdO<<KpO$8TQ`O<<KpO%#UQ`O<<KpO%#ZQ`O,5=SO%$pQaO,5=TOOQO-E;t-E;tOOQ#u1G2m1G2mOOQ#u<<Kr<<KrOOQ#u<<Kw<<KwOOQ#u<<Ky<<KyOOQT7+(a7+(aO%%QQ`O7+(aO%%VQaO7+(aO%%^Q`O7+(aOOQ#u<<Kz<<KzO%%cQ`O7+(dO%&xQ`O7+(dOOQ#u<<K}<<K}O%&}QpO,5=eOOQ#u1G4O1G4OO%'YQ`O<<LWOOQ#u<<LY<<LYO$?uQ`O,5<lO%'_Q`O,5=pO%'dQdO,5=pOOQO-E;w-E;wOOQ#u1G3Z1G3ZO#KmQ`O<<L`OOQ#u<<Ld<<LdO%'oQ`O1G4QO%'tQdO7+*iOOQO1G3`1G3`O%(PQ`O1G3`O%(UQ`O'#HZO7RQ`O'#HZOOQO,5>g,5>gOOQO-E;y-E;yO!&WQdO<<LdO%(aQ`O1G0`OOQO,5=},5=}OOQO-E;a-E;aO>UQaO,5;TOOQ#uANAzANAzO#KmQ`OANAzOOQ#uANAwANAwO!-xQ`OANAwO%)vQ`O7+'aO>UQaO7+'aOOQO7+'e7+'eO%+]Q`O7+'aO%+hQ`O7+'eO>UQaO7+'fO%+mQ`O7+'fO%-SQ`O'#HlO%-bQ`O,5?SO%-bQ`O,5?SOOQO1G1{1G1{O$+qQpOAN@dOOQSAN@dAN@dO0aQ`OAN@dO%-jQtOANCgO%-xQ`OAN@dO*kQaOAN@nO%.QQdOAN@nO%.bQpOAN@nOOQS,5>X,5>XOOQS-E;k-E;kOOQO1G2U1G2UO!&WQdO1G2UO$/dQpO1G2UO<_Q`O1G2SO!.YQdO1G2WO!&WQdO1G2SOOQO1G2W1G2WOOQO1G2S1G2SO%.jQaO'#GSOOQO1G2X1G2XOOQSAN@oAN@oOOOQ<<Kk<<KkOOQ#u1G3z1G3zOOQ#uANA[ANA[OOQO1G3{1G3{O%0iQ`OANA[O!&WQdOANA[O%0nQaO1G2nO%1OQaO1G2oOOQT<<K{<<K{O%1`Q`O<<K{O%1eQaO<<K{O*kQaO,5=_OOQT<<LO<<LOOOQO1G3P1G3PO%1lQ`O1G3PO!+WQeOANArO%1qQdO1G3[OOQO1G3[1G3[O%1|Q`O1G3[OOQS7+)l7+)lOOQO7+(z7+(zO%2UQ`O,5=uO%2ZQ`O,5=uOOQ#uANBOANBOO%2fQ`O1G0oOOQ#uG27fG27fOOQ#uG27cG27cO%3{Q`O<<J{O>UQaO<<J{OOQO<<KP<<KPO%5bQ`O<<KQOOQO,5>W,5>WO%6wQ`O,5>WOOQO-E;j-E;jO%6|Q`O1G4nOOQSG26OG26OO$+qQpOG26OO0aQ`OG26OO%7UQdOG26YO*kQaOG26YOOQO7+'p7+'pO!&WQdO7+'pO!&WQdO7+'nOOQO7+'r7+'rOOQO7+'n7+'nO%7fQ`OLD+tO%8uQ`O'#E}O%9PQ`O'#IZO!&WQdO'#HrO%:|QaO,5<nOOQO,5<n,5<nO!&WQdOG26vOOQ#uG26vG26vO%<{QaO7+(YOOQTANAgANAgO%=]Q`OANAgO%=bQ`O1G2yOOQO7+(k7+(kOOQ#uG27^G27^O%=iQ`OG27^OOQO7+(v7+(vO%=nQ`O7+(vO!&WQdO7+(vOOQO1G3a1G3aO%=vQ`O1G3aO%={Q`OAN@gOOQO1G3r1G3rOOQSLD+jLD+jO$+qQpOLD+jO%?bQdOLD+tOOQO<<K[<<K[OOQO<<KY<<KYO%?rQ`O,5<oO%?wQ`O,5<pOOQP,5>^,5>^OOQP-E;p-E;pOOQO1G2Y1G2YOOQ#uLD,bLD,bOOQTG27RG27RO!&WQdOLD,xO!&WQdO<<LbOOQO<<Lb<<LbOOQO7+({7+({OOQS!$( U!$( UOOQS1G2Z1G2ZOOQS1G2[1G2[O%@PQdO1G2[OOQ#u!$(!d!$(!dOOQOANA|ANA|OOQS7+'v7+'vO%@[Q`O'#E{O%@[Q`O'#E{O%@aQ`O,5;gO%@fQdO,5<cO%BbQaO,5:}O*kQaO1G0iO%BiQaO'#FwO#.YQaO'#GVO#.YQaO'#GYO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO#.YQaO,5;qO%BpQdO'#I]O%D`QdO'#I]O#.YQaO'#EaO#.YQaO'#I]O%FbQaO,5:wO#.YQaO,5;nO#.YQaO,5;pO%FiQdO,5<PO%HeQdO,5<QO%JaQdO,5<RO%L]QdO,5<SO%NXQdO,5<SO%NoQdO,5<VO&!kQdO,5<tO#.YQaO1G0XO&$gQdO1G1]O&&cQdO1G1]O&(_QdO1G1]O&*ZQdO1G1]O&,VQdO1G1]O&.RQdO1G1]O&/}QdO1G1]O&1yQdO1G1]O&3uQdO1G1]O&5qQdO1G1]O&7mQdO1G1]O&9iQdO1G1]O&;eQdO1G1]O&=aQdO1G1]O&?]QdO1G1]O&AXQdO,5:{O&CTQdO,5>wO&EPQdO1G0cO#.YQaO1G0cO&F{QdO1G1YO&HwQdO1G1[O#.YQaO1G1|O#.YQaO7+%sO&JsQdO7+%sO&LoQdO7+%}O#.YQaO7+'hO&NkQdO7+'hO'!gQdO<<I_O'$cQdO<<KSO#.YQaO<<KSO#.YQaOAN@nO'&_QdOAN@nO'(ZQdOG26YO#.YQaOG26YO'*VQdOLD+tO',RQaO,5:}O'.QQaO1G0iO'/|QdO'#IWO'0aQeO'#FUO'4aQeO'#FUO#.YQaO'#FeO'.QQaO'#FeO#.YQaO'#FfO'.QQaO'#FfO#.YQaO'#FgO'.QQaO'#FgO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FhO'.QQaO'#FhO#.YQaO'#FkO'.QQaO'#FkO'8gQaO,5:mO'8nQ`O,5<bO'8vQ`O1G0XO'.QQaO1G0|O':YQ`O1G1|O':bQ`O7+'hO':jQpO7+'hO':rQpO<<KSO':zQpOAN@nO';SQaO'#FwO'.QQaO'#GVO'.QQaO'#GYO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO,5;qO'.QQaO'#EaO'.QQaO'#I]O'=RQaO,5:wO'.QQaO,5;nO'.QQaO,5;pO'?QQdO,5<PO'ASQdO,5<QO'CUQdO,5<RO'EWQdO,5<SO'GYQdO,5<SO'GvQdO,5<VO'IxQdO,5<tO'.QQaO1G0XO'KzQdO1G1]O'M|QdO1G1]O(!OQdO1G1]O($QQdO1G1]O(&SQdO1G1]O((UQdO1G1]O(*WQdO1G1]O(,YQdO1G1]O(.[QdO1G1]O(0^QdO1G1]O(2`QdO1G1]O(4bQdO1G1]O(6dQdO1G1]O(8fQdO1G1]O(:hQdO1G1]O(<jQdO,5:{O(>lQdO,5>wO(@nQdO1G0cO'.QQaO1G0cO(BpQdO1G1YO(DrQdO1G1[O'.QQaO1G1|O'.QQaO7+%sO(FtQdO7+%sO(HvQdO7+%}O'.QQaO7+'hO(JxQdO7+'hO(LzQdO<<I_O(N|QdO<<KSO'.QQaO<<KSO'.QQaOAN@nO)#OQdOAN@nO)%QQdOG26YO'.QQaOG26YO)'SQdOLD+tO))UQaO,5:}O#.YQaO1G0iO))]Q`O'#FvO))eQpO,5;bO))mQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO))uQdO,5<cO)+wQdO'#I]O)-vQdO'#IWO).aQaO,5:mO).hQ`O,5<bO).pQ`O1G0XO)0SQ`O1G1|O)0[Q`O7+'hO)0dQpO7+'hO)0lQpO<<KSO)0tQpOAN@nO0aQ`O'#EvO9yQaO'#FeO9yQaO'#FfO9yQaO'#FgO9yQaO'#FhO9yQaO'#FhO9yQaO'#FkO)0|QaO'#FwO9yQaO'#GVO9yQaO'#GYO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO9yQaO,5;qO)1TQ`O'#FlO*kQaO'#EaO*kQaO'#I]O)1]QaO,5:wO9yQaO,5;nO9yQaO,5;pO)1dQdO,5<PO)3`QdO,5<QO)5[QdO,5<RO)7WQdO,5<SO)9SQdO,5<SO)9jQdO,5<VO);fQdO,5<cO)=bQdO,5<tO)?^Q`O'#IvO)@sQ`O'#IYO9yQaO1G0XO)BYQdO1G1]O)DUQdO1G1]O)FQQdO1G1]O)G|QdO1G1]O)IxQdO1G1]O)KtQdO1G1]O)MpQdO1G1]O* lQdO1G1]O*#hQdO1G1]O*%dQdO1G1]O*'`QdO1G1]O*)[QdO1G1]O*+WQdO1G1]O*-SQdO1G1]O*/OQdO1G1]O*0zQaO,5:}O*1RQdO,5:{O*1cQdO,5>wO*1sQaO'#HdO*2TQ`O,5>vO*2]QdO1G0cO9yQaO1G0cO*4XQdO1G1YO*6TQdO1G1[O9yQaO1G1|O>UQaO'#HwO*8PQ`O,5=[O*8XQaO'#HbO*8cQ`O,5>tO9yQaO7+%sO*8kQdO7+%sO*:gQ`O1G0iO>UQaO1G0iO*;|QdO7+%}O9yQaO7+'hO*=xQdO7+'hO*?tQ`O,5>cO*AZQ`O,5=|O*BpQdO<<I_O*DlQ`O7+&TO*FRQdO<<KSO9yQaO<<KSO9yQaOAN@nO*G}QdOAN@nO*IyQdOG26YO9yQaOG26YO*KuQdOLD+tO*MqQaO,5:}O9yQaO1G0iO*MxQdO'#I]O*NcQ`O'#FvO*NkQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO*NsQdO'#IWO+ ^QeO'#FUO+ zQaO'#FUO+#sQaO'#FUO+%`QaO'#FUO>UQaO'#FeO>UQaO'#FfO>UQaO'#FgO>UQaO'#FhO>UQaO'#FhO>UQaO'#FkO+'XQaO'#FwO>UQaO'#GVO>UQaO'#GYO+'`QaO,5:mO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO>UQaO,5;qO+'gQ`O'#I]O$8YQaO'#EaO+)PQaOG26YO$8YQaO'#I]O+*{Q`O'#I[O++TQaO,5:wO>UQaO,5;nO>UQaO,5;pO++[Q`O,5<PO+,wQ`O,5<QO+.dQ`O,5<RO+0PQ`O,5<SO+1lQ`O,5<SO+3XQ`O,5<VO+4tQ`O,5<bO+4|Q`O,5<cO+6iQ`O,5<tO+8UQ`O1G0XO>UQaO1G0XO+9hQ`O1G1]O+;TQ`O1G1]O+<pQ`O1G1]O+>]Q`O1G1]O+?xQ`O1G1]O+AeQ`O1G1]O+CQQ`O1G1]O+DmQ`O1G1]O+FYQ`O1G1]O+GuQ`O1G1]O+IbQ`O1G1]O+J}Q`O1G1]O+LjQ`O1G1]O+NVQ`O1G1]O, rQ`O1G1]O,#_Q`O1G0cO>UQaO1G0cO,$zQ`O1G1YO,&gQ`O1G1[O,(SQ`O1G1|O>UQaO1G1|O>UQaO7+%sO,([Q`O7+%sO,)wQ`O7+%}O>UQaO7+'hO,+dQ`O7+'hO,+lQ`O7+'hO,-XQpO7+'hO,-aQ`O<<I_O,.|Q`O<<KSO,0iQpO<<KSO>UQaO<<KSO>UQaOAN@nO,0qQ`OAN@nO,2^QpOAN@nO,2fQ`OG26YO>UQaOG26YO,4RQ`OLD+tO,5nQaO,5:}O>UQaO1G0iO,5uQ`O'#I]O$8YQaO'#FeO$8YQaO'#FfO$8YQaO'#FgO$8YQaO'#FhO$8YQaO'#FhO+)PQaO'#FhO$8YQaO'#FkO,6SQaO'#FwO,6ZQaO'#FwO$8YQaO'#GVO+)PQaO'#GVO$8YQaO'#GYO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO$8YQaO,5;qO+)PQaO,5;qO,8YQ`O'#FlO>UQaO'#EaO>UQaO'#I]O,8bQaO,5:wO,8iQaO,5:wO$8YQaO,5;nO+)PQaO,5;nO$8YQaO,5;pO,:hQ`O,5<PO,<TQ`O,5<QO,=pQ`O,5<RO,?]Q`O,5<SO,@xQ`O,5<SO,BeQ`O,5<SO,CtQ`O,5<VO,EaQ`O,5<cO%7fQ`O,5<cO,F|Q`O,5<tO$8YQaO1G0XO+)PQaO1G0XO,HiQ`O1G1]O,JUQ`O1G1]O,KeQ`O1G1]O,MQQ`O1G1]O,NaQ`O1G1]O- |Q`O1G1]O-#]Q`O1G1]O-$xQ`O1G1]O-&XQ`O1G1]O-'tQ`O1G1]O-)TQ`O1G1]O-*pQ`O1G1]O-,PQ`O1G1]O--lQ`O1G1]O-.{Q`O1G1]O-0hQ`O1G1]O-1wQ`O1G1]O-3dQ`O1G1]O-4sQ`O1G1]O-6`Q`O1G1]O-7oQ`O1G1]O-9[Q`O1G1]O-:kQ`O1G1]O-<WQ`O1G1]O-=gQ`O1G1]O-?SQ`O1G1]O-@cQ`O1G1]O-BOQ`O1G1]O-C_Q`O1G1]O-DzQ`O1G1]O-FZQ`O,5:{O-GvQ`O,5>wO-IcQ`O1G0cO-KOQ`O1G0cO$8YQaO1G0cO+)PQaO1G0cO-L_Q`O1G1YO-MzQ`O1G1YO. ZQ`O1G1[O$8YQaO1G1|O$8YQaO7+%sO+)PQaO7+%sO.!vQ`O7+%sO.$cQ`O7+%sO.%rQ`O7+%}O.'_Q`O7+%}O$8YQaO7+'hO.(nQ`O7+'hO.*ZQ`O<<I_O.+vQ`O<<I_O.-VQ`O<<KSO$8YQaO<<KSO$8YQaOAN@nO..rQ`OAN@nO.0_Q`OG26YO$8YQaOG26YO.1zQ`OLD+tO.3gQaO,5:}O.3nQaO,5:}O$8YQaO1G0iO+)PQaO1G0iO.5mQ`O'#I]O.7PQ`O'#I]O.:fQ`O'#IWO.:vQ`O'#FvO.;OQaO,5:mO.;VQ`O,5<bO.;_Q`O,5<bO!%WQ`O,5<bO.;gQ`O1G0XO.<yQ`O,5:{O.>fQ`O,5>wO.@RQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO.@ZQ`O7+'hO.@cQpO7+'hO.@kQpO<<KSO0aQ`O<<KSO.@sQpOAN@nO.@{Q`O'#IWO.A]Q`O'#IWO.CSQaO,5:mO.CZQaO,5:mO.CbQ`O,5<bO.CjQ`O7+'hO.CrQ`O1G0XO.EUQ`O1G0XO.FhQ`O1G1|O.FpQ`O7+'hO.FxQpO7+'hO.GQQpOAN@nO.GYQpO<<KSO.GbQpOAN@nO.GjQ`O'#FvO.GrQ`O'#FlO.GzQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O0aQ`O1G1|O0aQ`O7+'hO0aQ`O<<KSO.HSQ`O'#FvO.H[Q`O,5<bO.HdQ`O,5<bO!%WQ`O,5<bO!%WQ`O1G1|O!%WQ`O1G1|O0aQ`O1G1|O0aQ`O<<KSO0aQ`O7+'hO0aQ`O<<KSO.HlQ`O'#FlO.HtQ`O'#FlO.H|Q`O'#Fl",
    stateData: ".Ic~O!dOS!eOS&vOS!gQQ~O!iTO&wRO~OPgOQ|OS!lOU^OW}OX!XO[mO]!_O^!WO`![Oa!SOb!]Ok!dOm!lOowOp!TOq!UOsuOt!gOu!VOv!POxkOykO|!bO}`O!O]O!P!eO!QxO!R}O!TpO!UlO!VlO!W!YO!X!QO!YzO!Z!cO![!ZO!]!^O!^!fO!`!`O!a!RO!cjO!mWO!oXO!sYO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$drO$l!kO$zyO${!OO$}}O%O}O%V|O'g{O~O!g!mO~O&wRO!i!hX&p!hX&t!hX~O!i!pO~O!d!qO!e!qO!g!mO&t!tO&v!qO~PhO!n!vO~PhOT'VXz'VX!S'VX!b'VX!m'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX&s'VX~O!q!xO~P&sOT#TOz#RO!S#UO!b#VO!m#cO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO&s#cO~OPgOQ|OU^OW}O[mOowOs#hOxkOykO}`O!O]O!QxO!R}O!TpO!UlO!VlO!YzO!cjO!s#gO!y[O#W_O#bhO#daO#ebO#peO$ToO$]nO$^oO$aqO$zyO${!OO$}}O%O}O%V|O'g{O~O!y[O~O!y#kO~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#S#oO#U#nO#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O#X'OP~O!}#sO~P-UO!y#tO~O#b#vO#daO#ebO~O#p#xO~O!s#yO~OU$PO!R$PO!s$OO!v#}O#p2XO~OT&zXz&zX!S&zX!b&zX!m&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX&s&zX!x&zX!n&zX~O#u$RO#w$SO~P0rOP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{OT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX~Or$UO#S6yO#U6xO~P2yO!s#gO#peO~OS$gO]$bOk$eOm$gOs$aO!`$cO$drO$l$fO~O!s$kO!y$hO#S$jO~Oo$mOs$lO#b$nO~O!y$hO#S$rO~O$l$tO~P*kOR$zO!o$yO#b$xO#e$yO&q$zO~O'f$|O~P8lO!y%RO~O!y%TO~O!s%VO~O!m#cO&s#cO~P*kO!oXO~O!y%_O~OP6]OQ|OU^OW}O[6`Oo=YOs#hOx6^Oy6^O}`O!O]O!Q6dO!R}O!T6cO!U6_O!V6_O!Y6fO!c8fO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T6bO$]6aO$^6bO$aqO$z6eO${!OO$}}O%O}O%V|O'g{O~O!y%cO~O!s%dO~O]$bO~O!s%hO~O!s%iO~O!s%jO~O!oXO!s#gO#peO~O]%rOs%rO!o%pO!s#gO#p%nO~O!s%vO~O!i%wO&t%wO&wRO~O&t%zO~PhO!n%{O~PhOPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!q%}O~P>UO#X&PO~P>UO!o&SO!s&RO#b&RO~OPgOQ|OU^OW}O[8lOo=yOs#hOx8jOy8jO}`O!O]O!Q8pO!R}O!T8oO!U8kO!V8kO!Y8rO!c8iO!s&VO!y[O#U&WO#W_O#bhO#daO#ebO#peO$T8nO$]8mO$^8nO$aqO$z8qO${!OO$}}O%O}O%V|O'g{O~O!x'SP~PAOO!s&[O#b&[O~OT#TOz#RO!S#UO!b#VO!o!{O!v!yO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO~O!x&nO~PCqO!x'VX!}'VX#O'VX#X'VX!n'VXV'VX!q'VX#u'VX#w'VXw'VX~P&sO!y$hO#S&oO~Oo$mOs$lO~O!o&pO~O!}&sO#S;dO#U;cO!x'OP~P9yOT6iOz6gO!S6jO!b6kO!o!{O!v8sO!y!}O#S#QO#W!zO#`!|O#a!|O#s#PO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'PX#X'PX~O#O&tO~PGSO!}&wO#X'OX~O#X&yO~O!}'OO!x'QP~P9yO!n'PO~PCqO!m#oa!o#oa#S#oa#p#qX&s#oa!x#oa#O#oaw#oa~OT#oaz#oa!S#oa!b#oa!v#oa!y#oa#W#oa#`#oa#a#oa#s#oa#z#oa#{#oa#|#oa#}#oa$O#oa$Q#oa$R#oa$S#oa$T#oa$U#oa$V#oa$W#oa$z#oa!}#oa#X#oa!n#oaV#oa!q#oa#u#oa#w#oa~PIpO!s'RO~O!x'UO#l'SO~O!x'VX#l'VX#p#qX#S'VX#U'VX#b'VX!o'VX#O'VXw'VX!m'VX&s'VX~O#S'YO~P*kO!m$Xa&s$Xa!x$Xa!n$Xa~PCqO!m$Ya&s$Ya!x$Ya!n$Ya~PCqO!m$Za&s$Za!x$Za!n$Za~PCqO!m$[a&s$[a!x$[a!n$[a~PCqO!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO$z#dOT$[a!S$[a!b$[a!m$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a&s$[a!x$[a!n$[a~Oz#RO~PNyO!m$_a&s$_a!x$_a!n$_a~PCqO!y!}O!}$fX#X$fX~O!}'^O#X'ZX~O#X'`O~O!s$kO#S'aO~O]'cO~O!s'eO~O!s'fO~O$l'gO~O!`'mO#S'kO#U'lO#b'jO$drO!x'XP~P0aO!^'sO!oXO!q'rO~O!s'uO!y$hO~O!y$hO#S'wO~O!y$hO#S'yO~O#u'zO!m$sX!}$sX&s$sX~O!}'{O!m'bX&s'bX~O!m#cO&s#cO~O!q(PO#O(OO~O!m$ka&s$ka!x$ka!n$ka~PCqOl(ROw(SO!o(TO!y!}O~O!o!{O!y!}O#W!zO#`!|O#a!|O#s#PO~OT$yaz$ya!S$ya!b$ya!m$ya!v$ya#S$ya#z$ya#{$ya#|$ya#}$ya$O$ya$Q$ya$R$ya$S$ya$T$ya$U$ya$V$ya$W$ya$z$ya&s$ya!x$ya!}$ya#O$ya#X$ya!n$ya!q$yaV$ya#u$ya#w$ya~P!'WO!m$|a&s$|a!x$|a!n$|a~PCqO#W([O#`(YO#a(YO&r(ZOR&gX!o&gX#b&gX#e&gX&q&gX'f&gX~O'f(_O~P8lO!q(`O~PhO!o(cO!q(dO~O!q(`O&s(gO~PhO!a(kO~O!m(lO~P9yOZ(wOn(xO~O!s(zO~OT6iOz6gO!S6jO!b6kO!v8sO!}({O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'jX&s'jX~P!'WO#u)PO~O!})QO!m'`X&s'`X~Ol(RO!o(TO~Ow(SO!o)WO!q)ZO~O!m#cO!oXO&s#cO~O!o%pO!s#yO~OV)aO!})_O!m'kX&s'kX~O])cOs)cO!s#gO#peO~O!o%pO!s#gO#p)hO~OT6iOz6gO!S6jO!b6kO!v8sO!})iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&|X&s&|X#O&|X~P!'WOl(ROw(SO!o(TO~O!i)oO&t)oO~OT8vOz8tO!S8wO!b8xO!q)pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#X)rO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!n)rO~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'TX!}'TX~P!'WOT'VXz'VX!S'VX!b'VX!o'VX!v'VX!y'VX#S'VX#W'VX#`'VX#a'VX#p#qX#s'VX#z'VX#{'VX#|'VX#}'VX$O'VX$Q'VX$R'VX$S'VX$T'VX$U'VX$V'VX$W'VX$z'VX~O!q)tO!x'VX!}'VX~P!5xO!x#iX!}#iX~P>UO!})vO!x'SX~O!x)xO~O$z#dOT#yiz#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi$W#yi&s#yi!x#yi!}#yi#O#yi#X#yi!n#yi!q#yiV#yi#u#yi#w#yi~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi&s#yi!x#yi!n#yi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!b#VO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!m#yi&s#yi!x#yi!n#yi~P!'WOT#TOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dO!S#yi!b#yi!m#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi~P!'WOz#RO#S#QO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi~P!'WOz#RO$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi~P!'WOz#RO$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$S#_O$T#`O$V#bO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi~P!'WOz#RO$W#bO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi~P!'WO_)yO~P9yO!x)|O~O#S*PO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Ta#X#Ta#O#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}'Pa#X'Pa#O'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WO#S#oO#U#nO!}&WX#X&WX~P9yO!}&wO#X'Oa~O#X*SO~OT6iOz6gO!S6jO!b6kO!v8sO!}*UO#O*TO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'QX~P!'WO!}*UO!x'QX~O!x*WO~O!m#oi!o#oi#S#oi#p#qX&s#oi!x#oi#O#oiw#oi~OT#oiz#oi!S#oi!b#oi!v#oi!y#oi#W#oi#`#oi#a#oi#s#oi#z#oi#{#oi#|#oi#}#oi$O#oi$Q#oi$R#oi$S#oi$T#oi$U#oi$V#oi$W#oi$z#oi!}#oi#X#oi!n#oiV#oi!q#oi#u#oi#w#oi~P#*zO#l'SO!x#ka#S#ka#U#ka#b#ka!o#ka#O#kaw#ka!m#ka&s#ka~OPgOQ|OU^OW}O[4OOo5xOs#hOx3zOy3zO}`O!O]O!Q2^O!R}O!T4UO!U3|O!V3|O!Y2`O!c3xO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4SO$]4QO$^4SO$aqO$z2_O${!OO$}}O%O}O%V|O'g{O~O#l#oa#U#oa#b#oa~PIpOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pi!S#Pi!b#Pi!m#Pi&s#Pi!x#Pi!n#Pi~P!'WOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#vi!S#vi!b#vi!m#vi&s#vi!x#vi!n#vi~P!'WO!m#xi&s#xi!x#xi!n#xi~PCqO!s#gO#peO!}&^X#X&^X~O!}'^O#X'Za~O!s'uO~Ow(SO!o)WO!q*fO~O!s*jO~O#S*lO#U*mO#b*kO#l'SO~O#S*lO#U*mO#b*kO$drO~P0aO#u*oO!x$cX!}$cX~O#U*mO#b*kO~O#b*pO~O#b*rO~P0aO!}*sO!x'XX~O!x*uO~O!y*wO~O!^*{O!oXO!q*zO~O!q*}O!o'ci!m'ci&s'ci~O!q+QO#O+PO~O#b$nO!m&eX!}&eX&s&eX~O!}'{O!m'ba&s'ba~OT$kiz$ki!S$ki!b$ki!m$ki!o$ki!v$ki!y$ki#S$ki#W$ki#`$ki#a$ki#s$ki#u#fa#w#fa#z$ki#{$ki#|$ki#}$ki$O$ki$Q$ki$R$ki$S$ki$T$ki$U$ki$V$ki$W$ki$z$ki&s$ki!x$ki!}$ki#O$ki#X$ki!n$ki!q$kiV$ki~OS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n+hO#b$nO$aqO$drO~P0aO!s+lO~O#W+nO#`+mO#a+mO~O!s+pO#b+pO$}+pO%T+oO~O!n+qO~PCqOc%XXd%XXh%XXj%XXf%XXg%XXe%XX~PhOc+uOd+sOP%WiQ%WiS%WiU%WiW%WiX%Wi[%Wi]%Wi^%Wi`%Wia%Wib%Wik%Wim%Wio%Wip%Wiq%Wis%Wit%Wiu%Wiv%Wix%Wiy%Wi|%Wi}%Wi!O%Wi!P%Wi!Q%Wi!R%Wi!T%Wi!U%Wi!V%Wi!W%Wi!X%Wi!Y%Wi!Z%Wi![%Wi!]%Wi!^%Wi!`%Wi!a%Wi!c%Wi!m%Wi!o%Wi!s%Wi!y%Wi#W%Wi#b%Wi#d%Wi#e%Wi#p%Wi$T%Wi$]%Wi$^%Wi$a%Wi$d%Wi$l%Wi$z%Wi${%Wi$}%Wi%O%Wi%V%Wi&p%Wi'g%Wi&t%Wi!n%Wih%Wij%Wif%Wig%WiY%Wi_%Wii%Wie%Wi~Oc+yOd+vOh+xO~OY+zO_+{O!n,OO~OY+zO_+{Oi%^X~Oi,QO~Oj,RO~O!m,TO~P9yO!m,VO~Of,WO~OT6iOV,XOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOg,YO~O!y,ZO~OZ(wOn(xOP%liQ%liS%liU%liW%liX%li[%li]%li^%li`%lia%lib%lik%lim%lio%lip%liq%lis%lit%liu%liv%lix%liy%li|%li}%li!O%li!P%li!Q%li!R%li!T%li!U%li!V%li!W%li!X%li!Y%li!Z%li![%li!]%li!^%li!`%li!a%li!c%li!m%li!o%li!s%li!y%li#W%li#b%li#d%li#e%li#p%li$T%li$]%li$^%li$a%li$d%li$l%li$z%li${%li$}%li%O%li%V%li&p%li'g%li&t%li!n%lic%lid%lih%lij%lif%lig%liY%li_%lii%lie%li~O#u,_O~O!}({O!m%da&s%da~O!x,bO~O!s%dO!m&dX!}&dX&s&dX~O!})QO!m'`a&s'`a~OS+^OY,iOm+^Os$aO!^+dO!_+^O!`+^O$aqO$drO~O!n,lO~P#JwO!o)WO~O!o%pO!s'RO~O!s#gO#peO!m&nX!}&nX&s&nX~O!})_O!m'ka&s'ka~O!s,rO~OV,sO!n%|X!}%|X~O!},uO!n'lX~O!n,wO~O!m&UX!}&UX&s&UX#O&UX~P9yO!})iO!m&|a&s&|a#O&|a~Oz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq&s!uq!x!uq!n!uq~P!'WO!n,|O~PCqOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#ia!}#ia~P!'WO!x&YX!}&YX~PAOO!})vO!x'Sa~O#O-QO~O!}-RO!n&{X~O!n-TO~O!x-UO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vi#X#Vi~P!'WO!x&XX!}&XX~P9yO!}*UO!x'Qa~O!x-[O~OT#jqz#jq!S#jq!b#jq!m#jq!v#jq#S#jq#u#jq#w#jq#z#jq#{#jq#|#jq#}#jq$O#jq$Q#jq$R#jq$S#jq$T#jq$U#jq$V#jq$W#jq$z#jq&s#jq!x#jq!}#jq#O#jq#X#jq!n#jq!q#jqV#jq~P!'WO#l#oi#U#oi#b#oi~P#*zOz#RO!v!yO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT#Pq!S#Pq!b#Pq!m#Pq&s#Pq!x#Pq!n#Pq~P!'WO#u-dO!x$ca!}$ca~O#U-fO#b-eO~O#b-gO~O#S-hO#U-fO#b-eO#l'SO~O#b-jO#l'SO~O#u-kO!x$ha!}$ha~O!`'mO#S'kO#U'lO#b'jO$drO!x&_X!}&_X~P0aO!}*sO!x'Xa~O!oXO#l'SO~O#S-pO#b-oO!x'[P~O!oXO!q-rO~O!q-uO!o'cq!m'cq&s'cq~O!^-wO!oXO!q-rO~O!q-{O#O-zO~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$si!}$si&s$si~P!'WO!m$jq&s$jq!x$jq!n$jq~PCqO#O-zO#l'SO~O!}-|Ow']X!o']X!m']X&s']X~O#b$nO#l'SO~OS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO$drO~P0aOS+^O].ROm+^Os$aO!_+^O!`+^O#b$nO$aqO~P0aOS+^O]+aOm+^Os$aO!^+dO!_+^O!`+^O!n.ZO#b$nO$aqO$drO~P0aO!s.^O~O!s._O#b._O$}._O%T+oO~O$}.`O~O#X.aO~Oc%Xad%Xah%Xaj%Xaf%Xag%Xae%Xa~PhOc.dOd+sOP%WqQ%WqS%WqU%WqW%WqX%Wq[%Wq]%Wq^%Wq`%Wqa%Wqb%Wqk%Wqm%Wqo%Wqp%Wqq%Wqs%Wqt%Wqu%Wqv%Wqx%Wqy%Wq|%Wq}%Wq!O%Wq!P%Wq!Q%Wq!R%Wq!T%Wq!U%Wq!V%Wq!W%Wq!X%Wq!Y%Wq!Z%Wq![%Wq!]%Wq!^%Wq!`%Wq!a%Wq!c%Wq!m%Wq!o%Wq!s%Wq!y%Wq#W%Wq#b%Wq#d%Wq#e%Wq#p%Wq$T%Wq$]%Wq$^%Wq$a%Wq$d%Wq$l%Wq$z%Wq${%Wq$}%Wq%O%Wq%V%Wq&p%Wq'g%Wq&t%Wq!n%Wqh%Wqj%Wqf%Wqg%WqY%Wq_%Wqi%Wqe%Wq~Oc.iOd+vOh.hO~O!q(`O~OP6]OQ|OU^OW}O[:fOo>ROs#hOx:dOy:dO}`O!O]O!Q:kO!R}O!T:jO!U:eO!V:eO!Y:oO!c8gO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:hO$]:gO$^:hO$aqO$z:mO${!OO$}}O%O}O%V|O'g{O~O!m.lO!q.lO~OY+zO_+{O!n.nO~OY+zO_+{Oi%^a~O!x.rO~P>UO!m.tO~O!m.tO~P9yOQ|OW}O!R}O$}}O%O}O%V|O'g{O~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&ka!}&ka&s&ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m$qi!}$qi&s$qi~P!'WOS+^Om+^Os$aO!_+^O!`+^O$aqO$drO~OY/PO~P$?VOS+^Om+^Os$aO!_+^O!`+^O$aqO~O!s/QO~O!n/SO~P#JwOw(SO!o)WO#l'SO~OV/VO!m&na!}&na&s&na~O!})_O!m'ki&s'ki~O!s/XO~OV/YO!n%|a!}%|a~O]/[Os/[O!s#gO#peO!n&oX!}&oX~O!},uO!n'la~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m&Ua!}&Ua&s&Ua#O&Ua~P!'WOz#RO#S#QO#z#SO#{#WO#|#XO#}#YO$O#ZO$Q#]O$R#^O$S#_O$T#`O$U#aO$V#bO$W#bO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy&s!uy!x!uy!n!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#hi!}#hi~P!'WO_)yO!n&VX!}&VX~P9yO!}-RO!n&{a~OT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#Vq#X#Vq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#[i!}#[i~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O/cO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x&Xa!}&Xa~P!'WO#u/iO!x$ci!}$ci~O#b/jO~O#U/lO#b/kO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$ci!}$ci~P!'WO#u/mO!x$hi!}$hi~O!}/oO!x'[X~O#b/qO~O!x/rO~O!oXO!q/uO~O#l'SO!o'cy!m'cy&s'cy~O!m$jy&s$jy!x$jy!n$jy~PCqO#O/xO#l'SO~O!s#gO#peOw&aX!o&aX!}&aX!m&aX&s&aX~O!}-|Ow']a!o']a!m']a&s']a~OU$PO]0QO!R$PO!s$OO!v#}O#b$nO#p2XO~P$?uO!m#cO!o0VO&s#cO~O#X0YO~Oh0_O~OT:tOz:pO!S:vO!b:xO!m0`O!q0`O!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO~P!'WOY%]a_%]a!n%]ai%]a~PhO!x0bO~O!x0bO~P>UO!m0dO~OT6iOz6gO!S6jO!b6kO!v8sO!x0fO#O0eO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WO!x0fO~O!x0gO#b0hO#l'SO~O!x0iO~O!s0jO~O!m#cO#u0lO&s#cO~O!s0mO~O!})_O!m'kq&s'kq~O!s0nO~OV0oO!n%}X!}%}X~OT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!n!|i!}!|i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cq!}$cq~P!'WO#u0vO!x$cq!}$cq~O#b0wO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hq!}$hq~P!'WO#S0zO#b0yO!x&`X!}&`X~O!}/oO!x'[a~O#l'SO!o'c!R!m'c!R&s'c!R~O!oXO!q1PO~O!m$j!R&s$j!R!x$j!R!n$j!R~PCqO#O1RO#l'SO~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1^O!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOh1_O~OY%[i_%[i!n%[ii%[i~PhOY%]i_%]i!n%]ii%]i~PhO!x1bO~O!x1bO~P>UO!x1eO~O!m#cO#u1iO&s#cO~O$}1jO%V1jO~O!s1kO~OV1lO!n%}a!}%}a~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#]i!}#]i~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$cy!}$cy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$hy!}$hy~P!'WO#b1nO~O!}/oO!x'[i~O!m$j!Z&s$j!Z!x$j!Z!n$j!Z~PCqOT:uOz:qO!S:wO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO~P!'WOV1uO{1tO~P!5xOV1uO{1tOT&}Xz&}X!S&}X!b&}X!o&}X!v&}X!y&}X#S&}X#W&}X#`&}X#a&}X#s&}X#u&}X#w&}X#z&}X#{&}X#|&}X#}&}X$O&}X$Q&}X$R&}X$S&}X$T&}X$U&}X$V&}X$W&}X$z&}X~OP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!n1xO!s1YO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOY%[q_%[q!n%[qi%[q~PhO!x1zO~O!x%gi~PCqOe1{O~O$}1|O%V1|O~O!s2OO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x$c!R!}$c!R~P!'WO!m$j!c&s$j!c!x$j!c!n$j!c~PCqO!s2QO~O!`2SO!s2RO~O!s2VO!m$xi&s$xi~O!s'WO~O!s*]O~OT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$ka#u$ka#w$ka&s$ka!x$ka!n$ka!q$ka#X$ka!}$ka~P!'WO#S2]O~P*kO$l$tO~P#.YOT6iOz6gO!S6jO!b6kO!v8sO#O2[O#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX&s'PX!x'PX!n'PX~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O3uO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'PX#X'PX#u'PX#w'PX!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~P!'WO#S3dO~P#.YOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Xa#u$Xa#w$Xa&s$Xa!x$Xa!n$Xa!q$Xa#X$Xa!}$Xa~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Ya#u$Ya#w$Ya&s$Ya!x$Ya!n$Ya!q$Ya#X$Ya!}$Ya~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$Za#u$Za#w$Za&s$Za!x$Za!n$Za!q$Za#X$Za!}$Za~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$[a#u$[a#w$[a&s$[a!x$[a!n$[a!q$[a#X$[a!}$[a~P!'WOz2aO#u$[a#w$[a!q$[a#X$[a!}$[a~PNyOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$_a#u$_a#w$_a&s$_a!x$_a!n$_a!q$_a#X$_a!}$_a~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$|a#u$|a#w$|a&s$|a!x$|a!n$|a!q$|a#X$|a!}$|a~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!S#yi!b#yi!m#yi#u#yi#w#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO#S#QO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$S2mO$T2nO$V2pO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOz2aO$W2pO$z#dOT#yi!S#yi!b#yi!m#yi!v#yi#S#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi&s#yi!x#yi!n#yi!q#yi#X#yi!}#yi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#Ta#u#Ta#w#Ta&s#Ta!x#Ta!n#Ta!q#Ta#X#Ta!}#Ta~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m'Pa#u'Pa#w'Pa&s'Pa!x'Pa!n'Pa!q'Pa#X'Pa!}'Pa~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pi!S#Pi!b#Pi!m#Pi#u#Pi#w#Pi&s#Pi!x#Pi!n#Pi!q#Pi#X#Pi!}#Pi~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#vi!S#vi!b#vi!m#vi#u#vi#w#vi&s#vi!x#vi!n#vi!q#vi#X#vi!}#vi~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m#xi#u#xi#w#xi&s#xi!x#xi!n#xi!q#xi#X#xi!}#xi~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uq!S!uq!b!uq!m!uq!v!uq#u!uq#w!uq&s!uq!x!uq!n!uq!q!uq#X!uq!}!uq~P!'WOz2aO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT#Pq!S#Pq!b#Pq!m#Pq#u#Pq#w#Pq&s#Pq!x#Pq!n#Pq!q#Pq#X#Pq!}#Pq~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jq#u$jq#w$jq&s$jq!x$jq!n$jq!q$jq#X$jq!}$jq~P!'WOz2aO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dOT!uy!S!uy!b!uy!m!uy!v!uy#u!uy#w!uy&s!uy!x!uy!n!uy!q!uy#X!uy!}!uy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$jy#u$jy#w$jy&s$jy!x$jy!n$jy!q$jy#X$jy!}$jy~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!R#u$j!R#w$j!R&s$j!R!x$j!R!n$j!R!q$j!R#X$j!R!}$j!R~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!Z#u$j!Z#w$j!Z&s$j!Z!x$j!Z!n$j!Z!q$j!Z#X$j!Z!}$j!Z~P!'WOT2cOz2aO!S2dO!b2eO!v4WO#S#QO#z2bO#{2fO#|2gO#}2hO$O2iO$Q2kO$R2lO$S2mO$T2nO$U2oO$V2pO$W2pO$z#dO!m$j!c#u$j!c#w$j!c&s$j!c!x$j!c!n$j!c!q$j!c#X$j!c!}$j!c~P!'WOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S3vO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lO#u2uO#w2vO!q&zX#X&zX!}&zX~P0rOP6]OU^O[4POo8^Or2wOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S2tO#U2sO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!v#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX&s#xX!x#xX!n#xX!q#xX#X#xX!}#xX~P$;lOP6]OU^O[4POo8^Or4xOs#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S4uO#U4tO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OOT#xXz#xX!S#xX!b#xX!o#xX!v#xX!}#xX#O#xX#X#xX#`#xX#a#xX#s#xX#u#xX#w#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!m#xX&s#xX!x#xX!n#xXV#xX!q#xX~P$;lO!q3PO~P>UO!q5}O#O3gO~OT8vOz8tO!S8wO!b8xO!q3hO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q6OO#O3kO~O!q6PO#O3oO~O#O3oO#l'SO~O#O3pO#l'SO~O#O3sO#l'SO~OP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$l$tO$z4bO${!OO~P$;lOP6]OU^O[4POo8^Os#hOx3{Oy3{O}`O!O]O!Q4aO!T4VO!U3}O!V3}O!Y4cO!c3yO!s#gO!y[O#S5eO#W_O#bhO#daO#ebO#peO$T4TO$]4RO$^4TO$aqO$z4bO${!OO~P$;lOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Xa#O$Xa#X$Xa#u$Xa#w$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Ya#O$Ya#X$Ya#u$Ya#w$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$Za#O$Za#X$Za#u$Za#w$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$[a#O$[a#X$[a#u$[a#w$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz4dO!}$[a#O$[a#X$[a#u$[a#w$[aV$[a!q$[a~PNyOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$_a#O$_a#X$_a#u$_a#w$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$|a#O$|a#X$|a#u$|a#w$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi#u#yi#w#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO#S#QO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$S4pO$T4qO$V4sO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz4dO$W4sO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#u#yi#w#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#Ta#O#Ta#X#Ta#u#Ta#w#Ta!m#Ta&s#Ta!x#Ta!n#TaV#Ta!q#Ta~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}'Pa#O'Pa#X'Pa#u'Pa#w'Pa!m'Pa&s'Pa!x'Pa!n'PaV'Pa!q'Pa~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi#u#Pi#w#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi#u#vi#w#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}#xi#O#xi#X#xi#u#xi#w#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq#u!uq#w!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOz4dO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq#u#Pq#w#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jq#O$jq#X$jq#u$jq#w$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOz4dO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy#u!uy#w!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$jy#O$jy#X$jy#u$jy#w$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!R#O$j!R#X$j!R#u$j!R#w$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!Z#O$j!Z#X$j!Z#u$j!Z#w$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$j!c#O$j!c#X$j!c#u$j!c#w$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S5wO~P#.YO!y$hO#S5{O~O!x4ZO#l'SO~O!y$hO#S5|O~OT4fOz4dO!S4gO!b4hO!v6TO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!}$ka#O$ka#X$ka#u$ka#w$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT4fOz4dO!S4gO!b4hO!v6TO#O5vO#S#QO#z4eO#{4iO#|4jO#}4kO$O4lO$Q4nO$R4oO$S4pO$T4qO$U4rO$V4sO$W4sO$z#dO!m'PX#u'PX#w'PX&s'PX!x'PX!n'PX!q'PX#X'PX!}'PX~P!'WO#u4vO#w4wO!}&zX#O&zX#X&zXV&zX!q&zX~P0rO!q5QO~P>UO!q8bO#O5hO~OT8vOz8tO!S8wO!b8xO!q5iO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q8cO#O5lO~O!q8dO#O5pO~O#O5pO#l'SO~O#O5qO#l'SO~O#O5tO#l'SO~O$l$tO~P9yOo5zOs$lO~O#S7oO~P9yOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Xa#O$Xa#X$Xa!m$Xa&s$Xa!x$Xa!n$XaV$Xa!q$Xa~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Ya#O$Ya#X$Ya!m$Ya&s$Ya!x$Ya!n$YaV$Ya!q$Ya~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$Za#O$Za#X$Za!m$Za&s$Za!x$Za!n$ZaV$Za!q$Za~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$[a#O$[a#X$[a!m$[a&s$[a!x$[a!n$[aV$[a!q$[a~P!'WOz6gO!}$[a#O$[a#X$[aV$[a!q$[a~PNyOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$_a#O$_a#X$_a!m$_a&s$_a!x$_a!n$_aV$_a!q$_a~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$ka#O$ka#X$ka!m$ka&s$ka!x$ka!n$kaV$ka!q$ka~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$|a#O$|a#X$|a!m$|a&s$|a!x$|a!n$|aV$|a!q$|a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7sO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'jX~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO!}7uO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&|X~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOT6iOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!S#yi!b#yi!}#yi#O#yi#X#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO#S#QO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$S6sO$T6tO$V6vO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WOz6gO$W6vO$z#dOT#yi!S#yi!b#yi!v#yi!}#yi#O#yi#S#yi#X#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!m#yi&s#yi!x#yi!n#yiV#yi!q#yi~P!'WO#S7zO~P>UO!m#Ta&s#Ta!x#Ta!n#Ta~PCqO!m'Pa&s'Pa!x'Pa!n'Pa~PCqO#S;dO#U;cO!x&WX!}&WX~P9yO!}7lO!x'Oa~Oz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pi!S#Pi!b#Pi!}#Pi#O#Pi#X#Pi!m#Pi&s#Pi!x#Pi!n#PiV#Pi!q#Pi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#vi!S#vi!b#vi!}#vi#O#vi#X#vi!m#vi&s#vi!x#vi!n#viV#vi!q#vi~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}#xi#O#xi#X#xi!m#xi&s#xi!x#xi!n#xiV#xi!q#xi~P!'WO!}7sO!x%da~O!x&UX!}&UX~P>UO!}7uO!x&|a~Oz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uq!S!uq!b!uq!v!uq!}!uq#O!uq#X!uq!m!uq&s!uq!x!uq!n!uqV!uq!q!uq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vi!}#Vi~P!'WOz6gO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT#Pq!S#Pq!b#Pq!}#Pq#O#Pq#X#Pq!m#Pq&s#Pq!x#Pq!n#PqV#Pq!q#Pq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jq#O$jq#X$jq!m$jq&s$jq!x$jq!n$jqV$jq!q$jq~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&ka!}&ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x&Ua!}&Ua~P!'WOz6gO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dOT!uy!S!uy!b!uy!v!uy!}!uy#O!uy#X!uy!m!uy&s!uy!x!uy!n!uyV!uy!q!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Vq!}#Vq~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$jy#O$jy#X$jy!m$jy&s$jy!x$jy!n$jyV$jy!q$jy~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!R#O$j!R#X$j!R!m$j!R&s$j!R!x$j!R!n$j!RV$j!R!q$j!R~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!Z#O$j!Z#X$j!Z!m$j!Z&s$j!Z!x$j!Z!n$j!ZV$j!Z!q$j!Z~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!}$j!c#O$j!c#X$j!c!m$j!c&s$j!c!x$j!c!n$j!cV$j!c!q$j!c~P!'WO#S8[O~P9yO#O8ZO!m'PX&s'PX!x'PX!n'PXV'PX!q'PX~PGSO!y$hO#S8`O~O!y$hO#S8aO~O#u6zO#w6{O!}&zX#O&zX#X&zXV&zX!q&zX~P0rOr6|O#S#oO#U#nO!}#xX#O#xX#X#xXV#xX!q#xX~P2yOr;iO#S9XO#U9VOT#xXz#xX!S#xX!b#xX!m#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX!n#xX!}#xX~P9yOr9WO#S9WO#U9WOT#xXz#xX!S#xX!b#xX!o#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX~P9yOr9]O#S;dO#U;cOT#xXz#xX!S#xX!b#xX!o#xX!q#xX!v#xX#`#xX#a#xX#s#xX#z#xX#{#xX#|#xX#}#xX$O#xX$Q#xX$R#xX$S#xX$U#xX$V#xX$W#xX#X#xX!x#xX!}#xX~P9yO$l$tO~P>UO!q7XO~P>UOT6iOz6gO!S6jO!b6kO!v8sO#O7iO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!x'PX!}'PX~P!'WOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lO!}7lO!x'OX~O#S9yO~P>UOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Xa#X$Xa!x$Xa!}$Xa~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Ya#X$Ya!x$Ya!}$Ya~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$Za#X$Za!x$Za!}$Za~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$[a#X$[a!x$[a!}$[a~P!'WOz8tO$z#dOT$[a!S$[a!b$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a#X$[a!x$[a!}$[a~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$_a#X$_a!x$_a!}$_a~P!'WO!q=dO#O7rO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$ka#X$ka!x$ka!}$ka~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$|a#X$|a!x$|a!}$|a~P!'WOT8vOz8tO!S8wO!b8xO!q7wO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!q#yi#X#yi!x#yi!}#yi~P!'WOT8vOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!S#yi!b#yi!q#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi#X#yi!x#yi!}#yi~P!'WOz8tO#S#QO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi#X#yi!x#yi!}#yi~P!'WOz8tO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi#X#yi!x#yi!}#yi~P!'WOz8tO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$S9QO$T9RO$V9TO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi#X#yi!x#yi!}#yi~P!'WOz8tO$W9TO$z#dOT#yi!S#yi!b#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi#X#yi!x#yi!}#yi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pi!S#Pi!b#Pi!q#Pi#X#Pi!x#Pi!}#Pi~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#vi!S#vi!b#vi!q#vi#X#vi!x#vi!}#vi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q#xi#X#xi!x#xi!}#xi~P!'WO!q=eO#O7|O~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uq!S!uq!b!uq!q!uq!v!uq#X!uq!x!uq!}!uq~P!'WOz8tO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT#Pq!S#Pq!b#Pq!q#Pq#X#Pq!x#Pq!}#Pq~P!'WO!q=iO#O8TO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jq#X$jq!x$jq!}$jq~P!'WO#O8TO#l'SO~Oz8tO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dOT!uy!S!uy!b!uy!q!uy!v!uy#X!uy!x!uy!}!uy~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$jy#X$jy!x$jy!}$jy~P!'WO#O8UO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!R#X$j!R!x$j!R!}$j!R~P!'WO#O8XO#l'SO~OT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!Z#X$j!Z!x$j!Z!}$j!Z~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!q$j!c#X$j!c!x$j!c!}$j!c~P!'WO#S:bO~P>UO#O:aO!q'PX!x'PX~PGSO$l$tO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$l$tO$z:nO${!OO~P$;lOo8_Os$lO~O#S<jO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S<kO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Xa!q$Xa!n$Xa!}$Xa~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Ya!q$Ya!n$Ya!}$Ya~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$Za!q$Za!n$Za!}$Za~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$[a!q$[a!n$[a!}$[a~P!'WOz:pO$z#dOT$[a!S$[a!b$[a!m$[a!q$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a!n$[a!}$[a~P!'WOz:qO$z#dOT$[a!S$[a!b$[a!v$[a#S$[a#z$[a#{$[a#|$[a#}$[a$O$[a$Q$[a$R$[a$S$[a$T$[a$U$[a$V$[a$W$[a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$_a!q$_a!n$_a!}$_a~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$ka!q$ka!n$ka!}$ka~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$|a!q$|a!n$|a!}$|a~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi!n#yi!}#yi~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi~P!'WOT:tOz:pO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!b:yO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi~P!'WOT:tOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!S#yi!b#yi!m#yi!q#yi!n#yi!}#yi~P!'WOT:uOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dO!S#yi!b#yi~P!'WOz:pO#S#QO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi!n#yi!}#yi~P!'WOz:qO#S#QO#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi~P!'WOz:pO#S#QO#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi!n#yi!}#yi~P!'WOz:qO#S#QO#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi~P!'WOz:pO#S#QO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi!n#yi!}#yi~P!'WOz:qO#S#QO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi~P!'WOz:pO#S#QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO#S#QO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi!n#yi!}#yi~P!'WOz:qO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi~P!'WOz:pO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi!n#yi!}#yi~P!'WOz:qO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi~P!'WOz:pO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi~P!'WOz:pO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi!n#yi!}#yi~P!'WOz:qO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$U#yi~P!'WOz:pO$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi!n#yi!}#yi~P!'WOz:qO$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi~P!'WOz:pO$S;YO$T;[O$V;`O$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi!n#yi!}#yi~P!'WOz:qO$S;ZO$T;]O$V;aO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$U#yi~P!'WOz:pO$W;`O$z#dOT#yi!S#yi!b#yi!m#yi!q#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi!n#yi!}#yi~P!'WOz:qO$W;aO$z#dOT#yi!S#yi!b#yi!v#yi#S#yi#z#yi#{#yi#|#yi#}#yi$O#yi$Q#yi$R#yi$S#yi$T#yi$U#yi$V#yi~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x#Ta!}#Ta!q#Ta#X#Ta~P!'WOT8vOz8tO!S8wO!b8xO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO!x'Pa!}'Pa!q'Pa#X'Pa~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pi!S#Pi!b#Pi!m#Pi!q#Pi!n#Pi!}#Pi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pi!S#Pi!b#Pi~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#vi!S#vi!b#vi!m#vi!q#vi!n#vi!}#vi~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#vi!S#vi!b#vi~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#xi!q#xi!n#xi!}#xi~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uq!S!uq!b!uq!m!uq!q!uq!v!uq!n!uq!}!uq~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uq!S!uq!b!uq!v!uq~P!'WOz:pO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT#Pq!S#Pq!b#Pq!m#Pq!q#Pq!n#Pq!}#Pq~P!'WOz:qO!v=nO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT#Pq!S#Pq!b#Pq~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jq!q$jq!n$jq!}$jq~P!'WOz:pO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dOT!uy!S!uy!b!uy!m!uy!q!uy!v!uy!n!uy!}!uy~P!'WOz:qO#S#QO#z:sO#{:{O#|:}O#};PO$O;RO$Q;VO$R;XO$S;ZO$T;]O$U;_O$V;aO$W;aO$z#dOT!uy!S!uy!b!uy!v!uy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$jy!q$jy!n$jy!}$jy~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!R!q$j!R!n$j!R!}$j!R~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!Z!q$j!Z!n$j!Z!}$j!Z~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m$j!c!q$j!c!n$j!c!}$j!c~P!'WO#S=TO~P$8YOP6]OU^O[9WOo>SOs#hOx9WOy9WO}`O!O]O!Q:lO!T9WO!U9WO!V9WO!Y9WO!c8hO!s#gO!y[O#S=UO#W_O#bhO#daO#ebO#peO$T:iO$]9WO$^:iO$aqO$z:nO${!OO~P$;lOT6iOz6gO!S6jO!b6kO!v8sO#O=SO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO~P!'WOT6iOz6gO!S6jO!b6kO!v8sO#O=RO#S#QO#z6hO#{6lO#|6mO#}6nO$O6oO$Q6qO$R6rO$S6sO$T6tO$U6uO$V6vO$W6vO$z#dO!m'PX!q'PX!n'PX!}'PX~P!'WOT&zXz&zX!S&zX!b&zX!o&zX!q&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX!}&zX~O#u9ZO#w9[O#X&zX!x&zX~P.8oO!y$hO#S=^O~O!q9hO~P>UO!y$hO#S=cO~O!q>OO#O9}O~OT8vOz8tO!S8wO!b8xO!q:OO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m#Ta!q#Ta!n#Ta!}#Ta~P!'WOT:tOz:pO!S:vO!b:xO!v=mO#S#QO#z:rO#{:zO#|:|O#};OO$O;QO$Q;UO$R;WO$S;YO$T;[O$U;^O$V;`O$W;`O$z#dO!m'Pa!q'Pa!n'Pa!}'Pa~P!'WO!q>PO#O:RO~O!q>QO#O:YO~O#O:YO#l'SO~O#O:ZO#l'SO~O#O:_O#l'SO~O#u;eO#w;gO!m&zX!n&zX~P.8oO#u;fO#w;hOT&zXz&zX!S&zX!b&zX!o&zX!v&zX!y&zX#S&zX#W&zX#`&zX#a&zX#s&zX#z&zX#{&zX#|&zX#}&zX$O&zX$Q&zX$R&zX$S&zX$T&zX$U&zX$V&zX$W&zX$z&zX~O!q;tO~P>UO!q;uO~P>UO!q>XO#O<oO~O!q>YO#O9WO~OT8vOz8tO!S8wO!b8xO!q<pO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WOT8vOz8tO!S8wO!b8xO!q<qO!v=ZO#S#QO#z8uO#{8yO#|8zO#}8{O$O8|O$Q9OO$R9PO$S9QO$T9RO$U9SO$V9TO$W9TO$z#dO~P!'WO!q>ZO#O<vO~O!q>[O#O<{O~O#O<{O#l'SO~O#O9WO#l'SO~O#O<|O#l'SO~O#O=PO#l'SO~O!y$hO#S=|O~Oo=[Os$lO~O!y$hO#S=}O~O!y$hO#S>UO~O!y$hO#S>VO~O!y$hO#S>WO~Oo={Os$lO~Oo>TOs$lO~Oo>SOs$lO~O%O$U$}$d!d$V#b%V#e'g!s#d~",
    goto: "%&y'mPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPP'nP'uPP'{(OPPP(hP(OP(O*ZP*ZPP2W:j:mPP*Z:sBpPBsPBsPP:sCSCVCZ:s:sPPPC^PP:sK^!$S!$S:s!$WP!$W!$W!%UP!.]!7pP!?oP*ZP*Z*ZPPPPP!?rPPPPPPP*Z*Z*Z*ZPP*Z*ZP!E]!GRP!GV!Gy!GR!GR!HP*Z*ZP!HY!Hl!Ib!J`!Jd!J`!Jo!J}!J}!KV!KY!KY*ZPP*ZPP!K^#%[#%[#%`P#%fP(O#%j(O#&S#&V#&V#&](O#&`(O(O#&f#&i(O#&r#&u(O(O(O(O(O#&x(O(O(O(O(O(O(O(O(O#&{!KR(O(O#'_#'o#'r(O(OP#'u#'|#(S#(o#(y#)P#)Z#)b#)h#*d#4X#5T#5Z#5a#5k#5q#5w#6]#6c#6i#6o#6u#6{#7R#7]#7g#7m#7s#7}PPPPPPPP#8T#8X#8}#NO#NR#N]$(f$(r$)X$)_$)b$)e$)k$,X$5v$>_$>b$>h$>k$>n$>w$>{$?X$?k$Bk$CO$C{$K{PP%%y%%}%&Z%&p%&vQ!nQT!qV!rQUOR%x!mRVO}!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a|!hPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ%^!ZQ%g!aQ%l!eQ'd$dQ'q$iQ)[%kQ*y'tQ,](xU-n*v*x+OQ.W+cQ.{,[S/t-s-tQ0T.SS0}/s/wQ1V0RQ1o1OR2P1p0u!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nQ#j]Q$}!PQ%O!QQ%P!RQ,S(kQ.b+sR.f+vR&q#jQ)z&pR/a-R0uhPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#l^k#p_j#k#s&s&w3x3y7l8f8g8h8iR#u`T&|#t'OR-Y*U0thPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR#va-r#OZ#f#m#w$V$W$X$Y$Z$[$u$v%W%Y%[%`%s%|&O&Q&U&^&_&`&a&b&c&d&e&f&g&h&i&j&k&l&m&u&v&{'X'Z'[(](p)q)s)u*O*[*^+S+V,`,c,y,{,}-V-W-X-i-x.k.w/`/h/n/y0r0u0x1Q1X1d1m1q2q2r2x2y2z2{2|2}3O3Q3R3S3T3U3V3W3X3Y3Z3[3]3^3_3`3a3b3c3e3f3i3j3l3m3n3q3r3t4Y4y4z4{4|4}5O5P5R5S5T5U5V5W5X5Y5Z5[5]5^5_5`5a5b5c5d5f5g5j5k5m5n5o5r5s5u6R6V6}7O7P7Q7R7S7U7V7W7Y7Z7[7]7^7_7`7a7b7c7d7e7f7g7h7j7k7n7p7q7x7y7{7}8O8P8Q8R8S8V8W8Y8]9U9^9_9`9a9b9c9f9g9i9j9k9l9m9n9o9p9q9r9s9t9u9v9w9x9z9{:P:Q:T:V:W:[:^:`:c;j;k;l;m;n;o;p;s;v;w;x;y;z;{;|;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<[<]<^<_<`<a<b<c<d<e<f<g<h<i<l<m<n<r<s<t<u<w<x<y<z<}=O=Q=V=W=_=`=a=q=rQ']$]Y(Q$s7T9e;q;rS(U2Z6QR(X$tT&X!})v!w$Qg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[3ZfPVX[_bgjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#}$R$S$U$h$y$}%P%R%S%T%U%c%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)_)c)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[3scPVX[_bdegjklmnoprxyz!S!W!X!Y!]!e!f!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t#{#}$R$S$U$h$y$}%P%R%S%T%U%c%m%n%p%r%}&S&W&p&s&t&w'O'S'U'Y'^'i'm'r'z(O(P(R(S(T(`(l({)P)Z)^)_)c)g)h)i)p)t)v*P*T*U*f*o*s*z*}+P+Q+]+`+d+g+r+u+z,T,V,X,Z,u,x-Q-R-d-k-r-u-z-{-|.Q.b.d.l.t/[/c/i/m/u/x0V0`0a0d0e0i0v1P1R1]1a2W2X2Y2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w5}6O6P6T6]6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8b8c8d8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=d=e=i=m=n>O>P>Q>X>Y>Z>[0phPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0`0a0d0e0i0v1R1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT1Z0V1]R&]#P!n#[Z#f#w$V$W$X$Y$[$s$v%W%Y%[&Q&_&`&a&b&c&d&e&f'X'Z'[(])q)s*^+V,{-x/y1Q1d1q7j7k!Y2j2Z2x2y2z2{2}3O3Q3R3S3T3U3V3W3X3a3b3c3e3f3i3j3l3m3n3q3r3t!^4m2r4y4z4{4|5O5P5R5S5T5U5V5W5X5Y5b5c5d5f5g5j5k5m5n5o5r5s5u6Q6R#Q6p#m%`%s&u&v&{(p*O+S,`,c,y-V-X.w2q6}7O7P7Q7S7T7U7Y7Z7[7]7^7_7`7a7n7p7q7x7{7}8Q8S8V8W8Y8]9U:c=V=W#^8}%|&O&U)u,}-W-i/h/n0r0u0x1m4Y6V7V7W7y8O8P8R9^9_9`9a9c9e9f9g9i9j9k9l9m9n9o9p9x9z9{:P:Q:T:V:W:[:^:`<f<g=_=q=r!^;S.k/`;j;k;l;m;p;q;s;v;x;z;|<O<Q<S<U<h<l<n<r<t<w<x<z<}=O=Q=`=ao;T1X;r;w;y;{;}<P<R<T<V<i<m<s<u<yS$iu#hQ$qwU't$j$l&oQ'v$kS'x$m$rQ*|'uQ+O'wQ+R'yQ4X5xS4[5z5{Q4]5|Q6U8^S6W8_8`Q6X8aQ9d=YS9|=[=^Q:S=cQ=]=yS=b={=|Q=f=}Q=o>RS=p>S>VS=s>T>UR=t>WT'n$h*s!csPVXt!S!j!r!s!w$h$}%P%S%U'i(T(`)W*s+]+g+r+u,g,k.b.d.l0`0a0i1aQ$^rR*`'^Q*x'sQ-t*{R/w-wQ(W$tQ)U%hQ)n%vQ*i'fQ+k(XR-c*jQ(V$tQ)Y%jQ)m%vQ*e'eS*h'f)nS+j(W(XS-b*i*jQ.]+kQ/T,mQ/e-`R/g-cQ(U$tQ)T%hQ)V%iQ)l%vU*g'f)m)nU+i(V(W(XQ,f)UU-a*h*i*jS.[+j+kS/f-b-cQ0X.]R0t/gT+e(T+g[%e!_$b'c+a.R0QR,d)Qb$ov(T+[+]+`+g.P.Q0PR+T'{S+e(T+gT,j)W,kR0W.XT1[0V1]0w|PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$x{${Q+p([R._+nT$z{${Q(b$}Q(j%PQ(o%SQ(r%UQ.j+yQ0].fQ0^.iR1g0iR(e%OX+|(c(d+},PR(f%OX(h%P%S%U0iR%S!T_%a!]%R(l,T,V.t0dR%U!UR.x,XR,[(wQ)X%jS*d'e)YS-_*e,mS/d-`/TR0s/eQ%q!fU)]%m%n%rU,o)^)g)hR/_,xR)d%pR/],uSSO!mR!oSQ!rVR%y!rQ!jPS!sV!rQ!wX[%u!j!s!w+r0a1aQ+r(`Q0a.lR1a0`Q)j%sS,z)j7vR7v7WQ-S)zR/b-SQ&x#qS*R&x7mR7m9YS*V&{&|R-Z*VQ)w&YR-P)w!l'T#|'h*n*q*v+W+[,m-`-s-v-y.P.z/s/v/z0P1O1p4^4_4`5y6Y6Z6[:U:X:]=g=h=j=u=v=w=xR*Z'T1^dPVX[_bjklmnoprxyz!S!W!X!Y!]!e!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%p%}&S&W&p&s&t&w'O'U'Y'^'z(O(R(S(`(l({)P)_)c)i)p)t)v*P*T*U*o+P+d+r+u+z,T,V,X,u-Q-R-d-k-z-|.b.d.l.t/[/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n`#zd#{%m)^)g,x2W2YQ#{eQ%m!fQ)^%nQ)g%rQ,x)h!v2Wg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[R2Y2X|tPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aW$`t'i+],gS'i$h*sS+](T+gT,g)W,kQ'_$^R*a'_Q*t'oR-m*tQ/p-oS0{/p0|R0|/qQ-}+XR/|-}Q+g(TR.Y+gS+`(T+gS,h)W,kQ.Q+]W.T+`,h.Q/OR/O,gQ)R%eR,e)RQ'|$oR+U'|Q1]0VR1w1]Q${{R(^${Q+t(aR.c+tQ+w(bR.g+wQ+}(cQ,P(dT.m+},PQ(|%`S,a(|7tR7t7VQ(y%^R,^(yQ,k)WR/R,kQ)`%oS,q)`/WR/W,rQ,v)dR/^,vT!uV!rj!iPVX!j!r!s!w(`+r.l0`0a1aQ%Q!SQ(a$}W(h%P%S%U0iQ.e+uQ0Z.bR0[.d|ZPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ#f[U#m_#s&wQ#wbQ$VkQ$WlQ$XmQ$YnQ$ZoQ$[pQ$sx^$uy2_4b6e8q:m:nQ$vzQ%W!WQ%Y!XQ%[!YW%`!]%R(l,VU%s!g&p-RQ%|!yQ&O!zQ&Q!{S&U!})v^&^#R2a4d6g8t:p:qQ&_#SQ&`#TQ&a#UQ&b#VQ&c#WQ&d#XQ&e#YQ&f#ZQ&g#[Q&h#]Q&i#^Q&j#_Q&k#`Q&l#aQ&m#bQ&u#nQ&v#oS&{#t'OQ'X$RQ'Z$SQ'[$UQ(]$yQ(p%TQ)q%}Q)s&SQ)u&WQ*O&tS*['U4ZQ*^'Y^*_2[3u5v8Z:a=R=SQ+S'zQ+V(OQ,`({Q,c)PQ,y)iQ,{)pQ,})tQ-V*PQ-W*TQ-X*U^-]2]3v5w8[:b=T=UQ-i*oQ-x+PQ.k+zQ.w,XQ/`-QQ/h-dQ/n-kQ/y-zQ0r/cQ0u/iQ0x/mQ1Q/xU1X0V1]9WQ1d0eQ1m0vQ1q1RQ2Z2^Q2qjQ2r3yQ2x3zQ2y3|Q2z4OQ2{4QQ2|4SQ2}4UQ3O2`Q3Q2bQ3R2cQ3S2dQ3T2eQ3U2fQ3V2gQ3W2hQ3X2iQ3Y2jQ3Z2kQ3[2lQ3]2mQ3^2nQ3_2oQ3`2pQ3a2sQ3b2tQ3c2uQ3e2vQ3f2wQ3i3PQ3j3dQ3l3gQ3m3hQ3n3kQ3q3oQ3r3pQ3t3sQ4Y4WQ4y3{Q4z3}Q4{4PQ4|4RQ4}4TQ5O4VQ5P4cQ5R4eQ5S4fQ5T4gQ5U4hQ5V4iQ5W4jQ5X4kQ5Y4lQ5Z4mQ5[4nQ5]4oQ5^4pQ5_4qQ5`4rQ5a4sQ5b4tQ5c4uQ5d4vQ5f4wQ5g4xQ5j5QQ5k5eQ5m5hQ5n5iQ5o5lQ5r5pQ5s5qQ5u5tQ6Q4aQ6R3xQ6V6TQ6}6^Q7O6_Q7P6`Q7Q6aQ7R6bQ7S6cQ7T6dQ7U6fU7V,T.t0dQ7W%cQ7Y6hQ7Z6iQ7[6jQ7]6kQ7^6lQ7_6mQ7`6nQ7a6oQ7b6pQ7c6qQ7d6rQ7e6sQ7f6tQ7g6uQ7h6vQ7j6xQ7k6yQ7n6zQ7p6{Q7q6|Q7x7XQ7y7iQ7{7oQ7}7rQ8O7sQ8P7uQ8Q7wQ8R7zQ8S7|Q8V8TQ8W8UQ8Y8XQ8]8fU9U#k&s7lQ9^8jQ9_8kQ9`8lQ9a8mQ9b8nQ9c8oQ9e8pQ9f8rQ9g8sQ9i8uQ9j8vQ9k8wQ9l8xQ9m8yQ9n8zQ9o8{Q9p8|Q9q8}Q9r9OQ9s9PQ9t9QQ9u9RQ9v9SQ9w9TQ9x9ZQ9z9[Q9{9]Q:P9hQ:Q9yQ:T9}Q:V:OQ:W:RQ:[:YQ:^:ZQ:`:_Q:c8iQ;j:dQ;k:eQ;l:fQ;m:gQ;n:hQ;o:iQ;p:jQ;q:kQ;r:lQ;s:oQ;v:rQ;w:sQ;x:tQ;y:uQ;z:vQ;{:wQ;|:xQ;}:yQ<O:zQ<P:{Q<Q:|Q<R:}Q<S;OQ<T;PQ<U;QQ<V;RQ<W;SQ<X;TQ<Y;UQ<Z;VQ<[;WQ<];XQ<^;YQ<_;ZQ<`;[Q<a;]Q<b;^Q<c;_Q<d;`Q<e;aQ<f;cQ<g;dQ<h;eQ<i;fQ<l;gQ<m;hQ<n;iQ<r;tQ<s;uQ<t<jQ<u<kQ<w<oQ<x<pQ<y<qQ<z<vQ<}<{Q=O<|Q=Q=PQ=V8hQ=W8gQ=_=ZQ=`9VQ=a9XQ=q=mR=r=nR){&pQ%t!gQ)O%cT)y&p-R$SiPVX[bklmnopxyz!S!W!X!Y!j!r!s!w!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y$}%P%S%U%}&S'Y(O(`)p+P+r+u-z.b.d.l/x0`0a0e0i1R1a2[2]6x6y!t3w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x6S3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O8e_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|=X!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v=k+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]=l0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UQ#r_Q&r#kQ&z#sR)}&sS#q_#s^$Tj3x3y8f8g8h8iS*Q&w7lT9Y#k&sQ&}#tR*X'OR&T!|R&Z!}Q&Y!}R-O)vQ#|gQ'V#}S'h$h*sQ*Y'SQ*n'iQ*q'mQ*v'rQ+W(PS+[(T+gQ,m)ZQ-`*fQ-s*zQ-v*}Q-y+QS.P+]+`Q.z,ZQ/s-rQ/v-uQ/z-{Q0P.QQ1O/uQ1p1PQ4^5}Q4_6OQ4`6PQ5y6]Q6Y8bQ6Z8cQ6[8dQ:U=dQ:X=eQ:]=iQ=g>OQ=h>PQ=j>QQ=u>XQ=v>YQ=w>ZR=x>[0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=n!v$Pg#}$h'S'i'm'r(P(T)Z*f*s*z*}+Q+]+`+g,Z-r-u-{.Q/u1P5}6O6P6]8b8c8d=d=e=i>O>P>Q>X>Y>Z>[S$]r'^Q%k!eS%o!f%rQ)b%pU+X(R(S+dQ,p)_Q,t)cQ/Z,uQ/{-|R0p/[|vPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1a#U#i[bklmnopxyz!W!X!Y!{#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b$R$S$U$y%}&S'Y(O)p+P-z/x0e1R2[2]6x6yd+^(T)W+]+`+g,g,h,k.Q/O!t6w'U2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3z3|4O4Q4S4U5v5w!x;b3u3v3x3y3{3}4P4R4T4V4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t$O=z_j!]!g#k#n#o#s#t%R%T&p&s&t&w'O'z(l({)P)i*P*U,V,X-R6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6z6{6|7X7l7o7r7w7|8T8U8X8Z8[8f8g8h8i#|>]!y!z!}%c&W)t)v*T*o,T-d-k.t/c/i/m0d0v4W6T7i7s7u7z8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9Z9[9]9h9y9}:O:R:Y:Z:_:a:b;c;d=Z=m=n!v>^+z-Q9V9X:d:e:f:g:h:j:k:m:o:p:r:t:v:x:z:|;O;Q;S;U;W;Y;[;^;`;e;g;i;t<j<o<p<v<{<|=P=R=T!]>_0V1]9W:i:l:n:q:s:u:w:y:{:};P;R;T;V;X;Z;];_;a;f;h;u<k<q=S=UR'p$hQ'o$hR-l*sR$_rR-q*wQ+Y(RQ+Z(SR.X+dT+f(T+ge+_(T)W+]+`+g,g,h,k.Q/OQ%f!_Q'b$bQ*c'cQ.U+aQ0S.RR1U0QQ#eZQ%X!WQ%Z!XQ%]!YQ'}$pQ(s%VQ(t%WQ(u%YQ(v%[Q(}%bQ)S%fQ)[%kQ)f%qQ)k%tQ*b'bQ,n)]Q-^*cQ.V+bQ.W+cQ.e+xQ.o,QQ.p,RQ.q,SQ.v,WQ.y,YQ.},bQ/U,oQ/}.OQ0T.SQ0U.UQ0W.XQ0[.hQ0k/QQ0q/_Q1S0OQ1V0RQ1W0SQ1`0_Q1h0jQ1r1TQ1s1UQ1v1[Q1y1_Q1}1jQ2T1{R2U1|Q$pvS+b(T+gU.O+[+]+`S0O.P.QR1T0P|!aPVX!S!j!r!s!w$}%P%S%U(`+r+u.b.d.l0`0a0i1aQ$dtW+c(T)W+g,kW.S+]+`,g,hT0R.Q/O0t!OPVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nR.|,_0w}PVX[_bjklmnopxyz!S!W!X!Y!]!g!j!r!s!w!y!z!{!}#R#S#T#U#V#W#X#Y#Z#[#]#^#_#`#a#b#k#n#o#s#t$R$S$U$y$}%P%R%S%T%U%c%}&S&W&p&s&t&w'O'U'Y'z(O(`(l({)P)i)p)t)v*P*T*U*o+P+r+u+z,T,V,X,_-Q-R-d-k-z.b.d.l.t/c/i/m/x0V0`0a0d0e0i0v1R1]1a2[2]2^2_2`2a2b2c2d2e2f2g2h2i2j2k2l2m2n2o2p2s2t2u2v2w3P3d3g3h3k3o3p3s3u3v3x3y3z3{3|3}4O4P4Q4R4S4T4U4V4W4Z4a4b4c4d4e4f4g4h4i4j4k4l4m4n4o4p4q4r4s4t4u4v4w4x5Q5e5h5i5l5p5q5t5v5w6T6^6_6`6a6b6c6d6e6f6g6h6i6j6k6l6m6n6o6p6q6r6s6t6u6v6x6y6z6{6|7X7i7l7o7r7s7u7w7z7|8T8U8X8Z8[8f8g8h8i8j8k8l8m8n8o8p8q8r8s8t8u8v8w8x8y8z8{8|8}9O9P9Q9R9S9T9V9W9X9Z9[9]9h9y9}:O:R:Y:Z:_:a:b:d:e:f:g:h:i:j:k:l:m:n:o:p:q:r:s:t:u:v:w:x:y:z:{:|:};O;P;Q;R;S;T;U;V;W;X;Y;Z;[;];^;_;`;a;c;d;e;f;g;h;i;t;u<j<k<o<p<q<v<{<|=P=R=S=T=U=Z=m=nT$w{${Q(i%PQ(n%SQ(q%UR1f0iQ%b!]Q(m%RQ,U(lQ.s,TQ.u,VQ0c.tR1c0dQ%q!fR)]%rR)e%p",
    nodeNames: "\u26A0 ( HeredocString EscapeSequence abstract LogicOp array as Boolean break case catch clone const continue default declare do echo else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final finally fn for foreach from function global goto if implements include include_once LogicOp insteadof interface list match namespace new null LogicOp print require require_once return switch throw trait try unset use var Visibility while LogicOp yield LineComment BlockComment TextInterpolation PhpClose Text PhpOpen Template TextInterpolation EmptyStatement ; } { Block : LabelStatement Name ExpressionStatement ConditionalExpression LogicOp MatchExpression ) ( ParenthesizedExpression MatchBlock MatchArm , => AssignmentExpression ArrayExpression ValueList & VariadicUnpacking ... Pair [ ] ListExpression ValueList Pair Pair SubscriptExpression MemberExpression -> ?-> VariableName DynamicVariable $ ${ CallExpression ArgList NamedArgument SpreadArgument CastExpression UnionType LogicOp OptionalType NamedType QualifiedName \\ NamespaceName ScopedExpression :: ClassMemberName AssignOp UpdateExpression UpdateOp YieldExpression BinaryExpression LogicOp LogicOp LogicOp BitOp BitOp BitOp CompareOp CompareOp BitOp ArithOp ConcatOp ArithOp ArithOp IncludeExpression RequireExpression CloneExpression UnaryExpression ControlOp LogicOp PrintIntrinsic FunctionExpression static ParamList Parameter #[ Attributes Attribute VariadicParameter PropertyParameter UseList ArrowFunction NewExpression class BaseClause ClassInterfaceClause DeclarationList ConstDeclaration VariableDeclarator PropertyDeclaration VariableDeclarator MethodDeclaration UseDeclaration UseList UseInsteadOfClause UseAsClause UpdateExpression ArithOp ShellExpression ThrowExpression Integer Float String MemberExpression SubscriptExpression UnaryExpression ArithOp Interpolation String IfStatement ColonBlock SwitchStatement Block CaseStatement DefaultStatement ColonBlock WhileStatement EmptyStatement DoStatement ForStatement ForSpec SequenceExpression ForeachStatement ForSpec Pair GotoStatement ContinueStatement BreakStatement ReturnStatement TryStatement CatchDeclarator DeclareStatement EchoStatement UnsetStatement ConstDeclaration FunctionDefinition ClassDeclaration InterfaceDeclaration TraitDeclaration EnumDeclaration EnumBody EnumCase NamespaceDefinition NamespaceUseDeclaration UseGroup UseClause UseClause GlobalDeclaration FunctionStaticDeclaration Program",
    maxTerm: 304,
    nodeProps: [
      ["group", -36, 2, 8, 49, 81, 83, 85, 88, 93, 94, 102, 106, 107, 110, 111, 114, 118, 123, 126, 130, 132, 133, 147, 148, 149, 150, 153, 154, 164, 165, 179, 181, 182, 183, 184, 185, 191, "Expression", -28, 74, 78, 80, 82, 192, 194, 199, 201, 202, 205, 208, 209, 210, 211, 212, 214, 215, 216, 217, 218, 219, 220, 221, 222, 225, 226, 230, 231, "Statement", -3, 119, 121, 122, "Type"],
      ["openedBy", 69, "phpOpen", 76, "{", 86, "(", 101, "#["],
      ["closedBy", 71, "phpClose", 77, "}", 87, ")", 158, "]"]
    ],
    propSources: [phpHighlighting],
    skippedNodes: [0],
    repeatNodeCount: 29,
    tokenData: "!5h_R!ZOX$tXY%nYZ&}Z]$t]^%n^p$tpq%nqr(]rs)wst*atu/nuv2_vw3`wx4gxy8Oyz8fz{8|{|:W|};_}!O;u!O!P=R!P!QBl!Q!RFr!R![Hn![!]Nz!]!^!!O!^!_!!f!_!`!%R!`!a!&V!a!b!'Z!b!c!*T!c!d!*k!d!e!+q!e!}!*k!}#O!-k#O#P!.R#P#Q!.i#Q#R!/P#R#S!*k#S#T!/j#T#U!*k#U#V!+q#V#o!*k#o#p!2y#p#q!3a#q#r!4j#r#s!5Q#s$f$t$f$g%n$g&j!*k&j$I_$t$I_$I`%n$I`$KW$t$KW$KX%n$KX?HT$t?HT?HU%n?HU~$tP$yT&wPOY$tYZ%YZ!^$t!^!_%_!_~$tP%_O&wPP%bSOY$tYZ%YZ!a$t!b~$tV%ub&wP&vUOX$tXY%nYZ&}Z]$t]^%n^p$tpq%nq!^$t!^!_%_!_$f$t$f$g%n$g$I_$t$I_$I`%n$I`$KW$t$KW$KX%n$KX?HT$t?HT?HU%n?HU~$tV'UW&wP&vUXY'nYZ'n]^'npq'n$f$g'n$I_$I`'n$KW$KX'n?HT?HU'nU'sW&vUXY'nYZ'n]^'npq'n$f$g'n$I_$I`'n$KW$KX'n?HT?HU'nR(dU$^Q&wPOY$tYZ%YZ!^$t!^!_%_!_!`(v!`~$tR(}U$QQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`)a!`~$tR)hT$QQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV*QT'fS&wP'gQOY$tYZ%YZ!^$t!^!_%_!_~$tV*hZ&wP!dUOY+ZYZ%YZ]+Z]^$t^!^+Z!^!_+}!_!a+Z!a!b-i!b!}+Z!}#O.x#O~+ZV+bX&wP!dUOY+ZYZ%YZ]+Z]^$t^!^+Z!^!_+}!_!a+Z!a!b-i!b~+ZV,SV!dUOY+ZYZ%YZ]+Z]^$t^!a+Z!a!b,i!b~+ZU,lUOY-OYZ-dZ]-O]^-d^!`-O!a~-OU-TT!dUOY-OZ]-O^!a-O!a!b,i!b~-OU-iO!dUV-nX&wPOY+ZYZ.ZZ]+Z]^.b^!^+Z!^!_+}!_!`+Z!`!a$t!a~+ZV.bO&wP!dUV.iT&wP!dUOY$tYZ%YZ!^$t!^!_%_!_~$tV/RX&wP$dQ!dUOY+ZYZ%YZ]+Z]^$t^!^+Z!^!_+}!_!a+Z!a!b-i!b~+Z_/u^&wP#dQOY$tYZ%YZ!^$t!^!_%_!_!c$t!c!}0q!}#R$t#R#S0q#S#T$t#T#o0q#o#p1w#p$g$t$g&j0q&j~$t_0x_&wP#b^OY$tYZ%YZ!Q$t!Q![0q![!^$t!^!_%_!_!c$t!c!}0q!}#R$t#R#S0q#S#T$t#T#o0q#o$g$t$g&j0q&j~$tV2OT&wP#eUOY$tYZ%YZ!^$t!^!_%_!_~$tR2fU&wP$VQOY$tYZ%YZ!^$t!^!_%_!_!`2x!`~$tR3PT#wQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV3gW#SU&wPOY$tYZ%YZv$tvw4Pw!^$t!^!_%_!_!`2x!`~$tR4WT#|Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR4nX&wP%VQOY4gYZ5ZZw4gwx6bx!^4g!^!_6x!_#O4g#O#P7j#P~4gR5bT&wP%VQOw5qwx6Vx#O5q#O#P6[#P~5qQ5vT%VQOw5qwx6Vx#O5q#O#P6[#P~5qQ6[O%VQQ6_PO~5qR6iT&wP%VQOY$tYZ%YZ!^$t!^!_%_!_~$tR6}X%VQOY4gYZ5ZZw4gwx6bx!a4g!a!b5q!b#O4g#O#P7j#P~4gR7oT&wPOY4gYZ5ZZ!^4g!^!_6x!_~4gR8VT!yQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV8mT!xU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR9TW&wP$VQOY$tYZ%YZz$tz{9m{!^$t!^!_%_!_!`2x!`~$tR9tU$WQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`2x!`~$tR:_W$TQ&wPOY$tYZ%YZ{$t{|:w|!^$t!^!_%_!_!`2x!`~$tR;OT$zQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR;fT!}Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$t_<OX$TQ%TW&wPOY$tYZ%YZ}$t}!O:w!O!^$t!^!_%_!_!`2x!`!a<k!a~$tV<rT#`U&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV=YY&wP$UQOY$tYZ%YZ!O$t!O!P=x!P!Q$t!Q![>z![!^$t!^!_%_!_!`2x!`~$tV=}V&wPOY$tYZ%YZ!O$t!O!P>d!P!^$t!^!_%_!_~$tV>kT#UU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR?R]&wP%OQOY$tYZ%YZ!Q$t!Q![>z![!^$t!^!_%_!_!g$t!g!h?z!h#R$t#R#SBQ#S#X$t#X#Y?z#Y~$tR@PZ&wPOY$tYZ%YZ{$t{|@r|}$t}!O@r!O!Q$t!Q![A^![!^$t!^!_%_!_~$tR@wV&wPOY$tYZ%YZ!Q$t!Q![A^![!^$t!^!_%_!_~$tRAeX&wP%OQOY$tYZ%YZ!Q$t!Q![A^![!^$t!^!_%_!_#R$t#R#S@r#S~$tRBVV&wPOY$tYZ%YZ!Q$t!Q![>z![!^$t!^!_%_!_~$tVBsY&wP$VQOY$tYZ%YZz$tz{Cc{!P$t!P!Q+Z!Q!^$t!^!_%_!_!`2x!`~$tVChV&wPOYCcYZC}ZzCcz{EQ{!^Cc!^!_FY!_~CcVDSR&wPOzD]z{Di{~D]UD`ROzD]z{Di{~D]UDlTOzD]z{Di{!PD]!P!QD{!Q~D]UEQO!eUVEVX&wPOYCcYZC}ZzCcz{EQ{!PCc!P!QEr!Q!^Cc!^!_FY!_~CcVEyT!eU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tVF]VOYCcYZC}ZzCcz{EQ{!aCc!a!bD]!b~CcZFyk&wP$}YOY$tYZ%YZ!O$t!O!P>z!P!Q$t!Q![Hn![!^$t!^!_%_!_!d$t!d!eJ`!e!g$t!g!h?z!h!q$t!q!rKt!r!z$t!z!{MS!{#R$t#R#SIt#S#U$t#U#VJ`#V#X$t#X#Y?z#Y#c$t#c#dKt#d#l$t#l#mMS#m~$tZHu_&wP$}YOY$tYZ%YZ!O$t!O!P>z!P!Q$t!Q![Hn![!^$t!^!_%_!_!g$t!g!h?z!h#R$t#R#SIt#S#X$t#X#Y?z#Y~$tZIyV&wPOY$tYZ%YZ!Q$t!Q![Hn![!^$t!^!_%_!_~$tZJeW&wPOY$tYZ%YZ!Q$t!Q!RJ}!R!SJ}!S!^$t!^!_%_!_~$tZKUY&wP$}YOY$tYZ%YZ!Q$t!Q!RJ}!R!SJ}!S!^$t!^!_%_!_#R$t#R#SJ`#S~$tZKyV&wPOY$tYZ%YZ!Q$t!Q!YL`!Y!^$t!^!_%_!_~$tZLgX&wP$}YOY$tYZ%YZ!Q$t!Q!YL`!Y!^$t!^!_%_!_#R$t#R#SKt#S~$tZMXZ&wPOY$tYZ%YZ!Q$t!Q![Mz![!^$t!^!_%_!_!c$t!c!iMz!i#T$t#T#ZMz#Z~$tZNR]&wP$}YOY$tYZ%YZ!Q$t!Q![Mz![!^$t!^!_%_!_!c$t!c!iMz!i#R$t#R#SMS#S#T$t#T#ZMz#Z~$tR! RV!qQ&wPOY$tYZ%YZ![$t![!]! h!]!^$t!^!_%_!_~$tR! oT#sQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!!VT!mU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!!kW$RQOY$tYZ%YZ!^$t!^!_!#T!_!`!#n!`!a)a!a!b!$[!b~$tR!#[U$SQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`2x!`~$tR!#uV$RQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`$t!`!a)a!a~$tP!$aR!iP!_!`!$j!r!s!$o#d#e!$oP!$oO!iPP!$rQ!j!k!$x#[#]!$xP!${Q!r!s!$j#d#e!$jV!%YV#uQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`(v!`!a!%o!a~$tV!%vT#OU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!&^V$RQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`!&s!`!a!#T!a~$tR!&zT$RQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!'bY!vQ&wPOY$tYZ%YZ}$t}!O!(Q!O!^$t!^!_%_!_!`$t!`!a!)S!a!b!)j!b~$tV!(VV&wPOY$tYZ%YZ!^$t!^!_%_!_!`$t!`!a!(l!a~$tV!(sT#aU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!)ZT!gU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!)qU#zQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`2x!`~$tR!*[T$]Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$t_!*r_&wP!s^OY$tYZ%YZ!Q$t!Q![!*k![!^$t!^!_%_!_!c$t!c!}!*k!}#R$t#R#S!*k#S#T$t#T#o!*k#o$g$t$g&j!*k&j~$t_!+xc&wP!s^OY$tYZ%YZr$trs!-Tsw$twx4gx!Q$t!Q![!*k![!^$t!^!_%_!_!c$t!c!}!*k!}#R$t#R#S!*k#S#T$t#T#o!*k#o$g$t$g&j!*k&j~$tR!-[T&wP'gQOY$tYZ%YZ!^$t!^!_%_!_~$tV!-rT#WU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!.YT#pU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!.pT#XQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!/WU$OQ&wPOY$tYZ%YZ!^$t!^!_%_!_!`2x!`~$tR!/oX&wPOY!/jYZ!0[Z!^!/j!^!_!1_!_#O!/j#O#P!1}#P#S!/j#S#T!2c#T~!/jR!0aT&wPO#O!0p#O#P!1S#P#S!0p#S#T!1Y#T~!0pQ!0sTO#O!0p#O#P!1S#P#S!0p#S#T!1Y#T~!0pQ!1VPO~!0pQ!1_O${QR!1bXOY!/jYZ!0[Z!a!/j!a!b!0p!b#O!/j#O#P!1}#P#S!/j#S#T!2c#T~!/jR!2ST&wPOY!/jYZ!0[Z!^!/j!^!_!1_!_~!/jR!2jT${Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!3QT!oU&wPOY$tYZ%YZ!^$t!^!_%_!_~$tV!3jW#}Q#lS&wPOY$tYZ%YZ!^$t!^!_%_!_!`2x!`#p$t#p#q!4S#q~$tR!4ZT#{Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!4qT!nQ&wPOY$tYZ%YZ!^$t!^!_%_!_~$tR!5XT$^Q&wPOY$tYZ%YZ!^$t!^!_%_!_~$t",
    tokenizers: [expression, interpolated, semicolon, 0, 1, 2, 3, eofToken],
    topRules: {Template: [0, 72], Program: [1, 232]},
    dynamicPrecedences: {"284": 1},
    specialized: [{term: 81, get: (value, stack) => keywords(value) << 1}, {term: 81, get: (value) => spec_Name[value] || -1}],
    tokenPrec: 29354
  });

  // node_modules/@lezer/html/dist/index.es.js
  var scriptText = 54;
  var StartCloseScriptTag = 1;
  var styleText = 55;
  var StartCloseStyleTag = 2;
  var textareaText = 56;
  var StartCloseTextareaTag = 3;
  var StartTag = 4;
  var StartScriptTag = 5;
  var StartStyleTag = 6;
  var StartTextareaTag = 7;
  var StartSelfClosingTag = 8;
  var StartCloseTag = 9;
  var NoMatchStartCloseTag = 10;
  var MismatchedStartCloseTag = 11;
  var missingCloseTag = 57;
  var IncompleteCloseTag = 12;
  var commentContent$1 = 58;
  var Element = 18;
  var ScriptText = 27;
  var StyleText = 30;
  var TextareaText = 33;
  var OpenTag = 35;
  var Dialect_noMatch = 0;
  var selfClosers = {
    area: true,
    base: true,
    br: true,
    col: true,
    command: true,
    embed: true,
    frame: true,
    hr: true,
    img: true,
    input: true,
    keygen: true,
    link: true,
    meta: true,
    param: true,
    source: true,
    track: true,
    wbr: true,
    menuitem: true
  };
  var implicitlyClosed = {
    dd: true,
    li: true,
    optgroup: true,
    option: true,
    p: true,
    rp: true,
    rt: true,
    tbody: true,
    td: true,
    tfoot: true,
    th: true,
    tr: true
  };
  var closeOnOpen = {
    dd: {dd: true, dt: true},
    dt: {dd: true, dt: true},
    li: {li: true},
    option: {option: true, optgroup: true},
    optgroup: {optgroup: true},
    p: {
      address: true,
      article: true,
      aside: true,
      blockquote: true,
      dir: true,
      div: true,
      dl: true,
      fieldset: true,
      footer: true,
      form: true,
      h1: true,
      h2: true,
      h3: true,
      h4: true,
      h5: true,
      h6: true,
      header: true,
      hgroup: true,
      hr: true,
      menu: true,
      nav: true,
      ol: true,
      p: true,
      pre: true,
      section: true,
      table: true,
      ul: true
    },
    rp: {rp: true, rt: true},
    rt: {rp: true, rt: true},
    tbody: {tbody: true, tfoot: true},
    td: {td: true, th: true},
    tfoot: {tbody: true},
    th: {td: true, th: true},
    thead: {tbody: true, tfoot: true},
    tr: {tr: true}
  };
  function nameChar(ch) {
    return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161;
  }
  function isSpace2(ch) {
    return ch == 9 || ch == 10 || ch == 13 || ch == 32;
  }
  var cachedName = null;
  var cachedInput = null;
  var cachedPos = 0;
  function tagNameAfter(input, offset) {
    let pos = input.pos + offset;
    if (cachedPos == pos && cachedInput == input)
      return cachedName;
    let next = input.peek(offset);
    while (isSpace2(next))
      next = input.peek(++offset);
    let name2 = "";
    for (; ; ) {
      if (!nameChar(next))
        break;
      name2 += String.fromCharCode(next);
      next = input.peek(++offset);
    }
    cachedInput = input;
    cachedPos = pos;
    return cachedName = name2 ? name2.toLowerCase() : next == question || next == bang ? void 0 : null;
  }
  var lessThan = 60;
  var greaterThan = 62;
  var slash = 47;
  var question = 63;
  var bang = 33;
  var dash = 45;
  function ElementContext(name2, parent) {
    this.name = name2;
    this.parent = parent;
    this.hash = parent ? parent.hash : 0;
    for (let i = 0; i < name2.length; i++)
      this.hash += (this.hash << 4) + name2.charCodeAt(i) + (name2.charCodeAt(i) << 8);
  }
  var startTagTerms = [StartTag, StartSelfClosingTag, StartScriptTag, StartStyleTag, StartTextareaTag];
  var elementContext = new ContextTracker({
    start: null,
    shift(context, term, stack, input) {
      return startTagTerms.indexOf(term) > -1 ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
    },
    reduce(context, term) {
      return term == Element && context ? context.parent : context;
    },
    reuse(context, node, stack, input) {
      let type = node.type.id;
      return type == StartTag || type == OpenTag ? new ElementContext(tagNameAfter(input, 1) || "", context) : context;
    },
    hash(context) {
      return context ? context.hash : 0;
    },
    strict: false
  });
  var tagStart = new ExternalTokenizer((input, stack) => {
    if (input.next != lessThan) {
      if (input.next < 0 && stack.context)
        input.acceptToken(missingCloseTag);
      return;
    }
    input.advance();
    let close = input.next == slash;
    if (close)
      input.advance();
    let name2 = tagNameAfter(input, 0);
    if (name2 === void 0)
      return;
    if (!name2)
      return input.acceptToken(close ? IncompleteCloseTag : StartTag);
    let parent = stack.context ? stack.context.name : null;
    if (close) {
      if (name2 == parent)
        return input.acceptToken(StartCloseTag);
      if (parent && implicitlyClosed[parent])
        return input.acceptToken(missingCloseTag, -2);
      if (stack.dialectEnabled(Dialect_noMatch))
        return input.acceptToken(NoMatchStartCloseTag);
      for (let cx = stack.context; cx; cx = cx.parent)
        if (cx.name == name2)
          return;
      input.acceptToken(MismatchedStartCloseTag);
    } else {
      if (name2 == "script")
        return input.acceptToken(StartScriptTag);
      if (name2 == "style")
        return input.acceptToken(StartStyleTag);
      if (name2 == "textarea")
        return input.acceptToken(StartTextareaTag);
      if (selfClosers.hasOwnProperty(name2))
        return input.acceptToken(StartSelfClosingTag);
      if (parent && closeOnOpen[parent] && closeOnOpen[parent][name2])
        input.acceptToken(missingCloseTag, -1);
      else
        input.acceptToken(StartTag);
    }
  }, {contextual: true});
  var commentContent = new ExternalTokenizer((input) => {
    for (let dashes = 0, i = 0; ; i++) {
      if (input.next < 0) {
        if (i)
          input.acceptToken(commentContent$1);
        break;
      }
      if (input.next == dash) {
        dashes++;
      } else if (input.next == greaterThan && dashes >= 2) {
        if (i > 3)
          input.acceptToken(commentContent$1, -2);
        break;
      } else {
        dashes = 0;
      }
      input.advance();
    }
  });
  function contentTokenizer(tag, textToken, endToken) {
    let lastState = 2 + tag.length;
    return new ExternalTokenizer((input) => {
      for (let state = 0, matchedLen = 0, i = 0; ; i++) {
        if (input.next < 0) {
          if (i)
            input.acceptToken(textToken);
          break;
        }
        if (state == 0 && input.next == lessThan || state == 1 && input.next == slash || state >= 2 && state < lastState && input.next == tag.charCodeAt(state - 2)) {
          state++;
          matchedLen++;
        } else if ((state == 2 || state == lastState) && isSpace2(input.next)) {
          matchedLen++;
        } else if (state == lastState && input.next == greaterThan) {
          if (i > matchedLen)
            input.acceptToken(textToken, -matchedLen);
          else
            input.acceptToken(endToken, -(matchedLen - 2));
          break;
        } else if ((input.next == 10 || input.next == 13) && i) {
          input.acceptToken(textToken, 1);
          break;
        } else {
          state = matchedLen = 0;
        }
        input.advance();
      }
    });
  }
  var scriptTokens = contentTokenizer("script", scriptText, StartCloseScriptTag);
  var styleTokens = contentTokenizer("style", styleText, StartCloseStyleTag);
  var textareaTokens = contentTokenizer("textarea", textareaText, StartCloseTextareaTag);
  var htmlHighlighting = styleTags({
    "Text RawText": tags.content,
    "StartTag StartCloseTag SelfClosingEndTag EndTag": tags.angleBracket,
    TagName: tags.tagName,
    "MismatchedCloseTag/TagName": [tags.tagName, tags.invalid],
    AttributeName: tags.attributeName,
    "AttributeValue UnquotedAttributeValue": tags.attributeValue,
    Is: tags.definitionOperator,
    "EntityReference CharacterReference": tags.character,
    Comment: tags.blockComment,
    ProcessingInst: tags.processingInstruction,
    DoctypeDecl: tags.documentMeta
  });
  var parser2 = LRParser.deserialize({
    version: 14,
    states: ",xOVOxOOO!WQ!bO'#CoO!]Q!bO'#CyO!bQ!bO'#C|O!gQ!bO'#DPO!lQ!bO'#DRO!qOXO'#CnO!|OYO'#CnO#XO[O'#CnO$eOxO'#CnOOOW'#Cn'#CnO$lO!rO'#DTO$tQ!bO'#DVO$yQ!bO'#DWOOOW'#Dk'#DkOOOW'#DY'#DYQVOxOOO%OQ#tO,59ZO%WQ#tO,59eO%`Q#tO,59hO%hQ#tO,59kO%sQ#tO,59mOOOX'#D^'#D^O%{OXO'#CwO&WOXO,59YOOOY'#D_'#D_O&`OYO'#CzO&kOYO,59YOOO['#D`'#D`O&sO[O'#C}O'OO[O,59YOOOW'#Da'#DaO'WOxO,59YO'_Q!bO'#DQOOOW,59Y,59YOOO`'#Db'#DbO'dO!rO,59oOOOW,59o,59oO'lQ!bO,59qO'qQ!bO,59rOOOW-E7W-E7WO'vQ#tO'#CqOOQO'#DZ'#DZO(UQ#tO1G.uOOOX1G.u1G.uO(^Q#tO1G/POOOY1G/P1G/PO(fQ#tO1G/SOOO[1G/S1G/SO(nQ#tO1G/VOOOW1G/V1G/VOOOW1G/X1G/XO(yQ#tO1G/XOOOX-E7[-E7[O)RQ!bO'#CxOOOW1G.t1G.tOOOY-E7]-E7]O)WQ!bO'#C{OOO[-E7^-E7^O)]Q!bO'#DOOOOW-E7_-E7_O)bQ!bO,59lOOO`-E7`-E7`OOOW1G/Z1G/ZOOOW1G/]1G/]OOOW1G/^1G/^O)gQ&jO,59]OOQO-E7X-E7XOOOX7+$a7+$aOOOY7+$k7+$kOOO[7+$n7+$nOOOW7+$q7+$qOOOW7+$s7+$sO)rQ!bO,59dO)wQ!bO,59gO)|Q!bO,59jOOOW1G/W1G/WO*RO,UO'#CtO*dO7[O'#CtOOQO1G.w1G.wOOOW1G/O1G/OOOOW1G/R1G/ROOOW1G/U1G/UOOOO'#D['#D[O*uO,UO,59`OOQO,59`,59`OOOO'#D]'#D]O+WO7[O,59`OOOO-E7Y-E7YOOQO1G.z1G.zOOOO-E7Z-E7Z",
    stateData: "+u~O!^OS~OSSOTPOUQOVROWTOY]OZ[O[^O^^O_^O`^Oa^Ox^O{_O!dZO~OdaO~OdbO~OdcO~OddO~OdeO~O!WfOPkP!ZkP~O!XiOQnP!ZnP~O!YlORqP!ZqP~OSSOTPOUQOVROWTOXqOY]OZ[O[^O^^O_^O`^Oa^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OdvO~OdwO~OfyOj|O~OfyOj!OO~OfyOj!QO~OfyOj!SOv!TO~OfyOj!TO~O!WfOPkX!ZkX~OP!WO!Z!XO~O!XiOQnX!ZnX~OQ!ZO!Z!XO~O!YlORqX!ZqX~OR!]O!Z!XO~O!Z!XO~P#dOd!_O~O![sO!e!aO~Oj!bO~Oj!cO~Og!dOfeXjeXveX~OfyOj!fO~OfyOj!gO~OfyOj!hO~OfyOj!iOv!jO~OfyOj!jO~Od!kO~Od!lO~Od!mO~Oj!nO~Oi!qO!`!oO!b!pO~Oj!rO~Oj!sO~Oj!tO~O_!uO`!uOa!uO!`!wO!a!uO~O_!xO`!xOa!xO!b!wO!c!xO~O_!uO`!uOa!uO!`!{O!a!uO~O_!xO`!xOa!xO!b!{O!c!xO~Ov~vj`!dx{_a_~",
    goto: "%p!`PPPPPPPPPPPPPPPPPP!a!gP!mPP!yPP!|#P#S#Y#]#`#f#i#l#r#xP!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",
    nodeNames: "\u26A0 StartCloseTag StartCloseTag StartCloseTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue EndTag ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag SelfClosingEndTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",
    maxTerm: 67,
    context: elementContext,
    nodeProps: [
      ["closedBy", -10, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, "EndTag", 4, "EndTag SelfClosingEndTag", -4, 19, 29, 32, 35, "CloseTag"],
      ["group", -9, 12, 15, 16, 17, 18, 39, 40, 41, 42, "Entity", 14, "Entity TextContent", -3, 27, 30, 33, "TextContent Entity"],
      ["openedBy", 26, "StartTag StartCloseTag", -4, 28, 31, 34, 36, "OpenTag", 38, "StartTag"]
    ],
    propSources: [htmlHighlighting],
    skippedNodes: [0],
    repeatNodeCount: 9,
    tokenData: "#(r!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs4ysv-_vw5iwxJ^x}-_}!OKP!O!P-_!P!Q!!O!Q![-_![!]!$c!]!^-_!^!_!(k!_!`#'S!`!a#'z!a!c-_!c!}!$c!}#R-_#R#S!$c#S#T3V#T#o!$c#o#s-_#s$f$q$f%W-_%W%o!$c%o%p-_%p&a!$c&a&b-_&b1p!$c1p4U-_4U4d!$c4d4e-_4e$IS!$c$IS$I`-_$I`$Ib!$c$Ib$Kh-_$Kh%#t!$c%#t&/x-_&/x&Et!$c&Et&FV-_&FV;'S!$c;'S;:j!(e;:j;=`4s<%l?&r-_?&r?Ah!$c?Ah?BY$q?BY?Mn!$c?MnO$q!Z$|c^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX^P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV^P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT^POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W^P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYiWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`^P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljfS^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ecfSiWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0uXfSqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0pS1eP;=`<%l0p[1kP;=`<%l/^!U1wbfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!U3SP;=`<%l1n!V3bcfS^P!a`!cpOq&Xqr3Vrs&}sv3Vvw0pwx(tx!P3V!P!Q&X!Q!^3V!^!_1n!_!a&X!a#s3V#s$f&X$f;'S3V;'S;=`4m<%l?Ah3V?Ah?BY&X?BY?Mn3V?MnO&X!V4pP;=`<%l3V!_4vP;=`<%l-_!Z5SV!`h^P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_5rjfSiWa!ROX7dXZ8qZ[7d[^8q^p7dqr:crs8qst@Ttw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^/^!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!Z7ibiWOX7dXZ8qZ[7d[^8q^p7dqr7drs8qst+Ptw7dwx8qx!]7d!]!^9f!^!a8q!a#S7d#S#T8q#T;'S7d;'S;=`:]<%lO7d!R8tVOp8qqs8qt!]8q!]!^9Z!^;'S8q;'S;=`9`<%lO8q!R9`O_!R!R9cP;=`<%l8q!Z9mYiW_!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z:`P;=`<%l7d!_:jjfSiWOX7dXZ8qZ[7d[^8q^p7dqr:crs8qst/^tw:cwx8qx!P:c!P!Q7d!Q!]:c!]!^<[!^!_=p!_!a8q!a#S:c#S#T=p#T#s:c#s$f7d$f;'S:c;'S;=`?}<%l?Ah:c?Ah?BY7d?BY?Mn:c?MnO7d!_<ecfSiW_!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V=udfSOp8qqr=prs8qst0ptw=pwx8qx!P=p!P!Q8q!Q!]=p!]!^?T!^!_=p!_!a8q!a#s=p#s$f8q$f;'S=p;'S;=`?w<%l?Ah=p?Ah?BY8q?BY?Mn=p?MnO8q!V?[XfS_!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!V?zP;=`<%l=p!_@QP;=`<%l:c!_@[ifSiWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^/^!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!ZBOaiWOXAyXZCTZ[Ay[^CT^pAyqrAyrsCTswAywxCTx!]Ay!]!^Cu!^!aCT!a#SAy#S#TCT#T;'SAy;'S;=`Dl<%lOAy!RCWUOpCTq!]CT!]!^Cj!^;'SCT;'S;=`Co<%lOCT!RCoO`!R!RCrP;=`<%lCT!ZC|YiW`!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZDoP;=`<%lAy!_DyifSiWOXAyXZCTZ[Ay[^CT^pAyqrDrrsCTswDrwxCTx!PDr!P!QAy!Q!]Dr!]!^Fh!^!_G|!_!aCT!a#SDr#S#TG|#T#sDr#s$fAy$f;'SDr;'S;=`JW<%l?AhDr?Ah?BYAy?BY?MnDr?MnOAy!_FqcfSiW`!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!^!_0p!a#S/^#S#T0p#T#s/^#s$f+P$f;'S/^;'S;=`1h<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VHRcfSOpCTqrG|rsCTswG|wxCTx!PG|!P!QCT!Q!]G|!]!^I^!^!_G|!_!aCT!a#sG|#s$fCT$f;'SG|;'S;=`JQ<%l?AhG|?Ah?BYCT?BY?MnG|?MnOCT!VIeXfS`!Rqr0psw0px!P0p!Q!_0p!a#s0p$f;'S0p;'S;=`1b<%l?Ah0p?BY?Mn0p!VJTP;=`<%lG|!_JZP;=`<%lDr!ZJgW!bx^P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aK^lfS^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMU!O!P-_!P!Q$q!Q!^-_!^!_1n!_!a&X!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aMckfS^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_1n!_!`&X!`!a! W!a#S-_#S#T3V#T#s-_#s$f$q$f;'S-_;'S;=`4s<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!T! cX^P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!a!!Zd^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!`&X!`!a!#i!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!X!#vX^P!a`!cpvSjUOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!a!$r!ZfSdQ^PiW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!O!$c!O!P!$c!P!Q$q!Q![!$c![!]!$c!]!^-_!^!_1n!_!a&X!a!c-_!c!}!$c!}#R-_#R#S!$c#S#T3V#T#o!$c#o#s-_#s$f$q$f$}-_$}%O!$c%O%W-_%W%o!$c%o%p-_%p&a!$c&a&b-_&b1p!$c1p4U!$c4U4d!$c4d4e-_4e$IS!$c$IS$I`-_$I`$Ib!$c$Ib$Je-_$Je$Jg!$c$Jg$Kh-_$Kh%#t!$c%#t&/x-_&/x&Et!$c&Et&FV-_&FV;'S!$c;'S;:j!(e;:j;=`4s<%l?&r-_?&r?Ah!$c?Ah?BY$q?BY?Mn!$c?MnO$q!a!(hP;=`<%l!$c!V!(tcfS!a`!cpOq*Vqr!*Prs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!b!H^!b#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!*YhfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!+t!O!P1n!P!Q*V!Q!_1n!_!a*V!a!f1n!f!g!.p!g#W1n#W#X!?^#X#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!+}dfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex}1n}!O!-]!O!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!-hbfS!a`!cp!dPOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!.ydfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!q1n!q!r!0X!r#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!0bdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!e1n!e!f!1p!f#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!1ydfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!v1n!v!w!3X!w#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!3bdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!{1n!{!|!4p!|#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!4ydfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!r1n!r!s!6X!s#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!6bdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a!g1n!g!h!7p!h#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!7ycfS!a`!cpOq!9Uqr!7prs!9{sv!7pvw!=swx!;ox!P!7p!P!Q!9U!Q!_!7p!_!`!9U!`!a!<}!a#s!7p#s$f!9U$f;'S!7p;'S;=`!?W<%l?Ah!7p?Ah?BY!9U?BY?Mn!7p?MnO!9U!R!9]Y!a`!cpOr!9Urs!9{sv!9Uvw!:gwx!;ox!`!9U!`!a!<}!a;'S!9U;'S;=`!=m<%lO!9Uq!:QV!cpOv!9{vx!:gx!`!9{!`!a!;U!a;'S!9{;'S;=`!;i<%lO!9{P!:jTO!`!:g!`!a!:y!a;'S!:g;'S;=`!;O<%lO!:gP!;OO{PP!;RP;=`<%l!:gq!;]S!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!;lP;=`<%l!9{a!;tX!a`Or!;ors!:gsv!;ovw!:gw!`!;o!`!a!<a!a;'S!;o;'S;=`!<w<%lO!;oa!<hT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!<zP;=`<%l!;o!R!=WV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!=pP;=`<%l!9UT!=xbfSOq!:gqr!=srs!:gsw!=swx!:gx!P!=s!P!Q!:g!Q!_!=s!_!`!:g!`!a!:y!a#s!=s#s$f!:g$f;'S!=s;'S;=`!?Q<%l?Ah!=s?Ah?BY!:g?BY?Mn!=s?MnO!:gT!?TP;=`<%l!=s!V!?ZP;=`<%l!7p!V!?gdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#c1n#c#d!@u#d#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!AOdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#V1n#V#W!B^#W#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!BgdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#h1n#h#i!Cu#i#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!DOdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#m1n#m#n!E^#n#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!EgdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#d1n#d#e!Fu#e#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!GOdfS!a`!cpOq*Vqr1nrs(Vsv1nvw0pwx)ex!P1n!P!Q*V!Q!_1n!_!a*V!a#X1n#X#Y!7p#Y#s1n#s$f*V$f;'S1n;'S;=`3P<%l?Ah1n?Ah?BY*V?BY?Mn1n?MnO*V!V!HgcfS!a`!cpOq!Irqr!H^rs!Jisv!H^vw#!vwx!MZx!P!H^!P!Q!Ir!Q!_!H^!_!a!Ir!a!b#%h!b#s!H^#s$f!Ir$f;'S!H^;'S;=`#&|<%l?Ah!H^?Ah?BY!Ir?BY?Mn!H^?MnO!Ir!R!IyY!a`!cpOr!Irrs!Jisv!Irvw!KTwx!MZx!a!Ir!a!b# Z!b;'S!Ir;'S;=`#!p<%lO!Irq!JnV!cpOv!Jivx!KTx!a!Ji!a!b!LU!b;'S!Ji;'S;=`!MT<%lO!JiP!KWTO!a!KT!a!b!Kg!b;'S!KT;'S;=`!LO<%lO!KTP!KjTO!`!KT!`!a!Ky!a;'S!KT;'S;=`!LO<%lO!KTP!LOOxPP!LRP;=`<%l!KTq!LZV!cpOv!Jivx!KTx!`!Ji!`!a!Lp!a;'S!Ji;'S;=`!MT<%lO!Jiq!LwS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!MWP;=`<%l!Jia!M`X!a`Or!MZrs!KTsv!MZvw!KTw!a!MZ!a!b!M{!b;'S!MZ;'S;=`# T<%lO!MZa!NQX!a`Or!MZrs!KTsv!MZvw!KTw!`!MZ!`!a!Nm!a;'S!MZ;'S;=`# T<%lO!MZa!NtT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea# WP;=`<%l!MZ!R# bY!a`!cpOr!Irrs!Jisv!Irvw!KTwx!MZx!`!Ir!`!a#!Q!a;'S!Ir;'S;=`#!p<%lO!Ir!R#!ZV!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R#!sP;=`<%l!IrT#!{bfSOq!KTqr#!vrs!KTsw#!vwx!KTx!P#!v!P!Q!KT!Q!_#!v!_!a!KT!a!b#$T!b#s#!v#s$f!KT$f;'S#!v;'S;=`#%b<%l?Ah#!v?Ah?BY!KT?BY?Mn#!v?MnO!KTT#$YbfSOq!KTqr#!vrs!KTsw#!vwx!KTx!P#!v!P!Q!KT!Q!_#!v!_!`!KT!`!a!Ky!a#s#!v#s$f!KT$f;'S#!v;'S;=`#%b<%l?Ah#!v?Ah?BY!KT?BY?Mn#!v?MnO!KTT#%eP;=`<%l#!v!V#%qcfS!a`!cpOq!Irqr!H^rs!Jisv!H^vw#!vwx!MZx!P!H^!P!Q!Ir!Q!_!H^!_!`!Ir!`!a#!Q!a#s!H^#s$f!Ir$f;'S!H^;'S;=`#&|<%l?Ah!H^?Ah?BY!Ir?BY?Mn!H^?MnO!Ir!V#'PP;=`<%l!H^!V#'_XgS^P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!X#(VX^P!a`!cpjUOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",
    tokenizers: [scriptTokens, styleTokens, textareaTokens, tagStart, commentContent, 0, 1, 2, 3, 4, 5],
    topRules: {Document: [0, 13]},
    dialects: {noMatch: 0, selfClosing: 485},
    tokenPrec: 487
  });
  function getAttrs(element, input) {
    let attrs = Object.create(null);
    for (let att of element.firstChild.getChildren("Attribute")) {
      let name2 = att.getChild("AttributeName"), value = att.getChild("AttributeValue") || att.getChild("UnquotedAttributeValue");
      if (name2)
        attrs[input.read(name2.from, name2.to)] = !value ? "" : value.name == "AttributeValue" ? input.read(value.from + 1, value.to - 1) : input.read(value.from, value.to);
    }
    return attrs;
  }
  function maybeNest(node, input, tags3) {
    let attrs;
    for (let tag of tags3) {
      if (!tag.attrs || tag.attrs(attrs || (attrs = getAttrs(node.node.parent, input))))
        return {parser: tag.parser};
    }
    return null;
  }
  function configureNesting(tags3) {
    let script = [], style = [], textarea = [];
    for (let tag of tags3) {
      let array2 = tag.tag == "script" ? script : tag.tag == "style" ? style : tag.tag == "textarea" ? textarea : null;
      if (!array2)
        throw new RangeError("Only script, style, and textarea tags can host nested parsers");
      array2.push(tag);
    }
    return parseMixed((node, input) => {
      let id2 = node.type.id;
      if (id2 == ScriptText)
        return maybeNest(node, input, script);
      if (id2 == StyleText)
        return maybeNest(node, input, style);
      if (id2 == TextareaText)
        return maybeNest(node, input, textarea);
      return null;
    });
  }

  // node_modules/@lezer/css/dist/index.es.js
  var descendantOp = 93;
  var Unit = 1;
  var callee = 94;
  var identifier = 95;
  var VariableName = 2;
  var space = [
    9,
    10,
    11,
    12,
    13,
    32,
    133,
    160,
    5760,
    8192,
    8193,
    8194,
    8195,
    8196,
    8197,
    8198,
    8199,
    8200,
    8201,
    8202,
    8232,
    8233,
    8239,
    8287,
    12288
  ];
  var colon = 58;
  var parenL = 40;
  var underscore = 95;
  var bracketL = 91;
  var dash2 = 45;
  var period = 46;
  var hash = 35;
  var percent = 37;
  function isAlpha(ch) {
    return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch >= 161;
  }
  function isDigit(ch) {
    return ch >= 48 && ch <= 57;
  }
  var identifiers = new ExternalTokenizer((input, stack) => {
    for (let inside2 = false, dashes = 0, i = 0; ; i++) {
      let {next} = input;
      if (isAlpha(next) || next == dash2 || next == underscore || inside2 && isDigit(next)) {
        if (!inside2 && (next != dash2 || i > 0))
          inside2 = true;
        if (dashes === i && next == dash2)
          dashes++;
        input.advance();
      } else {
        if (inside2)
          input.acceptToken(next == parenL ? callee : dashes == 2 && stack.canShift(VariableName) ? VariableName : identifier);
        break;
      }
    }
  });
  var descendant = new ExternalTokenizer((input) => {
    if (space.includes(input.peek(-1))) {
      let {next} = input;
      if (isAlpha(next) || next == underscore || next == hash || next == period || next == bracketL || next == colon || next == dash2)
        input.acceptToken(descendantOp);
    }
  });
  var unitToken = new ExternalTokenizer((input) => {
    if (!space.includes(input.peek(-1))) {
      let {next} = input;
      if (next == percent) {
        input.advance();
        input.acceptToken(Unit);
      }
      if (isAlpha(next)) {
        do {
          input.advance();
        } while (isAlpha(input.next));
        input.acceptToken(Unit);
      }
    }
  });
  var cssHighlighting = styleTags({
    "AtKeyword import charset namespace keyframes media supports": tags.definitionKeyword,
    "from to selector": tags.keyword,
    NamespaceName: tags.namespace,
    KeyframeName: tags.labelName,
    TagName: tags.tagName,
    ClassName: tags.className,
    PseudoClassName: tags.constant(tags.className),
    IdName: tags.labelName,
    "FeatureName PropertyName": tags.propertyName,
    AttributeName: tags.attributeName,
    NumberLiteral: tags.number,
    KeywordQuery: tags.keyword,
    UnaryQueryOp: tags.operatorKeyword,
    "CallTag ValueName": tags.atom,
    VariableName: tags.variableName,
    Callee: tags.operatorKeyword,
    Unit: tags.unit,
    "UniversalSelector NestingSelector": tags.definitionOperator,
    MatchOp: tags.compareOperator,
    "ChildOp SiblingOp, LogicOp": tags.logicOperator,
    BinOp: tags.arithmeticOperator,
    Important: tags.modifier,
    Comment: tags.blockComment,
    ParenthesizedContent: tags.special(tags.name),
    ColorLiteral: tags.color,
    StringLiteral: tags.string,
    ":": tags.punctuation,
    "PseudoOp #": tags.derefOperator,
    "; ,": tags.separator,
    "( )": tags.paren,
    "[ ]": tags.squareBracket,
    "{ }": tags.brace
  });
  var spec_callee = {__proto__: null, lang: 32, "nth-child": 32, "nth-last-child": 32, "nth-of-type": 32, "nth-last-of-type": 32, dir: 32, "host-context": 32, url: 60, "url-prefix": 60, domain: 60, regexp: 60, selector: 134};
  var spec_AtKeyword = {__proto__: null, "@import": 114, "@media": 138, "@charset": 142, "@namespace": 146, "@keyframes": 152, "@supports": 164};
  var spec_identifier = {__proto__: null, not: 128, only: 128, from: 158, to: 160};
  var parser3 = LRParser.deserialize({
    version: 14,
    states: "7WOYQ[OOOOQP'#Cd'#CdOOQP'#Cc'#CcO!ZQ[O'#CfO!}QXO'#CaO#UQ[O'#ChO#aQ[O'#DPO#fQ[O'#DTOOQP'#Ec'#EcO#kQdO'#DeO$VQ[O'#DrO#kQdO'#DtO$hQ[O'#DvO$sQ[O'#DyO$xQ[O'#EPO%WQ[O'#EROOQS'#Eb'#EbOOQS'#ES'#ESQYQ[OOOOQP'#Cg'#CgOOQP,59Q,59QO!ZQ[O,59QO%_Q[O'#EVO%yQWO,58{O&RQ[O,59SO#aQ[O,59kO#fQ[O,59oO%_Q[O,59sO%_Q[O,59uO%_Q[O,59vO'bQ[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO'iQWO,59SO'nQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO'sQ`O,59oOOQS'#Cp'#CpO#kQdO'#CqO'{QvO'#CsO)VQtO,5:POOQO'#Cx'#CxO'nQWO'#CwO)kQWO'#CyOOQS'#Ef'#EfOOQO'#Dh'#DhO)pQ[O'#DoO*OQWO'#EiO$xQ[O'#DmO*^QWO'#DpOOQO'#Ej'#EjO%|QWO,5:^O*cQpO,5:`OOQS'#Dx'#DxO*kQWO,5:bO*pQ[O,5:bOOQO'#D{'#D{O*xQWO,5:eO*}QWO,5:kO+VQWO,5:mOOQS-E8Q-E8QOOQP1G.l1G.lO+yQXO,5:qOOQO-E8T-E8TOOQS1G.g1G.gOOQP1G.n1G.nO'iQWO1G.nO'nQWO1G.nOOQP1G/V1G/VO,WQ`O1G/ZO,qQXO1G/_O-XQXO1G/aO-oQXO1G/bO.VQXO'#CdO.zQWO'#DaOOQS,59z,59zO/PQWO,59zO/XQ[O,59zO/`Q[O'#DOO/gQdO'#CoOOQP1G/Z1G/ZO#kQdO1G/ZO/nQpO,59]OOQS,59_,59_O#kQdO,59aO/vQWO1G/kOOQS,59c,59cO/{Q!bO,59eO0TQWO'#DhO0`QWO,5:TO0eQWO,5:ZO$xQ[O,5:VO$xQ[O'#EYO0mQWO,5;TO0xQWO,5:XO%_Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O1ZQWO1G/|O1`QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XOOQP7+$Y7+$YOOQP7+$u7+$uO#kQdO7+$uO#kQdO,59{O1nQ[O'#EXO1xQWO1G/fOOQS1G/f1G/fO1xQWO1G/fO2QQXO'#EhO2XQWO,59jO2^QtO'#ETO3RQdO'#EeO3]QWO,59ZO3bQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO3jQWO1G/PO#kQdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO3oQWO,5:tOOQO-E8W-E8WO3}QXO1G/vOOQS7+%h7+%hO4UQYO'#CsO%|QWO'#EZO4^QdO,5:hOOQS,5:h,5:hO4lQpO<<HaO4tQtO1G/gOOQO,5:s,5:sO5XQ[O,5:sOOQO-E8V-E8VOOQS7+%Q7+%QO5cQWO7+%QO5kQWO,5;SOOQP1G/U1G/UOOQS-E8R-E8RO#kQdO'#EUO5sQWO,5;POOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO5{QdO7+%ZOOQO7+%b7+%bOOQS,5:u,5:uOOQS-E8X-E8XOOQS1G0S1G0SOOQPAN={AN={O6SQtO'#EWO#kQdO'#EWO6}QdO7+%ROOQO7+%R7+%ROOQO1G0_1G0_OOQS<<Hl<<HlO7_QdO,5:pOOQO-E8S-E8SOOQO<<Hu<<HuO7iQtO,5:rOOQS-E8U-E8UOOQO<<Hm<<Hm",
    stateData: "8j~O#TOSROS~OUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#RPO#WRO~O#RcO~O]hO^hOpfOtiOxjO|kO!PmO#PlO#WeO~O!RnO~P!`O`tO#QqO#RpO~O#RuO~O#RwO~OQ!QObzOf!QOh!QOn!PO#Q}O#RyO#Z{O~Ob!SO!b!UO!e!VO#R!RO!R#]P~Oh![On!PO#R!ZO~O#R!^O~Ob!SO!b!UO!e!VO#R!RO~O!W#]P~P$VOUWOXWO]TO^TOtUOxVO#RPO#WRO~OpfO!RnO~O`!iO#QqO#RpO~OQ!pOUWOXWO]TO^TOtUOxVO!Y_O!ZXO!gYO!iZO!k[O!n]O!t^O#R!oO#WRO~O!Q!qO~P&^Ob!tO~Ob!uO~Ov!vOz!wO~OP!yObgXjgX!WgX!bgX!egX#RgXagXQgXfgXhgXngXpgX#QgX#ZgXvgX!QgX!VgX~Ob!SOj!zO!b!UO!e!VO#R!RO!W#]P~Ob!}O~Ob!SO!b!UO!e!VO#R#OO~Op#SO!`#RO!R#]X!W#]X~Ob#VO~Oj!zO!W#XO~O!W#YO~Oh#ZOn!PO~O!R#[O~O!RnO!`#RO~O!RnO!W#_O~O]hO^hOtiOxjO|kO!PmO#PlO#WeO~Op!ya!R!yaa!ya~P+_Ov#aOz#bO~O]hO^hOtiOxjO#WeO~Op{i|{i!P{i!R{i#P{ia{i~P,`Op}i|}i!P}i!R}i#P}ia}i~P,`Op!Oi|!Oi!P!Oi!R!Oi#P!Oia!Oi~P,`O]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#PWX#WWX~O]#cO~O!Q#fO!W#dO~O!Q#fO~P&^Oa#[P~P%_Oa#XP~P#kOa#nOj!zO~O!W#pO~Oh#qOo#qO~O]!^Xa![X!`![X~O]#rO~Oa#sO!`#RO~Op#SO!R#]a!W#]a~O!`#ROp!aa!R!aa!W!aaa!aa~O!W#xO~O!Q#|O!q#zO!r#zO#Z#yO~O!Q!{X!W!{X~P&^O!Q$SO!W#dO~Oa#[X~P!`Oa$VO~Oj!zOQ!wXa!wXb!wXf!wXh!wXn!wXp!wX#Q!wX#R!wX#Z!wX~Op$XOa#XX~P#kOa$ZO~Oj!zOv$[O~Oa$]O~O!`#ROp!|a!R!|a!W!|a~Oa$_O~P+_OP!yO!RgX~O!Q$bO!q#zO!r#zO#Z#yO~Oj!zOv$cO~Oj!zOp$eO!V$gO!Q!Ti!W!Ti~P#kO!Q!{a!W!{a~P&^O!Q$iO!W#dO~OpfOa#[a~Op$XOa#Xa~Oa$lO~P#kOj!zOQ!zXb!zXf!zXh!zXn!zXp!zX!Q!zX!V!zX!W!zX#Q!zX#R!zX#Z!zX~Op$eO!V$oO!Q!Tq!W!Tq~P#kOa!xap!xa~P#kOj!zOQ!zab!zaf!zah!zan!zap!za!Q!za!V!za!W!za#Q!za#R!za#Z!za~Oo#Zj!Pj~",
    goto: ",O#_PPPPP#`P#h#vP#h$U#hPP$[PPP$b$k$kP$}P$kP$k%e%wPPP&a&g#hP&mP#hP&sP#hP#h#hPPP&y']'iPP#`PP'o'o'y'oP'oP'o'oP#`P#`P#`P'|#`P(P(SPP#`P#`(V(e(s(y)T)Z)e)kPPPPPP)q)yP*e*hP+^+a+j]`Obn!s#d$QiWObfklmn!s!t#V#d$QiQObfklmn!s!t#V#d$QQdRR!ceQrTR!ghQ!gtQ!|!OR#`!iq!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jp!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jT#z#[#{q!OXZz!u!w!z#b#c#k#r$O$X$^$e$f$jp!QXZz!u!w!z#b#c#k#r$O$X$^$e$f$jQ![[R#Z!]QsTR!hhQ!gsR#`!hQvUR!jiQxVR!kjQoSQ!fgQ#W!XQ#^!`Q#_!aR$`#zQ!rnQ#g!sQ$P#dR$h$QX!pn!s#d$Qa!WY^_|!S!U#R#SR#P!SR!][R!_]R#]!_QbOU!bb!s$QQ!snR$Q#dQ#k!uU$W#k$^$jQ$^#rR$j$XQ$Y#kR$k$YQgSS!eg$UR$U#hQ$f$OR$n$fQ#e!rS$R#e$TR$T#gQ#T!TR#v#TQ#{#[R$a#{]aObn!s#d$Q[SObn!s#d$QQ!dfQ!lkQ!mlQ!nmQ#h!tR#w#VR#l!uQ|XQ!YZQ!xz[#j!u#k#r$X$^$jQ#m!wQ#o!zQ#}#bQ$O#cS$d$O$fR$m$eR#i!tQ!XYQ!a_R!{|U!TY_|Q!`^Q#Q!SQ#U!UQ#t#RR#u#S",
    nodeNames: "\u26A0 Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList from to SupportsStatement supports AtRule",
    maxTerm: 106,
    nodeProps: [
      ["openedBy", 17, "(", 48, "{"],
      ["closedBy", 18, ")", 49, "}"]
    ],
    propSources: [cssHighlighting],
    skippedNodes: [0, 3],
    repeatNodeCount: 8,
    tokenData: "Ay~R![OX$wX^%]^p$wpq%]qr(crs+}st,otu2Uuv$wvw2rwx2}xy3jyz3uz{3z{|4_|}8U}!O8a!O!P8x!P!Q9Z!Q![;e![!]<Y!]!^<x!^!_$w!_!`=T!`!a=`!a!b$w!b!c>O!c!}$w!}#O?[#O#P$w#P#Q?g#Q#R2U#R#T$w#T#U?r#U#c$w#c#d@q#d#o$w#o#pAQ#p#q2U#q#rA]#r#sAh#s#y$w#y#z%]#z$f$w$f$g%]$g#BY$w#BY#BZ%]#BZ$IS$w$IS$I_%]$I_$I|$w$I|$JO%]$JO$JT$w$JT$JU%]$JU$KV$w$KV$KW%]$KW&FU$w&FU&FV%]&FV~$wW$zQOy%Qz~%QW%VQoWOy%Qz~%Q~%bf#T~OX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q~&}f#T~oWOX%QX^&v^p%Qpq&vqy%Qz#y%Q#y#z&v#z$f%Q$f$g&v$g#BY%Q#BY#BZ&v#BZ$IS%Q$IS$I_&v$I_$I|%Q$I|$JO&v$JO$JT%Q$JT$JU&v$JU$KV%Q$KV$KW&v$KW&FU%Q&FU&FV&v&FV~%Q^(fSOy%Qz#]%Q#]#^(r#^~%Q^(wSoWOy%Qz#a%Q#a#b)T#b~%Q^)YSoWOy%Qz#d%Q#d#e)f#e~%Q^)kSoWOy%Qz#c%Q#c#d)w#d~%Q^)|SoWOy%Qz#f%Q#f#g*Y#g~%Q^*_SoWOy%Qz#h%Q#h#i*k#i~%Q^*pSoWOy%Qz#T%Q#T#U*|#U~%Q^+RSoWOy%Qz#b%Q#b#c+_#c~%Q^+dSoWOy%Qz#h%Q#h#i+p#i~%Q^+wQ!VUoWOy%Qz~%Q~,QUOY+}Zr+}rs,ds#O+}#O#P,i#P~+}~,iOh~~,lPO~+}_,tWtPOy%Qz!Q%Q!Q![-^![!c%Q!c!i-^!i#T%Q#T#Z-^#Z~%Q^-cWoWOy%Qz!Q%Q!Q![-{![!c%Q!c!i-{!i#T%Q#T#Z-{#Z~%Q^.QWoWOy%Qz!Q%Q!Q![.j![!c%Q!c!i.j!i#T%Q#T#Z.j#Z~%Q^.qWfUoWOy%Qz!Q%Q!Q![/Z![!c%Q!c!i/Z!i#T%Q#T#Z/Z#Z~%Q^/bWfUoWOy%Qz!Q%Q!Q![/z![!c%Q!c!i/z!i#T%Q#T#Z/z#Z~%Q^0PWoWOy%Qz!Q%Q!Q![0i![!c%Q!c!i0i!i#T%Q#T#Z0i#Z~%Q^0pWfUoWOy%Qz!Q%Q!Q![1Y![!c%Q!c!i1Y!i#T%Q#T#Z1Y#Z~%Q^1_WoWOy%Qz!Q%Q!Q![1w![!c%Q!c!i1w!i#T%Q#T#Z1w#Z~%Q^2OQfUoWOy%Qz~%QY2XSOy%Qz!_%Q!_!`2e!`~%QY2lQzQoWOy%Qz~%QX2wQXPOy%Qz~%Q~3QUOY2}Zw2}wx,dx#O2}#O#P3d#P~2}~3gPO~2}_3oQbVOy%Qz~%Q~3zOa~_4RSUPjSOy%Qz!_%Q!_!`2e!`~%Q_4fUjS!PPOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q^4}SoWOy%Qz!Q%Q!Q![5Z![~%Q^5bWoW#ZUOy%Qz!Q%Q!Q![5Z![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q^6PWoWOy%Qz{%Q{|6i|}%Q}!O6i!O!Q%Q!Q![6z![~%Q^6nSoWOy%Qz!Q%Q!Q![6z![~%Q^7RSoW#ZUOy%Qz!Q%Q!Q![6z![~%Q^7fYoW#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%Q_8ZQpVOy%Qz~%Q^8fUjSOy%Qz!O%Q!O!P4x!P!Q%Q!Q![7_![~%Q_8}S#WPOy%Qz!Q%Q!Q![5Z![~%Q~9`RjSOy%Qz{9i{~%Q~9nSoWOy9iyz9zz{:o{~9i~9}ROz9zz{:W{~9z~:ZTOz9zz{:W{!P9z!P!Q:j!Q~9z~:oOR~~:tUoWOy9iyz9zz{:o{!P9i!P!Q;W!Q~9i~;_QoWR~Oy%Qz~%Q^;jY#ZUOy%Qz!O%Q!O!P5Z!P!Q%Q!Q![7_![!g%Q!g!h5z!h#X%Q#X#Y5z#Y~%QX<_S]POy%Qz![%Q![!]<k!]~%QX<rQ^PoWOy%Qz~%Q_<}Q!WVOy%Qz~%QY=YQzQOy%Qz~%QX=eS|POy%Qz!`%Q!`!a=q!a~%QX=xQ|PoWOy%Qz~%QX>RUOy%Qz!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX>lY!YPoWOy%Qz}%Q}!O>e!O!Q%Q!Q![>e![!c%Q!c!}>e!}#T%Q#T#o>e#o~%QX?aQxPOy%Qz~%Q^?lQvUOy%Qz~%QX?uSOy%Qz#b%Q#b#c@R#c~%QX@WSoWOy%Qz#W%Q#W#X@d#X~%QX@kQ!`PoWOy%Qz~%QX@tSOy%Qz#f%Q#f#g@d#g~%QXAVQ!RPOy%Qz~%Q_AbQ!QVOy%Qz~%QZAmS!PPOy%Qz!_%Q!_!`2e!`~%Q",
    tokenizers: [descendant, unitToken, identifiers, 0, 1, 2, 3],
    topRules: {StyleSheet: [0, 4]},
    specialized: [{term: 94, get: (value) => spec_callee[value] || -1}, {term: 56, get: (value) => spec_AtKeyword[value] || -1}, {term: 95, get: (value) => spec_identifier[value] || -1}],
    tokenPrec: 1078
  });

  // node_modules/@codemirror/lang-css/dist/index.js
  var _properties = null;
  function properties() {
    if (!_properties && typeof document == "object" && document.body) {
      let names = [];
      for (let prop in document.body.style) {
        if (!/[A-Z]|^-|^(item|length)$/.test(prop))
          names.push(prop);
      }
      _properties = names.sort().map((name2) => ({type: "property", label: name2}));
    }
    return _properties || [];
  }
  var pseudoClasses = /* @__PURE__ */ [
    "active",
    "after",
    "any-link",
    "autofill",
    "backdrop",
    "before",
    "checked",
    "cue",
    "default",
    "defined",
    "disabled",
    "empty",
    "enabled",
    "file-selector-button",
    "first",
    "first-child",
    "first-letter",
    "first-line",
    "first-of-type",
    "focus",
    "focus-visible",
    "focus-within",
    "fullscreen",
    "has",
    "host",
    "host-context",
    "hover",
    "in-range",
    "indeterminate",
    "invalid",
    "is",
    "lang",
    "last-child",
    "last-of-type",
    "left",
    "link",
    "marker",
    "modal",
    "not",
    "nth-child",
    "nth-last-child",
    "nth-last-of-type",
    "nth-of-type",
    "only-child",
    "only-of-type",
    "optional",
    "out-of-range",
    "part",
    "placeholder",
    "placeholder-shown",
    "read-only",
    "read-write",
    "required",
    "right",
    "root",
    "scope",
    "selection",
    "slotted",
    "target",
    "target-text",
    "valid",
    "visited",
    "where"
  ].map((name2) => ({type: "class", label: name2}));
  var values = /* @__PURE__ */ [
    "above",
    "absolute",
    "activeborder",
    "additive",
    "activecaption",
    "after-white-space",
    "ahead",
    "alias",
    "all",
    "all-scroll",
    "alphabetic",
    "alternate",
    "always",
    "antialiased",
    "appworkspace",
    "asterisks",
    "attr",
    "auto",
    "auto-flow",
    "avoid",
    "avoid-column",
    "avoid-page",
    "avoid-region",
    "axis-pan",
    "background",
    "backwards",
    "baseline",
    "below",
    "bidi-override",
    "blink",
    "block",
    "block-axis",
    "bold",
    "bolder",
    "border",
    "border-box",
    "both",
    "bottom",
    "break",
    "break-all",
    "break-word",
    "bullets",
    "button",
    "button-bevel",
    "buttonface",
    "buttonhighlight",
    "buttonshadow",
    "buttontext",
    "calc",
    "capitalize",
    "caps-lock-indicator",
    "caption",
    "captiontext",
    "caret",
    "cell",
    "center",
    "checkbox",
    "circle",
    "cjk-decimal",
    "clear",
    "clip",
    "close-quote",
    "col-resize",
    "collapse",
    "color",
    "color-burn",
    "color-dodge",
    "column",
    "column-reverse",
    "compact",
    "condensed",
    "contain",
    "content",
    "contents",
    "content-box",
    "context-menu",
    "continuous",
    "copy",
    "counter",
    "counters",
    "cover",
    "crop",
    "cross",
    "crosshair",
    "currentcolor",
    "cursive",
    "cyclic",
    "darken",
    "dashed",
    "decimal",
    "decimal-leading-zero",
    "default",
    "default-button",
    "dense",
    "destination-atop",
    "destination-in",
    "destination-out",
    "destination-over",
    "difference",
    "disc",
    "discard",
    "disclosure-closed",
    "disclosure-open",
    "document",
    "dot-dash",
    "dot-dot-dash",
    "dotted",
    "double",
    "down",
    "e-resize",
    "ease",
    "ease-in",
    "ease-in-out",
    "ease-out",
    "element",
    "ellipse",
    "ellipsis",
    "embed",
    "end",
    "ethiopic-abegede-gez",
    "ethiopic-halehame-aa-er",
    "ethiopic-halehame-gez",
    "ew-resize",
    "exclusion",
    "expanded",
    "extends",
    "extra-condensed",
    "extra-expanded",
    "fantasy",
    "fast",
    "fill",
    "fill-box",
    "fixed",
    "flat",
    "flex",
    "flex-end",
    "flex-start",
    "footnotes",
    "forwards",
    "from",
    "geometricPrecision",
    "graytext",
    "grid",
    "groove",
    "hand",
    "hard-light",
    "help",
    "hidden",
    "hide",
    "higher",
    "highlight",
    "highlighttext",
    "horizontal",
    "hsl",
    "hsla",
    "hue",
    "icon",
    "ignore",
    "inactiveborder",
    "inactivecaption",
    "inactivecaptiontext",
    "infinite",
    "infobackground",
    "infotext",
    "inherit",
    "initial",
    "inline",
    "inline-axis",
    "inline-block",
    "inline-flex",
    "inline-grid",
    "inline-table",
    "inset",
    "inside",
    "intrinsic",
    "invert",
    "italic",
    "justify",
    "keep-all",
    "landscape",
    "large",
    "larger",
    "left",
    "level",
    "lighter",
    "lighten",
    "line-through",
    "linear",
    "linear-gradient",
    "lines",
    "list-item",
    "listbox",
    "listitem",
    "local",
    "logical",
    "loud",
    "lower",
    "lower-hexadecimal",
    "lower-latin",
    "lower-norwegian",
    "lowercase",
    "ltr",
    "luminosity",
    "manipulation",
    "match",
    "matrix",
    "matrix3d",
    "medium",
    "menu",
    "menutext",
    "message-box",
    "middle",
    "min-intrinsic",
    "mix",
    "monospace",
    "move",
    "multiple",
    "multiple_mask_images",
    "multiply",
    "n-resize",
    "narrower",
    "ne-resize",
    "nesw-resize",
    "no-close-quote",
    "no-drop",
    "no-open-quote",
    "no-repeat",
    "none",
    "normal",
    "not-allowed",
    "nowrap",
    "ns-resize",
    "numbers",
    "numeric",
    "nw-resize",
    "nwse-resize",
    "oblique",
    "opacity",
    "open-quote",
    "optimizeLegibility",
    "optimizeSpeed",
    "outset",
    "outside",
    "outside-shape",
    "overlay",
    "overline",
    "padding",
    "padding-box",
    "painted",
    "page",
    "paused",
    "perspective",
    "pinch-zoom",
    "plus-darker",
    "plus-lighter",
    "pointer",
    "polygon",
    "portrait",
    "pre",
    "pre-line",
    "pre-wrap",
    "preserve-3d",
    "progress",
    "push-button",
    "radial-gradient",
    "radio",
    "read-only",
    "read-write",
    "read-write-plaintext-only",
    "rectangle",
    "region",
    "relative",
    "repeat",
    "repeating-linear-gradient",
    "repeating-radial-gradient",
    "repeat-x",
    "repeat-y",
    "reset",
    "reverse",
    "rgb",
    "rgba",
    "ridge",
    "right",
    "rotate",
    "rotate3d",
    "rotateX",
    "rotateY",
    "rotateZ",
    "round",
    "row",
    "row-resize",
    "row-reverse",
    "rtl",
    "run-in",
    "running",
    "s-resize",
    "sans-serif",
    "saturation",
    "scale",
    "scale3d",
    "scaleX",
    "scaleY",
    "scaleZ",
    "screen",
    "scroll",
    "scrollbar",
    "scroll-position",
    "se-resize",
    "self-start",
    "self-end",
    "semi-condensed",
    "semi-expanded",
    "separate",
    "serif",
    "show",
    "single",
    "skew",
    "skewX",
    "skewY",
    "skip-white-space",
    "slide",
    "slider-horizontal",
    "slider-vertical",
    "sliderthumb-horizontal",
    "sliderthumb-vertical",
    "slow",
    "small",
    "small-caps",
    "small-caption",
    "smaller",
    "soft-light",
    "solid",
    "source-atop",
    "source-in",
    "source-out",
    "source-over",
    "space",
    "space-around",
    "space-between",
    "space-evenly",
    "spell-out",
    "square",
    "start",
    "static",
    "status-bar",
    "stretch",
    "stroke",
    "stroke-box",
    "sub",
    "subpixel-antialiased",
    "svg_masks",
    "super",
    "sw-resize",
    "symbolic",
    "symbols",
    "system-ui",
    "table",
    "table-caption",
    "table-cell",
    "table-column",
    "table-column-group",
    "table-footer-group",
    "table-header-group",
    "table-row",
    "table-row-group",
    "text",
    "text-bottom",
    "text-top",
    "textarea",
    "textfield",
    "thick",
    "thin",
    "threeddarkshadow",
    "threedface",
    "threedhighlight",
    "threedlightshadow",
    "threedshadow",
    "to",
    "top",
    "transform",
    "translate",
    "translate3d",
    "translateX",
    "translateY",
    "translateZ",
    "transparent",
    "ultra-condensed",
    "ultra-expanded",
    "underline",
    "unidirectional-pan",
    "unset",
    "up",
    "upper-latin",
    "uppercase",
    "url",
    "var",
    "vertical",
    "vertical-text",
    "view-box",
    "visible",
    "visibleFill",
    "visiblePainted",
    "visibleStroke",
    "visual",
    "w-resize",
    "wait",
    "wave",
    "wider",
    "window",
    "windowframe",
    "windowtext",
    "words",
    "wrap",
    "wrap-reverse",
    "x-large",
    "x-small",
    "xor",
    "xx-large",
    "xx-small"
  ].map((name2) => ({type: "keyword", label: name2})).concat(/* @__PURE__ */ [
    "aliceblue",
    "antiquewhite",
    "aqua",
    "aquamarine",
    "azure",
    "beige",
    "bisque",
    "black",
    "blanchedalmond",
    "blue",
    "blueviolet",
    "brown",
    "burlywood",
    "cadetblue",
    "chartreuse",
    "chocolate",
    "coral",
    "cornflowerblue",
    "cornsilk",
    "crimson",
    "cyan",
    "darkblue",
    "darkcyan",
    "darkgoldenrod",
    "darkgray",
    "darkgreen",
    "darkkhaki",
    "darkmagenta",
    "darkolivegreen",
    "darkorange",
    "darkorchid",
    "darkred",
    "darksalmon",
    "darkseagreen",
    "darkslateblue",
    "darkslategray",
    "darkturquoise",
    "darkviolet",
    "deeppink",
    "deepskyblue",
    "dimgray",
    "dodgerblue",
    "firebrick",
    "floralwhite",
    "forestgreen",
    "fuchsia",
    "gainsboro",
    "ghostwhite",
    "gold",
    "goldenrod",
    "gray",
    "grey",
    "green",
    "greenyellow",
    "honeydew",
    "hotpink",
    "indianred",
    "indigo",
    "ivory",
    "khaki",
    "lavender",
    "lavenderblush",
    "lawngreen",
    "lemonchiffon",
    "lightblue",
    "lightcoral",
    "lightcyan",
    "lightgoldenrodyellow",
    "lightgray",
    "lightgreen",
    "lightpink",
    "lightsalmon",
    "lightseagreen",
    "lightskyblue",
    "lightslategray",
    "lightsteelblue",
    "lightyellow",
    "lime",
    "limegreen",
    "linen",
    "magenta",
    "maroon",
    "mediumaquamarine",
    "mediumblue",
    "mediumorchid",
    "mediumpurple",
    "mediumseagreen",
    "mediumslateblue",
    "mediumspringgreen",
    "mediumturquoise",
    "mediumvioletred",
    "midnightblue",
    "mintcream",
    "mistyrose",
    "moccasin",
    "navajowhite",
    "navy",
    "oldlace",
    "olive",
    "olivedrab",
    "orange",
    "orangered",
    "orchid",
    "palegoldenrod",
    "palegreen",
    "paleturquoise",
    "palevioletred",
    "papayawhip",
    "peachpuff",
    "peru",
    "pink",
    "plum",
    "powderblue",
    "purple",
    "rebeccapurple",
    "red",
    "rosybrown",
    "royalblue",
    "saddlebrown",
    "salmon",
    "sandybrown",
    "seagreen",
    "seashell",
    "sienna",
    "silver",
    "skyblue",
    "slateblue",
    "slategray",
    "snow",
    "springgreen",
    "steelblue",
    "tan",
    "teal",
    "thistle",
    "tomato",
    "turquoise",
    "violet",
    "wheat",
    "white",
    "whitesmoke",
    "yellow",
    "yellowgreen"
  ].map((name2) => ({type: "constant", label: name2})));
  var tags2 = /* @__PURE__ */ [
    "a",
    "abbr",
    "address",
    "article",
    "aside",
    "b",
    "bdi",
    "bdo",
    "blockquote",
    "body",
    "br",
    "button",
    "canvas",
    "caption",
    "cite",
    "code",
    "col",
    "colgroup",
    "dd",
    "del",
    "details",
    "dfn",
    "dialog",
    "div",
    "dl",
    "dt",
    "em",
    "figcaption",
    "figure",
    "footer",
    "form",
    "header",
    "hgroup",
    "h1",
    "h2",
    "h3",
    "h4",
    "h5",
    "h6",
    "hr",
    "html",
    "i",
    "iframe",
    "img",
    "input",
    "ins",
    "kbd",
    "label",
    "legend",
    "li",
    "main",
    "meter",
    "nav",
    "ol",
    "output",
    "p",
    "pre",
    "ruby",
    "section",
    "select",
    "small",
    "source",
    "span",
    "strong",
    "sub",
    "summary",
    "sup",
    "table",
    "tbody",
    "td",
    "template",
    "textarea",
    "tfoot",
    "th",
    "thead",
    "tr",
    "u",
    "ul"
  ].map((name2) => ({type: "type", label: name2}));
  var identifier2 = /^[\w-]*/;
  var cssCompletionSource = (context) => {
    let {state, pos} = context, node = syntaxTree(state).resolveInner(pos, -1);
    if (node.name == "PropertyName")
      return {from: node.from, options: properties(), validFor: identifier2};
    if (node.name == "ValueName")
      return {from: node.from, options: values, validFor: identifier2};
    if (node.name == "PseudoClassName")
      return {from: node.from, options: pseudoClasses, validFor: identifier2};
    if (node.name == "TagName") {
      for (let {parent} = node; parent; parent = parent.parent)
        if (parent.name == "Block")
          return {from: node.from, options: properties(), validFor: identifier2};
      return {from: node.from, options: tags2, validFor: identifier2};
    }
    if (!context.explicit)
      return null;
    let above = node.resolve(pos), before = above.childBefore(pos);
    if (before && before.name == ":" && above.name == "PseudoClassSelector")
      return {from: pos, options: pseudoClasses, validFor: identifier2};
    if (before && before.name == ":" && above.name == "Declaration" || above.name == "ArgList")
      return {from: pos, options: values, validFor: identifier2};
    if (above.name == "Block")
      return {from: pos, options: properties(), validFor: identifier2};
    return null;
  };
  var cssLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "css",
    parser: /* @__PURE__ */ parser3.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          Declaration: /* @__PURE__ */ continuedIndent()
        }),
        /* @__PURE__ */ foldNodeProp.add({
          Block: foldInside
        })
      ]
    }),
    languageData: {
      commentTokens: {block: {open: "/*", close: "*/"}},
      indentOnInput: /^\s*\}$/,
      wordChars: "-"
    }
  });
  function css() {
    return new LanguageSupport(cssLanguage, cssLanguage.data.of({autocomplete: cssCompletionSource}));
  }

  // node_modules/@lezer/javascript/dist/index.es.js
  var TSExtends = 1;
  var noSemi = 288;
  var incdec = 2;
  var incdecPrefix = 3;
  var templateContent = 289;
  var InterpolationStart = 4;
  var templateEnd = 290;
  var insertSemi = 291;
  var spaces = 293;
  var newline = 294;
  var LineComment = 5;
  var BlockComment = 6;
  var Dialect_ts = 1;
  var space2 = [
    9,
    10,
    11,
    12,
    13,
    32,
    133,
    160,
    5760,
    8192,
    8193,
    8194,
    8195,
    8196,
    8197,
    8198,
    8199,
    8200,
    8201,
    8202,
    8232,
    8233,
    8239,
    8287,
    12288
  ];
  var braceR = 125;
  var braceL = 123;
  var semicolon2 = 59;
  var slash2 = 47;
  var star = 42;
  var plus = 43;
  var minus = 45;
  var dollar = 36;
  var backtick = 96;
  var backslash = 92;
  var trackNewline = new ContextTracker({
    start: false,
    shift(context, term) {
      return term == LineComment || term == BlockComment || term == spaces ? context : term == newline;
    },
    strict: false
  });
  var insertSemicolon = new ExternalTokenizer((input, stack) => {
    let {next} = input;
    if ((next == braceR || next == -1 || stack.context) && stack.canShift(insertSemi))
      input.acceptToken(insertSemi);
  }, {contextual: true, fallback: true});
  var noSemicolon = new ExternalTokenizer((input, stack) => {
    let {next} = input, after;
    if (space2.indexOf(next) > -1)
      return;
    if (next == slash2 && ((after = input.peek(1)) == slash2 || after == star))
      return;
    if (next != braceR && next != semicolon2 && next != -1 && !stack.context && stack.canShift(noSemi))
      input.acceptToken(noSemi);
  }, {contextual: true});
  var incdecToken = new ExternalTokenizer((input, stack) => {
    let {next} = input;
    if (next == plus || next == minus) {
      input.advance();
      if (next == input.next) {
        input.advance();
        let mayPostfix = !stack.context && stack.canShift(incdec);
        input.acceptToken(mayPostfix ? incdec : incdecPrefix);
      }
    }
  }, {contextual: true});
  var template = new ExternalTokenizer((input) => {
    for (let afterDollar = false, i = 0; ; i++) {
      let {next} = input;
      if (next < 0) {
        if (i)
          input.acceptToken(templateContent);
        break;
      } else if (next == backtick) {
        if (i)
          input.acceptToken(templateContent);
        else
          input.acceptToken(templateEnd, 1);
        break;
      } else if (next == braceL && afterDollar) {
        if (i == 1)
          input.acceptToken(InterpolationStart, 1);
        else
          input.acceptToken(templateContent, -1);
        break;
      } else if (next == 10 && i) {
        input.advance();
        input.acceptToken(templateContent);
        break;
      } else if (next == backslash) {
        input.advance();
      }
      afterDollar = next == dollar;
      input.advance();
    }
  });
  var tsExtends = new ExternalTokenizer((input, stack) => {
    if (input.next != 101 || !stack.dialectEnabled(Dialect_ts))
      return;
    input.advance();
    for (let i = 0; i < 6; i++) {
      if (input.next != "xtends".charCodeAt(i))
        return;
      input.advance();
    }
    if (input.next >= 57 && input.next <= 65 || input.next >= 48 && input.next <= 90 || input.next == 95 || input.next >= 97 && input.next <= 122 || input.next > 160)
      return;
    input.acceptToken(TSExtends);
  });
  var jsHighlight = styleTags({
    "get set async static": tags.modifier,
    "for while do if else switch try catch finally return throw break continue default case": tags.controlKeyword,
    "in of await yield void typeof delete instanceof": tags.operatorKeyword,
    "let var const function class extends": tags.definitionKeyword,
    "import export from": tags.moduleKeyword,
    "with debugger as new": tags.keyword,
    TemplateString: tags.special(tags.string),
    super: tags.atom,
    BooleanLiteral: tags.bool,
    this: tags.self,
    null: tags.null,
    Star: tags.modifier,
    VariableName: tags.variableName,
    "CallExpression/VariableName TaggedTemplateExpression/VariableName": tags.function(tags.variableName),
    VariableDefinition: tags.definition(tags.variableName),
    Label: tags.labelName,
    PropertyName: tags.propertyName,
    PrivatePropertyName: tags.special(tags.propertyName),
    "CallExpression/MemberExpression/PropertyName": tags.function(tags.propertyName),
    "FunctionDeclaration/VariableDefinition": tags.function(tags.definition(tags.variableName)),
    "ClassDeclaration/VariableDefinition": tags.definition(tags.className),
    PropertyDefinition: tags.definition(tags.propertyName),
    PrivatePropertyDefinition: tags.definition(tags.special(tags.propertyName)),
    UpdateOp: tags.updateOperator,
    LineComment: tags.lineComment,
    BlockComment: tags.blockComment,
    Number: tags.number,
    String: tags.string,
    ArithOp: tags.arithmeticOperator,
    LogicOp: tags.logicOperator,
    BitOp: tags.bitwiseOperator,
    CompareOp: tags.compareOperator,
    RegExp: tags.regexp,
    Equals: tags.definitionOperator,
    Arrow: tags.function(tags.punctuation),
    ": Spread": tags.punctuation,
    "( )": tags.paren,
    "[ ]": tags.squareBracket,
    "{ }": tags.brace,
    "InterpolationStart InterpolationEnd": tags.special(tags.brace),
    ".": tags.derefOperator,
    ", ;": tags.separator,
    TypeName: tags.typeName,
    TypeDefinition: tags.definition(tags.typeName),
    "type enum interface implements namespace module declare": tags.definitionKeyword,
    "abstract global Privacy readonly override": tags.modifier,
    "is keyof unique infer": tags.operatorKeyword,
    JSXAttributeValue: tags.attributeValue,
    JSXText: tags.content,
    "JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag": tags.angleBracket,
    "JSXIdentifier JSXNameSpacedName": tags.tagName,
    "JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName": tags.attributeName,
    "JSXBuiltin/JSXIdentifier": tags.standard(tags.tagName)
  });
  var spec_identifier2 = {__proto__: null, export: 18, as: 23, from: 29, default: 32, async: 37, function: 38, this: 50, true: 58, false: 58, null: 68, void: 72, typeof: 76, super: 92, new: 126, await: 143, yield: 145, delete: 146, class: 156, extends: 158, public: 203, private: 203, protected: 203, readonly: 205, instanceof: 226, satisfies: 229, in: 230, const: 232, import: 264, keyof: 319, unique: 323, infer: 329, is: 365, abstract: 385, implements: 387, type: 389, let: 392, var: 394, interface: 401, enum: 405, namespace: 411, module: 413, declare: 417, global: 421, for: 442, of: 451, while: 454, with: 458, do: 462, if: 466, else: 468, switch: 472, case: 478, try: 484, catch: 488, finally: 492, return: 496, throw: 500, break: 504, continue: 508, debugger: 512};
  var spec_word = {__proto__: null, async: 113, get: 115, set: 117, public: 165, private: 165, protected: 165, static: 167, abstract: 169, override: 171, readonly: 177, accessor: 179, new: 369};
  var spec_LessThan = {__proto__: null, "<": 133};
  var parser4 = LRParser.deserialize({
    version: 14,
    states: "$;fO`QdOOO'TQ(C|O'#ChO'[OWO'#DYO)gQdO'#D_O)wQdO'#DjO*OQdO'#DtO-{QdO'#DzOOQO'#E`'#E`O.`Q`O'#E_O.eQ`O'#E_OOQ(C['#Ei'#EiO0gQ(C|O'#IzO3QQ(C|O'#I{O3nQ`O'#FOO3sQ!bO'#FgOOQ(C['#FW'#FWO4OO#tO'#FWO4^Q&jO'#FnO5qQ`O'#FmOOQ(C['#I{'#I{OOQ(CW'#Iz'#IzOOQS'#Jd'#JdO5vQ`O'#HwO5{Q(ChO'#HxOOQS'#Io'#IoOOQS'#Hy'#HyQ`QdOOO*OQdO'#DlO6TQ`O'#GcO6YQ&jO'#CmO6hQ`O'#E^O6sQ`O'#EjO6xQ&jO'#FVO7dQ`O'#GcO7iQ`O'#GgO7tQ`O'#GgO8SQ`O'#GjO8SQ`O'#GkO8SQ`O'#GmO6TQ`O'#GpO8sQ`O'#GsO:RQ`O'#CdO:cQ`O'#HQO:kQ`O'#HWO:kQ`O'#HYO`QdO'#H[O:kQ`O'#H^O:kQ`O'#HaO:pQ`O'#HgO:uQ(CjO'#HmO*OQdO'#HoO;QQ(CjO'#HqO;]Q(CjO'#HsO5{Q(ChO'#HuO*OQdO'#DZOOOW'#H{'#H{O;hOWO,59tOOQ(C[,59t,59tO=|QtO'#ChO>WQdO'#H|O>kQ`O'#I|O@mQtO'#I|O'gQdO'#I|O@tQ`O,59yO@yQ,UO'#DdOBPQ`O'#E`OB^Q`O'#JXOBiQ`O'#JWOBiQ`O'#JWOBqQ`O,5:|OBvQ`O'#JVOB}QaO'#D{O6YQ&jO'#E^OC]Q`O'#E^OChQpO'#FVOOQ(C[,5:U,5:UOCpQdO,5:UOEqQ(C|O,5:`OF_Q`O,5:fOFxQ(ChO'#JUO7iQ`O'#JTOGPQ`O'#JTOGXQ`O,5:{OG^Q`O'#JTOGlQdO,5:yOIlQ&jO'#EZOJ|Q`O,5:yOLcQ&jO'#DnOLjQdO'#DsOLtQ,UO,5;SOL|Q,UO,5;SO*OQdO,5;SOOQS'#Ev'#EvOOQS'#Ex'#ExO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UO*OQdO,5;UOOQS'#E|'#E|OM[QdO,5;gOOQ(C[,5;l,5;lOOQ(C[,5;m,5;mO! [Q`O,5;mOOQ(C[,5;n,5;nO*OQdO'#IWO! dQ(ChO,5<ZOIlQ&jO,5;UO!!OQ&jO,5;UO*OQdO,5;jO!!VQ!bO'#F]O!#SQ!bO'#J]O!!nQ!bO'#J]O!#ZQ!bO'#J]OOQO'#J]'#J]O!#oQ!bO,5;uOOOO,5<R,5<RO!$QQdO'#FiOOOO'#IV'#IVO4OO#tO,5;rO!$XQ!bO'#FkOOQ(C[,5;r,5;rO!$xQ7]O'#CsOOQ(C]'#Cv'#CvO!%]Q`O'#CvO!%bOWO'#CzO!&OQ&kO,5<WO!&VQ`O,5<YO!'iQMhO'#FxO!'vQ`O'#FyO!'{Q`O'#FyO!(QQMhO'#F}O!)PQ,UO'#GRO!)uQ7]O'#IwOOQ(C]'#Iw'#IwO!*xQaO'#IvO!+WQ`O'#IuO!+`Q`O'#CrOOQ(C]'#Ct'#CtOOQ(C]'#C}'#C}OOQ(C]'#DP'#DPO!+hQ`O'#DROKRQ&jO'#FpOKRQ&jO'#FrO!+mQ`O'#FtO!+rQ`O'#FuO!'{Q`O'#F{OKRQ&jO'#GQO!+wQ`O'#EaO!,`Q`O,5<XO`QdO,5>cOOQS'#Ir'#IrOOQS,5>d,5>dOOQS-E;w-E;wO!._Q(C|O,5:WOOQ(CX'#Cp'#CpO!/OQ&kO,5<}OOQO'#Cf'#CfO!/aQ(ChO'#IsO5qQ`O'#IsO:pQ`O,59XO!/rQ!bO,59XO!/zQ&jO,59XO6YQ&jO,59XO!0VQ`O,5:yO!0_Q`O'#HPO!0mQ`O'#JhO*OQdO,5;oO!0uQ,UO,5;qO!0zQ`O,5=jO!1PQ`O,5=jO!1UQ`O,5=jO5{Q(ChO,5=jO6TQ`O,5<}O!1dQ`O'#EbO!2ZQ,UO'#EcOOQ(CW'#JV'#JVO!2bQ(ChO'#JeO5{Q(ChO,5=RO8SQ`O,5=XOOQP'#Cs'#CsO!2mQ!bO,5=UO!2uQ!cO,5=VO!3QQ`O,5=XO!3VQpO,5=[O:pQ`O'#GuO6TQ`O'#GwO!3_Q`O'#GwO6YQ&jO'#GzO!3dQ`O'#GzOOQS,5=_,5=_O!3iQ`O'#G{O!3qQ`O'#CmO!3vQ`O,59OO!4QQ`O,59OO!6SQdO,59OOOQS,59O,59OO!6aQ(ChO,59OO*OQdO,59OO!6lQdO'#HSOOQS'#HT'#HTOOQS'#HU'#HUO`QdO,5=lO!6|Q`O,5=lO*OQdO'#DzO`QdO,5=rO`QdO,5=tO!7RQ`O,5=vO`QdO,5=xO!7WQ`O,5={O!7]QdO,5>ROOQS,5>X,5>XO*OQdO,5>XO5{Q(ChO,5>ZOOQS,5>],5>]O!;^Q`O,5>]OOQS,5>_,5>_O!;^Q`O,5>_OOQS,5>a,5>aO!;cQpO,59uOOOW-E;y-E;yOOQ(C[1G/`1G/`O!;hQtO,5>hO'gQdO,5>hOOQO,5>m,5>mO!;rQdO'#H|OOQO-E;z-E;zO!<PQ`O,5?hO!<XQtO,5?hO!<`Q`O,5?rOOQ(C[1G/e1G/eO!<hQ!bO'#DWOOQ(CW'#JO'#JOO*OQdO'#JOO!=VQ!bO'#JOO!=tQ!bO'#DeO!>VQ,UO'#DeO!@bQdO'#DeO!@iQ`O'#I}O!@qQ`O,5:OO!@vQ`O'#EdO!AUQ`O'#JYO!A^Q`O,5:}O!AtQ,UO'#DeO*OQdO,5?sO!BOQ`O'#IROOQO-E<P-E<PO!<`Q`O,5?rOOQ(CW1G0h1G0hO!BdQ,UO'#EOOOQ(C[,5:g,5:gO*OQdO,5:gOIlQ&jO,5:gO!C^QaO,5:gO:pQ`O,5:xO!/rQ!bO,5:xO!/zQ&jO,5:xO6YQ&jO,5:xOOQ(C[1G/p1G/pOOQ(C[1G0Q1G0QOOQ(CW'#EY'#EYO*OQdO,5?pO!CiQ(ChO,5?pO!CzQ(ChO,5?pO!DRQ`O,5?oO!DZQ`O'#ITO!DRQ`O,5?oOOQ(CW1G0g1G0gO7iQ`O,5?oOOQ(C[1G0e1G0eO!DuQ(C|O1G0eO!EwQ(CyO,5:uOOQ(C]'#Fw'#FwO!HbQ(C}O'#IwOGlQdO1G0eO!IUQ&kO'#JPO!I`Q`O,5:YO!IeQtO'#JQO*OQdO'#JQO!IoQ`O,5:_OOQ(C]'#DW'#DWOOQ(C[1G0n1G0nO*OQdO1G0nOOQ(C[1G1X1G1XO!ItQ`O1G0nO!LYQ(C|O1G0pO!LaQ(C|O1G0pO!NwQ(C|O1G0pO# OQ(C|O1G0pO##VQ(C|O1G0pO##mQ(C|O1G0pO#&dQ(C|O1G0pO#&kQ(C|O1G0pO#)RQ(C|O1G0pO#)YQ(C|O1G0pO#+QQ(C|O1G0pO#-}Q!LUO'#ChO#/{Q!LUO1G1RO#1yQ!LUO'#I{O! _Q`O1G1XO#2^Q(C|O,5>rOOQ(CW-E<U-E<UO#2}Q(C}O1G0pOOQ(C[1G0p1G0pO#5VQ(C|O1G1UO#5vQ!bO,5;yO#6OQ!bO,5;zO#6WQ!bO'#FbO#6oQ`O'#FaOOQO'#J^'#J^OOQO'#IU'#IUO#6tQ!bO1G1aOOQ(C[1G1a1G1aOOOO1G1l1G1lO#7VQ!LUO'#IzO#7aQ`O,5<TOM[QdO,5<TOOOO-E<T-E<TOOQ(C[1G1^1G1^OOQ(C[,5<V,5<VO#7fQ!bO,5<VOOQ(C],59b,59bOIlQ&jO'#C|OOOW'#Hz'#HzO#7kOWO,59fOOQ(C],59f,59fO*OQdO1G1rO!+rQ`O'#IYO#7vQ`O,5<kOOQ(C],5<h,5<hOOQO'#G^'#G^OKRQ&jO,5<wOOQO'#G`'#G`OKRQ&jO,5<yOIlQ&jO,5<{OOQO1G1t1G1tO#8RQqO'#CpO#8fQqO,5<dO#8mQ`O'#JaO6TQ`O'#JaO#8{Q`O,5<fOKRQ&jO,5<eO#9QQ`O'#FzO#9]Q`O,5<eO#9bQqO'#FwO#9oQqO'#JbO#9yQ`O'#JbOIlQ&jO'#JbO#:OQ`O,5<iOOQ(CW'#Di'#DiO#:TQ!bO'#GSO!(zQ,UO'#GSO#:fQ`O'#GUO#:kQ`O'#GWO!'{Q`O'#GZO#:pQ(ChO'#I[O#:{Q,UO,5<mOOQ(C],5<m,5<mO#;SQ,UO'#GSO#;bQ,UO'#GTO#;jQ,UO'#GTOOQ(C],5<|,5<|OKRQ&jO,5?bOKRQ&jO,5?bO#;oQ`O'#I]O#;zQ`O,5?aO#<SQ`O,59^OOQ(C]'#Ch'#ChO#<sQ&kO,59mOOQ(C],59m,59mO#=fQ&kO,5<[O#>XQ&kO,5<^O#>cQ`O,5<`OOQ(C],5<a,5<aO#>hQ`O,5<gO#>mQ&kO,5<lOGlQdO1G1sO#>}Q`O1G1sOOQS1G3}1G3}OOQ(C[1G/r1G/rO! [Q`O1G/rOOQS1G2i1G2iOIlQ&jO1G2iO*OQdO1G2iOIlQ&jO1G2iO#?SQaO1G2iO#@lQ&jO'#EZOOQ(CW,5?_,5?_O#@vQ(ChO,5?_OOQS1G.s1G.sO:pQ`O1G.sO!/rQ!bO1G.sO!/zQ&jO1G.sO#AXQ`O1G0eO#A^Q`O'#ChO#AiQ`O'#JiO#AqQ`O,5=kO#AvQ`O'#JiO#A{Q`O'#JiO#BTQ`O'#IeO#BcQ`O,5@SO#BkQtO1G1ZOOQ(C[1G1]1G1]O6TQ`O1G3UO#BrQ`O1G3UO#BwQ`O1G3UO#B|Q`O1G3UOOQS1G3U1G3UO#CRQ&kO1G2iO7iQ`O'#JWO7iQ`O'#EdO*OQdO'#EdO7iQ`O'#I_O#CdQ(ChO,5@POOQS1G2m1G2mO!3QQ`O1G2sOIlQ&jO1G2pO#CoQ`O1G2pOOQS1G2q1G2qOIlQ&jO1G2qO#CtQaO1G2qO#C|Q,UO'#GoOOQS1G2s1G2sO!(zQ,UO'#IaO!3VQpO1G2vOOQS1G2v1G2vOOQS,5=a,5=aO#DUQ&kO,5=cO6TQ`O,5=cO#:kQ`O,5=fO5qQ`O,5=fO!/rQ!bO,5=fO!/zQ&jO,5=fO6YQ&jO,5=fO#DgQ`O'#JgO#DrQ`O,5=gOOQS1G.j1G.jO#DwQ(ChO1G.jO#ESQ`O1G.jO#EXQ`O1G.jO5{Q(ChO1G.jO#EaQtO,5@UO#EkQ`O,5@UO#EvQdO,5=nO#E}Q`O,5=nO7iQ`O,5@UOOQS1G3W1G3WO`QdO1G3WOOQS1G3^1G3^OOQS1G3`1G3`O:kQ`O1G3bO#FSQdO1G3dO#I}QdO'#HcOOQS1G3g1G3gO#J[Q`O'#HiO:pQ`O'#HkOOQS1G3m1G3mO#JdQdO1G3mO5{Q(ChO1G3sOOQS1G3u1G3uOOQ(CW'#GO'#GOO5{Q(ChO1G3wO5{Q(ChO1G3yOOOW1G/a1G/aO#NbQpO,5<ZO#NjQtO1G4SOOQO1G4X1G4XO*OQdO,5>hO#NtQ`O1G5SO#N|Q`O1G5^O$ UQ`O,5?jOM[QdO,5;OO7iQ`O,5;OO:pQ`O,5:POM[QdO,5:PO*OQdO'#JOO!/rQ!bO,5:PO$ ZQ!LUO,5:POOQO,5;O,5;OO$ eQ,UO'#H}O$ {Q`O,5?iOOQ(C[1G/j1G/jO$!TQ,UO'#ISO$!_Q`O,5?tOOQ(CW1G0i1G0iO!>VQ,UO,5:PO$!gQtO1G5_O7iQ`O,5>mOOQ(CW'#EU'#EUO$!qQ(DjO'#EVO$#]Q,UO'#EPOOQO'#IQ'#IQO$#nQ,UO,5:jOOQ(C[,5:j,5:jO$$hQ,UO'#EPO$$uQ,UO'#EPO$%VQ,UO'#E]O$%YQ,UO'#EVO$%sQ,UO'#EVO$#]Q,UO'#EVO$&dQ`O1G0RO$&iQqO1G0ROOQ(C[1G0R1G0RO*OQdO1G0ROIlQ&jO1G0ROOQ(C[1G0d1G0dO:pQ`O1G0dO!/rQ!bO1G0dO!/zQ&jO1G0dO$&pQ(C|O1G5[O*OQdO1G5[O$'QQ(ChO1G5[O$'cQ`O1G5ZO7iQ`O,5>oOOQO,5>o,5>oO$'kQ`O,5>oOOQO-E<R-E<RO$'cQ`O1G5ZO$'yQ(C}O,59mO$*OQ(C}O,5<[O$,WQ(C}O,5<^O$.`Q(C}O,5<lOOQ(C[7+&P7+&PO$0nQ(C|O7+&PO$1_Q&jO'#IOO$1iQ`O,5?kOOQ(C]1G/t1G/tO$1qQdO'#IPO$2OQ`O,5?lO$2WQtO,5?lOOQ(C[1G/y1G/yO$2bQ`O7+&YOOQ(C[7+&Y7+&YO$2gQ!LUO,5:`O*OQdO7+&mO$2qQ!LUO,5:WOOQ(C[7+&s7+&sOOQO1G1e1G1eOOQO1G1f1G1fO$3OQ$ISO,5;|OM[QdO,5;{OOQO-E<S-E<SOOQ(C[7+&{7+&{OOOO7+'W7+'WOOOO1G1o1G1oO$3ZQ`O1G1oOOQ(C[1G1q1G1qO$3`QqO,59hOOOW-E;x-E;xOOQ(C]1G/Q1G/QO$3gQ(C|O7+'^OOQ(C],5>t,5>tO$4WQ`O,5>tOOQ(C]1G2V1G2VP$4]Q`O'#IYPOQ(C]-E<W-E<WO$4|Q&kO1G2cO$5oQ&kO1G2eO$5yQqO1G2gOOQ(C]1G2O1G2OO$6QQ`O'#IXO$6`Q`O,5?{O$6`Q`O,5?{O$6hQ`O,5?{O$6sQ`O,5?{OOQO1G2Q1G2QO$7RQ&kO1G2POKRQ&jO1G2PO$7cQMhO'#IZO$7sQ`O,5?|OIlQ&jO,5?|O$7{QqO,5?|OOQ(C]1G2T1G2TOOQ(CW,5<n,5<nOOQ(CW,5<o,5<oO$8VQ`O,5<oO#:aQ`O,5<oO!/rQ!bO,5<nOOQO'#GV'#GVO$8[Q`O,5<pOOQ(CW,5<r,5<rO$8VQ`O,5<uOOQO,5>v,5>vOOQO-E<Y-E<YOOQ(C]1G2X1G2XO!(zQ,UO,5<nO$8dQ`O,5<oO#:fQ`O,5<pO!(zQ,UO,5<oO$8oQ&kO1G4|O$8yQ&kO1G4|OOQO,5>w,5>wOOQO-E<Z-E<ZOOQP1G.x1G.xO!0uQ,UO,59oO*OQdO,59oO$9WQ`O1G1zOKRQ&jO1G2RO$9]Q(C|O7+'_OOQ(C[7+'_7+'_OGlQdO7+'_OOQ(C[7+%^7+%^O$9|QqO'#JcO$&dQ`O7+(TO$:WQ`O7+(TO$:`QqO7+(TOOQS7+(T7+(TOIlQ&jO7+(TO*OQdO7+(TOIlQ&jO7+(TO$:jQ(CyO'#ChO$:}Q(CyO,5<sO$;oQ`O,5<sOOQ(CW1G4y1G4yOOQS7+$_7+$_O:pQ`O7+$_O!/rQ!bO7+$_OGlQdO7+&PO$;tQ`O'#IdO$<VQ`O,5@TOOQO1G3V1G3VO6TQ`O,5@TO$<VQ`O,5@TO$<_Q`O,5@TOOQO,5?P,5?POOQO-E<c-E<cOOQ(C[7+&u7+&uO$<dQ`O7+(pO5{Q(ChO7+(pO6TQ`O7+(pO$<iQ`O7+(pO$<nQaO7+(TO$<|Q`O,5;OOOQ(CW,5>y,5>yOOQ(CW-E<]-E<]OOQS7+(_7+(_O$=RQ(CyO7+([OIlQ&jO7+([O$=]QqO7+(]OOQS7+(]7+(]OIlQ&jO7+(]O$=dQ`O'#JfO$=oQ`O,5=ZOOQO,5>{,5>{OOQO-E<_-E<_OOQS7+(b7+(bO$>rQ,UO'#GxOOQS1G2}1G2}OIlQ&jO1G2}O*OQdO1G2}OIlQ&jO1G2}O$>yQaO1G2}O$?XQ&kO1G2}O5{Q(ChO1G3QO#:kQ`O1G3QO5qQ`O1G3QO!/rQ!bO1G3QO!/zQ&jO1G3QO$?jQ`O'#IcO$?uQ`O,5@RO$?}Q,UO,5@ROOQ(CW1G3R1G3ROOQS7+$U7+$UO$@VQ`O7+$UO5{Q(ChO7+$UO$@[Q`O7+$UO*OQdO1G5pO*OQdO1G5qO$@aQdO1G3YO$@hQ`O1G3YO$@mQdO1G3YO$@tQ(ChO1G5pOOQS7+(r7+(rO5{Q(ChO7+(|O`QdO7+)OOOQS'#Jl'#JlOOQS'#If'#IfO$AOQdO,5=}OOQS,5=},5=}O*OQdO'#HdO$A]Q`O'#HfOOQS,5>T,5>TO7iQ`O,5>TOOQS,5>V,5>VOOQS7+)X7+)XOOQS7+)_7+)_OOQS7+)c7+)cOOQS7+)e7+)eO$AbQ!bO1G5UO$AvQ!LUO1G0jO$BQQ`O1G0jOOQO1G/k1G/kO$B]Q!LUO1G/kO$BgQ`O,5?jO:pQ`O1G/kOM[QdO'#DeOOQO,5>i,5>iOOQO-E;{-E;{OOQO,5>n,5>nOOQO-E<Q-E<QO!/rQ!bO1G/kO:pQ`O,5:kOOQO,5:q,5:qO*OQdO,5:qO$BlQ(ChO,5:qO$BwQ(ChO,5:qO!/rQ!bO,5:kOOQO-E<O-E<OOOQ(C[1G0U1G0UO$#]Q,UO,5:kO$CVQ,UO,5:kO$CdQ(DjO,5:qO$DOQ,UO,5:kO$#]Q,UO,5:qOOQO,5:w,5:wO$D`Q,UO,5:qO$DyQ(ChO,5:qOOQ(C[7+%m7+%mO$&dQ`O7+%mO$&iQqO7+%mOOQ(C[7+&O7+&OO:pQ`O7+&OO!/rQ!bO7+&OO$E_Q(C|O7+*vO*OQdO7+*vOOQO1G4Z1G4ZO7iQ`O1G4ZO$EoQ`O7+*uO$EwQ(C}O1G2cO$HPQ(C}O1G2eO$JXQ(C}O1G2PO$LgQ&kO,5>jOOQO-E;|-E;|O$LqQtO,5>kO*OQdO,5>kOOQO-E;}-E;}O$L{Q`O1G5WOOQ(C[<<It<<ItO$MTQ!LUO1G0eO% _Q!LUO1G0pO% fQ!LUO1G0pO%#jQ!LUO1G0pO%#qQ!LUO1G0pO%%fQ!LUO1G0pO%%|Q!LUO1G0pO%(aQ!LUO1G0pO%(hQ!LUO1G0pO%*lQ!LUO1G0pO%*sQ!LUO1G0pO%,kQ!LUO1G0pO%-OQ(C|O<<JXO%.QQ!LVO1G0pO%/vQ!LVO'#IwO%0QQ!LUO1G1UOM[QdO'#FdOOQO'#J_'#J_OOQO1G1h1G1hO%0_Q`O1G1gO%0dQ!LUO,5>rOOOO7+'Z7+'ZOOOW1G/S1G/SOOQ(C]1G4`1G4`OKRQ&jO7+(RO%0nQ`O,5>sO6TQ`O,5>sOOQO-E<V-E<VO%0|Q`O1G5gO%0|Q`O1G5gO%1UQ`O1G5gO%1aQ&kO7+'kO%1qQqO,5>uO%1{Q`O,5>uOIlQ&jO,5>uOOQO-E<X-E<XO%2QQqO1G5hO%2[Q`O1G5hOOQ(CW1G2Z1G2ZO$8VQ`O1G2ZOOQ(CW1G2Y1G2YO%2dQ`O1G2[OIlQ&jO1G2[OOQ(CW1G2a1G2aO!/rQ!bO1G2YO#:aQ`O1G2ZO%2iQ`O1G2[O%2qQ`O1G2ZOKRQ&jO7+*hOOQ(C]1G/Z1G/ZO%2|Q`O1G/ZOOQ(C]7+'f7+'fO%3RQ&kO7+'mO%3cQ(C|O<<JyOOQ(C[<<Jy<<JyOIlQ&jO'#I^O%4SQ`O,5?}OOQS<<Ko<<KoOIlQ&jO<<KoO$&dQ`O<<KoO%4[Q`O<<KoO%4dQqO<<KoOIlQ&jO1G2_OOQS<<Gy<<GyO:pQ`O<<GyO%4nQ(C|O<<IkOOQ(C[<<Ik<<IkOOQO,5?O,5?OO%5_Q`O,5?OO%5dQ`O,5?OOOQO-E<b-E<bO%5lQ`O1G5oO%5lQ`O1G5oO6TQ`O1G5oO%5tQ`O<<L[OOQS<<L[<<L[O%5yQ`O<<L[O5{Q(ChO<<L[O*OQdO<<KoOIlQ&jO<<KoO%6OQ`O1G0jOOQS<<Kv<<KvO$=RQ(CyO<<KvOOQS<<Kw<<KwO$=]QqO<<KwO%6TQ,UO'#I`O%6`Q`O,5@QOM[QdO,5@QOOQS1G2u1G2uO%6hQ(DjO'#JOO%7SQdO'#JOO%7ZQ(ChO'#EVO$!qQ(DjO'#EVO$#fQ,UO'#GyOOQO'#Ib'#IbO%7oQ,UO,5=dOOQS,5=d,5=dO%7vQ,UO'#EVO%8XQ,UO'#EVO%8oQ,UO'#EVO%9]Q,UO'#GyO%9nQ`O7+(iO%9sQ`O7+(iO%9{QqO7+(iOOQS7+(i7+(iOIlQ&jO7+(iO*OQdO7+(iOIlQ&jO7+(iO%:VQaO7+(iOOQS7+(l7+(lO5{Q(ChO7+(lO#:kQ`O7+(lO5qQ`O7+(lO!/rQ!bO7+(lO%:eQ`O,5>}OOQO-E<a-E<aOOQO'#G|'#G|O%:pQ`O1G5mO5{Q(ChO<<GpOOQS<<Gp<<GpO%:xQ`O<<GpO%:}Q`O7++[O%;SQ`O7++]OOQS7+(t7+(tO%;XQ`O7+(tO%;^QdO7+(tO%;eQ`O7+(tO*OQdO7++[O*OQdO7++]OOQS<<Lh<<LhOOQS<<Lj<<LjOOQS-E<d-E<dOOQS1G3i1G3iO%;jQ`O,5>OOOQS,5>Q,5>QO%;oQ`O1G3oO7iQ`O7+&UOM[QdO7+&UOOQ(CW1G5U1G5UOOQO7+%V7+%VO%;tQ!LUO1G5_O:pQ`O7+%VOOQO1G0V1G0VO%<OQ(C|O1G0]OOQO1G0]1G0]O*OQdO1G0]O%<YQ(ChO1G0]O:pQ`O1G0VO!/rQ!bO1G0VO$#]Q,UO1G0VO%<eQ(ChO1G0]O%<sQ,UO1G0VO%=QQ(ChO1G0]O%=fQ(DjO1G0]O%=pQ,UO1G0VO$#]Q,UO1G0]OOQ(C[<<IX<<IXOOQ(C[<<Ij<<IjO:pQ`O<<IjO%>QQ(C|O<<NbOOQO7+)u7+)uO%>bQ(C}O7+'kO%@pQ(C}O7+'mO%COQtO1G4VO%CYQ!LUO7+&PO%DOQ!LVO,59mO%FSQ!LVO,5<[O%HZQ!LVO,5<^O%I|Q!LVO,5<lO%KrQ!LUO7+'^O%LPQ!LUO7+'_O%L^Q`O,5<OOOQO7+'R7+'RO%LcQ&kO<<KmOOQO1G4_1G4_O%LjQ`O1G4_O%LuQ`O1G4_O%MTQ`O7++RO%MTQ`O7++ROIlQ&jO1G4aO%M]QqO1G4aO%MgQ`O7++SOOQ(CW7+'u7+'uO$8VQ`O7+'vO%MoQqO7+'vOOQ(CW7+'t7+'tO$8VQ`O7+'uO%MvQ`O7+'vOIlQ&jO7+'vO#:aQ`O7+'uO%M{Q&kO<<NSOOQ(C]7+$u7+$uO%NVQqO,5>xOOQO-E<[-E<[O$&dQ`OANAZOOQSANAZANAZOIlQ&jOANAZO%NaQ(CyO7+'yOOQSAN=eAN=eO6TQ`O1G4jOOQO1G4j1G4jO%NqQ`O1G4jO%NvQ`O7++ZO%NvQ`O7++ZO5{Q(ChOANAvO& OQ`OANAvOOQSANAvANAvO& TQ`OANAZO& ]QqOANAZOOQSANAbANAbOOQSANAcANAcO& gQ`O,5>zOOQO-E<^-E<^O& rQ!LUO1G5lO#:kQ`O,5=eO5qQ`O,5=eO&$SQtO'#ChO!/rQ!bO,5=eOOQO-E<`-E<`OOQS1G3O1G3OO%7SQdO,5<pO%6hQ(DjO,5=eO$CdQ(DjO,5:qO$#fQ,UO,5=eO&$^Q,UO,5=eO&$oQ,UO,5:qOOQS<<LT<<LTOIlQ&jO<<LTO%9nQ`O<<LTO&%VQ`O<<LTO&%_QqO<<LTO*OQdO<<LTOIlQ&jO<<LTOOQS<<LW<<LWO5{Q(ChO<<LWO#:kQ`O<<LWO5qQ`O<<LWO&%iQ,UO1G4iO&%qQ`O7++XOOQSAN=[AN=[O5{Q(ChOAN=[OOQS<<Nv<<NvOOQS<<Nw<<NwOOQS<<L`<<L`O&%yQ`O<<L`O&&OQdO<<L`O&&VQ`O<<NvO&&[Q`O<<NwOOQS1G3j1G3jO:pQ`O7+)ZO&&aQ`O<<IpO&&lQ!LUO<<IpOOQO<<Hq<<HqOOQO7+%w7+%wO%<OQ(C|O7+%wO*OQdO7+%wOOQO7+%q7+%qO:pQ`O7+%qO!/rQ!bO7+%qO&&vQ(ChO7+%wO$#]Q,UO7+%qO&'RQ(ChO7+%wO&'aQ,UO7+%qO&'nQ(ChO7+%wOOQ(C[AN?UAN?UO&(SQ!LUO<<JXO&(aQ!LVO1G2PO&*kQ!LVO1G2cO&,rQ!LVO1G2eO&.eQ!LUO<<JyO&.rQ!LUO<<IkOOQO1G1j1G1jOKRQ&jOANAXOOQO7+)y7+)yO&/PQ`O7+)yO&/[Q`O<<NmO&/dQqO7+){OOQ(CW<<Kb<<KbO$8VQ`O<<KbOOQ(CW<<Ka<<KaO&/nQqO<<KbO$8VQ`O<<KaOOQSG26uG26uO$&dQ`OG26uOOQO7+*U7+*UO6TQ`O7+*UO&/uQ`O<<NuOOQSG27bG27bO5{Q(ChOG27bOIlQ&jOG26uOM[QdO1G4fO&/}Q`O7++WO5{Q(ChO1G3PO#:kQ`O1G3PO5qQ`O1G3PO!/rQ!bO1G3PO$#fQ,UO1G3PO%6hQ(DjO1G3PO%=fQ(DjO1G0]O&0VQ,UO1G3PO%9nQ`OANAoOOQSANAoANAoOIlQ&jOANAoO&0hQ`OANAoO&0pQqOANAoOOQSANArANArO5{Q(ChOANArO#:kQ`OANArOOQO'#G}'#G}OOQO7+*T7+*TOOQSG22vG22vOOQSANAzANAzO&0zQ`OANAzOOQSANDbANDbOOQSANDcANDcOOQS<<Lu<<LuOM[QdOAN?[OOQO<<Ic<<IcO%<OQ(C|O<<IcOOQO<<I]<<I]O:pQ`O<<I]O*OQdO<<IcO!/rQ!bO<<I]O&1PQ(ChO<<IcO$#]Q,UO<<I]O&1[Q(ChO<<IcO&1jQ!LVO7+'kO&3`Q!LVO7+'mO&5UQ&kOG26sOOQO<<Me<<MeOOQ(CWAN@|AN@|O$8VQ`OAN@|OOQ(CWAN@{AN@{OOQSLD,aLD,aOOQO<<Mp<<MpOOQSLD,|LD,|O$&dQ`OLD,aO&5fQ!LUO7+*QOOQO7+(k7+(kO5{Q(ChO7+(kO#:kQ`O7+(kO5qQ`O7+(kO!/rQ!bO7+(kO$#fQ,UO7+(kOOQSG27ZG27ZO%9nQ`OG27ZOIlQ&jOG27ZOOQSG27^G27^O5{Q(ChOG27^OOQSG27fG27fO&5pQ!LUOG24vOOQOAN>}AN>}OOQOAN>wAN>wO%<OQ(C|OAN>}O:pQ`OAN>wO*OQdOAN>}O!/rQ!bOAN>wO&5zQ(ChOAN>}O&6VQ(C}OG26sOOQ(CWG26hG26hOOQS!$( {!$( {OOQO<<LV<<LVO5{Q(ChO<<LVO#:kQ`O<<LVO5qQ`O<<LVO!/rQ!bO<<LVOOQSLD,uLD,uO%9nQ`OLD,uOOQSLD,xLD,xOOQOG24iG24iOOQOG24cG24cO%<OQ(C|OG24iO:pQ`OG24cO*OQdOG24iO&8vQ7]O,5:uOOQOANAqANAqO5{Q(ChOANAqO#:kQ`OANAqO5qQ`OANAqOOQS!$(!a!$(!aOOQOLD*TLD*TOOQOLD)}LD)}O%<OQ(C|OLD*TO&9vQ!LVOG26sO&;lQ7]O,59mO&<iQ7]O,5<[O&=fQ7]O,5<^O&>cQ7]O,5<lOOQOG27]G27]O5{Q(ChOG27]O#:kQ`OG27]OOQO!$'Mo!$'MoO&?cQ7]O1G2cO&@`Q7]O1G2eO&A]Q7]O1G2POOQOLD,wLD,wO5{Q(ChOLD,wO&B]Q7]O7+'kO&C]Q7]O7+'mOOQO!$(!c!$(!cO&D]Q7]OG26sOM[QdO'#DtO&E]QtO'#IzOM[QdO'#DlO&EdQ(C|O'#ChO&E}QtO'#ChO&F_QdO,5:yO&H_Q&jO'#EZOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO,5;UOM[QdO'#IWO&IoQ`O,5<ZO&IwQ&jO,5;UO&KXQ&jO,5;UOM[QdO,5;jO!+hQ`O'#DRO!+hQ`O'#DRO!+hQ`O'#DROIlQ&jO'#FpO&H_Q&jO'#FpO&IwQ&jO'#FpOIlQ&jO'#FrO&H_Q&jO'#FrO&IwQ&jO'#FrOIlQ&jO'#GQO&H_Q&jO'#GQO&IwQ&jO'#GQOM[QdO,5?sO&F_QdO1G0eO&K`Q!LUO'#ChOM[QdO1G1rOIlQ&jO,5<wO&H_Q&jO,5<wO&IwQ&jO,5<wOIlQ&jO,5<yO&H_Q&jO,5<yO&IwQ&jO,5<yOIlQ&jO,5<eO&H_Q&jO,5<eO&IwQ&jO,5<eO&F_QdO1G1sOM[QdO7+&mOIlQ&jO1G2PO&H_Q&jO1G2PO&IwQ&jO1G2POIlQ&jO1G2RO&H_Q&jO1G2RO&IwQ&jO1G2RO&F_QdO7+'_O&F_QdO7+&PO&KjQ`O7+'vOIlQ&jOANAXO&H_Q&jOANAXO&IwQ&jOANAXO&KjQ`O<<KbO&KjQ`OAN@|O&KoQ`O'#E_O&KtQ`O'#E_O&K|Q`O'#FOO&LRQ`O'#EjO&LWQ`O'#JXO&LcQ`O'#JVO&LnQ`O,5:yO&LsQ&kO,5<WO&LzQ`O'#FyO&MPQ`O'#FyO&MUQ`O'#FyO&MZQ`O,5<XO&McQ`O,5:yO&MkQ!LUO1G1RO&MrQ`O,5<eO&MwQ`O,5<eO&M|Q`O,5<eO&NRQ`O,5<gO&NWQ`O,5<gO&N]Q`O,5<gO&NbQ`O1G1sO&NgQ`O1G0eO&NlQ`O1G2[O&NqQ&kO<<KmO&NxQ&kO<<KmO' PQ&kO<<KmO' WQqO7+'vO' _Q`O7+'vO' dQqO<<KbO4^Q&jO'#FnO5qQ`O'#FmOC]Q`O'#E^OM[QdO,5;gO!'{Q`O'#FyO!'{Q`O'#FyO!'{Q`O'#FyO!'{Q`O'#F{O!'{Q`O'#F{O!'{Q`O'#F{O' kQ`O,5<pOKRQ&jO7+(ROKRQ&jO7+(ROKRQ&jO7+(ROIlQ&jO1G2[O' sQ`O1G2[OIlQ&jO7+'vO$5yQqO1G2gO$5yQqO1G2gO$5yQqO1G2gOIlQ&jO,5<{OIlQ&jO,5<{OIlQ&jO,5<{",
    stateData: "'!v~O'aOS'bOSTOSUOS~OQTORTOXyO]cO_hObnOcmOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!VSO!akO!fUO!iTO!jTO!kTO!lTO!mTO!plO#hsO#xpO#|^O%WqO%YtO%[rO%]rO%`uO%bvO%ewO%fwO%hxO%uzO%{{O%}|O&P}O&R!OO&U!PO&[!QO&b!RO&d!SO&f!TO&h!UO&j!VO'dPO'lQO'uYO(SaO~OQ[XZ[X_[Xk[Xx[Xy[X{[X!T[X!c[X!d[X!f[X!l[X#O[X#ZdX#_[X#`[X#a[X#b[X#c[X#d[X#e[X#f[X#g[X#i[X#k[X#m[X#n[X#s[X'_[X'l[X'v[X'}[X(O[X~O!_$rX~P$zOS!WO']!XO'^!ZO~OQTORTO]cOb!kOc!jOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!V!bO!akO!fUO!iTO!jTO!kTO!lTO!mTO!p!iO#x!lO#|^O'd![O'lQO'uYO(SaO~O!S!`O!T!]O!Q'pP!Q'zP~P'gO!U!mO~P`OQTORTO]cOb!kOc!jOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!V!bO!akO!fUO!iTO!jTO!kTO!lTO!mTO!p!iO#x!lO#|^O'd9|O'lQO'uYO(SaO~OQTORTO]cOb!kOc!jOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!V!bO!akO!fUO!iTO!jTO!kTO!lTO!mTO!p!iO#x!lO#|^O'lQO'uYO(SaO~O!S!rO#X!uO#Y!rO'd9}O!e'wP~P,OO#Z!vO~O!_!wO#Z!vO~OQ#_OZ#fOk#SOx!{Oy!|O{!}O!T#cO!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO#k#XO#m#ZO#n#[O'lQO'v#]O'}#OO(O#PO~O_'nX'_'nX!e'nX!Q'nX!V'nX%X'nX!_'nX~P.mO#O#gO#s#gOQ'oXZ'oX_'oXk'oXx'oXy'oX{'oX!T'oX!c'oX!d'oX!f'oX!l'oX#_'oX#`'oX#a'oX#b'oX#c'oX#d'oX#e'oX#f'oX#i'oX#k'oX#m'oX#n'oX'l'oX'v'oX'}'oX(O'oX~O#g'oX'_'oX!Q'oX!e'oXo'oX!V'oX%X'oX!_'oX~P1QO#O#gO~O$O#iO$Q#hO$X#nO~O!V#oO#|^O$[#pO$^#rO~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv$XO{#}O!V$OO!a$^O!f#zO#Y$_O#x$[O$e$YO$g$ZO$j$]O'd#tO'h$TO'l#wOe'iP~O!f$`O~O!_$bO~O_$cO'_$cO~O'd$gO~O!f$`O'd$gO'e$iO'h$TO~Oc$oO!f$`O'd$gO~O#g#UO~O]$xOx$tO!V$qO!f$sO%Y$wO'd$gO'e$iO^([P~O!p$yO~O{$zO!V${O'd$gO~O{$zO!V${O%b%PO'd$gO~O'd%QO~O#hsO%YtO%[rO%]rO%`uO%bvO%ewO%fwO~Ob%ZOc%YO!p%WO%W%XO%j%VO~P8XOb%^OcmO!V%]O!plO#hsO%WqO%[rO%]rO%`uO%bvO%ewO%fwO%hxO~O`%aO#O%dO%Y%_O'e$iO~P9WO!f%eO!i%iO~O!f%jO~O!VSO~O_$cO'[%rO'_$cO~O_$cO'[%uO'_$cO~O_$cO'[%wO'_$cO~OS!WO']!XO'^%{O~OQ[XZ[Xk[Xx[Xy[X{[X!T[X!TdX!c[X!d[X!f[X!l[X#O[X#OdX#ZdX#_[X#`[X#a[X#b[X#c[X#d[X#e[X#f[X#g[X#i[X#k[X#m[X#n[X#s[X'l[X'v[X'}[X(O[X~O!Q[X!QdX~P;sO!S%}O!Q&pX!Q&uX!T&pX!T&uX~P'gO!T&PO!Q'pX~OQ#_OZ#fOk#SOx!{Oy!|O{!}O!T&PO!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO#k#XO#m#ZO#n#[O'lQO'v#]O'}#OO(O#PO~O!Q'pX~P>sO!Q&UO~O]&YOl&YO{&XO!S&]O!Y&cO!Z&[O![&[O'e$iO'm&VO!U'qP!U'|P~O!Q'yX!T'yX!_'yX!e'yX'v'yX~O#O'yX#Z#SX!U'yX~PAnO#O&dO!Q'{X!T'{X~O!T&eO!Q'zX~O!Q&hO~O#O#gO~PAnOP&lO!V&iO!q&kO'd$gO~Oc&qO!f$`O'd$gO~Ox$tO!f$sO~O!U&rO~P`Ox!{Oy!|O{!}O!d!yO!f!zO'lQOQ!haZ!hak!ha!T!ha!c!ha!l!ha#_!ha#`!ha#a!ha#b!ha#c!ha#d!ha#e!ha#f!ha#g!ha#i!ha#k!ha#m!ha#n!ha'v!ha'}!ha(O!ha~O_!ha'_!ha!Q!ha!e!hao!ha!V!ha%X!ha!_!ha~PCwO!e&sO~O!_!wO#O&uO'v&tO!T'xX_'xX'_'xX~O!e'xX~PFdO!T&yO!e'wX~O!e&{O~O{$zO!V${O#Y&|O'd$gO~OQTORTO]cOb!kOc!jOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!VSO!akO!fUO!iTO!jTO!kTO!lTO!mTO!p!iO#x!lO#|^O'd9|O'lQO'uYO(SaO~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv:bO{#}O!V$OO!a<RO!f#zO#Y:kO#x$[O$e:eO$g:hO$j$]O'd'QO'h$TO'l#wO~O#Z'SO~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv$XO{#}O!V$OO!a$^O!f#zO#Y$_O#x$[O$e$YO$g$ZO$j$]O'd'QO'h$TO'l#wO~Oe'sP~PKRO!S'WO!e'tP~P*OO'm'YO'uYO~O{'[O!f!zO'm'YO'uYO~OQ9yOR9yO]cOb;|Oc!jOicOk9yOlcOmcOrcOt9yOv9yO{RO!OcO!PcO!V!bO!a9{O!fUO!i9yO!j9yO!k9yO!l9yO!m9yO!p!iO#x!lO#|^O'd'jO'lQO'uYO(S;zO~Oy'mO!f!zO~O!T#cO_$ca'_$ca!e$ca!Q$ca!V$ca%X$ca!_$ca~O#h'qO~PIlOx'tO!_'sO!V$PX#{$PX$O$PX$Q$PX$X$PX~O!_'sO!V(PX#{(PX$O(PX$Q(PX$X(PX~Ox'tO~P!!nOx'tO!V(PX#{(PX$O(PX$Q(PX$X(PX~O!V'vO#{'zO$O'uO$Q'uO$X'{O~O!S(OO~PM[O$O#iO$Q#hO$X(RO~OP$kXx$kX{$kX!d$kX'}$kX(O$kX~OPgXegXe$kX!TgX#OgX~P!$dOl(TO~OS(UO'](VO'^(XO~OP(bOx(ZO{([O'}(^O(O(`O~Oe(YO~P!%mOe(cO~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv:bO{#}O!V$OO!a<RO!f#zO#Y:kO#x$[O$e:eO$g:hO$j$]O'h$TO'l#wO~O!S(gO'd(dO!e(TP~P!&[O#Z(iO~O!f(jO~O!S(oO'd(lO!Q(UP~P!&[Ok(|O{(tO!Y(zO!Z(sO![(sO!f(jO!z({O%O(vO'e$iO'm(qO~O!U(yO~P!(_O!d!yOP'kXx'kX{'kX'}'kX(O'kX!T'kX#q'kX!U'kX~Oe'kX#O'kX]'kXl'kX!Y'kX!Z'kX!['kX!t'kX!u'kX!v'kX!z'kX!{'kX'e'kX'm'kX'u'kX~P!)WOP)PO#O)OOe'jX!T'jX~O!T)QOe'iX~O'd%QOe'iP~O'd)TO~O!f)YO~O'd'QO~O{$zO!S!rO!V${O#X!uO#Y!rO'd$gO!e'wP~O!_!wO#Z)^O~OQ#_OZ#fOk#SOx!{Oy!|O{!}O!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO#k#XO#m#ZO#n#[O'lQO'v#]O'}#OO(O#PO~O_!`a!T!`a'_!`a!Q!`a!e!`ao!`a!V!`a%X!`a!_!`a~P!,hOP)fO!V&iO!q)eO%X)dO'h$TO~O!_)hO!V'gX_'gX!T'gX'_'gX~O!f$`O'h$TO~O!f$`O'd$gO'h$TO~O!_!wO#Z'SO~O])sO%Y)tO'd)pO!U(]P~O!T)uO^([X~O'm'YO~OZ)yO~O^)zO~O!V$qO'd$gO'e$iO^([P~O{$zO!S*PO!T&eO!V${O'd$gO!Q'zP~O]&`Ol&`O{*RO!S*QO'm'YO~O!U'|P~P!1xO!T*SO_(XX'_(XX~O#O*WO'h$TO~OP*ZO!V$OO'h$TO~O!V*]O~Ox*_O!VSO~O!p*dO~Oc*iO~O'd)TO!U(ZP~Oc$oO~O%YtO'd%QO~P9WOZ*oO^*nO~OQTORTO]cObnOcmOicOkTOlcOmcOrcOtTOvTO{RO!OcO!PcO!akO!fUO!iTO!jTO!kTO!lTO!mTO!plO#|^O%WqO'lQO'uYO(SaO~O!V!bO#x!lO'd9|O~P!4YO^*nO_$cO'_$cO~O_*sO#h*uO%[*uO%]*uO~P*OO!f%eO~O%{*zO~O!V*|O~O&^+OO&`+POQ&ZaR&ZaX&Za]&Za_&Zab&Zac&Zai&Zak&Zal&Zam&Zar&Zat&Zav&Za{&Za!O&Za!P&Za!V&Za!a&Za!f&Za!i&Za!j&Za!k&Za!l&Za!m&Za!p&Za#h&Za#x&Za#|&Za%W&Za%Y&Za%[&Za%]&Za%`&Za%b&Za%e&Za%f&Za%h&Za%u&Za%{&Za%}&Za&P&Za&R&Za&U&Za&[&Za&b&Za&d&Za&f&Za&h&Za&j&Za'Z&Za'd&Za'l&Za'u&Za(S&Za!U&Za&S&Za`&Za&X&Za~O'd+UO~Oo+XO~O!Q&pa!T&pa~P!,hO!S+]O!Q&pX!T&pX~P*OO!T&PO!Q'pa~O!Q'pa~P>sO!T&eO!Q'za~O!TzX!T!]X!UzX!U!]X!_zX!_!]X!f!]X#OzX'h!]X~O!_+bO#O+aO!T#WX!T'rX!U#WX!U'rX!_'rX!f'rX'h'rX~O!_+dO!f$`O'h$TO!T!XX!U!XX~O]&WOl&WO{+eO'm(qO~OQ9yOR9yO]cOb;|Oc!jOicOk9yOlcOmcOrcOt9yOv9yO{RO!OcO!PcO!V!bO!a9{O!fUO!i9yO!j9yO!k9yO!l9yO!m9yO!p!iO#x!lO#|^O'lQO'uYO(S;zO~O'd:pO~P!>eO!T+iO!U'qX~O!U+kO~O!_+bO#O+aO!T#WX!U#WX~O!T+lO!U'|X~O!U+nO~O]&WOl&WO{+eO'e$iO'm(qO~O!Z+oO![+oO~P!AcO{$zO!S+qO!V${O'd$gO!Q&uX!T&uX~O_+uO!U+wO!Y+xO!Z+tO![+tO!t+|O!u+zO!v+{O!w+yO!z+}O!{+}O'u+rO~P!AcOP,SO!V&iO!q,RO~O#O,YO!T'xa!e'xa_'xa'_'xa~O!_!wO~P!CiO!T&yO!e'wa~O{$zO!S,]O!V${O#X,_O#Y,]O'd$gO!T&wX!e&wX~O_#Ri!T#Ri'_#Ri!Q#Ri!e#Rio#Ri!V#Ri%X#Ri!_#Ri~P!,hOP<`Ox(ZO{([O'}(^O(O(`O~O#Z!}a!T!}a!e!}a#O!}a!V!}a_!}a'_!}a!Q!}a~P!EfO!d!yOP'kXx'kX{'kX'}'kX(O'kXQ'kXZ'kXk'kXy'kX!T'kX!c'kX!f'kX!l'kX#_'kX#`'kX#a'kX#b'kX#c'kX#d'kX#e'kX#f'kX#g'kX#i'kX#k'kX#m'kX#n'kX'l'kX'v'kX~O#Z'kX_'kX'_'kX!e'kX!Q'kX!V'kX#O'kXo'kX%X'kX!_'kX~P!FeO!T,hOe'sX~P!%mOe,jO~O!T,kO!e'tX~P!,hO!e,nO~O!Q,pO~OQ#_Ox!{Oy!|O{!}O!d!yO!f!zO!l#_O'lQOZ#^i_#^ik#^i!T#^i!c#^i#`#^i#a#^i#b#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i'_#^i'v#^i'}#^i(O#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~O#_#^i~P!IyO#_#QO~P!IyOQ#_Ox!{Oy!|O{!}O!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO'lQOZ#^i_#^i!T#^i!c#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i'_#^i'v#^i'}#^i(O#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~Ok#^i~P!LhOk#SO~P!LhOQ#_Ok#SOx!{Oy!|O{!}O!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO'lQO_#^i!T#^i#i#^i#k#^i#m#^i#n#^i'_#^i'v#^i'}#^i(O#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~OZ#^i!c#^i#d#^i#e#^i#f#^i#g#^i~P# VOZ#fO!c#UO#d#UO#e#UO#f#eO#g#UO~P# VOQ#_OZ#fOk#SOx!{Oy!|O{!}O!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO'lQO_#^i!T#^i#k#^i#m#^i#n#^i'_#^i'v#^i(O#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~O'}#^i~P#$TO'}#OO~P#$TOQ#_OZ#fOk#SOx!{Oy!|O{!}O!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO#k#XO'lQO'}#OO_#^i!T#^i#m#^i#n#^i'_#^i'v#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~O(O#^i~P#&rO(O#PO~P#&rOQ#_OZ#fOk#SOx!{Oy!|O{!}O!c#UO!d!yO!f!zO!l#_O#_#QO#`#RO#a#RO#b#RO#c#TO#d#UO#e#UO#f#eO#g#UO#i#VO#k#XO#m#ZO'lQO'}#OO(O#PO~O_#^i!T#^i#n#^i'_#^i'v#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~P#)aOQ[XZ[Xk[Xx[Xy[X{[X!c[X!d[X!f[X!l[X#O[X#ZdX#_[X#`[X#a[X#b[X#c[X#d[X#e[X#f[X#g[X#i[X#k[X#m[X#n[X#s[X'l[X'v[X'}[X(O[X!T[X!U[X~O#q[X~P#+wOQ#_OZ:`Ok:SOx!{Oy!|O{!}O!c:UO!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO#c:TO#d:UO#e:UO#f:_O#g:UO#i:VO#k:XO#m:ZO#n:[O'lQO'v#]O'}#OO(O#PO~O#q,rO~P#.UOQ'oXZ'oXk'oXx'oXy'oX{'oX!c'oX!d'oX!f'oX!l'oX#_'oX#`'oX#a'oX#b'oX#c'oX#d'oX#e'oX#f'oX#i'oX#k'oX#m'oX#n'oX'l'oX'v'oX'}'oX(O'oX!T'oX~O#O:aO#s:aO#g'oX#q'oX!U'oX~P#0SO_&za!T&za'_&za!e&zao&za!Q&za!V&za%X&za!_&za~P!,hOQ#^iZ#^i_#^ik#^iy#^i!T#^i!c#^i!d#^i!f#^i!l#^i#_#^i#`#^i#a#^i#b#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i'_#^i'l#^i'v#^i!Q#^i!e#^io#^i!V#^i%X#^i!_#^i~P!EfO_#ri!T#ri'_#ri!Q#ri!e#rio#ri!V#ri%X#ri!_#ri~P!,hO$O,uO$Q,uO~O$O,vO$Q,vO~O!_'sO#O,wO!V$UX#{$UX$O$UX$Q$UX$X$UX~O!S,xO~O!V'vO#{,zO$O'uO$Q'uO$X,{O~O!T:]O!U'nX~P#.UO!U,|O~O$X-OO~OS(UO'](VO'^-RO~O]-UOl-UO!Q-VO~O!TdX!_dX!edX!e$kX'vdX~P!$dO!e-]O~P!EfO!T-^O!_!wO'v&tO!e(TX~O!e-cO~O!S(gO'd$gO!e(TP~O#Z-eO~O!Q$kX!T$kX!_$rX~P!$dO!T-fO!Q(UX~P!EfO!_-hO~O!Q-jO~Ok-nO!_!wO!f$`O'h$TO'v&tO~O'd-pO~O!_)hO~O_$cO!T-tO'_$cO~O!U-vO~P!(_O!Z-wO![-wO'e$iO'm(qO~O{-yO'm(qO~O!z-zO~O'd%QOe'PX!T'PX~O!T)QOe'ia~Oe.PO~Ox.QOy.QO{.ROPua'}ua(Oua!Tua#Oua~Oeua#qua~P#<XOx(ZO{([OP$da'}$da(O$da!T$da#O$da~Oe$da#q$da~P#<}Ox(ZO{([OP$fa'}$fa(O$fa!T$fa#O$fa~Oe$fa#q$fa~P#=pO].SO~O#Z.TO~Oe$ta!T$ta#O$ta#q$ta~P!%mO#Z.WO~OP.aO!V&iO!q.`O%X._O~O]#uOk#vOl#uOm#uOr$VOt$WOv:bO{#}O!V$OO!a<RO!f#zO#Y:kO#x$[O$e:eO$g:hO$j$]O'h$TO'l#wO~Oi.cO'd.bO~P#?bO!_)hO!V'ga_'ga!T'ga'_'ga~O#Z.iO~OZ[X!TdX!UdX~O!T.jO!U(]X~O!U.lO~OZ.mO~O].oO'd)pO~O!V$qO'd$gO^'XX!T'XX~O!T)uO^([a~O!e.rO~P!,hO].tO~OZ.uO~O^.vO~OP.aO!V&iO!q.`O%X._O'h$TO~O!T*SO_(Xa'_(Xa~O#O.}O~OP/QO!V$OO~O'm'YO!U(YP~OP/[O!V/WO!q/ZO%X/YO'h$TO~OZ/fO!T/dO!U(ZX~O!U/gO~O^/iO_$cO'_$cO~O]/jO~O]/kO'd)TO~O#g/lO%y/mO~P1QO#O#gO#g/lO%y/mO~O_/nO~P*OO_/pO~O&S/tOQ&QiR&QiX&Qi]&Qi_&Qib&Qic&Qii&Qik&Qil&Qim&Qir&Qit&Qiv&Qi{&Qi!O&Qi!P&Qi!V&Qi!a&Qi!f&Qi!i&Qi!j&Qi!k&Qi!l&Qi!m&Qi!p&Qi#h&Qi#x&Qi#|&Qi%W&Qi%Y&Qi%[&Qi%]&Qi%`&Qi%b&Qi%e&Qi%f&Qi%h&Qi%u&Qi%{&Qi%}&Qi&P&Qi&R&Qi&U&Qi&[&Qi&b&Qi&d&Qi&f&Qi&h&Qi&j&Qi'Z&Qi'd&Qi'l&Qi'u&Qi(S&Qi!U&Qi`&Qi&X&Qi~O`/zO!U/xO&X/yO~P`O!VSO!f/|O~O&`+POQ&ZiR&ZiX&Zi]&Zi_&Zib&Zic&Zii&Zik&Zil&Zim&Zir&Zit&Ziv&Zi{&Zi!O&Zi!P&Zi!V&Zi!a&Zi!f&Zi!i&Zi!j&Zi!k&Zi!l&Zi!m&Zi!p&Zi#h&Zi#x&Zi#|&Zi%W&Zi%Y&Zi%[&Zi%]&Zi%`&Zi%b&Zi%e&Zi%f&Zi%h&Zi%u&Zi%{&Zi%}&Zi&P&Zi&R&Zi&U&Zi&[&Zi&b&Zi&d&Zi&f&Zi&h&Zi&j&Zi'Z&Zi'd&Zi'l&Zi'u&Zi(S&Zi!U&Zi&S&Zi`&Zi&X&Zi~O!T#cOo$ca~O!Q&pi!T&pi~P!,hO!T&PO!Q'pi~O!T&eO!Q'zi~O!Q0SO~O!T!Xa!U!Xa~P#.UO!S0ZO!Y&cO!Z&[O![&[O!T&qX!U&qX~P!AcO!T+iO!U'qa~O!T&vX!U&vX~P!1xO!T+lO!U'|a~O!Q'{i!T'{i~P!,hO_$cO!_!wO!f$`O!l0eO#O0cO'_$cO'h$TO'v&tO~O]&WOl&WO{+eO'm(qO'u+rO~O_+uO!U0hO!Y+xO!Z+tO![+tO!t+|O!u+zO!v+{O!w+yO!z+}O!{+}O'u+rO~P!AcO!Z0iO![0iO'u+rO~P!AcO!Y0jO!Z0iO![0iO'u+rO~P!AcO!VSO!Y0jO!Z0iO![0iO!w0lO!z0mO!{0mO'u+rO~P!AcO!Y0jO!Z0iO![0iO!u0oO!v0oO!w0lO!z0mO!{0mO'u+rO~P!AcO!V&iO~O!V&iO~P!EfO!T'xi!e'xi_'xi'_'xi~P!,hO#O0xO!T'xi!e'xi_'xi'_'xi~O!T&yO!e'wi~O{$zO!V${O#Y0zO'd$gO~O#ZuaQuaZua_uakua!cua!dua!fua!lua#_ua#`ua#aua#bua#cua#dua#eua#fua#gua#iua#kua#mua#nua'_ua'lua'vua!eua!Qua!Vuaoua%Xua!_ua~P#<XO#Z$daQ$daZ$da_$dak$day$da!c$da!d$da!f$da!l$da#_$da#`$da#a$da#b$da#c$da#d$da#e$da#f$da#g$da#i$da#k$da#m$da#n$da'_$da'l$da'v$da!e$da!Q$da!V$dao$da%X$da!_$da~P#<}O#Z$faQ$faZ$fa_$fak$fay$fa!c$fa!d$fa!f$fa!l$fa#_$fa#`$fa#a$fa#b$fa#c$fa#d$fa#e$fa#f$fa#g$fa#i$fa#k$fa#m$fa#n$fa'_$fa'l$fa'v$fa!e$fa!Q$fa!V$fao$fa%X$fa!_$fa~P#=pO#Z$taQ$taZ$ta_$tak$tay$ta!T$ta!c$ta!d$ta!f$ta!l$ta#_$ta#`$ta#a$ta#b$ta#c$ta#d$ta#e$ta#f$ta#g$ta#i$ta#k$ta#m$ta#n$ta'_$ta'l$ta'v$ta!e$ta!Q$ta!V$ta#O$tao$ta%X$ta!_$ta~P!EfO_#Rq!T#Rq'_#Rq!Q#Rq!e#Rqo#Rq!V#Rq%X#Rq!_#Rq~P!,hOe&rX!T&rX~PKRO!T,hOe'sa~O!S1SO!T&sX!e&sX~P*OO!T,kO!e'ta~O!T,kO!e'ta~P!,hO!Q1VO~O#q!ha!U!ha~PCwO#q!`a!T!`a!U!`a~P#.UO!V1hO#|^O$V1iO~O!U1mO~Oo1nO~P!EfO_$`q!T$`q'_$`q!Q$`q!e$`qo$`q!V$`q%X$`q!_$`q~P!,hO!Q1oO~O]-UOl-UO~Ox(ZO{([O(O(`OP%Pi'}%Pi!T%Pi#O%Pi~Oe%Pi#q%Pi~P$4eOx(ZO{([OP%Ri'}%Ri(O%Ri!T%Ri#O%Ri~Oe%Ri#q%Ri~P$5WO'v#]O~P!EfO!S1rO'd$gO!T&{X!e&{X~O!T-^O!e(Ta~O!T-^O!_!wO!e(Ta~O!T-^O!_!wO'v&tO!e(Ta~Oe$mi!T$mi#O$mi#q$mi~P!%mO!S1zO'd(lO!Q&}X!T&}X~P!&[O!T-fO!Q(Ua~O!T-fO!Q(Ua~P!EfO!_!wO~O!_!wO#g2SO~Ok2VO!_!wO'v&tO~Oe'ji!T'ji~P!%mO#O2YOe'ji!T'ji~P!%mO!e2]O~O_$aq!T$aq'_$aq!Q$aq!e$aqo$aq!V$aq%X$aq!_$aq~P!,hO!T2aO!V(VX~P!EfO!V&iO%X2dO~O!V&iO%X2dO~P!EfO!V$kX$|[X_$kX!T$kX'_$kX~P!$dO$|2hOPhXxhX{hX!VhX'}hX(OhX_hX!ThX'_hX~O$|2hO~O]2nO%Y2oO'd)pO!T'WX!U'WX~O!T.jO!U(]a~OZ2sO~O^2tO~O]2wO~OP2yO!V&iO!q2xO%X2dO~O!Q2zO~O_$cO'_$cO~P!EfO!V$OO~P!EfO!T3PO#O3RO!U(YX~O!U3SO~O]&WOl&WO{3UO!Y3`O!Z3XO![3XO!t3_O!u3^O!v3^O!z3]O!{+}O'e$iO'm(qO'u+rO~O!U3[O~P$=tOP3gO!V/WO!q3fO%X3eO~OP3gO!V/WO!q3fO%X3eO'h$TO~O'd)TO!T'VX!U'VX~O!T/dO!U(Za~O]3qO'm3pO~O]3rO~O^3tO~O!e3wO~P*OO_3yO~O_3yO~P*OO#g3{O%y3|O~PFdO`/zO!U4QO&X/yO~P`O!_4SO~O!_4UO!T'ri!U'ri!_'ri!f'ri'h'ri~O!T#Wi!U#Wi~P#.UO#O4VO!T#Wi!U#Wi~O!T!Xi!U!Xi~P#.UO!Q4WO~O_$cO#O4_O'_$cO~O_$cO!_!wO#O4_O'_$cO~O!Z4cO![4cO'u+rO~P!AcO_$cO!_!wO!f$`O!l4dO#O4_O'_$cO'h$TO'v&tO~O!Y4eO!Z4cO![4cO'u+rO~P!AcO!Y4eO!Z4cO![4cO!w4hO!z4iO!{4iO'u+rO~P!AcO_$cO!_!wO!l4dO#O4_O'_$cO'v&tO~O!T'xq!e'xq_'xq'_'xq~P!,hO!T&yO!e'wq~O#Z%PiQ%PiZ%Pi_%Pik%Piy%Pi!c%Pi!d%Pi!f%Pi!l%Pi#_%Pi#`%Pi#a%Pi#b%Pi#c%Pi#d%Pi#e%Pi#f%Pi#g%Pi#i%Pi#k%Pi#m%Pi#n%Pi'_%Pi'l%Pi'v%Pi!e%Pi!Q%Pi!V%Pio%Pi%X%Pi!_%Pi~P$4eO#Z%RiQ%RiZ%Ri_%Rik%Riy%Ri!c%Ri!d%Ri!f%Ri!l%Ri#_%Ri#`%Ri#a%Ri#b%Ri#c%Ri#d%Ri#e%Ri#f%Ri#g%Ri#i%Ri#k%Ri#m%Ri#n%Ri'_%Ri'l%Ri'v%Ri!e%Ri!Q%Ri!V%Rio%Ri%X%Ri!_%Ri~P$5WO#Z$miQ$miZ$mi_$mik$miy$mi!T$mi!c$mi!d$mi!f$mi!l$mi#_$mi#`$mi#a$mi#b$mi#c$mi#d$mi#e$mi#f$mi#g$mi#i$mi#k$mi#m$mi#n$mi'_$mi'l$mi'v$mi!e$mi!Q$mi!V$mi#O$mio$mi%X$mi!_$mi~P!EfOe&ra!T&ra~P!%mO!T&sa!e&sa~P!,hO!T,kO!e'ti~O#q#Ri!T#Ri!U#Ri~P#.UOQ#_Ox!{Oy!|O{!}O!d!yO!f!zO!l#_O'lQOZ#^ik#^i!c#^i#`#^i#a#^i#b#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i#q#^i'v#^i'}#^i(O#^i!T#^i!U#^i~O#_#^i~P$MbO#_:QO~P$MbOQ#_Ox!{Oy!|O{!}O!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO'lQOZ#^i!c#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i#q#^i'v#^i'}#^i(O#^i!T#^i!U#^i~Ok#^i~P% mOk:SO~P% mOQ#_Ok:SOx!{Oy!|O{!}O!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO#c:TO'lQO#i#^i#k#^i#m#^i#n#^i#q#^i'v#^i'}#^i(O#^i!T#^i!U#^i~OZ#^i!c#^i#d#^i#e#^i#f#^i#g#^i~P%#xOZ:`O!c:UO#d:UO#e:UO#f:_O#g:UO~P%#xOQ#_OZ:`Ok:SOx!{Oy!|O{!}O!c:UO!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO#c:TO#d:UO#e:UO#f:_O#g:UO#i:VO'lQO#k#^i#m#^i#n#^i#q#^i'v#^i(O#^i!T#^i!U#^i~O'}#^i~P%&dO'}#OO~P%&dOQ#_OZ:`Ok:SOx!{Oy!|O{!}O!c:UO!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO#c:TO#d:UO#e:UO#f:_O#g:UO#i:VO#k:XO'lQO'}#OO#m#^i#n#^i#q#^i'v#^i!T#^i!U#^i~O(O#^i~P%(oO(O#PO~P%(oOQ#_OZ:`Ok:SOx!{Oy!|O{!}O!c:UO!d!yO!f!zO!l#_O#_:QO#`:RO#a:RO#b:RO#c:TO#d:UO#e:UO#f:_O#g:UO#i:VO#k:XO#m:ZO'lQO'}#OO(O#PO~O#n#^i#q#^i'v#^i!T#^i!U#^i~P%*zO_#oy!T#oy'_#oy!Q#oy!e#oyo#oy!V#oy%X#oy!_#oy~P!,hOP<bOx(ZO{([O'}(^O(O(`O~OQ#^iZ#^ik#^iy#^i!c#^i!d#^i!f#^i!l#^i#_#^i#`#^i#a#^i#b#^i#c#^i#d#^i#e#^i#f#^i#g#^i#i#^i#k#^i#m#^i#n#^i#q#^i'l#^i'v#^i!T#^i!U#^i~P%-oO#q'kX!U'kX~P!FeO#q#ri!T#ri!U#ri~P#.UO!U4zO~O!T&za!U&za~P#.UO!_!wO'v&tO!T&{a!e&{a~O!T-^O!e(Ti~O!T-^O!_!wO!e(Ti~Oe$mq!T$mq#O$mq#q$mq~P!%mO!Q&}a!T&}a~P!EfO!_5RO~O!T-fO!Q(Ui~P!EfO!T-fO!Q(Ui~O!Q5VO~O!_!wO#g5[O~Ok5]O!_!wO'v&tO~O!Q5_O~Oe$oq!T$oq#O$oq#q$oq~P!%mO_$ay!T$ay'_$ay!Q$ay!e$ayo$ay!V$ay%X$ay!_$ay~P!,hO!T2aO!V(Va~O!V&iO%X5dO~O!V&iO%X5dO~P!EfO_#Ry!T#Ry'_#Ry!Q#Ry!e#Ryo#Ry!V#Ry%X#Ry!_#Ry~P!,hOZ5gO~O]5iO'd)pO~O!T.jO!U(]i~O]5lO~O^5mO~O!_4UO~O'm'YO!T'SX!U'SX~O!T3PO!U(Ya~O!f$`O'h$TO_'rX!_'rX!l'rX#O'rX'_'rX'v'rX~O'd5xO~P,OO_$cO!_!wO!l0eO#O0cO'_$cO'v&tO~O!U5{O~P$=tO]&WOl&WO{5|O'm(qO'u+rO~O!Y6QO!Z6PO![6PO!z0mO!{0mO'u+rO~P!AcO!Y6QO!Z6PO![6PO!u6RO!v6RO!z0mO!{0mO'u+rO~P!AcO!Z6PO![6PO'e$iO'm(qO'u+rO~O!V/WO~O!V/WO%X6TO~O!V/WO%X6TO~P!EfOP6YO!V/WO!q6XO%X6TO~OZ6_O!T'Va!U'Va~O!T/dO!U(Zi~O]6bO~O!e6cO~O!e6dO~O!e6eO~O!e6eO~P*OO_6gO~O!_6jO~O!e6kO~O!T'{i!U'{i~P#.UO_$cO'_$cO~P!,hO_$cO#O6qO'_$cO~O_$cO!_!wO#O6qO'_$cO~O!Z6vO![6vO'u+rO~P!AcO_$cO!_!wO!l6wO#O6qO'_$cO'v&tO~O!f$`O'h$TO~P%=QO!Y6xO!Z6vO![6vO'u+rO~P!AcO!T'xy!e'xy_'xy'_'xy~P!,hO#Z$mqQ$mqZ$mq_$mqk$mqy$mq!T$mq!c$mq!d$mq!f$mq!l$mq#_$mq#`$mq#a$mq#b$mq#c$mq#d$mq#e$mq#f$mq#g$mq#i$mq#k$mq#m$mq#n$mq'_$mq'l$mq'v$mq!e$mq!Q$mq!V$mq#O$mqo$mq%X$mq!_$mq~P!EfO#Z$oqQ$oqZ$oq_$oqk$oqy$oq!T$oq!c$oq!d$oq!f$oq!l$oq#_$oq#`$oq#a$oq#b$oq#c$oq#d$oq#e$oq#f$oq#g$oq#i$oq#k$oq#m$oq#n$oq'_$oq'l$oq'v$oq!e$oq!Q$oq!V$oq#O$oqo$oq%X$oq!_$oq~P!EfO!T&si!e&si~P!,hO#q#Rq!T#Rq!U#Rq~P#.UOx.QOy.QO{.ROPua'}ua(Oua!Uua~OQuaZuakua!cua!dua!fua!lua#_ua#`ua#aua#bua#cua#dua#eua#fua#gua#iua#kua#mua#nua#qua'lua'vua!Tua~P%CgOx(ZO{([OP$da'}$da(O$da!U$da~OQ$daZ$dak$day$da!c$da!d$da!f$da!l$da#_$da#`$da#a$da#b$da#c$da#d$da#e$da#f$da#g$da#i$da#k$da#m$da#n$da#q$da'l$da'v$da!T$da~P%EnOx(ZO{([OP$fa'}$fa(O$fa!U$fa~OQ$faZ$fak$fay$fa!c$fa!d$fa!f$fa!l$fa#_$fa#`$fa#a$fa#b$fa#c$fa#d$fa#e$fa#f$fa#g$fa#i$fa#k$fa#m$fa#n$fa#q$fa'l$fa'v$fa!T$fa~P%GuOQ$taZ$tak$tay$ta!c$ta!d$ta!f$ta!l$ta#_$ta#`$ta#a$ta#b$ta#c$ta#d$ta#e$ta#f$ta#g$ta#i$ta#k$ta#m$ta#n$ta#q$ta'l$ta'v$ta!T$ta!U$ta~P%-oO#q$`q!T$`q!U$`q~P#.UO#q$aq!T$aq!U$aq~P#.UO!U7RO~O#q7SO~P!%mO!_!wO!T&{i!e&{i~O!_!wO'v&tO!T&{i!e&{i~O!T-^O!e(Tq~O!Q&}i!T&}i~P!EfO!T-fO!Q(Uq~O!Q7YO~P!EfO!Q7YO~Oe'jy!T'jy~P!%mO!T'Qa!V'Qa~P!EfO!V${q_${q!T${q'_${q~P!EfOZ7aO~O!T.jO!U(]q~O]7dO~O!V&iO%X7eO~O!V&iO%X7eO~P!EfO#O7fO!T'Sa!U'Sa~O!T3PO!U(Yi~P#.UOQ[XZ[Xk[Xx[Xy[X{[X!Q[X!T[X!c[X!d[X!f[X!l[X#O[X#ZdX#_[X#`[X#a[X#b[X#c[X#d[X#e[X#f[X#g[X#i[X#k[X#m[X#n[X#s[X'l[X'v[X'}[X(O[X~O!_$yX#g$yX~P& |O!Z7lO![7lO'e$iO'm(qO'u+rO~O!Y7oO!Z7lO![7lO!z4iO!{4iO'u+rO~P!AcO!V/WO%X7rO~O!V/WO%X7rO~P!EfO]7yO'm7xO~O!T/dO!U(Zq~O!e7{O~O!e7{O~P*OO!e7}O~O!e8OO~O#O8QO!T#Wy!U#Wy~O!T#Wy!U#Wy~P#.UO_$cO#O8VO'_$cO~O_$cO!_!wO#O8VO'_$cO~O!Z8YO![8YO'u+rO~P!AcO_$cO!_!wO!l8ZO#O8VO'_$cO'v&tO~O#q#oy!T#oy!U#oy~P#.UOQ$miZ$mik$miy$mi!c$mi!d$mi!f$mi!l$mi#_$mi#`$mi#a$mi#b$mi#c$mi#d$mi#e$mi#f$mi#g$mi#i$mi#k$mi#m$mi#n$mi#q$mi'l$mi'v$mi!T$mi!U$mi~P%-oOx(ZO{([O(O(`OP%Pi'}%Pi!U%Pi~OQ%PiZ%Pik%Piy%Pi!c%Pi!d%Pi!f%Pi!l%Pi#_%Pi#`%Pi#a%Pi#b%Pi#c%Pi#d%Pi#e%Pi#f%Pi#g%Pi#i%Pi#k%Pi#m%Pi#n%Pi#q%Pi'l%Pi'v%Pi!T%Pi~P&*VOx(ZO{([OP%Ri'}%Ri(O%Ri!U%Ri~OQ%RiZ%Rik%Riy%Ri!c%Ri!d%Ri!f%Ri!l%Ri#_%Ri#`%Ri#a%Ri#b%Ri#c%Ri#d%Ri#e%Ri#f%Ri#g%Ri#i%Ri#k%Ri#m%Ri#n%Ri#q%Ri'l%Ri'v%Ri!T%Ri~P&,^O#q$ay!T$ay!U$ay~P#.UO#q#Ry!T#Ry!U#Ry~P#.UO!_!wO!T&{q!e&{q~O!T-^O!e(Ty~O!Q&}q!T&}q~P!EfO!Q8aO~P!EfO!T.jO!U(]y~O!T3PO!U(Yq~O!Z8mO![8mO'e$iO'm(qO'u+rO~O!V/WO%X8pO~O!V/WO%X8pO~P!EfO!e8sO~O_$cO#O8yO'_$cO~O_$cO!_!wO#O8yO'_$cO~OQ$mqZ$mqk$mqy$mq!c$mq!d$mq!f$mq!l$mq#_$mq#`$mq#a$mq#b$mq#c$mq#d$mq#e$mq#f$mq#g$mq#i$mq#k$mq#m$mq#n$mq#q$mq'l$mq'v$mq!T$mq!U$mq~P%-oOQ$oqZ$oqk$oqy$oq!c$oq!d$oq!f$oq!l$oq#_$oq#`$oq#a$oq#b$oq#c$oq#d$oq#e$oq#f$oq#g$oq#i$oq#k$oq#m$oq#n$oq#q$oq'l$oq'v$oq!T$oq!U$oq~P%-oOe%T!Z!T%T!Z#O%T!Z#q%T!Z~P!%mO!T'Sq!U'Sq~P#.UO!T#W!Z!U#W!Z~P#.UO_$cO#O9]O'_$cO~O#Z%T!ZQ%T!ZZ%T!Z_%T!Zk%T!Zy%T!Z!T%T!Z!c%T!Z!d%T!Z!f%T!Z!l%T!Z#_%T!Z#`%T!Z#a%T!Z#b%T!Z#c%T!Z#d%T!Z#e%T!Z#f%T!Z#g%T!Z#i%T!Z#k%T!Z#m%T!Z#n%T!Z'_%T!Z'l%T!Z'v%T!Z!e%T!Z!Q%T!Z!V%T!Z#O%T!Zo%T!Z%X%T!Z!_%T!Z~P!EfOP<aOx(ZO{([O'}(^O(O(`O~O]!}al!}a!U!}a!Y!}a!Z!}a![!}a!t!}a!u!}a!v!}a!z!}a!{!}a'e!}a'm!}a'u!}a~P&8eOQ%T!ZZ%T!Zk%T!Zy%T!Z!c%T!Z!d%T!Z!f%T!Z!l%T!Z#_%T!Z#`%T!Z#a%T!Z#b%T!Z#c%T!Z#d%T!Z#e%T!Z#f%T!Z#g%T!Z#i%T!Z#k%T!Z#m%T!Z#n%T!Z#q%T!Z'l%T!Z'v%T!Z!T%T!Z!U%T!Z~P%-oO]ualua!Yua!Zua![ua!tua!uua!vua!zua!{ua'eua'mua'uua~P%CgO]$dal$da!Y$da!Z$da![$da!t$da!u$da!v$da!z$da!{$da'e$da'm$da'u$da~P%EnO]$fal$fa!Y$fa!Z$fa![$fa!t$fa!u$fa!v$fa!z$fa!{$fa'e$fa'm$fa'u$fa~P%GuO]$tal$ta!U$ta!Y$ta!Z$ta![$ta!t$ta!u$ta!v$ta!z$ta!{$ta'e$ta'm$ta'u$ta~P&8eO]%Pil%Pi!Y%Pi!Z%Pi![%Pi!t%Pi!u%Pi!v%Pi!z%Pi!{%Pi'e%Pi'm%Pi'u%Pi~P&*VO]%Ril%Ri!Y%Ri!Z%Ri![%Ri!t%Ri!u%Ri!v%Ri!z%Ri!{%Ri'e%Ri'm%Ri'u%Ri~P&,^O]$mil$mi!U$mi!Y$mi!Z$mi![$mi!t$mi!u$mi!v$mi!z$mi!{$mi'e$mi'm$mi'u$mi~P&8eO]$mql$mq!U$mq!Y$mq!Z$mq![$mq!t$mq!u$mq!v$mq!z$mq!{$mq'e$mq'm$mq'u$mq~P&8eO]$oql$oq!U$oq!Y$oq!Z$oq![$oq!t$oq!u$oq!v$oq!z$oq!{$oq'e$oq'm$oq'u$oq~P&8eO]%T!Zl%T!Z!U%T!Z!Y%T!Z!Z%T!Z![%T!Z!t%T!Z!u%T!Z!v%T!Z!z%T!Z!{%T!Z'e%T!Z'm%T!Z'u%T!Z~P&8eOo'nX~P.mOo[X!Q[X!e[X%y[X!V[X%X[X!_[X~P$zO!_dX!e[X!edX'vdX~P;sOQ9yOR9yO]cOb;|Oc!jOicOk9yOlcOmcOrcOt9yOv9yO{RO!OcO!PcO!VSO!a9{O!fUO!i9yO!j9yO!k9yO!l9yO!m9yO!p!iO#x!lO#|^O'd'jO'lQO'uYO(S;zO~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv:cO{#}O!V$OO!a<SO!f#zO#Y:lO#x$[O$e:fO$g:iO$j$]O'd'QO'h$TO'l#wO~O!T:]O!U$ca~O]#uOi$UOk#vOl#uOm#uOr$VOt$WOv:dO{#}O!V$OO!a<TO!f#zO#Y:mO#x$[O$e:gO$g:jO$j$]O'd'QO'h$TO'l#wO~O#h'qO~P&IwO!U[X!UdX~P;sO!_:PO~O#Z:OO~O!_!wO#Z:OO~O#O:aO~O#g:UO~O#O:nO!T'{X!U'{X~O#O:aO!T'yX!U'yX~O#Z:oO~Oe:qO~P!%mO#Z:xO~O#Z:yO~O#Z:zO~O!_!wO#Z:{O~O!_!wO#Z:oO~O#q:|O~P#.UO#Z:}O~O#Z;OO~O#Z;PO~O#Z;QO~O#Z;RO~O#Z;SO~O#Z;TO~O#Z;UO~O!Q;VO~O#q;WO~P!%mO#q;XO~P!%mO#q;YO~P!%mO!Q;ZO~P!EfO!Q;ZO~O!Q;[O~P!EfO!_!wO#g<YO~O!_!wO#g<[O~O#|~!d!t!v!w!z#X#Y#f(S$e$g$j$|%W%X%Y%`%b%e%f%h%j~UT#|(Slx#`!P'a'b'm'b'd$O$Q~",
    goto: "$ i(aPPPPPPPP(bP(rP*fPPPP.WPP.mP4W8X8lP8lPPP8lP:p8lP8lP8lP:tPP:zP;a?yPPP?}PPPP?}BuPPPB{DjP?}PF}PPPPHv?}PPPPPJt?}PPM{NxPPPPN|!!fPP!!n!#pPNx?}?}!'R!*S!/O!/O!2fPPP!2m!5i?}PPPPPPPPPPP!8gP!9yPP?}!;XP?}P?}?}?}?}P?}!<oPP!?nP!BiP!Bm!Bu!By!ByP!?kP!B}!B}P!ExP!E|?}?}!FS!H|8lP8lP8l8lP!JU8l8l!Ld8l# _8l##g8l8l#$T#&e#&e#&i#&q#&e#&}P#&eP8l#'y8l#)g8l8l.WPPP#+XPP#+q#+qP#+qP#,W#+qPP#,^P#,TP#,T#,p!!j#,T#-_#-e#-h(b#-k(bP#-r#-r#-rP(bP(bP(bP(bPP(bP#-x#-{P#-{(bP#.PP#.SP(bP(bP(bP(bP(bP(b(b#.Y#.d#.j#.p#/O#/U#/[#/f#/l#/{#0R#0a#0g#0m#0{#1b#3Y#3h#3n#3t#3z#4Q#4[#4b#4h#4r#5U#5[PPPPPPPP#5bPP#6U#9_P#:u#:|#;UPP#@r#Cb#If#Ii#Il#J|#KPPP#KS#KW#Ku#Lo#Ls#MXPP#M]#Mc#MgP#Mj#Mn#Mq#Na#Nw#N|$ P$ S$ Y$ ]$ a$ emhOSj}!n$b%h%k%l%n*w*|/t/wQ$nmQ$upQ%`yS&[!b+iQ&p!jS(s$O(xQ)n$oQ){$wQ*h%YQ+o&cS+t&i+vQ,W&qQ-w(zQ/c*iY0i+x+y+z+{+|S3X/W3ZU4c0j0l0oU6P3^3_3`S6v4e4hS7l6Q6RQ8Y6xR8m7o$z[ORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]!l'l#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}Q)U$XQ)s$qQ*j%]Q*q%eQ,b:bQ.d)hQ.o)tQ/k*oQ2n.jQ3n/dQ4s:dQ5i2oR9h:cpeOSjy}!n$b%_%h%k%l%n*w*|/t/wR*l%a&dVOSTjkn}!S!W!k!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o$b$s%a%d%e%h%j%k%l%n%r&P&X&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;|;}[!cRU!]!`%}&]Q$hlQ$mmS$rp$wx$|rs!r!u$`$z&e&y&|*P*Q*S*u+b+q,],_/|0z4UQ%UwQ&m!iQ&o!jS(f#z(jS)m$n$oQ)q$qQ*O$yQ*c%WQ*g%YS,V&p&qQ-b(gQ.h)nQ.n)tQ.p)uQ.s)yQ/^*dS/b*h*iQ0v,WQ1q-^Q2m.jQ2q.mQ2v.uQ3m/cQ5O1rQ5h2oQ5k2sQ7`5gR8d7ax#|a!y$Y$Z$_(_(a(i)O)P,h-e.T1p2Y7S;z<V<W<X!Y$km!j$m$n$o&Z&o&p&q(r)m)n+f+s,V,W-o.h0`0f0k0v2U4b4g6t8W8zQ)g$hQ*X%RQ*[%SQ*f%YQ.w*OQ/]*cU/a*g*h*iQ3h/^S3l/b/cS5w3T3WQ6^3mU7j5y5}6OU8k7k7m7nQ9S8lQ9b9T#^<O!w#e#f#z#}&l(U(b(o)d)f)h*W*Z,S-f-h._.a.}/Q/Y/[1z2S2a2d2h2y3e3g5R5[5d6T6Y7e7r8p:e:h:k:r:u:x:};Q;W<Y<[<`<a<bd<P:P:f:i:l:s:v:y;O;R;Xg<Q:_:`:g:j:m:t:w:z;P;S;YW$Ra$T)Q;zS%Rt%_Q%SuQ%TvR*V%P%T$Qa!w!y#e#f#z#}$Y$Z$_&l(U(_(a(b(i(o)O)P)d)f)h*W*Z,S,h-e-f-h.T._.a.}/Q/Y/[1p1z2S2Y2a2d2h2y3e3g5R5[5d6T6Y7S7e7r8p:P:_:`:e:f:g:h:i:j:k:l:m:r:s:t:u:v:w:x:y:z:};O;P;Q;R;S;W;X;Y;z<V<W<X<Y<[<`<a<bT(V#w(WX)V$X:b:c:dU&`!b${+lS'Z!{!|Q)x$tQ/R*]Q2Z.QR5s3P&jcORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}$_#bZ!_!o$f%|&S'O'V'_'`'a'b'c'd'e'f'g'h'i'k'n'r'|)w+Z+g+p,X,g,m,q,s-S.U0T0W0w1R1W1X1Y1Z1[1]1^1_1`1a1b1c1d1g1l2_2k4Y4]4m4q4r4w4x5u6m6p6{7P7Q8S8g8t8w9Z9f9z;jT!XQ!Y&kcORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}Q&^!bR0[+i!W&W!b&[&c&i+i+o+t+v+x+y+z+{+|+}0i0j0l0m0o3]4c4e4h4i6v6x8YS(r$O(xS-o(s(zQ-x({Q/T*_Q2U-wQ2X-zS3T/W3ZS5y3X3`S5}3^3_S7k6P6QQ7m6RS8l7l7oR9T8mlhOSj}!n$b%h%k%l%n*w*|/t/wQ%p!QS&}!v:OQ)k$lQ*a%UQ*b%VQ,T&nS,f'S:oS.V)^:{Q.f)lQ/V*`Q/{+OQ/}+PQ0V+cQ0n+zQ0t,US2`.W;TQ2i.gS2l.i;UQ4X0YQ4[0aQ4k0uQ5f2jQ6n4ZQ6r4aQ6z4lQ8P6kQ8T6sQ8v8UQ9Y8xR9e9[$Y#aZ!_!o%|&S'O'V'_'`'a'b'c'd'e'f'g'h'i'k'n'r'|)w+Z+g+p,X,g,m,q-S.U0T0W0w1R1W1X1Y1Z1[1]1^1_1`1a1b1c1d1g1l2_2k4Y4]4m4q4r4w4x5u6m6p6{7P7Q8S8g8t8w9Z9f9z;jU(}$P'R1fT)b$f,s$Y#`Z!_!o%|&S'O'V'_'`'a'b'c'd'e'f'g'h'i'k'n'r'|)w+Z+g+p,X,g,m,q-S.U0T0W0w1R1W1X1Y1Z1[1]1^1_1`1a1b1c1d1g1l2_2k4Y4]4m4q4r4w4x5u6m6p6{7P7Q8S8g8t8w9Z9f9z;jS']!|#aS)a$f,sQ,t'mR.X)b&jcORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}Q%k{Q%l|Q%n!OQ%o!PR/s*zQ&j!iQ)c$hQ,Q&mS.^)g*OS0q,O,PW2c.Z.[.].wS4j0r0sU5c2e2f2gU7^5b5o5pQ8c7_R9O8fT+u&i+vS+s&i+vU0f+t+x+yU0k+z+{+|S0p+}3]S3W/W3ZU4b0i0j0lQ4f0mQ4g0oS5y3X3`S6O3^3_U6t4c4e4hQ6y4iS7k6P6QQ7n6RS8W6v6xS8l7l7oQ8z8YR9T8mS+u&i+vT3Y/W3ZS&w!q/qQ-a(fQ-m(rU0e+s3V3WQ1v-bS2P-n-xU4d0k0p6OQ4}1qS5Y2V2XU6w4f4g7nQ7U5OQ7]5]R8Z6yQ!xXS&v!q/qQ)_$aQ)i$jQ)o$pQ,Z&wQ-`(fQ-l(rQ-r(uQ.e)jQ/_*eU0d+s3V3WS1u-a-bS2O-m-xQ2R-qQ2T-sQ3j/`W4`0e0k0p6OQ4|1qQ5Q1vS5U2P2XQ5Z2WQ6[3kW6u4d4f4g7nS7T4}5OS7X5V;VQ7Z5YQ7h5vQ7v6]S8X6w6yQ8_7US8`7Y;ZQ8b7]Q8i7iQ8r7wQ8{8ZS8}8a;[Q9Q8jQ9`9RQ9m9aQ9t9nQ;c;^Q;q;hQ;r;iQ;s<UR;x<Z$|WORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%e%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]S!xn!k!l;]#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}R;c;|$|XORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%e%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]Q$ab!Y$jm!j$m$n$o&Z&o&p&q(r)m)n+f+s,V,W-o.h0`0f0k0v2U4b4g6t8W8zS$pn!kQ)j$kQ*e%YW/`*f*g*h*iU3k/a/b/cS5v3T3WS6]3l3mW7i5w5y5}6OQ7w6^W8j7j7k7m7nS9R8k8lS9a9S9TQ9n9b!l;^#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}Q;h;{R;i;|$p]OSTjk}!S!W!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%h%j%k%l%n%r&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]Y!hRU!]!`%}x$|rs!r!u$`$z&e&y&|*P*Q*S*u+b+q,],_/|0z4UQ*r%e!j;_#^#o(O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}R;b&]S&a!b${R0^+l$z[ORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]!l'l#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}R*q%e$|oORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%e%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]S'Z!{!|!m;`#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}!h#WZ!_$f%|&S'O'V'f'g'h'i'n'r)w+Z+p,X,g,m-S.U0w1R1d2_2k4]4m4q6p8S8w9Z9f9z!T:W'k'|+g,s0T0W1W1`1a1b1c1g1l4Y4r4w4x5u6m6{7P7Q8g8t;j!d#YZ!_$f%|&S'O'V'h'i'n'r)w+Z+p,X,g,m-S.U0w1R1d2_2k4]4m4q6p8S8w9Z9f9z!P:Y'k'|+g,s0T0W1W1b1c1g1l4Y4r4w4x5u6m6{7P7Q8g8t;j!`#^Z!_$f%|&S'O'V'n'r)w+Z+p,X,g,m-S.U0w1R1d2_2k4]4m4q6p8S8w9Z9f9zQ1p-[z;}'k'|+g,s0T0W1W1g1l4Y4r4w4x5u6m6{7P7Q8g8t;jQ<V<]Q<W<^R<X<_&jcORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}S#p`#qR1i,w&q_ORSTU`jk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o#q$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,w,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}T#l^#rS#j^#rT'u#m'yT#k^#rT'w#m'y&q`ORSTU`jk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#^#c#g#o#q$b$s%a%d%e%h%j%k%l%n%r%}&P&X&]&d&k&u'S'W'[(O(Y)^)e*R*s*w*|+]+a+d+e,R,Y,k,r,w,x.R.W.`.i/Z/l/m/n/p/t/w/y0Z0c0x1S1h2x3R3U3f3y3{3|4V4_5|6X6g6q7f8Q8V8y9]9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}T#p`#qQ#s`R(Q#q$|bORSTUjk}!S!W!]!`!n!v!z!}#Q#R#S#T#U#V#W#X#Y#Z#[#c#g$b$s%a%d%e%h%j%k%l%n%r%}&P&X&d&k&u'S'W'[(Y)^)e*R*s*w*|+]+e,R,Y,k,r.R.W.`.i/Z/l/m/n/p/t/w/y0c0x1S2x3U3f3y3{3|4_5|6X6g6q8V8y9]!m;{#^#o&](O+a+d,x0Z1h3R4V7f8Q9y9{:O:Q:R:S:T:U:V:W:X:Y:Z:[:]:a:n:o:q:{:|;T;U;}#]dOSUj}!S!W!n!}#o$b%a%d%e%h%j%k%l%n%r&X&k'[(O)e*R*s*w*|+e,R,x.R.`/Z/l/m/n/p/t/w/y1h2x3U3f3y3{3|5|6X6g!^$Pa!y$Y$Z$_(_(a(i)O)P,h-e.T1p2Y7S:P:f:i:l:s:v:y;O;R;X;z<V<W<X#^'R!w#e#f#z#}&l(U(b(o)d)f)h*W*Z,S-f-h._.a.}/Q/Y/[1z2S2a2d2h2y3e3g5R5[5d6T6Y7e7r8p:e:h:k:r:u:x:};Q;W<Y<[<`<a<bQ)Z$]Q-T(Zg1f:_:`:g:j:m:t:w:z;P;S;Yx#{a!y$Y$Z$_(_(a(i)O)P,h-e.T1p2Y7S;z<V<W<XQ(k#|S(u$O(xQ)[$^Q-s(v#^;e!w#e#f#z#}&l(U(b(o)d)f)h*W*Z,S-f-h._.a.}/Q/Y/[1z2S2a2d2h2y3e3g5R5[5d6T6Y7e7r8p:e:h:k:r:u:x:};Q;W<Y<[<`<a<bd;f:P:f:i:l:s:v:y;O;R;Xf;g:_:`:g:j:m:t:w:z;P;S;YQ;k<OQ;l<PQ;m<QQ;n<RQ;o<SR;p<T!^$Pa!y$Y$Z$_(_(a(i)O)P,h-e.T1p2Y7S:P:f:i:l:s:v:y;O;R;X;z<V<W<X#^'R!w#e#f#z#}&l(U(b(o)d)f)h*W*Z,S-f-h._.a.}/Q/Y/[1z2S2a2d2h2y3e3g5R5[5d6T6Y7e7r8p:e:h:k:r:u:x:};Q;W<Y<[<`<a<bg1f:_:`:g:j:m:t:w:z;P;S;YlfOSj}!n$b%h%k%l%n*w*|/t/wQ(n#}Q+V%uQ+W%wR1y-f%S$Qa!w!y#e#f#z#}$Y$Z$_&l(U(_(a(b(i(o)O)P)d)f)h*W*Z,S,h-e-f-h.T._.a.}/Q/Y/[1p1z2S2Y2a2d2h2y3e3g5R5[5d6T6Y7S7e7r8p:P:_:`:e:f:g:h:i:j:k:l:m:r:s:t:u:v:w:x:y:z:};O;P;Q;R;S;W;X;Y;z<V<W<X<Y<[<`<a<bQ*Y%SQ/P*[Q2}/OR5r3OT(w$O(xS(w$O(xT3Y/W3ZQ-q(tQ2W-yQ<U3UR<Z5|Q)i$jQ-r(uQ.e)jQ/_*eQ3j/`Q6[3kQ7h5vQ7v6]Q8i7iQ8r7wQ9Q8jQ9`9RQ9m9aR9t9np(_#x'T)]-d-{-|1P1w2^4{5^8^;d;t;u;v!n:r'P'p(e(m,P,e-P-[-i.Y.].|/O0s1O1x1|2g2|3O3c4o4p5S5W5`5e5p6W7W7[7t8|;w;y<]<^<_[:s9^9k9r9u9v9x]:t1e4v6|8[8]9gr(a#x'T)]-Y-d-{-|1P1w2^4{5^8^;d;t;u;v!p:u'P'p(e(m,P,e-P-[-i.Y.].|/O0s0|1O1x1|2g2|3O3c4o4p5S5W5`5e5p6W7W7[7t8|;w;y<]<^<_^:v9^9k9p9r9u9v9x_:w1e4v6|6}8[8]9gpeOSjy}!n$b%_%h%k%l%n*w*|/t/wQ%[xR*s%epeOSjy}!n$b%_%h%k%l%n*w*|/t/wR%[xQ*^%TR.{*VqeOSjy}!n$b%_%h%k%l%n*w*|/t/wQ/X*cS3d/]/^W6S3a3b3c3hU7q6U6V6WU8n7p7s7tQ9U8oR9c9VQ%cyR*m%_R3q/fR7y6_S$rp$wR.p)uQ%hzR*w%iR*}%oT/u*|/wR+R%pQ+Q%pR0O+RQjOQ!nST$ej!nQ(W#wR-Q(WQ!YQR%z!YQ!^RU&Q!^&R+^Q&R!_R+^&SQ+j&^R0]+jQ,i'TR1Q,iQ,l'VS1T,l1UR1U,mQ+v&iR0g+vS!eR$zU&f!e&g+_Q&g!fR+_&TQ+m&aR0_+mQ&z!sQ,[&xU,`&z,[0{R0{,aQ'y#mR,y'yQ#q`R(P#qQ#dZU'o#d+Y:^Q+Y9zR:^'|Q-_(fW1s-_1t5P7VU1t-`-a-bS5P1u1vR7V5Q$k(]#x'P'T'p(e(m)W)X)],P,c,d,e-P-Y-Z-[-d-i-{-|.Y.].|/O0s0|0}1O1P1e1w1x1|2^2g2|3O3c4o4p4t4u4v4{5S5W5^5`5e5p6W6|6}7O7W7[7t8[8]8^8|9^9g9i9j9k9p9q9r9u9v9x;d;t;u;v;w;y<]<^<_Q-g(mU1{-g1}5TQ1}-iR5T1|Q(x$OR-u(xQ)R$SR.O)RQ2b.YR5a2bQ*T$}R.z*TQ3Q/RS5t3Q7gR7g5uQ*`%UR/U*`Q3Z/WR5z3ZQ/e*jS3o/e6`R6`3qQ.k)qW2p.k2r5j7bQ2r.nQ5j2qR7b5kQ)v$rR.q)vQ/w*|R4P/wWiOSj!nQ%m}Q)`$bQ*v%hQ*x%kQ*y%lQ*{%nQ/r*wS/u*|/wR4O/tQ$dgQ%q!RQ%t!TQ%v!UQ%x!VQ)}$xQ*U%OQ*l%cQ+T%sQ-t(wS/h*m*pQ0P+SQ0Q+VQ0R+WU0b+s3V3WQ2u.tQ2{.|Q3i/_Q3s/jQ3}/sY4^0d0e0k0p6OQ5n2wQ5q2|Q6Z3jQ6a3r[6o4]4`4d4f4g7nQ7c5lQ7u6[Q7z6bW8R6p6u6w6yQ8e7dQ8h7hQ8q7vU8u8S8X8ZQ9P8iQ9W8rS9X8w8{Q9_9QQ9d9ZQ9l9`Q9o9fQ9s9mR9w9tQ$lmQ&n!jU)l$m$n$oQ+c&ZU,U&o&p&qQ-k(rS.g)m)nQ0Y+fQ0a+sS0u,V,WQ2Q-oQ2j.hQ4Z0`S4a0f0kQ4l0vQ5X2US6s4b4gQ8U6tQ8x8WR9[8zS#ya;zR)S$TU$Sa$T;zR-})QQ#xaS'P!w)hQ'T!yS'p#e#fQ(e#zQ(m#}Q)W$YQ)X$ZQ)]$_Q,P&lQ,c:eQ,d:hQ,e:kQ-P(UQ-Y(_Q-Z(aQ-[(bQ-d(iQ-i(oQ-{)OQ-|)Pd.Y)d._/Y2d3e5d6T7e7r8pQ.])fQ.|*WQ/O*ZQ0s,SQ0|:rQ0}:uQ1O:xQ1P,hS1e:_:`Q1w-eQ1x-fQ1|-hQ2^.TQ2g.aQ2|.}Q3O/QQ3c/[Q4o:}Q4p;QQ4t:gQ4u:jQ4v:mQ4{1pQ5S1zQ5W2SQ5^2YQ5`2aQ5e2hQ5p2yQ6W3gQ6|:zQ6}:tQ7O:wQ7W5RQ7[5[Q7t6YQ8[;PQ8];SQ8^7SQ8|;WQ9^:PQ9g;YQ9i:fQ9j:iQ9k:lQ9p:sQ9q:vQ9r:yQ9u;OQ9v;RQ9x;XQ;d;zQ;t<VQ;u<WQ;v<XQ;w<YQ;y<[Q<]<`Q<^<aR<_<blgOSj}!n$b%h%k%l%n*w*|/t/wS!pU%jQ%s!SQ%y!WQ'^!}Q'}#oS*p%a%dQ*t%eQ+S%rQ+`&XQ,O&kQ,o'[Q,}(OQ.[)eQ.x*RQ/o*sU0X+e3U5|Q0r,RQ1k,xQ2[.RQ2f.`Q3b/ZQ3u/lQ3v/mQ3x/nQ3z/pQ4R/yQ4y1hQ5o2xQ6V3fQ6f3yQ6h3{Q6i3|Q7s6XR7|6g#QZOSUj}!S!n!}$b%a%d%e%h%j%k%l%n%r&X&k'[)e*R*s*w*|+e,R.R.`/Z/l/m/n/p/t/w/y2x3U3f3y3{3|5|6X6gQ!_RQ!oTQ$fkS%|!]&PQ&S!`Q'O!vQ'V!zQ'_#QQ'`#RQ'a#SQ'b#TQ'c#UQ'd#VQ'e#WQ'f#XQ'g#YQ'h#ZQ'i#[Q'k#^Q'n#cQ'r#gW'|#o(O,x1hQ)w$sS+Z%}+]S+g&]0ZQ+p&dQ,X&uQ,g'SQ,m'WQ,q9yQ,s9{Q-S(YQ.U)^Q0T+aQ0W+dQ0w,YQ1R,kQ1W:OQ1X:QQ1Y:RQ1Z:SQ1[:TQ1]:UQ1^:VQ1_:WQ1`:XQ1a:YQ1b:ZQ1c:[Q1d,rQ1g:aQ1l:]Q2_.WQ2k.iQ4Y:nQ4]0cQ4m0xQ4q1SQ4r:oQ4w:qQ4x:{Q5u3RQ6m4VQ6p4_Q6{:|Q7P;TQ7Q;UQ8S6qQ8g7fQ8t8QQ8w8VQ9Z8yQ9f9]Q9z!WR;j;}R!aRR&_!bS&Z!b+iS+f&[&cS+s&i+vQ0`+oU0f+t+x+yU0k+z+{+|W0p+}3]3^3_S3V/W3ZU4b0i0j0lS4f0m6RQ4g0oU6t4c4e4hQ6y4iS8W6v6xR8z8YR'U!yR'X!zT!tU$`S!sU$`U$}rs*uS&x!r!uQ,^&yQ,a&|Q.y*SS0y,],_R4n0z`!dR!]!`$z%}&e*P+qh!qUrs!r!u$`&y&|*S,],_0zQ/q*uQ0U+bQ4T/|Q6l4UT;a&]*QT!gR$zS!fR$zS&O!]&eS&T!`*PS+[%}+qT+h&]*QT&b!b${Q#m^R(S#rT'x#m'yR1j,wT(h#z(jR(p#}Q.Z)dQ2e._Q3a/YQ5b2dQ6U3eQ7_5dQ7p6TQ8f7eQ8o7rR9V8plhOSj}!n$b%h%k%l%n*w*|/t/wQ%byR*l%_V%Ors*uR/S*]R*k%]Q$vpR)|$wR)r$qT%fz%iT%gz%iT/v*|/w",
    nodeNames: "\u26A0 extends ArithOp ArithOp InterpolationStart LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",
    maxTerm: 338,
    context: trackNewline,
    nodeProps: [
      ["closedBy", 4, "InterpolationEnd", 43, "]", 53, "}", 68, ")", 136, "JSXSelfCloseEndTag JSXEndTag", 152, "JSXEndTag"],
      ["group", -26, 8, 15, 17, 60, 191, 195, 198, 199, 201, 204, 207, 218, 220, 226, 228, 230, 232, 235, 241, 247, 249, 251, 253, 255, 257, 258, "Statement", -30, 12, 13, 25, 28, 29, 34, 44, 46, 47, 49, 54, 62, 70, 76, 77, 94, 95, 104, 106, 123, 126, 128, 129, 130, 131, 133, 134, 154, 155, 157, "Expression", -23, 24, 26, 30, 33, 35, 37, 158, 160, 162, 163, 165, 166, 167, 169, 170, 171, 173, 174, 175, 185, 187, 189, 190, "Type", -3, 81, 87, 93, "ClassItem"],
      ["openedBy", 31, "InterpolationStart", 48, "[", 52, "{", 67, "(", 135, "JSXStartTag", 147, "JSXStartTag JSXStartCloseTag"]
    ],
    propSources: [jsHighlight],
    skippedNodes: [0, 5, 6],
    repeatNodeCount: 28,
    tokenData: "#2T~R!bOX%ZXY%uYZ'kZ[%u[]%Z]^'k^p%Zpq%uqr(Rrs)mst7]tu9guv<avw=bwx>lxyJcyzJyz{Ka{|Lm|}MW}!OLm!O!PMn!P!Q!$v!Q!R!Er!R![!G_![!]!Nc!]!^!N{!^!_# c!_!`#!`!`!a##d!a!b#%s!b!c%Z!c!}9g!}#O#'h#O#P%Z#P#Q#(O#Q#R#(f#R#S9g#S#T#)P#T#o#)g#o#p#,a#p#q#,f#q#r#-S#r#s#-l#s$f%Z$f$g%u$g#BY9g#BY#BZ#.S#BZ$IS9g$IS$I_#.S$I_$I|9g$I|$I}#0q$I}$JO#0q$JO$JT9g$JT$JU#.S$JU$KV9g$KV$KW#.S$KW&FU9g&FU&FV#.S&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.S?HUO9gW%`T$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZW%rP;=`<%l%Z7Z%|i$[W'a7ROX%ZXY%uYZ%ZZ[%u[p%Zpq%uq!^%Z!_#o%Z#p$f%Z$f$g%u$g#BY%Z#BY#BZ%u#BZ$IS%Z$IS$I_%u$I_$JT%Z$JT$JU%u$JU$KV%Z$KV$KW%u$KW&FU%Z&FU&FV%u&FV;'S%Z;'S;=`%o<%l?HT%Z?HT?HU%u?HUO%Z7Z'rT$[W'b7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&y(YU$[W!l&qO!^%Z!_!`(l!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t(sU#i&l$[WO!^%Z!_!`)V!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t)^T#i&l$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i)t]$[W]&ZOY)mYZ*mZr)mrs,js!^)m!^!_-S!_#O)m#O#P1q#P#o)m#o#p-S#p;'S)m;'S;=`7V<%lO)m,^*rX$[WOr*mrs+_s!^*m!^!_+u!_#o*m#o#p+u#p;'S*m;'S;=`,d<%lO*m,^+fT$V,U$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,U+xTOr+urs,Xs;'S+u;'S;=`,^<%lO+u,U,^O$V,U,U,aP;=`<%l+u,^,gP;=`<%l*m1i,sT$V,U$[W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z1a-XX]&ZOY-SYZ+uZr-Srs-ts#O-S#O#P-{#P;'S-S;'S;=`1k<%lO-S1a-{O$V,U]&Z1a.OUOr-Srs.bs;'S-S;'S;=`0y;=`<%l/R<%lO-S1a.iW$V,U]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/WW]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s<%lO/R&Z/uO]&Z&Z/xRO;'S/R;'S;=`0R;=`O/R&Z0WX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l/R<%lO/R&Z0vP;=`<%l/R1a1OX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l-S<%lO/R1a1nP;=`<%l-S1i1vY$[WOr)mrs2fs!^)m!^!_-S!_#o)m#o#p-S#p;'S)m;'S;=`6e;=`<%l/R<%lO)m1i2o]$V,U$[W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c3o]$[W]&ZOY3hYZ%ZZr3hrs4hs!^3h!^!_/R!_#O3h#O#P5O#P#o3h#o#p/R#p;'S3h;'S;=`6_<%lO3h&c4oT$[W]&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c5TW$[WO!^3h!^!_/R!_#o3h#o#p/R#p;'S3h;'S;=`5m;=`<%l/R<%lO3h&c5rX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l3h<%lO/R&c6bP;=`<%l3h1i6jX]&ZOY/RZr/Rrs/ps#O/R#O#P/u#P;'S/R;'S;=`0s;=`<%l)m<%lO/R1i7YP;=`<%l)m#]7b]$[WOt%Ztu8Zu!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]8b_$[W'u#TOt%Ztu8Zu!Q%Z!Q![8Z![!^%Z!_!c%Z!c!}8Z!}#R%Z#R#S8Z#S#T%Z#T#o8Z#p$g%Z$g;'S8Z;'S;=`9a<%lO8Z#]9dP;=`<%l8Z,T9ra$[W'm#S'd)s$OSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g[;Oa$[W$OSOt%Ztu:wu}%Z}!O:w!O!Q%Z!Q![:w![!^%Z!_!c%Z!c!}:w!}#R%Z#R#S:w#S#T%Z#T#o:w#p$g%Z$g;'S:w;'S;=`<T<%lO:w[<WP;=`<%l:w,T<^P;=`<%l9g&t<hU#a&l$[WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t=RT$[W#s&lO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(h=iW(O(`$[WOv%Zvw>Rw!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t>YU$[W#m&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z1i>s]$[W]&ZOY>lYZ?lZw>lwx,jx!^>l!^!_@|!_#O>l#O#PE_#P#o>l#o#p@|#p;'S>l;'S;=`J]<%lO>l,^?qX$[WOw?lwx+_x!^?l!^!_@^!_#o?l#o#p@^#p;'S?l;'S;=`@v<%lO?l,U@aTOw@^wx,Xx;'S@^;'S;=`@p<%lO@^,U@sP;=`<%l@^,^@yP;=`<%l?l1aARX]&ZOY@|YZ@^Zw@|wx-tx#O@|#O#PAn#P;'S@|;'S;=`EX<%lO@|1aAqUOw@|wxBTx;'S@|;'S;=`Dg;=`<%lBt<%lO@|1aB[W$V,U]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZByW]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da<%lOBt&ZCfRO;'SBt;'S;=`Co;=`OBt&ZCtX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lBt<%lOBt&ZDdP;=`<%lBt1aDlX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l@|<%lOBt1aE[P;=`<%l@|1iEdY$[WOw>lwxFSx!^>l!^!_@|!_#o>l#o#p@|#p;'S>l;'S;=`Ik;=`<%lBt<%lO>l1iF]]$V,U$[W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cG]]$[W]&ZOYGUYZ%ZZwGUwx4hx!^GU!^!_Bt!_#OGU#O#PHU#P#oGU#o#pBt#p;'SGU;'S;=`Ie<%lOGU&cHZW$[WO!^GU!^!_Bt!_#oGU#o#pBt#p;'SGU;'S;=`Hs;=`<%lBt<%lOGU&cHxX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%lGU<%lOBt&cIhP;=`<%lGU1iIpX]&ZOYBtZwBtwx/px#OBt#O#PCc#P;'SBt;'S;=`Da;=`<%l>l<%lOBt1iJ`P;=`<%l>l*qJjT!f*i$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$PKQT!e#w$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z)ZKjW'e#e#b&l$[WOz%Zz{LS{!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z&tLZU#_&l$[WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z*qLtUk*i$[WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TM_T!T+{$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,TMuX$[Wx(dO!O%Z!O!PNb!P!Q%Z!Q![! d![!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$oNgV$[WO!O%Z!O!PN|!P!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$o! TT!S$g$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c! k]$[Wl&ZO!Q%Z!Q![! d![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S! d#S#X%Z#X#Y!!d#Y#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!!i]$[WO{%Z{|!#b|}%Z}!O!#b!O!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!#gX$[WO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!$ZX$[Wl&ZO!Q%Z!Q![!$S![!^%Z!_#R%Z#R#S!$S#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z!$}b$[W#`&lOY!&VYZ%ZZz!&Vz{!-n{!P!&V!P!Q!BV!Q!^!&V!^!_!(f!_!`!Ch!`!a!Dm!a!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!&^^$[W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!'aa$[W!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%ZP!(kX!PPOY!(fZ!P!(f!P!Q!)W!Q!}!(f!}#O!)o#O#P!*n#P;'S!(f;'S;=`!*}<%lO!(fP!)]U!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)WP!)rVOY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)oP!*[SOY!)oZ;'S!)o;'S;=`!*h<%lO!)oP!*kP;=`<%l!)oP!*qSOY!(fZ;'S!(f;'S;=`!*}<%lO!(fP!+QP;=`<%l!(fX!+Y[$[WOY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,TX$[WOY!+TYZ%ZZ!^!+T!^!_!)o!_#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+TX!,sP;=`<%l!+TX!,{X$[WOY!&VYZ%ZZ!^!&V!^!_!(f!_#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&VX!-kP;=`<%l!&V7Z!-u`$[W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!@m!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!.|X$[WOz!.wz{!/i{!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!/nZ$[WOz!.wz{!/i{!P!.w!P!Q!0a!Q!^!.w!^!_!0w!_#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!0hT$[WU7RO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!0zTOz!0wz{!1Z{;'S!0w;'S;=`!1x<%lO!0w7R!1^VOz!0wz{!1Z{!P!0w!P!Q!1s!Q;'S!0w;'S;=`!1x<%lO!0w7R!1xOU7R7R!1{P;=`<%l!0w7Z!2RP;=`<%l!.w7Z!2]`$[W!PPOY!-nYZ!.wZz!-nz{!2U{!P!-n!P!Q!3_!Q!^!-n!^!_!4m!_!}!-n!}#O!;l#O#P!?o#P#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!3ha$[WU7R!PPO!^%Z!_#Z%Z#Z#[!'Y#[#]%Z#]#^!'Y#^#a%Z#a#b!'Y#b#g%Z#g#h!'Y#h#i%Z#i#j!'Y#j#m%Z#m#n!'Y#n#o%Z#p;'S%Z;'S;=`%o<%lO%Z7R!4r[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!:b!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!5m[!PPOY!4mYZ!0wZz!4mz{!5h{!P!4m!P!Q!6c!Q!}!4m!}#O!6|#O#P!9r#P;'S!4m;'S;=`!:[<%lO!4m7R!6jUU7R!PP#Z#[!)W#]#^!)W#a#b!)W#g#h!)W#i#j!)W#m#n!)W7R!7PYOY!6|YZ!0wZz!6|z{!7o{#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!7r[OY!6|YZ!0wZz!6|z{!7o{!P!6|!P!Q!8h!Q#O!6|#O#P!9S#P#Q!4m#Q;'S!6|;'S;=`!9l<%lO!6|7R!8mVU7ROY!)oZ#O!)o#O#P!*X#P#Q!(f#Q;'S!)o;'S;=`!*h<%lO!)o7R!9VVOY!6|YZ!0wZz!6|z{!7o{;'S!6|;'S;=`!9l<%lO!6|7R!9oP;=`<%l!6|7R!9uVOY!4mYZ!0wZz!4mz{!5h{;'S!4m;'S;=`!:[<%lO!4m7R!:_P;=`<%l!4m7R!:ga!PPOz!0wz{!1Z{#Z!0w#Z#[!:b#[#]!0w#]#^!:b#^#a!0w#a#b!:b#b#g!0w#g#h!:b#h#i!0w#i#j!:b#j#m!0w#m#n!:b#n;'S!0w;'S;=`!1x<%lO!0w7Z!;q^$[WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!<r`$[WOY!;lYZ!.wZz!;lz{!<m{!P!;l!P!Q!=t!Q!^!;l!^!_!6|!_#O!;l#O#P!>q#P#Q!-n#Q#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!={[$[WU7ROY!+TYZ%ZZ!^!+T!^!_!)o!_#O!+T#O#P!,O#P#Q!&V#Q#o!+T#o#p!)o#p;'S!+T;'S;=`!,p<%lO!+T7Z!>vZ$[WOY!;lYZ!.wZz!;lz{!<m{!^!;l!^!_!6|!_#o!;l#o#p!6|#p;'S!;l;'S;=`!?i<%lO!;l7Z!?lP;=`<%l!;l7Z!?tZ$[WOY!-nYZ!.wZz!-nz{!2U{!^!-n!^!_!4m!_#o!-n#o#p!4m#p;'S!-n;'S;=`!@g<%lO!-n7Z!@jP;=`<%l!-n7Z!@te$[W!PPOz!.wz{!/i{!^!.w!^!_!0w!_#Z!.w#Z#[!@m#[#]!.w#]#^!@m#^#a!.w#a#b!@m#b#g!.w#g#h!@m#h#i!.w#i#j!@m#j#m!.w#m#n!@m#n#o!.w#o#p!0w#p;'S!.w;'S;=`!2O<%lO!.w7Z!B^X$[WT7ROY!BVYZ%ZZ!^!BV!^!_!By!_#o!BV#o#p!By#p;'S!BV;'S;=`!Cb<%lO!BV7R!COST7ROY!ByZ;'S!By;'S;=`!C[<%lO!By7R!C_P;=`<%l!By7Z!CeP;=`<%l!BV&u!Cq^$[W#s&l!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V]!Dv^#{S$[W!PPOY!&VYZ%ZZ!P!&V!P!Q!'Y!Q!^!&V!^!_!(f!_!}!&V!}#O!+T#O#P!,v#P#o!&V#o#p!(f#p;'S!&V;'S;=`!-h<%lO!&V&c!Eyf$[Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#U%Z#U#V!IR#V#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#d!Js#d#l%Z#l#m!L_#m#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Gfa$[Wl&ZO!O%Z!O!P! d!P!Q%Z!Q![!G_![!^%Z!_!g%Z!g!h!!d!h#R%Z#R#S!G_#S#X%Z#X#Y!!d#Y#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!HrT$[Wl&ZO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!IWY$[WO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!I}[$[Wl&ZO!Q%Z!Q!R!Iv!R!S!Iv!S!^%Z!_#R%Z#R#S!Iv#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!JxX$[WO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!KlZ$[Wl&ZO!Q%Z!Q!Y!Ke!Y!^%Z!_#R%Z#R#S!Ke#S#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Ld]$[WO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#o%Z#p;'S%Z;'S;=`%o<%lO%Z&c!Md_$[Wl&ZO!Q%Z!Q![!M]![!^%Z!_!c%Z!c!i!M]!i#R%Z#R#S!M]#S#T%Z#T#Z!M]#Z#b%Z#b#c!Hk#c#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m!NlT!_V$[W#q(^O!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z!P# ST_w$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z6i# nR'h$Y!c(O#|,_(SP!P!Q# w!^!_# |!_!`#!ZW# |O$^W&l#!RP#c&l!_!`#!U&l#!ZO#s&l&l#!`O#d&l(m#!gV#O(e$[WO!^%Z!_!`(l!`!a#!|!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&u##TT#Z&m$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m##oVe!s#d&l$XS$[WO!^%Z!_!`#$U!`!a#$l!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$]T#d&l$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#$sV#c&l$[WO!^%Z!_!`<z!`!a#%Y!a#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#%aU#c&l$[WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z(m#%zX'v&q$[WO!O%Z!O!P#&g!P!^%Z!_!a%Z!a!b#&}!b#o%Z#p;'S%Z;'S;=`%o<%lO%Z(i#&nTy(a$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#'UU$[W#n&lO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z,P#'oT{+w$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z$P#(VT!Q#w$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z&t#(mU#k&l$[WO!^%Z!_!`<z!`#o%Z#p;'S%Z;'S;=`%o<%lO%Z){#)WT$[W'l)sO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z,T#)ra$[W'm#S'd)s$QSOt%Ztu#)gu}%Z}!O#*w!O!Q%Z!Q![#)g![!^%Z!_!c%Z!c!}#)g!}#R%Z#R#S#)g#S#T%Z#T#o#)g#p$g%Z$g;'S#)g;'S;=`#,Z<%lO#)g[#+Oa$[W$QSOt%Ztu#*wu}%Z}!O#*w!O!Q%Z!Q![#*w![!^%Z!_!c%Z!c!}#*w!}#R%Z#R#S#*w#S#T%Z#T#o#*w#p$g%Z$g;'S#*w;'S;=`#,T<%lO#*w[#,WP;=`<%l#*w,T#,^P;=`<%l#)g~#,fO!V~(h#,mV'}(`$[WO!^%Z!_!`<z!`#o%Z#p#q#&}#q;'S%Z;'S;=`%o<%lO%Z(}#-]T!U(soQ$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%ZX#-sT!mP$[WO!^%Z!_#o%Z#p;'S%Z;'S;=`%o<%lO%Z7Z#.at$[W'a7R'm#S'd)s$OSOX%ZXY%uYZ%ZZ[%u[p%Zpq%uqt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$f%Z$f$g%u$g#BY9g#BY#BZ#.S#BZ$IS9g$IS$I_#.S$I_$JT9g$JT$JU#.S$JU$KV9g$KV$KW#.S$KW&FU9g&FU&FV#.S&FV;'S9g;'S;=`<Z<%l?HT9g?HT?HU#.S?HUO9g7Z#1Oa$[W'b7R'm#S'd)s$OSOt%Ztu9gu}%Z}!O:w!O!Q%Z!Q![9g![!^%Z!_!c%Z!c!}9g!}#R%Z#R#S9g#S#T%Z#T#o9g#p$g%Z$g;'S9g;'S;=`<Z<%lO9g",
    tokenizers: [tsExtends, noSemicolon, incdecToken, template, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, insertSemicolon],
    topRules: {Script: [0, 7]},
    dialects: {jsx: 12739, ts: 12741},
    dynamicPrecedences: {"155": 1, "183": 1},
    specialized: [{term: 296, get: (value) => spec_identifier2[value] || -1}, {term: 305, get: (value) => spec_word[value] || -1}, {term: 65, get: (value) => spec_LessThan[value] || -1}],
    tokenPrec: 12764
  });

  // node_modules/@codemirror/lang-javascript/dist/index.js
  var snippets = [
    /* @__PURE__ */ snippetCompletion("function ${name}(${params}) {\n	${}\n}", {
      label: "function",
      detail: "definition",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}", {
      label: "for",
      detail: "loop",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}", {
      label: "for",
      detail: "of loop",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("do {\n	${}\n} while (${})", {
      label: "do",
      detail: "loop",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("while (${}) {\n	${}\n}", {
      label: "while",
      detail: "loop",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("try {\n	${}\n} catch (${error}) {\n	${}\n}", {
      label: "try",
      detail: "/ catch block",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("if (${}) {\n	${}\n}", {
      label: "if",
      detail: "block",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("if (${}) {\n	${}\n} else {\n	${}\n}", {
      label: "if",
      detail: "/ else block",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion("class ${name} {\n	constructor(${params}) {\n		${}\n	}\n}", {
      label: "class",
      detail: "definition",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion('import {${names}} from "${module}"\n${}', {
      label: "import",
      detail: "named",
      type: "keyword"
    }),
    /* @__PURE__ */ snippetCompletion('import ${name} from "${module}"\n${}', {
      label: "import",
      detail: "default",
      type: "keyword"
    })
  ];
  var cache = /* @__PURE__ */ new NodeWeakMap();
  var ScopeNodes = /* @__PURE__ */ new Set([
    "Script",
    "Block",
    "FunctionExpression",
    "FunctionDeclaration",
    "ArrowFunction",
    "MethodDeclaration",
    "ForStatement"
  ]);
  function defID(type) {
    return (node, def) => {
      let id2 = node.node.getChild("VariableDefinition");
      if (id2)
        def(id2, type);
      return true;
    };
  }
  var functionContext = ["FunctionDeclaration"];
  var gatherCompletions = {
    FunctionDeclaration: /* @__PURE__ */ defID("function"),
    ClassDeclaration: /* @__PURE__ */ defID("class"),
    ClassExpression: () => true,
    EnumDeclaration: /* @__PURE__ */ defID("constant"),
    TypeAliasDeclaration: /* @__PURE__ */ defID("type"),
    NamespaceDeclaration: /* @__PURE__ */ defID("namespace"),
    VariableDefinition(node, def) {
      if (!node.matchContext(functionContext))
        def(node, "variable");
    },
    TypeDefinition(node, def) {
      def(node, "type");
    },
    __proto__: null
  };
  function getScope(doc2, node) {
    let cached = cache.get(node);
    if (cached)
      return cached;
    let completions = [], top2 = true;
    function def(node2, type) {
      let name2 = doc2.sliceString(node2.from, node2.to);
      completions.push({label: name2, type});
    }
    node.cursor(IterMode.IncludeAnonymous).iterate((node2) => {
      if (top2) {
        top2 = false;
      } else if (node2.name) {
        let gather = gatherCompletions[node2.name];
        if (gather && gather(node2, def) || ScopeNodes.has(node2.name))
          return false;
      } else if (node2.to - node2.from > 8192) {
        for (let c of getScope(doc2, node2.node))
          completions.push(c);
        return false;
      }
    });
    cache.set(node, completions);
    return completions;
  }
  var Identifier = /^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/;
  var dontComplete = [
    "TemplateString",
    "String",
    "RegExp",
    "LineComment",
    "BlockComment",
    "VariableDefinition",
    "TypeDefinition",
    "Label",
    "PropertyDefinition",
    "PropertyName",
    "PrivatePropertyDefinition",
    "PrivatePropertyName"
  ];
  function localCompletionSource(context) {
    let inner = syntaxTree(context.state).resolveInner(context.pos, -1);
    if (dontComplete.indexOf(inner.name) > -1)
      return null;
    let isWord = inner.name == "VariableName" || inner.to - inner.from < 20 && Identifier.test(context.state.sliceDoc(inner.from, inner.to));
    if (!isWord && !context.explicit)
      return null;
    let options = [];
    for (let pos = inner; pos; pos = pos.parent) {
      if (ScopeNodes.has(pos.name))
        options = options.concat(getScope(context.state.doc, pos));
    }
    return {
      options,
      from: isWord ? inner.from : context.pos,
      validFor: Identifier
    };
  }
  var javascriptLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "javascript",
    parser: /* @__PURE__ */ parser4.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          IfStatement: /* @__PURE__ */ continuedIndent({except: /^\s*({|else\b)/}),
          TryStatement: /* @__PURE__ */ continuedIndent({except: /^\s*({|catch\b|finally\b)/}),
          LabeledStatement: flatIndent,
          SwitchBody: (context) => {
            let after = context.textAfter, closed = /^\s*\}/.test(after), isCase = /^\s*(case|default)\b/.test(after);
            return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;
          },
          Block: /* @__PURE__ */ delimitedIndent({closing: "}"}),
          ArrowFunction: (cx) => cx.baseIndent + cx.unit,
          "TemplateString BlockComment": () => null,
          "Statement Property": /* @__PURE__ */ continuedIndent({except: /^{/}),
          JSXElement(context) {
            let closed = /^\s*<\//.test(context.textAfter);
            return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);
          },
          JSXEscape(context) {
            let closed = /\s*\}/.test(context.textAfter);
            return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);
          },
          "JSXOpenTag JSXSelfClosingTag"(context) {
            return context.column(context.node.from) + context.unit;
          }
        }),
        /* @__PURE__ */ foldNodeProp.add({
          "Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression": foldInside,
          BlockComment(tree) {
            return {from: tree.from + 2, to: tree.to - 2};
          }
        })
      ]
    }),
    languageData: {
      closeBrackets: {brackets: ["(", "[", "{", "'", '"', "`"]},
      commentTokens: {line: "//", block: {open: "/*", close: "*/"}},
      indentOnInput: /^\s*(?:case |default:|\{|\}|<\/)$/,
      wordChars: "$"
    }
  });
  var typescriptLanguage = /* @__PURE__ */ javascriptLanguage.configure({dialect: "ts"}, "typescript");
  var jsxLanguage = /* @__PURE__ */ javascriptLanguage.configure({dialect: "jsx"});
  var tsxLanguage = /* @__PURE__ */ javascriptLanguage.configure({dialect: "jsx ts"}, "typescript");
  var keywords2 = /* @__PURE__ */ "break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map((kw) => ({label: kw, type: "keyword"}));
  function javascript(config = {}) {
    let lang = config.jsx ? config.typescript ? tsxLanguage : jsxLanguage : config.typescript ? typescriptLanguage : javascriptLanguage;
    return new LanguageSupport(lang, [
      javascriptLanguage.data.of({
        autocomplete: ifNotIn(dontComplete, completeFromList(snippets.concat(keywords2)))
      }),
      javascriptLanguage.data.of({
        autocomplete: localCompletionSource
      }),
      config.jsx ? autoCloseTags : []
    ]);
  }
  function elementName(doc2, tree, max = doc2.length) {
    if (!tree)
      return "";
    let name2 = tree.getChild("JSXIdentifier");
    return name2 ? doc2.sliceString(name2.from, Math.min(name2.to, max)) : "";
  }
  var android2 = typeof navigator == "object" && /* @__PURE__ */ /Android\b/.test(navigator.userAgent);
  var autoCloseTags = /* @__PURE__ */ EditorView.inputHandler.of((view, from2, to, text) => {
    if ((android2 ? view.composing : view.compositionStarted) || view.state.readOnly || from2 != to || text != ">" && text != "/" || !javascriptLanguage.isActiveAt(view.state, from2, -1))
      return false;
    let {state} = view;
    let changes = state.changeByRange((range) => {
      var _a2, _b, _c;
      let {head} = range, around = syntaxTree(state).resolveInner(head, -1), name2;
      if (around.name == "JSXStartTag")
        around = around.parent;
      if (text == ">" && around.name == "JSXFragmentTag") {
        return {range: EditorSelection.cursor(head + 1), changes: {from: head, insert: `><>`}};
      } else if (text == ">" && around.name == "JSXIdentifier") {
        if (((_b = (_a2 = around.parent) === null || _a2 === void 0 ? void 0 : _a2.lastChild) === null || _b === void 0 ? void 0 : _b.name) != "JSXEndTag" && (name2 = elementName(state.doc, around.parent, head)))
          return {range: EditorSelection.cursor(head + 1), changes: {from: head, insert: `></${name2}>`}};
      } else if (text == "/" && around.name == "JSXFragmentTag") {
        let empty = around.parent, base2 = empty === null || empty === void 0 ? void 0 : empty.parent;
        if (empty.from == head - 1 && ((_c = base2.lastChild) === null || _c === void 0 ? void 0 : _c.name) != "JSXEndTag" && (name2 = elementName(state.doc, base2 === null || base2 === void 0 ? void 0 : base2.firstChild, head))) {
          let insert2 = `/${name2}>`;
          return {range: EditorSelection.cursor(head + insert2.length), changes: {from: head, insert: insert2}};
        }
      }
      return {range};
    });
    if (changes.changes.empty)
      return false;
    view.dispatch(changes, {userEvent: "input.type", scrollIntoView: true});
    return true;
  });

  // node_modules/@codemirror/lang-html/dist/index.js
  var Targets = ["_blank", "_self", "_top", "_parent"];
  var Charsets = ["ascii", "utf-8", "utf-16", "latin1", "latin1"];
  var Methods = ["get", "post", "put", "delete"];
  var Encs = ["application/x-www-form-urlencoded", "multipart/form-data", "text/plain"];
  var Bool = ["true", "false"];
  var S = {};
  var Tags = {
    a: {
      attrs: {
        href: null,
        ping: null,
        type: null,
        media: null,
        target: Targets,
        hreflang: null
      }
    },
    abbr: S,
    address: S,
    area: {
      attrs: {
        alt: null,
        coords: null,
        href: null,
        target: null,
        ping: null,
        media: null,
        hreflang: null,
        type: null,
        shape: ["default", "rect", "circle", "poly"]
      }
    },
    article: S,
    aside: S,
    audio: {
      attrs: {
        src: null,
        mediagroup: null,
        crossorigin: ["anonymous", "use-credentials"],
        preload: ["none", "metadata", "auto"],
        autoplay: ["autoplay"],
        loop: ["loop"],
        controls: ["controls"]
      }
    },
    b: S,
    base: {attrs: {href: null, target: Targets}},
    bdi: S,
    bdo: S,
    blockquote: {attrs: {cite: null}},
    body: S,
    br: S,
    button: {
      attrs: {
        form: null,
        formaction: null,
        name: null,
        value: null,
        autofocus: ["autofocus"],
        disabled: ["autofocus"],
        formenctype: Encs,
        formmethod: Methods,
        formnovalidate: ["novalidate"],
        formtarget: Targets,
        type: ["submit", "reset", "button"]
      }
    },
    canvas: {attrs: {width: null, height: null}},
    caption: S,
    center: S,
    cite: S,
    code: S,
    col: {attrs: {span: null}},
    colgroup: {attrs: {span: null}},
    command: {
      attrs: {
        type: ["command", "checkbox", "radio"],
        label: null,
        icon: null,
        radiogroup: null,
        command: null,
        title: null,
        disabled: ["disabled"],
        checked: ["checked"]
      }
    },
    data: {attrs: {value: null}},
    datagrid: {attrs: {disabled: ["disabled"], multiple: ["multiple"]}},
    datalist: {attrs: {data: null}},
    dd: S,
    del: {attrs: {cite: null, datetime: null}},
    details: {attrs: {open: ["open"]}},
    dfn: S,
    div: S,
    dl: S,
    dt: S,
    em: S,
    embed: {attrs: {src: null, type: null, width: null, height: null}},
    eventsource: {attrs: {src: null}},
    fieldset: {attrs: {disabled: ["disabled"], form: null, name: null}},
    figcaption: S,
    figure: S,
    footer: S,
    form: {
      attrs: {
        action: null,
        name: null,
        "accept-charset": Charsets,
        autocomplete: ["on", "off"],
        enctype: Encs,
        method: Methods,
        novalidate: ["novalidate"],
        target: Targets
      }
    },
    h1: S,
    h2: S,
    h3: S,
    h4: S,
    h5: S,
    h6: S,
    head: {
      children: ["title", "base", "link", "style", "meta", "script", "noscript", "command"]
    },
    header: S,
    hgroup: S,
    hr: S,
    html: {
      attrs: {manifest: null}
    },
    i: S,
    iframe: {
      attrs: {
        src: null,
        srcdoc: null,
        name: null,
        width: null,
        height: null,
        sandbox: ["allow-top-navigation", "allow-same-origin", "allow-forms", "allow-scripts"],
        seamless: ["seamless"]
      }
    },
    img: {
      attrs: {
        alt: null,
        src: null,
        ismap: null,
        usemap: null,
        width: null,
        height: null,
        crossorigin: ["anonymous", "use-credentials"]
      }
    },
    input: {
      attrs: {
        alt: null,
        dirname: null,
        form: null,
        formaction: null,
        height: null,
        list: null,
        max: null,
        maxlength: null,
        min: null,
        name: null,
        pattern: null,
        placeholder: null,
        size: null,
        src: null,
        step: null,
        value: null,
        width: null,
        accept: ["audio/*", "video/*", "image/*"],
        autocomplete: ["on", "off"],
        autofocus: ["autofocus"],
        checked: ["checked"],
        disabled: ["disabled"],
        formenctype: Encs,
        formmethod: Methods,
        formnovalidate: ["novalidate"],
        formtarget: Targets,
        multiple: ["multiple"],
        readonly: ["readonly"],
        required: ["required"],
        type: [
          "hidden",
          "text",
          "search",
          "tel",
          "url",
          "email",
          "password",
          "datetime",
          "date",
          "month",
          "week",
          "time",
          "datetime-local",
          "number",
          "range",
          "color",
          "checkbox",
          "radio",
          "file",
          "submit",
          "image",
          "reset",
          "button"
        ]
      }
    },
    ins: {attrs: {cite: null, datetime: null}},
    kbd: S,
    keygen: {
      attrs: {
        challenge: null,
        form: null,
        name: null,
        autofocus: ["autofocus"],
        disabled: ["disabled"],
        keytype: ["RSA"]
      }
    },
    label: {attrs: {for: null, form: null}},
    legend: S,
    li: {attrs: {value: null}},
    link: {
      attrs: {
        href: null,
        type: null,
        hreflang: null,
        media: null,
        sizes: ["all", "16x16", "16x16 32x32", "16x16 32x32 64x64"]
      }
    },
    map: {attrs: {name: null}},
    mark: S,
    menu: {attrs: {label: null, type: ["list", "context", "toolbar"]}},
    meta: {
      attrs: {
        content: null,
        charset: Charsets,
        name: ["viewport", "application-name", "author", "description", "generator", "keywords"],
        "http-equiv": ["content-language", "content-type", "default-style", "refresh"]
      }
    },
    meter: {attrs: {value: null, min: null, low: null, high: null, max: null, optimum: null}},
    nav: S,
    noscript: S,
    object: {
      attrs: {
        data: null,
        type: null,
        name: null,
        usemap: null,
        form: null,
        width: null,
        height: null,
        typemustmatch: ["typemustmatch"]
      }
    },
    ol: {
      attrs: {reversed: ["reversed"], start: null, type: ["1", "a", "A", "i", "I"]},
      children: ["li", "script", "template", "ul", "ol"]
    },
    optgroup: {attrs: {disabled: ["disabled"], label: null}},
    option: {attrs: {disabled: ["disabled"], label: null, selected: ["selected"], value: null}},
    output: {attrs: {for: null, form: null, name: null}},
    p: S,
    param: {attrs: {name: null, value: null}},
    pre: S,
    progress: {attrs: {value: null, max: null}},
    q: {attrs: {cite: null}},
    rp: S,
    rt: S,
    ruby: S,
    samp: S,
    script: {
      attrs: {
        type: ["text/javascript"],
        src: null,
        async: ["async"],
        defer: ["defer"],
        charset: Charsets
      }
    },
    section: S,
    select: {
      attrs: {
        form: null,
        name: null,
        size: null,
        autofocus: ["autofocus"],
        disabled: ["disabled"],
        multiple: ["multiple"]
      }
    },
    slot: {attrs: {name: null}},
    small: S,
    source: {attrs: {src: null, type: null, media: null}},
    span: S,
    strong: S,
    style: {
      attrs: {
        type: ["text/css"],
        media: null,
        scoped: null
      }
    },
    sub: S,
    summary: S,
    sup: S,
    table: S,
    tbody: S,
    td: {attrs: {colspan: null, rowspan: null, headers: null}},
    template: S,
    textarea: {
      attrs: {
        dirname: null,
        form: null,
        maxlength: null,
        name: null,
        placeholder: null,
        rows: null,
        cols: null,
        autofocus: ["autofocus"],
        disabled: ["disabled"],
        readonly: ["readonly"],
        required: ["required"],
        wrap: ["soft", "hard"]
      }
    },
    tfoot: S,
    th: {attrs: {colspan: null, rowspan: null, headers: null, scope: ["row", "col", "rowgroup", "colgroup"]}},
    thead: S,
    time: {attrs: {datetime: null}},
    title: S,
    tr: S,
    track: {
      attrs: {
        src: null,
        label: null,
        default: null,
        kind: ["subtitles", "captions", "descriptions", "chapters", "metadata"],
        srclang: null
      }
    },
    ul: {children: ["li", "script", "template", "ul", "ol"]},
    var: S,
    video: {
      attrs: {
        src: null,
        poster: null,
        width: null,
        height: null,
        crossorigin: ["anonymous", "use-credentials"],
        preload: ["auto", "metadata", "none"],
        autoplay: ["autoplay"],
        mediagroup: ["movie"],
        muted: ["muted"],
        controls: ["controls"]
      }
    },
    wbr: S
  };
  var GlobalAttrs = {
    accesskey: null,
    class: null,
    contenteditable: Bool,
    contextmenu: null,
    dir: ["ltr", "rtl", "auto"],
    draggable: ["true", "false", "auto"],
    dropzone: ["copy", "move", "link", "string:", "file:"],
    hidden: ["hidden"],
    id: null,
    inert: ["inert"],
    itemid: null,
    itemprop: null,
    itemref: null,
    itemscope: ["itemscope"],
    itemtype: null,
    lang: ["ar", "bn", "de", "en-GB", "en-US", "es", "fr", "hi", "id", "ja", "pa", "pt", "ru", "tr", "zh"],
    spellcheck: Bool,
    autocorrect: Bool,
    autocapitalize: Bool,
    style: null,
    tabindex: null,
    title: null,
    translate: ["yes", "no"],
    onclick: null,
    rel: ["stylesheet", "alternate", "author", "bookmark", "help", "license", "next", "nofollow", "noreferrer", "prefetch", "prev", "search", "tag"],
    role: /* @__PURE__ */ "alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),
    "aria-activedescendant": null,
    "aria-atomic": Bool,
    "aria-autocomplete": ["inline", "list", "both", "none"],
    "aria-busy": Bool,
    "aria-checked": ["true", "false", "mixed", "undefined"],
    "aria-controls": null,
    "aria-describedby": null,
    "aria-disabled": Bool,
    "aria-dropeffect": null,
    "aria-expanded": ["true", "false", "undefined"],
    "aria-flowto": null,
    "aria-grabbed": ["true", "false", "undefined"],
    "aria-haspopup": Bool,
    "aria-hidden": Bool,
    "aria-invalid": ["true", "false", "grammar", "spelling"],
    "aria-label": null,
    "aria-labelledby": null,
    "aria-level": null,
    "aria-live": ["off", "polite", "assertive"],
    "aria-multiline": Bool,
    "aria-multiselectable": Bool,
    "aria-owns": null,
    "aria-posinset": null,
    "aria-pressed": ["true", "false", "mixed", "undefined"],
    "aria-readonly": Bool,
    "aria-relevant": null,
    "aria-required": Bool,
    "aria-selected": ["true", "false", "undefined"],
    "aria-setsize": null,
    "aria-sort": ["ascending", "descending", "none", "other"],
    "aria-valuemax": null,
    "aria-valuemin": null,
    "aria-valuenow": null,
    "aria-valuetext": null
  };
  var Schema = class {
    constructor(extraTags, extraAttrs) {
      this.tags = Object.assign(Object.assign({}, Tags), extraTags);
      this.globalAttrs = Object.assign(Object.assign({}, GlobalAttrs), extraAttrs);
      this.allTags = Object.keys(this.tags);
      this.globalAttrNames = Object.keys(this.globalAttrs);
    }
  };
  Schema.default = /* @__PURE__ */ new Schema();
  function elementName2(doc2, tree, max = doc2.length) {
    if (!tree)
      return "";
    let tag = tree.firstChild;
    let name2 = tag && tag.getChild("TagName");
    return name2 ? doc2.sliceString(name2.from, Math.min(name2.to, max)) : "";
  }
  function findParentElement(tree, skip = false) {
    for (let cur2 = tree.parent; cur2; cur2 = cur2.parent)
      if (cur2.name == "Element") {
        if (skip)
          skip = false;
        else
          return cur2;
      }
    return null;
  }
  function allowedChildren(doc2, tree, schema) {
    let parentInfo = schema.tags[elementName2(doc2, findParentElement(tree, true))];
    return (parentInfo === null || parentInfo === void 0 ? void 0 : parentInfo.children) || schema.allTags;
  }
  function openTags(doc2, tree) {
    let open = [];
    for (let parent = tree; parent = findParentElement(parent); ) {
      let tagName2 = elementName2(doc2, parent);
      if (tagName2 && parent.lastChild.name == "CloseTag")
        break;
      if (tagName2 && open.indexOf(tagName2) < 0 && (tree.name == "EndTag" || tree.from >= parent.firstChild.to))
        open.push(tagName2);
    }
    return open;
  }
  var identifier3 = /^[:\-\.\w\u00b7-\uffff]*$/;
  function completeTag(state, schema, tree, from2, to) {
    let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
    return {
      from: from2,
      to,
      options: allowedChildren(state.doc, tree, schema).map((tagName2) => ({label: tagName2, type: "type"})).concat(openTags(state.doc, tree).map((tag, i) => ({
        label: "/" + tag,
        apply: "/" + tag + end,
        type: "type",
        boost: 99 - i
      }))),
      validFor: /^\/?[:\-\.\w\u00b7-\uffff]*$/
    };
  }
  function completeCloseTag(state, tree, from2, to) {
    let end = /\s*>/.test(state.sliceDoc(to, to + 5)) ? "" : ">";
    return {
      from: from2,
      to,
      options: openTags(state.doc, tree).map((tag, i) => ({label: tag, apply: tag + end, type: "type", boost: 99 - i})),
      validFor: identifier3
    };
  }
  function completeStartTag(state, schema, tree, pos) {
    let options = [], level = 0;
    for (let tagName2 of allowedChildren(state.doc, tree, schema))
      options.push({label: "<" + tagName2, type: "type"});
    for (let open of openTags(state.doc, tree))
      options.push({label: "</" + open + ">", type: "type", boost: 99 - level++});
    return {from: pos, to: pos, options, validFor: /^<\/?[:\-\.\w\u00b7-\uffff]*$/};
  }
  function completeAttrName(state, schema, tree, from2, to) {
    let elt = findParentElement(tree), info = elt ? schema.tags[elementName2(state.doc, elt)] : null;
    let names = info && info.attrs ? Object.keys(info.attrs).concat(schema.globalAttrNames) : schema.globalAttrNames;
    return {
      from: from2,
      to,
      options: names.map((attrName2) => ({label: attrName2, type: "property"})),
      validFor: identifier3
    };
  }
  function completeAttrValue(state, schema, tree, from2, to) {
    var _a2;
    let nameNode = (_a2 = tree.parent) === null || _a2 === void 0 ? void 0 : _a2.getChild("AttributeName");
    let options = [], token = void 0;
    if (nameNode) {
      let attrName2 = state.sliceDoc(nameNode.from, nameNode.to);
      let attrs = schema.globalAttrs[attrName2];
      if (!attrs) {
        let elt = findParentElement(tree), info = elt ? schema.tags[elementName2(state.doc, elt)] : null;
        attrs = (info === null || info === void 0 ? void 0 : info.attrs) && info.attrs[attrName2];
      }
      if (attrs) {
        let base2 = state.sliceDoc(from2, to).toLowerCase(), quoteStart = '"', quoteEnd = '"';
        if (/^['"]/.test(base2)) {
          token = base2[0] == '"' ? /^[^"]*$/ : /^[^']*$/;
          quoteStart = "";
          quoteEnd = state.sliceDoc(to, to + 1) == base2[0] ? "" : base2[0];
          base2 = base2.slice(1);
          from2++;
        } else {
          token = /^[^\s<>='"]*$/;
        }
        for (let value of attrs)
          options.push({label: value, apply: quoteStart + value + quoteEnd, type: "constant"});
      }
    }
    return {from: from2, to, options, validFor: token};
  }
  function htmlCompletionFor(schema, context) {
    let {state, pos} = context, around = syntaxTree(state).resolveInner(pos), tree = around.resolve(pos, -1);
    for (let scan = pos, before; around == tree && (before = tree.childBefore(scan)); ) {
      let last = before.lastChild;
      if (!last || !last.type.isError || last.from < last.to)
        break;
      around = tree = before;
      scan = last.from;
    }
    if (tree.name == "TagName") {
      return tree.parent && /CloseTag$/.test(tree.parent.name) ? completeCloseTag(state, tree, tree.from, pos) : completeTag(state, schema, tree, tree.from, pos);
    } else if (tree.name == "StartTag") {
      return completeTag(state, schema, tree, pos, pos);
    } else if (tree.name == "StartCloseTag" || tree.name == "IncompleteCloseTag") {
      return completeCloseTag(state, tree, pos, pos);
    } else if (context.explicit && (tree.name == "OpenTag" || tree.name == "SelfClosingTag") || tree.name == "AttributeName") {
      return completeAttrName(state, schema, tree, tree.name == "AttributeName" ? tree.from : pos, pos);
    } else if (tree.name == "Is" || tree.name == "AttributeValue" || tree.name == "UnquotedAttributeValue") {
      return completeAttrValue(state, schema, tree, tree.name == "Is" ? pos : tree.from, pos);
    } else if (context.explicit && (around.name == "Element" || around.name == "Text" || around.name == "Document")) {
      return completeStartTag(state, schema, tree, pos);
    } else {
      return null;
    }
  }
  function htmlCompletionSourceWith(config) {
    let {extraTags, extraGlobalAttributes: extraAttrs} = config;
    let schema = extraAttrs || extraTags ? new Schema(extraTags, extraAttrs) : Schema.default;
    return (context) => htmlCompletionFor(schema, context);
  }
  var htmlLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "html",
    parser: /* @__PURE__ */ parser2.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          Element(context) {
            let after = /^(\s*)(<\/)?/.exec(context.textAfter);
            if (context.node.to <= context.pos + after[0].length)
              return context.continue();
            return context.lineIndent(context.node.from) + (after[2] ? 0 : context.unit);
          },
          "OpenTag CloseTag SelfClosingTag"(context) {
            return context.column(context.node.from) + context.unit;
          },
          Document(context) {
            if (context.pos + /\s*/.exec(context.textAfter)[0].length < context.node.to)
              return context.continue();
            let endElt = null, close;
            for (let cur2 = context.node; ; ) {
              let last = cur2.lastChild;
              if (!last || last.name != "Element" || last.to != cur2.to)
                break;
              endElt = cur2 = last;
            }
            if (endElt && !((close = endElt.lastChild) && (close.name == "CloseTag" || close.name == "SelfClosingTag")))
              return context.lineIndent(endElt.from) + context.unit;
            return null;
          }
        }),
        /* @__PURE__ */ foldNodeProp.add({
          Element(node) {
            let first = node.firstChild, last = node.lastChild;
            if (!first || first.name != "OpenTag")
              return null;
            return {from: first.to, to: last.name == "CloseTag" ? last.from : node.to};
          }
        })
      ],
      wrap: /* @__PURE__ */ configureNesting([
        {
          tag: "script",
          attrs: (attrs) => attrs.type == "text/typescript" || attrs.lang == "ts",
          parser: typescriptLanguage.parser
        },
        {
          tag: "script",
          attrs: (attrs) => attrs.type == "text/jsx",
          parser: jsxLanguage.parser
        },
        {
          tag: "script",
          attrs: (attrs) => attrs.type == "text/typescript-jsx",
          parser: tsxLanguage.parser
        },
        {
          tag: "script",
          attrs(attrs) {
            return !attrs.type || /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(attrs.type);
          },
          parser: javascriptLanguage.parser
        },
        {
          tag: "style",
          attrs(attrs) {
            return (!attrs.lang || attrs.lang == "css") && (!attrs.type || /^(text\/)?(x-)?(stylesheet|css)$/i.test(attrs.type));
          },
          parser: cssLanguage.parser
        }
      ])
    }),
    languageData: {
      commentTokens: {block: {open: "<!--", close: "-->"}},
      indentOnInput: /^\s*<\/\w+\W$/,
      wordChars: "-._"
    }
  });
  function html(config = {}) {
    let lang = htmlLanguage;
    if (config.matchClosingTags === false)
      lang = lang.configure({dialect: "noMatch"});
    if (config.selfClosingTags === true)
      lang = lang.configure({dialect: "selfClosing"});
    return new LanguageSupport(lang, [
      htmlLanguage.data.of({autocomplete: htmlCompletionSourceWith(config)}),
      config.autoCloseTags !== false ? autoCloseTags2 : [],
      javascript().support,
      css().support
    ]);
  }
  var autoCloseTags2 = /* @__PURE__ */ EditorView.inputHandler.of((view, from2, to, text) => {
    if (view.composing || view.state.readOnly || from2 != to || text != ">" && text != "/" || !htmlLanguage.isActiveAt(view.state, from2, -1))
      return false;
    let {state} = view;
    let changes = state.changeByRange((range) => {
      var _a2, _b, _c;
      let {head} = range, around = syntaxTree(state).resolveInner(head, -1), name2;
      if (around.name == "TagName" || around.name == "StartTag")
        around = around.parent;
      if (text == ">" && around.name == "OpenTag") {
        if (((_b = (_a2 = around.parent) === null || _a2 === void 0 ? void 0 : _a2.lastChild) === null || _b === void 0 ? void 0 : _b.name) != "CloseTag" && (name2 = elementName2(state.doc, around.parent, head))) {
          let hasRightBracket = view.state.doc.sliceString(head, head + 1) === ">";
          let insert2 = `${hasRightBracket ? "" : ">"}</${name2}>`;
          return {range: EditorSelection.cursor(head + 1), changes: {from: head + (hasRightBracket ? 1 : 0), insert: insert2}};
        }
      } else if (text == "/" && around.name == "OpenTag") {
        let empty = around.parent, base2 = empty === null || empty === void 0 ? void 0 : empty.parent;
        if (empty.from == head - 1 && ((_c = base2.lastChild) === null || _c === void 0 ? void 0 : _c.name) != "CloseTag" && (name2 = elementName2(state.doc, base2, head))) {
          let hasRightBracket = view.state.doc.sliceString(head, head + 1) === ">";
          let insert2 = `/${name2}${hasRightBracket ? "" : ">"}`;
          let pos = head + insert2.length + (hasRightBracket ? 1 : 0);
          return {range: EditorSelection.cursor(pos), changes: {from: head, insert: insert2}};
        }
      }
      return {range};
    });
    if (changes.changes.empty)
      return false;
    view.dispatch(changes, {userEvent: "input.type", scrollIntoView: true});
    return true;
  });

  // node_modules/@codemirror/lang-php/dist/index.js
  var phpLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "php",
    parser: /* @__PURE__ */ parser.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          IfStatement: /* @__PURE__ */ continuedIndent({except: /^\s*({|else\b|elseif\b|endif\b)/}),
          TryStatement: /* @__PURE__ */ continuedIndent({except: /^\s*({|catch\b|finally\b)/}),
          SwitchBody: (context) => {
            let after = context.textAfter, closed = /^\s*\}/.test(after), isCase = /^\s*(case|default)\b/.test(after);
            return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;
          },
          ColonBlock: (cx) => cx.baseIndent + cx.unit,
          "Block EnumBody DeclarationList": /* @__PURE__ */ delimitedIndent({closing: "}"}),
          ArrowFunction: (cx) => cx.baseIndent + cx.unit,
          "String BlockComment": () => null,
          Statement: /* @__PURE__ */ continuedIndent({except: /^({|end(for|foreach|switch|while)\b)/})
        }),
        /* @__PURE__ */ foldNodeProp.add({
          "Block EnumBody DeclarationList SwitchBody ArrayExpression ValueList": foldInside,
          ColonBlock(tree) {
            return {from: tree.from + 1, to: tree.to};
          },
          BlockComment(tree) {
            return {from: tree.from + 2, to: tree.to - 2};
          }
        })
      ]
    }),
    languageData: {
      commentTokens: {block: {open: "/*", close: "*/"}, line: "//"},
      indentOnInput: /^\s*(?:case |default:|end(?:if|for(?:each)?|switch|while)|else(?:if)?|\{|\})$/,
      wordChars: "$",
      closeBrackets: {stringPrefixes: ["b", "B"]}
    }
  });
  function php(config = {}) {
    let support = [], base2;
    if (config.baseLanguage === null)
      ;
    else if (config.baseLanguage) {
      base2 = config.baseLanguage;
    } else {
      let htmlSupport = html({matchClosingTags: false});
      support.push(htmlSupport.support);
      base2 = htmlSupport.language;
    }
    return new LanguageSupport(phpLanguage.configure({
      wrap: base2 && parseMixed((node) => {
        if (!node.type.isTop)
          return null;
        return {
          parser: base2.parser,
          overlay: (node2) => node2.name == "Text"
        };
      }),
      top: config.plain ? "Program" : "Template"
    }), support);
  }

  // node_modules/@lezer/json/dist/index.es.js
  var jsonHighlighting = styleTags({
    String: tags.string,
    Number: tags.number,
    "True False": tags.bool,
    PropertyName: tags.propertyName,
    Null: tags.null,
    ",": tags.separator,
    "[ ]": tags.squareBracket,
    "{ }": tags.brace
  });
  var parser5 = LRParser.deserialize({
    version: 14,
    states: "$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",
    stateData: "#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",
    goto: "!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",
    nodeNames: "\u26A0 JsonText True False Null Number String } { Object Property PropertyName ] [ Array",
    maxTerm: 25,
    nodeProps: [
      ["openedBy", 7, "{", 12, "["],
      ["closedBy", 8, "}", 13, "]"]
    ],
    propSources: [jsonHighlighting],
    skippedNodes: [0],
    repeatNodeCount: 2,
    tokenData: "(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",
    tokenizers: [0],
    topRules: {JsonText: [0, 1]},
    tokenPrec: 0
  });

  // node_modules/@codemirror/lang-json/dist/index.js
  var jsonLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "json",
    parser: /* @__PURE__ */ parser5.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          Object: /* @__PURE__ */ continuedIndent({except: /^\s*\}/}),
          Array: /* @__PURE__ */ continuedIndent({except: /^\s*\]/})
        }),
        /* @__PURE__ */ foldNodeProp.add({
          "Object Array": foldInside
        })
      ]
    }),
    languageData: {
      closeBrackets: {brackets: ["[", "{", '"']},
      indentOnInput: /^\s*[\}\]]$/
    }
  });
  function json() {
    return new LanguageSupport(jsonLanguage);
  }

  // node_modules/@lezer/xml/dist/index.es.js
  var StartTag2 = 1;
  var StartCloseTag2 = 2;
  var MissingCloseTag = 3;
  var mismatchedStartCloseTag = 4;
  var incompleteStartCloseTag = 5;
  var commentContent$12 = 35;
  var piContent$1 = 36;
  var cdataContent$1 = 37;
  var Element2 = 11;
  var OpenTag2 = 13;
  function nameChar2(ch) {
    return ch == 45 || ch == 46 || ch == 58 || ch >= 65 && ch <= 90 || ch == 95 || ch >= 97 && ch <= 122 || ch >= 161;
  }
  function isSpace3(ch) {
    return ch == 9 || ch == 10 || ch == 13 || ch == 32;
  }
  var cachedName2 = null;
  var cachedInput2 = null;
  var cachedPos2 = 0;
  function tagNameAfter2(input, offset) {
    let pos = input.pos + offset;
    if (cachedInput2 == input && cachedPos2 == pos)
      return cachedName2;
    while (isSpace3(input.peek(offset)))
      offset++;
    let name2 = "";
    for (; ; ) {
      let next = input.peek(offset);
      if (!nameChar2(next))
        break;
      name2 += String.fromCharCode(next);
      offset++;
    }
    cachedInput2 = input;
    cachedPos2 = pos;
    return cachedName2 = name2 || null;
  }
  function ElementContext2(name2, parent) {
    this.name = name2;
    this.parent = parent;
    this.hash = parent ? parent.hash : 0;
    for (let i = 0; i < name2.length; i++)
      this.hash += (this.hash << 4) + name2.charCodeAt(i) + (name2.charCodeAt(i) << 8);
  }
  var elementContext2 = new ContextTracker({
    start: null,
    shift(context, term, stack, input) {
      return term == StartTag2 ? new ElementContext2(tagNameAfter2(input, 1) || "", context) : context;
    },
    reduce(context, term) {
      return term == Element2 && context ? context.parent : context;
    },
    reuse(context, node, _stack, input) {
      let type = node.type.id;
      return type == StartTag2 || type == OpenTag2 ? new ElementContext2(tagNameAfter2(input, 1) || "", context) : context;
    },
    hash(context) {
      return context ? context.hash : 0;
    },
    strict: false
  });
  var startTag = new ExternalTokenizer((input, stack) => {
    if (input.next != 60)
      return;
    input.advance();
    if (input.next == 47) {
      input.advance();
      let name2 = tagNameAfter2(input, 0);
      if (!name2)
        return input.acceptToken(incompleteStartCloseTag);
      if (stack.context && name2 == stack.context.name)
        return input.acceptToken(StartCloseTag2);
      for (let cx = stack.context; cx; cx = cx.parent)
        if (cx.name == name2)
          return input.acceptToken(MissingCloseTag, -2);
      input.acceptToken(mismatchedStartCloseTag);
    } else if (input.next != 33 && input.next != 63) {
      return input.acceptToken(StartTag2);
    }
  }, {contextual: true});
  function scanTo(type, end) {
    return new ExternalTokenizer((input) => {
      for (let endPos = 0, len = 0; ; len++) {
        if (input.next < 0) {
          if (len)
            input.acceptToken(type);
          break;
        }
        if (input.next == end.charCodeAt(endPos)) {
          endPos++;
          if (endPos == end.length) {
            if (len > end.length)
              input.acceptToken(type, 1 - end.length);
            break;
          }
        } else {
          endPos = input.next == end.charCodeAt(0) ? 1 : 0;
        }
        input.advance();
      }
    });
  }
  var commentContent2 = scanTo(commentContent$12, "-->");
  var piContent = scanTo(piContent$1, "?>");
  var cdataContent = scanTo(cdataContent$1, "]]>");
  var xmlHighlighting = styleTags({
    Text: tags.content,
    "StartTag StartCloseTag EndTag SelfCloseEndTag": tags.angleBracket,
    TagName: tags.tagName,
    "MismatchedCloseTag/Tagname": [tags.tagName, tags.invalid],
    AttributeName: tags.attributeName,
    AttributeValue: tags.attributeValue,
    Is: tags.definitionOperator,
    "EntityReference CharacterReference": tags.character,
    Comment: tags.blockComment,
    ProcessingInst: tags.processingInstruction,
    DoctypeDecl: tags.documentMeta,
    Cdata: tags.special(tags.string)
  });
  var parser6 = LRParser.deserialize({
    version: 14,
    states: ",SOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DS'#DSOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C{'#C{O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C|'#C|O$dOrO,59^OOOP,59^,59^OOOS'#C}'#C}O$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6y-E6yOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6z-E6zOOOP1G.x1G.xOOOS-E6{-E6{OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'jO!bO,59eOOOO-E6w-E6wO'xOpO1G.uO'xOpO1G.uOOOP1G.u1G.uO(QOpO7+$fOOOP7+$f7+$fO(YO!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(eO#tO'#CnOOOO1G.q1G.qO(sOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO({O#tO,59YOOOO,59Y,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.t",
    stateData: ")Z~OPQOSVOTWOVWOWWOXWOiXOxPO}TO!PUO~OuZOw]O~O^`Oy^O~OPQOQcOSVOTWOVWOWWOXWOxPO}TO!PUO~ORdO~P!SOseO|gO~OthO!OjO~O^lOy^O~OuZOwoO~O^qOy^O~O[vO`sOdwOy^O~ORyO~P!SO^{Oy^O~OseO|}O~OthO!O!PO~O^!QOy^O~O[!SOy^O~O[!VO`sOd!WOy^O~Oa!YOy^O~Oy^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oy^O~O[!_Oy^O~O[!aOy^O~O[!cO`sOd!dOy^O~O[!cO`sOd!dO~Oa!eOy^O~Oy^Oz!gO~Oy^O[ma`madma~O[!jOy^O~O[!kOy^O~O[!lO`sOd!mO~OW!pOX!pOz!rO{!pO~O[!sOy^O~OW!pOX!pOz!vO{!pO~O",
    goto: "%[wPPPPPPPPPPxxP!OP!UPP!_!iP!oxxxP!u!{#R$Z$j$p$v$|PPPP%SXWORYbXRORYb_t`qru!T!U!bQ!h!YS!o!e!fR!t!nQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!i!nQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!i!]R!n!eQu`S!UqrU![u!U!bR!b!TQ!q!gR!u!qQbRRxbQfTR|fQiUR!OiSXOYTaRb",
    nodeNames: "\u26A0 StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",
    maxTerm: 47,
    context: elementContext2,
    nodeProps: [
      ["closedBy", 1, "SelfCloseEndTag EndTag", 13, "CloseTag MissingCloseTag"],
      ["openedBy", 12, "StartTag StartCloseTag", 19, "OpenTag", 20, "StartTag"]
    ],
    propSources: [xmlHighlighting],
    skippedNodes: [0],
    repeatNodeCount: 8,
    tokenData: "Az~R!WOX$kXY%rYZ%rZ]$k]^%r^p$kpq%rqr$krs&tsv$kvw'Uw}$k}!O(q!O!P$k!P!Q*n!Q![$k![!]+z!]!^$k!^!_/s!_!`=i!`!a>U!a!b>q!b!c$k!c!}+z!}#P$k#P#Q?}#Q#R$k#R#S+z#S#T$k#T#o+z#o%W$k%W%o+z%o%p$k%p&a+z&a&b$k&b1p+z1p4U$k4U4d+z4d4e$k4e$IS+z$IS$I`$k$I`$Ib+z$Ib$Kh$k$Kh%#t+z%#t&/x$k&/x&Et+z&Et&FV$k&FV;'S+z;'S;:j/S;:j?&r$k?&r?Ah+z?Ah?BY$k?BY?Mn+z?Mn~$kX$rUVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$kP%ZRVPOv%Uw!^%U!_~%UW%iR{WOr%dsv%dw~%d_%{]VP{WyUOX$kXY%rYZ%rZ]$k]^%r^p$kpq%rqr$krs%Usv$kw!^$k!^!_%d!_~$kZ&{RzYVPOv%Uw!^%U!_~%U~'XTOp'hqs'hst(Pt!]'h!^~'h~'kTOp'hqs'ht!]'h!]!^'z!^~'h~(POW~~(SROp(]q!](]!^~(]~(`SOp(]q!](]!]!^(l!^~(]~(qOX~Z(xWVP{WOr$krs%Usv$kw}$k}!O)b!O!^$k!^!_%d!_~$kZ)iWVP{WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a*R!a~$kZ*[U|QVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$k]*uWVP{WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a+_!a~$k]+hUdSVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$k_,V}`S^QVP{WOr$krs%Usv$kw}$k}!O+z!O!P+z!P!Q$k!Q![+z![!]+z!]!^$k!^!_%d!_!c$k!c!}+z!}#R$k#R#S+z#S#T$k#T#o+z#o$}$k$}%O+z%O%W$k%W%o+z%o%p$k%p&a+z&a&b$k&b1p+z1p4U+z4U4d+z4d4e$k4e$IS+z$IS$I`$k$I`$Ib+z$Ib$Je$k$Je$Jg+z$Jg$Kh$k$Kh%#t+z%#t&/x$k&/x&Et+z&Et&FV$k&FV;'S+z;'S;:j/S;:j?&r$k?&r?Ah+z?Ah?BY$k?BY?Mn+z?Mn~$k_/ZWVP{WOr$krs%Usv$kw!^$k!^!_%d!_;=`$k;=`<%l+z<%l~$kX/xU{WOq%dqr0[sv%dw!a%d!a!b=X!b~%dX0aZ{WOr%dsv%dw}%d}!O1S!O!f%d!f!g1x!g!}%d!}#O5s#O#W%d#W#X:k#X~%dX1XT{WOr%dsv%dw}%d}!O1h!O~%dX1oR}P{WOr%dsv%dw~%dX1}T{WOr%dsv%dw!q%d!q!r2^!r~%dX2cT{WOr%dsv%dw!e%d!e!f2r!f~%dX2wT{WOr%dsv%dw!v%d!v!w3W!w~%dX3]T{WOr%dsv%dw!{%d!{!|3l!|~%dX3qT{WOr%dsv%dw!r%d!r!s4Q!s~%dX4VT{WOr%dsv%dw!g%d!g!h4f!h~%dX4kV{WOr4frs5Qsv4fvw5Qw!`4f!`!a5c!a~4fP5TRO!`5Q!`!a5^!a~5QP5cOiPX5jRiP{WOr%dsv%dw~%dX5xV{WOr%dsv%dw!e%d!e!f6_!f#V%d#V#W8w#W~%dX6dT{WOr%dsv%dw!f%d!f!g6s!g~%dX6xT{WOr%dsv%dw!c%d!c!d7X!d~%dX7^T{WOr%dsv%dw!v%d!v!w7m!w~%dX7rT{WOr%dsv%dw!c%d!c!d8R!d~%dX8WT{WOr%dsv%dw!}%d!}#O8g#O~%dX8nR{WxPOr%dsv%dw~%dX8|T{WOr%dsv%dw#W%d#W#X9]#X~%dX9bT{WOr%dsv%dw#T%d#T#U9q#U~%dX9vT{WOr%dsv%dw#h%d#h#i:V#i~%dX:[T{WOr%dsv%dw#T%d#T#U8R#U~%dX:pT{WOr%dsv%dw#c%d#c#d;P#d~%dX;UT{WOr%dsv%dw#V%d#V#W;e#W~%dX;jT{WOr%dsv%dw#h%d#h#i;y#i~%dX<OT{WOr%dsv%dw#m%d#m#n<_#n~%dX<dT{WOr%dsv%dw#d%d#d#e<s#e~%dX<xT{WOr%dsv%dw#X%d#X#Y4f#Y~%dX=`R!PP{WOr%dsv%dw~%dZ=rUaQVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$k_>_U[UVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$kZ>xWVP{WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!a?b!a~$kZ?kU!OQVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$kZ@UWVP{WOr$krs%Usv$kw!^$k!^!_%d!_#P$k#P#Q@n#Q~$kZ@uWVP{WOr$krs%Usv$kw!^$k!^!_%d!_!`$k!`!aA_!a~$kZAhUwQVP{WOr$krs%Usv$kw!^$k!^!_%d!_~$k",
    tokenizers: [startTag, commentContent2, piContent, cdataContent, 0, 1, 2, 3],
    topRules: {Document: [0, 6]},
    tokenPrec: 0
  });

  // node_modules/@codemirror/lang-xml/dist/index.js
  function tagName(doc2, tag) {
    let name2 = tag && tag.getChild("TagName");
    return name2 ? doc2.sliceString(name2.from, name2.to) : "";
  }
  function elementName3(doc2, tree) {
    let tag = tree && tree.firstChild;
    return !tag || tag.name != "OpenTag" ? "" : tagName(doc2, tag);
  }
  function attrName(doc2, tag, pos) {
    let attr = tag && tag.getChildren("Attribute").find((a) => a.from <= pos && a.to >= pos);
    let name2 = attr && attr.getChild("AttributeName");
    return name2 ? doc2.sliceString(name2.from, name2.to) : "";
  }
  function findParentElement2(tree) {
    for (let cur2 = tree && tree.parent; cur2; cur2 = cur2.parent)
      if (cur2.name == "Element")
        return cur2;
    return null;
  }
  function findLocation(state, pos) {
    var _a2;
    let at = syntaxTree(state).resolveInner(pos, -1), inTag = null;
    for (let cur2 = at; !inTag && cur2.parent; cur2 = cur2.parent)
      if (cur2.name == "OpenTag" || cur2.name == "CloseTag" || cur2.name == "SelfClosingTag" || cur2.name == "MismatchedCloseTag")
        inTag = cur2;
    if (inTag && (inTag.to > pos || inTag.lastChild.type.isError)) {
      let elt = inTag.parent;
      if (at.name == "TagName")
        return inTag.name == "CloseTag" || inTag.name == "MismatchedCloseTag" ? {type: "closeTag", from: at.from, context: elt} : {type: "openTag", from: at.from, context: findParentElement2(elt)};
      if (at.name == "AttributeName")
        return {type: "attrName", from: at.from, context: inTag};
      if (at.name == "AttributeValue")
        return {type: "attrValue", from: at.from, context: inTag};
      let before = at == inTag || at.name == "Attribute" ? at.childBefore(pos) : at;
      if ((before === null || before === void 0 ? void 0 : before.name) == "StartTag")
        return {type: "openTag", from: pos, context: findParentElement2(elt)};
      if ((before === null || before === void 0 ? void 0 : before.name) == "StartCloseTag" && before.to <= pos)
        return {type: "closeTag", from: pos, context: elt};
      if ((before === null || before === void 0 ? void 0 : before.name) == "Is")
        return {type: "attrValue", from: pos, context: inTag};
      if (before)
        return {type: "attrName", from: pos, context: inTag};
      return null;
    } else if (at.name == "StartCloseTag") {
      return {type: "closeTag", from: pos, context: at.parent};
    }
    while (at.parent && at.to == pos && !((_a2 = at.lastChild) === null || _a2 === void 0 ? void 0 : _a2.type.isError))
      at = at.parent;
    if (at.name == "Element" || at.name == "Text" || at.name == "Document")
      return {type: "tag", from: pos, context: at.name == "Element" ? at : findParentElement2(at)};
    return null;
  }
  var Element3 = class {
    constructor(spec, attrs, attrValues) {
      this.attrs = attrs;
      this.attrValues = attrValues;
      this.children = [];
      this.name = spec.name;
      this.completion = Object.assign(Object.assign({type: "type"}, spec.completion || {}), {label: this.name});
      this.openCompletion = Object.assign(Object.assign({}, this.completion), {label: "<" + this.name});
      this.closeCompletion = Object.assign(Object.assign({}, this.completion), {label: "</" + this.name + ">", boost: 2});
      this.closeNameCompletion = Object.assign(Object.assign({}, this.completion), {label: this.name + ">"});
      this.text = spec.textContent ? spec.textContent.map((s) => ({label: s, type: "text"})) : [];
    }
  };
  var Identifier2 = /^[:\-\.\w\u00b7-\uffff]*$/;
  function attrCompletion(spec) {
    return Object.assign(Object.assign({type: "property"}, spec.completion || {}), {label: spec.name});
  }
  function valueCompletion(spec) {
    return typeof spec == "string" ? {label: `"${spec}"`, type: "constant"} : /^"/.test(spec.label) ? spec : Object.assign(Object.assign({}, spec), {label: `"${spec.label}"`});
  }
  function completeFromSchema(eltSpecs, attrSpecs) {
    let allAttrs = [], globalAttrs = [];
    let attrValues = Object.create(null);
    for (let s of attrSpecs) {
      let completion = attrCompletion(s);
      allAttrs.push(completion);
      if (s.global)
        globalAttrs.push(completion);
      if (s.values)
        attrValues[s.name] = s.values.map(valueCompletion);
    }
    let allElements = [], topElements = [];
    let byName = Object.create(null);
    for (let s of eltSpecs) {
      let attrs = globalAttrs, attrVals = attrValues;
      if (s.attributes)
        attrs = attrs.concat(s.attributes.map((s2) => {
          if (typeof s2 == "string")
            return allAttrs.find((a) => a.label == s2) || {label: s2, type: "property"};
          if (s2.values) {
            if (attrVals == attrValues)
              attrVals = Object.create(attrVals);
            attrVals[s2.name] = s2.values.map(valueCompletion);
          }
          return attrCompletion(s2);
        }));
      let elt = new Element3(s, attrs, attrVals);
      byName[elt.name] = elt;
      allElements.push(elt);
      if (s.top)
        topElements.push(elt);
    }
    if (!topElements.length)
      topElements = allElements;
    for (let i = 0; i < allElements.length; i++) {
      let s = eltSpecs[i], elt = allElements[i];
      if (s.children) {
        for (let ch of s.children)
          if (byName[ch])
            elt.children.push(byName[ch]);
      } else {
        elt.children = allElements;
      }
    }
    return (cx) => {
      var _a2;
      let {doc: doc2} = cx.state, loc = findLocation(cx.state, cx.pos);
      if (!loc || loc.type == "tag" && !cx.explicit)
        return null;
      let {type, from: from2, context} = loc;
      if (type == "openTag") {
        let children = topElements;
        let parentName = elementName3(doc2, context);
        if (parentName) {
          let parent = byName[parentName];
          children = (parent === null || parent === void 0 ? void 0 : parent.children) || allElements;
        }
        return {
          from: from2,
          options: children.map((ch) => ch.completion),
          validFor: Identifier2
        };
      } else if (type == "closeTag") {
        let parentName = elementName3(doc2, context);
        return parentName ? {
          from: from2,
          to: cx.pos + (doc2.sliceString(cx.pos, cx.pos + 1) == ">" ? 1 : 0),
          options: [((_a2 = byName[parentName]) === null || _a2 === void 0 ? void 0 : _a2.closeNameCompletion) || {label: parentName + ">", type: "type"}],
          validFor: Identifier2
        } : null;
      } else if (type == "attrName") {
        let parent = byName[tagName(doc2, context)];
        return {
          from: from2,
          options: (parent === null || parent === void 0 ? void 0 : parent.attrs) || globalAttrs,
          validFor: Identifier2
        };
      } else if (type == "attrValue") {
        let attr = attrName(doc2, context, from2);
        if (!attr)
          return null;
        let parent = byName[tagName(doc2, context)];
        let values2 = ((parent === null || parent === void 0 ? void 0 : parent.attrValues) || attrValues)[attr];
        if (!values2 || !values2.length)
          return null;
        return {
          from: from2,
          to: cx.pos + (doc2.sliceString(cx.pos, cx.pos + 1) == '"' ? 1 : 0),
          options: values2,
          validFor: /^"[^"]*"?$/
        };
      } else if (type == "tag") {
        let parentName = elementName3(doc2, context), parent = byName[parentName];
        let closing = [], last = context && context.lastChild;
        if (parentName && (!last || last.name != "CloseTag" || tagName(doc2, last) != parentName))
          closing.push(parent ? parent.closeCompletion : {label: "</" + parentName + ">", type: "type", boost: 2});
        let options = closing.concat(((parent === null || parent === void 0 ? void 0 : parent.children) || (context ? allElements : topElements)).map((e) => e.openCompletion));
        if (context && (parent === null || parent === void 0 ? void 0 : parent.text.length)) {
          let openTag = context.firstChild;
          if (openTag.to > cx.pos - 20 && !/\S/.test(cx.state.sliceDoc(openTag.to, cx.pos)))
            options = options.concat(parent.text);
        }
        return {
          from: from2,
          options,
          validFor: /^<\/?[:\-\.\w\u00b7-\uffff]*$/
        };
      } else {
        return null;
      }
    };
  }
  var xmlLanguage = /* @__PURE__ */ LRLanguage.define({
    name: "xml",
    parser: /* @__PURE__ */ parser6.configure({
      props: [
        /* @__PURE__ */ indentNodeProp.add({
          Element(context) {
            let closed = /^\s*<\//.test(context.textAfter);
            return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);
          },
          "OpenTag CloseTag SelfClosingTag"(context) {
            return context.column(context.node.from) + context.unit;
          }
        }),
        /* @__PURE__ */ foldNodeProp.add({
          Element(subtree) {
            let first = subtree.firstChild, last = subtree.lastChild;
            if (!first || first.name != "OpenTag")
              return null;
            return {from: first.to, to: last.name == "CloseTag" ? last.from : subtree.to};
          }
        })
      ]
    }),
    languageData: {
      commentTokens: {block: {open: "<!--", close: "-->"}},
      indentOnInput: /^\s*<\/$/
    }
  });
  function xml(conf = {}) {
    return new LanguageSupport(xmlLanguage, xmlLanguage.data.of({
      autocomplete: completeFromSchema(conf.elements || [], conf.attributes || [])
    }));
  }

  // node_modules/@codemirror/lang-sql/dist/index.js
  var whitespace = 36;
  var LineComment2 = 1;
  var BlockComment2 = 2;
  var String$1 = 3;
  var Number = 4;
  var Bool2 = 5;
  var Null = 6;
  var ParenL = 7;
  var ParenR = 8;
  var BraceL = 9;
  var BraceR = 10;
  var BracketL = 11;
  var BracketR = 12;
  var Semi = 13;
  var Dot = 14;
  var Operator = 15;
  var Punctuation = 16;
  var SpecialVar = 17;
  var Identifier3 = 18;
  var QuotedIdentifier = 19;
  var Keyword = 20;
  var Type = 21;
  var Bits = 22;
  var Bytes = 23;
  var Builtin = 24;
  function isAlpha2(ch) {
    return ch >= 65 && ch <= 90 || ch >= 97 && ch <= 122 || ch >= 48 && ch <= 57;
  }
  function isHexDigit(ch) {
    return ch >= 48 && ch <= 57 || ch >= 97 && ch <= 102 || ch >= 65 && ch <= 70;
  }
  function readLiteral(input, endQuote, backslashEscapes) {
    for (let escaped = false; ; ) {
      if (input.next < 0)
        return;
      if (input.next == endQuote && !escaped) {
        input.advance();
        return;
      }
      escaped = backslashEscapes && !escaped && input.next == 92;
      input.advance();
    }
  }
  function readDoubleDollarLiteral(input) {
    for (; ; ) {
      if (input.next < 0 || input.peek(1) < 0)
        return;
      if (input.next == 36 && input.peek(1) == 36) {
        input.advance(2);
        return;
      }
      input.advance();
    }
  }
  function readWord(input, result) {
    for (; ; ) {
      if (input.next != 95 && !isAlpha2(input.next))
        break;
      if (result != null)
        result += String.fromCharCode(input.next);
      input.advance();
    }
    return result;
  }
  function readWordOrQuoted(input) {
    if (input.next == 39 || input.next == 34 || input.next == 96) {
      let quote = input.next;
      input.advance();
      readLiteral(input, quote, false);
    } else {
      readWord(input);
    }
  }
  function readBits(input, endQuote) {
    while (input.next == 48 || input.next == 49)
      input.advance();
    if (endQuote && input.next == endQuote)
      input.advance();
  }
  function readNumber(input, sawDot) {
    for (; ; ) {
      if (input.next == 46) {
        if (sawDot)
          break;
        sawDot = true;
      } else if (input.next < 48 || input.next > 57) {
        break;
      }
      input.advance();
    }
    if (input.next == 69 || input.next == 101) {
      input.advance();
      if (input.next == 43 || input.next == 45)
        input.advance();
      while (input.next >= 48 && input.next <= 57)
        input.advance();
    }
  }
  function eol(input) {
    while (!(input.next < 0 || input.next == 10))
      input.advance();
  }
  function inString(ch, str) {
    for (let i = 0; i < str.length; i++)
      if (str.charCodeAt(i) == ch)
        return true;
    return false;
  }
  var Space = " 	\r\n";
  function keywords3(keywords4, types2, builtin) {
    let result = Object.create(null);
    result["true"] = result["false"] = Bool2;
    result["null"] = result["unknown"] = Null;
    for (let kw of keywords4.split(" "))
      if (kw)
        result[kw] = Keyword;
    for (let tp of types2.split(" "))
      if (tp)
        result[tp] = Type;
    for (let kw of (builtin || "").split(" "))
      if (kw)
        result[kw] = Builtin;
    return result;
  }
  var SQLTypes = "array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ";
  var SQLKeywords = "absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ";
  var defaults = {
    backslashEscapes: false,
    hashComments: false,
    spaceAfterDashes: false,
    slashComments: false,
    doubleQuotedStrings: false,
    doubleDollarQuotedStrings: false,
    unquotedBitLiterals: false,
    treatBitsAsBytes: false,
    charSetCasts: false,
    operatorChars: "*+-%<>!=&|~^/",
    specialVar: "?",
    identifierQuotes: '"',
    words: /* @__PURE__ */ keywords3(SQLKeywords, SQLTypes)
  };
  function dialect(spec, kws, types2, builtin) {
    let dialect2 = {};
    for (let prop in defaults)
      dialect2[prop] = (spec.hasOwnProperty(prop) ? spec : defaults)[prop];
    if (kws)
      dialect2.words = keywords3(kws, types2 || "", builtin);
    return dialect2;
  }
  function tokensFor(d) {
    return new ExternalTokenizer((input) => {
      var _a2;
      let {next} = input;
      input.advance();
      if (inString(next, Space)) {
        while (inString(input.next, Space))
          input.advance();
        input.acceptToken(whitespace);
      } else if (next == 36 && input.next == 36 && d.doubleDollarQuotedStrings) {
        readDoubleDollarLiteral(input);
        input.acceptToken(String$1);
      } else if (next == 39 || next == 34 && d.doubleQuotedStrings) {
        readLiteral(input, next, d.backslashEscapes);
        input.acceptToken(String$1);
      } else if (next == 35 && d.hashComments || next == 47 && input.next == 47 && d.slashComments) {
        eol(input);
        input.acceptToken(LineComment2);
      } else if (next == 45 && input.next == 45 && (!d.spaceAfterDashes || input.peek(1) == 32)) {
        eol(input);
        input.acceptToken(LineComment2);
      } else if (next == 47 && input.next == 42) {
        input.advance();
        for (let prev = -1, depth = 1; ; ) {
          if (input.next < 0)
            break;
          input.advance();
          if (prev == 42 && input.next == 47) {
            depth--;
            if (!depth) {
              input.advance();
              break;
            }
            prev = -1;
          } else if (prev == 47 && input.next == 42) {
            depth++;
            prev = -1;
          } else {
            prev = input.next;
          }
        }
        input.acceptToken(BlockComment2);
      } else if ((next == 101 || next == 69) && input.next == 39) {
        input.advance();
        readLiteral(input, 39, true);
      } else if ((next == 110 || next == 78) && input.next == 39 && d.charSetCasts) {
        input.advance();
        readLiteral(input, 39, d.backslashEscapes);
        input.acceptToken(String$1);
      } else if (next == 95 && d.charSetCasts) {
        for (let i = 0; ; i++) {
          if (input.next == 39 && i > 1) {
            input.advance();
            readLiteral(input, 39, d.backslashEscapes);
            input.acceptToken(String$1);
            break;
          }
          if (!isAlpha2(input.next))
            break;
          input.advance();
        }
      } else if (next == 40) {
        input.acceptToken(ParenL);
      } else if (next == 41) {
        input.acceptToken(ParenR);
      } else if (next == 123) {
        input.acceptToken(BraceL);
      } else if (next == 125) {
        input.acceptToken(BraceR);
      } else if (next == 91) {
        input.acceptToken(BracketL);
      } else if (next == 93) {
        input.acceptToken(BracketR);
      } else if (next == 59) {
        input.acceptToken(Semi);
      } else if (d.unquotedBitLiterals && next == 48 && input.next == 98) {
        input.advance();
        readBits(input);
        input.acceptToken(Bits);
      } else if ((next == 98 || next == 66) && (input.next == 39 || input.next == 34)) {
        const quoteStyle = input.next;
        input.advance();
        if (d.treatBitsAsBytes) {
          readLiteral(input, quoteStyle, d.backslashEscapes);
          input.acceptToken(Bytes);
        } else {
          readBits(input, quoteStyle);
          input.acceptToken(Bits);
        }
      } else if (next == 48 && (input.next == 120 || input.next == 88) || (next == 120 || next == 88) && input.next == 39) {
        let quoted = input.next == 39;
        input.advance();
        while (isHexDigit(input.next))
          input.advance();
        if (quoted && input.next == 39)
          input.advance();
        input.acceptToken(Number);
      } else if (next == 46 && input.next >= 48 && input.next <= 57) {
        readNumber(input, true);
        input.acceptToken(Number);
      } else if (next == 46) {
        input.acceptToken(Dot);
      } else if (next >= 48 && next <= 57) {
        readNumber(input, false);
        input.acceptToken(Number);
      } else if (inString(next, d.operatorChars)) {
        while (inString(input.next, d.operatorChars))
          input.advance();
        input.acceptToken(Operator);
      } else if (inString(next, d.specialVar)) {
        if (input.next == next)
          input.advance();
        readWordOrQuoted(input);
        input.acceptToken(SpecialVar);
      } else if (inString(next, d.identifierQuotes)) {
        readLiteral(input, next, false);
        input.acceptToken(QuotedIdentifier);
      } else if (next == 58 || next == 44) {
        input.acceptToken(Punctuation);
      } else if (isAlpha2(next)) {
        let word = readWord(input, String.fromCharCode(next));
        input.acceptToken(input.next == 46 ? Identifier3 : (_a2 = d.words[word.toLowerCase()]) !== null && _a2 !== void 0 ? _a2 : Identifier3);
      }
    });
  }
  var tokens = /* @__PURE__ */ tokensFor(defaults);
  var parser$1 = /* @__PURE__ */ LRParser.deserialize({
    version: 14,
    states: "%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",
    stateData: ",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",
    goto: "#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",
    nodeNames: "\u26A0 LineComment BlockComment String Number Bool Null ( ) [ ] { } ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",
    maxTerm: 38,
    skippedNodes: [0, 1, 2],
    repeatNodeCount: 3,
    tokenData: "RORO",
    tokenizers: [0, tokens],
    topRules: {Script: [0, 25]},
    tokenPrec: 0
  });
  function tokenBefore(tree) {
    let cursor = tree.cursor().moveTo(tree.from, -1);
    while (/Comment/.test(cursor.name))
      cursor.moveTo(cursor.from, -1);
    return cursor.node;
  }
  function idName(doc2, node) {
    let text = doc2.sliceString(node.from, node.to);
    let quoted = /^([`'"])(.*)\1$/.exec(text);
    return quoted ? quoted[2] : text;
  }
  function plainID(node) {
    return node && (node.name == "Identifier" || node.name == "QuotedIdentifier");
  }
  function pathFor(doc2, id2) {
    if (id2.name == "CompositeIdentifier") {
      let path = [];
      for (let ch = id2.firstChild; ch; ch = ch.nextSibling)
        if (plainID(ch))
          path.push(idName(doc2, ch));
      return path;
    }
    return [idName(doc2, id2)];
  }
  function parentsFor(doc2, node) {
    for (let path = []; ; ) {
      if (!node || node.name != ".")
        return path;
      let name2 = tokenBefore(node);
      if (!plainID(name2))
        return path;
      path.unshift(idName(doc2, name2));
      node = tokenBefore(name2);
    }
  }
  function sourceContext(state, startPos) {
    let pos = syntaxTree(state).resolveInner(startPos, -1);
    let aliases = getAliases(state.doc, pos);
    if (pos.name == "Identifier" || pos.name == "QuotedIdentifier" || pos.name == "Keyword") {
      return {
        from: pos.from,
        quoted: pos.name == "QuotedIdentifier" ? state.doc.sliceString(pos.from, pos.from + 1) : null,
        parents: parentsFor(state.doc, tokenBefore(pos)),
        aliases
      };
    }
    if (pos.name == ".") {
      return {from: startPos, quoted: null, parents: parentsFor(state.doc, pos), aliases};
    } else {
      return {from: startPos, quoted: null, parents: [], empty: true, aliases};
    }
  }
  var EndFrom = /* @__PURE__ */ new Set(/* @__PURE__ */ "where group having order union intersect except all distinct limit offset fetch for".split(" "));
  function getAliases(doc2, at) {
    let statement;
    for (let parent = at; !statement; parent = parent.parent) {
      if (!parent)
        return null;
      if (parent.name == "Statement")
        statement = parent;
    }
    let aliases = null;
    for (let scan = statement.firstChild, sawFrom = false, prevID = null; scan; scan = scan.nextSibling) {
      let kw = scan.name == "Keyword" ? doc2.sliceString(scan.from, scan.to).toLowerCase() : null;
      let alias = null;
      if (!sawFrom) {
        sawFrom = kw == "from";
      } else if (kw == "as" && prevID && plainID(scan.nextSibling)) {
        alias = idName(doc2, scan.nextSibling);
      } else if (kw && EndFrom.has(kw)) {
        break;
      } else if (prevID && plainID(scan)) {
        alias = idName(doc2, scan);
      }
      if (alias) {
        if (!aliases)
          aliases = Object.create(null);
        aliases[alias] = pathFor(doc2, prevID);
      }
      prevID = /Identifier$/.test(scan.name) ? scan : null;
    }
    return aliases;
  }
  function maybeQuoteCompletions(quote, completions) {
    if (!quote)
      return completions;
    return completions.map((c) => Object.assign(Object.assign({}, c), {label: quote + c.label + quote, apply: void 0}));
  }
  var Span = /^\w*$/;
  var QuotedSpan = /^[`'"]?\w*[`'"]?$/;
  var CompletionLevel = class {
    constructor() {
      this.list = [];
      this.children = void 0;
    }
    child(name2) {
      let children = this.children || (this.children = Object.create(null));
      return children[name2] || (children[name2] = new CompletionLevel());
    }
    childCompletions(type) {
      return this.children ? Object.keys(this.children).filter((x) => x).map((name2) => ({label: name2, type})) : [];
    }
  };
  function completeFromSchema2(schema, tables, defaultTableName, defaultSchemaName) {
    let top2 = new CompletionLevel();
    let defaultSchema = top2.child(defaultSchemaName || "");
    for (let table in schema) {
      let dot = table.indexOf(".");
      let schemaCompletions = dot > -1 ? top2.child(table.slice(0, dot)) : defaultSchema;
      let tableCompletions = schemaCompletions.child(dot > -1 ? table.slice(dot + 1) : table);
      tableCompletions.list = schema[table].map((val) => typeof val == "string" ? {label: val, type: "property"} : val);
    }
    defaultSchema.list = (tables || defaultSchema.childCompletions("type")).concat(defaultTableName ? defaultSchema.child(defaultTableName).list : []);
    for (let sName in top2.children) {
      let schema2 = top2.child(sName);
      if (!schema2.list.length)
        schema2.list = schema2.childCompletions("type");
    }
    top2.list = defaultSchema.list.concat(top2.childCompletions("type"));
    return (context) => {
      let {parents, from: from2, quoted, empty, aliases} = sourceContext(context.state, context.pos);
      if (empty && !context.explicit)
        return null;
      if (aliases && parents.length == 1)
        parents = aliases[parents[0]] || parents;
      let level = top2;
      for (let name2 of parents) {
        while (!level.children || !level.children[name2]) {
          if (level == top2)
            level = defaultSchema;
          else if (level == defaultSchema && defaultTableName)
            level = level.child(defaultTableName);
          else
            return null;
        }
        level = level.child(name2);
      }
      let quoteAfter = quoted && context.state.sliceDoc(context.pos, context.pos + 1) == quoted;
      let options = level.list;
      if (level == top2 && aliases)
        options = options.concat(Object.keys(aliases).map((name2) => ({label: name2, type: "constant"})));
      return {
        from: from2,
        to: quoteAfter ? context.pos + 1 : void 0,
        options: maybeQuoteCompletions(quoted, options),
        validFor: quoted ? QuotedSpan : Span
      };
    };
  }
  function completeKeywords(keywords4, upperCase) {
    let completions = Object.keys(keywords4).map((keyword2) => ({
      label: upperCase ? keyword2.toUpperCase() : keyword2,
      type: keywords4[keyword2] == Type ? "type" : keywords4[keyword2] == Keyword ? "keyword" : "variable",
      boost: -1
    }));
    return ifNotIn(["QuotedIdentifier", "SpecialVar", "String", "LineComment", "BlockComment", "."], completeFromList(completions));
  }
  var parser7 = /* @__PURE__ */ parser$1.configure({
    props: [
      /* @__PURE__ */ indentNodeProp.add({
        Statement: /* @__PURE__ */ continuedIndent()
      }),
      /* @__PURE__ */ foldNodeProp.add({
        Statement(tree) {
          return {from: tree.firstChild.to, to: tree.to};
        },
        BlockComment(tree) {
          return {from: tree.from + 2, to: tree.to - 2};
        }
      }),
      /* @__PURE__ */ styleTags({
        Keyword: tags.keyword,
        Type: tags.typeName,
        Builtin: /* @__PURE__ */ tags.standard(tags.name),
        Bits: tags.number,
        Bytes: tags.string,
        Bool: tags.bool,
        Null: tags.null,
        Number: tags.number,
        String: tags.string,
        Identifier: tags.name,
        QuotedIdentifier: /* @__PURE__ */ tags.special(tags.string),
        SpecialVar: /* @__PURE__ */ tags.special(tags.name),
        LineComment: tags.lineComment,
        BlockComment: tags.blockComment,
        Operator: tags.operator,
        "Semi Punctuation": tags.punctuation,
        "( )": tags.paren,
        "{ }": tags.brace,
        "[ ]": tags.squareBracket
      })
    ]
  });
  var SQLDialect = class {
    constructor(dialect2, language2) {
      this.dialect = dialect2;
      this.language = language2;
    }
    get extension() {
      return this.language.extension;
    }
    static define(spec) {
      let d = dialect(spec, spec.keywords, spec.types, spec.builtin);
      let language2 = LRLanguage.define({
        name: "sql",
        parser: parser7.configure({
          tokenizers: [{from: tokens, to: tokensFor(d)}]
        }),
        languageData: {
          commentTokens: {line: "--", block: {open: "/*", close: "*/"}},
          closeBrackets: {brackets: ["(", "[", "{", "'", '"', "`"]}
        }
      });
      return new SQLDialect(d, language2);
    }
  };
  function keywordCompletionSource(dialect2, upperCase = false) {
    return completeKeywords(dialect2.dialect.words, upperCase);
  }
  function keywordCompletion(dialect2, upperCase = false) {
    return dialect2.language.data.of({
      autocomplete: keywordCompletionSource(dialect2, upperCase)
    });
  }
  function schemaCompletionSource(config) {
    return config.schema ? completeFromSchema2(config.schema, config.tables, config.defaultTable, config.defaultSchema) : () => null;
  }
  function schemaCompletion(config) {
    return config.schema ? (config.dialect || StandardSQL).language.data.of({
      autocomplete: schemaCompletionSource(config)
    }) : [];
  }
  function sql(config = {}) {
    let lang = config.dialect || StandardSQL;
    return new LanguageSupport(lang.language, [schemaCompletion(config), keywordCompletion(lang, !!config.upperCaseKeywords)]);
  }
  var StandardSQL = /* @__PURE__ */ SQLDialect.define({});
  var PostgreSQL = /* @__PURE__ */ SQLDialect.define({
    charSetCasts: true,
    doubleDollarQuotedStrings: true,
    operatorChars: "+-*/<>=~!@#%^&|`?",
    specialVar: "",
    keywords: SQLKeywords + "a abort abs absent access according ada admin aggregate alias also always analyse analyze array_agg array_max_cardinality asensitive assert assignment asymmetric atomic attach attribute attributes avg backward base64 begin_frame begin_partition bernoulli bit_length blocked bom c cache called cardinality catalog_name ceil ceiling chain char_length character_length character_set_catalog character_set_name character_set_schema characteristics characters checkpoint class class_origin cluster coalesce cobol collation_catalog collation_name collation_schema collect column_name columns command_function command_function_code comment comments committed concurrently condition_number configuration conflict connection_name constant constraint_catalog constraint_name constraint_schema contains content control conversion convert copy corr cost covar_pop covar_samp csv cume_dist current_catalog current_row current_schema cursor_name database datalink datatype datetime_interval_code datetime_interval_precision db debug defaults defined definer degree delimiter delimiters dense_rank depends derived detach detail dictionary disable discard dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue document dump dynamic_function dynamic_function_code element elsif empty enable encoding encrypted end_frame end_partition endexec enforced enum errcode error event every exclude excluding exclusive exp explain expression extension extract family file filter final first_value flag floor following force foreach fortran forward frame_row freeze fs functions fusion g generated granted greatest groups handler header hex hierarchy hint id ignore ilike immediately immutable implementation implicit import include including increment indent index indexes info inherit inherits inline insensitive instance instantiable instead integrity intersection invoker isnull k key_member key_type label lag last_value lead leakproof least length library like_regex link listen ln load location lock locked log logged lower m mapping matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text min minvalue mod mode more move multiset mumps name namespace nfc nfd nfkc nfkd nil normalize normalized nothing notice notify notnull nowait nth_value ntile nullable nullif nulls number occurrences_regex octet_length octets off offset oids operator options ordering others over overlay overriding owned owner p parallel parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partition pascal passing passthrough password percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding prepared print_strict_params procedural procedures program publication query quote raise range rank reassign recheck recovery refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex rename repeatable replace replica requiring reset respect restart restore result_oid returned_cardinality returned_length returned_octet_length returned_sqlstate returning reverse routine_catalog routine_name routine_schema routines row_count row_number rowtype rule scale schema_name schemas scope scope_catalog scope_name scope_schema security selective self sensitive sequence sequences serializable server server_name setof share show simple skip slice snapshot source specific_name sqlcode sqlerror sqrt stable stacked standalone statement statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time t table_name tables tablesample tablespace temp template ties token top_level_count transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex trigger_catalog trigger_name trigger_schema trim trim_array truncate trusted type types uescape unbounded uncommitted unencrypted unlink unlisten unlogged unnamed untyped upper uri use_column use_variable user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema vacuum valid validate validator value_of var_pop var_samp varbinary variable_conflict variadic verbose version versioning views volatile warning whitespace width_bucket window within wrapper xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate yes",
    types: SQLTypes + "bigint int8 bigserial serial8 varbit bool box bytea cidr circle precision float8 inet int4 json jsonb line lseg macaddr macaddr8 money numeric pg_lsn point polygon float4 int2 smallserial serial2 serial serial4 text timetz timestamptz tsquery tsvector txid_snapshot uuid xml"
  });
  var MySQLKeywords = "accessible algorithm analyze asensitive authors auto_increment autocommit avg avg_row_length binlog btree cache catalog_name chain change changed checkpoint checksum class_origin client_statistics coalesce code collations columns comment committed completion concurrent consistent contains contributors convert database databases day_hour day_microsecond day_minute day_second delay_key_write delayed delimiter des_key_file dev_pop dev_samp deviance directory disable discard distinctrow div dual dumpfile enable enclosed ends engine engines enum errors escaped even event events every explain extended fast field fields flush force found_rows fulltext grants handler hash high_priority hosts hour_microsecond hour_minute hour_second ignore ignore_server_ids import index index_statistics infile innodb insensitive insert_method install invoker iterate keys kill linear lines list load lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modify mutex mysql_errno no_write_to_binlog offline offset one online optimize optionally outfile pack_keys parser partition partitions password phase plugin plugins prev processlist profile profiles purge query quick range read_write rebuild recover regexp relaylog remove rename reorganize repair repeatable replace require resume rlike row_format rtree schedule schema_name schemas second_microsecond security sensitive separator serializable server share show slave slow snapshot soname spatial sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result ssl starting starts std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace terminated triggers truncate uncommitted uninstall unlock upgrade use use_frm user_resources user_statistics utc_date utc_time utc_timestamp variables views warnings xa xor year_month zerofill";
  var MySQLTypes = SQLTypes + "bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int1 int2 int3 int4 int8 float4 float8 varbinary varcharacter precision datetime unsigned signed";
  var MySQLBuiltin = "charset clear edit ego help nopager notee nowarning pager print prompt quit rehash source status system tee";
  var MySQL = /* @__PURE__ */ SQLDialect.define({
    operatorChars: "*+-%<>!=&|^",
    charSetCasts: true,
    doubleQuotedStrings: true,
    unquotedBitLiterals: true,
    hashComments: true,
    spaceAfterDashes: true,
    specialVar: "@?",
    identifierQuotes: "`",
    keywords: SQLKeywords + "group_concat " + MySQLKeywords,
    types: MySQLTypes,
    builtin: MySQLBuiltin
  });
  var MariaSQL = /* @__PURE__ */ SQLDialect.define({
    operatorChars: "*+-%<>!=&|^",
    charSetCasts: true,
    doubleQuotedStrings: true,
    unquotedBitLiterals: true,
    hashComments: true,
    spaceAfterDashes: true,
    specialVar: "@?",
    identifierQuotes: "`",
    keywords: SQLKeywords + "always generated groupby_concat hard persistent shutdown soft virtual " + MySQLKeywords,
    types: MySQLTypes,
    builtin: MySQLBuiltin
  });
  var MSSQL = /* @__PURE__ */ SQLDialect.define({
    keywords: SQLKeywords + "trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock pivot readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx unpivot updlock with",
    types: SQLTypes + "bigint smallint smallmoney tinyint money real text nvarchar ntext varbinary image hierarchyid uniqueidentifier sql_variant xml",
    builtin: "binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id",
    operatorChars: "*+-%<>!=^&|/",
    specialVar: "@"
  });
  var SQLite = /* @__PURE__ */ SQLDialect.define({
    keywords: SQLKeywords + "abort analyze attach autoincrement conflict database detach exclusive fail glob ignore index indexed instead isnull notnull offset plan pragma query raise regexp reindex rename replace temp vacuum virtual",
    types: SQLTypes + "bool blob long longblob longtext medium mediumblob mediumint mediumtext tinyblob tinyint tinytext text bigint int2 int8 unsigned signed real",
    builtin: "auth backup bail changes clone databases dbinfo dump echo eqp explain fullschema headers help import imposter indexes iotrace lint load log mode nullvalue once print prompt quit restore save scanstats separator shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width",
    operatorChars: "*+-%<>!=&|/~",
    identifierQuotes: '`"',
    specialVar: "@:?$"
  });
  var Cassandra = /* @__PURE__ */ SQLDialect.define({
    keywords: "add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime infinity NaN",
    types: SQLTypes + "ascii bigint blob counter frozen inet list map static text timeuuid tuple uuid varint",
    slashComments: true
  });
  var PLSQL = /* @__PURE__ */ SQLDialect.define({
    keywords: SQLKeywords + "abort accept access add all alter and any arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body by case cast char_base check close cluster clusters colauth column comment commit compress connected constant constraint crash create current currval cursor data_base database dba deallocate debugoff debugon declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry exception exception_init exchange exclusive exists external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base of off offline on online only option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw rebuild record ref references refresh rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work",
    builtin: "appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define echo editfile embedded feedback flagger flush heading headsep instance linesize lno loboffset logsource longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar repfooter repheader serveroutput shiftinout show showmode spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout timing trimout trimspool ttitle underline verify version wrap",
    types: SQLTypes + "ascii bfile bfilename bigserial bit blob dec long number nvarchar nvarchar2 serial smallint string text uid varchar2 xml",
    operatorChars: "*/+-%<>!=~",
    doubleQuotedStrings: true,
    charSetCasts: true
  });

  // node_modules/@uiw/codemirror-themes/esm/index.js
  var createTheme = (_ref) => {
    var {
      theme: theme3,
      settings,
      styles
    } = _ref;
    var themeOptions = {
      "&": {
        backgroundColor: settings.background,
        color: settings.foreground
      },
      ".cm-gutters": {}
    };
    if (settings.fontFamily) {
      themeOptions["&.cm-editor .cm-scroller"] = {
        fontFamily: settings.fontFamily
      };
    }
    if (settings.gutterBackground) {
      themeOptions[".cm-gutters"].backgroundColor = settings.gutterBackground;
    }
    if (settings.gutterForeground) {
      themeOptions[".cm-gutters"].color = settings.gutterForeground;
    }
    if (settings.gutterBorder) {
      themeOptions[".cm-gutters"].borderRightColor = settings.gutterBorder;
    }
    if (settings.caret) {
      themeOptions[".cm-content"] = {
        caretColor: settings.caret
      };
      themeOptions[".cm-cursor, .cm-dropCursor"] = {
        borderLeftColor: settings.caret
      };
    }
    var activeLineGutterStyle = {};
    if (settings.gutterActiveForeground) {
      activeLineGutterStyle.color = settings.gutterActiveForeground;
    }
    if (settings.lineHighlight) {
      themeOptions[".cm-activeLine"] = {
        backgroundColor: settings.lineHighlight
      };
      activeLineGutterStyle.backgroundColor = settings.lineHighlight;
    }
    themeOptions[".cm-activeLineGutter"] = activeLineGutterStyle;
    if (settings.selection) {
      themeOptions["&.cm-focused .cm-selectionBackground, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"] = {
        backgroundColor: settings.selection
      };
    }
    if (settings.selectionMatch) {
      themeOptions["& .cm-selectionMatch"] = {
        backgroundColor: settings.selectionMatch
      };
    }
    var themeExtension = EditorView.theme(themeOptions, {
      dark: theme3 === "dark"
    });
    var highlightStyle = HighlightStyle.define(styles);
    var extension = [themeExtension, syntaxHighlighting(highlightStyle)];
    return extension;
  };

  // resources/js/themes/dark.js
  var darkTheme2 = createTheme({
    theme: "dark",
    settings: {
      background: "#292A30",
      foreground: "#CECFD0",
      caret: "#fff",
      selection: "#727377",
      selectionMatch: "#727377",
      lineHighlight: "#2F3239"
    },
    styles: [
      {tag: [tags.comment, tags.quote], color: "#7F8C98"},
      {tag: [tags.keyword], color: "#FF7AB2", fontWeight: "bold"},
      {tag: [tags.string, tags.meta], color: "#FF8170"},
      {tag: [tags.typeName], color: "#DABAFF"},
      {tag: [tags.definition(tags.variableName)], color: "#6BDFFF"},
      {tag: [tags.name], color: "#6BAA9F"},
      {tag: [tags.variableName], color: "#ACF2E4"},
      {tag: [tags.regexp, tags.link], color: "#FF8170"}
    ]
  });
  var dark_default = darkTheme2;

  // resources/js/themes/light.js
  var lightTheme = createTheme({
    theme: "light",
    settings: {
      background: "#fff",
      foreground: "#3D3D3D",
      selection: "#BBDFFF",
      selectionMatch: "#BBDFFF",
      gutterBackground: "#fff",
      gutterForeground: "#AFAFAF",
      lineHighlight: "#EDF4FF"
    },
    styles: [
      {tag: [tags.comment, tags.quote], color: "#707F8D"},
      {tag: [tags.typeName, tags.typeOperator], color: "#aa0d91"},
      {tag: [tags.keyword], color: "#aa0d91", fontWeight: "bold"},
      {tag: [tags.string, tags.meta], color: "#D23423"},
      {tag: [tags.name], color: "#032f62"},
      {tag: [tags.typeName], color: "#522BB2"},
      {tag: [tags.variableName], color: "#23575C"},
      {tag: [tags.definition(tags.variableName)], color: "#327A9E"},
      {tag: [tags.regexp, tags.link], color: "#0e0eff"}
    ]
  });
  var light_default = lightTheme;

  // resources/js/code-field.js
  var theme2 = new Compartment();
  var code_field_default = (Alpine) => {
    Alpine.data("filamentCodeField", ({
      state,
      displayMode,
      language: language2,
      disabled,
      withLineNumbers,
      withAutocompletion
    }) => {
      return {
        state,
        codeMirror: null,
        parsers: {php, javascript, json, html, css, xml, sql},
        init() {
          this.codeMirror = new EditorView({
            doc: this.state,
            extensions: this.buildExtensionsArray(),
            parent: this.$refs.codeBlock
          });
          if (displayMode) {
            this.$watch("state", (newState) => {
              this.codeMirror.dispatch({
                changes: {
                  from: 0,
                  to: this.codeMirror.state.doc.length,
                  insert: newState
                }
              });
            });
          }
          window.addEventListener("dark-mode-toggled", (e) => {
            this.codeMirror.dispatch({
              effects: theme2.reconfigure(e.detail === "dark" ? dark_default : light_default)
            });
          });
        },
        buildExtensionsArray() {
          const darkModeElement = document.querySelector("[dark-mode]");
          const lightMode = darkModeElement ? darkModeElement._x_dataStack[0].theme === "light" : true;
          let extensions = [
            this.parsers[language2](),
            keymap.of([indentWithTab]),
            theme2.of(lightMode ? light_default : dark_default),
            EditorView.contentAttributes.of({
              contenteditable: !disabled && !displayMode
            }),
            EditorView.lineWrapping
          ];
          if (!displayMode) {
            extensions.push(EditorView.updateListener.of((v) => {
              if (v.docChanged) {
                this.state = v.state.doc.toString();
              }
            }));
          }
          if (withAutocompletion) {
            extensions.push(autocompletion());
          }
          if (withLineNumbers) {
            extensions.push(lineNumbers());
          }
          return extensions;
        }
      };
    });
  };

  // resources/js/plugin.js
  document.addEventListener("alpine:init", () => {
    window.Alpine.plugin(code_field_default);
  });
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL3N0YXRlL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLW1vZC9zcmMvc3R5bGUtbW9kLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy93M2Mta2V5bmFtZS9pbmRleC5lcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3Ivdmlldy9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvY29tbW9uL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9oaWdobGlnaHQvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZ3VhZ2UvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvY29tbWFuZHMvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlL2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9sci9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvcGhwL2Rpc3QvaW5kZXguZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9odG1sL2Rpc3QvaW5kZXguZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0BsZXplci9jc3MvZGlzdC9pbmRleC5lcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZy1jc3MvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL2phdmFzY3JpcHQvZGlzdC9pbmRleC5lcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGNvZGVtaXJyb3IvbGFuZy1qYXZhc2NyaXB0L2Rpc3QvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xhbmctaHRtbC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLXBocC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AbGV6ZXIvanNvbi9kaXN0L2luZGV4LmVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLWpzb24vZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQGxlemVyL3htbC9kaXN0L2luZGV4LmVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLXhtbC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sYW5nLXNxbC9kaXN0L2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AdWl3L2NvZGVtaXJyb3ItdGhlbWVzL3NyYy9pbmRleC50c3giLCAiLi4vanMvdGhlbWVzL2RhcmsuanMiLCAiLi4vanMvdGhlbWVzL2xpZ2h0LmpzIiwgIi4uL2pzL2NvZGUtZmllbGQuanMiLCAiLi4vanMvcGx1Z2luLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcblRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgZG9jdW1lbnRzLiBAbm9uYWJzdHJhY3RcbiovXG5jbGFzcyBUZXh0IHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkgeyB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBsaW5lIGRlc2NyaXB0aW9uIGFyb3VuZCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgKi9cbiAgICBsaW5lQXQocG9zKSB7XG4gICAgICAgIGlmIChwb3MgPCAwIHx8IHBvcyA+IHRoaXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgcG9zaXRpb24gJHtwb3N9IGluIGRvY3VtZW50IG9mIGxlbmd0aCAke3RoaXMubGVuZ3RofWApO1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lSW5uZXIocG9zLCBmYWxzZSwgMSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgZGVzY3JpcHRpb24gZm9yIHRoZSBnaXZlbiAoMS1iYXNlZCkgbGluZSBudW1iZXIuXG4gICAgKi9cbiAgICBsaW5lKG4pIHtcbiAgICAgICAgaWYgKG4gPCAxIHx8IG4gPiB0aGlzLmxpbmVzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgbGluZSBudW1iZXIgJHtufSBpbiAke3RoaXMubGluZXN9LWxpbmUgZG9jdW1lbnRgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUlubmVyKG4sIHRydWUsIDEsIDApO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXBsYWNlIGEgcmFuZ2Ugb2YgdGhlIHRleHQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudC5cbiAgICAqL1xuICAgIHJlcGxhY2UoZnJvbSwgdG8sIHRleHQpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICAgIHRoaXMuZGVjb21wb3NlKDAsIGZyb20sIHBhcnRzLCAyIC8qIE9wZW4uVG8gKi8pO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGgpXG4gICAgICAgICAgICB0ZXh0LmRlY29tcG9zZSgwLCB0ZXh0Lmxlbmd0aCwgcGFydHMsIDEgLyogT3Blbi5Gcm9tICovIHwgMiAvKiBPcGVuLlRvICovKTtcbiAgICAgICAgdGhpcy5kZWNvbXBvc2UodG8sIHRoaXMubGVuZ3RoLCBwYXJ0cywgMSAvKiBPcGVuLkZyb20gKi8pO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShwYXJ0cywgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwZW5kIGFub3RoZXIgZG9jdW1lbnQgdG8gdGhpcyBvbmUuXG4gICAgKi9cbiAgICBhcHBlbmQob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZSh0aGlzLmxlbmd0aCwgdGhpcy5sZW5ndGgsIG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0cmlldmUgdGhlIHRleHQgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9pbnRzLlxuICAgICovXG4gICAgc2xpY2UoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICBsZXQgcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5kZWNvbXBvc2UoZnJvbSwgdG8sIHBhcnRzLCAwKTtcbiAgICAgICAgcmV0dXJuIFRleHROb2RlLmZyb20ocGFydHMsIHRvIC0gZnJvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRlc3Qgd2hldGhlciB0aGlzIHRleHQgaXMgZXF1YWwgdG8gYW5vdGhlciBpbnN0YW5jZS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciA9PSB0aGlzKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChvdGhlci5sZW5ndGggIT0gdGhpcy5sZW5ndGggfHwgb3RoZXIubGluZXMgIT0gdGhpcy5saW5lcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zY2FuSWRlbnRpY2FsKG90aGVyLCAxKSwgZW5kID0gdGhpcy5sZW5ndGggLSB0aGlzLnNjYW5JZGVudGljYWwob3RoZXIsIC0xKTtcbiAgICAgICAgbGV0IGEgPSBuZXcgUmF3VGV4dEN1cnNvcih0aGlzKSwgYiA9IG5ldyBSYXdUZXh0Q3Vyc29yKG90aGVyKTtcbiAgICAgICAgZm9yIChsZXQgc2tpcCA9IHN0YXJ0LCBwb3MgPSBzdGFydDs7KSB7XG4gICAgICAgICAgICBhLm5leHQoc2tpcCk7XG4gICAgICAgICAgICBiLm5leHQoc2tpcCk7XG4gICAgICAgICAgICBza2lwID0gMDtcbiAgICAgICAgICAgIGlmIChhLmxpbmVCcmVhayAhPSBiLmxpbmVCcmVhayB8fCBhLmRvbmUgIT0gYi5kb25lIHx8IGEudmFsdWUgIT0gYi52YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBwb3MgKz0gYS52YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoYS5kb25lIHx8IHBvcyA+PSBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSB0ZXh0LiBXaGVuIGBkaXJgIGlzIGAtMWAsIGl0ZXJhdGlvbiBoYXBwZW5zXG4gICAgZnJvbSBlbmQgdG8gc3RhcnQuIFRoaXMgd2lsbCByZXR1cm4gbGluZXMgYW5kIHRoZSBicmVha3MgYmV0d2VlblxuICAgIHRoZW0gYXMgc2VwYXJhdGUgc3RyaW5ncy5cbiAgICAqL1xuICAgIGl0ZXIoZGlyID0gMSkgeyByZXR1cm4gbmV3IFJhd1RleHRDdXJzb3IodGhpcywgZGlyKTsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciBhIHJhbmdlIG9mIHRoZSB0ZXh0LiBXaGVuIGBmcm9tYCA+IGB0b2AsIHRoZVxuICAgIGl0ZXJhdG9yIHdpbGwgcnVuIGluIHJldmVyc2UuXG4gICAgKi9cbiAgICBpdGVyUmFuZ2UoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCkgeyByZXR1cm4gbmV3IFBhcnRpYWxUZXh0Q3Vyc29yKHRoaXMsIGZyb20sIHRvKTsgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIGN1cnNvciB0aGF0IGl0ZXJhdGVzIG92ZXIgdGhlIGdpdmVuIHJhbmdlIG9mIGxpbmVzLFxuICAgIF93aXRob3V0XyByZXR1cm5pbmcgdGhlIGxpbmUgYnJlYWtzIGJldHdlZW4sIGFuZCB5aWVsZGluZyBlbXB0eVxuICAgIHN0cmluZ3MgZm9yIGVtcHR5IGxpbmVzLlxuICAgIFxuICAgIFdoZW4gYGZyb21gIGFuZCBgdG9gIGFyZSBnaXZlbiwgdGhleSBzaG91bGQgYmUgMS1iYXNlZCBsaW5lIG51bWJlcnMuXG4gICAgKi9cbiAgICBpdGVyTGluZXMoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGlubmVyO1xuICAgICAgICBpZiAoZnJvbSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpbm5lciA9IHRoaXMuaXRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRvID09IG51bGwpXG4gICAgICAgICAgICAgICAgdG8gPSB0aGlzLmxpbmVzICsgMTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMubGluZShmcm9tKS5mcm9tO1xuICAgICAgICAgICAgaW5uZXIgPSB0aGlzLml0ZXJSYW5nZShzdGFydCwgTWF0aC5tYXgoc3RhcnQsIHRvID09IHRoaXMubGluZXMgKyAxID8gdGhpcy5sZW5ndGggOiB0byA8PSAxID8gMCA6IHRoaXMubGluZSh0byAtIDEpLnRvKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQ3Vyc29yKGlubmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuc2xpY2VTdHJpbmcoMCk7IH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoZSBkb2N1bWVudCB0byBhbiBhcnJheSBvZiBsaW5lcyAod2hpY2ggY2FuIGJlXG4gICAgZGVzZXJpYWxpemVkIGFnYWluIHZpYSBbYFRleHQub2ZgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRleHReb2YpKS5cbiAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gW107XG4gICAgICAgIHRoaXMuZmxhdHRlbihsaW5lcyk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgYFRleHRgIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgbGluZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgb2YodGV4dCkge1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQSBkb2N1bWVudCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIGxpbmVcIik7XG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAxICYmICF0ZXh0WzBdKVxuICAgICAgICAgICAgcmV0dXJuIFRleHQuZW1wdHk7XG4gICAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLyA/IG5ldyBUZXh0TGVhZih0ZXh0KSA6IFRleHROb2RlLmZyb20oVGV4dExlYWYuc3BsaXQodGV4dCwgW10pKTtcbiAgICB9XG59XG4vLyBMZWF2ZXMgc3RvcmUgYW4gYXJyYXkgb2YgbGluZSBzdHJpbmdzLiBUaGVyZSBhcmUgYWx3YXlzIGxpbmUgYnJlYWtzXG4vLyBiZXR3ZWVuIHRoZXNlIHN0cmluZ3MuIExlYXZlcyBhcmUgbGltaXRlZCBpbiBzaXplIGFuZCBoYXZlIHRvIGJlXG4vLyBjb250YWluZWQgaW4gVGV4dE5vZGUgaW5zdGFuY2VzIGZvciBiaWdnZXIgZG9jdW1lbnRzLlxuY2xhc3MgVGV4dExlYWYgZXh0ZW5kcyBUZXh0IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBsZW5ndGggPSB0ZXh0TGVuZ3RoKHRleHQpKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoOyB9XG4gICAgZ2V0IGNoaWxkcmVuKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGxpbmVJbm5lcih0YXJnZXQsIGlzTGluZSwgbGluZSwgb2Zmc2V0KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RyaW5nID0gdGhpcy50ZXh0W2ldLCBlbmQgPSBvZmZzZXQgKyBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKChpc0xpbmUgPyBsaW5lIDogZW5kKSA+PSB0YXJnZXQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lKG9mZnNldCwgZW5kLCBsaW5lLCBzdHJpbmcpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGxpbmUrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvbXBvc2UoZnJvbSwgdG8sIHRhcmdldCwgb3Blbikge1xuICAgICAgICBsZXQgdGV4dCA9IGZyb20gPD0gMCAmJiB0byA+PSB0aGlzLmxlbmd0aCA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IFRleHRMZWFmKHNsaWNlVGV4dCh0aGlzLnRleHQsIGZyb20sIHRvKSwgTWF0aC5taW4odG8sIHRoaXMubGVuZ3RoKSAtIE1hdGgubWF4KDAsIGZyb20pKTtcbiAgICAgICAgaWYgKG9wZW4gJiAxIC8qIE9wZW4uRnJvbSAqLykge1xuICAgICAgICAgICAgbGV0IHByZXYgPSB0YXJnZXQucG9wKCk7XG4gICAgICAgICAgICBsZXQgam9pbmVkID0gYXBwZW5kVGV4dCh0ZXh0LnRleHQsIHByZXYudGV4dC5zbGljZSgpLCAwLCB0ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAoam9pbmVkLmxlbmd0aCA8PSAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKG5ldyBUZXh0TGVhZihqb2luZWQsIHByZXYubGVuZ3RoICsgdGV4dC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBtaWQgPSBqb2luZWQubGVuZ3RoID4+IDE7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2gobmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZSgwLCBtaWQpKSwgbmV3IFRleHRMZWFmKGpvaW5lZC5zbGljZShtaWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucHVzaCh0ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCB0ZXh0KSB7XG4gICAgICAgIGlmICghKHRleHQgaW5zdGFuY2VvZiBUZXh0TGVhZikpXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShmcm9tLCB0bywgdGV4dCk7XG4gICAgICAgIGxldCBsaW5lcyA9IGFwcGVuZFRleHQodGhpcy50ZXh0LCBhcHBlbmRUZXh0KHRleHQudGV4dCwgc2xpY2VUZXh0KHRoaXMudGV4dCwgMCwgZnJvbSkpLCB0byk7XG4gICAgICAgIGxldCBuZXdMZW4gPSB0aGlzLmxlbmd0aCArIHRleHQubGVuZ3RoIC0gKHRvIC0gZnJvbSk7XG4gICAgICAgIGlmIChsaW5lcy5sZW5ndGggPD0gMzIgLyogVHJlZS5CcmFuY2ggKi8pXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRMZWFmKGxpbmVzLCBuZXdMZW4pO1xuICAgICAgICByZXR1cm4gVGV4dE5vZGUuZnJvbShUZXh0TGVhZi5zcGxpdChsaW5lcywgW10pLCBuZXdMZW4pO1xuICAgIH1cbiAgICBzbGljZVN0cmluZyhmcm9tLCB0byA9IHRoaXMubGVuZ3RoLCBsaW5lU2VwID0gXCJcXG5cIikge1xuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7IHBvcyA8PSB0byAmJiBpIDwgdGhpcy50ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHRoaXMudGV4dFtpXSwgZW5kID0gcG9zICsgbGluZS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocG9zID4gZnJvbSAmJiBpKVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBsaW5lU2VwO1xuICAgICAgICAgICAgaWYgKGZyb20gPCBlbmQgJiYgdG8gPiBwb3MpXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGxpbmUuc2xpY2UoTWF0aC5tYXgoMCwgZnJvbSAtIHBvcyksIHRvIC0gcG9zKTtcbiAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZmxhdHRlbih0YXJnZXQpIHtcbiAgICAgICAgZm9yIChsZXQgbGluZSBvZiB0aGlzLnRleHQpXG4gICAgICAgICAgICB0YXJnZXQucHVzaChsaW5lKTtcbiAgICB9XG4gICAgc2NhbklkZW50aWNhbCgpIHsgcmV0dXJuIDA7IH1cbiAgICBzdGF0aWMgc3BsaXQodGV4dCwgdGFyZ2V0KSB7XG4gICAgICAgIGxldCBwYXJ0ID0gW10sIGxlbiA9IC0xO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRleHQpIHtcbiAgICAgICAgICAgIHBhcnQucHVzaChsaW5lKTtcbiAgICAgICAgICAgIGxlbiArPSBsaW5lLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBpZiAocGFydC5sZW5ndGggPT0gMzIgLyogVHJlZS5CcmFuY2ggKi8pIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChuZXcgVGV4dExlYWYocGFydCwgbGVuKSk7XG4gICAgICAgICAgICAgICAgcGFydCA9IFtdO1xuICAgICAgICAgICAgICAgIGxlbiA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsZW4gPiAtMSlcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKG5ldyBUZXh0TGVhZihwYXJ0LCBsZW4pKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG59XG4vLyBOb2RlcyBwcm92aWRlIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgYFRleHRgIHR5cGUuIFRoZXkgc3RvcmUgYVxuLy8gbnVtYmVyIG9mIG90aGVyIG5vZGVzIG9yIGxlYXZlcywgdGFraW5nIGNhcmUgdG8gYmFsYW5jZSB0aGVtc2VsdmVzXG4vLyBvbiBjaGFuZ2VzLiBUaGVyZSBhcmUgaW1wbGllZCBsaW5lIGJyZWFrcyBfYmV0d2Vlbl8gdGhlIGNoaWxkcmVuIG9mXG4vLyBhIG5vZGUgKGJ1dCBub3QgYmVmb3JlIHRoZSBmaXJzdCBvciBhZnRlciB0aGUgbGFzdCBjaGlsZCkuXG5jbGFzcyBUZXh0Tm9kZSBleHRlbmRzIFRleHQge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkcmVuLCBsZW5ndGgpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5saW5lcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgdGhpcy5saW5lcyArPSBjaGlsZC5saW5lcztcbiAgICB9XG4gICAgbGluZUlubmVyKHRhcmdldCwgaXNMaW5lLCBsaW5lLCBvZmZzZXQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLmxlbmd0aCwgZW5kTGluZSA9IGxpbmUgKyBjaGlsZC5saW5lcyAtIDE7XG4gICAgICAgICAgICBpZiAoKGlzTGluZSA/IGVuZExpbmUgOiBlbmQpID49IHRhcmdldClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQubGluZUlubmVyKHRhcmdldCwgaXNMaW5lLCBsaW5lLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kICsgMTtcbiAgICAgICAgICAgIGxpbmUgPSBlbmRMaW5lICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvbXBvc2UoZnJvbSwgdG8sIHRhcmdldCwgb3Blbikge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgcG9zIDw9IHRvICYmIGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZnJvbSA8PSBlbmQgJiYgdG8gPj0gcG9zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkT3BlbiA9IG9wZW4gJiAoKHBvcyA8PSBmcm9tID8gMSAvKiBPcGVuLkZyb20gKi8gOiAwKSB8IChlbmQgPj0gdG8gPyAyIC8qIE9wZW4uVG8gKi8gOiAwKSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvcyA+PSBmcm9tICYmIGVuZCA8PSB0byAmJiAhY2hpbGRPcGVuKVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kZWNvbXBvc2UoZnJvbSAtIHBvcywgdG8gLSBwb3MsIHRhcmdldCwgY2hpbGRPcGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVwbGFjZShmcm9tLCB0bywgdGV4dCkge1xuICAgICAgICBpZiAodGV4dC5saW5lcyA8IHRoaXMubGluZXMpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgLy8gRmFzdCBwYXRoOiBpZiB0aGUgY2hhbmdlIG9ubHkgYWZmZWN0cyBvbmUgY2hpbGQgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNoaWxkJ3Mgc2l6ZSByZW1haW5zIGluIHRoZSBhY2NlcHRhYmxlIHJhbmdlLCBvbmx5IHVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY2hpbGRcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA+PSBwb3MgJiYgdG8gPD0gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGRhdGVkID0gY2hpbGQucmVwbGFjZShmcm9tIC0gcG9zLCB0byAtIHBvcywgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbExpbmVzID0gdGhpcy5saW5lcyAtIGNoaWxkLmxpbmVzICsgdXBkYXRlZC5saW5lcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWQubGluZXMgPCAodG90YWxMaW5lcyA+PiAoNSAvKiBUcmVlLkJyYW5jaFNoaWZ0ICovIC0gMSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkLmxpbmVzID4gKHRvdGFsTGluZXMgPj4gKDUgLyogVHJlZS5CcmFuY2hTaGlmdCAqLyArIDEpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvcHkgPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5W2ldID0gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dE5vZGUoY29weSwgdGhpcy5sZW5ndGggLSAodG8gLSBmcm9tKSArIHRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIucmVwbGFjZShwb3MsIGVuZCwgdXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5yZXBsYWNlKGZyb20sIHRvLCB0ZXh0KTtcbiAgICB9XG4gICAgc2xpY2VTdHJpbmcoZnJvbSwgdG8gPSB0aGlzLmxlbmd0aCwgbGluZVNlcCA9IFwiXFxuXCIpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgcG9zIDw9IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IHBvcyArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tICYmIGkpXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IGxpbmVTZXA7XG4gICAgICAgICAgICBpZiAoZnJvbSA8IGVuZCAmJiB0byA+IHBvcylcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gY2hpbGQuc2xpY2VTdHJpbmcoZnJvbSAtIHBvcywgdG8gLSBwb3MsIGxpbmVTZXApO1xuICAgICAgICAgICAgcG9zID0gZW5kICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmbGF0dGVuKHRhcmdldCkge1xuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgY2hpbGQuZmxhdHRlbih0YXJnZXQpO1xuICAgIH1cbiAgICBzY2FuSWRlbnRpY2FsKG90aGVyLCBkaXIpIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBUZXh0Tm9kZSkpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IDA7XG4gICAgICAgIGxldCBbaUEsIGlCLCBlQSwgZUJdID0gZGlyID4gMCA/IFswLCAwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgb3RoZXIuY2hpbGRyZW4ubGVuZ3RoXVxuICAgICAgICAgICAgOiBbdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxLCBvdGhlci5jaGlsZHJlbi5sZW5ndGggLSAxLCAtMSwgLTFdO1xuICAgICAgICBmb3IgKDs7IGlBICs9IGRpciwgaUIgKz0gZGlyKSB7XG4gICAgICAgICAgICBpZiAoaUEgPT0gZUEgfHwgaUIgPT0gZUIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICAgICAgICAgIGxldCBjaEEgPSB0aGlzLmNoaWxkcmVuW2lBXSwgY2hCID0gb3RoZXIuY2hpbGRyZW5baUJdO1xuICAgICAgICAgICAgaWYgKGNoQSAhPSBjaEIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aCArIGNoQS5zY2FuSWRlbnRpY2FsKGNoQiwgZGlyKTtcbiAgICAgICAgICAgIGxlbmd0aCArPSBjaEEubGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZnJvbShjaGlsZHJlbiwgbGVuZ3RoID0gY2hpbGRyZW4ucmVkdWNlKChsLCBjaCkgPT4gbCArIGNoLmxlbmd0aCArIDEsIC0xKSkge1xuICAgICAgICBsZXQgbGluZXMgPSAwO1xuICAgICAgICBmb3IgKGxldCBjaCBvZiBjaGlsZHJlbilcbiAgICAgICAgICAgIGxpbmVzICs9IGNoLmxpbmVzO1xuICAgICAgICBpZiAobGluZXMgPCAzMiAvKiBUcmVlLkJyYW5jaCAqLykge1xuICAgICAgICAgICAgbGV0IGZsYXQgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGNoLmZsYXR0ZW4oZmxhdCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRMZWFmKGZsYXQsIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNodW5rID0gTWF0aC5tYXgoMzIgLyogVHJlZS5CcmFuY2ggKi8sIGxpbmVzID4+IDUgLyogVHJlZS5CcmFuY2hTaGlmdCAqLyksIG1heENodW5rID0gY2h1bmsgPDwgMSwgbWluQ2h1bmsgPSBjaHVuayA+PiAxO1xuICAgICAgICBsZXQgY2h1bmtlZCA9IFtdLCBjdXJyZW50TGluZXMgPSAwLCBjdXJyZW50TGVuID0gLTEsIGN1cnJlbnRDaHVuayA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGQoY2hpbGQpIHtcbiAgICAgICAgICAgIGxldCBsYXN0O1xuICAgICAgICAgICAgaWYgKGNoaWxkLmxpbmVzID4gbWF4Q2h1bmsgJiYgY2hpbGQgaW5zdGFuY2VvZiBUZXh0Tm9kZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgY2hpbGQuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIGFkZChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmxpbmVzID4gbWluQ2h1bmsgJiYgKGN1cnJlbnRMaW5lcyA+IG1pbkNodW5rIHx8ICFjdXJyZW50TGluZXMpKSB7XG4gICAgICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgICAgICAgICBjaHVua2VkLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQgaW5zdGFuY2VvZiBUZXh0TGVhZiAmJiBjdXJyZW50TGluZXMgJiZcbiAgICAgICAgICAgICAgICAobGFzdCA9IGN1cnJlbnRDaHVua1tjdXJyZW50Q2h1bmsubGVuZ3RoIC0gMV0pIGluc3RhbmNlb2YgVGV4dExlYWYgJiZcbiAgICAgICAgICAgICAgICBjaGlsZC5saW5lcyArIGxhc3QubGluZXMgPD0gMzIgLyogVHJlZS5CcmFuY2ggKi8pIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluZXMgKz0gY2hpbGQubGluZXM7XG4gICAgICAgICAgICAgICAgY3VycmVudExlbiArPSBjaGlsZC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRDaHVua1tjdXJyZW50Q2h1bmsubGVuZ3RoIC0gMV0gPSBuZXcgVGV4dExlYWYobGFzdC50ZXh0LmNvbmNhdChjaGlsZC50ZXh0KSwgbGFzdC5sZW5ndGggKyAxICsgY2hpbGQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGluZXMgKyBjaGlsZC5saW5lcyA+IGNodW5rKVxuICAgICAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5lcyArPSBjaGlsZC5saW5lcztcbiAgICAgICAgICAgICAgICBjdXJyZW50TGVuICs9IGNoaWxkLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgY3VycmVudENodW5rLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMaW5lcyA9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNodW5rZWQucHVzaChjdXJyZW50Q2h1bmsubGVuZ3RoID09IDEgPyBjdXJyZW50Q2h1bmtbMF0gOiBUZXh0Tm9kZS5mcm9tKGN1cnJlbnRDaHVuaywgY3VycmVudExlbikpO1xuICAgICAgICAgICAgY3VycmVudExlbiA9IC0xO1xuICAgICAgICAgICAgY3VycmVudExpbmVzID0gY3VycmVudENodW5rLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgY2hpbGRyZW4pXG4gICAgICAgICAgICBhZGQoY2hpbGQpO1xuICAgICAgICBmbHVzaCgpO1xuICAgICAgICByZXR1cm4gY2h1bmtlZC5sZW5ndGggPT0gMSA/IGNodW5rZWRbMF0gOiBuZXcgVGV4dE5vZGUoY2h1bmtlZCwgbGVuZ3RoKTtcbiAgICB9XG59XG5UZXh0LmVtcHR5ID0gLypAX19QVVJFX18qL25ldyBUZXh0TGVhZihbXCJcIl0sIDApO1xuZnVuY3Rpb24gdGV4dExlbmd0aCh0ZXh0KSB7XG4gICAgbGV0IGxlbmd0aCA9IC0xO1xuICAgIGZvciAobGV0IGxpbmUgb2YgdGV4dClcbiAgICAgICAgbGVuZ3RoICs9IGxpbmUubGVuZ3RoICsgMTtcbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuZnVuY3Rpb24gYXBwZW5kVGV4dCh0ZXh0LCB0YXJnZXQsIGZyb20gPSAwLCB0byA9IDFlOSkge1xuICAgIGZvciAobGV0IHBvcyA9IDAsIGkgPSAwLCBmaXJzdCA9IHRydWU7IGkgPCB0ZXh0Lmxlbmd0aCAmJiBwb3MgPD0gdG87IGkrKykge1xuICAgICAgICBsZXQgbGluZSA9IHRleHRbaV0sIGVuZCA9IHBvcyArIGxpbmUubGVuZ3RoO1xuICAgICAgICBpZiAoZW5kID49IGZyb20pIHtcbiAgICAgICAgICAgIGlmIChlbmQgPiB0bylcbiAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zbGljZSgwLCB0byAtIHBvcyk7XG4gICAgICAgICAgICBpZiAocG9zIDwgZnJvbSlcbiAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zbGljZShmcm9tIC0gcG9zKTtcbiAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgIHRhcmdldFt0YXJnZXQubGVuZ3RoIC0gMV0gKz0gbGluZTtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHBvcyA9IGVuZCArIDE7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBzbGljZVRleHQodGV4dCwgZnJvbSwgdG8pIHtcbiAgICByZXR1cm4gYXBwZW5kVGV4dCh0ZXh0LCBbXCJcIl0sIGZyb20sIHRvKTtcbn1cbmNsYXNzIFJhd1RleHRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIGRpciA9IDEpIHtcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxpbmVCcmVhayA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFt0ZXh0XTtcbiAgICAgICAgdGhpcy5vZmZzZXRzID0gW2RpciA+IDAgPyAxIDogKHRleHQgaW5zdGFuY2VvZiBUZXh0TGVhZiA/IHRleHQudGV4dC5sZW5ndGggOiB0ZXh0LmNoaWxkcmVuLmxlbmd0aCkgPDwgMV07XG4gICAgfVxuICAgIG5leHRJbm5lcihza2lwLCBkaXIpIHtcbiAgICAgICAgdGhpcy5kb25lID0gdGhpcy5saW5lQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLm5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBsZXQgdG9wID0gdGhpcy5ub2Rlc1tsYXN0XSwgb2Zmc2V0VmFsdWUgPSB0aGlzLm9mZnNldHNbbGFzdF0sIG9mZnNldCA9IG9mZnNldFZhbHVlID4+IDE7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHRvcCBpbnN0YW5jZW9mIFRleHRMZWFmID8gdG9wLnRleHQubGVuZ3RoIDogdG9wLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gKGRpciA+IDAgPyBzaXplIDogMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpciA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0c1tsYXN0IC0gMV0rKztcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0cy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChvZmZzZXRWYWx1ZSAmIDEpID09IChkaXIgPiAwID8gMCA6IDEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdICs9IGRpcjtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXFxuXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lwLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b3AgaW5zdGFuY2VvZiBUZXh0TGVhZikge1xuICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgc3RyaW5nXG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSB0b3AudGV4dFtvZmZzZXQgKyAoZGlyIDwgMCA/IC0xIDogMCldO1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0c1tsYXN0XSArPSBkaXI7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQubGVuZ3RoID4gTWF0aC5tYXgoMCwgc2tpcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHNraXAgPT0gMCA/IG5leHQgOiBkaXIgPiAwID8gbmV4dC5zbGljZShza2lwKSA6IG5leHQuc2xpY2UoMCwgbmV4dC5sZW5ndGggLSBza2lwKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXAgLT0gbmV4dC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC5jaGlsZHJlbltvZmZzZXQgKyAoZGlyIDwgMCA/IC0xIDogMCldO1xuICAgICAgICAgICAgICAgIGlmIChza2lwID4gbmV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcCAtPSBuZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdICs9IGRpcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXIgPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzW2xhc3RdLS07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzLnB1c2goZGlyID4gMCA/IDEgOiAobmV4dCBpbnN0YW5jZW9mIFRleHRMZWFmID8gbmV4dC50ZXh0Lmxlbmd0aCA6IG5leHQuY2hpbGRyZW4ubGVuZ3RoKSA8PCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV4dChza2lwID0gMCkge1xuICAgICAgICBpZiAoc2tpcCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMubmV4dElubmVyKC1za2lwLCAoLXRoaXMuZGlyKSk7XG4gICAgICAgICAgICBza2lwID0gdGhpcy52YWx1ZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dElubmVyKHNraXAsIHRoaXMuZGlyKTtcbiAgICB9XG59XG5jbGFzcyBQYXJ0aWFsVGV4dEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodGV4dCwgc3RhcnQsIGVuZCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbmV3IFJhd1RleHRDdXJzb3IodGV4dCwgc3RhcnQgPiBlbmQgPyAtMSA6IDEpO1xuICAgICAgICB0aGlzLnBvcyA9IHN0YXJ0ID4gZW5kID8gdGV4dC5sZW5ndGggOiAwO1xuICAgICAgICB0aGlzLmZyb20gPSBNYXRoLm1pbihzdGFydCwgZW5kKTtcbiAgICAgICAgdGhpcy50byA9IE1hdGgubWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICBuZXh0SW5uZXIoc2tpcCwgZGlyKSB7XG4gICAgICAgIGlmIChkaXIgPCAwID8gdGhpcy5wb3MgPD0gdGhpcy5mcm9tIDogdGhpcy5wb3MgPj0gdGhpcy50bykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcCArPSBNYXRoLm1heCgwLCBkaXIgPCAwID8gdGhpcy5wb3MgLSB0aGlzLnRvIDogdGhpcy5mcm9tIC0gdGhpcy5wb3MpO1xuICAgICAgICBsZXQgbGltaXQgPSBkaXIgPCAwID8gdGhpcy5wb3MgLSB0aGlzLmZyb20gOiB0aGlzLnRvIC0gdGhpcy5wb3M7XG4gICAgICAgIGlmIChza2lwID4gbGltaXQpXG4gICAgICAgICAgICBza2lwID0gbGltaXQ7XG4gICAgICAgIGxpbWl0IC09IHNraXA7XG4gICAgICAgIGxldCB7IHZhbHVlIH0gPSB0aGlzLmN1cnNvci5uZXh0KHNraXApO1xuICAgICAgICB0aGlzLnBvcyArPSAodmFsdWUubGVuZ3RoICsgc2tpcCkgKiBkaXI7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZS5sZW5ndGggPD0gbGltaXQgPyB2YWx1ZSA6IGRpciA8IDAgPyB2YWx1ZS5zbGljZSh2YWx1ZS5sZW5ndGggLSBsaW1pdCkgOiB2YWx1ZS5zbGljZSgwLCBsaW1pdCk7XG4gICAgICAgIHRoaXMuZG9uZSA9ICF0aGlzLnZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbmV4dChza2lwID0gMCkge1xuICAgICAgICBpZiAoc2tpcCA8IDApXG4gICAgICAgICAgICBza2lwID0gTWF0aC5tYXgoc2tpcCwgdGhpcy5mcm9tIC0gdGhpcy5wb3MpO1xuICAgICAgICBlbHNlIGlmIChza2lwID4gMClcbiAgICAgICAgICAgIHNraXAgPSBNYXRoLm1pbihza2lwLCB0aGlzLnRvIC0gdGhpcy5wb3MpO1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0SW5uZXIoc2tpcCwgdGhpcy5jdXJzb3IuZGlyKTtcbiAgICB9XG4gICAgZ2V0IGxpbmVCcmVhaygpIHsgcmV0dXJuIHRoaXMuY3Vyc29yLmxpbmVCcmVhayAmJiB0aGlzLnZhbHVlICE9IFwiXCI7IH1cbn1cbmNsYXNzIExpbmVDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGlubmVyKSB7XG4gICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgICAgICAgdGhpcy5hZnRlckJyZWFrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IFwiXCI7XG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgIH1cbiAgICBuZXh0KHNraXAgPSAwKSB7XG4gICAgICAgIGxldCB7IGRvbmUsIGxpbmVCcmVhaywgdmFsdWUgfSA9IHRoaXMuaW5uZXIubmV4dChza2lwKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsaW5lQnJlYWspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFmdGVyQnJlYWspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJCcmVhayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmFmdGVyQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IGxpbmVCcmVhaygpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5pZiAodHlwZW9mIFN5bWJvbCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgVGV4dC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuaXRlcigpOyB9O1xuICAgIFJhd1RleHRDdXJzb3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBQYXJ0aWFsVGV4dEN1cnNvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9XG4gICAgICAgIExpbmVDdXJzb3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xufVxuLyoqXG5UaGlzIHR5cGUgZGVzY3JpYmVzIGEgbGluZSBpbiB0aGUgZG9jdW1lbnQuIEl0IGlzIGNyZWF0ZWRcbm9uLWRlbWFuZCB3aGVuIGxpbmVzIGFyZSBbcXVlcmllZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UZXh0LmxpbmVBdCkuXG4qL1xuY2xhc3MgTGluZSB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIHBvc2l0aW9uIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUgKF9iZWZvcmVfIHRoZSBsaW5lIGJyZWFrLFxuICAgIG9yIGF0IHRoZSBlbmQgb2YgZG9jdW1lbnQgZm9yIHRoZSBsYXN0IGxpbmUpLlxuICAgICovXG4gICAgdG8sIFxuICAgIC8qKlxuICAgIFRoaXMgbGluZSdzIGxpbmUgbnVtYmVyICgxLWJhc2VkKS5cbiAgICAqL1xuICAgIG51bWJlciwgXG4gICAgLyoqXG4gICAgVGhlIGxpbmUncyBjb250ZW50LlxuICAgICovXG4gICAgdGV4dCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMubnVtYmVyID0gbnVtYmVyO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbGVuZ3RoIG9mIHRoZSBsaW5lIChub3QgaW5jbHVkaW5nIGFueSBsaW5lIGJyZWFrIGFmdGVyIGl0KS5cbiAgICAqL1xuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnRvIC0gdGhpcy5mcm9tOyB9XG59XG5cbi8vIENvbXByZXNzZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIEdyYXBoZW1lX0NsdXN0ZXJfQnJlYWs9RXh0ZW5kXG4vLyBpbmZvcm1hdGlvbiBmcm9tXG4vLyBodHRwOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy8xMy4wLjAvdWNkL2F1eGlsaWFyeS9HcmFwaGVtZUJyZWFrUHJvcGVydHkudHh0LlxuLy8gRWFjaCBwYWlyIG9mIGVsZW1lbnRzIHJlcHJlc2VudHMgYSByYW5nZSwgYXMgYW4gb2ZmZXQgZnJvbSB0aGVcbi8vIHByZXZpb3VzIHJhbmdlIGFuZCBhIGxlbmd0aC4gTnVtYmVycyBhcmUgaW4gYmFzZS0zNiwgd2l0aCB0aGUgZW1wdHlcbi8vIHN0cmluZyBiZWluZyBhIHNob3J0aGFuZCBmb3IgMS5cbmxldCBleHRlbmQgPSAvKkBfX1BVUkVfXyovXCJsYywzNCw3biw3LDdiLDE5LCwsLDIsLDIsLCwyMCxiLDFjLGwsZywsMnQsNywyLDYsMiwyLCw0LHosLHUsciwyaixiLDFtLDksOSwsbyw0LCw5LCwzLCw1LDE3LDMsM2IsZiwsdywxaiwsLCw0LDgsNCwsMyw3LGEsMix0LCwxbSwsLCwyLDQsOCwsOSwsYSwyLHEsLDIsMiwxbCwsNCwyLDQsMiwyLDMsMywsdSwyLDMsLGIsMiwxbCwsNCw1LCwyLDQsLGssMixtLDYsLCwxbSwsLDIsLDQsOCwsNywzLGEsMix1LCwxbiwsLCxjLCw5LCwxNCwsMywsMWwsMyw1LDMsLDQsNywyLGIsMix0LCwxbSwsMiwsMiwsMywsNSwyLDcsMixiLDIscywyLDFsLDIsLCwyLDQsOCwsOSwsYSwyLHQsLDIwLCw0LCwyLDMsLCw4LCwyOSwsMiw3LGMsOCwycSwsMiw5LGIsNiwyMiwyLHIsLCwsLCwxaixlLCw1LCwyLDUsYiwsMTAsOSwsMnUsNCwsNiwsMiwyLDIscCwyLDQsMyxnLDQsZCwsMiwyLDYsLGYsLGpqLDMscWEsMyx0LDMsdCwyLHUsMiwxcywyLCw3LDgsLDIsYiw5LCwxOSwzLDNiLDIseSwsM2EsMyw0LDIsOSwsNiwzLDYzLDIsMiwsMW0sLCw3LCwsLCwyLDgsNixhLDIsLDFjLGgsMXIsNCwxYyw3LCwsNSwsMTQsOSxjLDIsdyw0LDIsMiwsMywxaywsLDIsMywsLDMsMW0sOCwyLDIsNDgsMywsZCwsNyw0LCw2LCwzLDIsNWksMW0sLDUsZWssLDVmLHgsMmRhLDMsM3gsLDJvLHcsZmUsNiwyeCwyLG45dyw0LCxhLHcsMiwyOCwyLDdrLCwzLCw0LCxwLDIsNSwsNDcsMixxLGksZCwsMTIsOCxwLGIsMWEsMywxYywsMiw0LDIsMiwxMywsMXYsNiwyLDIsMiwyLGMsLDgsLDFiLCwxZiwsLDMsMiwyLDUsMiwsLDE2LDIsOCwsNm0sLDIsLDQsLGZuNCwsa2gsZyxnLGcsYTYsMixndCwsNmEsLDQ1LDUsMWFlLDMsLDIsNSw0LDE0LDMsNCwsNGwsMixmeCw0LGFyLDIsNDksYiw0dywsMWksZiwxaywzLDFkLDQsMiwyLDF4LDMsMTAsNSwsOCwxcSwsYywyLDFnLDksYSw0LDIsLDJuLDMsMiwsLDIsNiwsNGcsLDMsOCxsLDIsMWwsMiwsLCwsbSwsZSw3LDMsNSw1Ziw4LDIsMywsLG4sLDI5LCwyLDYsLCwyLCwsMiwsMiw2aiwsMiw0LDYsMiwsMixyLDIsMmQsOCwyLCwsMiwyeSwsLCwyLDYsLCwydCwzLDIsNCwsNSw3Nyw5LCwyLDZ0LCxhLDIsLCw0LCw0MCw0LDIsMiw0LCx3LGEsMTQsNiwyLDQsOCwsOSw2LDIsMywxYSxkLCwyLGJhLDcsLDYsLCwyYSxtLDIsNywsMiwsMiwzZSw2LDMsLCwyLCw3LCwsMjAsMiwzLCwsLDluLDIsZjBiLDUsMW4sNyx0NCwsMXIsNCwyOSwsZjVrLDIsNDNxLCwsMyw0LDUsOCw4LDIsNyx1LDQsNDQsMywxaXosMWosNCwxZSw4LCxlLCxtLDUsLGYsMTFzLDcsLGgsMiw3LCwyLCw1LDc5LDcsYzUsNCwxNXMsNywzMSw3LDI0MCw1LGd4N2ssMm8sM2ssNm9cIi5zcGxpdChcIixcIikubWFwKHMgPT4gcyA/IHBhcnNlSW50KHMsIDM2KSA6IDEpO1xuLy8gQ29udmVydCBvZmZzZXRzIGludG8gYWJzb2x1dGUgdmFsdWVzXG5mb3IgKGxldCBpID0gMTsgaSA8IGV4dGVuZC5sZW5ndGg7IGkrKylcbiAgICBleHRlbmRbaV0gKz0gZXh0ZW5kW2kgLSAxXTtcbmZ1bmN0aW9uIGlzRXh0ZW5kaW5nQ2hhcihjb2RlKSB7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBleHRlbmQubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIGlmIChleHRlbmRbaV0gPiBjb2RlKVxuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZFtpIC0gMV0gPD0gY29kZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1JlZ2lvbmFsSW5kaWNhdG9yKGNvZGUpIHtcbiAgICByZXR1cm4gY29kZSA+PSAweDFGMUU2ICYmIGNvZGUgPD0gMHgxRjFGRjtcbn1cbmNvbnN0IFpXSiA9IDB4MjAwZDtcbi8qKlxuUmV0dXJucyBhIG5leHQgZ3JhcGhlbWUgY2x1c3RlciBicmVhayBfYWZ0ZXJfIChub3QgZXF1YWwgdG8pXG5gcG9zYCwgaWYgYGZvcndhcmRgIGlzIHRydWUsIG9yIGJlZm9yZSBvdGhlcndpc2UuIFJldHVybnMgYHBvc2Bcbml0c2VsZiBpZiBubyBmdXJ0aGVyIGNsdXN0ZXIgYnJlYWsgaXMgYXZhaWxhYmxlIGluIHRoZSBzdHJpbmcuXG5Nb3ZlcyBhY3Jvc3Mgc3Vycm9nYXRlIHBhaXJzLCBleHRlbmRpbmcgY2hhcmFjdGVycyAod2hlblxuYGluY2x1ZGVFeHRlbmRpbmdgIGlzIHRydWUpLCBjaGFyYWN0ZXJzIGpvaW5lZCB3aXRoIHplcm8td2lkdGhcbmpvaW5lcnMsIGFuZCBmbGFnIGVtb2ppLlxuKi9cbmZ1bmN0aW9uIGZpbmRDbHVzdGVyQnJlYWsoc3RyLCBwb3MsIGZvcndhcmQgPSB0cnVlLCBpbmNsdWRlRXh0ZW5kaW5nID0gdHJ1ZSkge1xuICAgIHJldHVybiAoZm9yd2FyZCA/IG5leHRDbHVzdGVyQnJlYWsgOiBwcmV2Q2x1c3RlckJyZWFrKShzdHIsIHBvcywgaW5jbHVkZUV4dGVuZGluZyk7XG59XG5mdW5jdGlvbiBuZXh0Q2x1c3RlckJyZWFrKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKSB7XG4gICAgaWYgKHBvcyA9PSBzdHIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIC8vIElmIHBvcyBpcyBpbiB0aGUgbWlkZGxlIG9mIGEgc3Vycm9nYXRlIHBhaXIsIG1vdmUgdG8gaXRzIHN0YXJ0XG4gICAgaWYgKHBvcyAmJiBzdXJyb2dhdGVMb3coc3RyLmNoYXJDb2RlQXQocG9zKSkgJiYgc3Vycm9nYXRlSGlnaChzdHIuY2hhckNvZGVBdChwb3MgLSAxKSkpXG4gICAgICAgIHBvcy0tO1xuICAgIGxldCBwcmV2ID0gY29kZVBvaW50QXQoc3RyLCBwb3MpO1xuICAgIHBvcyArPSBjb2RlUG9pbnRTaXplKHByZXYpO1xuICAgIHdoaWxlIChwb3MgPCBzdHIubGVuZ3RoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gY29kZVBvaW50QXQoc3RyLCBwb3MpO1xuICAgICAgICBpZiAocHJldiA9PSBaV0ogfHwgbmV4dCA9PSBaV0ogfHwgaW5jbHVkZUV4dGVuZGluZyAmJiBpc0V4dGVuZGluZ0NoYXIobmV4dCkpIHtcbiAgICAgICAgICAgIHBvcyArPSBjb2RlUG9pbnRTaXplKG5leHQpO1xuICAgICAgICAgICAgcHJldiA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWdpb25hbEluZGljYXRvcihuZXh0KSkge1xuICAgICAgICAgICAgbGV0IGNvdW50QmVmb3JlID0gMCwgaSA9IHBvcyAtIDI7XG4gICAgICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGlzUmVnaW9uYWxJbmRpY2F0b3IoY29kZVBvaW50QXQoc3RyLCBpKSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudEJlZm9yZSsrO1xuICAgICAgICAgICAgICAgIGkgLT0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb3VudEJlZm9yZSAlIDIgPT0gMClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG59XG5mdW5jdGlvbiBwcmV2Q2x1c3RlckJyZWFrKHN0ciwgcG9zLCBpbmNsdWRlRXh0ZW5kaW5nKSB7XG4gICAgd2hpbGUgKHBvcyA+IDApIHtcbiAgICAgICAgbGV0IGZvdW5kID0gbmV4dENsdXN0ZXJCcmVhayhzdHIsIHBvcyAtIDIsIGluY2x1ZGVFeHRlbmRpbmcpO1xuICAgICAgICBpZiAoZm91bmQgPCBwb3MpXG4gICAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICAgIHBvcy0tO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIHN1cnJvZ2F0ZUxvdyhjaCkgeyByZXR1cm4gY2ggPj0gMHhEQzAwICYmIGNoIDwgMHhFMDAwOyB9XG5mdW5jdGlvbiBzdXJyb2dhdGVIaWdoKGNoKSB7IHJldHVybiBjaCA+PSAweEQ4MDAgJiYgY2ggPCAweERDMDA7IH1cbi8qKlxuRmluZCB0aGUgY29kZSBwb2ludCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gaW4gYSBzdHJpbmcgKGxpa2UgdGhlXG5bYGNvZGVQb2ludEF0YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2NvZGVQb2ludEF0KVxuc3RyaW5nIG1ldGhvZCkuXG4qL1xuZnVuY3Rpb24gY29kZVBvaW50QXQoc3RyLCBwb3MpIHtcbiAgICBsZXQgY29kZTAgPSBzdHIuY2hhckNvZGVBdChwb3MpO1xuICAgIGlmICghc3Vycm9nYXRlSGlnaChjb2RlMCkgfHwgcG9zICsgMSA9PSBzdHIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gY29kZTA7XG4gICAgbGV0IGNvZGUxID0gc3RyLmNoYXJDb2RlQXQocG9zICsgMSk7XG4gICAgaWYgKCFzdXJyb2dhdGVMb3coY29kZTEpKVxuICAgICAgICByZXR1cm4gY29kZTA7XG4gICAgcmV0dXJuICgoY29kZTAgLSAweGQ4MDApIDw8IDEwKSArIChjb2RlMSAtIDB4ZGMwMCkgKyAweDEwMDAwO1xufVxuLyoqXG5HaXZlbiBhIFVuaWNvZGUgY29kZXBvaW50LCByZXR1cm4gdGhlIEphdmFTY3JpcHQgc3RyaW5nIHRoYXRcbnJlc3ByZXNlbnRzIGl0IChsaWtlXG5bYFN0cmluZy5mcm9tQ29kZVBvaW50YF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2Zyb21Db2RlUG9pbnQpKS5cbiovXG5mdW5jdGlvbiBmcm9tQ29kZVBvaW50KGNvZGUpIHtcbiAgICBpZiAoY29kZSA8PSAweGZmZmYpXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpO1xuICAgIGNvZGUgLT0gMHgxMDAwMDtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgoY29kZSA+PiAxMCkgKyAweGQ4MDAsIChjb2RlICYgMTAyMykgKyAweGRjMDApO1xufVxuLyoqXG5UaGUgYW1vdW50IG9mIHBvc2l0aW9ucyBhIGNoYXJhY3RlciB0YWtlcyB1cCBhIEphdmFTY3JpcHQgc3RyaW5nLlxuKi9cbmZ1bmN0aW9uIGNvZGVQb2ludFNpemUoY29kZSkgeyByZXR1cm4gY29kZSA8IDB4MTAwMDAgPyAxIDogMjsgfVxuXG5jb25zdCBEZWZhdWx0U3BsaXQgPSAvXFxyXFxuP3xcXG4vO1xuLyoqXG5EaXN0aW5ndWlzaGVzIGRpZmZlcmVudCB3YXlzIGluIHdoaWNoIHBvc2l0aW9ucyBjYW4gYmUgbWFwcGVkLlxuKi9cbnZhciBNYXBNb2RlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWFwTW9kZSkge1xuICAgIC8qKlxuICAgIE1hcCBhIHBvc2l0aW9uIHRvIGEgdmFsaWQgbmV3IHBvc2l0aW9uLCBldmVuIHdoZW4gaXRzIGNvbnRleHRcbiAgICB3YXMgZGVsZXRlZC5cbiAgICAqL1xuICAgIE1hcE1vZGVbTWFwTW9kZVtcIlNpbXBsZVwiXSA9IDBdID0gXCJTaW1wbGVcIjtcbiAgICAvKipcbiAgICBSZXR1cm4gbnVsbCBpZiBkZWxldGlvbiBoYXBwZW5zIGFjcm9zcyB0aGUgcG9zaXRpb24uXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJUcmFja0RlbFwiXSA9IDFdID0gXCJUcmFja0RlbFwiO1xuICAgIC8qKlxuICAgIFJldHVybiBudWxsIGlmIHRoZSBjaGFyYWN0ZXIgX2JlZm9yZV8gdGhlIHBvc2l0aW9uIGlzIGRlbGV0ZWQuXG4gICAgKi9cbiAgICBNYXBNb2RlW01hcE1vZGVbXCJUcmFja0JlZm9yZVwiXSA9IDJdID0gXCJUcmFja0JlZm9yZVwiO1xuICAgIC8qKlxuICAgIFJldHVybiBudWxsIGlmIHRoZSBjaGFyYWN0ZXIgX2FmdGVyXyB0aGUgcG9zaXRpb24gaXMgZGVsZXRlZC5cbiAgICAqL1xuICAgIE1hcE1vZGVbTWFwTW9kZVtcIlRyYWNrQWZ0ZXJcIl0gPSAzXSA9IFwiVHJhY2tBZnRlclwiO1xucmV0dXJuIE1hcE1vZGV9KShNYXBNb2RlIHx8IChNYXBNb2RlID0ge30pKTtcbi8qKlxuQSBjaGFuZ2UgZGVzY3JpcHRpb24gaXMgYSB2YXJpYW50IG9mIFtjaGFuZ2Ugc2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZVNldClcbnRoYXQgZG9lc24ndCBzdG9yZSB0aGUgaW5zZXJ0ZWQgdGV4dC4gQXMgc3VjaCwgaXQgY2FuJ3QgYmVcbmFwcGxpZWQsIGJ1dCBpcyBjaGVhcGVyIHRvIHN0b3JlIGFuZCBtYW5pcHVsYXRlLlxuKi9cbmNsYXNzIENoYW5nZURlc2Mge1xuICAgIC8vIFNlY3Rpb25zIGFyZSBlbmNvZGVkIGFzIHBhaXJzIG9mIGludGVnZXJzLiBUaGUgZmlyc3QgaXMgdGhlXG4gICAgLy8gbGVuZ3RoIGluIHRoZSBjdXJyZW50IGRvY3VtZW50LCBhbmQgdGhlIHNlY29uZCBpcyAtMSBmb3JcbiAgICAvLyB1bmFmZmVjdGVkIHNlY3Rpb25zLCBhbmQgdGhlIGxlbmd0aCBvZiB0aGUgcmVwbGFjZW1lbnQgY29udGVudFxuICAgIC8vIG90aGVyd2lzZS4gU28gYW4gaW5zZXJ0aW9uIHdvdWxkIGJlICgwLCBuPjApLCBhIGRlbGV0aW9uIChuPjAsXG4gICAgLy8gMCksIGFuZCBhIHJlcGxhY2VtZW50IHR3byBwb3NpdGl2ZSBudW1iZXJzLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzZWN0aW9ucykge1xuICAgICAgICB0aGlzLnNlY3Rpb25zID0gc2VjdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBsZW5ndGggb2YgdGhlIGRvY3VtZW50IGJlZm9yZSB0aGUgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLnNlY3Rpb25zW2ldO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgbGVuZ3RoIG9mIHRoZSBkb2N1bWVudCBhZnRlciB0aGUgY2hhbmdlLlxuICAgICovXG4gICAgZ2V0IG5ld0xlbmd0aCgpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IGlucyA9IHRoaXMuc2VjdGlvbnNbaSArIDFdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IGlucyA8IDAgPyB0aGlzLnNlY3Rpb25zW2ldIDogaW5zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEZhbHNlIHdoZW4gdGhlcmUgYXJlIGFjdHVhbCBjaGFuZ2VzIGluIHRoaXMgc2V0LlxuICAgICovXG4gICAgZ2V0IGVtcHR5KCkgeyByZXR1cm4gdGhpcy5zZWN0aW9ucy5sZW5ndGggPT0gMCB8fCB0aGlzLnNlY3Rpb25zLmxlbmd0aCA9PSAyICYmIHRoaXMuc2VjdGlvbnNbMV0gPCAwOyB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSB1bmNoYW5nZWQgcGFydHMgbGVmdCBieSB0aGVzZSBjaGFuZ2VzLiBgcG9zQWBcbiAgICBwcm92aWRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIHJhbmdlIGluIHRoZSBvbGQgZG9jdW1lbnQsIGBwb3NCYFxuICAgIHRoZSBuZXcgcG9zaXRpb24gaW4gdGhlIGNoYW5nZWQgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBpdGVyR2FwcyhmKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3NBID0gMCwgcG9zQiA9IDA7IGkgPCB0aGlzLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2krK10sIGlucyA9IHRoaXMuc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKSB7XG4gICAgICAgICAgICAgICAgZihwb3NBLCBwb3NCLCBsZW4pO1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gbGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zQiArPSBpbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3NBICs9IGxlbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIHJhbmdlcyBjaGFuZ2VkIGJ5IHRoZXNlIGNoYW5nZXMuIChTZWVcbiAgICBbYENoYW5nZVNldC5pdGVyQ2hhbmdlc2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlU2V0Lml0ZXJDaGFuZ2VzKSBmb3IgYVxuICAgIHZhcmlhbnQgdGhhdCBhbHNvIHByb3ZpZGVzIHlvdSB3aXRoIHRoZSBpbnNlcnRlZCB0ZXh0LilcbiAgICBgZnJvbUFgL2B0b0FgIHByb3ZpZGVzIHRoZSBleHRlbnQgb2YgdGhlIGNoYW5nZSBpbiB0aGUgc3RhcnRpbmdcbiAgICBkb2N1bWVudCwgYGZyb21CYC9gdG9CYCB0aGUgZXh0ZW50IG9mIHRoZSByZXBsYWNlbWVudCBpbiB0aGVcbiAgICBjaGFuZ2VkIGRvY3VtZW50LlxuICAgIFxuICAgIFdoZW4gYGluZGl2aWR1YWxgIGlzIHRydWUsIGFkamFjZW50IGNoYW5nZXMgKHdoaWNoIGFyZSBrZXB0XG4gICAgc2VwYXJhdGUgZm9yIFtwb3NpdGlvbiBtYXBwaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYW5nZURlc2MubWFwUG9zKSkgYXJlXG4gICAgcmVwb3J0ZWQgc2VwYXJhdGVseS5cbiAgICAqL1xuICAgIGl0ZXJDaGFuZ2VkUmFuZ2VzKGYsIGluZGl2aWR1YWwgPSBmYWxzZSkge1xuICAgICAgICBpdGVyQ2hhbmdlcyh0aGlzLCBmLCBpbmRpdmlkdWFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgZGVzY3JpcHRpb24gb2YgdGhlIGludmVydGVkIGZvcm0gb2YgdGhlc2UgY2hhbmdlcy5cbiAgICAqL1xuICAgIGdldCBpbnZlcnRlZERlc2MoKSB7XG4gICAgICAgIGxldCBzZWN0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgaWYgKGlucyA8IDApXG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChsZW4sIGlucyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChpbnMsIGxlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXNjKHNlY3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcHV0ZSB0aGUgY29tYmluZWQgZWZmZWN0IG9mIGFwcGx5aW5nIGFub3RoZXIgc2V0IG9mIGNoYW5nZXNcbiAgICBhZnRlciB0aGlzIG9uZS4gVGhlIGxlbmd0aCBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgdGhpcyBzZXQgc2hvdWxkXG4gICAgbWF0Y2ggdGhlIGxlbmd0aCBiZWZvcmUgYG90aGVyYC5cbiAgICAqL1xuICAgIGNvbXBvc2VEZXNjKG90aGVyKSB7IHJldHVybiB0aGlzLmVtcHR5ID8gb3RoZXIgOiBvdGhlci5lbXB0eSA/IHRoaXMgOiBjb21wb3NlU2V0cyh0aGlzLCBvdGhlcik7IH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyBkZXNjcmlwdGlvbiwgd2hpY2ggc2hvdWxkIHN0YXJ0IHdpdGggdGhlIHNhbWUgZG9jdW1lbnRcbiAgICBhcyBgb3RoZXJgLCBvdmVyIGFub3RoZXIgc2V0IG9mIGNoYW5nZXMsIHNvIHRoYXQgaXQgY2FuIGJlXG4gICAgYXBwbGllZCBhZnRlciBpdC4gV2hlbiBgYmVmb3JlYCBpcyB0cnVlLCBtYXAgYXMgaWYgdGhlIGNoYW5nZXNcbiAgICBpbiBgb3RoZXJgIGhhcHBlbmVkIGJlZm9yZSB0aGUgb25lcyBpbiBgdGhpc2AuXG4gICAgKi9cbiAgICBtYXBEZXNjKG90aGVyLCBiZWZvcmUgPSBmYWxzZSkgeyByZXR1cm4gb3RoZXIuZW1wdHkgPyB0aGlzIDogbWFwU2V0KHRoaXMsIG90aGVyLCBiZWZvcmUpOyB9XG4gICAgbWFwUG9zKHBvcywgYXNzb2MgPSAtMSwgbW9kZSA9IE1hcE1vZGUuU2ltcGxlKSB7XG4gICAgICAgIGxldCBwb3NBID0gMCwgcG9zQiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdGhpcy5zZWN0aW9uc1tpKytdLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2krK10sIGVuZEEgPSBwb3NBICsgbGVuO1xuICAgICAgICAgICAgaWYgKGlucyA8IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5kQSA+IHBvcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0IgKyAocG9zIC0gcG9zQSk7XG4gICAgICAgICAgICAgICAgcG9zQiArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSAhPSBNYXBNb2RlLlNpbXBsZSAmJiBlbmRBID49IHBvcyAmJlxuICAgICAgICAgICAgICAgICAgICAobW9kZSA9PSBNYXBNb2RlLlRyYWNrRGVsICYmIHBvc0EgPCBwb3MgJiYgZW5kQSA+IHBvcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9PSBNYXBNb2RlLlRyYWNrQmVmb3JlICYmIHBvc0EgPCBwb3MgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPT0gTWFwTW9kZS5UcmFja0FmdGVyICYmIGVuZEEgPiBwb3MpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZW5kQSA+IHBvcyB8fCBlbmRBID09IHBvcyAmJiBhc3NvYyA8IDAgJiYgIWxlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcyA9PSBwb3NBIHx8IGFzc29jIDwgMCA/IHBvc0IgOiBwb3NCICsgaW5zO1xuICAgICAgICAgICAgICAgIHBvc0IgKz0gaW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zQSA9IGVuZEE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyA+IHBvc0EpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgUG9zaXRpb24gJHtwb3N9IGlzIG91dCBvZiByYW5nZSBmb3IgY2hhbmdlc2V0IG9mIGxlbmd0aCAke3Bvc0F9YCk7XG4gICAgICAgIHJldHVybiBwb3NCO1xuICAgIH1cbiAgICAvKipcbiAgICBDaGVjayB3aGV0aGVyIHRoZXNlIGNoYW5nZXMgdG91Y2ggYSBnaXZlbiByYW5nZS4gV2hlbiBvbmUgb2YgdGhlXG4gICAgY2hhbmdlcyBlbnRpcmVseSBjb3ZlcnMgdGhlIHJhbmdlLCB0aGUgc3RyaW5nIGBcImNvdmVyXCJgIGlzXG4gICAgcmV0dXJuZWQuXG4gICAgKi9cbiAgICB0b3VjaGVzUmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgdGhpcy5zZWN0aW9ucy5sZW5ndGggJiYgcG9zIDw9IHRvOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdLCBlbmQgPSBwb3MgKyBsZW47XG4gICAgICAgICAgICBpZiAoaW5zID49IDAgJiYgcG9zIDw9IHRvICYmIGVuZCA+PSBmcm9tKVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3MgPCBmcm9tICYmIGVuZCA+IHRvID8gXCJjb3ZlclwiIDogdHJ1ZTtcbiAgICAgICAgICAgIHBvcyA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGxlbiA9IHRoaXMuc2VjdGlvbnNbaSsrXSwgaW5zID0gdGhpcy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgcmVzdWx0ICs9IChyZXN1bHQgPyBcIiBcIiA6IFwiXCIpICsgbGVuICsgKGlucyA+PSAwID8gXCI6XCIgKyBpbnMgOiBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICBTZXJpYWxpemUgdGhpcyBjaGFuZ2UgZGVzYyB0byBhIEpTT04tcmVwcmVzZW50YWJsZSB2YWx1ZS5cbiAgICAqL1xuICAgIHRvSlNPTigpIHsgcmV0dXJuIHRoaXMuc2VjdGlvbnM7IH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjaGFuZ2UgZGVzYyBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIChhcyBwcm9kdWNlZFxuICAgIGJ5IFtgdG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VEZXNjLnRvSlNPTikuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbikgfHwganNvbi5sZW5ndGggJSAyIHx8IGpzb24uc29tZShhID0+IHR5cGVvZiBhICE9IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gb2YgQ2hhbmdlRGVzY1wiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGFuZ2VEZXNjKGpzb24pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoc2VjdGlvbnMpIHsgcmV0dXJuIG5ldyBDaGFuZ2VEZXNjKHNlY3Rpb25zKTsgfVxufVxuLyoqXG5BIGNoYW5nZSBzZXQgcmVwcmVzZW50cyBhIGdyb3VwIG9mIG1vZGlmaWNhdGlvbnMgdG8gYSBkb2N1bWVudC4gSXRcbnN0b3JlcyB0aGUgZG9jdW1lbnQgbGVuZ3RoLCBhbmQgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBkb2N1bWVudHNcbndpdGggZXhhY3RseSB0aGF0IGxlbmd0aC5cbiovXG5jbGFzcyBDaGFuZ2VTZXQgZXh0ZW5kcyBDaGFuZ2VEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN0aW9ucywgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBpbnNlcnRlZCkge1xuICAgICAgICBzdXBlcihzZWN0aW9ucyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0ZWQgPSBpbnNlcnRlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgQXBwbHkgdGhlIGNoYW5nZXMgdG8gYSBkb2N1bWVudCwgcmV0dXJuaW5nIHRoZSBtb2RpZmllZFxuICAgIGRvY3VtZW50LlxuICAgICovXG4gICAgYXBwbHkoZG9jKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPSBkb2MubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBcHBseWluZyBjaGFuZ2Ugc2V0IHRvIGEgZG9jdW1lbnQgd2l0aCB0aGUgd3JvbmcgbGVuZ3RoXCIpO1xuICAgICAgICBpdGVyQ2hhbmdlcyh0aGlzLCAoZnJvbUEsIHRvQSwgZnJvbUIsIF90b0IsIHRleHQpID0+IGRvYyA9IGRvYy5yZXBsYWNlKGZyb21CLCBmcm9tQiArICh0b0EgLSBmcm9tQSksIHRleHQpLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBkb2M7XG4gICAgfVxuICAgIG1hcERlc2Mob3RoZXIsIGJlZm9yZSA9IGZhbHNlKSB7IHJldHVybiBtYXBTZXQodGhpcywgb3RoZXIsIGJlZm9yZSwgdHJ1ZSk7IH1cbiAgICAvKipcbiAgICBHaXZlbiB0aGUgZG9jdW1lbnQgYXMgaXQgZXhpc3RlZCBfYmVmb3JlXyB0aGUgY2hhbmdlcywgcmV0dXJuIGFcbiAgICBjaGFuZ2Ugc2V0IHRoYXQgcmVwcmVzZW50cyB0aGUgaW52ZXJzZSBvZiB0aGlzIHNldCwgd2hpY2ggY291bGRcbiAgICBiZSB1c2VkIHRvIGdvIGZyb20gdGhlIGRvY3VtZW50IGNyZWF0ZWQgYnkgdGhlIGNoYW5nZXMgYmFjayB0b1xuICAgIHRoZSBkb2N1bWVudCBhcyBpdCBleGlzdGVkIGJlZm9yZSB0aGUgY2hhbmdlcy5cbiAgICAqL1xuICAgIGludmVydChkb2MpIHtcbiAgICAgICAgbGV0IHNlY3Rpb25zID0gdGhpcy5zZWN0aW9ucy5zbGljZSgpLCBpbnNlcnRlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gc2VjdGlvbnNbaV0sIGlucyA9IHNlY3Rpb25zW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChpbnMgPj0gMCkge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zW2ldID0gaW5zO1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zW2kgKyAxXSA9IGxlbjtcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBpID4+IDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGluc2VydGVkLmxlbmd0aCA8IGluZGV4KVxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZC5wdXNoKFRleHQuZW1wdHkpO1xuICAgICAgICAgICAgICAgIGluc2VydGVkLnB1c2gobGVuID8gZG9jLnNsaWNlKHBvcywgcG9zICsgbGVuKSA6IFRleHQuZW1wdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zICs9IGxlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21iaW5lIHR3byBzdWJzZXF1ZW50IGNoYW5nZSBzZXRzIGludG8gYSBzaW5nbGUgc2V0LiBgb3RoZXJgXG4gICAgbXVzdCBzdGFydCBpbiB0aGUgZG9jdW1lbnQgcHJvZHVjZWQgYnkgYHRoaXNgLiBJZiBgdGhpc2AgZ29lc1xuICAgIGBkb2NBYCBcdTIxOTIgYGRvY0JgIGFuZCBgb3RoZXJgIHJlcHJlc2VudHMgYGRvY0JgIFx1MjE5MiBgZG9jQ2AsIHRoZVxuICAgIHJldHVybmVkIHZhbHVlIHdpbGwgcmVwcmVzZW50IHRoZSBjaGFuZ2UgYGRvY0FgIFx1MjE5MiBgZG9jQ2AuXG4gICAgKi9cbiAgICBjb21wb3NlKG90aGVyKSB7IHJldHVybiB0aGlzLmVtcHR5ID8gb3RoZXIgOiBvdGhlci5lbXB0eSA/IHRoaXMgOiBjb21wb3NlU2V0cyh0aGlzLCBvdGhlciwgdHJ1ZSk7IH1cbiAgICAvKipcbiAgICBHaXZlbiBhbm90aGVyIGNoYW5nZSBzZXQgc3RhcnRpbmcgaW4gdGhlIHNhbWUgZG9jdW1lbnQsIG1hcHMgdGhpc1xuICAgIGNoYW5nZSBzZXQgb3ZlciB0aGUgb3RoZXIsIHByb2R1Y2luZyBhIG5ldyBjaGFuZ2Ugc2V0IHRoYXQgY2FuIGJlXG4gICAgYXBwbGllZCB0byB0aGUgZG9jdW1lbnQgcHJvZHVjZWQgYnkgYXBwbHlpbmcgYG90aGVyYC4gV2hlblxuICAgIGBiZWZvcmVgIGlzIGB0cnVlYCwgb3JkZXIgY2hhbmdlcyBhcyBpZiBgdGhpc2AgY29tZXMgYmVmb3JlXG4gICAgYG90aGVyYCwgb3RoZXJ3aXNlICh0aGUgZGVmYXVsdCkgdHJlYXQgYG90aGVyYCBhcyBjb21pbmcgZmlyc3QuXG4gICAgXG4gICAgR2l2ZW4gdHdvIGNoYW5nZXMgYEFgIGFuZCBgQmAsIGBBLmNvbXBvc2UoQi5tYXAoQSkpYCBhbmRcbiAgICBgQi5jb21wb3NlKEEubWFwKEIsIHRydWUpKWAgd2lsbCBwcm9kdWNlIHRoZSBzYW1lIGRvY3VtZW50LiBUaGlzXG4gICAgcHJvdmlkZXMgYSBiYXNpYyBmb3JtIG9mIFtvcGVyYXRpb25hbFxuICAgIHRyYW5zZm9ybWF0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9PcGVyYXRpb25hbF90cmFuc2Zvcm1hdGlvbiksXG4gICAgYW5kIGNhbiBiZSB1c2VkIGZvciBjb2xsYWJvcmF0aXZlIGVkaXRpbmcuXG4gICAgKi9cbiAgICBtYXAob3RoZXIsIGJlZm9yZSA9IGZhbHNlKSB7IHJldHVybiBvdGhlci5lbXB0eSA/IHRoaXMgOiBtYXBTZXQodGhpcywgb3RoZXIsIGJlZm9yZSwgdHJ1ZSk7IH1cbiAgICAvKipcbiAgICBJdGVyYXRlIG92ZXIgdGhlIGNoYW5nZWQgcmFuZ2VzIGluIHRoZSBkb2N1bWVudCwgY2FsbGluZyBgZmAgZm9yXG4gICAgZWFjaCwgd2l0aCB0aGUgcmFuZ2UgaW4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IChgZnJvbUFgLWB0b0FgKVxuICAgIGFuZCB0aGUgcmFuZ2UgdGhhdCByZXBsYWNlcyBpdCBpbiB0aGUgbmV3IGRvY3VtZW50XG4gICAgKGBmcm9tQmAtYHRvQmApLlxuICAgIFxuICAgIFdoZW4gYGluZGl2aWR1YWxgIGlzIHRydWUsIGFkamFjZW50IGNoYW5nZXMgYXJlIHJlcG9ydGVkXG4gICAgc2VwYXJhdGVseS5cbiAgICAqL1xuICAgIGl0ZXJDaGFuZ2VzKGYsIGluZGl2aWR1YWwgPSBmYWxzZSkge1xuICAgICAgICBpdGVyQ2hhbmdlcyh0aGlzLCBmLCBpbmRpdmlkdWFsKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IGEgW2NoYW5nZSBkZXNjcmlwdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VEZXNjKSBmb3IgdGhpcyBjaGFuZ2VcbiAgICBzZXQuXG4gICAgKi9cbiAgICBnZXQgZGVzYygpIHsgcmV0dXJuIENoYW5nZURlc2MuY3JlYXRlKHRoaXMuc2VjdGlvbnMpOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmaWx0ZXIocmFuZ2VzKSB7XG4gICAgICAgIGxldCByZXN1bHRTZWN0aW9ucyA9IFtdLCByZXN1bHRJbnNlcnRlZCA9IFtdLCBmaWx0ZXJlZFNlY3Rpb25zID0gW107XG4gICAgICAgIGxldCBpdGVyID0gbmV3IFNlY3Rpb25JdGVyKHRoaXMpO1xuICAgICAgICBkb25lOiBmb3IgKGxldCBpID0gMCwgcG9zID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IGkgPT0gcmFuZ2VzLmxlbmd0aCA/IDFlOSA6IHJhbmdlc1tpKytdO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IG5leHQgfHwgcG9zID09IG5leHQgJiYgaXRlci5sZW4gPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyLmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGRvbmU7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IE1hdGgubWluKGl0ZXIubGVuLCBuZXh0IC0gcG9zKTtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKGZpbHRlcmVkU2VjdGlvbnMsIGxlbiwgLTEpO1xuICAgICAgICAgICAgICAgIGxldCBpbnMgPSBpdGVyLmlucyA9PSAtMSA/IC0xIDogaXRlci5vZmYgPT0gMCA/IGl0ZXIuaW5zIDogMDtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHJlc3VsdFNlY3Rpb25zLCBsZW4sIGlucyk7XG4gICAgICAgICAgICAgICAgaWYgKGlucyA+IDApXG4gICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChyZXN1bHRJbnNlcnRlZCwgcmVzdWx0U2VjdGlvbnMsIGl0ZXIudGV4dCk7XG4gICAgICAgICAgICAgICAgaXRlci5mb3J3YXJkKGxlbik7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlbmQgPSByYW5nZXNbaSsrXTtcbiAgICAgICAgICAgIHdoaWxlIChwb3MgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlci5kb25lKVxuICAgICAgICAgICAgICAgICAgICBicmVhayBkb25lO1xuICAgICAgICAgICAgICAgIGxldCBsZW4gPSBNYXRoLm1pbihpdGVyLmxlbiwgZW5kIC0gcG9zKTtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHJlc3VsdFNlY3Rpb25zLCBsZW4sIC0xKTtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKGZpbHRlcmVkU2VjdGlvbnMsIGxlbiwgaXRlci5pbnMgPT0gLTEgPyAtMSA6IGl0ZXIub2ZmID09IDAgPyBpdGVyLmlucyA6IDApO1xuICAgICAgICAgICAgICAgIGl0ZXIuZm9yd2FyZChsZW4pO1xuICAgICAgICAgICAgICAgIHBvcyArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogbmV3IENoYW5nZVNldChyZXN1bHRTZWN0aW9ucywgcmVzdWx0SW5zZXJ0ZWQpLFxuICAgICAgICAgICAgZmlsdGVyZWQ6IENoYW5nZURlc2MuY3JlYXRlKGZpbHRlcmVkU2VjdGlvbnMpIH07XG4gICAgfVxuICAgIC8qKlxuICAgIFNlcmlhbGl6ZSB0aGlzIGNoYW5nZSBzZXQgdG8gYSBKU09OLXJlcHJlc2VudGFibGUgdmFsdWUuXG4gICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VjdGlvbnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0aGlzLnNlY3Rpb25zW2ldLCBpbnMgPSB0aGlzLnNlY3Rpb25zW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChpbnMgPCAwKVxuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gobGVuKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlucyA9PSAwKVxuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goW2xlbl0pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goW2xlbl0uY29uY2F0KHRoaXMuaW5zZXJ0ZWRbaSA+PiAxXS50b0pTT04oKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY2hhbmdlIHNldCBmb3IgdGhlIGdpdmVuIGNoYW5nZXMsIGZvciBhIGRvY3VtZW50IG9mIHRoZVxuICAgIGdpdmVuIGxlbmd0aCwgdXNpbmcgYGxpbmVTZXBgIGFzIGxpbmUgc2VwYXJhdG9yLlxuICAgICovXG4gICAgc3RhdGljIG9mKGNoYW5nZXMsIGxlbmd0aCwgbGluZVNlcCkge1xuICAgICAgICBsZXQgc2VjdGlvbnMgPSBbXSwgaW5zZXJ0ZWQgPSBbXSwgcG9zID0gMDtcbiAgICAgICAgbGV0IHRvdGFsID0gbnVsbDtcbiAgICAgICAgZnVuY3Rpb24gZmx1c2goZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKCFmb3JjZSAmJiAhc2VjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChwb3MgPCBsZW5ndGgpXG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuZ3RoIC0gcG9zLCAtMSk7XG4gICAgICAgICAgICBsZXQgc2V0ID0gbmV3IENoYW5nZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpO1xuICAgICAgICAgICAgdG90YWwgPSB0b3RhbCA/IHRvdGFsLmNvbXBvc2Uoc2V0Lm1hcCh0b3RhbCkpIDogc2V0O1xuICAgICAgICAgICAgc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGluc2VydGVkID0gW107XG4gICAgICAgICAgICBwb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3Moc3BlYykge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3BlYykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWIgb2Ygc3BlYylcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzcyhzdWIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3BlYyBpbnN0YW5jZW9mIENoYW5nZVNldCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGVjLmxlbmd0aCAhPSBsZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBNaXNtYXRjaGVkIGNoYW5nZSBzZXQgbGVuZ3RoIChnb3QgJHtzcGVjLmxlbmd0aH0sIGV4cGVjdGVkICR7bGVuZ3RofSlgKTtcbiAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwgPyB0b3RhbC5jb21wb3NlKHNwZWMubWFwKHRvdGFsKSkgOiBzcGVjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgZnJvbSwgdG8gPSBmcm9tLCBpbnNlcnQgfSA9IHNwZWM7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPiB0byB8fCBmcm9tIDwgMCB8fCB0byA+IGxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgY2hhbmdlIHJhbmdlICR7ZnJvbX0gdG8gJHt0b30gKGluIGRvYyBvZiBsZW5ndGggJHtsZW5ndGh9KWApO1xuICAgICAgICAgICAgICAgIGxldCBpbnNUZXh0ID0gIWluc2VydCA/IFRleHQuZW1wdHkgOiB0eXBlb2YgaW5zZXJ0ID09IFwic3RyaW5nXCIgPyBUZXh0Lm9mKGluc2VydC5zcGxpdChsaW5lU2VwIHx8IERlZmF1bHRTcGxpdCkpIDogaW5zZXJ0O1xuICAgICAgICAgICAgICAgIGxldCBpbnNMZW4gPSBpbnNUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSA9PSB0byAmJiBpbnNMZW4gPT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tIDwgcG9zKVxuICAgICAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBmcm9tIC0gcG9zLCAtMSk7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgdG8gLSBmcm9tLCBpbnNMZW4pO1xuICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnRlZCwgc2VjdGlvbnMsIGluc1RleHQpO1xuICAgICAgICAgICAgICAgIHBvcyA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3MoY2hhbmdlcyk7XG4gICAgICAgIGZsdXNoKCF0b3RhbCk7XG4gICAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGVtcHR5IGNoYW5nZXNldCBvZiB0aGUgZ2l2ZW4gbGVuZ3RoLlxuICAgICovXG4gICAgc3RhdGljIGVtcHR5KGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVNldChsZW5ndGggPyBbbGVuZ3RoLCAtMV0gOiBbXSwgW10pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBjaGFuZ2VzZXQgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbiAoYXMgcHJvZHVjZWQgYnlcbiAgICBbYHRvSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ2hhbmdlU2V0LnRvSlNPTikuXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoanNvbikpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBDaGFuZ2VTZXRcIik7XG4gICAgICAgIGxldCBzZWN0aW9ucyA9IFtdLCBpbnNlcnRlZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwYXJ0ID0ganNvbltpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGFydCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbnMucHVzaChwYXJ0LCAtMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShwYXJ0KSB8fCB0eXBlb2YgcGFydFswXSAhPSBcIm51bWJlclwiIHx8IHBhcnQuc29tZSgoZSwgaSkgPT4gaSAmJiB0eXBlb2YgZSAhPSBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIENoYW5nZVNldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcnQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9ucy5wdXNoKHBhcnRbMF0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGluc2VydGVkLmxlbmd0aCA8IGkpXG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkLnB1c2goVGV4dC5lbXB0eSk7XG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWRbaV0gPSBUZXh0Lm9mKHBhcnQuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgIHNlY3Rpb25zLnB1c2gocGFydFswXSwgaW5zZXJ0ZWRbaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENoYW5nZVNldChzZWN0aW9ucywgaW5zZXJ0ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVTZXQoc2VjdGlvbnMsIGluc2VydGVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbmdlU2V0KHNlY3Rpb25zLCBpbnNlcnRlZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuLCBpbnMsIGZvcmNlSm9pbiA9IGZhbHNlKSB7XG4gICAgaWYgKGxlbiA9PSAwICYmIGlucyA8PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGxhc3QgPSBzZWN0aW9ucy5sZW5ndGggLSAyO1xuICAgIGlmIChsYXN0ID49IDAgJiYgaW5zIDw9IDAgJiYgaW5zID09IHNlY3Rpb25zW2xhc3QgKyAxXSlcbiAgICAgICAgc2VjdGlvbnNbbGFzdF0gKz0gbGVuO1xuICAgIGVsc2UgaWYgKGxlbiA9PSAwICYmIHNlY3Rpb25zW2xhc3RdID09IDApXG4gICAgICAgIHNlY3Rpb25zW2xhc3QgKyAxXSArPSBpbnM7XG4gICAgZWxzZSBpZiAoZm9yY2VKb2luKSB7XG4gICAgICAgIHNlY3Rpb25zW2xhc3RdICs9IGxlbjtcbiAgICAgICAgc2VjdGlvbnNbbGFzdCArIDFdICs9IGlucztcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICBzZWN0aW9ucy5wdXNoKGxlbiwgaW5zKTtcbn1cbmZ1bmN0aW9uIGFkZEluc2VydCh2YWx1ZXMsIHNlY3Rpb25zLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBpbmRleCA9IChzZWN0aW9ucy5sZW5ndGggLSAyKSA+PiAxO1xuICAgIGlmIChpbmRleCA8IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXSA9IHZhbHVlc1t2YWx1ZXMubGVuZ3RoIC0gMV0uYXBwZW5kKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdoaWxlICh2YWx1ZXMubGVuZ3RoIDwgaW5kZXgpXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChUZXh0LmVtcHR5KTtcbiAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGl0ZXJDaGFuZ2VzKGRlc2MsIGYsIGluZGl2aWR1YWwpIHtcbiAgICBsZXQgaW5zZXJ0ZWQgPSBkZXNjLmluc2VydGVkO1xuICAgIGZvciAobGV0IHBvc0EgPSAwLCBwb3NCID0gMCwgaSA9IDA7IGkgPCBkZXNjLnNlY3Rpb25zLmxlbmd0aDspIHtcbiAgICAgICAgbGV0IGxlbiA9IGRlc2Muc2VjdGlvbnNbaSsrXSwgaW5zID0gZGVzYy5zZWN0aW9uc1tpKytdO1xuICAgICAgICBpZiAoaW5zIDwgMCkge1xuICAgICAgICAgICAgcG9zQSArPSBsZW47XG4gICAgICAgICAgICBwb3NCICs9IGxlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBlbmRBID0gcG9zQSwgZW5kQiA9IHBvc0IsIHRleHQgPSBUZXh0LmVtcHR5O1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGVuZEEgKz0gbGVuO1xuICAgICAgICAgICAgICAgIGVuZEIgKz0gaW5zO1xuICAgICAgICAgICAgICAgIGlmIChpbnMgJiYgaW5zZXJ0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LmFwcGVuZChpbnNlcnRlZFsoaSAtIDIpID4+IDFdKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kaXZpZHVhbCB8fCBpID09IGRlc2Muc2VjdGlvbnMubGVuZ3RoIHx8IGRlc2Muc2VjdGlvbnNbaSArIDFdIDwgMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgbGVuID0gZGVzYy5zZWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgICAgIGlucyA9IGRlc2Muc2VjdGlvbnNbaSsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGYocG9zQSwgZW5kQSwgcG9zQiwgZW5kQiwgdGV4dCk7XG4gICAgICAgICAgICBwb3NBID0gZW5kQTtcbiAgICAgICAgICAgIHBvc0IgPSBlbmRCO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwU2V0KHNldEEsIHNldEIsIGJlZm9yZSwgbWtTZXQgPSBmYWxzZSkge1xuICAgIC8vIFByb2R1Y2UgYSBjb3B5IG9mIHNldEEgdGhhdCBhcHBsaWVzIHRvIHRoZSBkb2N1bWVudCBhZnRlciBzZXRCXG4gICAgLy8gaGFzIGJlZW4gYXBwbGllZCAoYXNzdW1pbmcgYm90aCBzdGFydCBhdCB0aGUgc2FtZSBkb2N1bWVudCkuXG4gICAgbGV0IHNlY3Rpb25zID0gW10sIGluc2VydCA9IG1rU2V0ID8gW10gOiBudWxsO1xuICAgIGxldCBhID0gbmV3IFNlY3Rpb25JdGVyKHNldEEpLCBiID0gbmV3IFNlY3Rpb25JdGVyKHNldEIpO1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBib3RoIHNldHMgaW4gcGFyYWxsZWwuIGluc2VydGVkIHRyYWNrcywgZm9yIGNoYW5nZXNcbiAgICAvLyBpbiBBIHRoYXQgaGF2ZSB0byBiZSBwcm9jZXNzZWQgcGllY2UtYnktcGllY2UsIHdoZXRoZXIgdGhlaXJcbiAgICAvLyBjb250ZW50IGhhcyBiZWVuIGluc2VydGVkIGFscmVhZHksIGFuZCByZWZlcnMgdG8gdGhlIHNlY3Rpb25cbiAgICAvLyBpbmRleC5cbiAgICBmb3IgKGxldCBpbnNlcnRlZCA9IC0xOzspIHtcbiAgICAgICAgaWYgKGEuaW5zID09IC0xICYmIGIuaW5zID09IC0xKSB7XG4gICAgICAgICAgICAvLyBNb3ZlIGFjcm9zcyByYW5nZXMgc2tpcHBlZCBieSBib3RoIHNldHMuXG4gICAgICAgICAgICBsZXQgbGVuID0gTWF0aC5taW4oYS5sZW4sIGIubGVuKTtcbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGxlbiwgLTEpO1xuICAgICAgICAgICAgYS5mb3J3YXJkKGxlbik7XG4gICAgICAgICAgICBiLmZvcndhcmQobGVuKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiLmlucyA+PSAwICYmIChhLmlucyA8IDAgfHwgaW5zZXJ0ZWQgPT0gYS5pIHx8IGEub2ZmID09IDAgJiYgKGIubGVuIDwgYS5sZW4gfHwgYi5sZW4gPT0gYS5sZW4gJiYgIWJlZm9yZSkpKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgY2hhbmdlIGluIEIgdGhhdCBjb21lcyBiZWZvcmUgdGhlIG5leHQgY2hhbmdlIGluXG4gICAgICAgICAgICAvLyBBIChvcmRlcmVkIGJ5IHN0YXJ0IHBvcywgdGhlbiBsZW4sIHRoZW4gYmVmb3JlIGZsYWcpLCBza2lwXG4gICAgICAgICAgICAvLyB0aGF0IChhbmQgcHJvY2VzcyBhbnkgY2hhbmdlcyBpbiBBIGl0IGNvdmVycykuXG4gICAgICAgICAgICBsZXQgbGVuID0gYi5sZW47XG4gICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBiLmlucywgLTEpO1xuICAgICAgICAgICAgd2hpbGUgKGxlbikge1xuICAgICAgICAgICAgICAgIGxldCBwaWVjZSA9IE1hdGgubWluKGEubGVuLCBsZW4pO1xuICAgICAgICAgICAgICAgIGlmIChhLmlucyA+PSAwICYmIGluc2VydGVkIDwgYS5pICYmIGEubGVuIDw9IHBpZWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIDAsIGEuaW5zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydClcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBhLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZCA9IGEuaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYS5mb3J3YXJkKHBpZWNlKTtcbiAgICAgICAgICAgICAgICBsZW4gLT0gcGllY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhLmlucyA+PSAwKSB7XG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBwYXJ0IG9mIGEgY2hhbmdlIGluIEEgdXAgdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0XG4gICAgICAgICAgICAvLyBub24tZGVsZXRpb24gY2hhbmdlIGluIEIgKGlmIG92ZXJsYXBwaW5nKS5cbiAgICAgICAgICAgIGxldCBsZW4gPSAwLCBsZWZ0ID0gYS5sZW47XG4gICAgICAgICAgICB3aGlsZSAobGVmdCkge1xuICAgICAgICAgICAgICAgIGlmIChiLmlucyA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGllY2UgPSBNYXRoLm1pbihsZWZ0LCBiLmxlbik7XG4gICAgICAgICAgICAgICAgICAgIGxlbiArPSBwaWVjZTtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAtPSBwaWVjZTtcbiAgICAgICAgICAgICAgICAgICAgYi5mb3J3YXJkKHBpZWNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYi5pbnMgPT0gMCAmJiBiLmxlbiA8IGxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCAtPSBiLmxlbjtcbiAgICAgICAgICAgICAgICAgICAgYi5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBsZW4sIGluc2VydGVkIDwgYS5pID8gYS5pbnMgOiAwKTtcbiAgICAgICAgICAgIGlmIChpbnNlcnQgJiYgaW5zZXJ0ZWQgPCBhLmkpXG4gICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGEudGV4dCk7XG4gICAgICAgICAgICBpbnNlcnRlZCA9IGEuaTtcbiAgICAgICAgICAgIGEuZm9yd2FyZChhLmxlbiAtIGxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuZG9uZSAmJiBiLmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnNlcnQgPyBDaGFuZ2VTZXQuY3JlYXRlU2V0KHNlY3Rpb25zLCBpbnNlcnQpIDogQ2hhbmdlRGVzYy5jcmVhdGUoc2VjdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzbWF0Y2hlZCBjaGFuZ2Ugc2V0IGxlbmd0aHNcIik7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21wb3NlU2V0cyhzZXRBLCBzZXRCLCBta1NldCA9IGZhbHNlKSB7XG4gICAgbGV0IHNlY3Rpb25zID0gW107XG4gICAgbGV0IGluc2VydCA9IG1rU2V0ID8gW10gOiBudWxsO1xuICAgIGxldCBhID0gbmV3IFNlY3Rpb25JdGVyKHNldEEpLCBiID0gbmV3IFNlY3Rpb25JdGVyKHNldEIpO1xuICAgIGZvciAobGV0IG9wZW4gPSBmYWxzZTs7KSB7XG4gICAgICAgIGlmIChhLmRvbmUgJiYgYi5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zZXJ0ID8gQ2hhbmdlU2V0LmNyZWF0ZVNldChzZWN0aW9ucywgaW5zZXJ0KSA6IENoYW5nZURlc2MuY3JlYXRlKHNlY3Rpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhLmlucyA9PSAwKSB7IC8vIERlbGV0aW9uIGluIEFcbiAgICAgICAgICAgIGFkZFNlY3Rpb24oc2VjdGlvbnMsIGEubGVuLCAwLCBvcGVuKTtcbiAgICAgICAgICAgIGEubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIubGVuID09IDAgJiYgIWIuZG9uZSkgeyAvLyBJbnNlcnRpb24gaW4gQlxuICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgMCwgYi5pbnMsIG9wZW4pO1xuICAgICAgICAgICAgaWYgKGluc2VydClcbiAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYi50ZXh0KTtcbiAgICAgICAgICAgIGIubmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGEuZG9uZSB8fCBiLmRvbmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc21hdGNoZWQgY2hhbmdlIHNldCBsZW5ndGhzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGxlbiA9IE1hdGgubWluKGEubGVuMiwgYi5sZW4pLCBzZWN0aW9uTGVuID0gc2VjdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGEuaW5zID09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluc0IgPSBiLmlucyA9PSAtMSA/IC0xIDogYi5vZmYgPyAwIDogYi5pbnM7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgbGVuLCBpbnNCLCBvcGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0ICYmIGluc0IpXG4gICAgICAgICAgICAgICAgICAgIGFkZEluc2VydChpbnNlcnQsIHNlY3Rpb25zLCBiLnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYi5pbnMgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBhZGRTZWN0aW9uKHNlY3Rpb25zLCBhLm9mZiA/IDAgOiBhLmxlbiwgbGVuLCBvcGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0KVxuICAgICAgICAgICAgICAgICAgICBhZGRJbnNlcnQoaW5zZXJ0LCBzZWN0aW9ucywgYS50ZXh0Qml0KGxlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkU2VjdGlvbihzZWN0aW9ucywgYS5vZmYgPyAwIDogYS5sZW4sIGIub2ZmID8gMCA6IGIuaW5zLCBvcGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0ICYmICFiLm9mZilcbiAgICAgICAgICAgICAgICAgICAgYWRkSW5zZXJ0KGluc2VydCwgc2VjdGlvbnMsIGIudGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcGVuID0gKGEuaW5zID4gbGVuIHx8IGIuaW5zID49IDAgJiYgYi5sZW4gPiBsZW4pICYmIChvcGVuIHx8IHNlY3Rpb25zLmxlbmd0aCA+IHNlY3Rpb25MZW4pO1xuICAgICAgICAgICAgYS5mb3J3YXJkMihsZW4pO1xuICAgICAgICAgICAgYi5mb3J3YXJkKGxlbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBTZWN0aW9uSXRlciB7XG4gICAgY29uc3RydWN0b3Ioc2V0KSB7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgICAgICB0aGlzLmkgPSAwO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgbGV0IHsgc2VjdGlvbnMgfSA9IHRoaXMuc2V0O1xuICAgICAgICBpZiAodGhpcy5pIDwgc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmxlbiA9IHNlY3Rpb25zW3RoaXMuaSsrXTtcbiAgICAgICAgICAgIHRoaXMuaW5zID0gc2VjdGlvbnNbdGhpcy5pKytdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sZW4gPSAwO1xuICAgICAgICAgICAgdGhpcy5pbnMgPSAtMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9mZiA9IDA7XG4gICAgfVxuICAgIGdldCBkb25lKCkgeyByZXR1cm4gdGhpcy5pbnMgPT0gLTI7IH1cbiAgICBnZXQgbGVuMigpIHsgcmV0dXJuIHRoaXMuaW5zIDwgMCA/IHRoaXMubGVuIDogdGhpcy5pbnM7IH1cbiAgICBnZXQgdGV4dCgpIHtcbiAgICAgICAgbGV0IHsgaW5zZXJ0ZWQgfSA9IHRoaXMuc2V0LCBpbmRleCA9ICh0aGlzLmkgLSAyKSA+PiAxO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gaW5zZXJ0ZWQubGVuZ3RoID8gVGV4dC5lbXB0eSA6IGluc2VydGVkW2luZGV4XTtcbiAgICB9XG4gICAgdGV4dEJpdChsZW4pIHtcbiAgICAgICAgbGV0IHsgaW5zZXJ0ZWQgfSA9IHRoaXMuc2V0LCBpbmRleCA9ICh0aGlzLmkgLSAyKSA+PiAxO1xuICAgICAgICByZXR1cm4gaW5kZXggPj0gaW5zZXJ0ZWQubGVuZ3RoICYmICFsZW4gPyBUZXh0LmVtcHR5XG4gICAgICAgICAgICA6IGluc2VydGVkW2luZGV4XS5zbGljZSh0aGlzLm9mZiwgbGVuID09IG51bGwgPyB1bmRlZmluZWQgOiB0aGlzLm9mZiArIGxlbik7XG4gICAgfVxuICAgIGZvcndhcmQobGVuKSB7XG4gICAgICAgIGlmIChsZW4gPT0gdGhpcy5sZW4pXG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxlbiAtPSBsZW47XG4gICAgICAgICAgICB0aGlzLm9mZiArPSBsZW47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yd2FyZDIobGVuKSB7XG4gICAgICAgIGlmICh0aGlzLmlucyA9PSAtMSlcbiAgICAgICAgICAgIHRoaXMuZm9yd2FyZChsZW4pO1xuICAgICAgICBlbHNlIGlmIChsZW4gPT0gdGhpcy5pbnMpXG4gICAgICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmlucyAtPSBsZW47XG4gICAgICAgICAgICB0aGlzLm9mZiArPSBsZW47XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuQSBzaW5nbGUgc2VsZWN0aW9uIHJhbmdlLiBXaGVuXG5bYGFsbG93TXVsdGlwbGVTZWxlY3Rpb25zYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5hbGxvd011bHRpcGxlU2VsZWN0aW9ucylcbmlzIGVuYWJsZWQsIGEgW3NlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTZWxlY3Rpb24pIG1heSBob2xkXG5tdWx0aXBsZSByYW5nZXMuIEJ5IGRlZmF1bHQsIHNlbGVjdGlvbnMgaG9sZCBleGFjdGx5IG9uZSByYW5nZS5cbiovXG5jbGFzcyBTZWxlY3Rpb25SYW5nZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGxvd2VyIGJvdW5kYXJ5IG9mIHRoZSByYW5nZS5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSB1cHBlciBib3VuZGFyeSBvZiB0aGUgcmFuZ2UuXG4gICAgKi9cbiAgICB0bywgZmxhZ3MpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBhbmNob3Igb2YgdGhlIHJhbmdlXHUyMDE0dGhlIHNpZGUgdGhhdCBkb2Vzbid0IG1vdmUgd2hlbiB5b3VcbiAgICBleHRlbmQgaXQuXG4gICAgKi9cbiAgICBnZXQgYW5jaG9yKCkgeyByZXR1cm4gdGhpcy5mbGFncyAmIDE2IC8qIFJhbmdlRmxhZy5JbnZlcnRlZCAqLyA/IHRoaXMudG8gOiB0aGlzLmZyb207IH1cbiAgICAvKipcbiAgICBUaGUgaGVhZCBvZiB0aGUgcmFuZ2UsIHdoaWNoIGlzIG1vdmVkIHdoZW4gdGhlIHJhbmdlIGlzXG4gICAgW2V4dGVuZGVkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNlbGVjdGlvblJhbmdlLmV4dGVuZCkuXG4gICAgKi9cbiAgICBnZXQgaGVhZCgpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgJiAxNiAvKiBSYW5nZUZsYWcuSW52ZXJ0ZWQgKi8gPyB0aGlzLmZyb20gOiB0aGlzLnRvOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSB3aGVuIGBhbmNob3JgIGFuZCBgaGVhZGAgYXJlIGF0IHRoZSBzYW1lIHBvc2l0aW9uLlxuICAgICovXG4gICAgZ2V0IGVtcHR5KCkgeyByZXR1cm4gdGhpcy5mcm9tID09IHRoaXMudG87IH1cbiAgICAvKipcbiAgICBJZiB0aGlzIGlzIGEgY3Vyc29yIHRoYXQgaXMgZXhwbGljaXRseSBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgY2hhcmFjdGVyIG9uIG9uZSBvZiBpdHMgc2lkZXMsIHRoaXMgcmV0dXJucyB0aGUgc2lkZS4gLTEgbWVhbnNcbiAgICB0aGUgY2hhcmFjdGVyIGJlZm9yZSBpdHMgcG9zaXRpb24sIDEgdGhlIGNoYXJhY3RlciBhZnRlciwgYW5kIDBcbiAgICBtZWFucyBubyBhc3NvY2lhdGlvbi5cbiAgICAqL1xuICAgIGdldCBhc3NvYygpIHsgcmV0dXJuIHRoaXMuZmxhZ3MgJiA0IC8qIFJhbmdlRmxhZy5Bc3NvY0JlZm9yZSAqLyA/IC0xIDogdGhpcy5mbGFncyAmIDggLyogUmFuZ2VGbGFnLkFzc29jQWZ0ZXIgKi8gPyAxIDogMDsgfVxuICAgIC8qKlxuICAgIFRoZSBiaWRpcmVjdGlvbmFsIHRleHQgbGV2ZWwgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY3Vyc29yLCBpZlxuICAgIGFueS5cbiAgICAqL1xuICAgIGdldCBiaWRpTGV2ZWwoKSB7XG4gICAgICAgIGxldCBsZXZlbCA9IHRoaXMuZmxhZ3MgJiAzIC8qIFJhbmdlRmxhZy5CaWRpTGV2ZWxNYXNrICovO1xuICAgICAgICByZXR1cm4gbGV2ZWwgPT0gMyA/IG51bGwgOiBsZXZlbDtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGdvYWwgY29sdW1uIChzdG9yZWQgdmVydGljYWwgb2Zmc2V0KSBhc3NvY2lhdGVkIHdpdGggYVxuICAgIGN1cnNvci4gVGhpcyBpcyB1c2VkIHRvIHByZXNlcnZlIHRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB3aGVuXG4gICAgW21vdmluZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZVZlcnRpY2FsbHkpIGFjcm9zc1xuICAgIGxpbmVzIG9mIGRpZmZlcmVudCBsZW5ndGguXG4gICAgKi9cbiAgICBnZXQgZ29hbENvbHVtbigpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5mbGFncyA+PiA1IC8qIFJhbmdlRmxhZy5Hb2FsQ29sdW1uT2Zmc2V0ICovO1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gMzM1NTQ0MzEgLyogUmFuZ2VGbGFnLk5vR29hbENvbHVtbiAqLyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhpcyByYW5nZSB0aHJvdWdoIGEgY2hhbmdlLCBwcm9kdWNpbmcgYSB2YWxpZCByYW5nZSBpbiB0aGVcbiAgICB1cGRhdGVkIGRvY3VtZW50LlxuICAgICovXG4gICAgbWFwKGNoYW5nZSwgYXNzb2MgPSAtMSkge1xuICAgICAgICBsZXQgZnJvbSwgdG87XG4gICAgICAgIGlmICh0aGlzLmVtcHR5KSB7XG4gICAgICAgICAgICBmcm9tID0gdG8gPSBjaGFuZ2UubWFwUG9zKHRoaXMuZnJvbSwgYXNzb2MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IGNoYW5nZS5tYXBQb3ModGhpcy5mcm9tLCAxKTtcbiAgICAgICAgICAgIHRvID0gY2hhbmdlLm1hcFBvcyh0aGlzLnRvLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdGhpcy5mcm9tICYmIHRvID09IHRoaXMudG8gPyB0aGlzIDogbmV3IFNlbGVjdGlvblJhbmdlKGZyb20sIHRvLCB0aGlzLmZsYWdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRXh0ZW5kIHRoaXMgcmFuZ2UgdG8gY292ZXIgYXQgbGVhc3QgYGZyb21gIHRvIGB0b2AuXG4gICAgKi9cbiAgICBleHRlbmQoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tIDw9IHRoaXMuYW5jaG9yICYmIHRvID49IHRoaXMuYW5jaG9yKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgICAgIGxldCBoZWFkID0gTWF0aC5hYnMoZnJvbSAtIHRoaXMuYW5jaG9yKSA+IE1hdGguYWJzKHRvIC0gdGhpcy5hbmNob3IpID8gZnJvbSA6IHRvO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHRoaXMuYW5jaG9yLCBoZWFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHJhbmdlIHRvIGFub3RoZXIgcmFuZ2UuXG4gICAgKi9cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmNob3IgPT0gb3RoZXIuYW5jaG9yICYmIHRoaXMuaGVhZCA9PSBvdGhlci5oZWFkO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gYSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByYW5nZS5cbiAgICAqL1xuICAgIHRvSlNPTigpIHsgcmV0dXJuIHsgYW5jaG9yOiB0aGlzLmFuY2hvciwgaGVhZDogdGhpcy5oZWFkIH07IH1cbiAgICAvKipcbiAgICBDb252ZXJ0IGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhIHJhbmdlIHRvIGEgYFNlbGVjdGlvblJhbmdlYFxuICAgIGluc3RhbmNlLlxuICAgICovXG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgaWYgKCFqc29uIHx8IHR5cGVvZiBqc29uLmFuY2hvciAhPSBcIm51bWJlclwiIHx8IHR5cGVvZiBqc29uLmhlYWQgIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBTZWxlY3Rpb25SYW5nZVwiKTtcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShqc29uLmFuY2hvciwganNvbi5oZWFkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGZyb20sIHRvLCBmbGFncykge1xuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvblJhbmdlKGZyb20sIHRvLCBmbGFncyk7XG4gICAgfVxufVxuLyoqXG5BbiBlZGl0b3Igc2VsZWN0aW9uIGhvbGRzIG9uZSBvciBtb3JlIHNlbGVjdGlvbiByYW5nZXMuXG4qL1xuY2xhc3MgRWRpdG9yU2VsZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcmFuZ2VzIGluIHRoZSBzZWxlY3Rpb24sIHNvcnRlZCBieSBwb3NpdGlvbi4gUmFuZ2VzIGNhbm5vdFxuICAgIG92ZXJsYXAgKGJ1dCB0aGV5IG1heSB0b3VjaCwgaWYgdGhleSBhcmVuJ3QgZW1wdHkpLlxuICAgICovXG4gICAgcmFuZ2VzLCBcbiAgICAvKipcbiAgICBUaGUgaW5kZXggb2YgdGhlIF9tYWluXyByYW5nZSBpbiB0aGUgc2VsZWN0aW9uICh3aGljaCBpc1xuICAgIHVzdWFsbHkgdGhlIHJhbmdlIHRoYXQgd2FzIGFkZGVkIGxhc3QpLlxuICAgICovXG4gICAgbWFpbkluZGV4KSB7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLm1haW5JbmRleCA9IG1haW5JbmRleDtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIGEgc2VsZWN0aW9uIHRocm91Z2ggYSBjaGFuZ2UuIFVzZWQgdG8gYWRqdXN0IHRoZSBzZWxlY3Rpb25cbiAgICBwb3NpdGlvbiBmb3IgY2hhbmdlcy5cbiAgICAqL1xuICAgIG1hcChjaGFuZ2UsIGFzc29jID0gLTEpIHtcbiAgICAgICAgaWYgKGNoYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZSh0aGlzLnJhbmdlcy5tYXAociA9PiByLm1hcChjaGFuZ2UsIGFzc29jKSksIHRoaXMubWFpbkluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIHNlbGVjdGlvbiB0byBhbm90aGVyIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnJhbmdlcy5sZW5ndGggIT0gb3RoZXIucmFuZ2VzLmxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy5tYWluSW5kZXggIT0gb3RoZXIubWFpbkluZGV4KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJhbmdlc1tpXS5lcShvdGhlci5yYW5nZXNbaV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gcmFuZ2UuIFVzdWFsbHksIHlvdSBzaG91bGQgbWFrZSBzdXJlXG4gICAgeW91ciBjb2RlIGFwcGxpZXMgdG8gX2FsbF8gcmFuZ2VzLCBieSB1c2luZyBtZXRob2RzIGxpa2VcbiAgICBbYGNoYW5nZUJ5UmFuZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYW5nZUJ5UmFuZ2UpLlxuICAgICovXG4gICAgZ2V0IG1haW4oKSB7IHJldHVybiB0aGlzLnJhbmdlc1t0aGlzLm1haW5JbmRleF07IH1cbiAgICAvKipcbiAgICBNYWtlIHN1cmUgdGhlIHNlbGVjdGlvbiBvbmx5IGhhcyBvbmUgcmFuZ2UuIFJldHVybnMgYSBzZWxlY3Rpb25cbiAgICBob2xkaW5nIG9ubHkgdGhlIG1haW4gcmFuZ2UgZnJvbSB0aGlzIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIGFzU2luZ2xlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYW5nZXMubGVuZ3RoID09IDEgPyB0aGlzIDogbmV3IEVkaXRvclNlbGVjdGlvbihbdGhpcy5tYWluXSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEV4dGVuZCB0aGlzIHNlbGVjdGlvbiB3aXRoIGFuIGV4dHJhIHJhbmdlLlxuICAgICovXG4gICAgYWRkUmFuZ2UocmFuZ2UsIG1haW4gPSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKFtyYW5nZV0uY29uY2F0KHRoaXMucmFuZ2VzKSwgbWFpbiA/IDAgOiB0aGlzLm1haW5JbmRleCArIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXBsYWNlIGEgZ2l2ZW4gcmFuZ2Ugd2l0aCBhbm90aGVyIHJhbmdlLCBhbmQgdGhlbiBub3JtYWxpemUgdGhlXG4gICAgc2VsZWN0aW9uIHRvIG1lcmdlIGFuZCBzb3J0IHJhbmdlcyBpZiBuZWNlc3NhcnkuXG4gICAgKi9cbiAgICByZXBsYWNlUmFuZ2UocmFuZ2UsIHdoaWNoID0gdGhpcy5tYWluSW5kZXgpIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMucmFuZ2VzLnNsaWNlKCk7XG4gICAgICAgIHJhbmdlc1t3aGljaF0gPSByYW5nZTtcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLCB0aGlzLm1haW5JbmRleCk7XG4gICAgfVxuICAgIC8qKlxuICAgIENvbnZlcnQgdGhpcyBzZWxlY3Rpb24gdG8gYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHNlcmlhbGl6ZWQgdG9cbiAgICBKU09OLlxuICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4geyByYW5nZXM6IHRoaXMucmFuZ2VzLm1hcChyID0+IHIudG9KU09OKCkpLCBtYWluOiB0aGlzLm1haW5JbmRleCB9O1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZWxlY3Rpb24gZnJvbSBhIEpTT04gcmVwcmVzZW50YXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBpZiAoIWpzb24gfHwgIUFycmF5LmlzQXJyYXkoanNvbi5yYW5nZXMpIHx8IHR5cGVvZiBqc29uLm1haW4gIT0gXCJudW1iZXJcIiB8fCBqc29uLm1haW4gPj0ganNvbi5yYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIEVkaXRvclNlbGVjdGlvblwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0b3JTZWxlY3Rpb24oanNvbi5yYW5nZXMubWFwKChyKSA9PiBTZWxlY3Rpb25SYW5nZS5mcm9tSlNPTihyKSksIGpzb24ubWFpbik7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNlbGVjdGlvbiBob2xkaW5nIGEgc2luZ2xlIHJhbmdlLlxuICAgICovXG4gICAgc3RhdGljIHNpbmdsZShhbmNob3IsIGhlYWQgPSBhbmNob3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0b3JTZWxlY3Rpb24oW0VkaXRvclNlbGVjdGlvbi5yYW5nZShhbmNob3IsIGhlYWQpXSwgMCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNvcnQgYW5kIG1lcmdlIHRoZSBnaXZlbiBzZXQgb2YgcmFuZ2VzLCBjcmVhdGluZyBhIHZhbGlkXG4gICAgc2VsZWN0aW9uLlxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShyYW5nZXMsIG1haW5JbmRleCA9IDApIHtcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQSBzZWxlY3Rpb24gbmVlZHMgYXQgbGVhc3Qgb25lIHJhbmdlXCIpO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSAwLCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmVtcHR5ID8gcmFuZ2UuZnJvbSA8PSBwb3MgOiByYW5nZS5mcm9tIDwgcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ubm9ybWFsaXplZChyYW5nZXMuc2xpY2UoKSwgbWFpbkluZGV4KTtcbiAgICAgICAgICAgIHBvcyA9IHJhbmdlLnRvO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRWRpdG9yU2VsZWN0aW9uKHJhbmdlcywgbWFpbkluZGV4KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgY3Vyc29yIHNlbGVjdGlvbiByYW5nZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uIFlvdSBjYW5cbiAgICBzYWZlbHkgaWdub3JlIHRoZSBvcHRpb25hbCBhcmd1bWVudHMgaW4gbW9zdCBzaXR1YXRpb25zLlxuICAgICovXG4gICAgc3RhdGljIGN1cnNvcihwb3MsIGFzc29jID0gMCwgYmlkaUxldmVsLCBnb2FsQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiBTZWxlY3Rpb25SYW5nZS5jcmVhdGUocG9zLCBwb3MsIChhc3NvYyA9PSAwID8gMCA6IGFzc29jIDwgMCA/IDQgLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovIDogOCAvKiBSYW5nZUZsYWcuQXNzb2NBZnRlciAqLykgfFxuICAgICAgICAgICAgKGJpZGlMZXZlbCA9PSBudWxsID8gMyA6IE1hdGgubWluKDIsIGJpZGlMZXZlbCkpIHxcbiAgICAgICAgICAgICgoZ29hbENvbHVtbiAhPT0gbnVsbCAmJiBnb2FsQ29sdW1uICE9PSB2b2lkIDAgPyBnb2FsQ29sdW1uIDogMzM1NTQ0MzEgLyogUmFuZ2VGbGFnLk5vR29hbENvbHVtbiAqLykgPDwgNSAvKiBSYW5nZUZsYWcuR29hbENvbHVtbk9mZnNldCAqLykpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBzZWxlY3Rpb24gcmFuZ2UuXG4gICAgKi9cbiAgICBzdGF0aWMgcmFuZ2UoYW5jaG9yLCBoZWFkLCBnb2FsQ29sdW1uKSB7XG4gICAgICAgIGxldCBnb2FsID0gKGdvYWxDb2x1bW4gIT09IG51bGwgJiYgZ29hbENvbHVtbiAhPT0gdm9pZCAwID8gZ29hbENvbHVtbiA6IDMzNTU0NDMxIC8qIFJhbmdlRmxhZy5Ob0dvYWxDb2x1bW4gKi8pIDw8IDUgLyogUmFuZ2VGbGFnLkdvYWxDb2x1bW5PZmZzZXQgKi87XG4gICAgICAgIHJldHVybiBoZWFkIDwgYW5jaG9yID8gU2VsZWN0aW9uUmFuZ2UuY3JlYXRlKGhlYWQsIGFuY2hvciwgMTYgLyogUmFuZ2VGbGFnLkludmVydGVkICovIHwgZ29hbCB8IDggLyogUmFuZ2VGbGFnLkFzc29jQWZ0ZXIgKi8pXG4gICAgICAgICAgICA6IFNlbGVjdGlvblJhbmdlLmNyZWF0ZShhbmNob3IsIGhlYWQsIGdvYWwgfCAoaGVhZCA+IGFuY2hvciA/IDQgLyogUmFuZ2VGbGFnLkFzc29jQmVmb3JlICovIDogMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBub3JtYWxpemVkKHJhbmdlcywgbWFpbkluZGV4ID0gMCkge1xuICAgICAgICBsZXQgbWFpbiA9IHJhbmdlc1ttYWluSW5kZXhdO1xuICAgICAgICByYW5nZXMuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcbiAgICAgICAgbWFpbkluZGV4ID0gcmFuZ2VzLmluZGV4T2YobWFpbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSByYW5nZXNbaV0sIHByZXYgPSByYW5nZXNbaSAtIDFdO1xuICAgICAgICAgICAgaWYgKHJhbmdlLmVtcHR5ID8gcmFuZ2UuZnJvbSA8PSBwcmV2LnRvIDogcmFuZ2UuZnJvbSA8IHByZXYudG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHByZXYuZnJvbSwgdG8gPSBNYXRoLm1heChyYW5nZS50bywgcHJldi50byk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPD0gbWFpbkluZGV4KVxuICAgICAgICAgICAgICAgICAgICBtYWluSW5kZXgtLTtcbiAgICAgICAgICAgICAgICByYW5nZXMuc3BsaWNlKC0taSwgMiwgcmFuZ2UuYW5jaG9yID4gcmFuZ2UuaGVhZCA/IEVkaXRvclNlbGVjdGlvbi5yYW5nZSh0bywgZnJvbSkgOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoZnJvbSwgdG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVkaXRvclNlbGVjdGlvbihyYW5nZXMsIG1haW5JbmRleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tTZWxlY3Rpb24oc2VsZWN0aW9uLCBkb2NMZW5ndGgpIHtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzZWxlY3Rpb24ucmFuZ2VzKVxuICAgICAgICBpZiAocmFuZ2UudG8gPiBkb2NMZW5ndGgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlNlbGVjdGlvbiBwb2ludHMgb3V0c2lkZSBvZiBkb2N1bWVudFwiKTtcbn1cblxubGV0IG5leHRJRCA9IDA7XG4vKipcbkEgZmFjZXQgaXMgYSBsYWJlbGVkIHZhbHVlIHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIGFuIGVkaXRvclxuc3RhdGUuIEl0IHRha2VzIGlucHV0cyBmcm9tIGFueSBudW1iZXIgb2YgZXh0ZW5zaW9ucywgYW5kIGNvbWJpbmVzXG50aG9zZSBpbnRvIGEgc2luZ2xlIG91dHB1dCB2YWx1ZS5cblxuRXhhbXBsZXMgb2YgdXNlcyBvZiBmYWNldHMgYXJlIHRoZSBbdGFiXG5zaXplXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnRhYlNpemUpLCBbZWRpdG9yXG5hdHRyaWJ1dGVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15lZGl0b3JBdHRyaWJ1dGVzKSwgYW5kIFt1cGRhdGVcbmxpc3RlbmVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdedXBkYXRlTGlzdGVuZXIpLlxuKi9cbmNsYXNzIEZhY2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbWJpbmUsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZUlucHV0LCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbXBhcmUsIGlzU3RhdGljLCBlbmFibGVzKSB7XG4gICAgICAgIHRoaXMuY29tYmluZSA9IGNvbWJpbmU7XG4gICAgICAgIHRoaXMuY29tcGFyZUlucHV0ID0gY29tcGFyZUlucHV0O1xuICAgICAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlO1xuICAgICAgICB0aGlzLmlzU3RhdGljID0gaXNTdGF0aWM7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBjb21iaW5lKFtdKTtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gdHlwZW9mIGVuYWJsZXMgPT0gXCJmdW5jdGlvblwiID8gZW5hYmxlcyh0aGlzKSA6IGVuYWJsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIG5ldyBmYWNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoY29uZmlnID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldChjb25maWcuY29tYmluZSB8fCAoKGEpID0+IGEpLCBjb25maWcuY29tcGFyZUlucHV0IHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZy5jb21wYXJlIHx8ICghY29uZmlnLmNvbWJpbmUgPyBzYW1lQXJyYXkgOiAoYSwgYikgPT4gYSA9PT0gYiksICEhY29uZmlnLnN0YXRpYywgY29uZmlnLmVuYWJsZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGFkZHMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoaXMgZmFjZXQuXG4gICAgKi9cbiAgICBvZih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZhY2V0UHJvdmlkZXIoW10sIHRoaXMsIDAgLyogUHJvdmlkZXIuU3RhdGljICovLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBjb21wdXRlcyBhIHZhbHVlIGZvciB0aGUgZmFjZXQgZnJvbSBhXG4gICAgc3RhdGUuIFlvdSBtdXN0IHRha2UgY2FyZSB0byBkZWNsYXJlIHRoZSBwYXJ0cyBvZiB0aGUgc3RhdGUgdGhhdFxuICAgIHRoaXMgdmFsdWUgZGVwZW5kcyBvbiwgc2luY2UgeW91ciBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBhZ2FpblxuICAgIGZvciBhIG5ldyBzdGF0ZSB3aGVuIG9uZSBvZiB0aG9zZSBwYXJ0cyBjaGFuZ2VkLlxuICAgIFxuICAgIEluIGNhc2VzIHdoZXJlIHlvdXIgdmFsdWUgZGVwZW5kcyBvbmx5IG9uIGEgc2luZ2xlIGZpZWxkLCB5b3UnbGxcbiAgICB3YW50IHRvIHVzZSB0aGUgW2Bmcm9tYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldC5mcm9tKSBtZXRob2QgaW5zdGVhZC5cbiAgICAqL1xuICAgIGNvbXB1dGUoZGVwcywgZ2V0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGljKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29tcHV0ZSBhIHN0YXRpYyBmYWNldFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGYWNldFByb3ZpZGVyKGRlcHMsIHRoaXMsIDEgLyogUHJvdmlkZXIuU2luZ2xlICovLCBnZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgY29tcHV0ZXMgemVybyBvciBtb3JlIHZhbHVlcyBmb3IgdGhpc1xuICAgIGZhY2V0IGZyb20gYSBzdGF0ZS5cbiAgICAqL1xuICAgIGNvbXB1dGVOKGRlcHMsIGdldCkge1xuICAgICAgICBpZiAodGhpcy5pc1N0YXRpYylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbXB1dGUgYSBzdGF0aWMgZmFjZXRcIik7XG4gICAgICAgIHJldHVybiBuZXcgRmFjZXRQcm92aWRlcihkZXBzLCB0aGlzLCAyIC8qIFByb3ZpZGVyLk11bHRpICovLCBnZXQpO1xuICAgIH1cbiAgICBmcm9tKGZpZWxkLCBnZXQpIHtcbiAgICAgICAgaWYgKCFnZXQpXG4gICAgICAgICAgICBnZXQgPSB4ID0+IHg7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGUoW2ZpZWxkXSwgc3RhdGUgPT4gZ2V0KHN0YXRlLmZpZWxkKGZpZWxkKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KChlLCBpKSA9PiBlID09PSBiW2ldKTtcbn1cbmNsYXNzIEZhY2V0UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRlcGVuZGVuY2llcywgZmFjZXQsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICAgICAgICB0aGlzLmZhY2V0ID0gZmFjZXQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pZCA9IG5leHRJRCsrO1xuICAgIH1cbiAgICBkeW5hbWljU2xvdChhZGRyZXNzZXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgZ2V0dGVyID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IGNvbXBhcmUgPSB0aGlzLmZhY2V0LmNvbXBhcmVJbnB1dDtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5pZCwgaWR4ID0gYWRkcmVzc2VzW2lkXSA+PiAxLCBtdWx0aSA9IHRoaXMudHlwZSA9PSAyIC8qIFByb3ZpZGVyLk11bHRpICovO1xuICAgICAgICBsZXQgZGVwRG9jID0gZmFsc2UsIGRlcFNlbCA9IGZhbHNlLCBkZXBBZGRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkZXAgb2YgdGhpcy5kZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGlmIChkZXAgPT0gXCJkb2NcIilcbiAgICAgICAgICAgICAgICBkZXBEb2MgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAoZGVwID09IFwic2VsZWN0aW9uXCIpXG4gICAgICAgICAgICAgICAgZGVwU2VsID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCgoKF9hID0gYWRkcmVzc2VzW2RlcC5pZF0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEpICYgMSkgPT0gMClcbiAgICAgICAgICAgICAgICBkZXBBZGRycy5wdXNoKGFkZHJlc3Nlc1tkZXAuaWRdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3JlYXRlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGUoc3RhdGUsIHRyKSB7XG4gICAgICAgICAgICAgICAgaWYgKChkZXBEb2MgJiYgdHIuZG9jQ2hhbmdlZCkgfHwgKGRlcFNlbCAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pKSB8fCBlbnN1cmVBbGwoc3RhdGUsIGRlcEFkZHJzKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsID0gZ2V0dGVyKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG11bHRpID8gIWNvbXBhcmVBcnJheShuZXdWYWwsIHN0YXRlLnZhbHVlc1tpZHhdLCBjb21wYXJlKSA6ICFjb21wYXJlKG5ld1ZhbCwgc3RhdGUudmFsdWVzW2lkeF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWNvbmZpZ3VyZTogKHN0YXRlLCBvbGRTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWwsIG9sZEFkZHIgPSBvbGRTdGF0ZS5jb25maWcuYWRkcmVzc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKG9sZEFkZHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkVmFsID0gZ2V0QWRkcihvbGRTdGF0ZSwgb2xkQWRkcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcGVuZGVuY2llcy5ldmVyeShkZXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcCBpbnN0YW5jZW9mIEZhY2V0ID8gb2xkU3RhdGUuZmFjZXQoZGVwKSA9PT0gc3RhdGUuZmFjZXQoZGVwKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwIGluc3RhbmNlb2YgU3RhdGVGaWVsZCA/IG9sZFN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpID09IHN0YXRlLmZpZWxkKGRlcCwgZmFsc2UpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHwgKG11bHRpID8gY29tcGFyZUFycmF5KG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCwgY29tcGFyZSkgOiBjb21wYXJlKG5ld1ZhbCA9IGdldHRlcihzdGF0ZSksIG9sZFZhbCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdWYWwgPSBnZXR0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG5ld1ZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBTbG90U3RhdHVzLkNoYW5nZWQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZUFycmF5KGEsIGIsIGNvbXBhcmUpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghY29tcGFyZShhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFsbChzdGF0ZSwgYWRkcnMpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGFkZHIgb2YgYWRkcnMpXG4gICAgICAgIGlmIChlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKSAmIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBkeW5hbWljRmFjZXRTbG90KGFkZHJlc3NlcywgZmFjZXQsIHByb3ZpZGVycykge1xuICAgIGxldCBwcm92aWRlckFkZHJzID0gcHJvdmlkZXJzLm1hcChwID0+IGFkZHJlc3Nlc1twLmlkXSk7XG4gICAgbGV0IHByb3ZpZGVyVHlwZXMgPSBwcm92aWRlcnMubWFwKHAgPT4gcC50eXBlKTtcbiAgICBsZXQgZHluYW1pYyA9IHByb3ZpZGVyQWRkcnMuZmlsdGVyKHAgPT4gIShwICYgMSkpO1xuICAgIGxldCBpZHggPSBhZGRyZXNzZXNbZmFjZXQuaWRdID4+IDE7XG4gICAgZnVuY3Rpb24gZ2V0KHN0YXRlKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm92aWRlckFkZHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBnZXRBZGRyKHN0YXRlLCBwcm92aWRlckFkZHJzW2ldKTtcbiAgICAgICAgICAgIGlmIChwcm92aWRlclR5cGVzW2ldID09IDIgLyogUHJvdmlkZXIuTXVsdGkgKi8pXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsIG9mIHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZXQuY29tYmluZSh2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGFkZHIgb2YgcHJvdmlkZXJBZGRycylcbiAgICAgICAgICAgICAgICBlbnN1cmVBZGRyKHN0YXRlLCBhZGRyKTtcbiAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlKHN0YXRlLCB0cikge1xuICAgICAgICAgICAgaWYgKCFlbnN1cmVBbGwoc3RhdGUsIGR5bmFtaWMpKVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBzdGF0ZS52YWx1ZXNbaWR4XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICB9LFxuICAgICAgICByZWNvbmZpZ3VyZShzdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBkZXBDaGFuZ2VkID0gZW5zdXJlQWxsKHN0YXRlLCBwcm92aWRlckFkZHJzKTtcbiAgICAgICAgICAgIGxldCBvbGRQcm92aWRlcnMgPSBvbGRTdGF0ZS5jb25maWcuZmFjZXRzW2ZhY2V0LmlkXSwgb2xkVmFsdWUgPSBvbGRTdGF0ZS5mYWNldChmYWNldCk7XG4gICAgICAgICAgICBpZiAob2xkUHJvdmlkZXJzICYmICFkZXBDaGFuZ2VkICYmIHNhbWVBcnJheShwcm92aWRlcnMsIG9sZFByb3ZpZGVycykpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZ2V0KHN0YXRlKTtcbiAgICAgICAgICAgIGlmIChmYWNldC5jb21wYXJlKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS52YWx1ZXNbaWR4XSA9IG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBpbml0RmllbGQgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgc3RhdGljOiB0cnVlIH0pO1xuLyoqXG5GaWVsZHMgY2FuIHN0b3JlIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gaW4gYW4gZWRpdG9yIHN0YXRlLCBhbmRcbmtlZXAgaXQgaW4gc3luYyB3aXRoIHRoZSByZXN0IG9mIHRoZSBzdGF0ZS5cbiovXG5jbGFzcyBTdGF0ZUZpZWxkIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGlkLCBjcmVhdGVGLCB1cGRhdGVGLCBjb21wYXJlRiwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzcGVjKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jcmVhdGVGID0gY3JlYXRlRjtcbiAgICAgICAgdGhpcy51cGRhdGVGID0gdXBkYXRlRjtcbiAgICAgICAgdGhpcy5jb21wYXJlRiA9IGNvbXBhcmVGO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMucHJvdmlkZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHN0YXRlIGZpZWxkLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjb25maWcpIHtcbiAgICAgICAgbGV0IGZpZWxkID0gbmV3IFN0YXRlRmllbGQobmV4dElEKyssIGNvbmZpZy5jcmVhdGUsIGNvbmZpZy51cGRhdGUsIGNvbmZpZy5jb21wYXJlIHx8ICgoYSwgYikgPT4gYSA9PT0gYiksIGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcucHJvdmlkZSlcbiAgICAgICAgICAgIGZpZWxkLnByb3ZpZGVzID0gY29uZmlnLnByb3ZpZGUoZmllbGQpO1xuICAgICAgICByZXR1cm4gZmllbGQ7XG4gICAgfVxuICAgIGNyZWF0ZShzdGF0ZSkge1xuICAgICAgICBsZXQgaW5pdCA9IHN0YXRlLmZhY2V0KGluaXRGaWVsZCkuZmluZChpID0+IGkuZmllbGQgPT0gdGhpcyk7XG4gICAgICAgIHJldHVybiAoKGluaXQgPT09IG51bGwgfHwgaW5pdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdC5jcmVhdGUpIHx8IHRoaXMuY3JlYXRlRikoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNsb3QoYWRkcmVzc2VzKSB7XG4gICAgICAgIGxldCBpZHggPSBhZGRyZXNzZXNbdGhpcy5pZF0gPj4gMTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0ZTogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSB0aGlzLmNyZWF0ZShzdGF0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogKHN0YXRlLCB0cikgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBvbGRWYWwgPSBzdGF0ZS52YWx1ZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnVwZGF0ZUYob2xkVmFsLCB0cik7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyZUYob2xkVmFsLCB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogU2xvdFN0YXR1cy5DaGFuZ2VkICovO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlY29uZmlndXJlOiAoc3RhdGUsIG9sZFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9sZFN0YXRlLmNvbmZpZy5hZGRyZXNzW3RoaXMuaWRdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudmFsdWVzW2lkeF0gPSBvbGRTdGF0ZS5maWVsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlLnZhbHVlc1tpZHhdID0gdGhpcy5jcmVhdGUoc3RhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFNsb3RTdGF0dXMuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIHRoaXMgZmllbGQgYW5kIG92ZXJyaWRlcyB0aGVcbiAgICB3YXkgaXQgaXMgaW5pdGlhbGl6ZWQuIENhbiBiZSB1c2VmdWwgd2hlbiB5b3UgbmVlZCB0byBwcm92aWRlIGFcbiAgICBub24tZGVmYXVsdCBzdGFydGluZyB2YWx1ZSBmb3IgdGhlIGZpZWxkLlxuICAgICovXG4gICAgaW5pdChjcmVhdGUpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLCBpbml0RmllbGQub2YoeyBmaWVsZDogdGhpcywgY3JlYXRlIH0pXTtcbiAgICB9XG4gICAgLyoqXG4gICAgU3RhdGUgZmllbGQgaW5zdGFuY2VzIGNhbiBiZSB1c2VkIGFzXG4gICAgW2BFeHRlbnNpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkV4dGVuc2lvbikgdmFsdWVzIHRvIGVuYWJsZSB0aGUgZmllbGQgaW4gYVxuICAgIGdpdmVuIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IGV4dGVuc2lvbigpIHsgcmV0dXJuIHRoaXM7IH1cbn1cbmNvbnN0IFByZWNfID0geyBsb3dlc3Q6IDQsIGxvdzogMywgZGVmYXVsdDogMiwgaGlnaDogMSwgaGlnaGVzdDogMCB9O1xuZnVuY3Rpb24gcHJlYyh2YWx1ZSkge1xuICAgIHJldHVybiAoZXh0KSA9PiBuZXcgUHJlY0V4dGVuc2lvbihleHQsIHZhbHVlKTtcbn1cbi8qKlxuQnkgZGVmYXVsdCBleHRlbnNpb25zIGFyZSByZWdpc3RlcmVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBmb3VuZFxuaW4gdGhlIGZsYXR0ZW5lZCBmb3JtIG9mIG5lc3RlZCBhcnJheSB0aGF0IHdhcyBwcm92aWRlZC5cbkluZGl2aWR1YWwgZXh0ZW5zaW9uIHZhbHVlcyBjYW4gYmUgYXNzaWduZWQgYSBwcmVjZWRlbmNlIHRvXG5vdmVycmlkZSB0aGlzLiBFeHRlbnNpb25zIHRoYXQgZG8gbm90IGhhdmUgYSBwcmVjZWRlbmNlIHNldCBnZXRcbnRoZSBwcmVjZWRlbmNlIG9mIHRoZSBuZWFyZXN0IHBhcmVudCB3aXRoIGEgcHJlY2VkZW5jZSwgb3JcbltgZGVmYXVsdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUHJlYy5kZWZhdWx0KSBpZiB0aGVyZSBpcyBubyBzdWNoIHBhcmVudC4gVGhlXG5maW5hbCBvcmRlcmluZyBvZiBleHRlbnNpb25zIGlzIGRldGVybWluZWQgYnkgZmlyc3Qgc29ydGluZyBieVxucHJlY2VkZW5jZSBhbmQgdGhlbiBieSBvcmRlciB3aXRoaW4gZWFjaCBwcmVjZWRlbmNlLlxuKi9cbmNvbnN0IFByZWMgPSB7XG4gICAgLyoqXG4gICAgVGhlIGhpZ2hlc3QgcHJlY2VkZW5jZSBsZXZlbCwgZm9yIGV4dGVuc2lvbnMgdGhhdCBzaG91bGQgZW5kIHVwXG4gICAgbmVhciB0aGUgc3RhcnQgb2YgdGhlIHByZWNlZGVuY2Ugb3JkZXJpbmcuXG4gICAgKi9cbiAgICBoaWdoZXN0OiAvKkBfX1BVUkVfXyovcHJlYyhQcmVjXy5oaWdoZXN0KSxcbiAgICAvKipcbiAgICBBIGhpZ2hlci10aGFuLWRlZmF1bHQgcHJlY2VkZW5jZSwgZm9yIGV4dGVuc2lvbnMgdGhhdCBzaG91bGRcbiAgICBjb21lIGJlZm9yZSB0aG9zZSB3aXRoIGRlZmF1bHQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGhpZ2g6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmhpZ2gpLFxuICAgIC8qKlxuICAgIFRoZSBkZWZhdWx0IHByZWNlZGVuY2UsIHdoaWNoIGlzIGFsc28gdXNlZCBmb3IgZXh0ZW5zaW9uc1xuICAgIHdpdGhvdXQgYW4gZXhwbGljaXQgcHJlY2VkZW5jZS5cbiAgICAqL1xuICAgIGRlZmF1bHQ6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmRlZmF1bHQpLFxuICAgIC8qKlxuICAgIEEgbG93ZXItdGhhbi1kZWZhdWx0IHByZWNlZGVuY2UuXG4gICAgKi9cbiAgICBsb3c6IC8qQF9fUFVSRV9fKi9wcmVjKFByZWNfLmxvdyksXG4gICAgLyoqXG4gICAgVGhlIGxvd2VzdCBwcmVjZWRlbmNlIGxldmVsLiBNZWFudCBmb3IgdGhpbmdzIHRoYXQgc2hvdWxkIGVuZCB1cFxuICAgIG5lYXIgdGhlIGVuZCBvZiB0aGUgZXh0ZW5zaW9uIG9yZGVyLlxuICAgICovXG4gICAgbG93ZXN0OiAvKkBfX1BVUkVfXyovcHJlYyhQcmVjXy5sb3dlc3QpXG59O1xuY2xhc3MgUHJlY0V4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3IoaW5uZXIsIHByZWMpIHtcbiAgICAgICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICAgICAgICB0aGlzLnByZWMgPSBwcmVjO1xuICAgIH1cbn1cbi8qKlxuRXh0ZW5zaW9uIGNvbXBhcnRtZW50cyBjYW4gYmUgdXNlZCB0byBtYWtlIGEgY29uZmlndXJhdGlvblxuZHluYW1pYy4gQnkgW3dyYXBwaW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNvbXBhcnRtZW50Lm9mKSBwYXJ0IG9mIHlvdXJcbmNvbmZpZ3VyYXRpb24gaW4gYSBjb21wYXJ0bWVudCwgeW91IGNhbiBsYXRlclxuW3JlcGxhY2VdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQucmVjb25maWd1cmUpIHRoYXQgcGFydCB0aHJvdWdoIGFcbnRyYW5zYWN0aW9uLlxuKi9cbmNsYXNzIENvbXBhcnRtZW50IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjb21wYXJ0bWVudCB0byBhZGQgdG8geW91ciBbc3RhdGVcbiAgICBjb25maWd1cmF0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlQ29uZmlnLmV4dGVuc2lvbnMpLlxuICAgICovXG4gICAgb2YoZXh0KSB7IHJldHVybiBuZXcgQ29tcGFydG1lbnRJbnN0YW5jZSh0aGlzLCBleHQpOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIFtlZmZlY3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmVmZmVjdHMpIHRoYXRcbiAgICByZWNvbmZpZ3VyZXMgdGhpcyBjb21wYXJ0bWVudC5cbiAgICAqL1xuICAgIHJlY29uZmlndXJlKGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIENvbXBhcnRtZW50LnJlY29uZmlndXJlLm9mKHsgY29tcGFydG1lbnQ6IHRoaXMsIGV4dGVuc2lvbjogY29udGVudCB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjdXJyZW50IGNvbnRlbnQgb2YgdGhlIGNvbXBhcnRtZW50IGluIHRoZSBzdGF0ZSwgb3JcbiAgICBgdW5kZWZpbmVkYCBpZiBpdCBpc24ndCBwcmVzZW50LlxuICAgICovXG4gICAgZ2V0KHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb25maWcuY29tcGFydG1lbnRzLmdldCh0aGlzKTtcbiAgICB9XG59XG5jbGFzcyBDb21wYXJ0bWVudEluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wYXJ0bWVudCwgaW5uZXIpIHtcbiAgICAgICAgdGhpcy5jb21wYXJ0bWVudCA9IGNvbXBhcnRtZW50O1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgfVxufVxuY2xhc3MgQ29uZmlndXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgY29tcGFydG1lbnRzLCBkeW5hbWljU2xvdHMsIGFkZHJlc3MsIHN0YXRpY1ZhbHVlcywgZmFjZXRzKSB7XG4gICAgICAgIHRoaXMuYmFzZSA9IGJhc2U7XG4gICAgICAgIHRoaXMuY29tcGFydG1lbnRzID0gY29tcGFydG1lbnRzO1xuICAgICAgICB0aGlzLmR5bmFtaWNTbG90cyA9IGR5bmFtaWNTbG90cztcbiAgICAgICAgdGhpcy5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgdGhpcy5zdGF0aWNWYWx1ZXMgPSBzdGF0aWNWYWx1ZXM7XG4gICAgICAgIHRoaXMuZmFjZXRzID0gZmFjZXRzO1xuICAgICAgICB0aGlzLnN0YXR1c1RlbXBsYXRlID0gW107XG4gICAgICAgIHdoaWxlICh0aGlzLnN0YXR1c1RlbXBsYXRlLmxlbmd0aCA8IGR5bmFtaWNTbG90cy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RlbXBsYXRlLnB1c2goMCAvKiBTbG90U3RhdHVzLlVucmVzb2x2ZWQgKi8pO1xuICAgIH1cbiAgICBzdGF0aWNGYWNldChmYWNldCkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuYWRkcmVzc1tmYWNldC5pZF07XG4gICAgICAgIHJldHVybiBhZGRyID09IG51bGwgPyBmYWNldC5kZWZhdWx0IDogdGhpcy5zdGF0aWNWYWx1ZXNbYWRkciA+PiAxXTtcbiAgICB9XG4gICAgc3RhdGljIHJlc29sdmUoYmFzZSwgY29tcGFydG1lbnRzLCBvbGRTdGF0ZSkge1xuICAgICAgICBsZXQgZmllbGRzID0gW107XG4gICAgICAgIGxldCBmYWNldHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgbmV3Q29tcGFydG1lbnRzID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBleHQgb2YgZmxhdHRlbihiYXNlLCBjb21wYXJ0bWVudHMsIG5ld0NvbXBhcnRtZW50cykpIHtcbiAgICAgICAgICAgIGlmIChleHQgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkKVxuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKGV4dCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgKGZhY2V0c1tleHQuZmFjZXQuaWRdIHx8IChmYWNldHNbZXh0LmZhY2V0LmlkXSA9IFtdKSkucHVzaChleHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhZGRyZXNzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IHN0YXRpY1ZhbHVlcyA9IFtdO1xuICAgICAgICBsZXQgZHluYW1pY1Nsb3RzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICAgICAgYWRkcmVzc1tmaWVsZC5pZF0gPSBkeW5hbWljU2xvdHMubGVuZ3RoIDw8IDE7XG4gICAgICAgICAgICBkeW5hbWljU2xvdHMucHVzaChhID0+IGZpZWxkLnNsb3QoYSkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvbGRGYWNldHMgPSBvbGRTdGF0ZSA9PT0gbnVsbCB8fCBvbGRTdGF0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2xkU3RhdGUuY29uZmlnLmZhY2V0cztcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gZmFjZXRzKSB7XG4gICAgICAgICAgICBsZXQgcHJvdmlkZXJzID0gZmFjZXRzW2lkXSwgZmFjZXQgPSBwcm92aWRlcnNbMF0uZmFjZXQ7XG4gICAgICAgICAgICBsZXQgb2xkUHJvdmlkZXJzID0gb2xkRmFjZXRzICYmIG9sZEZhY2V0c1tpZF0gfHwgW107XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJzLmV2ZXJ5KHAgPT4gcC50eXBlID09IDAgLyogUHJvdmlkZXIuU3RhdGljICovKSkge1xuICAgICAgICAgICAgICAgIGFkZHJlc3NbZmFjZXQuaWRdID0gKHN0YXRpY1ZhbHVlcy5sZW5ndGggPDwgMSkgfCAxO1xuICAgICAgICAgICAgICAgIGlmIChzYW1lQXJyYXkob2xkUHJvdmlkZXJzLCBwcm92aWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKG9sZFN0YXRlLmZhY2V0KGZhY2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBmYWNldC5jb21iaW5lKHByb3ZpZGVycy5tYXAocCA9PiBwLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKG9sZFN0YXRlICYmIGZhY2V0LmNvbXBhcmUodmFsdWUsIG9sZFN0YXRlLmZhY2V0KGZhY2V0KSkgPyBvbGRTdGF0ZS5mYWNldChmYWNldCkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcCBvZiBwcm92aWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHAudHlwZSA9PSAwIC8qIFByb3ZpZGVyLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1twLmlkXSA9IChzdGF0aWNWYWx1ZXMubGVuZ3RoIDw8IDEpIHwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1ZhbHVlcy5wdXNoKHAudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc1twLmlkXSA9IGR5bmFtaWNTbG90cy5sZW5ndGggPDwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNTbG90cy5wdXNoKGEgPT4gcC5keW5hbWljU2xvdChhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkcmVzc1tmYWNldC5pZF0gPSBkeW5hbWljU2xvdHMubGVuZ3RoIDw8IDE7XG4gICAgICAgICAgICAgICAgZHluYW1pY1Nsb3RzLnB1c2goYSA9PiBkeW5hbWljRmFjZXRTbG90KGEsIGZhY2V0LCBwcm92aWRlcnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgZHluYW1pYyA9IGR5bmFtaWNTbG90cy5tYXAoZiA9PiBmKGFkZHJlc3MpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb25maWd1cmF0aW9uKGJhc2UsIG5ld0NvbXBhcnRtZW50cywgZHluYW1pYywgYWRkcmVzcywgc3RhdGljVmFsdWVzLCBmYWNldHMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZsYXR0ZW4oZXh0ZW5zaW9uLCBjb21wYXJ0bWVudHMsIG5ld0NvbXBhcnRtZW50cykge1xuICAgIGxldCByZXN1bHQgPSBbW10sIFtdLCBbXSwgW10sIFtdXTtcbiAgICBsZXQgc2VlbiA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBpbm5lcihleHQsIHByZWMpIHtcbiAgICAgICAgbGV0IGtub3duID0gc2Vlbi5nZXQoZXh0KTtcbiAgICAgICAgaWYgKGtub3duICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChrbm93biA8PSBwcmVjKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHJlc3VsdFtrbm93bl0uaW5kZXhPZihleHQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kID4gLTEpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tub3duXS5zcGxpY2UoZm91bmQsIDEpO1xuICAgICAgICAgICAgaWYgKGV4dCBpbnN0YW5jZW9mIENvbXBhcnRtZW50SW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgbmV3Q29tcGFydG1lbnRzLmRlbGV0ZShleHQuY29tcGFydG1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc2V0KGV4dCwgcHJlYyk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGV4dCkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGUgb2YgZXh0KVxuICAgICAgICAgICAgICAgIGlubmVyKGUsIHByZWMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV4dCBpbnN0YW5jZW9mIENvbXBhcnRtZW50SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGlmIChuZXdDb21wYXJ0bWVudHMuaGFzKGV4dC5jb21wYXJ0bWVudCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYER1cGxpY2F0ZSB1c2Ugb2YgY29tcGFydG1lbnQgaW4gZXh0ZW5zaW9uc2ApO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb21wYXJ0bWVudHMuZ2V0KGV4dC5jb21wYXJ0bWVudCkgfHwgZXh0LmlubmVyO1xuICAgICAgICAgICAgbmV3Q29tcGFydG1lbnRzLnNldChleHQuY29tcGFydG1lbnQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgaW5uZXIoY29udGVudCwgcHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgUHJlY0V4dGVuc2lvbikge1xuICAgICAgICAgICAgaW5uZXIoZXh0LmlubmVyLCBleHQucHJlYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXh0IGluc3RhbmNlb2YgU3RhdGVGaWVsZCkge1xuICAgICAgICAgICAgcmVzdWx0W3ByZWNdLnB1c2goZXh0KTtcbiAgICAgICAgICAgIGlmIChleHQucHJvdmlkZXMpXG4gICAgICAgICAgICAgICAgaW5uZXIoZXh0LnByb3ZpZGVzLCBwcmVjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChleHQgaW5zdGFuY2VvZiBGYWNldFByb3ZpZGVyKSB7XG4gICAgICAgICAgICByZXN1bHRbcHJlY10ucHVzaChleHQpO1xuICAgICAgICAgICAgaWYgKGV4dC5mYWNldC5leHRlbnNpb25zKVxuICAgICAgICAgICAgICAgIGlubmVyKGV4dC5mYWNldC5leHRlbnNpb25zLCBQcmVjXy5kZWZhdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gZXh0LmV4dGVuc2lvbjtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBleHRlbnNpb24gdmFsdWUgaW4gZXh0ZW5zaW9uIHNldCAoJHtleHR9KS4gVGhpcyBzb21ldGltZXMgaGFwcGVucyBiZWNhdXNlIG11bHRpcGxlIGluc3RhbmNlcyBvZiBAY29kZW1pcnJvci9zdGF0ZSBhcmUgbG9hZGVkLCBicmVha2luZyBpbnN0YW5jZW9mIGNoZWNrcy5gKTtcbiAgICAgICAgICAgIGlubmVyKGNvbnRlbnQsIHByZWMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlubmVyKGV4dGVuc2lvbiwgUHJlY18uZGVmYXVsdCk7XG4gICAgcmV0dXJuIHJlc3VsdC5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUFkZHIoc3RhdGUsIGFkZHIpIHtcbiAgICBpZiAoYWRkciAmIDEpXG4gICAgICAgIHJldHVybiAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi87XG4gICAgbGV0IGlkeCA9IGFkZHIgPj4gMTtcbiAgICBsZXQgc3RhdHVzID0gc3RhdGUuc3RhdHVzW2lkeF07XG4gICAgaWYgKHN0YXR1cyA9PSA0IC8qIFNsb3RTdGF0dXMuQ29tcHV0aW5nICovKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDeWNsaWMgZGVwZW5kZW5jeSBiZXR3ZWVuIGZpZWxkcyBhbmQvb3IgZmFjZXRzXCIpO1xuICAgIGlmIChzdGF0dXMgJiAyIC8qIFNsb3RTdGF0dXMuQ29tcHV0ZWQgKi8pXG4gICAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgc3RhdGUuc3RhdHVzW2lkeF0gPSA0IC8qIFNsb3RTdGF0dXMuQ29tcHV0aW5nICovO1xuICAgIGxldCBjaGFuZ2VkID0gc3RhdGUuY29tcHV0ZVNsb3Qoc3RhdGUsIHN0YXRlLmNvbmZpZy5keW5hbWljU2xvdHNbaWR4XSk7XG4gICAgcmV0dXJuIHN0YXRlLnN0YXR1c1tpZHhdID0gMiAvKiBTbG90U3RhdHVzLkNvbXB1dGVkICovIHwgY2hhbmdlZDtcbn1cbmZ1bmN0aW9uIGdldEFkZHIoc3RhdGUsIGFkZHIpIHtcbiAgICByZXR1cm4gYWRkciAmIDEgPyBzdGF0ZS5jb25maWcuc3RhdGljVmFsdWVzW2FkZHIgPj4gMV0gOiBzdGF0ZS52YWx1ZXNbYWRkciA+PiAxXTtcbn1cblxuY29uc3QgbGFuZ3VhZ2VEYXRhID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLnNvbWUodiA9PiB2KSxcbiAgICBzdGF0aWM6IHRydWVcbn0pO1xuY29uc3QgbGluZVNlcGFyYXRvciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogdW5kZWZpbmVkLFxuICAgIHN0YXRpYzogdHJ1ZVxufSk7XG5jb25zdCBjaGFuZ2VGaWx0ZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCB0cmFuc2FjdGlvbkZpbHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRXh0ZW5kZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCByZWFkT25seSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogZmFsc2Vcbn0pO1xuXG4vKipcbkFubm90YXRpb25zIGFyZSB0YWdnZWQgdmFsdWVzIHRoYXQgYXJlIHVzZWQgdG8gYWRkIG1ldGFkYXRhIHRvXG50cmFuc2FjdGlvbnMgaW4gYW4gZXh0ZW5zaWJsZSB3YXkuIFRoZXkgc2hvdWxkIGJlIHVzZWQgdG8gbW9kZWxcbnRoaW5ncyB0aGF0IGVmZmVjdCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uIChzdWNoIGFzIGl0cyBbdGltZVxuc3RhbXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25edGltZSkgb3IgaW5mb3JtYXRpb24gYWJvdXQgaXRzXG5bb3JpZ2luXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uXnVzZXJFdmVudCkpLiBGb3IgZWZmZWN0cyB0aGF0IGhhcHBlblxuX2Fsb25nc2lkZV8gdGhlIG90aGVyIGNoYW5nZXMgbWFkZSBieSB0aGUgdHJhbnNhY3Rpb24sIFtzdGF0ZVxuZWZmZWN0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdCkgYXJlIG1vcmUgYXBwcm9wcmlhdGUuXG4qL1xuY2xhc3MgQW5ub3RhdGlvbiB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgYW5ub3RhdGlvbiB0eXBlLlxuICAgICovXG4gICAgdHlwZSwgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIG9mIHRoaXMgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgbmV3IHR5cGUgb2YgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoKSB7IHJldHVybiBuZXcgQW5ub3RhdGlvblR5cGUoKTsgfVxufVxuLyoqXG5NYXJrZXIgdGhhdCBpZGVudGlmaWVzIGEgdHlwZSBvZiBbYW5ub3RhdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Bbm5vdGF0aW9uKS5cbiovXG5jbGFzcyBBbm5vdGF0aW9uVHlwZSB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGluc3RhbmNlIG9mIHRoaXMgYW5ub3RhdGlvbi5cbiAgICAqL1xuICAgIG9mKHZhbHVlKSB7IHJldHVybiBuZXcgQW5ub3RhdGlvbih0aGlzLCB2YWx1ZSk7IH1cbn1cbi8qKlxuUmVwcmVzZW50YXRpb24gb2YgYSB0eXBlIG9mIHN0YXRlIGVmZmVjdC4gRGVmaW5lZCB3aXRoXG5bYFN0YXRlRWZmZWN0LmRlZmluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU3RhdGVFZmZlY3ReZGVmaW5lKS5cbiovXG5jbGFzcyBTdGF0ZUVmZmVjdFR5cGUge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGBhbnlgIHR5cGVzIGluIHRoZXNlIGZ1bmN0aW9uIHR5cGVzIGFyZSB0aGVyZSB0byB3b3JrXG4gICAgLy8gYXJvdW5kIFR5cGVTY3JpcHQgaXNzdWUgIzM3NjMxLCB3aGVyZSB0aGUgdHlwZSBndWFyZCBvblxuICAgIC8vIGBTdGF0ZUVmZmVjdC5pc2AgbXlzdGVyaW91c2x5IHN0b3BzIHdvcmtpbmcgd2hlbiB0aGVzZSBwcm9wZXJseVxuICAgIC8vIGhhdmUgdHlwZSBgVmFsdWVgLlxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbWFwKSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbc3RhdGUgZWZmZWN0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0KSBpbnN0YW5jZSBvZiB0aGlzXG4gICAgdHlwZS5cbiAgICAqL1xuICAgIG9mKHZhbHVlKSB7IHJldHVybiBuZXcgU3RhdGVFZmZlY3QodGhpcywgdmFsdWUpOyB9XG59XG4vKipcblN0YXRlIGVmZmVjdHMgY2FuIGJlIHVzZWQgdG8gcmVwcmVzZW50IGFkZGl0aW9uYWwgZWZmZWN0c1xuYXNzb2NpYXRlZCB3aXRoIGEgW3RyYW5zYWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uLmVmZmVjdHMpLiBUaGV5XG5hcmUgb2Z0ZW4gdXNlZnVsIHRvIG1vZGVsIGNoYW5nZXMgdG8gY3VzdG9tIFtzdGF0ZVxuZmllbGRzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRmllbGQpLCB3aGVuIHRob3NlIGNoYW5nZXMgYXJlbid0IGltcGxpY2l0IGluXG5kb2N1bWVudCBvciBzZWxlY3Rpb24gY2hhbmdlcy5cbiovXG5jbGFzcyBTdGF0ZUVmZmVjdCB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHR5cGUsIFxuICAgIC8qKlxuICAgIFRoZSB2YWx1ZSBvZiB0aGlzIGVmZmVjdC5cbiAgICAqL1xuICAgIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgZWZmZWN0IHRocm91Z2ggYSBwb3NpdGlvbiBtYXBwaW5nLiBXaWxsIHJldHVyblxuICAgIGB1bmRlZmluZWRgIHdoZW4gdGhhdCBlbmRzIHVwIGRlbGV0aW5nIHRoZSBlZmZlY3QuXG4gICAgKi9cbiAgICBtYXAobWFwcGluZykge1xuICAgICAgICBsZXQgbWFwcGVkID0gdGhpcy50eXBlLm1hcCh0aGlzLnZhbHVlLCBtYXBwaW5nKTtcbiAgICAgICAgcmV0dXJuIG1hcHBlZCA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogbWFwcGVkID09IHRoaXMudmFsdWUgPyB0aGlzIDogbmV3IFN0YXRlRWZmZWN0KHRoaXMudHlwZSwgbWFwcGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVsbHMgeW91IHdoZXRoZXIgdGhpcyBlZmZlY3Qgb2JqZWN0IGlzIG9mIGEgZ2l2ZW5cbiAgICBbdHlwZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdFR5cGUpLlxuICAgICovXG4gICAgaXModHlwZSkgeyByZXR1cm4gdGhpcy50eXBlID09IHR5cGU7IH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgZWZmZWN0IHR5cGUuIFRoZSB0eXBlIHBhcmFtZXRlciBpbmRpY2F0ZXMgdGhlIHR5cGVcbiAgICBvZiB2YWx1ZXMgdGhhdCBoaXMgZWZmZWN0IGhvbGRzLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZUVmZmVjdFR5cGUoc3BlYy5tYXAgfHwgKHYgPT4gdikpO1xuICAgIH1cbiAgICAvKipcbiAgICBNYXAgYW4gYXJyYXkgb2YgZWZmZWN0cyB0aHJvdWdoIGEgY2hhbmdlIHNldC5cbiAgICAqL1xuICAgIHN0YXRpYyBtYXBFZmZlY3RzKGVmZmVjdHMsIG1hcHBpbmcpIHtcbiAgICAgICAgaWYgKCFlZmZlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBlZmZlY3RzO1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiBlZmZlY3RzKSB7XG4gICAgICAgICAgICBsZXQgbWFwcGVkID0gZWZmZWN0Lm1hcChtYXBwaW5nKTtcbiAgICAgICAgICAgIGlmIChtYXBwZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWFwcGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuVGhpcyBlZmZlY3QgY2FuIGJlIHVzZWQgdG8gcmVjb25maWd1cmUgdGhlIHJvb3QgZXh0ZW5zaW9ucyBvZlxudGhlIGVkaXRvci4gRG9pbmcgdGhpcyB3aWxsIGRpc2NhcmQgYW55IGV4dGVuc2lvbnNcblthcHBlbmRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5TdGF0ZUVmZmVjdF5hcHBlbmRDb25maWcpLCBidXQgZG9lcyBub3QgcmVzZXRcbnRoZSBjb250ZW50IG9mIFtyZWNvbmZpZ3VyZWRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuQ29tcGFydG1lbnQucmVjb25maWd1cmUpXG5jb21wYXJ0bWVudHMuXG4qL1xuU3RhdGVFZmZlY3QucmVjb25maWd1cmUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4vKipcbkFwcGVuZCBleHRlbnNpb25zIHRvIHRoZSB0b3AtbGV2ZWwgY29uZmlndXJhdGlvbiBvZiB0aGUgZWRpdG9yLlxuKi9cblN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbi8qKlxuQ2hhbmdlcyB0byB0aGUgZWRpdG9yIHN0YXRlIGFyZSBncm91cGVkIGludG8gdHJhbnNhY3Rpb25zLlxuVHlwaWNhbGx5LCBhIHVzZXIgYWN0aW9uIGNyZWF0ZXMgYSBzaW5nbGUgdHJhbnNhY3Rpb24sIHdoaWNoIG1heVxuY29udGFpbiBhbnkgbnVtYmVyIG9mIGRvY3VtZW50IGNoYW5nZXMsIG1heSBjaGFuZ2UgdGhlIHNlbGVjdGlvbixcbm9yIGhhdmUgb3RoZXIgZWZmZWN0cy4gQ3JlYXRlIGEgdHJhbnNhY3Rpb24gYnkgY2FsbGluZ1xuW2BFZGl0b3JTdGF0ZS51cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSksIG9yIGltbWVkaWF0ZWx5XG5kaXNwYXRjaCBvbmUgYnkgY2FsbGluZ1xuW2BFZGl0b3JWaWV3LmRpc3BhdGNoYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZGlzcGF0Y2gpLlxuKi9cbmNsYXNzIFRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhdGUgZnJvbSB3aGljaCB0aGUgdHJhbnNhY3Rpb24gc3RhcnRzLlxuICAgICovXG4gICAgc3RhcnRTdGF0ZSwgXG4gICAgLyoqXG4gICAgVGhlIGRvY3VtZW50IGNoYW5nZXMgbWFkZSBieSB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICovXG4gICAgY2hhbmdlcywgXG4gICAgLyoqXG4gICAgVGhlIHNlbGVjdGlvbiBzZXQgYnkgdGhpcyB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIGl0XG4gICAgZG9lc24ndCBleHBsaWNpdGx5IHNldCBhIHNlbGVjdGlvbi5cbiAgICAqL1xuICAgIHNlbGVjdGlvbiwgXG4gICAgLyoqXG4gICAgVGhlIGVmZmVjdHMgYWRkZWQgdG8gdGhlIHRyYW5zYWN0aW9uLlxuICAgICovXG4gICAgZWZmZWN0cywgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBhbm5vdGF0aW9ucywgXG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgc2VsZWN0aW9uIHNob3VsZCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgYWZ0ZXIgdGhpc1xuICAgIHRyYW5zYWN0aW9uIGlzIGRpc3BhdGNoZWQuXG4gICAgKi9cbiAgICBzY3JvbGxJbnRvVmlldykge1xuICAgICAgICB0aGlzLnN0YXJ0U3RhdGUgPSBzdGFydFN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gZWZmZWN0cztcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zO1xuICAgICAgICB0aGlzLnNjcm9sbEludG9WaWV3ID0gc2Nyb2xsSW50b1ZpZXc7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZG9jID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChzZWxlY3Rpb24pXG4gICAgICAgICAgICBjaGVja1NlbGVjdGlvbihzZWxlY3Rpb24sIGNoYW5nZXMubmV3TGVuZ3RoKTtcbiAgICAgICAgaWYgKCFhbm5vdGF0aW9ucy5zb21lKChhKSA9PiBhLnR5cGUgPT0gVHJhbnNhY3Rpb24udGltZSkpXG4gICAgICAgICAgICB0aGlzLmFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuY29uY2F0KFRyYW5zYWN0aW9uLnRpbWUub2YoRGF0ZS5ub3coKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoc3RhcnRTdGF0ZSwgY2hhbmdlcywgc2VsZWN0aW9uLCBlZmZlY3RzLCBhbm5vdGF0aW9ucywgc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2FjdGlvbihzdGFydFN0YXRlLCBjaGFuZ2VzLCBzZWxlY3Rpb24sIGVmZmVjdHMsIGFubm90YXRpb25zLCBzY3JvbGxJbnRvVmlldyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBuZXcgZG9jdW1lbnQgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9uLiBDb250cmFyeSB0b1xuICAgIFtgLnN0YXRlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5zdGF0ZSlgLmRvY2AsIGFjY2Vzc2luZyB0aGlzIHdvbid0XG4gICAgZm9yY2UgdGhlIGVudGlyZSBuZXcgc3RhdGUgdG8gYmUgY29tcHV0ZWQgcmlnaHQgYXdheSwgc28gaXQgaXNcbiAgICByZWNvbW1lbmRlZCB0aGF0IFt0cmFuc2FjdGlvblxuICAgIGZpbHRlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedHJhbnNhY3Rpb25GaWx0ZXIpIHVzZSB0aGlzIGdldHRlclxuICAgIHdoZW4gdGhleSBuZWVkIHRvIGxvb2sgYXQgdGhlIG5ldyBkb2N1bWVudC5cbiAgICAqL1xuICAgIGdldCBuZXdEb2MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb2MgfHwgKHRoaXMuX2RvYyA9IHRoaXMuY2hhbmdlcy5hcHBseSh0aGlzLnN0YXJ0U3RhdGUuZG9jKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBuZXcgc2VsZWN0aW9uIHByb2R1Y2VkIGJ5IHRoZSB0cmFuc2FjdGlvbi4gSWZcbiAgICBbYHRoaXMuc2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvbi5zZWxlY3Rpb24pIGlzIHVuZGVmaW5lZCxcbiAgICB0aGlzIHdpbGwgW21hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTZWxlY3Rpb24ubWFwKSB0aGUgc3RhcnQgc3RhdGUnc1xuICAgIGN1cnJlbnQgc2VsZWN0aW9uIHRocm91Z2ggdGhlIGNoYW5nZXMgbWFkZSBieSB0aGUgdHJhbnNhY3Rpb24uXG4gICAgKi9cbiAgICBnZXQgbmV3U2VsZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24gfHwgdGhpcy5zdGFydFN0YXRlLnNlbGVjdGlvbi5tYXAodGhpcy5jaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIG5ldyBzdGF0ZSBjcmVhdGVkIGJ5IHRoZSB0cmFuc2FjdGlvbi4gQ29tcHV0ZWQgb24gZGVtYW5kXG4gICAgKGJ1dCByZXRhaW5lZCBmb3Igc3Vic2VxdWVudCBhY2Nlc3MpLCBzbyBpdCBpcyByZWNvbW1lbmRlZCBub3QgdG9cbiAgICBhY2Nlc3MgaXQgaW4gW3RyYW5zYWN0aW9uXG4gICAgZmlsdGVyc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50cmFuc2FjdGlvbkZpbHRlcikgd2hlbiBwb3NzaWJsZS5cbiAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZSlcbiAgICAgICAgICAgIHRoaXMuc3RhcnRTdGF0ZS5hcHBseVRyYW5zYWN0aW9uKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIGFubm90YXRpb24gdHlwZSwgaWYgYW55LlxuICAgICovXG4gICAgYW5ub3RhdGlvbih0eXBlKSB7XG4gICAgICAgIGZvciAobGV0IGFubiBvZiB0aGlzLmFubm90YXRpb25zKVxuICAgICAgICAgICAgaWYgKGFubi50eXBlID09IHR5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFubi52YWx1ZTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9uIGNoYW5nZWQgdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZ2V0IGRvY0NoYW5nZWQoKSB7IHJldHVybiAhdGhpcy5jaGFuZ2VzLmVtcHR5OyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyB0cmFuc2FjdGlvbiByZWNvbmZpZ3VyZXMgdGhlIHN0YXRlXG4gICAgKHRocm91Z2ggYSBbY29uZmlndXJhdGlvbiBjb21wYXJ0bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5Db21wYXJ0bWVudCkgb3JcbiAgICB3aXRoIGEgdG9wLWxldmVsIGNvbmZpZ3VyYXRpb25cbiAgICBbZWZmZWN0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlN0YXRlRWZmZWN0XnJlY29uZmlndXJlKS5cbiAgICAqL1xuICAgIGdldCByZWNvbmZpZ3VyZWQoKSB7IHJldHVybiB0aGlzLnN0YXJ0U3RhdGUuY29uZmlnICE9IHRoaXMuc3RhdGUuY29uZmlnOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiBoYXMgYSBbdXNlclxuICAgIGV2ZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uXnVzZXJFdmVudCkgYW5ub3RhdGlvbiB0aGF0IGlzIGVxdWFsIHRvXG4gICAgb3IgbW9yZSBzcGVjaWZpYyB0aGFuIGBldmVudGAuIEZvciBleGFtcGxlLCBpZiB0aGUgdHJhbnNhY3Rpb25cbiAgICBoYXMgYFwic2VsZWN0LnBvaW50ZXJcImAgYXMgdXNlciBldmVudCwgYFwic2VsZWN0XCJgIGFuZFxuICAgIGBcInNlbGVjdC5wb2ludGVyXCJgIHdpbGwgbWF0Y2ggaXQuXG4gICAgKi9cbiAgICBpc1VzZXJFdmVudChldmVudCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuYW5ub3RhdGlvbihUcmFuc2FjdGlvbi51c2VyRXZlbnQpO1xuICAgICAgICByZXR1cm4gISEoZSAmJiAoZSA9PSBldmVudCB8fCBlLmxlbmd0aCA+IGV2ZW50Lmxlbmd0aCAmJiBlLnNsaWNlKDAsIGV2ZW50Lmxlbmd0aCkgPT0gZXZlbnQgJiYgZVtldmVudC5sZW5ndGhdID09IFwiLlwiKSk7XG4gICAgfVxufVxuLyoqXG5Bbm5vdGF0aW9uIHVzZWQgdG8gc3RvcmUgdHJhbnNhY3Rpb24gdGltZXN0YW1wcy4gQXV0b21hdGljYWxseVxuYWRkZWQgdG8gZXZlcnkgdHJhbnNhY3Rpb24sIGhvbGRpbmcgYERhdGUubm93KClgLlxuKi9cblRyYW5zYWN0aW9uLnRpbWUgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuQW5ub3RhdGlvbiB1c2VkIHRvIGFzc29jaWF0ZSBhIHRyYW5zYWN0aW9uIHdpdGggYSB1c2VyIGludGVyZmFjZVxuZXZlbnQuIEhvbGRzIGEgc3RyaW5nIGlkZW50aWZ5aW5nIHRoZSBldmVudCwgdXNpbmcgYVxuZG90LXNlcGFyYXRlZCBmb3JtYXQgdG8gc3VwcG9ydCBhdHRhY2hpbmcgbW9yZSBzcGVjaWZpY1xuaW5mb3JtYXRpb24uIFRoZSBldmVudHMgdXNlZCBieSB0aGUgY29yZSBsaWJyYXJpZXMgYXJlOlxuXG4gLSBgXCJpbnB1dFwiYCB3aGVuIGNvbnRlbnQgaXMgZW50ZXJlZFxuICAgLSBgXCJpbnB1dC50eXBlXCJgIGZvciB0eXBlZCBpbnB1dFxuICAgICAtIGBcImlucHV0LnR5cGUuY29tcG9zZVwiYCBmb3IgY29tcG9zaXRpb25cbiAgIC0gYFwiaW5wdXQucGFzdGVcImAgZm9yIHBhc3RlZCBpbnB1dFxuICAgLSBgXCJpbnB1dC5kcm9wXCJgIHdoZW4gYWRkaW5nIGNvbnRlbnQgd2l0aCBkcmFnLWFuZC1kcm9wXG4gICAtIGBcImlucHV0LmNvbXBsZXRlXCJgIHdoZW4gYXV0b2NvbXBsZXRpbmdcbiAtIGBcImRlbGV0ZVwiYCB3aGVuIHRoZSB1c2VyIGRlbGV0ZXMgY29udGVudFxuICAgLSBgXCJkZWxldGUuc2VsZWN0aW9uXCJgIHdoZW4gZGVsZXRpbmcgdGhlIHNlbGVjdGlvblxuICAgLSBgXCJkZWxldGUuZm9yd2FyZFwiYCB3aGVuIGRlbGV0aW5nIGZvcndhcmQgZnJvbSB0aGUgc2VsZWN0aW9uXG4gICAtIGBcImRlbGV0ZS5iYWNrd2FyZFwiYCB3aGVuIGRlbGV0aW5nIGJhY2t3YXJkIGZyb20gdGhlIHNlbGVjdGlvblxuICAgLSBgXCJkZWxldGUuY3V0XCJgIHdoZW4gY3V0dGluZyB0byB0aGUgY2xpcGJvYXJkXG4gLSBgXCJtb3ZlXCJgIHdoZW4gY29udGVudCBpcyBtb3ZlZFxuICAgLSBgXCJtb3ZlLmRyb3BcImAgd2hlbiBjb250ZW50IGlzIG1vdmVkIHdpdGhpbiB0aGUgZWRpdG9yIHRocm91Z2ggZHJhZy1hbmQtZHJvcFxuIC0gYFwic2VsZWN0XCJgIHdoZW4gZXhwbGljaXRseSBjaGFuZ2luZyB0aGUgc2VsZWN0aW9uXG4gICAtIGBcInNlbGVjdC5wb2ludGVyXCJgIHdoZW4gc2VsZWN0aW5nIHdpdGggYSBtb3VzZSBvciBvdGhlciBwb2ludGluZyBkZXZpY2VcbiAtIGBcInVuZG9cImAgYW5kIGBcInJlZG9cImAgZm9yIGhpc3RvcnkgYWN0aW9uc1xuXG5Vc2UgW2Bpc1VzZXJFdmVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uaXNVc2VyRXZlbnQpIHRvIGNoZWNrXG53aGV0aGVyIHRoZSBhbm5vdGF0aW9uIG1hdGNoZXMgYSBnaXZlbiBldmVudC5cbiovXG5UcmFuc2FjdGlvbi51c2VyRXZlbnQgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbi8qKlxuQW5ub3RhdGlvbiBpbmRpY2F0aW5nIHdoZXRoZXIgYSB0cmFuc2FjdGlvbiBzaG91bGQgYmUgYWRkZWQgdG9cbnRoZSB1bmRvIGhpc3Rvcnkgb3Igbm90LlxuKi9cblRyYW5zYWN0aW9uLmFkZFRvSGlzdG9yeSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5Bbm5vdGF0aW9uIGluZGljYXRpbmcgKHdoZW4gcHJlc2VudCBhbmQgdHJ1ZSkgdGhhdCBhIHRyYW5zYWN0aW9uXG5yZXByZXNlbnRzIGEgY2hhbmdlIG1hZGUgYnkgc29tZSBvdGhlciBhY3Rvciwgbm90IHRoZSB1c2VyLiBUaGlzXG5pcyB1c2VkLCBmb3IgZXhhbXBsZSwgdG8gdGFnIG90aGVyIHBlb3BsZSdzIGNoYW5nZXMgaW5cbmNvbGxhYm9yYXRpdmUgZWRpdGluZy5cbiovXG5UcmFuc2FjdGlvbi5yZW1vdGUgPSAvKkBfX1BVUkVfXyovQW5ub3RhdGlvbi5kZWZpbmUoKTtcbmZ1bmN0aW9uIGpvaW5SYW5nZXMoYSwgYikge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpQSA9IDAsIGlCID0gMDs7KSB7XG4gICAgICAgIGxldCBmcm9tLCB0bztcbiAgICAgICAgaWYgKGlBIDwgYS5sZW5ndGggJiYgKGlCID09IGIubGVuZ3RoIHx8IGJbaUJdID49IGFbaUFdKSkge1xuICAgICAgICAgICAgZnJvbSA9IGFbaUErK107XG4gICAgICAgICAgICB0byA9IGFbaUErK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaUIgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgZnJvbSA9IGJbaUIrK107XG4gICAgICAgICAgICB0byA9IGJbaUIrK107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKCFyZXN1bHQubGVuZ3RoIHx8IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPCBmcm9tKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZnJvbSwgdG8pO1xuICAgICAgICBlbHNlIGlmIChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdIDwgdG8pXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gdG87XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VUcmFuc2FjdGlvbihhLCBiLCBzZXF1ZW50aWFsKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBtYXBGb3JBLCBtYXBGb3JCLCBjaGFuZ2VzO1xuICAgIGlmIChzZXF1ZW50aWFsKSB7XG4gICAgICAgIG1hcEZvckEgPSBiLmNoYW5nZXM7XG4gICAgICAgIG1hcEZvckIgPSBDaGFuZ2VTZXQuZW1wdHkoYi5jaGFuZ2VzLmxlbmd0aCk7XG4gICAgICAgIGNoYW5nZXMgPSBhLmNoYW5nZXMuY29tcG9zZShiLmNoYW5nZXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbWFwRm9yQSA9IGIuY2hhbmdlcy5tYXAoYS5jaGFuZ2VzKTtcbiAgICAgICAgbWFwRm9yQiA9IGEuY2hhbmdlcy5tYXBEZXNjKGIuY2hhbmdlcywgdHJ1ZSk7XG4gICAgICAgIGNoYW5nZXMgPSBhLmNoYW5nZXMuY29tcG9zZShtYXBGb3JBKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgc2VsZWN0aW9uOiBiLnNlbGVjdGlvbiA/IGIuc2VsZWN0aW9uLm1hcChtYXBGb3JCKSA6IChfYSA9IGEuc2VsZWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKG1hcEZvckEpLFxuICAgICAgICBlZmZlY3RzOiBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGEuZWZmZWN0cywgbWFwRm9yQSkuY29uY2F0KFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoYi5lZmZlY3RzLCBtYXBGb3JCKSksXG4gICAgICAgIGFubm90YXRpb25zOiBhLmFubm90YXRpb25zLmxlbmd0aCA/IGEuYW5ub3RhdGlvbnMuY29uY2F0KGIuYW5ub3RhdGlvbnMpIDogYi5hbm5vdGF0aW9ucyxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IGEuc2Nyb2xsSW50b1ZpZXcgfHwgYi5zY3JvbGxJbnRvVmlld1xuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNhY3Rpb25Jbm5lcihzdGF0ZSwgc3BlYywgZG9jU2l6ZSkge1xuICAgIGxldCBzZWwgPSBzcGVjLnNlbGVjdGlvbiwgYW5ub3RhdGlvbnMgPSBhc0FycmF5KHNwZWMuYW5ub3RhdGlvbnMpO1xuICAgIGlmIChzcGVjLnVzZXJFdmVudClcbiAgICAgICAgYW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5jb25jYXQoVHJhbnNhY3Rpb24udXNlckV2ZW50Lm9mKHNwZWMudXNlckV2ZW50KSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhbmdlczogc3BlYy5jaGFuZ2VzIGluc3RhbmNlb2YgQ2hhbmdlU2V0ID8gc3BlYy5jaGFuZ2VzXG4gICAgICAgICAgICA6IENoYW5nZVNldC5vZihzcGVjLmNoYW5nZXMgfHwgW10sIGRvY1NpemUsIHN0YXRlLmZhY2V0KGxpbmVTZXBhcmF0b3IpKSxcbiAgICAgICAgc2VsZWN0aW9uOiBzZWwgJiYgKHNlbCBpbnN0YW5jZW9mIEVkaXRvclNlbGVjdGlvbiA/IHNlbCA6IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoc2VsLmFuY2hvciwgc2VsLmhlYWQpKSxcbiAgICAgICAgZWZmZWN0czogYXNBcnJheShzcGVjLmVmZmVjdHMpLFxuICAgICAgICBhbm5vdGF0aW9ucyxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6ICEhc3BlYy5zY3JvbGxJbnRvVmlld1xuICAgIH07XG59XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNhY3Rpb24oc3RhdGUsIHNwZWNzLCBmaWx0ZXIpIHtcbiAgICBsZXQgcyA9IHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBzcGVjcy5sZW5ndGggPyBzcGVjc1swXSA6IHt9LCBzdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICBpZiAoc3BlY3MubGVuZ3RoICYmIHNwZWNzWzBdLmZpbHRlciA9PT0gZmFsc2UpXG4gICAgICAgIGZpbHRlciA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc3BlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHNwZWNzW2ldLmZpbHRlciA9PT0gZmFsc2UpXG4gICAgICAgICAgICBmaWx0ZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IHNlcSA9ICEhc3BlY3NbaV0uc2VxdWVudGlhbDtcbiAgICAgICAgcyA9IG1lcmdlVHJhbnNhY3Rpb24ocywgcmVzb2x2ZVRyYW5zYWN0aW9uSW5uZXIoc3RhdGUsIHNwZWNzW2ldLCBzZXEgPyBzLmNoYW5nZXMubmV3TGVuZ3RoIDogc3RhdGUuZG9jLmxlbmd0aCksIHNlcSk7XG4gICAgfVxuICAgIGxldCB0ciA9IFRyYW5zYWN0aW9uLmNyZWF0ZShzdGF0ZSwgcy5jaGFuZ2VzLCBzLnNlbGVjdGlvbiwgcy5lZmZlY3RzLCBzLmFubm90YXRpb25zLCBzLnNjcm9sbEludG9WaWV3KTtcbiAgICByZXR1cm4gZXh0ZW5kVHJhbnNhY3Rpb24oZmlsdGVyID8gZmlsdGVyVHJhbnNhY3Rpb24odHIpIDogdHIpO1xufVxuLy8gRmluaXNoIGEgdHJhbnNhY3Rpb24gYnkgYXBwbHlpbmcgZmlsdGVycyBpZiBuZWNlc3NhcnkuXG5mdW5jdGlvbiBmaWx0ZXJUcmFuc2FjdGlvbih0cikge1xuICAgIGxldCBzdGF0ZSA9IHRyLnN0YXJ0U3RhdGU7XG4gICAgLy8gQ2hhbmdlIGZpbHRlcnNcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBmaWx0ZXIgb2Ygc3RhdGUuZmFjZXQoY2hhbmdlRmlsdGVyKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBmaWx0ZXIodHIpO1xuICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdHJ1ZSA/IHZhbHVlIDogam9pblJhbmdlcyhyZXN1bHQsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICBsZXQgY2hhbmdlcywgYmFjaztcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJhY2sgPSB0ci5jaGFuZ2VzLmludmVydGVkRGVzYztcbiAgICAgICAgICAgIGNoYW5nZXMgPSBDaGFuZ2VTZXQuZW1wdHkoc3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWQgPSB0ci5jaGFuZ2VzLmZpbHRlcihyZXN1bHQpO1xuICAgICAgICAgICAgY2hhbmdlcyA9IGZpbHRlcmVkLmNoYW5nZXM7XG4gICAgICAgICAgICBiYWNrID0gZmlsdGVyZWQuZmlsdGVyZWQubWFwRGVzYyhmaWx0ZXJlZC5jaGFuZ2VzKS5pbnZlcnRlZERlc2M7XG4gICAgICAgIH1cbiAgICAgICAgdHIgPSBUcmFuc2FjdGlvbi5jcmVhdGUoc3RhdGUsIGNoYW5nZXMsIHRyLnNlbGVjdGlvbiAmJiB0ci5zZWxlY3Rpb24ubWFwKGJhY2spLCBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKHRyLmVmZmVjdHMsIGJhY2spLCB0ci5hbm5vdGF0aW9ucywgdHIuc2Nyb2xsSW50b1ZpZXcpO1xuICAgIH1cbiAgICAvLyBUcmFuc2FjdGlvbiBmaWx0ZXJzXG4gICAgbGV0IGZpbHRlcnMgPSBzdGF0ZS5mYWNldCh0cmFuc2FjdGlvbkZpbHRlcik7XG4gICAgZm9yIChsZXQgaSA9IGZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gZmlsdGVyc1tpXSh0cik7XG4gICAgICAgIGlmIChmaWx0ZXJlZCBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgdHIgPSBmaWx0ZXJlZDtcbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXJlZCkgJiYgZmlsdGVyZWQubGVuZ3RoID09IDEgJiYgZmlsdGVyZWRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbilcbiAgICAgICAgICAgIHRyID0gZmlsdGVyZWRbMF07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRyID0gcmVzb2x2ZVRyYW5zYWN0aW9uKHN0YXRlLCBhc0FycmF5KGZpbHRlcmVkKSwgZmFsc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdHI7XG59XG5mdW5jdGlvbiBleHRlbmRUcmFuc2FjdGlvbih0cikge1xuICAgIGxldCBzdGF0ZSA9IHRyLnN0YXJ0U3RhdGUsIGV4dGVuZGVycyA9IHN0YXRlLmZhY2V0KHRyYW5zYWN0aW9uRXh0ZW5kZXIpLCBzcGVjID0gdHI7XG4gICAgZm9yIChsZXQgaSA9IGV4dGVuZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5kZXJzW2ldKHRyKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbiAmJiBPYmplY3Qua2V5cyhleHRlbnNpb24pLmxlbmd0aClcbiAgICAgICAgICAgIHNwZWMgPSBtZXJnZVRyYW5zYWN0aW9uKHNwZWMsIHJlc29sdmVUcmFuc2FjdGlvbklubmVyKHN0YXRlLCBleHRlbnNpb24sIHRyLmNoYW5nZXMubmV3TGVuZ3RoKSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBzcGVjID09IHRyID8gdHIgOiBUcmFuc2FjdGlvbi5jcmVhdGUoc3RhdGUsIHRyLmNoYW5nZXMsIHRyLnNlbGVjdGlvbiwgc3BlYy5lZmZlY3RzLCBzcGVjLmFubm90YXRpb25zLCBzcGVjLnNjcm9sbEludG9WaWV3KTtcbn1cbmNvbnN0IG5vbmUgPSBbXTtcbmZ1bmN0aW9uIGFzQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG5vbmUgOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cblxuLyoqXG5UaGUgY2F0ZWdvcmllcyBwcm9kdWNlZCBieSBhIFtjaGFyYWN0ZXJcbmNhdGVnb3JpemVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikuIFRoZXNlIGFyZSB1c2VkXG5kbyB0aGluZ3MgbGlrZSBzZWxlY3RpbmcgYnkgd29yZC5cbiovXG52YXIgQ2hhckNhdGVnb3J5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ2hhckNhdGVnb3J5KSB7XG4gICAgLyoqXG4gICAgV29yZCBjaGFyYWN0ZXJzLlxuICAgICovXG4gICAgQ2hhckNhdGVnb3J5W0NoYXJDYXRlZ29yeVtcIldvcmRcIl0gPSAwXSA9IFwiV29yZFwiO1xuICAgIC8qKlxuICAgIFdoaXRlc3BhY2UuXG4gICAgKi9cbiAgICBDaGFyQ2F0ZWdvcnlbQ2hhckNhdGVnb3J5W1wiU3BhY2VcIl0gPSAxXSA9IFwiU3BhY2VcIjtcbiAgICAvKipcbiAgICBBbnl0aGluZyBlbHNlLlxuICAgICovXG4gICAgQ2hhckNhdGVnb3J5W0NoYXJDYXRlZ29yeVtcIk90aGVyXCJdID0gMl0gPSBcIk90aGVyXCI7XG5yZXR1cm4gQ2hhckNhdGVnb3J5fSkoQ2hhckNhdGVnb3J5IHx8IChDaGFyQ2F0ZWdvcnkgPSB7fSkpO1xuY29uc3Qgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIgPSAvW1xcdTAwZGZcXHUwNTg3XFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MzA0MC1cXHUzMDlmXFx1MzBhMC1cXHUzMGZmXFx1MzQwMC1cXHU0ZGI1XFx1NGUwMC1cXHU5ZmNjXFx1YWMwMC1cXHVkN2FmXS87XG5sZXQgd29yZENoYXI7XG50cnkge1xuICAgIHdvcmRDaGFyID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFxcXHB7QWxwaGFiZXRpY31cXFxccHtOdW1iZXJ9X11cIiwgXCJ1XCIpO1xufVxuY2F0Y2ggKF8pIHsgfVxuZnVuY3Rpb24gaGFzV29yZENoYXIoc3RyKSB7XG4gICAgaWYgKHdvcmRDaGFyKVxuICAgICAgICByZXR1cm4gd29yZENoYXIudGVzdChzdHIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaCA9IHN0cltpXTtcbiAgICAgICAgaWYgKC9cXHcvLnRlc3QoY2gpIHx8IGNoID4gXCJcXHg4MFwiICYmIChjaC50b1VwcGVyQ2FzZSgpICE9IGNoLnRvTG93ZXJDYXNlKCkgfHwgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIudGVzdChjaCkpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG1ha2VDYXRlZ29yaXplcih3b3JkQ2hhcnMpIHtcbiAgICByZXR1cm4gKGNoYXIpID0+IHtcbiAgICAgICAgaWYgKCEvXFxTLy50ZXN0KGNoYXIpKVxuICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5TcGFjZTtcbiAgICAgICAgaWYgKGhhc1dvcmRDaGFyKGNoYXIpKVxuICAgICAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5Xb3JkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRDaGFycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChjaGFyLmluZGV4T2Yod29yZENoYXJzW2ldKSA+IC0xKVxuICAgICAgICAgICAgICAgIHJldHVybiBDaGFyQ2F0ZWdvcnkuV29yZDtcbiAgICAgICAgcmV0dXJuIENoYXJDYXRlZ29yeS5PdGhlcjtcbiAgICB9O1xufVxuXG4vKipcblRoZSBlZGl0b3Igc3RhdGUgY2xhc3MgaXMgYSBwZXJzaXN0ZW50IChpbW11dGFibGUpIGRhdGEgc3RydWN0dXJlLlxuVG8gdXBkYXRlIGEgc3RhdGUsIHlvdSBbY3JlYXRlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkgYVxuW3RyYW5zYWN0aW9uXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uKSwgd2hpY2ggcHJvZHVjZXMgYSBfbmV3XyBzdGF0ZVxuaW5zdGFuY2UsIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBvcmlnaW5hbCBvYmplY3QuXG5cbkFzIHN1Y2gsIF9uZXZlcl8gbXV0YXRlIHByb3BlcnRpZXMgb2YgYSBzdGF0ZSBkaXJlY3RseS4gVGhhdCdsbFxuanVzdCBicmVhayB0aGluZ3MuXG4qL1xuY2xhc3MgRWRpdG9yU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uZmlnLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBkb2N1bWVudC5cbiAgICAqL1xuICAgIGRvYywgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICovXG4gICAgc2VsZWN0aW9uLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHZhbHVlcywgY29tcHV0ZVNsb3QsIHRyKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmRvYyA9IGRvYztcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBzZWxlY3Rpb247XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IGNvbmZpZy5zdGF0dXNUZW1wbGF0ZS5zbGljZSgpO1xuICAgICAgICB0aGlzLmNvbXB1dGVTbG90ID0gY29tcHV0ZVNsb3Q7XG4gICAgICAgIC8vIEZpbGwgaW4gdGhlIGNvbXB1dGVkIHN0YXRlIGltbWVkaWF0ZWx5LCBzbyB0aGF0IGZ1cnRoZXIgcXVlcmllc1xuICAgICAgICAvLyBmb3IgaXQgbWFkZSBkdXJpbmcgdGhlIHVwZGF0ZSByZXR1cm4gdGhpcyBzdGF0ZVxuICAgICAgICBpZiAodHIpXG4gICAgICAgICAgICB0ci5fc3RhdGUgPSB0aGlzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29uZmlnLmR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGVuc3VyZUFkZHIodGhpcywgaSA8PCAxKTtcbiAgICAgICAgdGhpcy5jb21wdXRlU2xvdCA9IG51bGw7XG4gICAgfVxuICAgIGZpZWxkKGZpZWxkLCByZXF1aXJlID0gdHJ1ZSkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuY29uZmlnLmFkZHJlc3NbZmllbGQuaWRdO1xuICAgICAgICBpZiAoYWRkciA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocmVxdWlyZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkZpZWxkIGlzIG5vdCBwcmVzZW50IGluIHRoaXMgc3RhdGVcIik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVuc3VyZUFkZHIodGhpcywgYWRkcik7XG4gICAgICAgIHJldHVybiBnZXRBZGRyKHRoaXMsIGFkZHIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbdHJhbnNhY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24pIHRoYXQgdXBkYXRlcyB0aGlzXG4gICAgc3RhdGUuIEFueSBudW1iZXIgb2YgW3RyYW5zYWN0aW9uIHNwZWNzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYylcbiAgICBjYW4gYmUgcGFzc2VkLiBVbmxlc3NcbiAgICBbYHNlcXVlbnRpYWxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZXF1ZW50aWFsKSBpcyBzZXQsIHRoZVxuICAgIFtjaGFuZ2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5jaGFuZ2VzKSAoaWYgYW55KSBvZiBlYWNoIHNwZWNcbiAgICBhcmUgYXNzdW1lZCB0byBzdGFydCBpbiB0aGUgX2N1cnJlbnRfIGRvY3VtZW50IChub3QgdGhlIGRvY3VtZW50XG4gICAgcHJvZHVjZWQgYnkgcHJldmlvdXMgc3BlY3MpLCBhbmQgaXRzXG4gICAgW3NlbGVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuc2VsZWN0aW9uKSBhbmRcbiAgICBbZWZmZWN0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgYXJlIGFzc3VtZWQgdG8gcmVmZXJcbiAgICB0byB0aGUgZG9jdW1lbnQgY3JlYXRlZCBieSBpdHMgX293bl8gY2hhbmdlcy4gVGhlIHJlc3VsdGluZ1xuICAgIHRyYW5zYWN0aW9uIGNvbnRhaW5zIHRoZSBjb21iaW5lZCBlZmZlY3Qgb2YgYWxsIHRoZSBkaWZmZXJlbnRcbiAgICBzcGVjcy4gRm9yIFtzZWxlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLnNlbGVjdGlvbiksIGxhdGVyXG4gICAgc3BlY3MgdGFrZSBwcmVjZWRlbmNlIG92ZXIgZWFybGllciBvbmVzLlxuICAgICovXG4gICAgdXBkYXRlKC4uLnNwZWNzKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlVHJhbnNhY3Rpb24odGhpcywgc3BlY3MsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFwcGx5VHJhbnNhY3Rpb24odHIpIHtcbiAgICAgICAgbGV0IGNvbmYgPSB0aGlzLmNvbmZpZywgeyBiYXNlLCBjb21wYXJ0bWVudHMgfSA9IGNvbmY7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKENvbXBhcnRtZW50LnJlY29uZmlndXJlKSkge1xuICAgICAgICAgICAgICAgIGlmIChjb25mKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcnRtZW50cyA9IG5ldyBNYXA7XG4gICAgICAgICAgICAgICAgICAgIGNvbmYuY29tcGFydG1lbnRzLmZvckVhY2goKHZhbCwga2V5KSA9PiBjb21wYXJ0bWVudHMuc2V0KGtleSwgdmFsKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbmYgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wYXJ0bWVudHMuc2V0KGVmZmVjdC52YWx1ZS5jb21wYXJ0bWVudCwgZWZmZWN0LnZhbHVlLmV4dGVuc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlZmZlY3QuaXMoU3RhdGVFZmZlY3QucmVjb25maWd1cmUpKSB7XG4gICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVmZmVjdC5pcyhTdGF0ZUVmZmVjdC5hcHBlbmRDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZiA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGFzQXJyYXkoYmFzZSkuY29uY2F0KGVmZmVjdC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0VmFsdWVzO1xuICAgICAgICBpZiAoIWNvbmYpIHtcbiAgICAgICAgICAgIGNvbmYgPSBDb25maWd1cmF0aW9uLnJlc29sdmUoYmFzZSwgY29tcGFydG1lbnRzLCB0aGlzKTtcbiAgICAgICAgICAgIGxldCBpbnRlcm1lZGlhdGVTdGF0ZSA9IG5ldyBFZGl0b3JTdGF0ZShjb25mLCB0aGlzLmRvYywgdGhpcy5zZWxlY3Rpb24sIGNvbmYuZHluYW1pY1Nsb3RzLm1hcCgoKSA9PiBudWxsKSwgKHN0YXRlLCBzbG90KSA9PiBzbG90LnJlY29uZmlndXJlKHN0YXRlLCB0aGlzKSwgbnVsbCk7XG4gICAgICAgICAgICBzdGFydFZhbHVlcyA9IGludGVybWVkaWF0ZVN0YXRlLnZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWVzID0gdHIuc3RhcnRTdGF0ZS52YWx1ZXMuc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBuZXcgRWRpdG9yU3RhdGUoY29uZiwgdHIubmV3RG9jLCB0ci5uZXdTZWxlY3Rpb24sIHN0YXJ0VmFsdWVzLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QudXBkYXRlKHN0YXRlLCB0ciksIHRyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3RyYW5zYWN0aW9uIHNwZWNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjKSB0aGF0XG4gICAgcmVwbGFjZXMgZXZlcnkgc2VsZWN0aW9uIHJhbmdlIHdpdGggdGhlIGdpdmVuIGNvbnRlbnQuXG4gICAgKi9cbiAgICByZXBsYWNlU2VsZWN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0ZXh0ID0gdGhpcy50b1RleHQodGV4dCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4gKHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogdGV4dCB9LFxuICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIHRleHQubGVuZ3RoKSB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHNldCBvZiBjaGFuZ2VzIGFuZCBhIG5ldyBzZWxlY3Rpb24gYnkgcnVubmluZyB0aGUgZ2l2ZW5cbiAgICBmdW5jdGlvbiBmb3IgZWFjaCByYW5nZSBpbiB0aGUgYWN0aXZlIHNlbGVjdGlvbi4gVGhlIGZ1bmN0aW9uXG4gICAgY2FuIHJldHVybiBhbiBvcHRpb25hbCBzZXQgb2YgY2hhbmdlcyAoaW4gdGhlIGNvb3JkaW5hdGUgc3BhY2VcbiAgICBvZiB0aGUgc3RhcnQgZG9jdW1lbnQpLCBwbHVzIGFuIHVwZGF0ZWQgcmFuZ2UgKGluIHRoZSBjb29yZGluYXRlXG4gICAgc3BhY2Ugb2YgdGhlIGRvY3VtZW50IHByb2R1Y2VkIGJ5IHRoZSBjYWxsJ3Mgb3duIGNoYW5nZXMpLiBUaGlzXG4gICAgbWV0aG9kIHdpbGwgbWVyZ2UgYWxsIHRoZSBjaGFuZ2VzIGFuZCByYW5nZXMgaW50byBhIHNpbmdsZVxuICAgIGNoYW5nZXNldCBhbmQgc2VsZWN0aW9uLCBhbmQgcmV0dXJuIGl0IGFzIGEgW3RyYW5zYWN0aW9uXG4gICAgc3BlY10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMpLCB3aGljaCBjYW4gYmUgcGFzc2VkIHRvXG4gICAgW2B1cGRhdGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnVwZGF0ZSkuXG4gICAgKi9cbiAgICBjaGFuZ2VCeVJhbmdlKGYpIHtcbiAgICAgICAgbGV0IHNlbCA9IHRoaXMuc2VsZWN0aW9uO1xuICAgICAgICBsZXQgcmVzdWx0MSA9IGYoc2VsLnJhbmdlc1swXSk7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gdGhpcy5jaGFuZ2VzKHJlc3VsdDEuY2hhbmdlcyksIHJhbmdlcyA9IFtyZXN1bHQxLnJhbmdlXTtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSBhc0FycmF5KHJlc3VsdDEuZWZmZWN0cyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGYoc2VsLnJhbmdlc1tpXSk7XG4gICAgICAgICAgICBsZXQgbmV3Q2hhbmdlcyA9IHRoaXMuY2hhbmdlcyhyZXN1bHQuY2hhbmdlcyksIG5ld01hcHBlZCA9IG5ld0NoYW5nZXMubWFwKGNoYW5nZXMpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpOyBqKyspXG4gICAgICAgICAgICAgICAgcmFuZ2VzW2pdID0gcmFuZ2VzW2pdLm1hcChuZXdNYXBwZWQpO1xuICAgICAgICAgICAgbGV0IG1hcEJ5ID0gY2hhbmdlcy5tYXBEZXNjKG5ld0NoYW5nZXMsIHRydWUpO1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2gocmVzdWx0LnJhbmdlLm1hcChtYXBCeSkpO1xuICAgICAgICAgICAgY2hhbmdlcyA9IGNoYW5nZXMuY29tcG9zZShuZXdNYXBwZWQpO1xuICAgICAgICAgICAgZWZmZWN0cyA9IFN0YXRlRWZmZWN0Lm1hcEVmZmVjdHMoZWZmZWN0cywgbmV3TWFwcGVkKS5jb25jYXQoU3RhdGVFZmZlY3QubWFwRWZmZWN0cyhhc0FycmF5KHJlc3VsdC5lZmZlY3RzKSwgbWFwQnkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShyYW5nZXMsIHNlbC5tYWluSW5kZXgpLFxuICAgICAgICAgICAgZWZmZWN0c1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBbY2hhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5DaGFuZ2VTZXQpIGZyb20gdGhlIGdpdmVuIGNoYW5nZVxuICAgIGRlc2NyaXB0aW9uLCB0YWtpbmcgdGhlIHN0YXRlJ3MgZG9jdW1lbnQgbGVuZ3RoIGFuZCBsaW5lXG4gICAgc2VwYXJhdG9yIGludG8gYWNjb3VudC5cbiAgICAqL1xuICAgIGNoYW5nZXMoc3BlYyA9IFtdKSB7XG4gICAgICAgIGlmIChzcGVjIGluc3RhbmNlb2YgQ2hhbmdlU2V0KVxuICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgIHJldHVybiBDaGFuZ2VTZXQub2Yoc3BlYywgdGhpcy5kb2MubGVuZ3RoLCB0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVXNpbmcgdGhlIHN0YXRlJ3MgW2xpbmVcbiAgICBzZXBhcmF0b3JdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVebGluZVNlcGFyYXRvciksIGNyZWF0ZSBhXG4gICAgW2BUZXh0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UZXh0KSBpbnN0YW5jZSBmcm9tIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICB0b1RleHQoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBUZXh0Lm9mKHN0cmluZy5zcGxpdCh0aGlzLmZhY2V0KEVkaXRvclN0YXRlLmxpbmVTZXBhcmF0b3IpIHx8IERlZmF1bHRTcGxpdCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm4gdGhlIGdpdmVuIHJhbmdlIG9mIHRoZSBkb2N1bWVudCBhcyBhIHN0cmluZy5cbiAgICAqL1xuICAgIHNsaWNlRG9jKGZyb20gPSAwLCB0byA9IHRoaXMuZG9jLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2Muc2xpY2VTdHJpbmcoZnJvbSwgdG8sIHRoaXMubGluZUJyZWFrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiBhIHN0YXRlIFtmYWNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5GYWNldCkuXG4gICAgKi9cbiAgICBmYWNldChmYWNldCkge1xuICAgICAgICBsZXQgYWRkciA9IHRoaXMuY29uZmlnLmFkZHJlc3NbZmFjZXQuaWRdO1xuICAgICAgICBpZiAoYWRkciA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhY2V0LmRlZmF1bHQ7XG4gICAgICAgIGVuc3VyZUFkZHIodGhpcywgYWRkcik7XG4gICAgICAgIHJldHVybiBnZXRBZGRyKHRoaXMsIGFkZHIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb252ZXJ0IHRoaXMgc3RhdGUgdG8gYSBKU09OLXNlcmlhbGl6YWJsZSBvYmplY3QuIFdoZW4gY3VzdG9tXG4gICAgZmllbGRzIHNob3VsZCBiZSBzZXJpYWxpemVkLCB5b3UgY2FuIHBhc3MgdGhlbSBpbiBhcyBhbiBvYmplY3RcbiAgICBtYXBwaW5nIHByb3BlcnR5IG5hbWVzIChpbiB0aGUgcmVzdWx0aW5nIG9iamVjdCwgd2hpY2ggc2hvdWxkXG4gICAgbm90IHVzZSBgZG9jYCBvciBgc2VsZWN0aW9uYCkgdG8gZmllbGRzLlxuICAgICovXG4gICAgdG9KU09OKGZpZWxkcykge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZG9jOiB0aGlzLnNsaWNlRG9jKCksXG4gICAgICAgICAgICBzZWxlY3Rpb246IHRoaXMuc2VsZWN0aW9uLnRvSlNPTigpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChmaWVsZHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wIGluIGZpZWxkcykge1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGZpZWxkc1twcm9wXTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTdGF0ZUZpZWxkICYmIHRoaXMuY29uZmlnLmFkZHJlc3NbdmFsdWUuaWRdICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IHZhbHVlLnNwZWMudG9KU09OKHRoaXMuZmllbGQoZmllbGRzW3Byb3BdKSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIERlc2VyaWFsaXplIGEgc3RhdGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbi4gV2hlbiBjdXN0b21cbiAgICBmaWVsZHMgc2hvdWxkIGJlIGRlc2VyaWFsaXplZCwgcGFzcyB0aGUgc2FtZSBvYmplY3QgeW91IHBhc3NlZFxuICAgIHRvIFtgdG9KU09OYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS50b0pTT04pIHdoZW4gc2VyaWFsaXppbmcgYXNcbiAgICB0aGlyZCBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uLCBjb25maWcgPSB7fSwgZmllbGRzKSB7XG4gICAgICAgIGlmICghanNvbiB8fCB0eXBlb2YganNvbi5kb2MgIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBFZGl0b3JTdGF0ZVwiKTtcbiAgICAgICAgbGV0IGZpZWxkSW5pdCA9IFtdO1xuICAgICAgICBpZiAoZmllbGRzKVxuICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGpzb24sIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IGZpZWxkc1twcm9wXSwgdmFsdWUgPSBqc29uW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEluaXQucHVzaChmaWVsZC5pbml0KHN0YXRlID0+IGZpZWxkLnNwZWMuZnJvbUpTT04odmFsdWUsIHN0YXRlKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVkaXRvclN0YXRlLmNyZWF0ZSh7XG4gICAgICAgICAgICBkb2M6IGpzb24uZG9jLFxuICAgICAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04oanNvbi5zZWxlY3Rpb24pLFxuICAgICAgICAgICAgZXh0ZW5zaW9uczogY29uZmlnLmV4dGVuc2lvbnMgPyBmaWVsZEluaXQuY29uY2F0KFtjb25maWcuZXh0ZW5zaW9uc10pIDogZmllbGRJbml0XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgc3RhdGUuIFlvdSdsbCB1c3VhbGx5IG9ubHkgbmVlZCB0aGlzIHdoZW5cbiAgICBpbml0aWFsaXppbmcgYW4gZWRpdG9yXHUyMDE0dXBkYXRlZCBzdGF0ZXMgYXJlIGNyZWF0ZWQgYnkgYXBwbHlpbmdcbiAgICB0cmFuc2FjdGlvbnMuXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIGxldCBjb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbi5yZXNvbHZlKGNvbmZpZy5leHRlbnNpb25zIHx8IFtdLCBuZXcgTWFwKTtcbiAgICAgICAgbGV0IGRvYyA9IGNvbmZpZy5kb2MgaW5zdGFuY2VvZiBUZXh0ID8gY29uZmlnLmRvY1xuICAgICAgICAgICAgOiBUZXh0Lm9mKChjb25maWcuZG9jIHx8IFwiXCIpLnNwbGl0KGNvbmZpZ3VyYXRpb24uc3RhdGljRmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgRGVmYXVsdFNwbGl0KSk7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSAhY29uZmlnLnNlbGVjdGlvbiA/IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoMClcbiAgICAgICAgICAgIDogY29uZmlnLnNlbGVjdGlvbiBpbnN0YW5jZW9mIEVkaXRvclNlbGVjdGlvbiA/IGNvbmZpZy5zZWxlY3Rpb25cbiAgICAgICAgICAgICAgICA6IEVkaXRvclNlbGVjdGlvbi5zaW5nbGUoY29uZmlnLnNlbGVjdGlvbi5hbmNob3IsIGNvbmZpZy5zZWxlY3Rpb24uaGVhZCk7XG4gICAgICAgIGNoZWNrU2VsZWN0aW9uKHNlbGVjdGlvbiwgZG9jLmxlbmd0aCk7XG4gICAgICAgIGlmICghY29uZmlndXJhdGlvbi5zdGF0aWNGYWNldChhbGxvd011bHRpcGxlU2VsZWN0aW9ucykpXG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uYXNTaW5nbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0b3JTdGF0ZShjb25maWd1cmF0aW9uLCBkb2MsIHNlbGVjdGlvbiwgY29uZmlndXJhdGlvbi5keW5hbWljU2xvdHMubWFwKCgpID0+IG51bGwpLCAoc3RhdGUsIHNsb3QpID0+IHNsb3QuY3JlYXRlKHN0YXRlKSwgbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzaXplIChpbiBjb2x1bW5zKSBvZiBhIHRhYiBpbiB0aGUgZG9jdW1lbnQsIGRldGVybWluZWQgYnlcbiAgICB0aGUgW2B0YWJTaXplYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV50YWJTaXplKSBmYWNldC5cbiAgICAqL1xuICAgIGdldCB0YWJTaXplKCkgeyByZXR1cm4gdGhpcy5mYWNldChFZGl0b3JTdGF0ZS50YWJTaXplKTsgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgcHJvcGVyIFtsaW5lLWJyZWFrXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmxpbmVTZXBhcmF0b3IpXG4gICAgc3RyaW5nIGZvciB0aGlzIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IGxpbmVCcmVhaygpIHsgcmV0dXJuIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcikgfHwgXCJcXG5cIjsgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBlZGl0b3IgaXNcbiAgICBbY29uZmlndXJlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5yZWFkT25seSkgdG8gYmUgcmVhZC1vbmx5LlxuICAgICovXG4gICAgZ2V0IHJlYWRPbmx5KCkgeyByZXR1cm4gdGhpcy5mYWNldChyZWFkT25seSk7IH1cbiAgICAvKipcbiAgICBMb29rIHVwIGEgdHJhbnNsYXRpb24gZm9yIHRoZSBnaXZlbiBwaHJhc2UgKHZpYSB0aGVcbiAgICBbYHBocmFzZXNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXnBocmFzZXMpIGZhY2V0KSwgb3IgcmV0dXJuIHRoZVxuICAgIG9yaWdpbmFsIHN0cmluZyBpZiBubyB0cmFuc2xhdGlvbiBpcyBmb3VuZC5cbiAgICBcbiAgICBJZiBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcGFzc2VkLCB0aGV5IHdpbGwgYmUgaW5zZXJ0ZWQgaW5cbiAgICBwbGFjZSBvZiBtYXJrZXJzIGxpa2UgYCQxYCAoZm9yIHRoZSBmaXJzdCB2YWx1ZSkgYW5kIGAkMmAsIGV0Yy5cbiAgICBBIHNpbmdsZSBgJGAgaXMgZXF1aXZhbGVudCB0byBgJDFgLCBhbmQgYCQkYCB3aWxsIHByb2R1Y2UgYVxuICAgIGxpdGVyYWwgZG9sbGFyIHNpZ24uXG4gICAgKi9cbiAgICBwaHJhc2UocGhyYXNlLCAuLi5pbnNlcnQpIHtcbiAgICAgICAgZm9yIChsZXQgbWFwIG9mIHRoaXMuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1hcCwgcGhyYXNlKSkge1xuICAgICAgICAgICAgICAgIHBocmFzZSA9IG1hcFtwaHJhc2VdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBpZiAoaW5zZXJ0Lmxlbmd0aClcbiAgICAgICAgICAgIHBocmFzZSA9IHBocmFzZS5yZXBsYWNlKC9cXCQoXFwkfFxcZCopL2csIChtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gXCIkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiRcIjtcbiAgICAgICAgICAgICAgICBsZXQgbiA9ICsoaSB8fCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIW4gfHwgbiA+IGluc2VydC5sZW5ndGggPyBtIDogaW5zZXJ0W24gLSAxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGhyYXNlO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gbGFuZ3VhZ2UgZGF0YSBmaWVsZCwgcHJvdmlkZWQgYnkgdGhlXG4gICAgdGhlIFtgbGFuZ3VhZ2VEYXRhYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5sYW5ndWFnZURhdGEpIGZhY2V0LlxuICAgIFxuICAgIEV4YW1wbGVzIG9mIGxhbmd1YWdlIGRhdGEgZmllbGRzIGFyZS4uLlxuICAgIFxuICAgIC0gW2BcImNvbW1lbnRUb2tlbnNcImBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuQ29tbWVudFRva2VucykgZm9yIHNwZWNpZnlpbmdcbiAgICAgIGNvbW1lbnQgc3ludGF4LlxuICAgIC0gW2BcImF1dG9jb21wbGV0ZVwiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuYXV0b2NvbXBsZXRpb25eY29uZmlnLm92ZXJyaWRlKVxuICAgICAgZm9yIHByb3ZpZGluZyBsYW5ndWFnZS1zcGVjaWZpYyBjb21wbGV0aW9uIHNvdXJjZXMuXG4gICAgLSBbYFwid29yZENoYXJzXCJgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmNoYXJDYXRlZ29yaXplcikgZm9yIGFkZGluZ1xuICAgICAgY2hhcmFjdGVycyB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHBhcnQgb2Ygd29yZHMgaW4gdGhpc1xuICAgICAgbGFuZ3VhZ2UuXG4gICAgLSBbYFwiY2xvc2VCcmFja2V0c1wiYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ2xvc2VCcmFja2V0Q29uZmlnKSBjb250cm9sc1xuICAgICAgYnJhY2tldCBjbG9zaW5nIGJlaGF2aW9yLlxuICAgICovXG4gICAgbGFuZ3VhZ2VEYXRhQXQobmFtZSwgcG9zLCBzaWRlID0gLTEpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcm92aWRlciBvZiB0aGlzLmZhY2V0KGxhbmd1YWdlRGF0YSkpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHJlc3VsdCBvZiBwcm92aWRlcih0aGlzLCBwb3MsIHNpZGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIG5hbWUpKVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHRbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgY2FuIGNhdGVnb3JpemUgc3RyaW5ncyAoZXhwZWN0ZWQgdG9cbiAgICByZXByZXNlbnQgYSBzaW5nbGUgW2dyYXBoZW1lIGNsdXN0ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuZmluZENsdXN0ZXJCcmVhaykpXG4gICAgaW50byBvbmUgb2Y6XG4gICAgXG4gICAgIC0gV29yZCAoY29udGFpbnMgYW4gYWxwaGFudW1lcmljIGNoYXJhY3RlciBvciBhIGNoYXJhY3RlclxuICAgICAgIGV4cGxpY2l0bHkgbGlzdGVkIGluIHRoZSBsb2NhbCBsYW5ndWFnZSdzIGBcIndvcmRDaGFyc1wiYFxuICAgICAgIGxhbmd1YWdlIGRhdGEsIHdoaWNoIHNob3VsZCBiZSBhIHN0cmluZylcbiAgICAgLSBTcGFjZSAoY29udGFpbnMgb25seSB3aGl0ZXNwYWNlKVxuICAgICAtIE90aGVyIChhbnl0aGluZyBlbHNlKVxuICAgICovXG4gICAgY2hhckNhdGVnb3JpemVyKGF0KSB7XG4gICAgICAgIHJldHVybiBtYWtlQ2F0ZWdvcml6ZXIodGhpcy5sYW5ndWFnZURhdGFBdChcIndvcmRDaGFyc1wiLCBhdCkuam9pbihcIlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIHdvcmQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLCBtZWFuaW5nIHRoZSByYW5nZVxuICAgIGNvbnRhaW5pbmcgYWxsIFt3b3JkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkNoYXJDYXRlZ29yeS5Xb3JkKSBjaGFyYWN0ZXJzXG4gICAgYXJvdW5kIGl0LiBJZiBubyB3b3JkIGNoYXJhY3RlcnMgYXJlIGFkamFjZW50IHRvIHRoZSBwb3NpdGlvbixcbiAgICB0aGlzIHJldHVybnMgbnVsbC5cbiAgICAqL1xuICAgIHdvcmRBdChwb3MpIHtcbiAgICAgICAgbGV0IHsgdGV4dCwgZnJvbSwgbGVuZ3RoIH0gPSB0aGlzLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IGNhdCA9IHRoaXMuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgICAgIGxldCBzdGFydCA9IHBvcyAtIGZyb20sIGVuZCA9IHBvcyAtIGZyb207XG4gICAgICAgIHdoaWxlIChzdGFydCA+IDApIHtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gZmluZENsdXN0ZXJCcmVhayh0ZXh0LCBzdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGNhdCh0ZXh0LnNsaWNlKHByZXYsIHN0YXJ0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzdGFydCA9IHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGVuZCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBmaW5kQ2x1c3RlckJyZWFrKHRleHQsIGVuZCk7XG4gICAgICAgICAgICBpZiAoY2F0KHRleHQuc2xpY2UoZW5kLCBuZXh0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbmQgPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydCA9PSBlbmQgPyBudWxsIDogRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHN0YXJ0ICsgZnJvbSwgZW5kICsgZnJvbSk7XG4gICAgfVxufVxuLyoqXG5BIGZhY2V0IHRoYXQsIHdoZW4gZW5hYmxlZCwgY2F1c2VzIHRoZSBlZGl0b3IgdG8gYWxsb3cgbXVsdGlwbGVcbnJhbmdlcyB0byBiZSBzZWxlY3RlZC4gQmUgY2FyZWZ1bCB0aG91Z2gsIGJlY2F1c2UgYnkgZGVmYXVsdCB0aGVcbmVkaXRvciByZWxpZXMgb24gdGhlIG5hdGl2ZSBET00gc2VsZWN0aW9uLCB3aGljaCBjYW5ub3QgaGFuZGxlXG5tdWx0aXBsZSBzZWxlY3Rpb25zLiBBbiBleHRlbnNpb24gbGlrZVxuW2BkcmF3U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmRyYXdTZWxlY3Rpb24pIGNhbiBiZSB1c2VkIHRvIG1ha2VcbnNlY29uZGFyeSBzZWxlY3Rpb25zIHZpc2libGUgdG8gdGhlIHVzZXIuXG4qL1xuRWRpdG9yU3RhdGUuYWxsb3dNdWx0aXBsZVNlbGVjdGlvbnMgPSBhbGxvd011bHRpcGxlU2VsZWN0aW9ucztcbi8qKlxuQ29uZmlndXJlcyB0aGUgdGFiIHNpemUgdG8gdXNlIGluIHRoaXMgc3RhdGUuIFRoZSBmaXJzdFxuKGhpZ2hlc3QtcHJlY2VkZW5jZSkgdmFsdWUgb2YgdGhlIGZhY2V0IGlzIHVzZWQuIElmIG5vIHZhbHVlIGlzXG5naXZlbiwgdGhpcyBkZWZhdWx0cyB0byA0LlxuKi9cbkVkaXRvclN0YXRlLnRhYlNpemUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmxlbmd0aCA/IHZhbHVlc1swXSA6IDRcbn0pO1xuLyoqXG5UaGUgbGluZSBzZXBhcmF0b3IgdG8gdXNlLiBCeSBkZWZhdWx0LCBhbnkgb2YgYFwiXFxuXCJgLCBgXCJcXHJcXG5cImBcbmFuZCBgXCJcXHJcImAgaXMgdHJlYXRlZCBhcyBhIHNlcGFyYXRvciB3aGVuIHNwbGl0dGluZyBsaW5lcywgYW5kXG5saW5lcyBhcmUgam9pbmVkIHdpdGggYFwiXFxuXCJgLlxuXG5XaGVuIHlvdSBjb25maWd1cmUgYSB2YWx1ZSBoZXJlLCBvbmx5IHRoYXQgcHJlY2lzZSBzZXBhcmF0b3JcbndpbGwgYmUgdXNlZCwgYWxsb3dpbmcgeW91IHRvIHJvdW5kLXRyaXAgZG9jdW1lbnRzIHRocm91Z2ggdGhlXG5lZGl0b3Igd2l0aG91dCBub3JtYWxpemluZyBsaW5lIHNlcGFyYXRvcnMuXG4qL1xuRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvciA9IGxpbmVTZXBhcmF0b3I7XG4vKipcblRoaXMgZmFjZXQgY29udHJvbHMgdGhlIHZhbHVlIG9mIHRoZVxuW2ByZWFkT25seWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUucmVhZE9ubHkpIGdldHRlciwgd2hpY2ggaXNcbmNvbnN1bHRlZCBieSBjb21tYW5kcyBhbmQgZXh0ZW5zaW9ucyB0aGF0IGltcGxlbWVudCBlZGl0aW5nXG5mdW5jdGlvbmFsaXR5IHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXkgc2hvdWxkIGFwcGx5LiBJdFxuZGVmYXVsdHMgdG8gZmFsc2UsIGJ1dCB3aGVuIGl0cyBoaWdoZXN0LXByZWNlZGVuY2UgdmFsdWUgaXNcbmB0cnVlYCwgc3VjaCBmdW5jdGlvbmFsaXR5IGRpc2FibGVzIGl0c2VsZi5cblxuTm90IHRvIGJlIGNvbmZ1c2VkIHdpdGhcbltgRWRpdG9yVmlldy5lZGl0YWJsZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XmVkaXRhYmxlKSwgd2hpY2hcbmNvbnRyb2xzIHdoZXRoZXIgdGhlIGVkaXRvcidzIERPTSBpcyBzZXQgdG8gYmUgZWRpdGFibGUgKGFuZFxudGh1cyBmb2N1c2FibGUpLlxuKi9cbkVkaXRvclN0YXRlLnJlYWRPbmx5ID0gcmVhZE9ubHk7XG4vKipcblJlZ2lzdGVycyB0cmFuc2xhdGlvbiBwaHJhc2VzLiBUaGVcbltgcGhyYXNlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5waHJhc2UpIG1ldGhvZCB3aWxsIGxvb2sgdGhyb3VnaFxuYWxsIG9iamVjdHMgcmVnaXN0ZXJlZCB3aXRoIHRoaXMgZmFjZXQgdG8gZmluZCB0cmFuc2xhdGlvbnMgZm9yXG5pdHMgYXJndW1lbnQuXG4qL1xuRWRpdG9yU3RhdGUucGhyYXNlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbXBhcmUoYSwgYikge1xuICAgICAgICBsZXQga0EgPSBPYmplY3Qua2V5cyhhKSwga0IgPSBPYmplY3Qua2V5cyhiKTtcbiAgICAgICAgcmV0dXJuIGtBLmxlbmd0aCA9PSBrQi5sZW5ndGggJiYga0EuZXZlcnkoayA9PiBhW2tdID09IGJba10pO1xuICAgIH1cbn0pO1xuLyoqXG5BIGZhY2V0IHVzZWQgdG8gcmVnaXN0ZXIgW2xhbmd1YWdlXG5kYXRhXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLmxhbmd1YWdlRGF0YUF0KSBwcm92aWRlcnMuXG4qL1xuRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhID0gbGFuZ3VhZ2VEYXRhO1xuLyoqXG5GYWNldCB1c2VkIHRvIHJlZ2lzdGVyIGNoYW5nZSBmaWx0ZXJzLCB3aGljaCBhcmUgY2FsbGVkIGZvciBlYWNoXG50cmFuc2FjdGlvbiAodW5sZXNzIGV4cGxpY2l0bHlcbltkaXNhYmxlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSksIGFuZCBjYW4gc3VwcHJlc3NcbnBhcnQgb2YgdGhlIHRyYW5zYWN0aW9uJ3MgY2hhbmdlcy5cblxuU3VjaCBhIGZ1bmN0aW9uIGNhbiByZXR1cm4gYHRydWVgIHRvIGluZGljYXRlIHRoYXQgaXQgZG9lc24ndFxud2FudCB0byBkbyBhbnl0aGluZywgYGZhbHNlYCB0byBjb21wbGV0ZWx5IHN0b3AgdGhlIGNoYW5nZXMgaW5cbnRoZSB0cmFuc2FjdGlvbiwgb3IgYSBzZXQgb2YgcmFuZ2VzIGluIHdoaWNoIGNoYW5nZXMgc2hvdWxkIGJlXG5zdXBwcmVzc2VkLiBTdWNoIHJhbmdlcyBhcmUgcmVwcmVzZW50ZWQgYXMgYW4gYXJyYXkgb2YgbnVtYmVycyxcbndpdGggZWFjaCBwYWlyIG9mIHR3byBudW1iZXJzIGluZGljYXRpbmcgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgYVxucmFuZ2UuIFNvIGZvciBleGFtcGxlIGBbMTAsIDIwLCAxMDAsIDExMF1gIHN1cHByZXNzZXMgY2hhbmdlc1xuYmV0d2VlbiAxMCBhbmQgMjAsIGFuZCBiZXR3ZWVuIDEwMCBhbmQgMTEwLlxuKi9cbkVkaXRvclN0YXRlLmNoYW5nZUZpbHRlciA9IGNoYW5nZUZpbHRlcjtcbi8qKlxuRmFjZXQgdXNlZCB0byByZWdpc3RlciBhIGhvb2sgdGhhdCBnZXRzIGEgY2hhbmNlIHRvIHVwZGF0ZSBvclxucmVwbGFjZSB0cmFuc2FjdGlvbiBzcGVjcyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZC4gVGhpcyB3aWxsXG5vbmx5IGJlIGFwcGxpZWQgZm9yIHRyYW5zYWN0aW9ucyB0aGF0IGRvbid0IGhhdmVcbltgZmlsdGVyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZmlsdGVyKSBzZXQgdG8gYGZhbHNlYC4gWW91XG5jYW4gZWl0aGVyIHJldHVybiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBzcGVjIChwb3NzaWJseSB0aGUgaW5wdXRcbnRyYW5zYWN0aW9uKSwgb3IgYW4gYXJyYXkgb2Ygc3BlY3MgKHdoaWNoIHdpbGwgYmUgY29tYmluZWQgaW5cbnRoZSBzYW1lIHdheSBhcyB0aGUgYXJndW1lbnRzIHRvXG5bYEVkaXRvclN0YXRlLnVwZGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudXBkYXRlKSkuXG5cbldoZW4gcG9zc2libGUsIGl0IGlzIHJlY29tbWVuZGVkIHRvIGF2b2lkIGFjY2Vzc2luZ1xuW2BUcmFuc2FjdGlvbi5zdGF0ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb24uc3RhdGUpIGluIGEgZmlsdGVyLFxuc2luY2UgaXQgd2lsbCBmb3JjZSBjcmVhdGlvbiBvZiBhIHN0YXRlIHRoYXQgd2lsbCB0aGVuIGJlXG5kaXNjYXJkZWQgYWdhaW4sIGlmIHRoZSB0cmFuc2FjdGlvbiBpcyBhY3R1YWxseSBmaWx0ZXJlZC5cblxuKFRoaXMgZnVuY3Rpb25hbGl0eSBzaG91bGQgYmUgdXNlZCB3aXRoIGNhcmUuIEluZGlzY3JpbWluYXRlbHlcbm1vZGlmeWluZyB0cmFuc2FjdGlvbiBpcyBsaWtlbHkgdG8gYnJlYWsgc29tZXRoaW5nIG9yIGRlZ3JhZGVcbnRoZSB1c2VyIGV4cGVyaWVuY2UuKVxuKi9cbkVkaXRvclN0YXRlLnRyYW5zYWN0aW9uRmlsdGVyID0gdHJhbnNhY3Rpb25GaWx0ZXI7XG4vKipcblRoaXMgaXMgYSBtb3JlIGxpbWl0ZWQgZm9ybSBvZlxuW2B0cmFuc2FjdGlvbkZpbHRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedHJhbnNhY3Rpb25GaWx0ZXIpLFxud2hpY2ggY2FuIG9ubHkgYWRkXG5bYW5ub3RhdGlvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmFubm90YXRpb25zKSBhbmRcbltlZmZlY3RzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5lZmZlY3RzKS4gX0J1dF8sIHRoaXMgdHlwZVxub2YgZmlsdGVyIHJ1bnMgZXZlbiBpZiB0aGUgdHJhbnNhY3Rpb24gaGFzIGRpc2FibGVkIHJlZ3VsYXJcbltmaWx0ZXJpbmddKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuVHJhbnNhY3Rpb25TcGVjLmZpbHRlciksIG1ha2luZyBpdCBzdWl0YWJsZVxuZm9yIGVmZmVjdHMgdGhhdCBkb24ndCBuZWVkIHRvIHRvdWNoIHRoZSBjaGFuZ2VzIG9yIHNlbGVjdGlvbixcbmJ1dCBkbyB3YW50IHRvIHByb2Nlc3MgZXZlcnkgdHJhbnNhY3Rpb24uXG5cbkV4dGVuZGVycyBydW4gX2FmdGVyXyBmaWx0ZXJzLCB3aGVuIGJvdGggYXJlIHByZXNlbnQuXG4qL1xuRWRpdG9yU3RhdGUudHJhbnNhY3Rpb25FeHRlbmRlciA9IHRyYW5zYWN0aW9uRXh0ZW5kZXI7XG5Db21wYXJ0bWVudC5yZWNvbmZpZ3VyZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcblxuLyoqXG5VdGlsaXR5IGZ1bmN0aW9uIGZvciBjb21iaW5pbmcgYmVoYXZpb3JzIHRvIGZpbGwgaW4gYSBjb25maWdcbm9iamVjdCBmcm9tIGFuIGFycmF5IG9mIHByb3ZpZGVkIGNvbmZpZ3MuIGBkZWZhdWx0c2Agc2hvdWxkIGhvbGRcbmRlZmF1bHQgdmFsdWVzIGZvciBhbGwgb3B0aW9uYWwgZmllbGRzIGluIGBDb25maWdgLlxuXG5UaGUgZnVuY3Rpb24gd2lsbCwgYnkgZGVmYXVsdCwgZXJyb3JcbndoZW4gYSBmaWVsZCBnZXRzIHR3byB2YWx1ZXMgdGhhdCBhcmVuJ3QgYD09PWAtZXF1YWwsIGJ1dCB5b3UgY2FuXG5wcm92aWRlIGNvbWJpbmUgZnVuY3Rpb25zIHBlciBmaWVsZCB0byBkbyBzb21ldGhpbmcgZWxzZS5cbiovXG5mdW5jdGlvbiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIGRlZmF1bHRzLCAvLyBTaG91bGQgaG9sZCBvbmx5IHRoZSBvcHRpb25hbCBwcm9wZXJ0aWVzIG9mIENvbmZpZywgYnV0IEkgaGF2ZW4ndCBtYW5hZ2VkIHRvIGV4cHJlc3MgdGhhdFxuY29tYmluZSA9IHt9KSB7XG4gICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdzKVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY29uZmlnKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gY29uZmlnW2tleV0sIGN1cnJlbnQgPSByZXN1bHRba2V5XTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgPT09IHZhbHVlIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIDsgLy8gTm8gY29uZmxpY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbWJpbmUsIGtleSkpXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBjb21iaW5lW2tleV0oY3VycmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbmZpZyBtZXJnZSBjb25mbGljdCBmb3IgZmllbGQgXCIgKyBrZXkpO1xuICAgICAgICB9XG4gICAgZm9yIChsZXQga2V5IGluIGRlZmF1bHRzKVxuICAgICAgICBpZiAocmVzdWx0W2tleV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbkVhY2ggcmFuZ2UgaXMgYXNzb2NpYXRlZCB3aXRoIGEgdmFsdWUsIHdoaWNoIG11c3QgaW5oZXJpdCBmcm9tXG50aGlzIGNsYXNzLlxuKi9cbmNsYXNzIFJhbmdlVmFsdWUge1xuICAgIC8qKlxuICAgIENvbXBhcmUgdGhpcyB2YWx1ZSB3aXRoIGFub3RoZXIgdmFsdWUuIFVzZWQgd2hlbiBjb21wYXJpbmdcbiAgICByYW5nZXNldHMuIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGNvbXBhcmVzIGJ5IGlkZW50aXR5LlxuICAgIFVubGVzcyB5b3UgYXJlIG9ubHkgY3JlYXRpbmcgYSBmaXhlZCBudW1iZXIgb2YgdW5pcXVlIGluc3RhbmNlc1xuICAgIG9mIHlvdXIgdmFsdWUgdHlwZSwgaXQgaXMgYSBnb29kIGlkZWEgdG8gaW1wbGVtZW50IHRoaXNcbiAgICBwcm9wZXJseS5cbiAgICAqL1xuICAgIGVxKG90aGVyKSB7IHJldHVybiB0aGlzID09IG90aGVyOyB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlJhbmdlKSB3aXRoIHRoaXMgdmFsdWUuXG4gICAgKi9cbiAgICByYW5nZShmcm9tLCB0byA9IGZyb20pIHsgcmV0dXJuIFJhbmdlLmNyZWF0ZShmcm9tLCB0bywgdGhpcyk7IH1cbn1cblJhbmdlVmFsdWUucHJvdG90eXBlLnN0YXJ0U2lkZSA9IFJhbmdlVmFsdWUucHJvdG90eXBlLmVuZFNpZGUgPSAwO1xuUmFuZ2VWYWx1ZS5wcm90b3R5cGUucG9pbnQgPSBmYWxzZTtcblJhbmdlVmFsdWUucHJvdG90eXBlLm1hcE1vZGUgPSBNYXBNb2RlLlRyYWNrRGVsO1xuLyoqXG5BIHJhbmdlIGFzc29jaWF0ZXMgYSB2YWx1ZSB3aXRoIGEgcmFuZ2Ugb2YgcG9zaXRpb25zLlxuKi9cbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIEl0cyBlbmQgcG9zaXRpb24uXG4gICAgKi9cbiAgICB0bywgXG4gICAgLyoqXG4gICAgVGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJhbmdlLlxuICAgICovXG4gICAgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShmcm9tLCB0bywgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShmcm9tLCB0bywgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNtcFJhbmdlKGEsIGIpIHtcbiAgICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudmFsdWUuc3RhcnRTaWRlIC0gYi52YWx1ZS5zdGFydFNpZGU7XG59XG5jbGFzcyBDaHVuayB7XG4gICAgY29uc3RydWN0b3IoZnJvbSwgdG8sIHZhbHVlLCBcbiAgICAvLyBDaHVua3MgYXJlIG1hcmtlZCB3aXRoIHRoZSBsYXJnZXN0IHBvaW50IHRoYXQgb2NjdXJzXG4gICAgLy8gaW4gdGhlbSAob3IgLTEgZm9yIG5vIHBvaW50cyksIHNvIHRoYXQgc2NhbnMgdGhhdCBhcmVcbiAgICAvLyBvbmx5IGludGVyZXN0ZWQgaW4gcG9pbnRzIChzdWNoIGFzIHRoZVxuICAgIC8vIGhlaWdodG1hcC1yZWxhdGVkIGxvZ2ljKSBjYW4gc2tpcCByYW5nZS1vbmx5IGNodW5rcy5cbiAgICBtYXhQb2ludCkge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkgeyByZXR1cm4gdGhpcy50b1t0aGlzLnRvLmxlbmd0aCAtIDFdOyB9XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBzaWRlLiBVc2UgdGhlIHJhbmdlcydcbiAgICAvLyBgZnJvbWAgcG9zIHdoZW4gYGVuZCA9PSBmYWxzZWAsIGB0b2Agd2hlbiBgZW5kID09IHRydWVgLlxuICAgIGZpbmRJbmRleChwb3MsIHNpZGUsIGVuZCwgc3RhcnRBdCA9IDApIHtcbiAgICAgICAgbGV0IGFyciA9IGVuZCA/IHRoaXMudG8gOiB0aGlzLmZyb207XG4gICAgICAgIGZvciAobGV0IGxvID0gc3RhcnRBdCwgaGkgPSBhcnIubGVuZ3RoOzspIHtcbiAgICAgICAgICAgIGlmIChsbyA9PSBoaSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbG87XG4gICAgICAgICAgICBsZXQgbWlkID0gKGxvICsgaGkpID4+IDE7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IGFyclttaWRdIC0gcG9zIHx8IChlbmQgPyB0aGlzLnZhbHVlW21pZF0uZW5kU2lkZSA6IHRoaXMudmFsdWVbbWlkXS5zdGFydFNpZGUpIC0gc2lkZTtcbiAgICAgICAgICAgIGlmIChtaWQgPT0gbG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpZmYgPj0gMCA/IGxvIDogaGk7XG4gICAgICAgICAgICBpZiAoZGlmZiA+PSAwKVxuICAgICAgICAgICAgICAgIGhpID0gbWlkO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxvID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBiZXR3ZWVuKG9mZnNldCwgZnJvbSwgdG8sIGYpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmluZEluZGV4KGZyb20sIC0xMDAwMDAwMDAwIC8qIEMuRmFyICovLCB0cnVlKSwgZSA9IHRoaXMuZmluZEluZGV4KHRvLCAxMDAwMDAwMDAwIC8qIEMuRmFyICovLCBmYWxzZSwgaSk7IGkgPCBlOyBpKyspXG4gICAgICAgICAgICBpZiAoZih0aGlzLmZyb21baV0gKyBvZmZzZXQsIHRoaXMudG9baV0gKyBvZmZzZXQsIHRoaXMudmFsdWVbaV0pID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG1hcChvZmZzZXQsIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gW10sIGZyb20gPSBbXSwgdG8gPSBbXSwgbmV3UG9zID0gLTEsIG1heFBvaW50ID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IHRoaXMudmFsdWVbaV0sIGN1ckZyb20gPSB0aGlzLmZyb21baV0gKyBvZmZzZXQsIGN1clRvID0gdGhpcy50b1tpXSArIG9mZnNldCwgbmV3RnJvbSwgbmV3VG87XG4gICAgICAgICAgICBpZiAoY3VyRnJvbSA9PSBjdXJUbykge1xuICAgICAgICAgICAgICAgIGxldCBtYXBwZWQgPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuc3RhcnRTaWRlLCB2YWwubWFwTW9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBlZCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gbmV3VG8gPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHZhbC5zdGFydFNpZGUgIT0gdmFsLmVuZFNpZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJGcm9tLCB2YWwuZW5kU2lkZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUbyA8IG5ld0Zyb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdGcm9tID0gY2hhbmdlcy5tYXBQb3MoY3VyRnJvbSwgdmFsLnN0YXJ0U2lkZSk7XG4gICAgICAgICAgICAgICAgbmV3VG8gPSBjaGFuZ2VzLm1hcFBvcyhjdXJUbywgdmFsLmVuZFNpZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdGcm9tID4gbmV3VG8gfHwgbmV3RnJvbSA9PSBuZXdUbyAmJiB2YWwuc3RhcnRTaWRlID4gMCAmJiB2YWwuZW5kU2lkZSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobmV3VG8gLSBuZXdGcm9tIHx8IHZhbC5lbmRTaWRlIC0gdmFsLnN0YXJ0U2lkZSkgPCAwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG5ld1BvcyA8IDApXG4gICAgICAgICAgICAgICAgbmV3UG9zID0gbmV3RnJvbTtcbiAgICAgICAgICAgIGlmICh2YWwucG9pbnQpXG4gICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBNYXRoLm1heChtYXhQb2ludCwgbmV3VG8gLSBuZXdGcm9tKTtcbiAgICAgICAgICAgIHZhbHVlLnB1c2godmFsKTtcbiAgICAgICAgICAgIGZyb20ucHVzaChuZXdGcm9tIC0gbmV3UG9zKTtcbiAgICAgICAgICAgIHRvLnB1c2gobmV3VG8gLSBuZXdQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1hcHBlZDogdmFsdWUubGVuZ3RoID8gbmV3IENodW5rKGZyb20sIHRvLCB2YWx1ZSwgbWF4UG9pbnQpIDogbnVsbCwgcG9zOiBuZXdQb3MgfTtcbiAgICB9XG59XG4vKipcbkEgcmFuZ2Ugc2V0IHN0b3JlcyBhIGNvbGxlY3Rpb24gb2YgW3Jhbmdlc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZSkgaW4gYVxud2F5IHRoYXQgbWFrZXMgdGhlbSBlZmZpY2llbnQgdG8gW21hcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC5tYXApIGFuZFxuW3VwZGF0ZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldC51cGRhdGUpLiBUaGlzIGlzIGFuIGltbXV0YWJsZSBkYXRhXG5zdHJ1Y3R1cmUuXG4qL1xuY2xhc3MgUmFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtQb3MsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmssIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbmV4dExheWVyLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1heFBvaW50KSB7XG4gICAgICAgIHRoaXMuY2h1bmtQb3MgPSBjaHVua1BvcztcbiAgICAgICAgdGhpcy5jaHVuayA9IGNodW5rO1xuICAgICAgICB0aGlzLm5leHRMYXllciA9IG5leHRMYXllcjtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IG1heFBvaW50O1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VTZXQoY2h1bmtQb3MsIGNodW5rLCBuZXh0TGF5ZXIsIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY2h1bmsubGVuZ3RoIC0gMTtcbiAgICAgICAgcmV0dXJuIGxhc3QgPCAwID8gMCA6IE1hdGgubWF4KHRoaXMuY2h1bmtFbmQobGFzdCksIHRoaXMubmV4dExheWVyLmxlbmd0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBudW1iZXIgb2YgcmFuZ2VzIGluIHRoZSBzZXQuXG4gICAgKi9cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMubmV4dExheWVyLnNpemU7XG4gICAgICAgIGZvciAobGV0IGNodW5rIG9mIHRoaXMuY2h1bmspXG4gICAgICAgICAgICBzaXplICs9IGNodW5rLnZhbHVlLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2h1bmtFbmQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2h1bmtQb3NbaW5kZXhdICsgdGhpcy5jaHVua1tpbmRleF0ubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICBVcGRhdGUgdGhlIHJhbmdlIHNldCwgb3B0aW9uYWxseSBhZGRpbmcgbmV3IHJhbmdlcyBvciBmaWx0ZXJpbmdcbiAgICBvdXQgZXhpc3Rpbmcgb25lcy5cbiAgICBcbiAgICAoTm90ZTogVGhlIHR5cGUgcGFyYW1ldGVyIGlzIGp1c3QgdGhlcmUgYXMgYSBrbHVkZ2UgdG8gd29ya1xuICAgIGFyb3VuZCBUeXBlU2NyaXB0IHZhcmlhbmNlIGlzc3VlcyB0aGF0IHByZXZlbnRlZCBgUmFuZ2VTZXQ8WD5gXG4gICAgZnJvbSBiZWluZyBhIHN1YnR5cGUgb2YgYFJhbmdlU2V0PFk+YCB3aGVuIGBYYCBpcyBhIHN1YnR5cGUgb2ZcbiAgICBgWWAuKVxuICAgICovXG4gICAgdXBkYXRlKHVwZGF0ZVNwZWMpIHtcbiAgICAgICAgbGV0IHsgYWRkID0gW10sIHNvcnQgPSBmYWxzZSwgZmlsdGVyRnJvbSA9IDAsIGZpbHRlclRvID0gdGhpcy5sZW5ndGggfSA9IHVwZGF0ZVNwZWM7XG4gICAgICAgIGxldCBmaWx0ZXIgPSB1cGRhdGVTcGVjLmZpbHRlcjtcbiAgICAgICAgaWYgKGFkZC5sZW5ndGggPT0gMCAmJiAhZmlsdGVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGlmIChzb3J0KVxuICAgICAgICAgICAgYWRkID0gYWRkLnNsaWNlKCkuc29ydChjbXBSYW5nZSk7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gYWRkLmxlbmd0aCA/IFJhbmdlU2V0Lm9mKGFkZCkgOiB0aGlzO1xuICAgICAgICBsZXQgY3VyID0gbmV3IExheWVyQ3Vyc29yKHRoaXMsIG51bGwsIC0xKS5nb3RvKDApLCBpID0gMCwgc3BpbGwgPSBbXTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCk7XG4gICAgICAgIHdoaWxlIChjdXIudmFsdWUgfHwgaSA8IGFkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpIDwgYWRkLmxlbmd0aCAmJiAoY3VyLmZyb20gLSBhZGRbaV0uZnJvbSB8fCBjdXIuc3RhcnRTaWRlIC0gYWRkW2ldLnZhbHVlLnN0YXJ0U2lkZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGFkZFtpKytdO1xuICAgICAgICAgICAgICAgIGlmICghYnVpbGRlci5hZGRJbm5lcihyYW5nZS5mcm9tLCByYW5nZS50bywgcmFuZ2UudmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ci5yYW5nZUluZGV4ID09IDEgJiYgY3VyLmNodW5rSW5kZXggPCB0aGlzLmNodW5rLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIChpID09IGFkZC5sZW5ndGggfHwgdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgPCBhZGRbaV0uZnJvbSkgJiZcbiAgICAgICAgICAgICAgICAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gdGhpcy5jaHVua0VuZChjdXIuY2h1bmtJbmRleCkgfHwgZmlsdGVyVG8gPCB0aGlzLmNodW5rUG9zW2N1ci5jaHVua0luZGV4XSkgJiZcbiAgICAgICAgICAgICAgICBidWlsZGVyLmFkZENodW5rKHRoaXMuY2h1bmtQb3NbY3VyLmNodW5rSW5kZXhdLCB0aGlzLmNodW5rW2N1ci5jaHVua0luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICBjdXIubmV4dENodW5rKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXJGcm9tID4gY3VyLnRvIHx8IGZpbHRlclRvIDwgY3VyLmZyb20gfHwgZmlsdGVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFidWlsZGVyLmFkZElubmVyKGN1ci5mcm9tLCBjdXIudG8sIGN1ci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlsbC5wdXNoKFJhbmdlLmNyZWF0ZShjdXIuZnJvbSwgY3VyLnRvLCBjdXIudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VyLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5maW5pc2hJbm5lcih0aGlzLm5leHRMYXllci5pc0VtcHR5ICYmICFzcGlsbC5sZW5ndGggPyBSYW5nZVNldC5lbXB0eVxuICAgICAgICAgICAgOiB0aGlzLm5leHRMYXllci51cGRhdGUoeyBhZGQ6IHNwaWxsLCBmaWx0ZXIsIGZpbHRlckZyb20sIGZpbHRlclRvIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWFwIHRoaXMgcmFuZ2Ugc2V0IHRocm91Z2ggYSBzZXQgb2YgY2hhbmdlcywgcmV0dXJuIHRoZSBuZXcgc2V0LlxuICAgICovXG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXMuZW1wdHkgfHwgdGhpcy5pc0VtcHR5KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGxldCBjaHVua3MgPSBbXSwgY2h1bmtQb3MgPSBbXSwgbWF4UG9pbnQgPSAtMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNodW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLmNodW5rUG9zW2ldLCBjaHVuayA9IHRoaXMuY2h1bmtbaV07XG4gICAgICAgICAgICBsZXQgdG91Y2ggPSBjaGFuZ2VzLnRvdWNoZXNSYW5nZShzdGFydCwgc3RhcnQgKyBjaHVuay5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKHRvdWNoID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIGNodW5rLm1heFBvaW50KTtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgY2h1bmtQb3MucHVzaChjaGFuZ2VzLm1hcFBvcyhzdGFydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG91Y2ggPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyBtYXBwZWQsIHBvcyB9ID0gY2h1bmsubWFwKHN0YXJ0LCBjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFBvaW50ID0gTWF0aC5tYXgobWF4UG9pbnQsIG1hcHBlZC5tYXhQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKG1hcHBlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rUG9zLnB1c2gocG9zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSB0aGlzLm5leHRMYXllci5tYXAoY2hhbmdlcyk7XG4gICAgICAgIHJldHVybiBjaHVua3MubGVuZ3RoID09IDAgPyBuZXh0IDogbmV3IFJhbmdlU2V0KGNodW5rUG9zLCBjaHVua3MsIG5leHQgfHwgUmFuZ2VTZXQuZW1wdHksIG1heFBvaW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHRoZSByYW5nZXMgdGhhdCB0b3VjaCB0aGUgcmVnaW9uIGBmcm9tYCB0byBgdG9gLFxuICAgIGNhbGxpbmcgYGZgIGZvciBlYWNoLiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgcmFuZ2VzIHdpbGxcbiAgICBiZSByZXBvcnRlZCBpbiBhbnkgc3BlY2lmaWMgb3JkZXIuIFdoZW4gdGhlIGNhbGxiYWNrIHJldHVybnNcbiAgICBgZmFsc2VgLCBpdGVyYXRpb24gc3RvcHMuXG4gICAgKi9cbiAgICBiZXR3ZWVuKGZyb20sIHRvLCBmKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVuay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5jaHVua1Bvc1tpXSwgY2h1bmsgPSB0aGlzLmNodW5rW2ldO1xuICAgICAgICAgICAgaWYgKHRvID49IHN0YXJ0ICYmIGZyb20gPD0gc3RhcnQgKyBjaHVuay5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBjaHVuay5iZXR3ZWVuKHN0YXJ0LCBmcm9tIC0gc3RhcnQsIHRvIC0gc3RhcnQsIGYpID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0TGF5ZXIuYmV0d2Vlbihmcm9tLCB0bywgZik7XG4gICAgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIHRoaXMgc2V0LCBpbiBvcmRlciwgaW5jbHVkaW5nIGFsbFxuICAgIHJhbmdlcyB0aGF0IGVuZCBhdCBvciBhZnRlciBgZnJvbWAuXG4gICAgKi9cbiAgICBpdGVyKGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oW3RoaXNdKS5nb3RvKGZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpc0VtcHR5KCkgeyByZXR1cm4gdGhpcy5uZXh0TGF5ZXIgPT0gdGhpczsgfVxuICAgIC8qKlxuICAgIEl0ZXJhdGUgb3ZlciB0aGUgcmFuZ2VzIGluIGEgY29sbGVjdGlvbiBvZiBzZXRzLCBpbiBvcmRlcixcbiAgICBzdGFydGluZyBmcm9tIGBmcm9tYC5cbiAgICAqL1xuICAgIHN0YXRpYyBpdGVyKHNldHMsIGZyb20gPSAwKSB7XG4gICAgICAgIHJldHVybiBIZWFwQ3Vyc29yLmZyb20oc2V0cykuZ290byhmcm9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIHR3byBncm91cHMgb2Ygc2V0cywgY2FsbGluZyBtZXRob2RzIG9uIGBjb21wYXJhdG9yYFxuICAgIHRvIG5vdGlmeSBpdCBvZiBwb3NzaWJsZSBkaWZmZXJlbmNlcy5cbiAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlKG9sZFNldHMsIG5ld1NldHMsIFxuICAgIC8qKlxuICAgIFRoaXMgaW5kaWNhdGVzIGhvdyB0aGUgdW5kZXJseWluZyBkYXRhIGNoYW5nZWQgYmV0d2VlbiB0aGVzZVxuICAgIHJhbmdlcywgYW5kIGlzIG5lZWRlZCB0byBzeW5jaHJvbml6ZSB0aGUgaXRlcmF0aW9uLiBgZnJvbWAgYW5kXG4gICAgYHRvYCBhcmUgY29vcmRpbmF0ZXMgaW4gdGhlIF9uZXdfIHNwYWNlLCBhZnRlciB0aGVzZSBjaGFuZ2VzLlxuICAgICovXG4gICAgdGV4dERpZmYsIGNvbXBhcmF0b3IsIFxuICAgIC8qKlxuICAgIENhbiBiZSB1c2VkIHRvIGlnbm9yZSBhbGwgbm9uLXBvaW50IHJhbmdlcywgYW5kIHBvaW50cyBiZWxvd1xuICAgIHRoZSBnaXZlbiBzaXplLiBXaGVuIC0xLCBhbGwgcmFuZ2VzIGFyZSBjb21wYXJlZC5cbiAgICAqL1xuICAgIG1pblBvaW50U2l6ZSA9IC0xKSB7XG4gICAgICAgIGxldCBhID0gb2xkU2V0cy5maWx0ZXIoc2V0ID0+IHNldC5tYXhQb2ludCA+IDAgfHwgIXNldC5pc0VtcHR5ICYmIHNldC5tYXhQb2ludCA+PSBtaW5Qb2ludFNpemUpO1xuICAgICAgICBsZXQgYiA9IG5ld1NldHMuZmlsdGVyKHNldCA9PiBzZXQubWF4UG9pbnQgPiAwIHx8ICFzZXQuaXNFbXB0eSAmJiBzZXQubWF4UG9pbnQgPj0gbWluUG9pbnRTaXplKTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYiwgdGV4dERpZmYpO1xuICAgICAgICBsZXQgc2lkZUEgPSBuZXcgU3BhbkN1cnNvcihhLCBzaGFyZWRDaHVua3MsIG1pblBvaW50U2l6ZSk7XG4gICAgICAgIGxldCBzaWRlQiA9IG5ldyBTcGFuQ3Vyc29yKGIsIHNoYXJlZENodW5rcywgbWluUG9pbnRTaXplKTtcbiAgICAgICAgdGV4dERpZmYuaXRlckdhcHMoKGZyb21BLCBmcm9tQiwgbGVuZ3RoKSA9PiBjb21wYXJlKHNpZGVBLCBmcm9tQSwgc2lkZUIsIGZyb21CLCBsZW5ndGgsIGNvbXBhcmF0b3IpKTtcbiAgICAgICAgaWYgKHRleHREaWZmLmVtcHR5ICYmIHRleHREaWZmLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgY29tcGFyZShzaWRlQSwgMCwgc2lkZUIsIDAsIDAsIGNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoZSBjb250ZW50cyBvZiB0d28gZ3JvdXBzIG9mIHJhbmdlIHNldHMsIHJldHVybmluZyB0cnVlXG4gICAgaWYgdGhleSBhcmUgZXF1aXZhbGVudCBpbiB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgKi9cbiAgICBzdGF0aWMgZXEob2xkU2V0cywgbmV3U2V0cywgZnJvbSA9IDAsIHRvKSB7XG4gICAgICAgIGlmICh0byA9PSBudWxsKVxuICAgICAgICAgICAgdG8gPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovIC0gMTtcbiAgICAgICAgbGV0IGEgPSBvbGRTZXRzLmZpbHRlcihzZXQgPT4gIXNldC5pc0VtcHR5ICYmIG5ld1NldHMuaW5kZXhPZihzZXQpIDwgMCk7XG4gICAgICAgIGxldCBiID0gbmV3U2V0cy5maWx0ZXIoc2V0ID0+ICFzZXQuaXNFbXB0eSAmJiBvbGRTZXRzLmluZGV4T2Yoc2V0KSA8IDApO1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghYS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHNoYXJlZENodW5rcyA9IGZpbmRTaGFyZWRDaHVua3MoYSwgYik7XG4gICAgICAgIGxldCBzaWRlQSA9IG5ldyBTcGFuQ3Vyc29yKGEsIHNoYXJlZENodW5rcywgMCkuZ290byhmcm9tKSwgc2lkZUIgPSBuZXcgU3BhbkN1cnNvcihiLCBzaGFyZWRDaHVua3MsIDApLmdvdG8oZnJvbSk7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChzaWRlQS50byAhPSBzaWRlQi50byB8fFxuICAgICAgICAgICAgICAgICFzYW1lVmFsdWVzKHNpZGVBLmFjdGl2ZSwgc2lkZUIuYWN0aXZlKSB8fFxuICAgICAgICAgICAgICAgIHNpZGVBLnBvaW50ICYmICghc2lkZUIucG9pbnQgfHwgIXNpZGVBLnBvaW50LmVxKHNpZGVCLnBvaW50KSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHNpZGVBLnRvID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzaWRlQS5uZXh0KCk7XG4gICAgICAgICAgICBzaWRlQi5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgSXRlcmF0ZSBvdmVyIGEgZ3JvdXAgb2YgcmFuZ2Ugc2V0cyBhdCB0aGUgc2FtZSB0aW1lLCBub3RpZnlpbmdcbiAgICB0aGUgaXRlcmF0b3IgYWJvdXQgdGhlIHJhbmdlcyBjb3ZlcmluZyBldmVyeSBnaXZlbiBwaWVjZSBvZlxuICAgIGNvbnRlbnQuIFJldHVybnMgdGhlIG9wZW4gY291bnQgKHNlZVxuICAgIFtgU3Bhbkl0ZXJhdG9yLnNwYW5gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNwYW5JdGVyYXRvci5zcGFuKSkgYXQgdGhlIGVuZFxuICAgIG9mIHRoZSBpdGVyYXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgc3BhbnMoc2V0cywgZnJvbSwgdG8sIGl0ZXJhdG9yLCBcbiAgICAvKipcbiAgICBXaGVuIGdpdmVuIGFuZCBncmVhdGVyIHRoYW4gLTEsIG9ubHkgcG9pbnRzIG9mIGF0IGxlYXN0IHRoaXNcbiAgICBzaXplIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAgKi9cbiAgICBtaW5Qb2ludFNpemUgPSAtMSkge1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFNwYW5DdXJzb3Ioc2V0cywgbnVsbCwgbWluUG9pbnRTaXplKS5nb3RvKGZyb20pLCBwb3MgPSBmcm9tO1xuICAgICAgICBsZXQgb3BlblJhbmdlcyA9IGN1cnNvci5vcGVuU3RhcnQ7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBjdXJUbyA9IE1hdGgubWluKGN1cnNvci50bywgdG8pO1xuICAgICAgICAgICAgaWYgKGN1cnNvci5wb2ludCkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSBjdXJzb3IuYWN0aXZlRm9yUG9pbnQoY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBsZXQgb3BlbkNvdW50ID0gY3Vyc29yLnBvaW50RnJvbSA8IGZyb20gPyBhY3RpdmUubGVuZ3RoICsgMSA6IE1hdGgubWluKGFjdGl2ZS5sZW5ndGgsIG9wZW5SYW5nZXMpO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnBvaW50KHBvcywgY3VyVG8sIGN1cnNvci5wb2ludCwgYWN0aXZlLCBvcGVuQ291bnQsIGN1cnNvci5wb2ludFJhbmspO1xuICAgICAgICAgICAgICAgIG9wZW5SYW5nZXMgPSBNYXRoLm1pbihjdXJzb3Iub3BlbkVuZChjdXJUbyksIGFjdGl2ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VyVG8gPiBwb3MpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5zcGFuKHBvcywgY3VyVG8sIGN1cnNvci5hY3RpdmUsIG9wZW5SYW5nZXMpO1xuICAgICAgICAgICAgICAgIG9wZW5SYW5nZXMgPSBjdXJzb3Iub3BlbkVuZChjdXJUbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3Vyc29yLnRvID4gdG8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5SYW5nZXMgKyAoY3Vyc29yLnBvaW50ICYmIGN1cnNvci50byA+IHRvID8gMSA6IDApO1xuICAgICAgICAgICAgcG9zID0gY3Vyc29yLnRvO1xuICAgICAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSByYW5nZSBzZXQgZm9yIHRoZSBnaXZlbiByYW5nZSBvciBhcnJheSBvZiByYW5nZXMuIEJ5XG4gICAgZGVmYXVsdCwgdGhpcyBleHBlY3RzIHRoZSByYW5nZXMgdG8gYmUgX3NvcnRlZF8gKGJ5IHN0YXJ0XG4gICAgcG9zaXRpb24gYW5kLCBpZiB0d28gc3RhcnQgYXQgdGhlIHNhbWUgcG9zaXRpb24sXG4gICAgYHZhbHVlLnN0YXJ0U2lkZWApLiBZb3UgY2FuIHBhc3MgYHRydWVgIGFzIHNlY29uZCBhcmd1bWVudCB0b1xuICAgIGNhdXNlIHRoZSBtZXRob2QgdG8gc29ydCB0aGVtLlxuICAgICovXG4gICAgc3RhdGljIG9mKHJhbmdlcywgc29ydCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBidWlsZCA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKTtcbiAgICAgICAgZm9yIChsZXQgcmFuZ2Ugb2YgcmFuZ2VzIGluc3RhbmNlb2YgUmFuZ2UgPyBbcmFuZ2VzXSA6IHNvcnQgPyBsYXp5U29ydChyYW5nZXMpIDogcmFuZ2VzKVxuICAgICAgICAgICAgYnVpbGQuYWRkKHJhbmdlLmZyb20sIHJhbmdlLnRvLCByYW5nZS52YWx1ZSk7XG4gICAgICAgIHJldHVybiBidWlsZC5maW5pc2goKTtcbiAgICB9XG59XG4vKipcblRoZSBlbXB0eSBzZXQgb2YgcmFuZ2VzLlxuKi9cblJhbmdlU2V0LmVtcHR5ID0gLypAX19QVVJFX18qL25ldyBSYW5nZVNldChbXSwgW10sIG51bGwsIC0xKTtcbmZ1bmN0aW9uIGxhenlTb3J0KHJhbmdlcykge1xuICAgIGlmIChyYW5nZXMubGVuZ3RoID4gMSlcbiAgICAgICAgZm9yIChsZXQgcHJldiA9IHJhbmdlc1swXSwgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjdXIgPSByYW5nZXNbaV07XG4gICAgICAgICAgICBpZiAoY21wUmFuZ2UocHJldiwgY3VyKSA+IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlcy5zbGljZSgpLnNvcnQoY21wUmFuZ2UpO1xuICAgICAgICAgICAgcHJldiA9IGN1cjtcbiAgICAgICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59XG5SYW5nZVNldC5lbXB0eS5uZXh0TGF5ZXIgPSBSYW5nZVNldC5lbXB0eTtcbi8qKlxuQSByYW5nZSBzZXQgYnVpbGRlciBpcyBhIGRhdGEgc3RydWN0dXJlIHRoYXQgaGVscHMgYnVpbGQgdXAgYVxuW3JhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldCkgZGlyZWN0bHksIHdpdGhvdXQgZmlyc3QgYWxsb2NhdGluZ1xuYW4gYXJyYXkgb2YgW2BSYW5nZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2UpIG9iamVjdHMuXG4qL1xuY2xhc3MgUmFuZ2VTZXRCdWlsZGVyIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYW4gZW1wdHkgYnVpbGRlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUG9zID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RGcm9tID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMubGFzdFRvID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMuZnJvbSA9IFtdO1xuICAgICAgICB0aGlzLnRvID0gW107XG4gICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICB0aGlzLnNldE1heFBvaW50ID0gLTE7XG4gICAgICAgIHRoaXMubmV4dExheWVyID0gbnVsbDtcbiAgICB9XG4gICAgZmluaXNoQ2h1bmsobmV3QXJyYXlzKSB7XG4gICAgICAgIHRoaXMuY2h1bmtzLnB1c2gobmV3IENodW5rKHRoaXMuZnJvbSwgdGhpcy50bywgdGhpcy52YWx1ZSwgdGhpcy5tYXhQb2ludCkpO1xuICAgICAgICB0aGlzLmNodW5rUG9zLnB1c2godGhpcy5jaHVua1N0YXJ0KTtcbiAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMuc2V0TWF4UG9pbnQgPSBNYXRoLm1heCh0aGlzLnNldE1heFBvaW50LCB0aGlzLm1heFBvaW50KTtcbiAgICAgICAgdGhpcy5tYXhQb2ludCA9IC0xO1xuICAgICAgICBpZiAobmV3QXJyYXlzKSB7XG4gICAgICAgICAgICB0aGlzLmZyb20gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBBZGQgYSByYW5nZS4gUmFuZ2VzIHNob3VsZCBiZSBhZGRlZCBpbiBzb3J0ZWQgKGJ5IGBmcm9tYCBhbmRcbiAgICBgdmFsdWUuc3RhcnRTaWRlYCkgb3JkZXIuXG4gICAgKi9cbiAgICBhZGQoZnJvbSwgdG8sIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5hZGRJbm5lcihmcm9tLCB0bywgdmFsdWUpKVxuICAgICAgICAgICAgKHRoaXMubmV4dExheWVyIHx8ICh0aGlzLm5leHRMYXllciA9IG5ldyBSYW5nZVNldEJ1aWxkZXIpKS5hZGQoZnJvbSwgdG8sIHZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBhZGRJbm5lcihmcm9tLCB0bywgdmFsdWUpIHtcbiAgICAgICAgbGV0IGRpZmYgPSBmcm9tIC0gdGhpcy5sYXN0VG8gfHwgdmFsdWUuc3RhcnRTaWRlIC0gdGhpcy5sYXN0LmVuZFNpZGU7XG4gICAgICAgIGlmIChkaWZmIDw9IDAgJiYgKGZyb20gLSB0aGlzLmxhc3RGcm9tIHx8IHZhbHVlLnN0YXJ0U2lkZSAtIHRoaXMubGFzdC5zdGFydFNpZGUpIDwgMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbmdlcyBtdXN0IGJlIGFkZGVkIHNvcnRlZCBieSBgZnJvbWAgcG9zaXRpb24gYW5kIGBzdGFydFNpZGVgXCIpO1xuICAgICAgICBpZiAoZGlmZiA8IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmZyb20ubGVuZ3RoID09IDI1MCAvKiBDLkNodW5rU2l6ZSAqLylcbiAgICAgICAgICAgIHRoaXMuZmluaXNoQ2h1bmsodHJ1ZSk7XG4gICAgICAgIGlmICh0aGlzLmNodW5rU3RhcnQgPCAwKVxuICAgICAgICAgICAgdGhpcy5jaHVua1N0YXJ0ID0gZnJvbTtcbiAgICAgICAgdGhpcy5mcm9tLnB1c2goZnJvbSAtIHRoaXMuY2h1bmtTdGFydCk7XG4gICAgICAgIHRoaXMudG8ucHVzaCh0byAtIHRoaXMuY2h1bmtTdGFydCk7XG4gICAgICAgIHRoaXMubGFzdCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmxhc3RGcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5sYXN0VG8gPSB0bztcbiAgICAgICAgdGhpcy52YWx1ZS5wdXNoKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlLnBvaW50KVxuICAgICAgICAgICAgdGhpcy5tYXhQb2ludCA9IE1hdGgubWF4KHRoaXMubWF4UG9pbnQsIHRvIC0gZnJvbSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGFkZENodW5rKGZyb20sIGNodW5rKSB7XG4gICAgICAgIGlmICgoZnJvbSAtIHRoaXMubGFzdFRvIHx8IGNodW5rLnZhbHVlWzBdLnN0YXJ0U2lkZSAtIHRoaXMubGFzdC5lbmRTaWRlKSA8IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmZyb20ubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5maW5pc2hDaHVuayh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRNYXhQb2ludCA9IE1hdGgubWF4KHRoaXMuc2V0TWF4UG9pbnQsIGNodW5rLm1heFBvaW50KTtcbiAgICAgICAgdGhpcy5jaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgIHRoaXMuY2h1bmtQb3MucHVzaChmcm9tKTtcbiAgICAgICAgbGV0IGxhc3QgPSBjaHVuay52YWx1ZS5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLmxhc3QgPSBjaHVuay52YWx1ZVtsYXN0XTtcbiAgICAgICAgdGhpcy5sYXN0RnJvbSA9IGNodW5rLmZyb21bbGFzdF0gKyBmcm9tO1xuICAgICAgICB0aGlzLmxhc3RUbyA9IGNodW5rLnRvW2xhc3RdICsgZnJvbTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmlzaCB0aGUgcmFuZ2Ugc2V0LiBSZXR1cm5zIHRoZSBuZXcgc2V0LiBUaGUgYnVpbGRlciBjYW4ndCBiZVxuICAgIHVzZWQgYW55bW9yZSBhZnRlciB0aGlzIGhhcyBiZWVuIGNhbGxlZC5cbiAgICAqL1xuICAgIGZpbmlzaCgpIHsgcmV0dXJuIHRoaXMuZmluaXNoSW5uZXIoUmFuZ2VTZXQuZW1wdHkpOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBmaW5pc2hJbm5lcihuZXh0KSB7XG4gICAgICAgIGlmICh0aGlzLmZyb20ubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5maW5pc2hDaHVuayhmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLmNodW5rcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICBsZXQgcmVzdWx0ID0gUmFuZ2VTZXQuY3JlYXRlKHRoaXMuY2h1bmtQb3MsIHRoaXMuY2h1bmtzLCB0aGlzLm5leHRMYXllciA/IHRoaXMubmV4dExheWVyLmZpbmlzaElubmVyKG5leHQpIDogbmV4dCwgdGhpcy5zZXRNYXhQb2ludCk7XG4gICAgICAgIHRoaXMuZnJvbSA9IG51bGw7IC8vIE1ha2Ugc3VyZSBmdXJ0aGVyIGBhZGRgIGNhbGxzIHByb2R1Y2UgZXJyb3JzXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZFNoYXJlZENodW5rcyhhLCBiLCB0ZXh0RGlmZikge1xuICAgIGxldCBpbkEgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChsZXQgc2V0IG9mIGEpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0LmNodW5rLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKHNldC5jaHVua1tpXS5tYXhQb2ludCA8PSAwKVxuICAgICAgICAgICAgICAgIGluQS5zZXQoc2V0LmNodW5rW2ldLCBzZXQuY2h1bmtQb3NbaV0pO1xuICAgIGxldCBzaGFyZWQgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgc2V0IG9mIGIpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0LmNodW5rLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQga25vd24gPSBpbkEuZ2V0KHNldC5jaHVua1tpXSk7XG4gICAgICAgICAgICBpZiAoa25vd24gIT0gbnVsbCAmJiAodGV4dERpZmYgPyB0ZXh0RGlmZi5tYXBQb3Moa25vd24pIDoga25vd24pID09IHNldC5jaHVua1Bvc1tpXSAmJlxuICAgICAgICAgICAgICAgICEodGV4dERpZmYgPT09IG51bGwgfHwgdGV4dERpZmYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRleHREaWZmLnRvdWNoZXNSYW5nZShrbm93biwga25vd24gKyBzZXQuY2h1bmtbaV0ubGVuZ3RoKSkpXG4gICAgICAgICAgICAgICAgc2hhcmVkLmFkZChzZXQuY2h1bmtbaV0pO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHNoYXJlZDtcbn1cbmNsYXNzIExheWVyQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihsYXllciwgc2tpcCwgbWluUG9pbnQsIHJhbmsgPSAwKSB7XG4gICAgICAgIHRoaXMubGF5ZXIgPSBsYXllcjtcbiAgICAgICAgdGhpcy5za2lwID0gc2tpcDtcbiAgICAgICAgdGhpcy5taW5Qb2ludCA9IG1pblBvaW50O1xuICAgICAgICB0aGlzLnJhbmsgPSByYW5rO1xuICAgIH1cbiAgICBnZXQgc3RhcnRTaWRlKCkgeyByZXR1cm4gdGhpcy52YWx1ZSA/IHRoaXMudmFsdWUuc3RhcnRTaWRlIDogMDsgfVxuICAgIGdldCBlbmRTaWRlKCkgeyByZXR1cm4gdGhpcy52YWx1ZSA/IHRoaXMudmFsdWUuZW5kU2lkZSA6IDA7IH1cbiAgICBnb3RvKHBvcywgc2lkZSA9IC0xMDAwMDAwMDAwIC8qIEMuRmFyICovKSB7XG4gICAgICAgIHRoaXMuY2h1bmtJbmRleCA9IHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuZ290b0lubmVyKHBvcywgc2lkZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ290b0lubmVyKHBvcywgc2lkZSwgZm9yd2FyZCkge1xuICAgICAgICB3aGlsZSAodGhpcy5jaHVua0luZGV4IDwgdGhpcy5sYXllci5jaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5za2lwICYmIHRoaXMuc2tpcC5oYXMobmV4dCkgfHxcbiAgICAgICAgICAgICAgICB0aGlzLmxheWVyLmNodW5rRW5kKHRoaXMuY2h1bmtJbmRleCkgPCBwb3MgfHxcbiAgICAgICAgICAgICAgICBuZXh0Lm1heFBvaW50IDwgdGhpcy5taW5Qb2ludCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB0aGlzLmNodW5rSW5kZXgrKztcbiAgICAgICAgICAgIGZvcndhcmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaHVua0luZGV4IDwgdGhpcy5sYXllci5jaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCByYW5nZUluZGV4ID0gdGhpcy5sYXllci5jaHVua1t0aGlzLmNodW5rSW5kZXhdLmZpbmRJbmRleChwb3MgLSB0aGlzLmxheWVyLmNodW5rUG9zW3RoaXMuY2h1bmtJbmRleF0sIHNpZGUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFmb3J3YXJkIHx8IHRoaXMucmFuZ2VJbmRleCA8IHJhbmdlSW5kZXgpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSYW5nZUluZGV4KHJhbmdlSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgICBmb3J3YXJkKHBvcywgc2lkZSkge1xuICAgICAgICBpZiAoKHRoaXMudG8gLSBwb3MgfHwgdGhpcy5lbmRTaWRlIC0gc2lkZSkgPCAwKVxuICAgICAgICAgICAgdGhpcy5nb3RvSW5uZXIocG9zLCBzaWRlLCB0cnVlKTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2h1bmtJbmRleCA9PSB0aGlzLmxheWVyLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbSA9IHRoaXMudG8gPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGNodW5rUG9zID0gdGhpcy5sYXllci5jaHVua1Bvc1t0aGlzLmNodW5rSW5kZXhdLCBjaHVuayA9IHRoaXMubGF5ZXIuY2h1bmtbdGhpcy5jaHVua0luZGV4XTtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IGNodW5rUG9zICsgY2h1bmsuZnJvbVt0aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgICAgICAgICAgdGhpcy50byA9IGNodW5rUG9zICsgY2h1bmsudG9bdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gY2h1bmsudmFsdWVbdGhpcy5yYW5nZUluZGV4XTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFJhbmdlSW5kZXgodGhpcy5yYW5nZUluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWluUG9pbnQgPCAwIHx8IHRoaXMudmFsdWUucG9pbnQgJiYgdGhpcy50byAtIHRoaXMuZnJvbSA+PSB0aGlzLm1pblBvaW50KVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRSYW5nZUluZGV4KGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA9PSB0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF0udmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rSW5kZXgrKztcbiAgICAgICAgICAgIGlmICh0aGlzLnNraXApIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5jaHVua0luZGV4IDwgdGhpcy5sYXllci5jaHVuay5sZW5ndGggJiYgdGhpcy5za2lwLmhhcyh0aGlzLmxheWVyLmNodW5rW3RoaXMuY2h1bmtJbmRleF0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNodW5rSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmFuZ2VJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBuZXh0Q2h1bmsoKSB7XG4gICAgICAgIHRoaXMuY2h1bmtJbmRleCsrO1xuICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gICAgY29tcGFyZShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tIC0gb3RoZXIuZnJvbSB8fCB0aGlzLnN0YXJ0U2lkZSAtIG90aGVyLnN0YXJ0U2lkZSB8fCB0aGlzLnJhbmsgLSBvdGhlci5yYW5rIHx8XG4gICAgICAgICAgICB0aGlzLnRvIC0gb3RoZXIudG8gfHwgdGhpcy5lbmRTaWRlIC0gb3RoZXIuZW5kU2lkZTtcbiAgICB9XG59XG5jbGFzcyBIZWFwQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFwKSB7XG4gICAgICAgIHRoaXMuaGVhcCA9IGhlYXA7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHNldHMsIHNraXAgPSBudWxsLCBtaW5Qb2ludCA9IC0xKSB7XG4gICAgICAgIGxldCBoZWFwID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgY3VyID0gc2V0c1tpXTsgIWN1ci5pc0VtcHR5OyBjdXIgPSBjdXIubmV4dExheWVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1ci5tYXhQb2ludCA+PSBtaW5Qb2ludClcbiAgICAgICAgICAgICAgICAgICAgaGVhcC5wdXNoKG5ldyBMYXllckN1cnNvcihjdXIsIHNraXAsIG1pblBvaW50LCBpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlYXAubGVuZ3RoID09IDEgPyBoZWFwWzBdIDogbmV3IEhlYXBDdXJzb3IoaGVhcCk7XG4gICAgfVxuICAgIGdldCBzdGFydFNpZGUoKSB7IHJldHVybiB0aGlzLnZhbHVlID8gdGhpcy52YWx1ZS5zdGFydFNpZGUgOiAwOyB9XG4gICAgZ290byhwb3MsIHNpZGUgPSAtMTAwMDAwMDAwMCAvKiBDLkZhciAqLykge1xuICAgICAgICBmb3IgKGxldCBjdXIgb2YgdGhpcy5oZWFwKVxuICAgICAgICAgICAgY3VyLmdvdG8ocG9zLCBzaWRlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaGVhcC5sZW5ndGggPj4gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICBoZWFwQnViYmxlKHRoaXMuaGVhcCwgaSk7XG4gICAgICAgIHRoaXMubmV4dCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZm9yd2FyZChwb3MsIHNpZGUpIHtcbiAgICAgICAgZm9yIChsZXQgY3VyIG9mIHRoaXMuaGVhcClcbiAgICAgICAgICAgIGN1ci5mb3J3YXJkKHBvcywgc2lkZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmhlYXAubGVuZ3RoID4+IDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAgaGVhcEJ1YmJsZSh0aGlzLmhlYXAsIGkpO1xuICAgICAgICBpZiAoKHRoaXMudG8gLSBwb3MgfHwgdGhpcy52YWx1ZS5lbmRTaWRlIC0gc2lkZSkgPCAwKVxuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYXAubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbSA9IHRoaXMudG8gPSAxMDAwMDAwMDAwIC8qIEMuRmFyICovO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJhbmsgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCB0b3AgPSB0aGlzLmhlYXBbMF07XG4gICAgICAgICAgICB0aGlzLmZyb20gPSB0b3AuZnJvbTtcbiAgICAgICAgICAgIHRoaXMudG8gPSB0b3AudG87XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdG9wLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5yYW5rID0gdG9wLnJhbms7XG4gICAgICAgICAgICBpZiAodG9wLnZhbHVlKVxuICAgICAgICAgICAgICAgIHRvcC5uZXh0KCk7XG4gICAgICAgICAgICBoZWFwQnViYmxlKHRoaXMuaGVhcCwgMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBoZWFwQnViYmxlKGhlYXAsIGluZGV4KSB7XG4gICAgZm9yIChsZXQgY3VyID0gaGVhcFtpbmRleF07Oykge1xuICAgICAgICBsZXQgY2hpbGRJbmRleCA9IChpbmRleCA8PCAxKSArIDE7XG4gICAgICAgIGlmIChjaGlsZEluZGV4ID49IGhlYXAubGVuZ3RoKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGxldCBjaGlsZCA9IGhlYXBbY2hpbGRJbmRleF07XG4gICAgICAgIGlmIChjaGlsZEluZGV4ICsgMSA8IGhlYXAubGVuZ3RoICYmIGNoaWxkLmNvbXBhcmUoaGVhcFtjaGlsZEluZGV4ICsgMV0pID49IDApIHtcbiAgICAgICAgICAgIGNoaWxkID0gaGVhcFtjaGlsZEluZGV4ICsgMV07XG4gICAgICAgICAgICBjaGlsZEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1ci5jb21wYXJlKGNoaWxkKSA8IDApXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaGVhcFtjaGlsZEluZGV4XSA9IGN1cjtcbiAgICAgICAgaGVhcFtpbmRleF0gPSBjaGlsZDtcbiAgICAgICAgaW5kZXggPSBjaGlsZEluZGV4O1xuICAgIH1cbn1cbmNsYXNzIFNwYW5DdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHNldHMsIHNraXAsIG1pblBvaW50KSB7XG4gICAgICAgIHRoaXMubWluUG9pbnQgPSBtaW5Qb2ludDtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBbXTtcbiAgICAgICAgdGhpcy5hY3RpdmVUbyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZVJhbmsgPSBbXTtcbiAgICAgICAgdGhpcy5taW5BY3RpdmUgPSAtMTtcbiAgICAgICAgLy8gQSBjdXJyZW50bHkgYWN0aXZlIHBvaW50IHJhbmdlLCBpZiBhbnlcbiAgICAgICAgdGhpcy5wb2ludCA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRGcm9tID0gMDtcbiAgICAgICAgdGhpcy5wb2ludFJhbmsgPSAwO1xuICAgICAgICB0aGlzLnRvID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgIHRoaXMuZW5kU2lkZSA9IDA7XG4gICAgICAgIC8vIFRoZSBhbW91bnQgb2Ygb3BlbiBhY3RpdmUgcmFuZ2VzIGF0IHRoZSBzdGFydCBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgIC8vIE5vdCBpbmNsdWRpbmcgcG9pbnRzLlxuICAgICAgICB0aGlzLm9wZW5TdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmN1cnNvciA9IEhlYXBDdXJzb3IuZnJvbShzZXRzLCBza2lwLCBtaW5Qb2ludCk7XG4gICAgfVxuICAgIGdvdG8ocG9zLCBzaWRlID0gLTEwMDAwMDAwMDAgLyogQy5GYXIgKi8pIHtcbiAgICAgICAgdGhpcy5jdXJzb3IuZ290byhwb3MsIHNpZGUpO1xuICAgICAgICB0aGlzLmFjdGl2ZS5sZW5ndGggPSB0aGlzLmFjdGl2ZVRvLmxlbmd0aCA9IHRoaXMuYWN0aXZlUmFuay5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IC0xO1xuICAgICAgICB0aGlzLnRvID0gcG9zO1xuICAgICAgICB0aGlzLmVuZFNpZGUgPSBzaWRlO1xuICAgICAgICB0aGlzLm9wZW5TdGFydCA9IC0xO1xuICAgICAgICB0aGlzLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZvcndhcmQocG9zLCBzaWRlKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLm1pbkFjdGl2ZSA+IC0xICYmICh0aGlzLmFjdGl2ZVRvW3RoaXMubWluQWN0aXZlXSAtIHBvcyB8fCB0aGlzLmFjdGl2ZVt0aGlzLm1pbkFjdGl2ZV0uZW5kU2lkZSAtIHNpZGUpIDwgMClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlKHRoaXMubWluQWN0aXZlKTtcbiAgICAgICAgdGhpcy5jdXJzb3IuZm9yd2FyZChwb3MsIHNpZGUpO1xuICAgIH1cbiAgICByZW1vdmVBY3RpdmUoaW5kZXgpIHtcbiAgICAgICAgcmVtb3ZlKHRoaXMuYWN0aXZlLCBpbmRleCk7XG4gICAgICAgIHJlbW92ZSh0aGlzLmFjdGl2ZVRvLCBpbmRleCk7XG4gICAgICAgIHJlbW92ZSh0aGlzLmFjdGl2ZVJhbmssIGluZGV4KTtcbiAgICAgICAgdGhpcy5taW5BY3RpdmUgPSBmaW5kTWluSW5kZXgodGhpcy5hY3RpdmUsIHRoaXMuYWN0aXZlVG8pO1xuICAgIH1cbiAgICBhZGRBY3RpdmUodHJhY2tPcGVuKSB7XG4gICAgICAgIGxldCBpID0gMCwgeyB2YWx1ZSwgdG8sIHJhbmsgfSA9IHRoaXMuY3Vyc29yO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuYWN0aXZlUmFuay5sZW5ndGggJiYgdGhpcy5hY3RpdmVSYW5rW2ldIDw9IHJhbmspXG4gICAgICAgICAgICBpKys7XG4gICAgICAgIGluc2VydCh0aGlzLmFjdGl2ZSwgaSwgdmFsdWUpO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVUbywgaSwgdG8pO1xuICAgICAgICBpbnNlcnQodGhpcy5hY3RpdmVSYW5rLCBpLCByYW5rKTtcbiAgICAgICAgaWYgKHRyYWNrT3BlbilcbiAgICAgICAgICAgIGluc2VydCh0cmFja09wZW4sIGksIHRoaXMuY3Vyc29yLmZyb20pO1xuICAgICAgICB0aGlzLm1pbkFjdGl2ZSA9IGZpbmRNaW5JbmRleCh0aGlzLmFjdGl2ZSwgdGhpcy5hY3RpdmVUbyk7XG4gICAgfVxuICAgIC8vIEFmdGVyIGNhbGxpbmcgdGhpcywgaWYgYHRoaXMucG9pbnRgICE9IG51bGwsIHRoZSBuZXh0IHJhbmdlIGlzIGFcbiAgICAvLyBwb2ludC4gT3RoZXJ3aXNlLCBpdCdzIGEgcmVndWxhciByYW5nZSwgY292ZXJlZCBieSBgdGhpcy5hY3RpdmVgLlxuICAgIG5leHQoKSB7XG4gICAgICAgIGxldCBmcm9tID0gdGhpcy50bywgd2FzUG9pbnQgPSB0aGlzLnBvaW50O1xuICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IHRyYWNrT3BlbiA9IHRoaXMub3BlblN0YXJ0IDwgMCA/IFtdIDogbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLm1pbkFjdGl2ZTtcbiAgICAgICAgICAgIGlmIChhID4gLTEgJiYgKHRoaXMuYWN0aXZlVG9bYV0gLSB0aGlzLmN1cnNvci5mcm9tIHx8IHRoaXMuYWN0aXZlW2FdLmVuZFNpZGUgLSB0aGlzLmN1cnNvci5zdGFydFNpZGUpIDwgMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZVRvW2FdID4gZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5hY3RpdmVUb1thXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRTaWRlID0gdGhpcy5hY3RpdmVbYV0uZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlKGEpO1xuICAgICAgICAgICAgICAgIGlmICh0cmFja09wZW4pXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0cmFja09wZW4sIGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3Vyc29yLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50byA9IHRoaXMuZW5kU2lkZSA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvci5mcm9tID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG8gPSB0aGlzLmN1cnNvci5mcm9tO1xuICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IHRoaXMuY3Vyc29yLnN0YXJ0U2lkZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0VmFsID0gdGhpcy5jdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0VmFsLnBvaW50KSB7IC8vIE9wZW5pbmcgYSByYW5nZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEFjdGl2ZSh0cmFja09wZW4pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHdhc1BvaW50ICYmIHRoaXMuY3Vyc29yLnRvID09IHRoaXMudG8gJiYgdGhpcy5jdXJzb3IuZnJvbSA8IHRoaXMuY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBhbnkgbm9uLWVtcHR5IHBvaW50cyB0aGF0IGVuZCBwcmVjaXNlbHkgYXQgdGhlIGVuZCBvZiB0aGUgcHJldiBwb2ludFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBOZXcgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludCA9IG5leHRWYWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRGcm9tID0gdGhpcy5jdXJzb3IuZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludFJhbmsgPSB0aGlzLmN1cnNvci5yYW5rO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvID0gdGhpcy5jdXJzb3IudG87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kU2lkZSA9IG5leHRWYWwuZW5kU2lkZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcndhcmQodGhpcy50bywgdGhpcy5lbmRTaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0cmFja09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0cmFja09wZW4ubGVuZ3RoIC0gMTsgaSA+PSAwICYmIHRyYWNrT3BlbltpXSA8IGZyb207IGktLSlcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5TdGFydCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGl2ZUZvclBvaW50KHRvKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlO1xuICAgICAgICBsZXQgYWN0aXZlID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlUmFua1tpXSA8IHRoaXMucG9pbnRSYW5rKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlVG9baV0gPiB0byB8fCB0aGlzLmFjdGl2ZVRvW2ldID09IHRvICYmIHRoaXMuYWN0aXZlW2ldLmVuZFNpZGUgPj0gdGhpcy5wb2ludC5lbmRTaWRlKVxuICAgICAgICAgICAgICAgIGFjdGl2ZS5wdXNoKHRoaXMuYWN0aXZlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aXZlLnJldmVyc2UoKTtcbiAgICB9XG4gICAgb3BlbkVuZCh0bykge1xuICAgICAgICBsZXQgb3BlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmFjdGl2ZVRvLmxlbmd0aCAtIDE7IGkgPj0gMCAmJiB0aGlzLmFjdGl2ZVRvW2ldID4gdG87IGktLSlcbiAgICAgICAgICAgIG9wZW4rKztcbiAgICAgICAgcmV0dXJuIG9wZW47XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGFyZShhLCBzdGFydEEsIGIsIHN0YXJ0QiwgbGVuZ3RoLCBjb21wYXJhdG9yKSB7XG4gICAgYS5nb3RvKHN0YXJ0QSk7XG4gICAgYi5nb3RvKHN0YXJ0Qik7XG4gICAgbGV0IGVuZEIgPSBzdGFydEIgKyBsZW5ndGg7XG4gICAgbGV0IHBvcyA9IHN0YXJ0QiwgZFBvcyA9IHN0YXJ0QiAtIHN0YXJ0QTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBkaWZmID0gKGEudG8gKyBkUG9zKSAtIGIudG8gfHwgYS5lbmRTaWRlIC0gYi5lbmRTaWRlO1xuICAgICAgICBsZXQgZW5kID0gZGlmZiA8IDAgPyBhLnRvICsgZFBvcyA6IGIudG8sIGNsaXBFbmQgPSBNYXRoLm1pbihlbmQsIGVuZEIpO1xuICAgICAgICBpZiAoYS5wb2ludCB8fCBiLnBvaW50KSB7XG4gICAgICAgICAgICBpZiAoIShhLnBvaW50ICYmIGIucG9pbnQgJiYgKGEucG9pbnQgPT0gYi5wb2ludCB8fCBhLnBvaW50LmVxKGIucG9pbnQpKSAmJlxuICAgICAgICAgICAgICAgIHNhbWVWYWx1ZXMoYS5hY3RpdmVGb3JQb2ludChhLnRvICsgZFBvcyksIGIuYWN0aXZlRm9yUG9pbnQoYi50bykpKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVQb2ludChwb3MsIGNsaXBFbmQsIGEucG9pbnQsIGIucG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNsaXBFbmQgPiBwb3MgJiYgIXNhbWVWYWx1ZXMoYS5hY3RpdmUsIGIuYWN0aXZlKSlcbiAgICAgICAgICAgICAgICBjb21wYXJhdG9yLmNvbXBhcmVSYW5nZShwb3MsIGNsaXBFbmQsIGEuYWN0aXZlLCBiLmFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA+IGVuZEIpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICBpZiAoZGlmZiA8PSAwKVxuICAgICAgICAgICAgYS5uZXh0KCk7XG4gICAgICAgIGlmIChkaWZmID49IDApXG4gICAgICAgICAgICBiLm5leHQoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzYW1lVmFsdWVzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChhW2ldICE9IGJbaV0gJiYgIWFbaV0uZXEoYltpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByZW1vdmUoYXJyYXksIGluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IGluZGV4LCBlID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA8IGU7IGkrKylcbiAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpICsgMV07XG4gICAgYXJyYXkucG9wKCk7XG59XG5mdW5jdGlvbiBpbnNlcnQoYXJyYXksIGluZGV4LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID49IGluZGV4OyBpLS0pXG4gICAgICAgIGFycmF5W2kgKyAxXSA9IGFycmF5W2ldO1xuICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZmluZE1pbkluZGV4KHZhbHVlLCBhcnJheSkge1xuICAgIGxldCBmb3VuZCA9IC0xLCBmb3VuZFBvcyA9IDEwMDAwMDAwMDAgLyogQy5GYXIgKi87XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKChhcnJheVtpXSAtIGZvdW5kUG9zIHx8IHZhbHVlW2ldLmVuZFNpZGUgLSB2YWx1ZVtmb3VuZF0uZW5kU2lkZSkgPCAwKSB7XG4gICAgICAgICAgICBmb3VuZCA9IGk7XG4gICAgICAgICAgICBmb3VuZFBvcyA9IGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuXG4vKipcbkNvdW50IHRoZSBjb2x1bW4gcG9zaXRpb24gYXQgdGhlIGdpdmVuIG9mZnNldCBpbnRvIHRoZSBzdHJpbmcsXG50YWtpbmcgZXh0ZW5kaW5nIGNoYXJhY3RlcnMgYW5kIHRhYiBzaXplIGludG8gYWNjb3VudC5cbiovXG5mdW5jdGlvbiBjb3VudENvbHVtbihzdHJpbmcsIHRhYlNpemUsIHRvID0gc3RyaW5nLmxlbmd0aCkge1xuICAgIGxldCBuID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvOykge1xuICAgICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoaSkgPT0gOSkge1xuICAgICAgICAgICAgbiArPSB0YWJTaXplIC0gKG4gJSB0YWJTaXplKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG4rKztcbiAgICAgICAgICAgIGkgPSBmaW5kQ2x1c3RlckJyZWFrKHN0cmluZywgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG47XG59XG4vKipcbkZpbmQgdGhlIG9mZnNldCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBjb2x1bW4gcG9zaXRpb24gaW4gYVxuc3RyaW5nLCB0YWtpbmcgZXh0ZW5kaW5nIGNoYXJhY3RlcnMgYW5kIHRhYiBzaXplIGludG8gYWNjb3VudC4gQnlcbmRlZmF1bHQsIHRoZSBzdHJpbmcgbGVuZ3RoIGlzIHJldHVybmVkIHdoZW4gaXQgaXMgdG9vIHNob3J0IHRvXG5yZWFjaCB0aGUgY29sdW1uLiBQYXNzIGBzdHJpY3RgIHRydWUgdG8gbWFrZSBpdCByZXR1cm4gLTEgaW4gdGhhdFxuc2l0dWF0aW9uLlxuKi9cbmZ1bmN0aW9uIGZpbmRDb2x1bW4oc3RyaW5nLCBjb2wsIHRhYlNpemUsIHN0cmljdCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBuID0gMDs7KSB7XG4gICAgICAgIGlmIChuID49IGNvbClcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICBpZiAoaSA9PSBzdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG4gKz0gc3RyaW5nLmNoYXJDb2RlQXQoaSkgPT0gOSA/IHRhYlNpemUgLSAobiAlIHRhYlNpemUpIDogMTtcbiAgICAgICAgaSA9IGZpbmRDbHVzdGVyQnJlYWsoc3RyaW5nLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmljdCA9PT0gdHJ1ZSA/IC0xIDogc3RyaW5nLmxlbmd0aDtcbn1cblxuZXhwb3J0IHsgQW5ub3RhdGlvbiwgQW5ub3RhdGlvblR5cGUsIENoYW5nZURlc2MsIENoYW5nZVNldCwgQ2hhckNhdGVnb3J5LCBDb21wYXJ0bWVudCwgRWRpdG9yU2VsZWN0aW9uLCBFZGl0b3JTdGF0ZSwgRmFjZXQsIExpbmUsIE1hcE1vZGUsIFByZWMsIFJhbmdlLCBSYW5nZVNldCwgUmFuZ2VTZXRCdWlsZGVyLCBSYW5nZVZhbHVlLCBTZWxlY3Rpb25SYW5nZSwgU3RhdGVFZmZlY3QsIFN0YXRlRWZmZWN0VHlwZSwgU3RhdGVGaWVsZCwgVGV4dCwgVHJhbnNhY3Rpb24sIGNvZGVQb2ludEF0LCBjb2RlUG9pbnRTaXplLCBjb21iaW5lQ29uZmlnLCBjb3VudENvbHVtbiwgZmluZENsdXN0ZXJCcmVhaywgZmluZENvbHVtbiwgZnJvbUNvZGVQb2ludCB9O1xuIiwgImNvbnN0IEMgPSBcIlxcdTAzN2NcIlxuY29uc3QgQ09VTlQgPSB0eXBlb2YgU3ltYm9sID09IFwidW5kZWZpbmVkXCIgPyBcIl9fXCIgKyBDIDogU3ltYm9sLmZvcihDKVxuY29uc3QgU0VUID0gdHlwZW9mIFN5bWJvbCA9PSBcInVuZGVmaW5lZFwiID8gXCJfX3N0eWxlU2V0XCIgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxZTgpIDogU3ltYm9sKFwic3R5bGVTZXRcIilcbmNvbnN0IHRvcCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge31cblxuLy8gOjogLSBTdHlsZSBtb2R1bGVzIGVuY2Fwc3VsYXRlIGEgc2V0IG9mIENTUyBydWxlcyBkZWZpbmVkIGZyb21cbi8vIEphdmFTY3JpcHQuIFRoZWlyIGRlZmluaXRpb25zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBhIGdpdmVuIERPTVxuLy8gcm9vdCBhZnRlciBpdCBoYXMgYmVlbiBfbW91bnRlZF8gdGhlcmUgd2l0aCBgU3R5bGVNb2R1bGUubW91bnRgLlxuLy9cbi8vIFN0eWxlIG1vZHVsZXMgc2hvdWxkIGJlIGNyZWF0ZWQgb25jZSBhbmQgc3RvcmVkIHNvbWV3aGVyZSwgYXNcbi8vIG9wcG9zZWQgdG8gcmUtY3JlYXRpbmcgdGhlbSBldmVyeSB0aW1lIHlvdSBuZWVkIHRoZW0uIFRoZSBhbW91bnQgb2Zcbi8vIENTUyBydWxlcyBnZW5lcmF0ZWQgZm9yIGEgZ2l2ZW4gRE9NIHJvb3QgaXMgYm91bmRlZCBieSB0aGUgYW1vdW50XG4vLyBvZiBzdHlsZSBtb2R1bGVzIHRoYXQgd2VyZSB1c2VkLiBTbyB0byBhdm9pZCBsZWFraW5nIHJ1bGVzLCBkb24ndFxuLy8gY3JlYXRlIHRoZXNlIGR5bmFtaWNhbGx5LCBidXQgdHJlYXQgdGhlbSBhcyBvbmUtdGltZSBhbGxvY2F0aW9ucy5cbmV4cG9ydCBjbGFzcyBTdHlsZU1vZHVsZSB7XG4gIC8vIDo6IChPYmplY3Q8U3R5bGU+LCA/e2ZpbmlzaDogPyhzdHJpbmcpIFx1MjE5MiBzdHJpbmd9KVxuICAvLyBDcmVhdGUgYSBzdHlsZSBtb2R1bGUgZnJvbSB0aGUgZ2l2ZW4gc3BlYy5cbiAgLy9cbiAgLy8gV2hlbiBgZmluaXNoYCBpcyBnaXZlbiwgaXQgaXMgY2FsbGVkIG9uIHJlZ3VsYXIgKG5vbi1gQGApXG4gIC8vIHNlbGVjdG9ycyAoYWZ0ZXIgYCZgIGV4cGFuc2lvbikgdG8gY29tcHV0ZSB0aGUgZmluYWwgc2VsZWN0b3IuXG4gIGNvbnN0cnVjdG9yKHNwZWMsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJ1bGVzID0gW11cbiAgICBsZXQge2ZpbmlzaH0gPSBvcHRpb25zIHx8IHt9XG5cbiAgICBmdW5jdGlvbiBzcGxpdFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgICByZXR1cm4gL15ALy50ZXN0KHNlbGVjdG9yKSA/IFtzZWxlY3Rvcl0gOiBzZWxlY3Rvci5zcGxpdCgvLFxccyovKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlcihzZWxlY3RvcnMsIHNwZWMsIHRhcmdldCwgaXNLZXlmcmFtZXMpIHtcbiAgICAgIGxldCBsb2NhbCA9IFtdLCBpc0F0ID0gL15AKFxcdyspXFxiLy5leGVjKHNlbGVjdG9yc1swXSksIGtleWZyYW1lcyA9IGlzQXQgJiYgaXNBdFsxXSA9PSBcImtleWZyYW1lc1wiXG4gICAgICBpZiAoaXNBdCAmJiBzcGVjID09IG51bGwpIHJldHVybiB0YXJnZXQucHVzaChzZWxlY3RvcnNbMF0gKyBcIjtcIilcbiAgICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykge1xuICAgICAgICBsZXQgdmFsdWUgPSBzcGVjW3Byb3BdXG4gICAgICAgIGlmICgvJi8udGVzdChwcm9wKSkge1xuICAgICAgICAgIHJlbmRlcihwcm9wLnNwbGl0KC8sXFxzKi8pLm1hcChwYXJ0ID0+IHNlbGVjdG9ycy5tYXAoc2VsID0+IHBhcnQucmVwbGFjZSgvJi8sIHNlbCkpKS5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKSxcbiAgICAgICAgICAgICAgICAgdmFsdWUsIHRhcmdldClcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmICghaXNBdCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUaGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSAoXCIgKyBwcm9wICsgXCIpIHNob3VsZCBiZSBhIHByaW1pdGl2ZSB2YWx1ZS5cIilcbiAgICAgICAgICByZW5kZXIoc3BsaXRTZWxlY3Rvcihwcm9wKSwgdmFsdWUsIGxvY2FsLCBrZXlmcmFtZXMpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgIGxvY2FsLnB1c2gocHJvcC5yZXBsYWNlKC9fLiovLCBcIlwiKS5yZXBsYWNlKC9bQS1aXS9nLCBsID0+IFwiLVwiICsgbC50b0xvd2VyQ2FzZSgpKSArIFwiOiBcIiArIHZhbHVlICsgXCI7XCIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbC5sZW5ndGggfHwga2V5ZnJhbWVzKSB7XG4gICAgICAgIHRhcmdldC5wdXNoKChmaW5pc2ggJiYgIWlzQXQgJiYgIWlzS2V5ZnJhbWVzID8gc2VsZWN0b3JzLm1hcChmaW5pc2gpIDogc2VsZWN0b3JzKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIiB7XCIgKyBsb2NhbC5qb2luKFwiIFwiKSArIFwifVwiKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IHByb3AgaW4gc3BlYykgcmVuZGVyKHNwbGl0U2VsZWN0b3IocHJvcCksIHNwZWNbcHJvcF0sIHRoaXMucnVsZXMpXG4gIH1cblxuICAvLyA6OiAoKSBcdTIxOTIgc3RyaW5nXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgbW9kdWxlJ3MgQ1NTIHJ1bGVzLlxuICBnZXRSdWxlcygpIHsgcmV0dXJuIHRoaXMucnVsZXMuam9pbihcIlxcblwiKSB9XG5cbiAgLy8gOjogKCkgXHUyMTkyIHN0cmluZ1xuICAvLyBHZW5lcmF0ZSBhIG5ldyB1bmlxdWUgQ1NTIGNsYXNzIG5hbWUuXG4gIHN0YXRpYyBuZXdOYW1lKCkge1xuICAgIGxldCBpZCA9IHRvcFtDT1VOVF0gfHwgMVxuICAgIHRvcFtDT1VOVF0gPSBpZCArIDFcbiAgICByZXR1cm4gQyArIGlkLnRvU3RyaW5nKDM2KVxuICB9XG5cbiAgLy8gOjogKHVuaW9uPERvY3VtZW50LCBTaGFkb3dSb290PiwgdW5pb248W1N0eWxlTW9kdWxlXSwgU3R5bGVNb2R1bGU+KVxuICAvL1xuICAvLyBNb3VudCB0aGUgZ2l2ZW4gc2V0IG9mIG1vZHVsZXMgaW4gdGhlIGdpdmVuIERPTSByb290LCB3aGljaCBlbnN1cmVzXG4gIC8vIHRoYXQgdGhlIENTUyBydWxlcyBkZWZpbmVkIGJ5IHRoZSBtb2R1bGUgYXJlIGF2YWlsYWJsZSBpbiB0aGF0XG4gIC8vIGNvbnRleHQuXG4gIC8vXG4gIC8vIFJ1bGVzIGFyZSBvbmx5IGFkZGVkIHRvIHRoZSBkb2N1bWVudCBvbmNlIHBlciByb290LlxuICAvL1xuICAvLyBSdWxlIG9yZGVyIHdpbGwgZm9sbG93IHRoZSBvcmRlciBvZiB0aGUgbW9kdWxlcywgc28gdGhhdCBydWxlcyBmcm9tXG4gIC8vIG1vZHVsZXMgbGF0ZXIgaW4gdGhlIGFycmF5IHRha2UgcHJlY2VkZW5jZSBvZiB0aG9zZSBmcm9tIGVhcmxpZXJcbiAgLy8gbW9kdWxlcy4gSWYgeW91IGNhbGwgdGhpcyBmdW5jdGlvbiBtdWx0aXBsZSB0aW1lcyBmb3IgdGhlIHNhbWUgcm9vdFxuICAvLyBpbiBhIHdheSB0aGF0IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGFscmVhZHkgbW91bnRlZCBtb2R1bGVzLCB0aGUgb2xkXG4gIC8vIG9yZGVyIHdpbGwgYmUgY2hhbmdlZC5cbiAgc3RhdGljIG1vdW50KHJvb3QsIG1vZHVsZXMpIHtcbiAgICAocm9vdFtTRVRdIHx8IG5ldyBTdHlsZVNldChyb290KSkubW91bnQoQXJyYXkuaXNBcnJheShtb2R1bGVzKSA/IG1vZHVsZXMgOiBbbW9kdWxlc10pXG4gIH1cbn1cblxubGV0IGFkb3B0ZWRTZXQgPSBudWxsXG5cbmNsYXNzIFN0eWxlU2V0IHtcbiAgY29uc3RydWN0b3Iocm9vdCkge1xuICAgIGlmICghcm9vdC5oZWFkICYmIHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzICYmIHR5cGVvZiBDU1NTdHlsZVNoZWV0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmIChhZG9wdGVkU2V0KSB7XG4gICAgICAgIHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzID0gW2Fkb3B0ZWRTZXQuc2hlZXRdLmNvbmNhdChyb290LmFkb3B0ZWRTdHlsZVNoZWV0cylcbiAgICAgICAgcmV0dXJuIHJvb3RbU0VUXSA9IGFkb3B0ZWRTZXRcbiAgICAgIH1cbiAgICAgIHRoaXMuc2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldFxuICAgICAgcm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPSBbdGhpcy5zaGVldF0uY29uY2F0KHJvb3QuYWRvcHRlZFN0eWxlU2hlZXRzKVxuICAgICAgYWRvcHRlZFNldCA9IHRoaXNcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHlsZVRhZyA9IChyb290Lm93bmVyRG9jdW1lbnQgfHwgcm9vdCkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpXG4gICAgICBsZXQgdGFyZ2V0ID0gcm9vdC5oZWFkIHx8IHJvb3RcbiAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUodGhpcy5zdHlsZVRhZywgdGFyZ2V0LmZpcnN0Q2hpbGQpXG4gICAgfVxuICAgIHRoaXMubW9kdWxlcyA9IFtdXG4gICAgcm9vdFtTRVRdID0gdGhpc1xuICB9XG5cbiAgbW91bnQobW9kdWxlcykge1xuICAgIGxldCBzaGVldCA9IHRoaXMuc2hlZXRcbiAgICBsZXQgcG9zID0gMCAvKiBDdXJyZW50IHJ1bGUgb2Zmc2V0ICovLCBqID0gMCAvKiBJbmRleCBpbnRvIHRoaXMubW9kdWxlcyAqL1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1vZCA9IG1vZHVsZXNbaV0sIGluZGV4ID0gdGhpcy5tb2R1bGVzLmluZGV4T2YobW9kKVxuICAgICAgaWYgKGluZGV4IDwgaiAmJiBpbmRleCA+IC0xKSB7IC8vIE9yZGVyaW5nIGNvbmZsaWN0XG4gICAgICAgIHRoaXMubW9kdWxlcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIGotLVxuICAgICAgICBpbmRleCA9IC0xXG4gICAgICB9XG4gICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLnNwbGljZShqKyssIDAsIG1vZClcbiAgICAgICAgaWYgKHNoZWV0KSBmb3IgKGxldCBrID0gMDsgayA8IG1vZC5ydWxlcy5sZW5ndGg7IGsrKylcbiAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKG1vZC5ydWxlc1trXSwgcG9zKyspXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aGlsZSAoaiA8IGluZGV4KSBwb3MgKz0gdGhpcy5tb2R1bGVzW2orK10ucnVsZXMubGVuZ3RoXG4gICAgICAgIHBvcyArPSBtb2QucnVsZXMubGVuZ3RoXG4gICAgICAgIGorK1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghc2hlZXQpIHtcbiAgICAgIGxldCB0ZXh0ID0gXCJcIlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1vZHVsZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHRleHQgKz0gdGhpcy5tb2R1bGVzW2ldLmdldFJ1bGVzKCkgKyBcIlxcblwiXG4gICAgICB0aGlzLnN0eWxlVGFnLnRleHRDb250ZW50ID0gdGV4dFxuICAgIH1cbiAgfVxufVxuXG4vLyBTdHlsZTo6T2JqZWN0PHVuaW9uPFN0eWxlLHN0cmluZz4+XG4vL1xuLy8gQSBzdHlsZSBpcyBhbiBvYmplY3QgdGhhdCwgaW4gdGhlIHNpbXBsZSBjYXNlLCBtYXBzIENTUyBwcm9wZXJ0eVxuLy8gbmFtZXMgdG8gc3RyaW5ncyBob2xkaW5nIHRoZWlyIHZhbHVlcywgYXMgaW4gYHtjb2xvcjogXCJyZWRcIixcbi8vIGZvbnRXZWlnaHQ6IFwiYm9sZFwifWAuIFRoZSBwcm9wZXJ0eSBuYW1lcyBjYW4gYmUgZ2l2ZW4gaW5cbi8vIGNhbWVsLWNhc2VcdTIwMTR0aGUgbGlicmFyeSB3aWxsIGluc2VydCBhIGRhc2ggYmVmb3JlIGNhcGl0YWwgbGV0dGVyc1xuLy8gd2hlbiBjb252ZXJ0aW5nIHRoZW0gdG8gQ1NTLlxuLy9cbi8vIElmIHlvdSBpbmNsdWRlIGFuIHVuZGVyc2NvcmUgaW4gYSBwcm9wZXJ0eSBuYW1lLCBpdCBhbmQgZXZlcnl0aGluZ1xuLy8gYWZ0ZXIgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIG91dHB1dCwgd2hpY2ggY2FuIGJlIHVzZWZ1bCB3aGVuXG4vLyBwcm92aWRpbmcgYSBwcm9wZXJ0eSBtdWx0aXBsZSB0aW1lcywgZm9yIGJyb3dzZXIgY29tcGF0aWJpbGl0eVxuLy8gcmVhc29ucy5cbi8vXG4vLyBBIHByb3BlcnR5IGluIGEgc3R5bGUgb2JqZWN0IGNhbiBhbHNvIGJlIGEgc3ViLXNlbGVjdG9yLCB3aGljaFxuLy8gZXh0ZW5kcyB0aGUgY3VycmVudCBjb250ZXh0IHRvIGFkZCBhIHBzZXVkby1zZWxlY3RvciBvciBhIGNoaWxkXG4vLyBzZWxlY3Rvci4gU3VjaCBhIHByb3BlcnR5IHNob3VsZCBjb250YWluIGEgYCZgIGNoYXJhY3Rlciwgd2hpY2hcbi8vIHdpbGwgYmUgcmVwbGFjZWQgYnkgdGhlIGN1cnJlbnQgc2VsZWN0b3IuIEZvciBleGFtcGxlIGB7XCImOmJlZm9yZVwiOlxuLy8ge2NvbnRlbnQ6ICdcImhpXCInfX1gLiBTdWItc2VsZWN0b3JzIGFuZCByZWd1bGFyIHByb3BlcnRpZXMgY2FuXG4vLyBmcmVlbHkgYmUgbWl4ZWQgaW4gYSBnaXZlbiBvYmplY3QuIEFueSBwcm9wZXJ0eSBjb250YWluaW5nIGEgYCZgIGlzXG4vLyBhc3N1bWVkIHRvIGJlIGEgc3ViLXNlbGVjdG9yLlxuLy9cbi8vIEZpbmFsbHksIGEgcHJvcGVydHkgY2FuIHNwZWNpZnkgYW4gQC1ibG9jayB0byBiZSB3cmFwcGVkIGFyb3VuZCB0aGVcbi8vIHN0eWxlcyBkZWZpbmVkIGluc2lkZSB0aGUgb2JqZWN0IHRoYXQncyB0aGUgcHJvcGVydHkncyB2YWx1ZS4gRm9yXG4vLyBleGFtcGxlIHRvIGNyZWF0ZSBhIG1lZGlhIHF1ZXJ5IHlvdSBjYW4gZG8gYHtcIkBtZWRpYSBzY3JlZW4gYW5kXG4vLyAobWluLXdpZHRoOiA0MDBweClcIjogey4uLn19YC5cbiIsICJleHBvcnQgdmFyIGJhc2UgPSB7XG4gIDg6IFwiQmFja3NwYWNlXCIsXG4gIDk6IFwiVGFiXCIsXG4gIDEwOiBcIkVudGVyXCIsXG4gIDEyOiBcIk51bUxvY2tcIixcbiAgMTM6IFwiRW50ZXJcIixcbiAgMTY6IFwiU2hpZnRcIixcbiAgMTc6IFwiQ29udHJvbFwiLFxuICAxODogXCJBbHRcIixcbiAgMjA6IFwiQ2Fwc0xvY2tcIixcbiAgMjc6IFwiRXNjYXBlXCIsXG4gIDMyOiBcIiBcIixcbiAgMzM6IFwiUGFnZVVwXCIsXG4gIDM0OiBcIlBhZ2VEb3duXCIsXG4gIDM1OiBcIkVuZFwiLFxuICAzNjogXCJIb21lXCIsXG4gIDM3OiBcIkFycm93TGVmdFwiLFxuICAzODogXCJBcnJvd1VwXCIsXG4gIDM5OiBcIkFycm93UmlnaHRcIixcbiAgNDA6IFwiQXJyb3dEb3duXCIsXG4gIDQ0OiBcIlByaW50U2NyZWVuXCIsXG4gIDQ1OiBcIkluc2VydFwiLFxuICA0NjogXCJEZWxldGVcIixcbiAgNTk6IFwiO1wiLFxuICA2MTogXCI9XCIsXG4gIDkxOiBcIk1ldGFcIixcbiAgOTI6IFwiTWV0YVwiLFxuICAxMDY6IFwiKlwiLFxuICAxMDc6IFwiK1wiLFxuICAxMDg6IFwiLFwiLFxuICAxMDk6IFwiLVwiLFxuICAxMTA6IFwiLlwiLFxuICAxMTE6IFwiL1wiLFxuICAxNDQ6IFwiTnVtTG9ja1wiLFxuICAxNDU6IFwiU2Nyb2xsTG9ja1wiLFxuICAxNjA6IFwiU2hpZnRcIixcbiAgMTYxOiBcIlNoaWZ0XCIsXG4gIDE2MjogXCJDb250cm9sXCIsXG4gIDE2MzogXCJDb250cm9sXCIsXG4gIDE2NDogXCJBbHRcIixcbiAgMTY1OiBcIkFsdFwiLFxuICAxNzM6IFwiLVwiLFxuICAxODY6IFwiO1wiLFxuICAxODc6IFwiPVwiLFxuICAxODg6IFwiLFwiLFxuICAxODk6IFwiLVwiLFxuICAxOTA6IFwiLlwiLFxuICAxOTE6IFwiL1wiLFxuICAxOTI6IFwiYFwiLFxuICAyMTk6IFwiW1wiLFxuICAyMjA6IFwiXFxcXFwiLFxuICAyMjE6IFwiXVwiLFxuICAyMjI6IFwiJ1wiXG59XG5cbmV4cG9ydCB2YXIgc2hpZnQgPSB7XG4gIDQ4OiBcIilcIixcbiAgNDk6IFwiIVwiLFxuICA1MDogXCJAXCIsXG4gIDUxOiBcIiNcIixcbiAgNTI6IFwiJFwiLFxuICA1MzogXCIlXCIsXG4gIDU0OiBcIl5cIixcbiAgNTU6IFwiJlwiLFxuICA1NjogXCIqXCIsXG4gIDU3OiBcIihcIixcbiAgNTk6IFwiOlwiLFxuICA2MTogXCIrXCIsXG4gIDE3MzogXCJfXCIsXG4gIDE4NjogXCI6XCIsXG4gIDE4NzogXCIrXCIsXG4gIDE4ODogXCI8XCIsXG4gIDE4OTogXCJfXCIsXG4gIDE5MDogXCI+XCIsXG4gIDE5MTogXCI/XCIsXG4gIDE5MjogXCJ+XCIsXG4gIDIxOTogXCJ7XCIsXG4gIDIyMDogXCJ8XCIsXG4gIDIyMTogXCJ9XCIsXG4gIDIyMjogXCJcXFwiXCJcbn1cblxudmFyIGNocm9tZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvQ2hyb21lXFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpXG52YXIgZ2Vja28gPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgL0dlY2tvXFwvXFxkKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxudmFyIG1hYyA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTWFjLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSlcbnZhciBpZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBcXGR8VHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudClcbnZhciBicm9rZW5Nb2RpZmllck5hbWVzID0gbWFjIHx8IGNocm9tZSAmJiArY2hyb21lWzFdIDwgNTdcblxuLy8gRmlsbCBpbiB0aGUgZGlnaXQga2V5c1xuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSBiYXNlWzQ4ICsgaV0gPSBiYXNlWzk2ICsgaV0gPSBTdHJpbmcoaSlcblxuLy8gVGhlIGZ1bmN0aW9uIGtleXNcbmZvciAodmFyIGkgPSAxOyBpIDw9IDI0OyBpKyspIGJhc2VbaSArIDExMV0gPSBcIkZcIiArIGlcblxuLy8gQW5kIHRoZSBhbHBoYWJldGljIGtleXNcbmZvciAodmFyIGkgPSA2NTsgaSA8PSA5MDsgaSsrKSB7XG4gIGJhc2VbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyAzMilcbiAgc2hpZnRbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXG59XG5cbi8vIEZvciBlYWNoIGNvZGUgdGhhdCBkb2Vzbid0IGhhdmUgYSBzaGlmdC1lcXVpdmFsZW50LCBjb3B5IHRoZSBiYXNlIG5hbWVcbmZvciAodmFyIGNvZGUgaW4gYmFzZSkgaWYgKCFzaGlmdC5oYXNPd25Qcm9wZXJ0eShjb2RlKSkgc2hpZnRbY29kZV0gPSBiYXNlW2NvZGVdXG5cbmV4cG9ydCBmdW5jdGlvbiBrZXlOYW1lKGV2ZW50KSB7XG4gIHZhciBpZ25vcmVLZXkgPSBicm9rZW5Nb2RpZmllck5hbWVzICYmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5KSB8fFxuICAgIGllICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGV2ZW50LmtleSAmJiBldmVudC5rZXkubGVuZ3RoID09IDEgfHxcbiAgICBldmVudC5rZXkgPT0gXCJVbmlkZW50aWZpZWRcIlxuICB2YXIgbmFtZSA9ICghaWdub3JlS2V5ICYmIGV2ZW50LmtleSkgfHxcbiAgICAoZXZlbnQuc2hpZnRLZXkgPyBzaGlmdCA6IGJhc2UpW2V2ZW50LmtleUNvZGVdIHx8XG4gICAgZXZlbnQua2V5IHx8IFwiVW5pZGVudGlmaWVkXCJcbiAgLy8gRWRnZSBzb21ldGltZXMgcHJvZHVjZXMgd3JvbmcgbmFtZXMgKElzc3VlICMzKVxuICBpZiAobmFtZSA9PSBcIkVzY1wiKSBuYW1lID0gXCJFc2NhcGVcIlxuICBpZiAobmFtZSA9PSBcIkRlbFwiKSBuYW1lID0gXCJEZWxldGVcIlxuICAvLyBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84ODYwNTcxL1xuICBpZiAobmFtZSA9PSBcIkxlZnRcIikgbmFtZSA9IFwiQXJyb3dMZWZ0XCJcbiAgaWYgKG5hbWUgPT0gXCJVcFwiKSBuYW1lID0gXCJBcnJvd1VwXCJcbiAgaWYgKG5hbWUgPT0gXCJSaWdodFwiKSBuYW1lID0gXCJBcnJvd1JpZ2h0XCJcbiAgaWYgKG5hbWUgPT0gXCJEb3duXCIpIG5hbWUgPSBcIkFycm93RG93blwiXG4gIHJldHVybiBuYW1lXG59XG4iLCAiaW1wb3J0IHsgVGV4dCwgUmFuZ2VTZXQsIE1hcE1vZGUsIFJhbmdlVmFsdWUsIEZhY2V0LCBTdGF0ZUVmZmVjdCwgQ2hhbmdlU2V0LCBmaW5kQ2x1c3RlckJyZWFrLCBFZGl0b3JTZWxlY3Rpb24sIEVkaXRvclN0YXRlLCBmaW5kQ29sdW1uLCBDaGFyQ2F0ZWdvcnksIFRyYW5zYWN0aW9uLCBQcmVjLCBjb2RlUG9pbnRBdCwgY29kZVBvaW50U2l6ZSwgY29tYmluZUNvbmZpZywgU3RhdGVGaWVsZCwgUmFuZ2VTZXRCdWlsZGVyLCBjb3VudENvbHVtbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IFN0eWxlTW9kdWxlIH0gZnJvbSAnc3R5bGUtbW9kJztcbmltcG9ydCB7IGtleU5hbWUsIGJhc2UsIHNoaWZ0IH0gZnJvbSAndzNjLWtleW5hbWUnO1xuXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb24ocm9vdCkge1xuICAgIGxldCB0YXJnZXQ7XG4gICAgLy8gQnJvd3NlcnMgZGlmZmVyIG9uIHdoZXRoZXIgc2hhZG93IHJvb3RzIGhhdmUgYSBnZXRTZWxlY3Rpb25cbiAgICAvLyBtZXRob2QuIElmIGl0IGV4aXN0cywgdXNlIHRoYXQsIG90aGVyd2lzZSwgY2FsbCBpdCBvbiB0aGVcbiAgICAvLyBkb2N1bWVudC5cbiAgICBpZiAocm9vdC5ub2RlVHlwZSA9PSAxMSkgeyAvLyBTaGFkb3cgcm9vdFxuICAgICAgICB0YXJnZXQgPSByb290LmdldFNlbGVjdGlvbiA/IHJvb3QgOiByb290Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0YXJnZXQgPSByb290O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0LmdldFNlbGVjdGlvbigpO1xufVxuZnVuY3Rpb24gY29udGFpbnMoZG9tLCBub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgPyBkb20gPT0gbm9kZSB8fCBkb20uY29udGFpbnMobm9kZS5ub2RlVHlwZSAhPSAxID8gbm9kZS5wYXJlbnROb2RlIDogbm9kZSkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRlZXBBY3RpdmVFbGVtZW50KGRvYykge1xuICAgIGxldCBlbHQgPSBkb2MuYWN0aXZlRWxlbWVudDtcbiAgICB3aGlsZSAoZWx0ICYmIGVsdC5zaGFkb3dSb290KVxuICAgICAgICBlbHQgPSBlbHQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O1xuICAgIHJldHVybiBlbHQ7XG59XG5mdW5jdGlvbiBoYXNTZWxlY3Rpb24oZG9tLCBzZWxlY3Rpb24pIHtcbiAgICBpZiAoIXNlbGVjdGlvbi5hbmNob3JOb2RlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gRmlyZWZveCB3aWxsIHJhaXNlICdwZXJtaXNzaW9uIGRlbmllZCcgZXJyb3JzIHdoZW4gYWNjZXNzaW5nXG4gICAgICAgIC8vIHByb3BlcnRpZXMgb2YgYHNlbC5hbmNob3JOb2RlYCB3aGVuIGl0J3MgaW4gYSBnZW5lcmF0ZWQgQ1NTXG4gICAgICAgIC8vIGVsZW1lbnQuXG4gICAgICAgIHJldHVybiBjb250YWlucyhkb20sIHNlbGVjdGlvbi5hbmNob3JOb2RlKTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsaWVudFJlY3RzRm9yKGRvbSkge1xuICAgIGlmIChkb20ubm9kZVR5cGUgPT0gMylcbiAgICAgICAgcmV0dXJuIHRleHRSYW5nZShkb20sIDAsIGRvbS5ub2RlVmFsdWUubGVuZ3RoKS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGVsc2UgaWYgKGRvbS5ub2RlVHlwZSA9PSAxKVxuICAgICAgICByZXR1cm4gZG9tLmdldENsaWVudFJlY3RzKCk7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gW107XG59XG4vLyBTY2FucyBmb3J3YXJkIGFuZCBiYWNrd2FyZCB0aHJvdWdoIERPTSBwb3NpdGlvbnMgZXF1aXZhbGVudCB0byB0aGVcbi8vIGdpdmVuIG9uZSB0byBzZWUgaWYgdGhlIHR3byBhcmUgaW4gdGhlIHNhbWUgcGxhY2UgKGkuZS4gYWZ0ZXIgYVxuLy8gdGV4dCBub2RlIHZzIGF0IHRoZSBlbmQgb2YgdGhhdCB0ZXh0IG5vZGUpXG5mdW5jdGlvbiBpc0VxdWl2YWxlbnRQb3NpdGlvbihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZikge1xuICAgIHJldHVybiB0YXJnZXROb2RlID8gKHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIC0xKSB8fFxuICAgICAgICBzY2FuRm9yKG5vZGUsIG9mZiwgdGFyZ2V0Tm9kZSwgdGFyZ2V0T2ZmLCAxKSkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRvbUluZGV4KG5vZGUpIHtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7OyBpbmRleCsrKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIGRpcikge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gdGFyZ2V0Tm9kZSAmJiBvZmYgPT0gdGFyZ2V0T2ZmKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChvZmYgPT0gKGRpciA8IDAgPyAwIDogbWF4T2Zmc2V0KG5vZGUpKSkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50Lm5vZGVUeXBlICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgb2ZmID0gZG9tSW5kZXgobm9kZSkgKyAoZGlyIDwgMCA/IDAgOiAxKTtcbiAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG5vZGUuY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBvZmYgPSBkaXIgPCAwID8gbWF4T2Zmc2V0KG5vZGUpIDogMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIG1heE9mZnNldChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG59XG5jb25zdCBSZWN0MCA9IHsgbGVmdDogMCwgcmlnaHQ6IDAsIHRvcDogMCwgYm90dG9tOiAwIH07XG5mdW5jdGlvbiBmbGF0dGVuUmVjdChyZWN0LCBsZWZ0KSB7XG4gICAgbGV0IHggPSBsZWZ0ID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodDtcbiAgICByZXR1cm4geyBsZWZ0OiB4LCByaWdodDogeCwgdG9wOiByZWN0LnRvcCwgYm90dG9tOiByZWN0LmJvdHRvbSB9O1xufVxuZnVuY3Rpb24gd2luZG93UmVjdCh3aW4pIHtcbiAgICByZXR1cm4geyBsZWZ0OiAwLCByaWdodDogd2luLmlubmVyV2lkdGgsXG4gICAgICAgIHRvcDogMCwgYm90dG9tOiB3aW4uaW5uZXJIZWlnaHQgfTtcbn1cbmZ1bmN0aW9uIHNjcm9sbFJlY3RJbnRvVmlldyhkb20sIHJlY3QsIHNpZGUsIHgsIHksIHhNYXJnaW4sIHlNYXJnaW4sIGx0cikge1xuICAgIGxldCBkb2MgPSBkb20ub3duZXJEb2N1bWVudCwgd2luID0gZG9jLmRlZmF1bHRWaWV3IHx8IHdpbmRvdztcbiAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjspIHtcbiAgICAgICAgaWYgKGN1ci5ub2RlVHlwZSA9PSAxKSB7IC8vIEVsZW1lbnRcbiAgICAgICAgICAgIGxldCBib3VuZGluZywgdG9wID0gY3VyID09IGRvYy5ib2R5O1xuICAgICAgICAgICAgaWYgKHRvcCkge1xuICAgICAgICAgICAgICAgIGJvdW5kaW5nID0gd2luZG93UmVjdCh3aW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1ci5zY3JvbGxIZWlnaHQgPD0gY3VyLmNsaWVudEhlaWdodCAmJiBjdXIuc2Nyb2xsV2lkdGggPD0gY3VyLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ciA9IGN1ci5hc3NpZ25lZFNsb3QgfHwgY3VyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmVjdCA9IGN1ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgc2Nyb2xsYmFyIHdpZHRoIGlzbid0IGluY2x1ZGVkIGluIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICAgICAgICBib3VuZGluZyA9IHsgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5sZWZ0ICsgY3VyLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHJlY3QudG9wLCBib3R0b206IHJlY3QudG9wICsgY3VyLmNsaWVudEhlaWdodCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG1vdmVYID0gMCwgbW92ZVkgPSAwO1xuICAgICAgICAgICAgaWYgKHkgPT0gXCJuZWFyZXN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdC50b3AgPCBib3VuZGluZy50b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSAtKGJvdW5kaW5nLnRvcCAtIHJlY3QudG9wICsgeU1hcmdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlID4gMCAmJiByZWN0LmJvdHRvbSA+IGJvdW5kaW5nLmJvdHRvbSArIG1vdmVZKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIG1vdmVZICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVjdC5ib3R0b20gPiBib3VuZGluZy5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIHlNYXJnaW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCAmJiAocmVjdC50b3AgLSBtb3ZlWSkgPCBib3VuZGluZy50b3ApXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlWSA9IC0oYm91bmRpbmcudG9wICsgbW92ZVkgLSByZWN0LnRvcCArIHlNYXJnaW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCByZWN0SGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcCwgYm91bmRpbmdIZWlnaHQgPSBib3VuZGluZy5ib3R0b20gLSBib3VuZGluZy50b3A7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldFRvcCA9IHkgPT0gXCJjZW50ZXJcIiAmJiByZWN0SGVpZ2h0IDw9IGJvdW5kaW5nSGVpZ2h0ID8gcmVjdC50b3AgKyByZWN0SGVpZ2h0IC8gMiAtIGJvdW5kaW5nSGVpZ2h0IC8gMiA6XG4gICAgICAgICAgICAgICAgICAgIHkgPT0gXCJzdGFydFwiIHx8IHkgPT0gXCJjZW50ZXJcIiAmJiBzaWRlIDwgMCA/IHJlY3QudG9wIC0geU1hcmdpbiA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWN0LmJvdHRvbSAtIGJvdW5kaW5nSGVpZ2h0ICsgeU1hcmdpbjtcbiAgICAgICAgICAgICAgICBtb3ZlWSA9IHRhcmdldFRvcCAtIGJvdW5kaW5nLnRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID09IFwibmVhcmVzdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZVggPSAtKGJvdW5kaW5nLmxlZnQgLSByZWN0LmxlZnQgKyB4TWFyZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZGUgPiAwICYmIHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodCArIG1vdmVYKVxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVggPSByZWN0LnJpZ2h0IC0gYm91bmRpbmcucmlnaHQgKyBtb3ZlWCArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPiBib3VuZGluZy5yaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IHJlY3QucmlnaHQgLSBib3VuZGluZy5yaWdodCArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCAmJiByZWN0LmxlZnQgPCBib3VuZGluZy5sZWZ0ICsgbW92ZVgpXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlWCA9IC0oYm91bmRpbmcubGVmdCArIG1vdmVYIC0gcmVjdC5sZWZ0ICsgeE1hcmdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldExlZnQgPSB4ID09IFwiY2VudGVyXCIgPyByZWN0LmxlZnQgKyAocmVjdC5yaWdodCAtIHJlY3QubGVmdCkgLyAyIC0gKGJvdW5kaW5nLnJpZ2h0IC0gYm91bmRpbmcubGVmdCkgLyAyIDpcbiAgICAgICAgICAgICAgICAgICAgKHggPT0gXCJzdGFydFwiKSA9PSBsdHIgPyByZWN0LmxlZnQgLSB4TWFyZ2luIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QucmlnaHQgLSAoYm91bmRpbmcucmlnaHQgLSBib3VuZGluZy5sZWZ0KSArIHhNYXJnaW47XG4gICAgICAgICAgICAgICAgbW92ZVggPSB0YXJnZXRMZWZ0IC0gYm91bmRpbmcubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb3ZlWCB8fCBtb3ZlWSkge1xuICAgICAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgd2luLnNjcm9sbEJ5KG1vdmVYLCBtb3ZlWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW92ZWRYID0gMCwgbW92ZWRZID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBjdXIuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyLnNjcm9sbFRvcCArPSBtb3ZlWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkWSA9IGN1ci5zY3JvbGxUb3AgLSBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobW92ZVgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IGN1ci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyLnNjcm9sbExlZnQgKz0gbW92ZVg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZFggPSBjdXIuc2Nyb2xsTGVmdCAtIHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlY3QgPSB7IGxlZnQ6IHJlY3QubGVmdCAtIG1vdmVkWCwgdG9wOiByZWN0LnRvcCAtIG1vdmVkWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0IC0gbW92ZWRYLCBib3R0b206IHJlY3QuYm90dG9tIC0gbW92ZWRZIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlZFggJiYgTWF0aC5hYnMobW92ZWRYIC0gbW92ZVgpIDwgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBcIm5lYXJlc3RcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdmVkWSAmJiBNYXRoLmFicyhtb3ZlZFkgLSBtb3ZlWSkgPCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFwibmVhcmVzdFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjdXIgPSBjdXIuYXNzaWduZWRTbG90IHx8IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1ci5ub2RlVHlwZSA9PSAxMSkgeyAvLyBBIHNoYWRvdyByb290XG4gICAgICAgICAgICBjdXIgPSBjdXIuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRE9NU2VsZWN0aW9uU3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFuY2hvck5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmFuY2hvck9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuZm9jdXNOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb2N1c09mZnNldCA9IDA7XG4gICAgfVxuICAgIGVxKGRvbVNlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmNob3JOb2RlID09IGRvbVNlbC5hbmNob3JOb2RlICYmIHRoaXMuYW5jaG9yT2Zmc2V0ID09IGRvbVNlbC5hbmNob3JPZmZzZXQgJiZcbiAgICAgICAgICAgIHRoaXMuZm9jdXNOb2RlID09IGRvbVNlbC5mb2N1c05vZGUgJiYgdGhpcy5mb2N1c09mZnNldCA9PSBkb21TZWwuZm9jdXNPZmZzZXQ7XG4gICAgfVxuICAgIHNldFJhbmdlKHJhbmdlKSB7XG4gICAgICAgIHRoaXMuc2V0KHJhbmdlLmFuY2hvck5vZGUsIHJhbmdlLmFuY2hvck9mZnNldCwgcmFuZ2UuZm9jdXNOb2RlLCByYW5nZS5mb2N1c09mZnNldCk7XG4gICAgfVxuICAgIHNldChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5hbmNob3JOb2RlID0gYW5jaG9yTm9kZTtcbiAgICAgICAgdGhpcy5hbmNob3JPZmZzZXQgPSBhbmNob3JPZmZzZXQ7XG4gICAgICAgIHRoaXMuZm9jdXNOb2RlID0gZm9jdXNOb2RlO1xuICAgICAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gZm9jdXNPZmZzZXQ7XG4gICAgfVxufVxubGV0IHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBudWxsO1xuLy8gRmVhdHVyZS1kZXRlY3RzIHN1cHBvcnQgZm9yIC5mb2N1cyh7cHJldmVudFNjcm9sbDogdHJ1ZX0pLCBhbmQgdXNlc1xuLy8gYSBmYWxsYmFjayBrbHVkZ2Ugd2hlbiBub3Qgc3VwcG9ydGVkLlxuZnVuY3Rpb24gZm9jdXNQcmV2ZW50U2Nyb2xsKGRvbSkge1xuICAgIGlmIChkb20uc2V0QWN0aXZlKVxuICAgICAgICByZXR1cm4gZG9tLnNldEFjdGl2ZSgpOyAvLyBpbiBJRVxuICAgIGlmIChwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKVxuICAgICAgICByZXR1cm4gZG9tLmZvY3VzKHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpO1xuICAgIGxldCBzdGFjayA9IFtdO1xuICAgIGZvciAobGV0IGN1ciA9IGRvbTsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBzdGFjay5wdXNoKGN1ciwgY3VyLnNjcm9sbFRvcCwgY3VyLnNjcm9sbExlZnQpO1xuICAgICAgICBpZiAoY3VyID09IGN1ci5vd25lckRvY3VtZW50KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID09IG51bGwgPyB7XG4gICAgICAgIGdldCBwcmV2ZW50U2Nyb2xsKCkge1xuICAgICAgICAgICAgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9IDogdW5kZWZpbmVkKTtcbiAgICBpZiAoIXByZXZlbnRTY3JvbGxTdXBwb3J0ZWQpIHtcbiAgICAgICAgcHJldmVudFNjcm9sbFN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDspIHtcbiAgICAgICAgICAgIGxldCBlbHQgPSBzdGFja1tpKytdLCB0b3AgPSBzdGFja1tpKytdLCBsZWZ0ID0gc3RhY2tbaSsrXTtcbiAgICAgICAgICAgIGlmIChlbHQuc2Nyb2xsVG9wICE9IHRvcClcbiAgICAgICAgICAgICAgICBlbHQuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgICAgICAgaWYgKGVsdC5zY3JvbGxMZWZ0ICE9IGxlZnQpXG4gICAgICAgICAgICAgICAgZWx0LnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICB9XG4gICAgfVxufVxubGV0IHNjcmF0Y2hSYW5nZTtcbmZ1bmN0aW9uIHRleHRSYW5nZShub2RlLCBmcm9tLCB0byA9IGZyb20pIHtcbiAgICBsZXQgcmFuZ2UgPSBzY3JhdGNoUmFuZ2UgfHwgKHNjcmF0Y2hSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpO1xuICAgIHJhbmdlLnNldEVuZChub2RlLCB0byk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgZnJvbSk7XG4gICAgcmV0dXJuIHJhbmdlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hLZXkoZWx0LCBuYW1lLCBjb2RlKSB7XG4gICAgbGV0IG9wdGlvbnMgPSB7IGtleTogbmFtZSwgY29kZTogbmFtZSwga2V5Q29kZTogY29kZSwgd2hpY2g6IGNvZGUsIGNhbmNlbGFibGU6IHRydWUgfTtcbiAgICBsZXQgZG93biA9IG5ldyBLZXlib2FyZEV2ZW50KFwia2V5ZG93blwiLCBvcHRpb25zKTtcbiAgICBkb3duLnN5bnRoZXRpYyA9IHRydWU7XG4gICAgZWx0LmRpc3BhdGNoRXZlbnQoZG93bik7XG4gICAgbGV0IHVwID0gbmV3IEtleWJvYXJkRXZlbnQoXCJrZXl1cFwiLCBvcHRpb25zKTtcbiAgICB1cC5zeW50aGV0aWMgPSB0cnVlO1xuICAgIGVsdC5kaXNwYXRjaEV2ZW50KHVwKTtcbiAgICByZXR1cm4gZG93bi5kZWZhdWx0UHJldmVudGVkIHx8IHVwLmRlZmF1bHRQcmV2ZW50ZWQ7XG59XG5mdW5jdGlvbiBnZXRSb290KG5vZGUpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PSA5IHx8IG5vZGUubm9kZVR5cGUgPT0gMTEgJiYgbm9kZS5ob3N0KSlcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5hc3NpZ25lZFNsb3QgfHwgbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGNsZWFyQXR0cmlidXRlcyhub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUuYXR0cmlidXRlcy5sZW5ndGgpXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShub2RlLmF0dHJpYnV0ZXNbMF0pO1xufVxuZnVuY3Rpb24gYXRFbGVtZW50U3RhcnQoZG9jLCBzZWxlY3Rpb24pIHtcbiAgICBsZXQgbm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGUsIG9mZnNldCA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgICBpZiAoIW5vZGUgfHwgc2VsZWN0aW9uLmFuY2hvck5vZGUgIT0gbm9kZSB8fCBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0ICE9IG9mZnNldClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHJldiA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIGlmIChwcmV2LmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgb2Zmc2V0LS07XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gcHJldjtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBtYXhPZmZzZXQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZSA9PSBkb2MpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2Zmc2V0ID0gZG9tSW5kZXgobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBET01Qb3Mge1xuICAgIGNvbnN0cnVjdG9yKG5vZGUsIG9mZnNldCwgcHJlY2lzZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgIHRoaXMucHJlY2lzZSA9IHByZWNpc2U7XG4gICAgfVxuICAgIHN0YXRpYyBiZWZvcmUoZG9tLCBwcmVjaXNlKSB7IHJldHVybiBuZXcgRE9NUG9zKGRvbS5wYXJlbnROb2RlLCBkb21JbmRleChkb20pLCBwcmVjaXNlKTsgfVxuICAgIHN0YXRpYyBhZnRlcihkb20sIHByZWNpc2UpIHsgcmV0dXJuIG5ldyBET01Qb3MoZG9tLnBhcmVudE5vZGUsIGRvbUluZGV4KGRvbSkgKyAxLCBwcmVjaXNlKTsgfVxufVxuY29uc3Qgbm9DaGlsZHJlbiA9IFtdO1xuY2xhc3MgQ29udGVudFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZG9tID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IDIgLyogRGlydHkuTm9kZSAqLztcbiAgICB9XG4gICAgZ2V0IGVkaXRvclZpZXcoKSB7XG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBY2Nlc3NpbmcgdmlldyBpbiBvcnBoYW4gY29udGVudCB2aWV3XCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZWRpdG9yVmlldztcbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBnZXQgcG9zQXRTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQucG9zQmVmb3JlKHRoaXMpIDogMDtcbiAgICB9XG4gICAgZ2V0IHBvc0F0RW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NBdFN0YXJ0ICsgdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHBvc0JlZm9yZSh2aWV3KSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZCA9PSB2aWV3KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICBwb3MgKz0gY2hpbGQubGVuZ3RoICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgY2hpbGQgaW4gcG9zQmVmb3JlXCIpO1xuICAgIH1cbiAgICBwb3NBZnRlcih2aWV3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc0JlZm9yZSh2aWV3KSArIHZpZXcubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBXaWxsIHJldHVybiBhIHJlY3RhbmdsZSBkaXJlY3RseSBiZWZvcmUgKHdoZW4gc2lkZSA8IDApLCBhZnRlclxuICAgIC8vIChzaWRlID4gMCkgb3IgZGlyZWN0bHkgb24gKHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgaXQpIHRoZVxuICAgIC8vIGdpdmVuIHBvc2l0aW9uLlxuICAgIGNvb3Jkc0F0KF9wb3MsIF9zaWRlKSB7IHJldHVybiBudWxsOyB9XG4gICAgc3luYyh0cmFjaykge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSAmIDIgLyogRGlydHkuTm9kZSAqLykge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuZG9tO1xuICAgICAgICAgICAgbGV0IHByZXYgPSBudWxsLCBuZXh0O1xuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5kaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmRvbSAmJiAobmV4dCA9IHByZXYgPyBwcmV2Lm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29udGVudFZpZXcgPSBDb250ZW50Vmlldy5nZXQobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRWaWV3IHx8ICFjb250ZW50Vmlldy5wYXJlbnQgJiYgY29udGVudFZpZXcuY2FuUmV1c2VET00oY2hpbGQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnJldXNlRE9NKG5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN5bmModHJhY2spO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eSA9IDAgLyogRGlydHkuTm90ICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0ID0gcHJldiA/IHByZXYubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAodHJhY2sgJiYgIXRyYWNrLndyaXR0ZW4gJiYgdHJhY2subm9kZSA9PSBwYXJlbnQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dCAhPSBjaGlsZC5kb20pXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQuZG9tLCBuZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldiA9IGNoaWxkLmRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQgPSBwcmV2ID8gcHJldi5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKG5leHQgJiYgdHJhY2sgJiYgdHJhY2subm9kZSA9PSBwYXJlbnQpXG4gICAgICAgICAgICAgICAgdHJhY2sud3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAobmV4dClcbiAgICAgICAgICAgICAgICBuZXh0ID0gcm0kMShuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRpcnR5ICYgMSAvKiBEaXJ0eS5DaGlsZCAqLykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuc3luYyh0cmFjayk7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLmRpcnR5ID0gMCAvKiBEaXJ0eS5Ob3QgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldXNlRE9NKF9kb20pIHsgfVxuICAgIGxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IGFmdGVyO1xuICAgICAgICBpZiAobm9kZSA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgYWZ0ZXIgPSB0aGlzLmRvbS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYmlhcyA9IG1heE9mZnNldChub2RlKSA9PSAwID8gMCA6IG9mZnNldCA9PSAwID8gLTEgOiAxO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudCA9PSB0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGJpYXMgPT0gMCAmJiBwYXJlbnQuZmlyc3RDaGlsZCAhPSBwYXJlbnQubGFzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlID09IHBhcmVudC5maXJzdENoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmlhcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBiaWFzID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiaWFzIDwgMClcbiAgICAgICAgICAgICAgICBhZnRlciA9IG5vZGU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZnRlciA9PSB0aGlzLmRvbS5maXJzdENoaWxkKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIHdoaWxlIChhZnRlciAmJiAhQ29udGVudFZpZXcuZ2V0KGFmdGVyKSlcbiAgICAgICAgICAgIGFmdGVyID0gYWZ0ZXIubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICghYWZ0ZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLmRvbSA9PSBhZnRlcilcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICAgICAgcG9zICs9IGNoaWxkLmxlbmd0aCArIGNoaWxkLmJyZWFrQWZ0ZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9tQm91bmRzQXJvdW5kKGZyb20sIHRvLCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIGxldCBmcm9tSSA9IC0xLCBmcm9tU3RhcnQgPSAtMSwgdG9JID0gLTEsIHRvRW5kID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSBvZmZzZXQsIHByZXZFbmQgPSBvZmZzZXQ7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBwb3MgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocG9zIDwgZnJvbSAmJiBlbmQgPiB0bylcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuZG9tQm91bmRzQXJvdW5kKGZyb20sIHRvLCBwb3MpO1xuICAgICAgICAgICAgaWYgKGVuZCA+PSBmcm9tICYmIGZyb21JID09IC0xKSB7XG4gICAgICAgICAgICAgICAgZnJvbUkgPSBpO1xuICAgICAgICAgICAgICAgIGZyb21TdGFydCA9IHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3MgPiB0byAmJiBjaGlsZC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHRvSSA9IGk7XG4gICAgICAgICAgICAgICAgdG9FbmQgPSBwcmV2RW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldkVuZCA9IGVuZDtcbiAgICAgICAgICAgIHBvcyA9IGVuZCArIGNoaWxkLmJyZWFrQWZ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZnJvbTogZnJvbVN0YXJ0LCB0bzogdG9FbmQgPCAwID8gb2Zmc2V0ICsgdGhpcy5sZW5ndGggOiB0b0VuZCxcbiAgICAgICAgICAgIHN0YXJ0RE9NOiAoZnJvbUkgPyB0aGlzLmNoaWxkcmVuW2Zyb21JIC0gMV0uZG9tLm5leHRTaWJsaW5nIDogbnVsbCkgfHwgdGhpcy5kb20uZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIGVuZERPTTogdG9JIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggJiYgdG9JID49IDAgPyB0aGlzLmNoaWxkcmVuW3RvSV0uZG9tIDogbnVsbCB9O1xuICAgIH1cbiAgICBtYXJrRGlydHkoYW5kUGFyZW50ID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSB8PSAyIC8qIERpcnR5Lk5vZGUgKi87XG4gICAgICAgIHRoaXMubWFya1BhcmVudHNEaXJ0eShhbmRQYXJlbnQpO1xuICAgIH1cbiAgICBtYXJrUGFyZW50c0RpcnR5KGNoaWxkTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudDsgcGFyZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0KVxuICAgICAgICAgICAgICAgIHBhcmVudC5kaXJ0eSB8PSAyIC8qIERpcnR5Lk5vZGUgKi87XG4gICAgICAgICAgICBpZiAocGFyZW50LmRpcnR5ICYgMSAvKiBEaXJ0eS5DaGlsZCAqLylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBwYXJlbnQuZGlydHkgfD0gMSAvKiBEaXJ0eS5DaGlsZCAqLztcbiAgICAgICAgICAgIGNoaWxkTGlzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFBhcmVudChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50ICE9IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtQYXJlbnRzRGlydHkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0RE9NKGRvbSkge1xuICAgICAgICBpZiAodGhpcy5kb20pXG4gICAgICAgICAgICB0aGlzLmRvbS5jbVZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmRvbSA9IGRvbTtcbiAgICAgICAgZG9tLmNtVmlldyA9IHRoaXM7XG4gICAgfVxuICAgIGdldCByb290VmlldygpIHtcbiAgICAgICAgZm9yIChsZXQgdiA9IHRoaXM7Oykge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHYucGFyZW50O1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICB2ID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2VDaGlsZHJlbihmcm9tLCB0bywgY2hpbGRyZW4gPSBub0NoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQgPT0gdGhpcylcbiAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoZnJvbSwgdG8gLSBmcm9tLCAuLi5jaGlsZHJlbik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBjaGlsZHJlbltpXS5zZXRQYXJlbnQodGhpcyk7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKF9yZWMpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgaWdub3JlRXZlbnQoX2V2ZW50KSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGNoaWxkQ3Vyc29yKHBvcyA9IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hpbGRDdXJzb3IodGhpcy5jaGlsZHJlbiwgcG9zLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgfVxuICAgIGNoaWxkUG9zKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDdXJzb3IoKS5maW5kUG9zKHBvcywgYmlhcyk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKFwiVmlld1wiLCBcIlwiKTtcbiAgICAgICAgcmV0dXJuIG5hbWUgKyAodGhpcy5jaGlsZHJlbi5sZW5ndGggPyBcIihcIiArIHRoaXMuY2hpbGRyZW4uam9pbigpICsgXCIpXCIgOlxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPyBcIltcIiArIChuYW1lID09IFwiVGV4dFwiID8gdGhpcy50ZXh0IDogdGhpcy5sZW5ndGgpICsgXCJdXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAodGhpcy5icmVha0FmdGVyID8gXCIjXCIgOiBcIlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGdldChub2RlKSB7IHJldHVybiBub2RlLmNtVmlldzsgfVxuICAgIGdldCBpc0VkaXRhYmxlKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBiZWNvbWUob3RoZXIpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgY2FuUmV1c2VET00ob3RoZXIpIHsgcmV0dXJuIG90aGVyLmNvbnN0cnVjdG9yID09IHRoaXMuY29uc3RydWN0b3I7IH1cbiAgICAvLyBXaGVuIHRoaXMgaXMgYSB6ZXJvLWxlbmd0aCB2aWV3IHdpdGggYSBzaWRlLCB0aGlzIHNob3VsZCByZXR1cm4gYVxuICAgIC8vIG51bWJlciA8PSAwIHRvIGluZGljYXRlIGl0IGlzIGJlZm9yZSBpdHMgcG9zaXRpb24sIG9yIGFcbiAgICAvLyBudW1iZXIgPiAwIHdoZW4gYWZ0ZXIgaXRzIHBvc2l0aW9uLlxuICAgIGdldFNpZGUoKSB7IHJldHVybiAwOyB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbn1cbkNvbnRlbnRWaWV3LnByb3RvdHlwZS5icmVha0FmdGVyID0gMDtcbi8vIFJlbW92ZSBhIERPTSBub2RlIGFuZCByZXR1cm4gaXRzIG5leHQgc2libGluZy5cbmZ1bmN0aW9uIHJtJDEoZG9tKSB7XG4gICAgbGV0IG5leHQgPSBkb20ubmV4dFNpYmxpbmc7XG4gICAgZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tKTtcbiAgICByZXR1cm4gbmV4dDtcbn1cbmNsYXNzIENoaWxkQ3Vyc29yIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgcG9zLCBpKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuaSA9IGk7XG4gICAgICAgIHRoaXMub2ZmID0gMDtcbiAgICB9XG4gICAgZmluZFBvcyhwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChwb3MgPiB0aGlzLnBvcyB8fCBwb3MgPT0gdGhpcy5wb3MgJiZcbiAgICAgICAgICAgICAgICAoYmlhcyA+IDAgfHwgdGhpcy5pID09IDAgfHwgdGhpcy5jaGlsZHJlblt0aGlzLmkgLSAxXS5icmVha0FmdGVyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmID0gcG9zIC0gdGhpcy5wb3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMuY2hpbGRyZW5bLS10aGlzLmldO1xuICAgICAgICAgICAgdGhpcy5wb3MgLT0gbmV4dC5sZW5ndGggKyBuZXh0LmJyZWFrQWZ0ZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiByZXBsYWNlUmFuZ2UocGFyZW50LCBmcm9tSSwgZnJvbU9mZiwgdG9JLCB0b09mZiwgaW5zZXJ0LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgIGxldCB7IGNoaWxkcmVuIH0gPSBwYXJlbnQ7XG4gICAgbGV0IGJlZm9yZSA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuW2Zyb21JXSA6IG51bGw7XG4gICAgbGV0IGxhc3QgPSBpbnNlcnQubGVuZ3RoID8gaW5zZXJ0W2luc2VydC5sZW5ndGggLSAxXSA6IG51bGw7XG4gICAgbGV0IGJyZWFrQXRFbmQgPSBsYXN0ID8gbGFzdC5icmVha0FmdGVyIDogYnJlYWtBdFN0YXJ0O1xuICAgIC8vIENoYW5nZSB3aXRoaW4gYSBzaW5nbGUgY2hpbGRcbiAgICBpZiAoZnJvbUkgPT0gdG9JICYmIGJlZm9yZSAmJiAhYnJlYWtBdFN0YXJ0ICYmICFicmVha0F0RW5kICYmIGluc2VydC5sZW5ndGggPCAyICYmXG4gICAgICAgIGJlZm9yZS5tZXJnZShmcm9tT2ZmLCB0b09mZiwgaW5zZXJ0Lmxlbmd0aCA/IGxhc3QgOiBudWxsLCBmcm9tT2ZmID09IDAsIG9wZW5TdGFydCwgb3BlbkVuZCkpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodG9JIDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIGxldCBhZnRlciA9IGNoaWxkcmVuW3RvSV07XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZW5kIG9mIHRoZSBjaGlsZCBhZnRlciB0aGUgdXBkYXRlIGlzIHByZXNlcnZlZCBpbiBgYWZ0ZXJgXG4gICAgICAgIGlmIChhZnRlciAmJiB0b09mZiA8IGFmdGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gSWYgd2UncmUgc3BsaXR0aW5nIGEgY2hpbGQsIHNlcGFyYXRlIHBhcnQgb2YgaXQgdG8gYXZvaWQgdGhhdFxuICAgICAgICAgICAgLy8gYmVpbmcgbWFuZ2xlZCB3aGVuIHVwZGF0aW5nIHRoZSBjaGlsZCBiZWZvcmUgdGhlIHVwZGF0ZS5cbiAgICAgICAgICAgIGlmIChmcm9tSSA9PSB0b0kpIHtcbiAgICAgICAgICAgICAgICBhZnRlciA9IGFmdGVyLnNwbGl0KHRvT2ZmKTtcbiAgICAgICAgICAgICAgICB0b09mZiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBhZnRlciB0aGUgcmVwbGFjZW1lbnQgc2hvdWxkIGJlIG1lcmdlZCB3aXRoXG4gICAgICAgICAgICAvLyB0aGUgbGFzdCByZXBsYWNpbmcgZWxlbWVudCwgdXBkYXRlIGBjb250ZW50YFxuICAgICAgICAgICAgaWYgKCFicmVha0F0RW5kICYmIGxhc3QgJiYgYWZ0ZXIubWVyZ2UoMCwgdG9PZmYsIGxhc3QsIHRydWUsIDAsIG9wZW5FbmQpKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0W2luc2VydC5sZW5ndGggLSAxXSA9IGFmdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBzdGFydCBvZiB0aGUgYWZ0ZXIgZWxlbWVudCwgaWYgbmVjZXNzYXJ5LCBhbmRcbiAgICAgICAgICAgICAgICAvLyBhZGQgaXQgdG8gYGNvbnRlbnRgLlxuICAgICAgICAgICAgICAgIGlmICh0b09mZilcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIubWVyZ2UoMCwgdG9PZmYsIG51bGwsIGZhbHNlLCAwLCBvcGVuRW5kKTtcbiAgICAgICAgICAgICAgICBpbnNlcnQucHVzaChhZnRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYWZ0ZXIgPT09IG51bGwgfHwgYWZ0ZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFmdGVyLmJyZWFrQWZ0ZXIpIHtcbiAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGF0IGB0b0lgIGlzIGVudGlyZWx5IGNvdmVyZWQgYnkgdGhpcyByYW5nZS5cbiAgICAgICAgICAgIC8vIFByZXNlcnZlIGl0cyBsaW5lIGJyZWFrLCBpZiBhbnkuXG4gICAgICAgICAgICBpZiAobGFzdClcbiAgICAgICAgICAgICAgICBsYXN0LmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrQXRTdGFydCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luY2Ugd2UndmUgaGFuZGxlZCB0aGUgbmV4dCBlbGVtZW50IGZyb20gdGhlIGN1cnJlbnQgZWxlbWVudHNcbiAgICAgICAgLy8gbm93LCBtYWtlIHN1cmUgYHRvSWAgcG9pbnRzIGFmdGVyIHRoYXQuXG4gICAgICAgIHRvSSsrO1xuICAgIH1cbiAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgIGJlZm9yZS5icmVha0FmdGVyID0gYnJlYWtBdFN0YXJ0O1xuICAgICAgICBpZiAoZnJvbU9mZiA+IDApIHtcbiAgICAgICAgICAgIGlmICghYnJlYWtBdFN0YXJ0ICYmIGluc2VydC5sZW5ndGggJiYgYmVmb3JlLm1lcmdlKGZyb21PZmYsIGJlZm9yZS5sZW5ndGgsIGluc2VydFswXSwgZmFsc2UsIG9wZW5TdGFydCwgMCkpIHtcbiAgICAgICAgICAgICAgICBiZWZvcmUuYnJlYWtBZnRlciA9IGluc2VydC5zaGlmdCgpLmJyZWFrQWZ0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tT2ZmIDwgYmVmb3JlLmxlbmd0aCB8fCBiZWZvcmUuY2hpbGRyZW4ubGVuZ3RoICYmIGJlZm9yZS5jaGlsZHJlbltiZWZvcmUuY2hpbGRyZW4ubGVuZ3RoIC0gMV0ubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICBiZWZvcmUubWVyZ2UoZnJvbU9mZiwgYmVmb3JlLmxlbmd0aCwgbnVsbCwgZmFsc2UsIG9wZW5TdGFydCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcm9tSSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRyeSB0byBtZXJnZSB3aWRnZXRzIG9uIHRoZSBib3VuZGFyaWVzIG9mIHRoZSByZXBsYWNlbWVudFxuICAgIHdoaWxlIChmcm9tSSA8IHRvSSAmJiBpbnNlcnQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChjaGlsZHJlblt0b0kgLSAxXS5iZWNvbWUoaW5zZXJ0W2luc2VydC5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgICAgIHRvSS0tO1xuICAgICAgICAgICAgaW5zZXJ0LnBvcCgpO1xuICAgICAgICAgICAgb3BlbkVuZCA9IGluc2VydC5sZW5ndGggPyAwIDogb3BlblN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoaWxkcmVuW2Zyb21JXS5iZWNvbWUoaW5zZXJ0WzBdKSkge1xuICAgICAgICAgICAgZnJvbUkrKztcbiAgICAgICAgICAgIGluc2VydC5zaGlmdCgpO1xuICAgICAgICAgICAgb3BlblN0YXJ0ID0gaW5zZXJ0Lmxlbmd0aCA/IDAgOiBvcGVuRW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpbnNlcnQubGVuZ3RoICYmIGZyb21JICYmIHRvSSA8IGNoaWxkcmVuLmxlbmd0aCAmJiAhY2hpbGRyZW5bZnJvbUkgLSAxXS5icmVha0FmdGVyICYmXG4gICAgICAgIGNoaWxkcmVuW3RvSV0ubWVyZ2UoMCwgMCwgY2hpbGRyZW5bZnJvbUkgLSAxXSwgZmFsc2UsIG9wZW5TdGFydCwgb3BlbkVuZCkpXG4gICAgICAgIGZyb21JLS07XG4gICAgaWYgKGZyb21JIDwgdG9JIHx8IGluc2VydC5sZW5ndGgpXG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGRyZW4oZnJvbUksIHRvSSwgaW5zZXJ0KTtcbn1cbmZ1bmN0aW9uIG1lcmdlQ2hpbGRyZW5JbnRvKHBhcmVudCwgZnJvbSwgdG8sIGluc2VydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgbGV0IGN1ciA9IHBhcmVudC5jaGlsZEN1cnNvcigpO1xuICAgIGxldCB7IGk6IHRvSSwgb2ZmOiB0b09mZiB9ID0gY3VyLmZpbmRQb3ModG8sIDEpO1xuICAgIGxldCB7IGk6IGZyb21JLCBvZmY6IGZyb21PZmYgfSA9IGN1ci5maW5kUG9zKGZyb20sIC0xKTtcbiAgICBsZXQgZExlbiA9IGZyb20gLSB0bztcbiAgICBmb3IgKGxldCB2aWV3IG9mIGluc2VydClcbiAgICAgICAgZExlbiArPSB2aWV3Lmxlbmd0aDtcbiAgICBwYXJlbnQubGVuZ3RoICs9IGRMZW47XG4gICAgcmVwbGFjZVJhbmdlKHBhcmVudCwgZnJvbUksIGZyb21PZmYsIHRvSSwgdG9PZmYsIGluc2VydCwgMCwgb3BlblN0YXJ0LCBvcGVuRW5kKTtcbn1cblxubGV0IG5hdiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IG5hdmlnYXRvciA6IHsgdXNlckFnZW50OiBcIlwiLCB2ZW5kb3I6IFwiXCIsIHBsYXRmb3JtOiBcIlwiIH07XG5sZXQgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9IFwidW5kZWZpbmVkXCIgPyBkb2N1bWVudCA6IHsgZG9jdW1lbnRFbGVtZW50OiB7IHN0eWxlOiB7fSB9IH07XG5jb25zdCBpZV9lZGdlID0gLypAX19QVVJFX18qLy9FZGdlXFwvKFxcZCspLy5leGVjKG5hdi51c2VyQWdlbnQpO1xuY29uc3QgaWVfdXB0bzEwID0gLypAX19QVVJFX18qLy9NU0lFIFxcZC8udGVzdChuYXYudXNlckFnZW50KTtcbmNvbnN0IGllXzExdXAgPSAvKkBfX1BVUkVfXyovL1RyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKG5hdi51c2VyQWdlbnQpO1xuY29uc3QgaWUgPSAhIShpZV91cHRvMTAgfHwgaWVfMTF1cCB8fCBpZV9lZGdlKTtcbmNvbnN0IGdlY2tvID0gIWllICYmIC8qQF9fUFVSRV9fKi8vZ2Vja29cXC8oXFxkKykvaS50ZXN0KG5hdi51c2VyQWdlbnQpO1xuY29uc3QgY2hyb21lID0gIWllICYmIC8qQF9fUFVSRV9fKi8vQ2hyb21lXFwvKFxcZCspLy5leGVjKG5hdi51c2VyQWdlbnQpO1xuY29uc3Qgd2Via2l0ID0gXCJ3ZWJraXRGb250U21vb3RoaW5nXCIgaW4gZG9jLmRvY3VtZW50RWxlbWVudC5zdHlsZTtcbmNvbnN0IHNhZmFyaSA9ICFpZSAmJiAvKkBfX1BVUkVfXyovL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdi52ZW5kb3IpO1xuY29uc3QgaW9zID0gc2FmYXJpICYmICgvKkBfX1BVUkVfXyovL01vYmlsZVxcL1xcdysvLnRlc3QobmF2LnVzZXJBZ2VudCkgfHwgbmF2Lm1heFRvdWNoUG9pbnRzID4gMik7XG52YXIgYnJvd3NlciA9IHtcbiAgICBtYWM6IGlvcyB8fCAvKkBfX1BVUkVfXyovL01hYy8udGVzdChuYXYucGxhdGZvcm0pLFxuICAgIHdpbmRvd3M6IC8qQF9fUFVSRV9fKi8vV2luLy50ZXN0KG5hdi5wbGF0Zm9ybSksXG4gICAgbGludXg6IC8qQF9fUFVSRV9fKi8vTGludXh8WDExLy50ZXN0KG5hdi5wbGF0Zm9ybSksXG4gICAgaWUsXG4gICAgaWVfdmVyc2lvbjogaWVfdXB0bzEwID8gZG9jLmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cCA/ICtpZV8xMXVwWzFdIDogaWVfZWRnZSA/ICtpZV9lZGdlWzFdIDogMCxcbiAgICBnZWNrbyxcbiAgICBnZWNrb192ZXJzaW9uOiBnZWNrbyA/ICsoLypAX19QVVJFX18qLy9GaXJlZm94XFwvKFxcZCspLy5leGVjKG5hdi51c2VyQWdlbnQpIHx8IFswLCAwXSlbMV0gOiAwLFxuICAgIGNocm9tZTogISFjaHJvbWUsXG4gICAgY2hyb21lX3ZlcnNpb246IGNocm9tZSA/ICtjaHJvbWVbMV0gOiAwLFxuICAgIGlvcyxcbiAgICBhbmRyb2lkOiAvKkBfX1BVUkVfXyovL0FuZHJvaWRcXGIvLnRlc3QobmF2LnVzZXJBZ2VudCksXG4gICAgd2Via2l0LFxuICAgIHNhZmFyaSxcbiAgICB3ZWJraXRfdmVyc2lvbjogd2Via2l0ID8gKygvKkBfX1BVUkVfXyovL1xcYkFwcGxlV2ViS2l0XFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IFswLCAwXSlbMV0gOiAwLFxuICAgIHRhYlNpemU6IGRvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGUudGFiU2l6ZSAhPSBudWxsID8gXCJ0YWItc2l6ZVwiIDogXCItbW96LXRhYi1zaXplXCJcbn07XG5cbmNvbnN0IE1heEpvaW5MZW4gPSAyNTY7XG5jbGFzcyBUZXh0VmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnRleHQubGVuZ3RoOyB9XG4gICAgY3JlYXRlRE9NKHRleHRET00pIHtcbiAgICAgICAgdGhpcy5zZXRET00odGV4dERPTSB8fCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLnRleHQpKTtcbiAgICB9XG4gICAgc3luYyh0cmFjaykge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVET00oKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tLm5vZGVWYWx1ZSAhPSB0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0cmFjayAmJiB0cmFjay5ub2RlID09IHRoaXMuZG9tKVxuICAgICAgICAgICAgICAgIHRyYWNrLndyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20ubm9kZVZhbHVlID0gdGhpcy50ZXh0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldXNlRE9NKGRvbSkge1xuICAgICAgICBpZiAoZG9tLm5vZGVUeXBlID09IDMpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURPTShkb20pO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgVGV4dFZpZXcpIHx8IHRoaXMubGVuZ3RoIC0gKHRvIC0gZnJvbSkgKyBzb3VyY2UubGVuZ3RoID4gTWF4Sm9pbkxlbikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zbGljZSgwLCBmcm9tKSArIChzb3VyY2UgPyBzb3VyY2UudGV4dCA6IFwiXCIpICsgdGhpcy50ZXh0LnNsaWNlKHRvKTtcbiAgICAgICAgdGhpcy5tYXJrRGlydHkoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNwbGl0KGZyb20pIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBUZXh0Vmlldyh0aGlzLnRleHQuc2xpY2UoZnJvbSkpO1xuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLnRleHQuc2xpY2UoMCwgZnJvbSk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gdGhpcy5kb20gPyBvZmZzZXQgOiBvZmZzZXQgPyB0aGlzLnRleHQubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7IHJldHVybiBuZXcgRE9NUG9zKHRoaXMuZG9tLCBwb3MpOyB9XG4gICAgZG9tQm91bmRzQXJvdW5kKF9mcm9tLCBfdG8sIG9mZnNldCkge1xuICAgICAgICByZXR1cm4geyBmcm9tOiBvZmZzZXQsIHRvOiBvZmZzZXQgKyB0aGlzLmxlbmd0aCwgc3RhcnRET006IHRoaXMuZG9tLCBlbmRET006IHRoaXMuZG9tLm5leHRTaWJsaW5nIH07XG4gICAgfVxuICAgIGNvb3Jkc0F0KHBvcywgc2lkZSkge1xuICAgICAgICByZXR1cm4gdGV4dENvb3Jkcyh0aGlzLmRvbSwgcG9zLCBzaWRlKTtcbiAgICB9XG59XG5jbGFzcyBNYXJrVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihtYXJrLCBjaGlsZHJlbiA9IFtdLCBsZW5ndGggPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWFyayA9IG1hcms7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGNoaWxkcmVuKVxuICAgICAgICAgICAgY2guc2V0UGFyZW50KHRoaXMpO1xuICAgIH1cbiAgICBzZXRBdHRycyhkb20pIHtcbiAgICAgICAgY2xlYXJBdHRyaWJ1dGVzKGRvbSk7XG4gICAgICAgIGlmICh0aGlzLm1hcmsuY2xhc3MpXG4gICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gdGhpcy5tYXJrLmNsYXNzO1xuICAgICAgICBpZiAodGhpcy5tYXJrLmF0dHJzKVxuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiB0aGlzLm1hcmsuYXR0cnMpXG4gICAgICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB0aGlzLm1hcmsuYXR0cnNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gZG9tO1xuICAgIH1cbiAgICByZXVzZURPTShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09IHRoaXMubWFyay50YWdOYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSB8PSA0IC8qIERpcnR5LkF0dHJzICovIHwgMiAvKiBEaXJ0eS5Ob2RlICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN5bmModHJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKHRoaXMuc2V0QXR0cnMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLm1hcmsudGFnTmFtZSkpKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kaXJ0eSAmIDQgLyogRGlydHkuQXR0cnMgKi8pXG4gICAgICAgICAgICB0aGlzLnNldEF0dHJzKHRoaXMuZG9tKTtcbiAgICAgICAgc3VwZXIuc3luYyh0cmFjayk7XG4gICAgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIF9oYXNTdGFydCwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2UgJiYgKCEoc291cmNlIGluc3RhbmNlb2YgTWFya1ZpZXcgJiYgc291cmNlLm1hcmsuZXEodGhpcy5tYXJrKSkgfHxcbiAgICAgICAgICAgIChmcm9tICYmIG9wZW5TdGFydCA8PSAwKSB8fCAodG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbWVyZ2VDaGlsZHJlbkludG8odGhpcywgZnJvbSwgdG8sIHNvdXJjZSA/IHNvdXJjZS5jaGlsZHJlbiA6IFtdLCBvcGVuU3RhcnQgLSAxLCBvcGVuRW5kIC0gMSk7XG4gICAgICAgIHRoaXMubWFya0RpcnR5KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzcGxpdChmcm9tKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXSwgb2ZmID0gMCwgZGV0YWNoRnJvbSA9IC0xLCBpID0gMDtcbiAgICAgICAgZm9yIChsZXQgZWx0IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBvZmYgKyBlbHQubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IGZyb20pXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gob2ZmIDwgZnJvbSA/IGVsdC5zcGxpdChmcm9tIC0gb2ZmKSA6IGVsdCk7XG4gICAgICAgICAgICBpZiAoZGV0YWNoRnJvbSA8IDAgJiYgb2ZmID49IGZyb20pXG4gICAgICAgICAgICAgICAgZGV0YWNoRnJvbSA9IGk7XG4gICAgICAgICAgICBvZmYgPSBlbmQ7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMubGVuZ3RoIC0gZnJvbTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tO1xuICAgICAgICBpZiAoZGV0YWNoRnJvbSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IGRldGFjaEZyb207XG4gICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTWFya1ZpZXcodGhpcy5tYXJrLCByZXN1bHQsIGxlbmd0aCk7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gaW5saW5lRE9NQXRQb3ModGhpcywgcG9zKTtcbiAgICB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiBjb29yZHNJbkNoaWxkcmVuKHRoaXMsIHBvcywgc2lkZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGV4dENvb3Jkcyh0ZXh0LCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgbGVuZ3RoID0gdGV4dC5ub2RlVmFsdWUubGVuZ3RoO1xuICAgIGlmIChwb3MgPiBsZW5ndGgpXG4gICAgICAgIHBvcyA9IGxlbmd0aDtcbiAgICBsZXQgZnJvbSA9IHBvcywgdG8gPSBwb3MsIGZsYXR0ZW4gPSAwO1xuICAgIGlmIChwb3MgPT0gMCAmJiBzaWRlIDwgMCB8fCBwb3MgPT0gbGVuZ3RoICYmIHNpZGUgPj0gMCkge1xuICAgICAgICBpZiAoIShicm93c2VyLmNocm9tZSB8fCBicm93c2VyLmdlY2tvKSkgeyAvLyBUaGVzZSBicm93c2VycyByZWxpYWJseSByZXR1cm4gdmFsaWQgcmVjdGFuZ2xlcyBmb3IgZW1wdHkgcmFuZ2VzXG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgZnJvbS0tO1xuICAgICAgICAgICAgICAgIGZsYXR0ZW4gPSAxO1xuICAgICAgICAgICAgfSAvLyBGSVhNRSB0aGlzIGlzIHdyb25nIGluIFJUTCB0ZXh0XG4gICAgICAgICAgICBlbHNlIGlmICh0byA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICAgICAgZmxhdHRlbiA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoc2lkZSA8IDApXG4gICAgICAgICAgICBmcm9tLS07XG4gICAgICAgIGVsc2UgaWYgKHRvIDwgbGVuZ3RoKVxuICAgICAgICAgICAgdG8rKztcbiAgICB9XG4gICAgbGV0IHJlY3RzID0gdGV4dFJhbmdlKHRleHQsIGZyb20sIHRvKS5nZXRDbGllbnRSZWN0cygpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gUmVjdDA7XG4gICAgbGV0IHJlY3QgPSByZWN0c1soZmxhdHRlbiA/IGZsYXR0ZW4gPCAwIDogc2lkZSA+PSAwKSA/IDAgOiByZWN0cy5sZW5ndGggLSAxXTtcbiAgICBpZiAoYnJvd3Nlci5zYWZhcmkgJiYgIWZsYXR0ZW4gJiYgcmVjdC53aWR0aCA9PSAwKVxuICAgICAgICByZWN0ID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChyZWN0cywgciA9PiByLndpZHRoKSB8fCByZWN0O1xuICAgIHJldHVybiBmbGF0dGVuID8gZmxhdHRlblJlY3QocmVjdCwgZmxhdHRlbiA8IDApIDogcmVjdCB8fCBudWxsO1xufVxuLy8gQWxzbyB1c2VkIGZvciBjb2xsYXBzZWQgcmFuZ2VzIHRoYXQgZG9uJ3QgaGF2ZSBhIHBsYWNlaG9sZGVyIHdpZGdldCFcbmNsYXNzIFdpZGdldFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIHNpZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnNpZGUgPSBzaWRlO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHdpZGdldCwgbGVuZ3RoLCBzaWRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgKHdpZGdldC5jdXN0b21WaWV3IHx8IFdpZGdldFZpZXcpKHdpZGdldCwgbGVuZ3RoLCBzaWRlKTtcbiAgICB9XG4gICAgc3BsaXQoZnJvbSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gV2lkZ2V0Vmlldy5jcmVhdGUodGhpcy53aWRnZXQsIHRoaXMubGVuZ3RoIC0gZnJvbSwgdGhpcy5zaWRlKTtcbiAgICAgICAgdGhpcy5sZW5ndGggLT0gZnJvbTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgc3luYygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odGhpcy5lZGl0b3JWaWV3KSk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIG1lcmdlKGZyb20sIHRvLCBzb3VyY2UsIGhhc1N0YXJ0LCBvcGVuU3RhcnQsIG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiAoIShzb3VyY2UgaW5zdGFuY2VvZiBXaWRnZXRWaWV3KSB8fCAhdGhpcy53aWRnZXQuY29tcGFyZShzb3VyY2Uud2lkZ2V0KSB8fFxuICAgICAgICAgICAgZnJvbSA+IDAgJiYgb3BlblN0YXJ0IDw9IDAgfHwgdG8gPCB0aGlzLmxlbmd0aCAmJiBvcGVuRW5kIDw9IDApKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGZyb20gKyAoc291cmNlID8gc291cmNlLmxlbmd0aCA6IDApICsgKHRoaXMubGVuZ3RoIC0gdG8pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYmVjb21lKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlci5sZW5ndGggPT0gdGhpcy5sZW5ndGggJiYgb3RoZXIgaW5zdGFuY2VvZiBXaWRnZXRWaWV3ICYmIG90aGVyLnNpZGUgPT0gdGhpcy5zaWRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWRnZXQuY29uc3RydWN0b3IgPT0gb3RoZXIud2lkZ2V0LmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndpZGdldC5lcShvdGhlci53aWRnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kb20gJiYgIXRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2V2lkZ2V0ID0gdGhpcy53aWRnZXQ7XG4gICAgICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBvdGhlci53aWRnZXQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIHRydWU7IH1cbiAgICBpZ25vcmVFdmVudChldmVudCkgeyByZXR1cm4gdGhpcy53aWRnZXQuaWdub3JlRXZlbnQoZXZlbnQpOyB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gVGV4dC5lbXB0eTtcbiAgICAgICAgbGV0IHRvcCA9IHRoaXM7XG4gICAgICAgIHdoaWxlICh0b3AucGFyZW50KVxuICAgICAgICAgICAgdG9wID0gdG9wLnBhcmVudDtcbiAgICAgICAgbGV0IHZpZXcgPSB0b3AuZWRpdG9yVmlldywgdGV4dCA9IHZpZXcgJiYgdmlldy5zdGF0ZS5kb2MsIHN0YXJ0ID0gdGhpcy5wb3NBdFN0YXJ0O1xuICAgICAgICByZXR1cm4gdGV4dCA/IHRleHQuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgdGhpcy5sZW5ndGgpIDogVGV4dC5lbXB0eTtcbiAgICB9XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiBwb3MgPT0gMCA/IERPTVBvcy5iZWZvcmUodGhpcy5kb20pIDogRE9NUG9zLmFmdGVyKHRoaXMuZG9tLCBwb3MgPT0gdGhpcy5sZW5ndGgpO1xuICAgIH1cbiAgICBkb21Cb3VuZHNBcm91bmQoKSB7IHJldHVybiBudWxsOyB9XG4gICAgY29vcmRzQXQocG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCByZWN0cyA9IHRoaXMuZG9tLmdldENsaWVudFJlY3RzKCksIHJlY3QgPSBudWxsO1xuICAgICAgICBpZiAoIXJlY3RzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBSZWN0MDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHBvcyA+IDAgPyByZWN0cy5sZW5ndGggLSAxIDogMDs7IGkgKz0gKHBvcyA+IDAgPyAtMSA6IDEpKSB7XG4gICAgICAgICAgICByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgICAgICBpZiAocG9zID4gMCA/IGkgPT0gMCA6IGkgPT0gcmVjdHMubGVuZ3RoIC0gMSB8fCByZWN0LnRvcCA8IHJlY3QuYm90dG9tKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA/IHJlY3QgOiBmbGF0dGVuUmVjdChyZWN0LCB0aGlzLnNpZGUgPiAwKTtcbiAgICB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tKVxuICAgICAgICAgICAgdGhpcy53aWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgfVxufVxuY2xhc3MgQ29tcG9zaXRpb25WaWV3IGV4dGVuZHMgV2lkZ2V0VmlldyB7XG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIGxldCB7IHRvcFZpZXcsIHRleHQgfSA9IHRoaXMud2lkZ2V0O1xuICAgICAgICBpZiAoIXRvcFZpZXcpXG4gICAgICAgICAgICByZXR1cm4gbmV3IERPTVBvcyh0ZXh0LCBNYXRoLm1pbihwb3MsIHRleHQubm9kZVZhbHVlLmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gc2NhbkNvbXBvc2l0aW9uVHJlZShwb3MsIDAsIHRvcFZpZXcsIHRleHQsICh2LCBwKSA9PiB2LmRvbUF0UG9zKHApLCBwID0+IG5ldyBET01Qb3ModGV4dCwgTWF0aC5taW4ocCwgdGV4dC5ub2RlVmFsdWUubGVuZ3RoKSkpO1xuICAgIH1cbiAgICBzeW5jKCkgeyB0aGlzLnNldERPTSh0aGlzLndpZGdldC50b0RPTSgpKTsgfVxuICAgIGxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHsgdG9wVmlldywgdGV4dCB9ID0gdGhpcy53aWRnZXQ7XG4gICAgICAgIGlmICghdG9wVmlldylcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihvZmZzZXQsIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHBvc0Zyb21ET01JbkNvbXBvc2l0aW9uVHJlZShub2RlLCBvZmZzZXQsIHRvcFZpZXcsIHRleHQpO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IHsgdG9wVmlldywgdGV4dCB9ID0gdGhpcy53aWRnZXQ7XG4gICAgICAgIGlmICghdG9wVmlldylcbiAgICAgICAgICAgIHJldHVybiB0ZXh0Q29vcmRzKHRleHQsIHBvcywgc2lkZSk7XG4gICAgICAgIHJldHVybiBzY2FuQ29tcG9zaXRpb25UcmVlKHBvcywgc2lkZSwgdG9wVmlldywgdGV4dCwgKHYsIHBvcywgc2lkZSkgPT4gdi5jb29yZHNBdChwb3MsIHNpZGUpLCAocG9zLCBzaWRlKSA9PiB0ZXh0Q29vcmRzKHRleHQsIHBvcywgc2lkZSkpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgKF9hID0gdGhpcy53aWRnZXQudG9wVmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgZ2V0IGlzRWRpdGFibGUoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgY2FuUmV1c2VET00oKSB7IHJldHVybiB0cnVlOyB9XG59XG4vLyBVc2VzIHRoZSBvbGQgc3RydWN0dXJlIG9mIGEgY2h1bmsgb2YgY29udGVudCB2aWV3IGZyb3plbiBmb3Jcbi8vIGNvbXBvc2l0aW9uIHRvIHRyeSBhbmQgZmluZCBhIHJlYXNvbmFibGUgRE9NIGxvY2F0aW9uIGZvciB0aGUgZ2l2ZW5cbi8vIG9mZnNldC5cbmZ1bmN0aW9uIHNjYW5Db21wb3NpdGlvblRyZWUocG9zLCBzaWRlLCB2aWV3LCB0ZXh0LCBlbnRlclZpZXcsIGZyb21UZXh0KSB7XG4gICAgaWYgKHZpZXcgaW5zdGFuY2VvZiBNYXJrVmlldykge1xuICAgICAgICBmb3IgKGxldCBjaGlsZCA9IHZpZXcuZG9tLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBsZXQgZGVzYyA9IENvbnRlbnRWaWV3LmdldChjaGlsZCk7XG4gICAgICAgICAgICBpZiAoIWRlc2MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb21UZXh0KHBvcywgc2lkZSk7XG4gICAgICAgICAgICBsZXQgaGFzQ29tcCA9IGNvbnRhaW5zKGNoaWxkLCB0ZXh0KTtcbiAgICAgICAgICAgIGxldCBsZW4gPSBkZXNjLmxlbmd0aCArIChoYXNDb21wID8gdGV4dC5ub2RlVmFsdWUubGVuZ3RoIDogMCk7XG4gICAgICAgICAgICBpZiAocG9zIDwgbGVuIHx8IHBvcyA9PSBsZW4gJiYgZGVzYy5nZXRTaWRlKCkgPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzQ29tcCA/IHNjYW5Db21wb3NpdGlvblRyZWUocG9zLCBzaWRlLCBkZXNjLCB0ZXh0LCBlbnRlclZpZXcsIGZyb21UZXh0KSA6IGVudGVyVmlldyhkZXNjLCBwb3MsIHNpZGUpO1xuICAgICAgICAgICAgcG9zIC09IGxlbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW50ZXJWaWV3KHZpZXcsIHZpZXcubGVuZ3RoLCAtMSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZpZXcuZG9tID09IHRleHQpIHtcbiAgICAgICAgcmV0dXJuIGZyb21UZXh0KHBvcywgc2lkZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZW50ZXJWaWV3KHZpZXcsIHBvcywgc2lkZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcG9zRnJvbURPTUluQ29tcG9zaXRpb25UcmVlKG5vZGUsIG9mZnNldCwgdmlldywgdGV4dCkge1xuICAgIGlmICh2aWV3IGluc3RhbmNlb2YgTWFya1ZpZXcpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2Ygdmlldy5jaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IHBvcyA9IDAsIGhhc0NvbXAgPSBjb250YWlucyhjaGlsZC5kb20sIHRleHQpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLmRvbSwgbm9kZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcyArIChoYXNDb21wID8gcG9zRnJvbURPTUluQ29tcG9zaXRpb25UcmVlKG5vZGUsIG9mZnNldCwgY2hpbGQsIHRleHQpIDogY2hpbGQubG9jYWxQb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkpO1xuICAgICAgICAgICAgcG9zICs9IGhhc0NvbXAgPyB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGggOiBjaGlsZC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmlldy5kb20gPT0gdGV4dCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4ob2Zmc2V0LCB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gdmlldy5sb2NhbFBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KTtcbn1cbi8vIFRoZXNlIGFyZSBkcmF3biBhcm91bmQgdW5lZGl0YWJsZSB3aWRnZXRzIHRvIGF2b2lkIGEgbnVtYmVyIG9mXG4vLyBicm93c2VyIGJ1Z3MgdGhhdCBzaG93IHVwIHdoZW4gdGhlIGN1cnNvciBpcyBkaXJlY3RseSBuZXh0IHRvXG4vLyB1bmVkaXRhYmxlIGlubGluZSBjb250ZW50LlxuY2xhc3MgV2lkZ2V0QnVmZmVyVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihzaWRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2lkZSA9IHNpZGU7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiAwOyB9XG4gICAgbWVyZ2UoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGJlY29tZShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBXaWRnZXRCdWZmZXJWaWV3ICYmIG90aGVyLnNpZGUgPT0gdGhpcy5zaWRlO1xuICAgIH1cbiAgICBzcGxpdCgpIHsgcmV0dXJuIG5ldyBXaWRnZXRCdWZmZXJWaWV3KHRoaXMuc2lkZSk7IH1cbiAgICBzeW5jKCkge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKSB7XG4gICAgICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgIGRvbS5jbGFzc05hbWUgPSBcImNtLXdpZGdldEJ1ZmZlclwiO1xuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKGRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2lkZSgpIHsgcmV0dXJuIHRoaXMuc2lkZTsgfVxuICAgIGRvbUF0UG9zKHBvcykgeyByZXR1cm4gRE9NUG9zLmJlZm9yZSh0aGlzLmRvbSk7IH1cbiAgICBsb2NhbFBvc0Zyb21ET00oKSB7IHJldHVybiAwOyB9XG4gICAgZG9tQm91bmRzQXJvdW5kKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIGNvb3Jkc0F0KHBvcykge1xuICAgICAgICBsZXQgaW1nUmVjdCA9IHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAvLyBTaW5jZSB0aGUgPGltZz4gaGVpZ2h0IGRvZXNuJ3QgY29ycmVzcG9uZCB0byB0ZXh0IGhlaWdodCwgdHJ5XG4gICAgICAgIC8vIHRvIGJvcnJvdyB0aGUgaGVpZ2h0IGZyb20gc29tZSBzaWJsaW5nIG5vZGUuXG4gICAgICAgIGxldCBzaWJsaW5nUmVjdCA9IGlubGluZVNpYmxpbmdSZWN0KHRoaXMsIHRoaXMuc2lkZSA+IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2libGluZ1JlY3QgJiYgc2libGluZ1JlY3QudG9wIDwgaW1nUmVjdC5ib3R0b20gJiYgc2libGluZ1JlY3QuYm90dG9tID4gaW1nUmVjdC50b3BcbiAgICAgICAgICAgID8geyBsZWZ0OiBpbWdSZWN0LmxlZnQsIHJpZ2h0OiBpbWdSZWN0LnJpZ2h0LCB0b3A6IHNpYmxpbmdSZWN0LnRvcCwgYm90dG9tOiBzaWJsaW5nUmVjdC5ib3R0b20gfSA6IGltZ1JlY3Q7XG4gICAgfVxuICAgIGdldCBvdmVycmlkZURPTVRleHQoKSB7XG4gICAgICAgIHJldHVybiBUZXh0LmVtcHR5O1xuICAgIH1cbn1cblRleHRWaWV3LnByb3RvdHlwZS5jaGlsZHJlbiA9IFdpZGdldFZpZXcucHJvdG90eXBlLmNoaWxkcmVuID0gV2lkZ2V0QnVmZmVyVmlldy5wcm90b3R5cGUuY2hpbGRyZW4gPSBub0NoaWxkcmVuO1xuZnVuY3Rpb24gaW5saW5lU2libGluZ1JlY3Qodmlldywgc2lkZSkge1xuICAgIGxldCBwYXJlbnQgPSB2aWV3LnBhcmVudCwgaW5kZXggPSBwYXJlbnQgPyBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih2aWV3KSA6IC0xO1xuICAgIHdoaWxlIChwYXJlbnQgJiYgaW5kZXggPj0gMCkge1xuICAgICAgICBpZiAoc2lkZSA8IDAgPyBpbmRleCA+IDAgOiBpbmRleCA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gcGFyZW50LmNoaWxkcmVuW2luZGV4ICsgc2lkZV07XG4gICAgICAgICAgICBpZiAobmV4dCBpbnN0YW5jZW9mIFRleHRWaWV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRSZWN0ID0gbmV4dC5jb29yZHNBdChzaWRlIDwgMCA/IG5leHQubGVuZ3RoIDogMCwgc2lkZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRSZWN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFJlY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCArPSBzaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhcmVudCBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIHBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGluZGV4ID0gcGFyZW50LnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHBhcmVudCkgKyAoc2lkZSA8IDAgPyAwIDogMSk7XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBwYXJlbnQuZG9tLmxhc3RDaGlsZDtcbiAgICAgICAgICAgIGlmIChsYXN0ICYmIGxhc3Qubm9kZU5hbWUgPT0gXCJCUlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0LmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaW5saW5lRE9NQXRQb3MocGFyZW50LCBwb3MpIHtcbiAgICBsZXQgZG9tID0gcGFyZW50LmRvbSwgeyBjaGlsZHJlbiB9ID0gcGFyZW50LCBpID0gMDtcbiAgICBmb3IgKGxldCBvZmYgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV0sIGVuZCA9IG9mZiArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgaWYgKGVuZCA9PSBvZmYgJiYgY2hpbGQuZ2V0U2lkZSgpIDw9IDApXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKHBvcyA+IG9mZiAmJiBwb3MgPCBlbmQgJiYgY2hpbGQuZG9tLnBhcmVudE5vZGUgPT0gZG9tKVxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmRvbUF0UG9zKHBvcyAtIG9mZik7XG4gICAgICAgIGlmIChwb3MgPD0gb2ZmKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIG9mZiA9IGVuZDtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPiAwOyBqLS0pIHtcbiAgICAgICAgbGV0IHByZXYgPSBjaGlsZHJlbltqIC0gMV07XG4gICAgICAgIGlmIChwcmV2LmRvbS5wYXJlbnROb2RlID09IGRvbSlcbiAgICAgICAgICAgIHJldHVybiBwcmV2LmRvbUF0UG9zKHByZXYubGVuZ3RoKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaiA9IGk7IGogPCBjaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgbmV4dCA9IGNoaWxkcmVuW2pdO1xuICAgICAgICBpZiAobmV4dC5kb20ucGFyZW50Tm9kZSA9PSBkb20pXG4gICAgICAgICAgICByZXR1cm4gbmV4dC5kb21BdFBvcygwKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBET01Qb3MoZG9tLCAwKTtcbn1cbi8vIEFzc3VtZXMgYHZpZXdgLCBpZiBhIG1hcmsgdmlldywgaGFzIHByZWNpc2VseSAxIGNoaWxkLlxuZnVuY3Rpb24gam9pbklubGluZUludG8ocGFyZW50LCB2aWV3LCBvcGVuKSB7XG4gICAgbGV0IGxhc3QsIHsgY2hpbGRyZW4gfSA9IHBhcmVudDtcbiAgICBpZiAob3BlbiA+IDAgJiYgdmlldyBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIGNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAobGFzdCA9IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdKSBpbnN0YW5jZW9mIE1hcmtWaWV3ICYmIGxhc3QubWFyay5lcSh2aWV3Lm1hcmspKSB7XG4gICAgICAgIGpvaW5JbmxpbmVJbnRvKGxhc3QsIHZpZXcuY2hpbGRyZW5bMF0sIG9wZW4gLSAxKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2godmlldyk7XG4gICAgICAgIHZpZXcuc2V0UGFyZW50KHBhcmVudCk7XG4gICAgfVxuICAgIHBhcmVudC5sZW5ndGggKz0gdmlldy5sZW5ndGg7XG59XG5mdW5jdGlvbiBjb29yZHNJbkNoaWxkcmVuKHZpZXcsIHBvcywgc2lkZSkge1xuICAgIGxldCBiZWZvcmUgPSBudWxsLCBiZWZvcmVQb3MgPSAtMSwgYWZ0ZXIgPSBudWxsLCBhZnRlclBvcyA9IC0xO1xuICAgIGZ1bmN0aW9uIHNjYW4odmlldywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgdmlldy5jaGlsZHJlbi5sZW5ndGggJiYgb2ZmIDw9IHBvczsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB2aWV3LmNoaWxkcmVuW2ldLCBlbmQgPSBvZmYgKyBjaGlsZC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZW5kID49IHBvcykge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbihjaGlsZCwgcG9zIC0gb2ZmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWFmdGVyICYmIChlbmQgPiBwb3MgfHwgb2ZmID09IGVuZCAmJiBjaGlsZC5nZXRTaWRlKCkgPiAwKSkge1xuICAgICAgICAgICAgICAgICAgICBhZnRlciA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBhZnRlclBvcyA9IHBvcyAtIG9mZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob2ZmIDwgcG9zIHx8IChvZmYgPT0gZW5kICYmIGNoaWxkLmdldFNpZGUoKSA8IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVQb3MgPSBwb3MgLSBvZmY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gZW5kO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNjYW4odmlldywgcG9zKTtcbiAgICBsZXQgdGFyZ2V0ID0gKHNpZGUgPCAwID8gYmVmb3JlIDogYWZ0ZXIpIHx8IGJlZm9yZSB8fCBhZnRlcjtcbiAgICBpZiAodGFyZ2V0KVxuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvb3Jkc0F0KE1hdGgubWF4KDAsIHRhcmdldCA9PSBiZWZvcmUgPyBiZWZvcmVQb3MgOiBhZnRlclBvcyksIHNpZGUpO1xuICAgIHJldHVybiBmYWxsYmFja1JlY3Qodmlldyk7XG59XG5mdW5jdGlvbiBmYWxsYmFja1JlY3Qodmlldykge1xuICAgIGxldCBsYXN0ID0gdmlldy5kb20ubGFzdENoaWxkO1xuICAgIGlmICghbGFzdClcbiAgICAgICAgcmV0dXJuIHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGxhc3QpO1xuICAgIHJldHVybiByZWN0c1tyZWN0cy5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBjb21iaW5lQXR0cnMoc291cmNlLCB0YXJnZXQpIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIHNvdXJjZSkge1xuICAgICAgICBpZiAobmFtZSA9PSBcImNsYXNzXCIgJiYgdGFyZ2V0LmNsYXNzKVxuICAgICAgICAgICAgdGFyZ2V0LmNsYXNzICs9IFwiIFwiICsgc291cmNlLmNsYXNzO1xuICAgICAgICBlbHNlIGlmIChuYW1lID09IFwic3R5bGVcIiAmJiB0YXJnZXQuc3R5bGUpXG4gICAgICAgICAgICB0YXJnZXQuc3R5bGUgKz0gXCI7XCIgKyBzb3VyY2Uuc3R5bGU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSA9IHNvdXJjZVtuYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGF0dHJzRXEoYSwgYikge1xuICAgIGlmIChhID09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghYSB8fCAhYilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBrZXlzQSA9IE9iamVjdC5rZXlzKGEpLCBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChrZXlzQS5sZW5ndGggIT0ga2V5c0IubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXNBKSB7XG4gICAgICAgIGlmIChrZXlzQi5pbmRleE9mKGtleSkgPT0gLTEgfHwgYVtrZXldICE9PSBiW2tleV0pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdXBkYXRlQXR0cnMoZG9tLCBwcmV2LCBhdHRycykge1xuICAgIGxldCBjaGFuZ2VkID0gbnVsbDtcbiAgICBpZiAocHJldilcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwcmV2KVxuICAgICAgICAgICAgaWYgKCEoYXR0cnMgJiYgbmFtZSBpbiBhdHRycykpXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShjaGFuZ2VkID0gbmFtZSk7XG4gICAgaWYgKGF0dHJzKVxuICAgICAgICBmb3IgKGxldCBuYW1lIGluIGF0dHJzKVxuICAgICAgICAgICAgaWYgKCEocHJldiAmJiBwcmV2W25hbWVdID09IGF0dHJzW25hbWVdKSlcbiAgICAgICAgICAgICAgICBkb20uc2V0QXR0cmlidXRlKGNoYW5nZWQgPSBuYW1lLCBhdHRyc1tuYW1lXSk7XG4gICAgcmV0dXJuICEhY2hhbmdlZDtcbn1cblxuLyoqXG5XaWRnZXRzIGFkZGVkIHRvIHRoZSBjb250ZW50IGFyZSBkZXNjcmliZWQgYnkgc3ViY2xhc3NlcyBvZiB0aGlzXG5jbGFzcy4gVXNpbmcgYSBkZXNjcmlwdGlvbiBvYmplY3QgbGlrZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvXG5kZWxheSBjcmVhdGluZyBvZiB0aGUgRE9NIHN0cnVjdHVyZSBmb3IgYSB3aWRnZXQgdW50aWwgaXQgaXNcbm5lZWRlZCwgYW5kIHRvIGF2b2lkIHJlZHJhd2luZyB3aWRnZXRzIGV2ZW4gaWYgdGhlIGRlY29yYXRpb25zXG50aGF0IGRlZmluZSB0aGVtIGFyZSByZWNyZWF0ZWQuXG4qL1xuY2xhc3MgV2lkZ2V0VHlwZSB7XG4gICAgLyoqXG4gICAgQ29tcGFyZSB0aGlzIGluc3RhbmNlIHRvIGFub3RoZXIgaW5zdGFuY2Ugb2YgdGhlIHNhbWUgdHlwZS5cbiAgICAoVHlwZVNjcmlwdCBjYW4ndCBleHByZXNzIHRoaXMsIGJ1dCBvbmx5IGluc3RhbmNlcyBvZiB0aGUgc2FtZVxuICAgIHNwZWNpZmljIGNsYXNzIHdpbGwgYmUgcGFzc2VkIHRvIHRoaXMgbWV0aG9kLikgVGhpcyBpcyB1c2VkIHRvXG4gICAgYXZvaWQgcmVkcmF3aW5nIHdpZGdldHMgd2hlbiB0aGV5IGFyZSByZXBsYWNlZCBieSBhIG5ld1xuICAgIGRlY29yYXRpb24gb2YgdGhlIHNhbWUgdHlwZS4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24ganVzdFxuICAgIHJldHVybnMgYGZhbHNlYCwgd2hpY2ggd2lsbCBjYXVzZSBuZXcgaW5zdGFuY2VzIG9mIHRoZSB3aWRnZXQgdG9cbiAgICBhbHdheXMgYmUgcmVkcmF3bi5cbiAgICAqL1xuICAgIGVxKHdpZGdldCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBVcGRhdGUgYSBET00gZWxlbWVudCBjcmVhdGVkIGJ5IGEgd2lkZ2V0IG9mIHRoZSBzYW1lIHR5cGUgKGJ1dFxuICAgIGRpZmZlcmVudCwgbm9uLWBlcWAgY29udGVudCkgdG8gcmVmbGVjdCB0aGlzIHdpZGdldC4gTWF5IHJldHVyblxuICAgIHRydWUgdG8gaW5kaWNhdGUgdGhhdCBpdCBjb3VsZCB1cGRhdGUsIGZhbHNlIHRvIGluZGljYXRlIGl0XG4gICAgY291bGRuJ3QgKGluIHdoaWNoIGNhc2UgdGhlIHdpZGdldCB3aWxsIGJlIHJlZHJhd24pLiBUaGUgZGVmYXVsdFxuICAgIGltcGxlbWVudGF0aW9uIGp1c3QgcmV0dXJucyBmYWxzZS5cbiAgICAqL1xuICAgIHVwZGF0ZURPTShkb20pIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb21wYXJlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8IHRoaXMuY29uc3RydWN0b3IgPT0gb3RoZXIuY29uc3RydWN0b3IgJiYgdGhpcy5lcShvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlc3RpbWF0ZWQgaGVpZ2h0IHRoaXMgd2lkZ2V0IHdpbGwgaGF2ZSwgdG8gYmUgdXNlZCB3aGVuXG4gICAgZXN0aW1hdGluZyB0aGUgaGVpZ2h0IG9mIGNvbnRlbnQgdGhhdCBoYXNuJ3QgYmVlbiBkcmF3bi4gTWF5XG4gICAgcmV0dXJuIC0xIHRvIGluZGljYXRlIHlvdSBkb24ndCBrbm93LiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgIHJldHVybnMgLTEuXG4gICAgKi9cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gLTE7IH1cbiAgICAvKipcbiAgICBDYW4gYmUgdXNlZCB0byBjb25maWd1cmUgd2hpY2gga2luZHMgb2YgZXZlbnRzIGluc2lkZSB0aGUgd2lkZ2V0XG4gICAgc2hvdWxkIGJlIGlnbm9yZWQgYnkgdGhlIGVkaXRvci4gVGhlIGRlZmF1bHQgaXMgdG8gaWdub3JlIGFsbFxuICAgIGV2ZW50cy5cbiAgICAqL1xuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0cnVlOyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgY3VzdG9tVmlldygpIHsgcmV0dXJuIG51bGw7IH1cbiAgICAvKipcbiAgICBUaGlzIGlzIGNhbGxlZCB3aGVuIHRoZSBhbiBpbnN0YW5jZSBvZiB0aGUgd2lkZ2V0IGlzIHJlbW92ZWRcbiAgICBmcm9tIHRoZSBlZGl0b3Igdmlldy5cbiAgICAqL1xuICAgIGRlc3Ryb3koZG9tKSB7IH1cbn1cbi8qKlxuVGhlIGRpZmZlcmVudCB0eXBlcyBvZiBibG9ja3MgdGhhdCBjYW4gb2NjdXIgaW4gYW4gZWRpdG9yIHZpZXcuXG4qL1xudmFyIEJsb2NrVHlwZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJsb2NrVHlwZSkge1xuICAgIC8qKlxuICAgIEEgbGluZSBvZiB0ZXh0LlxuICAgICovXG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIlRleHRcIl0gPSAwXSA9IFwiVGV4dFwiO1xuICAgIC8qKlxuICAgIEEgYmxvY2sgd2lkZ2V0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcG9zaXRpb24gYWZ0ZXIgaXQuXG4gICAgKi9cbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiV2lkZ2V0QmVmb3JlXCJdID0gMV0gPSBcIldpZGdldEJlZm9yZVwiO1xuICAgIC8qKlxuICAgIEEgYmxvY2sgd2lkZ2V0IGFzc29jaWF0ZWQgd2l0aCB0aGUgcG9zaXRpb24gYmVmb3JlIGl0LlxuICAgICovXG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIldpZGdldEFmdGVyXCJdID0gMl0gPSBcIldpZGdldEFmdGVyXCI7XG4gICAgLyoqXG4gICAgQSBibG9jayB3aWRnZXQgW3JlcGxhY2luZ10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25ecmVwbGFjZSkgYSByYW5nZSBvZiBjb250ZW50LlxuICAgICovXG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIldpZGdldFJhbmdlXCJdID0gM10gPSBcIldpZGdldFJhbmdlXCI7XG5yZXR1cm4gQmxvY2tUeXBlfSkoQmxvY2tUeXBlIHx8IChCbG9ja1R5cGUgPSB7fSkpO1xuLyoqXG5BIGRlY29yYXRpb24gcHJvdmlkZXMgaW5mb3JtYXRpb24gb24gaG93IHRvIGRyYXcgb3Igc3R5bGUgYSBwaWVjZVxub2YgY29udGVudC4gWW91J2xsIHVzdWFsbHkgdXNlIGl0IHdyYXBwZWQgaW4gYVxuW2BSYW5nZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuUmFuZ2UpLCB3aGljaCBhZGRzIGEgc3RhcnQgYW5kIGVuZCBwb3NpdGlvbi5cbkBub25hYnN0cmFjdFxuKi9cbmNsYXNzIERlY29yYXRpb24gZXh0ZW5kcyBSYW5nZVZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXJ0U2lkZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBlbmRTaWRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHdpZGdldCwgXG4gICAgLyoqXG4gICAgVGhlIGNvbmZpZyBvYmplY3QgdXNlZCB0byBjcmVhdGUgdGhpcyBkZWNvcmF0aW9uLiBZb3UgY2FuXG4gICAgaW5jbHVkZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgaW4gdGhlcmUgdG8gc3RvcmUgbWV0YWRhdGEgYWJvdXRcbiAgICB5b3VyIGRlY29yYXRpb24uXG4gICAgKi9cbiAgICBzcGVjKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc3RhcnRTaWRlID0gc3RhcnRTaWRlO1xuICAgICAgICB0aGlzLmVuZFNpZGUgPSBlbmRTaWRlO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBnZXQgaGVpZ2h0UmVsZXZhbnQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIG1hcmsgZGVjb3JhdGlvbiwgd2hpY2ggaW5mbHVlbmNlcyB0aGUgc3R5bGluZyBvZiB0aGVcbiAgICBjb250ZW50IGluIGl0cyByYW5nZS4gTmVzdGVkIG1hcmsgZGVjb3JhdGlvbnMgd2lsbCBjYXVzZSBuZXN0ZWRcbiAgICBET00gZWxlbWVudHMgdG8gYmUgY3JlYXRlZC4gTmVzdGluZyBvcmRlciBpcyBkZXRlcm1pbmVkIGJ5XG4gICAgcHJlY2VkZW5jZSBvZiB0aGUgW2ZhY2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15kZWNvcmF0aW9ucyksIHdpdGhcbiAgICB0aGUgaGlnaGVyLXByZWNlZGVuY2UgZGVjb3JhdGlvbnMgY3JlYXRpbmcgdGhlIGlubmVyIERPTSBub2Rlcy5cbiAgICBTdWNoIGVsZW1lbnRzIGFyZSBzcGxpdCBvbiBsaW5lIGJvdW5kYXJpZXMgYW5kIG9uIHRoZSBib3VuZGFyaWVzXG4gICAgb2YgbG93ZXItcHJlY2VkZW5jZSBkZWNvcmF0aW9ucy5cbiAgICAqL1xuICAgIHN0YXRpYyBtYXJrKHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXJrRGVjb3JhdGlvbihzcGVjKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgd2lkZ2V0IGRlY29yYXRpb24sIHdoaWNoIGRpc3BsYXlzIGEgRE9NIGVsZW1lbnQgYXQgdGhlXG4gICAgZ2l2ZW4gcG9zaXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgd2lkZ2V0KHNwZWMpIHtcbiAgICAgICAgbGV0IHNpZGUgPSBzcGVjLnNpZGUgfHwgMCwgYmxvY2sgPSAhIXNwZWMuYmxvY2s7XG4gICAgICAgIHNpZGUgKz0gYmxvY2sgPyAoc2lkZSA+IDAgPyAzMDAwMDAwMDAgLyogU2lkZS5CbG9ja0FmdGVyICovIDogLTQwMDAwMDAwMCAvKiBTaWRlLkJsb2NrQmVmb3JlICovKSA6IChzaWRlID4gMCA/IDEwMDAwMDAwMCAvKiBTaWRlLklubGluZUFmdGVyICovIDogLTEwMDAwMDAwMCAvKiBTaWRlLklubGluZUJlZm9yZSAqLyk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnREZWNvcmF0aW9uKHNwZWMsIHNpZGUsIHNpZGUsIGJsb2NrLCBzcGVjLndpZGdldCB8fCBudWxsLCBmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIHJlcGxhY2UgZGVjb3JhdGlvbiB3aGljaCByZXBsYWNlcyB0aGUgZ2l2ZW4gcmFuZ2Ugd2l0aFxuICAgIGEgd2lkZ2V0LCBvciBzaW1wbHkgaGlkZXMgaXQuXG4gICAgKi9cbiAgICBzdGF0aWMgcmVwbGFjZShzcGVjKSB7XG4gICAgICAgIGxldCBibG9jayA9ICEhc3BlYy5ibG9jaywgc3RhcnRTaWRlLCBlbmRTaWRlO1xuICAgICAgICBpZiAoc3BlYy5pc0Jsb2NrR2FwKSB7XG4gICAgICAgICAgICBzdGFydFNpZGUgPSAtNTAwMDAwMDAwIC8qIFNpZGUuR2FwU3RhcnQgKi87XG4gICAgICAgICAgICBlbmRTaWRlID0gNDAwMDAwMDAwIC8qIFNpZGUuR2FwRW5kICovO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHsgc3RhcnQsIGVuZCB9ID0gZ2V0SW5jbHVzaXZlKHNwZWMsIGJsb2NrKTtcbiAgICAgICAgICAgIHN0YXJ0U2lkZSA9IChzdGFydCA/IChibG9jayA/IC0zMDAwMDAwMDAgLyogU2lkZS5CbG9ja0luY1N0YXJ0ICovIDogLTEgLyogU2lkZS5JbmxpbmVJbmNTdGFydCAqLykgOiA1MDAwMDAwMDAgLyogU2lkZS5Ob25JbmNTdGFydCAqLykgLSAxO1xuICAgICAgICAgICAgZW5kU2lkZSA9IChlbmQgPyAoYmxvY2sgPyAyMDAwMDAwMDAgLyogU2lkZS5CbG9ja0luY0VuZCAqLyA6IDEgLyogU2lkZS5JbmxpbmVJbmNFbmQgKi8pIDogLTYwMDAwMDAwMCAvKiBTaWRlLk5vbkluY0VuZCAqLykgKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnREZWNvcmF0aW9uKHNwZWMsIHN0YXJ0U2lkZSwgZW5kU2lkZSwgYmxvY2ssIHNwZWMud2lkZ2V0IHx8IG51bGwsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBsaW5lIGRlY29yYXRpb24sIHdoaWNoIGNhbiBhZGQgRE9NIGF0dHJpYnV0ZXMgdG8gdGhlXG4gICAgbGluZSBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgKi9cbiAgICBzdGF0aWMgbGluZShzcGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZURlY29yYXRpb24oc3BlYyk7XG4gICAgfVxuICAgIC8qKlxuICAgIEJ1aWxkIGEgW2BEZWNvcmF0aW9uU2V0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25TZXQpIGZyb20gdGhlIGdpdmVuXG4gICAgZGVjb3JhdGVkIHJhbmdlIG9yIHJhbmdlcy4gSWYgdGhlIHJhbmdlcyBhcmVuJ3QgYWxyZWFkeSBzb3J0ZWQsXG4gICAgcGFzcyBgdHJ1ZWAgZm9yIGBzb3J0YCB0byBtYWtlIHRoZSBsaWJyYXJ5IHNvcnQgdGhlbSBmb3IgeW91LlxuICAgICovXG4gICAgc3RhdGljIHNldChvZiwgc29ydCA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBSYW5nZVNldC5vZihvZiwgc29ydCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaGFzSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy53aWRnZXQgPyB0aGlzLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgPiAtMSA6IGZhbHNlOyB9XG59XG4vKipcblRoZSBlbXB0eSBzZXQgb2YgZGVjb3JhdGlvbnMuXG4qL1xuRGVjb3JhdGlvbi5ub25lID0gUmFuZ2VTZXQuZW1wdHk7XG5jbGFzcyBNYXJrRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgbGV0IHsgc3RhcnQsIGVuZCB9ID0gZ2V0SW5jbHVzaXZlKHNwZWMpO1xuICAgICAgICBzdXBlcihzdGFydCA/IC0xIC8qIFNpZGUuSW5saW5lSW5jU3RhcnQgKi8gOiA1MDAwMDAwMDAgLyogU2lkZS5Ob25JbmNTdGFydCAqLywgZW5kID8gMSAvKiBTaWRlLklubGluZUluY0VuZCAqLyA6IC02MDAwMDAwMDAgLyogU2lkZS5Ob25JbmNFbmQgKi8sIG51bGwsIHNwZWMpO1xuICAgICAgICB0aGlzLnRhZ05hbWUgPSBzcGVjLnRhZ05hbWUgfHwgXCJzcGFuXCI7XG4gICAgICAgIHRoaXMuY2xhc3MgPSBzcGVjLmNsYXNzIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBzcGVjLmF0dHJpYnV0ZXMgfHwgbnVsbDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgICAgICAgIG90aGVyIGluc3RhbmNlb2YgTWFya0RlY29yYXRpb24gJiZcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ05hbWUgPT0gb3RoZXIudGFnTmFtZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3MgPT0gb3RoZXIuY2xhc3MgJiZcbiAgICAgICAgICAgICAgICBhdHRyc0VxKHRoaXMuYXR0cnMsIG90aGVyLmF0dHJzKTtcbiAgICB9XG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmIChmcm9tID49IHRvKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJNYXJrIGRlY29yYXRpb25zIG1heSBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuTWFya0RlY29yYXRpb24ucHJvdG90eXBlLnBvaW50ID0gZmFsc2U7XG5jbGFzcyBMaW5lRGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoLTIwMDAwMDAwMCAvKiBTaWRlLkxpbmUgKi8sIC0yMDAwMDAwMDAgLyogU2lkZS5MaW5lICovLCBudWxsLCBzcGVjKTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgTGluZURlY29yYXRpb24gJiYgYXR0cnNFcSh0aGlzLnNwZWMuYXR0cmlidXRlcywgb3RoZXIuc3BlYy5hdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgcmFuZ2UoZnJvbSwgdG8gPSBmcm9tKSB7XG4gICAgICAgIGlmICh0byAhPSBmcm9tKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJMaW5lIGRlY29yYXRpb24gcmFuZ2VzIG11c3QgYmUgemVyby1sZW5ndGhcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuTGluZURlY29yYXRpb24ucHJvdG90eXBlLm1hcE1vZGUgPSBNYXBNb2RlLlRyYWNrQmVmb3JlO1xuTGluZURlY29yYXRpb24ucHJvdG90eXBlLnBvaW50ID0gdHJ1ZTtcbmNsYXNzIFBvaW50RGVjb3JhdGlvbiBleHRlbmRzIERlY29yYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMsIHN0YXJ0U2lkZSwgZW5kU2lkZSwgYmxvY2ssIHdpZGdldCwgaXNSZXBsYWNlKSB7XG4gICAgICAgIHN1cGVyKHN0YXJ0U2lkZSwgZW5kU2lkZSwgd2lkZ2V0LCBzcGVjKTtcbiAgICAgICAgdGhpcy5ibG9jayA9IGJsb2NrO1xuICAgICAgICB0aGlzLmlzUmVwbGFjZSA9IGlzUmVwbGFjZTtcbiAgICAgICAgdGhpcy5tYXBNb2RlID0gIWJsb2NrID8gTWFwTW9kZS5UcmFja0RlbCA6IHN0YXJ0U2lkZSA8PSAwID8gTWFwTW9kZS5UcmFja0JlZm9yZSA6IE1hcE1vZGUuVHJhY2tBZnRlcjtcbiAgICB9XG4gICAgLy8gT25seSByZWxldmFudCB3aGVuIHRoaXMuYmxvY2sgPT0gdHJ1ZVxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydFNpZGUgPCB0aGlzLmVuZFNpZGUgPyBCbG9ja1R5cGUuV2lkZ2V0UmFuZ2VcbiAgICAgICAgICAgIDogdGhpcy5zdGFydFNpZGUgPD0gMCA/IEJsb2NrVHlwZS5XaWRnZXRCZWZvcmUgOiBCbG9ja1R5cGUuV2lkZ2V0QWZ0ZXI7XG4gICAgfVxuICAgIGdldCBoZWlnaHRSZWxldmFudCgpIHsgcmV0dXJuIHRoaXMuYmxvY2sgfHwgISF0aGlzLndpZGdldCAmJiB0aGlzLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgPj0gNTsgfVxuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbiAmJlxuICAgICAgICAgICAgd2lkZ2V0c0VxKHRoaXMud2lkZ2V0LCBvdGhlci53aWRnZXQpICYmXG4gICAgICAgICAgICB0aGlzLmJsb2NrID09IG90aGVyLmJsb2NrICYmXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2lkZSA9PSBvdGhlci5zdGFydFNpZGUgJiYgdGhpcy5lbmRTaWRlID09IG90aGVyLmVuZFNpZGU7XG4gICAgfVxuICAgIHJhbmdlKGZyb20sIHRvID0gZnJvbSkge1xuICAgICAgICBpZiAodGhpcy5pc1JlcGxhY2UgJiYgKGZyb20gPiB0byB8fCAoZnJvbSA9PSB0byAmJiB0aGlzLnN0YXJ0U2lkZSA+IDAgJiYgdGhpcy5lbmRTaWRlIDw9IDApKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCByYW5nZSBmb3IgcmVwbGFjZW1lbnQgZGVjb3JhdGlvblwiKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVwbGFjZSAmJiB0byAhPSBmcm9tKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJXaWRnZXQgZGVjb3JhdGlvbnMgY2FuIG9ubHkgaGF2ZSB6ZXJvLWxlbmd0aCByYW5nZXNcIik7XG4gICAgICAgIHJldHVybiBzdXBlci5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxuUG9pbnREZWNvcmF0aW9uLnByb3RvdHlwZS5wb2ludCA9IHRydWU7XG5mdW5jdGlvbiBnZXRJbmNsdXNpdmUoc3BlYywgYmxvY2sgPSBmYWxzZSkge1xuICAgIGxldCB7IGluY2x1c2l2ZVN0YXJ0OiBzdGFydCwgaW5jbHVzaXZlRW5kOiBlbmQgfSA9IHNwZWM7XG4gICAgaWYgKHN0YXJ0ID09IG51bGwpXG4gICAgICAgIHN0YXJ0ID0gc3BlYy5pbmNsdXNpdmU7XG4gICAgaWYgKGVuZCA9PSBudWxsKVxuICAgICAgICBlbmQgPSBzcGVjLmluY2x1c2l2ZTtcbiAgICByZXR1cm4geyBzdGFydDogc3RhcnQgIT09IG51bGwgJiYgc3RhcnQgIT09IHZvaWQgMCA/IHN0YXJ0IDogYmxvY2ssIGVuZDogZW5kICE9PSBudWxsICYmIGVuZCAhPT0gdm9pZCAwID8gZW5kIDogYmxvY2sgfTtcbn1cbmZ1bmN0aW9uIHdpZGdldHNFcShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT0gYiB8fCAhIShhICYmIGIgJiYgYS5jb21wYXJlKGIpKTtcbn1cbmZ1bmN0aW9uIGFkZFJhbmdlKGZyb20sIHRvLCByYW5nZXMsIG1hcmdpbiA9IDApIHtcbiAgICBsZXQgbGFzdCA9IHJhbmdlcy5sZW5ndGggLSAxO1xuICAgIGlmIChsYXN0ID49IDAgJiYgcmFuZ2VzW2xhc3RdICsgbWFyZ2luID49IGZyb20pXG4gICAgICAgIHJhbmdlc1tsYXN0XSA9IE1hdGgubWF4KHJhbmdlc1tsYXN0XSwgdG8pO1xuICAgIGVsc2VcbiAgICAgICAgcmFuZ2VzLnB1c2goZnJvbSwgdG8pO1xufVxuXG5jbGFzcyBMaW5lVmlldyBleHRlbmRzIENvbnRlbnRWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucHJldkF0dHJzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmF0dHJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5icmVha0FmdGVyID0gMDtcbiAgICB9XG4gICAgLy8gQ29uc3VtZXMgc291cmNlXG4gICAgbWVyZ2UoZnJvbSwgdG8sIHNvdXJjZSwgaGFzU3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBMaW5lVmlldykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRvbSlcbiAgICAgICAgICAgICAgICBzb3VyY2UudHJhbnNmZXJET00odGhpcyk7IC8vIFJldXNlIHNvdXJjZS5kb20gd2hlbiBhcHByb3ByaWF0ZVxuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNTdGFydClcbiAgICAgICAgICAgIHRoaXMuc2V0RGVjbyhzb3VyY2UgPyBzb3VyY2UuYXR0cnMgOiBudWxsKTtcbiAgICAgICAgbWVyZ2VDaGlsZHJlbkludG8odGhpcywgZnJvbSwgdG8sIHNvdXJjZSA/IHNvdXJjZS5jaGlsZHJlbiA6IFtdLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGVuZCA9IG5ldyBMaW5lVmlldztcbiAgICAgICAgZW5kLmJyZWFrQWZ0ZXIgPSB0aGlzLmJyZWFrQWZ0ZXI7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGVuZDtcbiAgICAgICAgbGV0IHsgaSwgb2ZmIH0gPSB0aGlzLmNoaWxkUG9zKGF0KTtcbiAgICAgICAgaWYgKG9mZikge1xuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2ldLnNwbGl0KG9mZiksIDApO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5tZXJnZShvZmYsIHRoaXMuY2hpbGRyZW5baV0ubGVuZ3RoLCBudWxsLCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgZW5kLmFwcGVuZCh0aGlzLmNoaWxkcmVuW2pdLCAwKTtcbiAgICAgICAgd2hpbGUgKGkgPiAwICYmIHRoaXMuY2hpbGRyZW5baSAtIDFdLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblstLWldLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5sZW5ndGggPSBpO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGF0O1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICB0cmFuc2ZlckRPTShvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZG9tKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICBvdGhlci5zZXRET00odGhpcy5kb20pO1xuICAgICAgICBvdGhlci5wcmV2QXR0cnMgPSB0aGlzLnByZXZBdHRycyA9PT0gdW5kZWZpbmVkID8gdGhpcy5hdHRycyA6IHRoaXMucHJldkF0dHJzO1xuICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kb20gPSBudWxsO1xuICAgIH1cbiAgICBzZXREZWNvKGF0dHJzKSB7XG4gICAgICAgIGlmICghYXR0cnNFcSh0aGlzLmF0dHJzLCBhdHRycykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkF0dHJzID0gdGhpcy5hdHRycztcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGVuZChjaGlsZCwgb3BlblN0YXJ0KSB7XG4gICAgICAgIGpvaW5JbmxpbmVJbnRvKHRoaXMsIGNoaWxkLCBvcGVuU3RhcnQpO1xuICAgIH1cbiAgICAvLyBPbmx5IGNhbGxlZCB3aGVuIGJ1aWxkaW5nIGEgbGluZSB2aWV3IGluIENvbnRlbnRCdWlsZGVyXG4gICAgYWRkTGluZURlY28oZGVjbykge1xuICAgICAgICBsZXQgYXR0cnMgPSBkZWNvLnNwZWMuYXR0cmlidXRlcywgY2xzID0gZGVjby5zcGVjLmNsYXNzO1xuICAgICAgICBpZiAoYXR0cnMpXG4gICAgICAgICAgICB0aGlzLmF0dHJzID0gY29tYmluZUF0dHJzKGF0dHJzLCB0aGlzLmF0dHJzIHx8IHt9KTtcbiAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgIHRoaXMuYXR0cnMgPSBjb21iaW5lQXR0cnMoeyBjbGFzczogY2xzIH0sIHRoaXMuYXR0cnMgfHwge30pO1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgcmV0dXJuIGlubGluZURPTUF0UG9zKHRoaXMsIHBvcyk7XG4gICAgfVxuICAgIHJldXNlRE9NKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJESVZcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRET00obm9kZSk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5IHw9IDQgLyogRGlydHkuQXR0cnMgKi8gfCAyIC8qIERpcnR5Lk5vZGUgKi87XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3luYyh0cmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5kb20pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RE9NKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGlydHkgJiA0IC8qIERpcnR5LkF0dHJzICovKSB7XG4gICAgICAgICAgICBjbGVhckF0dHJpYnV0ZXModGhpcy5kb20pO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1saW5lXCI7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHRoaXMuYXR0cnMgPyBudWxsIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnByZXZBdHRycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB1cGRhdGVBdHRycyh0aGlzLmRvbSwgdGhpcy5wcmV2QXR0cnMsIHRoaXMuYXR0cnMpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLWxpbmVcIik7XG4gICAgICAgICAgICB0aGlzLnByZXZBdHRycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5zeW5jKHRyYWNrKTtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmRvbS5sYXN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChsYXN0ICYmIENvbnRlbnRWaWV3LmdldChsYXN0KSBpbnN0YW5jZW9mIE1hcmtWaWV3KVxuICAgICAgICAgICAgbGFzdCA9IGxhc3QubGFzdENoaWxkO1xuICAgICAgICBpZiAoIWxhc3QgfHwgIXRoaXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBsYXN0Lm5vZGVOYW1lICE9IFwiQlJcIiAmJiAoKF9hID0gQ29udGVudFZpZXcuZ2V0KGxhc3QpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNFZGl0YWJsZSkgPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAoIWJyb3dzZXIuaW9zIHx8ICF0aGlzLmNoaWxkcmVuLnNvbWUoY2ggPT4gY2ggaW5zdGFuY2VvZiBUZXh0VmlldykpKSB7XG4gICAgICAgICAgICBsZXQgaGFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJCUlwiKTtcbiAgICAgICAgICAgIGhhY2suY21JZ25vcmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQoaGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVRleHRTaXplKCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT0gMCB8fCB0aGlzLmxlbmd0aCA+IDIwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMDtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKCEoY2hpbGQgaW5zdGFuY2VvZiBUZXh0VmlldykgfHwgL1teIC1+XS8udGVzdChjaGlsZC50ZXh0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCByZWN0cyA9IGNsaWVudFJlY3RzRm9yKGNoaWxkLmRvbSk7XG4gICAgICAgICAgICBpZiAocmVjdHMubGVuZ3RoICE9IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IHJlY3RzWzBdLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhdG90YWxXaWR0aCA/IG51bGwgOiB7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsXG4gICAgICAgICAgICBjaGFyV2lkdGg6IHRvdGFsV2lkdGggLyB0aGlzLmxlbmd0aFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvb3Jkc0luQ2hpbGRyZW4odGhpcywgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgYmVjb21lKF9vdGhlcikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIEJsb2NrVHlwZS5UZXh0OyB9XG4gICAgc3RhdGljIGZpbmQoZG9jVmlldywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmYgPSAwOyBpIDwgZG9jVmlldy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGJsb2NrID0gZG9jVmlldy5jaGlsZHJlbltpXSwgZW5kID0gb2ZmICsgYmxvY2subGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+PSBwb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2sgaW5zdGFuY2VvZiBMaW5lVmlldylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmID0gZW5kICsgYmxvY2suYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5jbGFzcyBCbG9ja1dpZGdldFZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3Iod2lkZ2V0LCBsZW5ndGgsIHR5cGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmJyZWFrQWZ0ZXIgPSAwO1xuICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgIH1cbiAgICBtZXJnZShmcm9tLCB0bywgc291cmNlLCBfdGFrZURlY28sIG9wZW5TdGFydCwgb3BlbkVuZCkge1xuICAgICAgICBpZiAoc291cmNlICYmICghKHNvdXJjZSBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldykgfHwgIXRoaXMud2lkZ2V0LmNvbXBhcmUoc291cmNlLndpZGdldCkgfHxcbiAgICAgICAgICAgIGZyb20gPiAwICYmIG9wZW5TdGFydCA8PSAwIHx8IHRvIDwgdGhpcy5sZW5ndGggJiYgb3BlbkVuZCA8PSAwKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBmcm9tICsgKHNvdXJjZSA/IHNvdXJjZS5sZW5ndGggOiAwKSArICh0aGlzLmxlbmd0aCAtIHRvKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGRvbUF0UG9zKHBvcykge1xuICAgICAgICByZXR1cm4gcG9zID09IDAgPyBET01Qb3MuYmVmb3JlKHRoaXMuZG9tKSA6IERPTVBvcy5hZnRlcih0aGlzLmRvbSwgcG9zID09IHRoaXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3BsaXQoYXQpIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoIC0gYXQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gYXQ7XG4gICAgICAgIGxldCBlbmQgPSBuZXcgQmxvY2tXaWRnZXRWaWV3KHRoaXMud2lkZ2V0LCBsZW4sIHRoaXMudHlwZSk7XG4gICAgICAgIGVuZC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgICAgICByZXR1cm4gZW5kO1xuICAgIH1cbiAgICBnZXQgY2hpbGRyZW4oKSB7IHJldHVybiBub0NoaWxkcmVuOyB9XG4gICAgc3luYygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRvbSB8fCAhdGhpcy53aWRnZXQudXBkYXRlRE9NKHRoaXMuZG9tKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tICYmIHRoaXMucHJldldpZGdldClcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQuZGVzdHJveSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLnByZXZXaWRnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5zZXRET00odGhpcy53aWRnZXQudG9ET00odGhpcy5lZGl0b3JWaWV3KSk7XG4gICAgICAgICAgICB0aGlzLmRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG92ZXJyaWRlRE9NVGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQudmlldy5zdGF0ZS5kb2Muc2xpY2UodGhpcy5wb3NBdFN0YXJ0LCB0aGlzLnBvc0F0RW5kKSA6IFRleHQuZW1wdHk7XG4gICAgfVxuICAgIGRvbUJvdW5kc0Fyb3VuZCgpIHsgcmV0dXJuIG51bGw7IH1cbiAgICBiZWNvbWUob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQmxvY2tXaWRnZXRWaWV3ICYmIG90aGVyLnR5cGUgPT0gdGhpcy50eXBlICYmXG4gICAgICAgICAgICBvdGhlci53aWRnZXQuY29uc3RydWN0b3IgPT0gdGhpcy53aWRnZXQuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGlmICghb3RoZXIud2lkZ2V0LmVxKHRoaXMud2lkZ2V0KSlcbiAgICAgICAgICAgICAgICB0aGlzLm1hcmtEaXJ0eSh0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRvbSAmJiAhdGhpcy5wcmV2V2lkZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucHJldldpZGdldCA9IHRoaXMud2lkZ2V0O1xuICAgICAgICAgICAgdGhpcy53aWRnZXQgPSBvdGhlci53aWRnZXQ7XG4gICAgICAgICAgICB0aGlzLmxlbmd0aCA9IG90aGVyLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuYnJlYWtBZnRlciA9IG90aGVyLmJyZWFrQWZ0ZXI7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGlnbm9yZUV2ZW50KGV2ZW50KSB7IHJldHVybiB0aGlzLndpZGdldC5pZ25vcmVFdmVudChldmVudCk7IH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLmRvbSlcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0LmRlc3Ryb3kodGhpcy5kb20pO1xuICAgIH1cbn1cblxuY2xhc3MgQ29udGVudEJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRvYywgcG9zLCBlbmQsIGRpc2FsbG93QmxvY2tFZmZlY3RzRm9yKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMuZGlzYWxsb3dCbG9ja0VmZmVjdHNGb3IgPSBkaXNhbGxvd0Jsb2NrRWZmZWN0c0ZvcjtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gW107XG4gICAgICAgIHRoaXMuY3VyTGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYnJlYWtBdFN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgIC8vIFNldCB0byBmYWxzZSBkaXJlY3RseSBhZnRlciBhIHdpZGdldCB0aGF0IGNvdmVycyB0aGUgcG9zaXRpb24gYWZ0ZXIgaXRcbiAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMub3BlblN0YXJ0ID0gLTE7XG4gICAgICAgIHRoaXMub3BlbkVuZCA9IC0xO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICB0aGlzLnRleHRPZmYgPSAwO1xuICAgICAgICB0aGlzLmN1cnNvciA9IGRvYy5pdGVyKCk7XG4gICAgICAgIHRoaXMuc2tpcCA9IHBvcztcbiAgICB9XG4gICAgcG9zQ292ZXJlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5icmVha0F0U3RhcnQgJiYgdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS5mcm9tICE9IHRoaXMucG9zO1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMuY29udGVudFt0aGlzLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiAhbGFzdC5icmVha0FmdGVyICYmICEobGFzdCBpbnN0YW5jZW9mIEJsb2NrV2lkZ2V0VmlldyAmJiBsYXN0LnR5cGUgPT0gQmxvY2tUeXBlLldpZGdldEJlZm9yZSk7XG4gICAgfVxuICAgIGdldExpbmUoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJMaW5lKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQucHVzaCh0aGlzLmN1ckxpbmUgPSBuZXcgTGluZVZpZXcpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyTGluZTtcbiAgICB9XG4gICAgZmx1c2hCdWZmZXIoYWN0aXZlKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VyTGluZS5hcHBlbmQod3JhcE1hcmtzKG5ldyBXaWRnZXRCdWZmZXJWaWV3KC0xKSwgYWN0aXZlKSwgYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAwIC8qIEJ1Zi5ObyAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRCbG9ja1dpZGdldCh2aWV3KSB7XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoW10pO1xuICAgICAgICB0aGlzLmN1ckxpbmUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRlbnQucHVzaCh2aWV3KTtcbiAgICB9XG4gICAgZmluaXNoKG9wZW5FbmQpIHtcbiAgICAgICAgaWYgKCFvcGVuRW5kKVxuICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihbXSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlciA9IDAgLyogQnVmLk5vICovO1xuICAgICAgICBpZiAoIXRoaXMucG9zQ292ZXJlZCgpKVxuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCk7XG4gICAgfVxuICAgIGJ1aWxkVGV4dChsZW5ndGgsIGFjdGl2ZSwgb3BlblN0YXJ0KSB7XG4gICAgICAgIHdoaWxlIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0T2ZmID09IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgeyB2YWx1ZSwgbGluZUJyZWFrLCBkb25lIH0gPSB0aGlzLmN1cnNvci5uZXh0KHRoaXMuc2tpcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmFuIG91dCBvZiB0ZXh0IGNvbnRlbnQgd2hlbiBkcmF3aW5nIGlubGluZSB2aWV3c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAobGluZUJyZWFrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wb3NDb3ZlcmVkKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldExpbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRbdGhpcy5jb250ZW50Lmxlbmd0aCAtIDFdLmJyZWFrQWZ0ZXIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyZWFrQXRTdGFydCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hCdWZmZXIoW10pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckxpbmUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdGFrZSA9IE1hdGgubWluKHRoaXMudGV4dC5sZW5ndGggLSB0aGlzLnRleHRPZmYsIGxlbmd0aCwgNTEyIC8qIFQuQ2h1bmsgKi8pO1xuICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihhY3RpdmUuc2xpY2UoYWN0aXZlLmxlbmd0aCAtIG9wZW5TdGFydCkpO1xuICAgICAgICAgICAgdGhpcy5nZXRMaW5lKCkuYXBwZW5kKHdyYXBNYXJrcyhuZXcgVGV4dFZpZXcodGhpcy50ZXh0LnNsaWNlKHRoaXMudGV4dE9mZiwgdGhpcy50ZXh0T2ZmICsgdGFrZSkpLCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5hdEN1cnNvclBvcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRleHRPZmYgKz0gdGFrZTtcbiAgICAgICAgICAgIGxlbmd0aCAtPSB0YWtlO1xuICAgICAgICAgICAgb3BlblN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzcGFuKGZyb20sIHRvLCBhY3RpdmUsIG9wZW5TdGFydCkge1xuICAgICAgICB0aGlzLmJ1aWxkVGV4dCh0byAtIGZyb20sIGFjdGl2ZSwgb3BlblN0YXJ0KTtcbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICAgICAgaWYgKHRoaXMub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gb3BlblN0YXJ0O1xuICAgIH1cbiAgICBwb2ludChmcm9tLCB0bywgZGVjbywgYWN0aXZlLCBvcGVuU3RhcnQsIGluZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2FsbG93QmxvY2tFZmZlY3RzRm9yW2luZGV4XSAmJiBkZWNvIGluc3RhbmNlb2YgUG9pbnREZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJsb2NrIGRlY29yYXRpb25zIG1heSBub3QgYmUgc3BlY2lmaWVkIHZpYSBwbHVnaW5zXCIpO1xuICAgICAgICAgICAgaWYgKHRvID4gdGhpcy5kb2MubGluZUF0KHRoaXMucG9zKS50bylcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRlY29yYXRpb25zIHRoYXQgcmVwbGFjZSBsaW5lIGJyZWFrcyBtYXkgbm90IGJlIHNwZWNpZmllZCB2aWEgcGx1Z2luc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuID0gdG8gLSBmcm9tO1xuICAgICAgICBpZiAoZGVjbyBpbnN0YW5jZW9mIFBvaW50RGVjb3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKGRlY28uYmxvY2spIHtcbiAgICAgICAgICAgICAgICBsZXQgeyB0eXBlIH0gPSBkZWNvO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IEJsb2NrVHlwZS5XaWRnZXRBZnRlciAmJiAhdGhpcy5wb3NDb3ZlcmVkKCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQmxvY2tXaWRnZXQobmV3IEJsb2NrV2lkZ2V0VmlldyhkZWNvLndpZGdldCB8fCBuZXcgTnVsbFdpZGdldChcImRpdlwiKSwgbGVuLCB0eXBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlldyA9IFdpZGdldFZpZXcuY3JlYXRlKGRlY28ud2lkZ2V0IHx8IG5ldyBOdWxsV2lkZ2V0KFwic3BhblwiKSwgbGVuLCBsZW4gPyAwIDogZGVjby5zdGFydFNpZGUpO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JCZWZvcmUgPSB0aGlzLmF0Q3Vyc29yUG9zICYmICF2aWV3LmlzRWRpdGFibGUgJiYgb3BlblN0YXJ0IDw9IGFjdGl2ZS5sZW5ndGggJiYgKGZyb20gPCB0byB8fCBkZWNvLnN0YXJ0U2lkZSA+IDApO1xuICAgICAgICAgICAgICAgIGxldCBjdXJzb3JBZnRlciA9ICF2aWV3LmlzRWRpdGFibGUgJiYgKGZyb20gPCB0byB8fCBkZWNvLnN0YXJ0U2lkZSA8PSAwKTtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IHRoaXMuZ2V0TGluZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdCdWZmZXIgPT0gMiAvKiBCdWYuSWZDdXJzb3IgKi8gJiYgIWN1cnNvckJlZm9yZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyID0gMCAvKiBCdWYuTm8gKi87XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlcihhY3RpdmUpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3JCZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hcHBlbmQod3JhcE1hcmtzKG5ldyBXaWRnZXRCdWZmZXJWaWV3KDEpLCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBvcGVuU3RhcnQgPSBhY3RpdmUubGVuZ3RoICsgTWF0aC5tYXgoMCwgb3BlblN0YXJ0IC0gYWN0aXZlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpbmUuYXBwZW5kKHdyYXBNYXJrcyh2aWV3LCBhY3RpdmUpLCBvcGVuU3RhcnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXRDdXJzb3JQb3MgPSBjdXJzb3JBZnRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXIgPSAhY3Vyc29yQWZ0ZXIgPyAwIC8qIEJ1Zi5ObyAqLyA6IGZyb20gPCB0byA/IDEgLyogQnVmLlllcyAqLyA6IDIgLyogQnVmLklmQ3Vyc29yICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZG9jLmxpbmVBdCh0aGlzLnBvcykuZnJvbSA9PSB0aGlzLnBvcykgeyAvLyBMaW5lIGRlY29yYXRpb25cbiAgICAgICAgICAgIHRoaXMuZ2V0TGluZSgpLmFkZExpbmVEZWNvKGRlY28pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZW4pIHtcbiAgICAgICAgICAgIC8vIEFkdmFuY2UgdGhlIGl0ZXJhdG9yIHBhc3QgdGhlIHJlcGxhY2VkIGNvbnRlbnRcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHRPZmYgKyBsZW4gPD0gdGhpcy50ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dE9mZiArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXAgKz0gbGVuIC0gKHRoaXMudGV4dC5sZW5ndGggLSB0aGlzLnRleHRPZmYpO1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0T2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9zID0gdG87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3BlblN0YXJ0IDwgMClcbiAgICAgICAgICAgIHRoaXMub3BlblN0YXJ0ID0gb3BlblN0YXJ0O1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGQodGV4dCwgZnJvbSwgdG8sIGRlY29yYXRpb25zLCBkeW5hbWljRGVjb3JhdGlvbk1hcCkge1xuICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBDb250ZW50QnVpbGRlcih0ZXh0LCBmcm9tLCB0bywgZHluYW1pY0RlY29yYXRpb25NYXApO1xuICAgICAgICBidWlsZGVyLm9wZW5FbmQgPSBSYW5nZVNldC5zcGFucyhkZWNvcmF0aW9ucywgZnJvbSwgdG8sIGJ1aWxkZXIpO1xuICAgICAgICBpZiAoYnVpbGRlci5vcGVuU3RhcnQgPCAwKVxuICAgICAgICAgICAgYnVpbGRlci5vcGVuU3RhcnQgPSBidWlsZGVyLm9wZW5FbmQ7XG4gICAgICAgIGJ1aWxkZXIuZmluaXNoKGJ1aWxkZXIub3BlbkVuZCk7XG4gICAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHdyYXBNYXJrcyh2aWV3LCBhY3RpdmUpIHtcbiAgICBmb3IgKGxldCBtYXJrIG9mIGFjdGl2ZSlcbiAgICAgICAgdmlldyA9IG5ldyBNYXJrVmlldyhtYXJrLCBbdmlld10sIHZpZXcubGVuZ3RoKTtcbiAgICByZXR1cm4gdmlldztcbn1cbmNsYXNzIE51bGxXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci50YWcgPT0gdGhpcy50YWc7IH1cbiAgICB0b0RPTSgpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy50YWcpOyB9XG4gICAgdXBkYXRlRE9NKGVsdCkgeyByZXR1cm4gZWx0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdGhpcy50YWc7IH1cbn1cblxuY29uc3QgY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBkcmFnTW92ZXNTZWxlY3Rpb24kMSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IG1vdXNlU2VsZWN0aW9uU3R5bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBleGNlcHRpb25TaW5rID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgdXBkYXRlTGlzdGVuZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBpbnB1dEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBwZXJMaW5lVGV4dERpcmVjdGlvbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbmNvbnN0IG5hdGl2ZVNlbGVjdGlvbkhpZGRlbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbmNsYXNzIFNjcm9sbFRhcmdldCB7XG4gICAgY29uc3RydWN0b3IocmFuZ2UsIHkgPSBcIm5lYXJlc3RcIiwgeCA9IFwibmVhcmVzdFwiLCB5TWFyZ2luID0gNSwgeE1hcmdpbiA9IDUpIHtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnlNYXJnaW4gPSB5TWFyZ2luO1xuICAgICAgICB0aGlzLnhNYXJnaW4gPSB4TWFyZ2luO1xuICAgIH1cbiAgICBtYXAoY2hhbmdlcykge1xuICAgICAgICByZXR1cm4gY2hhbmdlcy5lbXB0eSA/IHRoaXMgOiBuZXcgU2Nyb2xsVGFyZ2V0KHRoaXMucmFuZ2UubWFwKGNoYW5nZXMpLCB0aGlzLnksIHRoaXMueCwgdGhpcy55TWFyZ2luLCB0aGlzLnhNYXJnaW4pO1xuICAgIH1cbn1cbmNvbnN0IHNjcm9sbEludG9WaWV3ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7IG1hcDogKHQsIGNoKSA9PiB0Lm1hcChjaCkgfSk7XG4vKipcbkxvZyBvciByZXBvcnQgYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbiBpbiBjbGllbnQgY29kZS4gU2hvdWxkXG5wcm9iYWJseSBvbmx5IGJlIHVzZWQgYnkgZXh0ZW5zaW9uIGNvZGUgdGhhdCBhbGxvd3MgY2xpZW50IGNvZGUgdG9cbnByb3ZpZGUgZnVuY3Rpb25zLCBhbmQgY2FsbHMgdGhvc2UgZnVuY3Rpb25zIGluIGEgY29udGV4dCB3aGVyZSBhblxuZXhjZXB0aW9uIGNhbid0IGJlIHByb3BhZ2F0ZWQgdG8gY2FsbGluZyBjb2RlIGluIGEgcmVhc29uYWJsZSB3YXlcbihmb3IgZXhhbXBsZSB3aGVuIGluIGFuIGV2ZW50IGhhbmRsZXIpLlxuXG5FaXRoZXIgY2FsbHMgYSBoYW5kbGVyIHJlZ2lzdGVyZWQgd2l0aFxuW2BFZGl0b3JWaWV3LmV4Y2VwdGlvblNpbmtgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15leGNlcHRpb25TaW5rKSxcbmB3aW5kb3cub25lcnJvcmAsIGlmIGRlZmluZWQsIG9yIGBjb25zb2xlLmVycm9yYCAoaW4gd2hpY2ggY2FzZVxuaXQnbGwgcGFzcyBgY29udGV4dGAsIHdoZW4gZ2l2ZW4sIGFzIGZpcnN0IGFyZ3VtZW50KS5cbiovXG5mdW5jdGlvbiBsb2dFeGNlcHRpb24oc3RhdGUsIGV4Y2VwdGlvbiwgY29udGV4dCkge1xuICAgIGxldCBoYW5kbGVyID0gc3RhdGUuZmFjZXQoZXhjZXB0aW9uU2luayk7XG4gICAgaWYgKGhhbmRsZXIubGVuZ3RoKVxuICAgICAgICBoYW5kbGVyWzBdKGV4Y2VwdGlvbik7XG4gICAgZWxzZSBpZiAod2luZG93Lm9uZXJyb3IpXG4gICAgICAgIHdpbmRvdy5vbmVycm9yKFN0cmluZyhleGNlcHRpb24pLCBjb250ZXh0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZXhjZXB0aW9uKTtcbiAgICBlbHNlIGlmIChjb250ZXh0KVxuICAgICAgICBjb25zb2xlLmVycm9yKGNvbnRleHQgKyBcIjpcIiwgZXhjZXB0aW9uKTtcbiAgICBlbHNlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKTtcbn1cbmNvbnN0IGVkaXRhYmxlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMubGVuZ3RoID8gdmFsdWVzWzBdIDogdHJ1ZSB9KTtcbmxldCBuZXh0UGx1Z2luSUQgPSAwO1xuY29uc3Qgdmlld1BsdWdpbiA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8qKlxuVmlldyBwbHVnaW5zIGFzc29jaWF0ZSBzdGF0ZWZ1bCB2YWx1ZXMgd2l0aCBhIHZpZXcuIFRoZXkgY2FuXG5pbmZsdWVuY2UgdGhlIHdheSB0aGUgY29udGVudCBpcyBkcmF3biwgYW5kIGFyZSBub3RpZmllZCBvZiB0aGluZ3NcbnRoYXQgaGFwcGVuIGluIHRoZSB2aWV3LlxuKi9cbmNsYXNzIFZpZXdQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaWQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY3JlYXRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGRvbUV2ZW50SGFuZGxlcnMsIGJ1aWxkRXh0ZW5zaW9ucykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY3JlYXRlID0gY3JlYXRlO1xuICAgICAgICB0aGlzLmRvbUV2ZW50SGFuZGxlcnMgPSBkb21FdmVudEhhbmRsZXJzO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IGJ1aWxkRXh0ZW5zaW9ucyh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRGVmaW5lIGEgcGx1Z2luIGZyb20gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGhlXG4gICAgcGx1Z2luJ3MgdmFsdWUsIGdpdmVuIGFuIGVkaXRvciB2aWV3LlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShjcmVhdGUsIHNwZWMpIHtcbiAgICAgICAgY29uc3QgeyBldmVudEhhbmRsZXJzLCBwcm92aWRlLCBkZWNvcmF0aW9uczogZGVjbyB9ID0gc3BlYyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIG5ldyBWaWV3UGx1Z2luKG5leHRQbHVnaW5JRCsrLCBjcmVhdGUsIGV2ZW50SGFuZGxlcnMsIHBsdWdpbiA9PiB7XG4gICAgICAgICAgICBsZXQgZXh0ID0gW3ZpZXdQbHVnaW4ub2YocGx1Z2luKV07XG4gICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICBleHQucHVzaChkZWNvcmF0aW9ucy5vZih2aWV3ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsdWdpbkluc3QgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luSW5zdCA/IGRlY28ocGx1Z2luSW5zdCkgOiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGUpXG4gICAgICAgICAgICAgICAgZXh0LnB1c2gocHJvdmlkZShwbHVnaW4pKTtcbiAgICAgICAgICAgIHJldHVybiBleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBwbHVnaW4gZm9yIGEgY2xhc3Mgd2hvc2UgY29uc3RydWN0b3IgdGFrZXMgYSBzaW5nbGVcbiAgICBlZGl0b3IgdmlldyBhcyBhcmd1bWVudC5cbiAgICAqL1xuICAgIHN0YXRpYyBmcm9tQ2xhc3MoY2xzLCBzcGVjKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBjbHModmlldyksIHNwZWMpO1xuICAgIH1cbn1cbmNsYXNzIFBsdWdpbkluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihzcGVjKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIC8vIFdoZW4gc3RhcnRpbmcgYW4gdXBkYXRlLCBhbGwgcGx1Z2lucyBoYXZlIHRoaXMgZmllbGQgc2V0IHRvIHRoZVxuICAgICAgICAvLyB1cGRhdGUgb2JqZWN0LCBpbmRpY2F0aW5nIHRoZXkgbmVlZCB0byBiZSB1cGRhdGVkLiBXaGVuIGZpbmlzaGVkXG4gICAgICAgIC8vIHVwZGF0aW5nLCBpdCBpcyBzZXQgdG8gYGZhbHNlYC4gUmV0cmlldmluZyBhIHBsdWdpbiB0aGF0IG5lZWRzIHRvXG4gICAgICAgIC8vIGJlIHVwZGF0ZWQgd2l0aCBgdmlldy5wbHVnaW5gIGZvcmNlcyBhbiBlYWdlciB1cGRhdGUuXG4gICAgICAgIHRoaXMubXVzdFVwZGF0ZSA9IG51bGw7XG4gICAgICAgIC8vIFRoaXMgaXMgbnVsbCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5pdGlhbGx5IGNyZWF0ZWQsIGJ1dFxuICAgICAgICAvLyBpbml0aWFsaXplZCBvbiB0aGUgZmlyc3QgdXBkYXRlLlxuICAgICAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgdXBkYXRlKHZpZXcpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zcGVjKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3BlYy5jcmVhdGUodmlldyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm11c3RVcGRhdGUpIHtcbiAgICAgICAgICAgIGxldCB1cGRhdGUgPSB0aGlzLm11c3RVcGRhdGU7XG4gICAgICAgICAgICB0aGlzLm11c3RVcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUudXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHVwZGF0ZS5zdGF0ZSwgZSwgXCJDb2RlTWlycm9yIHBsdWdpbiBjcmFzaGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZS5kZXN0cm95KVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZXN0cm95KHZpZXcpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy52YWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3kpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih2aWV3LnN0YXRlLCBlLCBcIkNvZGVNaXJyb3IgcGx1Z2luIGNyYXNoZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5zcGVjID0gdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgfVxufVxuY29uc3QgZWRpdG9yQXR0cmlidXRlcyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNvbnN0IGNvbnRlbnRBdHRyaWJ1dGVzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLy8gUHJvdmlkZSBkZWNvcmF0aW9uc1xuY29uc3QgZGVjb3JhdGlvbnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBhdG9taWNSYW5nZXMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jb25zdCBzY3JvbGxNYXJnaW5zID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3Qgc3R5bGVNb2R1bGUgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG5jbGFzcyBDaGFuZ2VkUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZyb21BLCB0b0EsIGZyb21CLCB0b0IpIHtcbiAgICAgICAgdGhpcy5mcm9tQSA9IGZyb21BO1xuICAgICAgICB0aGlzLnRvQSA9IHRvQTtcbiAgICAgICAgdGhpcy5mcm9tQiA9IGZyb21CO1xuICAgICAgICB0aGlzLnRvQiA9IHRvQjtcbiAgICB9XG4gICAgam9pbihvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IENoYW5nZWRSYW5nZShNYXRoLm1pbih0aGlzLmZyb21BLCBvdGhlci5mcm9tQSksIE1hdGgubWF4KHRoaXMudG9BLCBvdGhlci50b0EpLCBNYXRoLm1pbih0aGlzLmZyb21CLCBvdGhlci5mcm9tQiksIE1hdGgubWF4KHRoaXMudG9CLCBvdGhlci50b0IpKTtcbiAgICB9XG4gICAgYWRkVG9TZXQoc2V0KSB7XG4gICAgICAgIGxldCBpID0gc2V0Lmxlbmd0aCwgbWUgPSB0aGlzO1xuICAgICAgICBmb3IgKDsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gc2V0W2kgLSAxXTtcbiAgICAgICAgICAgIGlmIChyYW5nZS5mcm9tQSA+IG1lLnRvQSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyYW5nZS50b0EgPCBtZS5mcm9tQSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIG1lID0gbWUuam9pbihyYW5nZSk7XG4gICAgICAgICAgICBzZXQuc3BsaWNlKGkgLSAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBzZXQuc3BsaWNlKGksIDAsIG1lKTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgc3RhdGljIGV4dGVuZFdpdGhSYW5nZXMoZGlmZiwgcmFuZ2VzKSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBkSSA9IDAsIHJJID0gMCwgcG9zQSA9IDAsIHBvc0IgPSAwOzsgZEkrKykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBkSSA9PSBkaWZmLmxlbmd0aCA/IG51bGwgOiBkaWZmW2RJXSwgb2ZmID0gcG9zQSAtIHBvc0I7XG4gICAgICAgICAgICBsZXQgZW5kID0gbmV4dCA/IG5leHQuZnJvbUIgOiAxZTk7XG4gICAgICAgICAgICB3aGlsZSAockkgPCByYW5nZXMubGVuZ3RoICYmIHJhbmdlc1tySV0gPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJvbSA9IHJhbmdlc1tySV0sIHRvID0gcmFuZ2VzW3JJICsgMV07XG4gICAgICAgICAgICAgICAgbGV0IGZyb21CID0gTWF0aC5tYXgocG9zQiwgZnJvbSksIHRvQiA9IE1hdGgubWluKGVuZCwgdG8pO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQiA8PSB0b0IpXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUIgKyBvZmYsIHRvQiArIG9mZiwgZnJvbUIsIHRvQikuYWRkVG9TZXQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiBlbmQpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgckkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgbmV3IENoYW5nZWRSYW5nZShuZXh0LmZyb21BLCBuZXh0LnRvQSwgbmV4dC5mcm9tQiwgbmV4dC50b0IpLmFkZFRvU2V0KHJlc3VsdCk7XG4gICAgICAgICAgICBwb3NBID0gbmV4dC50b0E7XG4gICAgICAgICAgICBwb3NCID0gbmV4dC50b0I7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcblZpZXcgW3BsdWdpbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5WaWV3UGx1Z2luKSBhcmUgZ2l2ZW4gaW5zdGFuY2VzIG9mIHRoaXNcbmNsYXNzLCB3aGljaCBkZXNjcmliZSB3aGF0IGhhcHBlbmVkLCB3aGVuZXZlciB0aGUgdmlldyBpcyB1cGRhdGVkLlxuKi9cbmNsYXNzIFZpZXdVcGRhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IgdmlldyB0aGF0IHRoZSB1cGRhdGUgaXMgYXNzb2NpYXRlZCB3aXRoLlxuICAgICovXG4gICAgdmlldywgXG4gICAgLyoqXG4gICAgVGhlIG5ldyBlZGl0b3Igc3RhdGUuXG4gICAgKi9cbiAgICBzdGF0ZSwgXG4gICAgLyoqXG4gICAgVGhlIHRyYW5zYWN0aW9ucyBpbnZvbHZlZCBpbiB0aGUgdXBkYXRlLiBNYXkgYmUgZW1wdHkuXG4gICAgKi9cbiAgICB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmZsYWdzID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFN0YXRlID0gdmlldy5zdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gQ2hhbmdlU2V0LmVtcHR5KHRoaXMuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJhbnNhY3Rpb25zKVxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VzID0gdGhpcy5jaGFuZ2VzLmNvbXBvc2UodHIuY2hhbmdlcyk7XG4gICAgICAgIGxldCBjaGFuZ2VkUmFuZ2VzID0gW107XG4gICAgICAgIHRoaXMuY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikgPT4gY2hhbmdlZFJhbmdlcy5wdXNoKG5ldyBDaGFuZ2VkUmFuZ2UoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikpKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VkUmFuZ2VzID0gY2hhbmdlZFJhbmdlcztcbiAgICAgICAgbGV0IGZvY3VzID0gdmlldy5oYXNGb2N1cztcbiAgICAgICAgaWYgKGZvY3VzICE9IHZpZXcuaW5wdXRTdGF0ZS5ub3RpZmllZEZvY3VzZWQpIHtcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5ub3RpZmllZEZvY3VzZWQgPSBmb2N1cztcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgfD0gMSAvKiBVcGRhdGVGbGFnLkZvY3VzICovO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZSh2aWV3LCBzdGF0ZSwgdHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmlld1VwZGF0ZSh2aWV3LCBzdGF0ZSwgdHJhbnNhY3Rpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGVsbHMgeW91IHdoZXRoZXIgdGhlIFt2aWV3cG9ydF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcudmlld3BvcnQpIG9yXG4gICAgW3Zpc2libGUgcmFuZ2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy52aXNpYmxlUmFuZ2VzKSBjaGFuZ2VkIGluIHRoaXNcbiAgICB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgdmlld3BvcnRDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiA0IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnQgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhlaWdodCBvZiBhIGJsb2NrIGVsZW1lbnQgaW4gdGhlIGVkaXRvclxuICAgIGNoYW5nZWQgaW4gdGhpcyB1cGRhdGUuXG4gICAgKi9cbiAgICBnZXQgaGVpZ2h0Q2hhbmdlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmZsYWdzICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgPiAwO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIHRydWUgd2hlbiB0aGUgZG9jdW1lbnQgd2FzIG1vZGlmaWVkIG9yIHRoZSBzaXplIG9mIHRoZVxuICAgIGVkaXRvciwgb3IgZWxlbWVudHMgd2l0aGluIHRoZSBlZGl0b3IsIGNoYW5nZWQuXG4gICAgKi9cbiAgICBnZXQgZ2VvbWV0cnlDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NDaGFuZ2VkIHx8ICh0aGlzLmZsYWdzICYgKDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLyB8IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi8pKSA+IDA7XG4gICAgfVxuICAgIC8qKlxuICAgIFRydWUgd2hlbiB0aGlzIHVwZGF0ZSBpbmRpY2F0ZXMgYSBmb2N1cyBjaGFuZ2UuXG4gICAgKi9cbiAgICBnZXQgZm9jdXNDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZmxhZ3MgJiAxIC8qIFVwZGF0ZUZsYWcuRm9jdXMgKi8pID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgZG9jdW1lbnQgY2hhbmdlZCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBkb2NDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuY2hhbmdlcy5lbXB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGUgc2VsZWN0aW9uIHdhcyBleHBsaWNpdGx5IHNldCBpbiB0aGlzIHVwZGF0ZS5cbiAgICAqL1xuICAgIGdldCBzZWxlY3Rpb25TZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zYWN0aW9ucy5zb21lKHRyID0+IHRyLnNlbGVjdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IGVtcHR5KCkgeyByZXR1cm4gdGhpcy5mbGFncyA9PSAwICYmIHRoaXMudHJhbnNhY3Rpb25zLmxlbmd0aCA9PSAwOyB9XG59XG5cbi8qKlxuVXNlZCB0byBpbmRpY2F0ZSBbdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLlxuKi9cbnZhciBEaXJlY3Rpb24gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChEaXJlY3Rpb24pIHtcbiAgICAvLyAoVGhlc2UgYXJlIGNob3NlbiB0byBtYXRjaCB0aGUgYmFzZSBsZXZlbHMsIGluIGJpZGkgYWxnb3JpdGhtXG4gICAgLy8gdGVybXMsIG9mIHNwYW5zIGluIHRoYXQgZGlyZWN0aW9uLilcbiAgICAvKipcbiAgICBMZWZ0LXRvLXJpZ2h0LlxuICAgICovXG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIkxUUlwiXSA9IDBdID0gXCJMVFJcIjtcbiAgICAvKipcbiAgICBSaWdodC10by1sZWZ0LlxuICAgICovXG4gICAgRGlyZWN0aW9uW0RpcmVjdGlvbltcIlJUTFwiXSA9IDFdID0gXCJSVExcIjtcbnJldHVybiBEaXJlY3Rpb259KShEaXJlY3Rpb24gfHwgKERpcmVjdGlvbiA9IHt9KSk7XG5jb25zdCBMVFIgPSBEaXJlY3Rpb24uTFRSLCBSVEwgPSBEaXJlY3Rpb24uUlRMO1xuLy8gRGVjb2RlIGEgc3RyaW5nIHdpdGggZWFjaCB0eXBlIGVuY29kZWQgYXMgbG9nMih0eXBlKVxuZnVuY3Rpb24gZGVjKHN0cikge1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKylcbiAgICAgICAgcmVzdWx0LnB1c2goMSA8PCArc3RyW2ldKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDAgdG8gMHhmOFxuY29uc3QgTG93VHlwZXMgPSAvKkBfX1BVUkVfXyovZGVjKFwiODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg2NjY4ODg4ODg3ODc4MzMzMzMzMzMzMzc4ODg4ODgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODc4NjY2Njg4ODgwODg4ODg2NjMzODA4ODgzMDg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDhcIik7XG4vLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMHg2MDAgdG8gMHg2ZjlcbmNvbnN0IEFyYWJpY1R5cGVzID0gLypAX19QVVJFX18qL2RlYyhcIjQ0NDQ0NDg4MjY2MjcyODg5OTk5OTk5OTk5OTIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjk5OTk5OTk5OTk5OTk5OTk5OTk5OTQ0NDQ0NDQ0NDQ2NDQyMjI4MjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI5OTk5OTk5NDk5OTk5OTkyMjk5ODk5OTkyMjMzMzMzMzMzMzNcIik7XG5jb25zdCBCcmFja2V0cyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpLCBCcmFja2V0U3RhY2sgPSBbXTtcbi8vIFRoZXJlJ3MgYSBsb3QgbW9yZSBpblxuLy8gaHR0cHM6Ly93d3cudW5pY29kZS5vcmcvUHVibGljL1VDRC9sYXRlc3QvdWNkL0JpZGlCcmFja2V0cy50eHQsXG4vLyB3aGljaCBhcmUgbGVmdCBvdXQgdG8ga2VlcCBjb2RlIHNpemUgZG93bi5cbmZvciAobGV0IHAgb2YgW1wiKClcIiwgXCJbXVwiLCBcInt9XCJdKSB7XG4gICAgbGV0IGwgPSAvKkBfX1BVUkVfXyovcC5jaGFyQ29kZUF0KDApLCByID0gLypAX19QVVJFX18qL3AuY2hhckNvZGVBdCgxKTtcbiAgICBCcmFja2V0c1tsXSA9IHI7XG4gICAgQnJhY2tldHNbcl0gPSAtbDtcbn1cbmZ1bmN0aW9uIGNoYXJUeXBlKGNoKSB7XG4gICAgcmV0dXJuIGNoIDw9IDB4ZjcgPyBMb3dUeXBlc1tjaF0gOlxuICAgICAgICAweDU5MCA8PSBjaCAmJiBjaCA8PSAweDVmNCA/IDIgLyogVC5SICovIDpcbiAgICAgICAgICAgIDB4NjAwIDw9IGNoICYmIGNoIDw9IDB4NmY5ID8gQXJhYmljVHlwZXNbY2ggLSAweDYwMF0gOlxuICAgICAgICAgICAgICAgIDB4NmVlIDw9IGNoICYmIGNoIDw9IDB4OGFjID8gNCAvKiBULkFMICovIDpcbiAgICAgICAgICAgICAgICAgICAgMHgyMDAwIDw9IGNoICYmIGNoIDw9IDB4MjAwYiA/IDI1NiAvKiBULk5JICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDB4ZmI1MCA8PSBjaCAmJiBjaCA8PSAweGZkZmYgPyA0IC8qIFQuQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoID09IDB4MjAwYyA/IDI1NiAvKiBULk5JICovIDogMSAvKiBULkwgKi87XG59XG5jb25zdCBCaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY1xcdWZiNTAtXFx1ZmRmZl0vO1xuLyoqXG5SZXByZXNlbnRzIGEgY29udGlndW91cyByYW5nZSBvZiB0ZXh0IHRoYXQgaGFzIGEgc2luZ2xlIGRpcmVjdGlvblxuKGFzIGluIGxlZnQtdG8tcmlnaHQgb3IgcmlnaHQtdG8tbGVmdCkuXG4qL1xuY2xhc3MgQmlkaVNwYW4ge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIHN0YXJ0IG9mIHRoZSBzcGFuIChyZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIGxpbmUpLlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGVuZCBvZiB0aGUgc3Bhbi5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBUaGUgW1wiYmlkaVxuICAgIGxldmVsXCJdKGh0dHBzOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvI0Jhc2ljX0Rpc3BsYXlfQWxnb3JpdGhtKVxuICAgIG9mIHRoZSBzcGFuIChpbiB0aGlzIGNvbnRleHQsIDAgbWVhbnNcbiAgICBsZWZ0LXRvLXJpZ2h0LCAxIG1lYW5zIHJpZ2h0LXRvLWxlZnQsIDIgbWVhbnMgbGVmdC10by1yaWdodFxuICAgIG51bWJlciBpbnNpZGUgcmlnaHQtdG8tbGVmdCB0ZXh0KS5cbiAgICAqL1xuICAgIGxldmVsKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGlyZWN0aW9uIG9mIHRoaXMgc3Bhbi5cbiAgICAqL1xuICAgIGdldCBkaXIoKSB7IHJldHVybiB0aGlzLmxldmVsICUgMiA/IFJUTCA6IExUUjsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2lkZShlbmQsIGRpcikgeyByZXR1cm4gKHRoaXMuZGlyID09IGRpcikgPT0gZW5kID8gdGhpcy50byA6IHRoaXMuZnJvbTsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc3RhdGljIGZpbmQob3JkZXIsIGluZGV4LCBsZXZlbCwgYXNzb2MpIHtcbiAgICAgICAgbGV0IG1heWJlID0gLTE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzcGFuID0gb3JkZXJbaV07XG4gICAgICAgICAgICBpZiAoc3Bhbi5mcm9tIDw9IGluZGV4ICYmIHNwYW4udG8gPj0gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Bhbi5sZXZlbCA9PSBsZXZlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBtdWx0aXBsZSBzcGFucyBtYXRjaCwgaWYgYXNzb2MgIT0gMCwgdGFrZSB0aGUgb25lIHRoYXRcbiAgICAgICAgICAgICAgICAvLyBjb3ZlcnMgdGhhdCBzaWRlLCBvdGhlcndpc2UgdGFrZSB0aGUgb25lIHdpdGggdGhlIG1pbmltdW1cbiAgICAgICAgICAgICAgICAvLyBsZXZlbC5cbiAgICAgICAgICAgICAgICBpZiAobWF5YmUgPCAwIHx8IChhc3NvYyAhPSAwID8gKGFzc29jIDwgMCA/IHNwYW4uZnJvbSA8IGluZGV4IDogc3Bhbi50byA+IGluZGV4KSA6IG9yZGVyW21heWJlXS5sZXZlbCA+IHNwYW4ubGV2ZWwpKVxuICAgICAgICAgICAgICAgICAgICBtYXliZSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heWJlIDwgMClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO1xuICAgICAgICByZXR1cm4gbWF5YmU7XG4gICAgfVxufVxuLy8gUmV1c2VkIGFycmF5IG9mIGNoYXJhY3RlciB0eXBlc1xuY29uc3QgdHlwZXMgPSBbXTtcbmZ1bmN0aW9uIGNvbXB1dGVPcmRlcihsaW5lLCBkaXJlY3Rpb24pIHtcbiAgICBsZXQgbGVuID0gbGluZS5sZW5ndGgsIG91dGVyVHlwZSA9IGRpcmVjdGlvbiA9PSBMVFIgPyAxIC8qIFQuTCAqLyA6IDIgLyogVC5SICovLCBvcHBvc2l0ZVR5cGUgPSBkaXJlY3Rpb24gPT0gTFRSID8gMiAvKiBULlIgKi8gOiAxIC8qIFQuTCAqLztcbiAgICBpZiAoIWxpbmUgfHwgb3V0ZXJUeXBlID09IDEgLyogVC5MICovICYmICFCaWRpUkUudGVzdChsaW5lKSlcbiAgICAgICAgcmV0dXJuIHRyaXZpYWxPcmRlcihsZW4pO1xuICAgIC8vIFcxLiBFeGFtaW5lIGVhY2ggbm9uLXNwYWNpbmcgbWFyayAoTlNNKSBpbiB0aGUgbGV2ZWwgcnVuLCBhbmRcbiAgICAvLyBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIE5TTSB0byB0aGUgdHlwZSBvZiB0aGUgcHJldmlvdXNcbiAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAvLyBnZXQgdGhlIHR5cGUgb2Ygc29yLlxuICAgIC8vIFcyLiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgLy8gQUwgaXMgZm91bmQsIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEFyYWJpY1xuICAgIC8vIG51bWJlci5cbiAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICAvLyAoTGVmdCBhZnRlciB0aGlzOiBMLCBSLCBFTiwgQU4sIEVULCBDUywgTkkpXG4gICAgZm9yIChsZXQgaSA9IDAsIHByZXYgPSBvdXRlclR5cGUsIHByZXZTdHJvbmcgPSBvdXRlclR5cGU7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgdHlwZSA9IGNoYXJUeXBlKGxpbmUuY2hhckNvZGVBdChpKSk7XG4gICAgICAgIGlmICh0eXBlID09IDUxMiAvKiBULk5TTSAqLylcbiAgICAgICAgICAgIHR5cGUgPSBwcmV2O1xuICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDQgLyogVC5BTCAqLylcbiAgICAgICAgICAgIHR5cGUgPSAxNiAvKiBULkFOICovO1xuICAgICAgICB0eXBlc1tpXSA9IHR5cGUgPT0gNCAvKiBULkFMICovID8gMiAvKiBULlIgKi8gOiB0eXBlO1xuICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICBwcmV2U3Ryb25nID0gdHlwZTtcbiAgICAgICAgcHJldiA9IHR5cGU7XG4gICAgfVxuICAgIC8vIFc1LiBBIHNlcXVlbmNlIG9mIEV1cm9wZWFuIHRlcm1pbmF0b3JzIGFkamFjZW50IHRvIEV1cm9wZWFuXG4gICAgLy8gbnVtYmVycyBjaGFuZ2VzIHRvIGFsbCBFdXJvcGVhbiBudW1iZXJzLlxuICAgIC8vIFc2LiBPdGhlcndpc2UsIHNlcGFyYXRvcnMgYW5kIHRlcm1pbmF0b3JzIGNoYW5nZSB0byBPdGhlclxuICAgIC8vIE5ldXRyYWwuXG4gICAgLy8gVzcuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBvciBzb3IpIGlzIGZvdW5kLiBJZiBhbiBMIGlzXG4gICAgLy8gZm91bmQsIHRoZW4gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBFdXJvcGVhbiBudW1iZXIgdG8gTC5cbiAgICAvLyAoTGVmdCBhZnRlciB0aGlzOiBMLCBSLCBFTitBTiwgTkkpXG4gICAgZm9yIChsZXQgaSA9IDAsIHByZXYgPSBvdXRlclR5cGUsIHByZXZTdHJvbmcgPSBvdXRlclR5cGU7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgdHlwZSA9IHR5cGVzW2ldO1xuICAgICAgICBpZiAodHlwZSA9PSAxMjggLyogVC5DUyAqLykge1xuICAgICAgICAgICAgaWYgKGkgPCBsZW4gLSAxICYmIHByZXYgPT0gdHlwZXNbaSArIDFdICYmIChwcmV2ICYgMjQgLyogVC5OdW0gKi8pKVxuICAgICAgICAgICAgICAgIHR5cGUgPSB0eXBlc1tpXSA9IHByZXY7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdHlwZXNbaV0gPSAyNTYgLyogVC5OSSAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IDY0IC8qIFQuRVQgKi8pIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBpICsgMTtcbiAgICAgICAgICAgIHdoaWxlIChlbmQgPCBsZW4gJiYgdHlwZXNbZW5kXSA9PSA2NCAvKiBULkVUICovKVxuICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSAoaSAmJiBwcmV2ID09IDggLyogVC5FTiAqLykgfHwgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IDggLyogVC5FTiAqLykgPyAocHJldlN0cm9uZyA9PSAxIC8qIFQuTCAqLyA/IDEgLyogVC5MICovIDogOCAvKiBULkVOICovKSA6IDI1NiAvKiBULk5JICovO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGk7IGogPCBlbmQ7IGorKylcbiAgICAgICAgICAgICAgICB0eXBlc1tqXSA9IHJlcGxhY2U7XG4gICAgICAgICAgICBpID0gZW5kIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IDggLyogVC5FTiAqLyAmJiBwcmV2U3Ryb25nID09IDEgLyogVC5MICovKSB7XG4gICAgICAgICAgICB0eXBlc1tpXSA9IDEgLyogVC5MICovO1xuICAgICAgICB9XG4gICAgICAgIHByZXYgPSB0eXBlO1xuICAgICAgICBpZiAodHlwZSAmIDcgLyogVC5TdHJvbmcgKi8pXG4gICAgICAgICAgICBwcmV2U3Ryb25nID0gdHlwZTtcbiAgICB9XG4gICAgLy8gTjAuIFByb2Nlc3MgYnJhY2tldCBwYWlycyBpbiBhbiBpc29sYXRpbmcgcnVuIHNlcXVlbmNlXG4gICAgLy8gc2VxdWVudGlhbGx5IGluIHRoZSBsb2dpY2FsIG9yZGVyIG9mIHRoZSB0ZXh0IHBvc2l0aW9ucyBvZiB0aGVcbiAgICAvLyBvcGVuaW5nIHBhaXJlZCBicmFja2V0cyB1c2luZyB0aGUgbG9naWMgZ2l2ZW4gYmVsb3cuIFdpdGhpbiB0aGlzXG4gICAgLy8gc2NvcGUsIGJpZGlyZWN0aW9uYWwgdHlwZXMgRU4gYW5kIEFOIGFyZSB0cmVhdGVkIGFzIFIuXG4gICAgZm9yIChsZXQgaSA9IDAsIHNJID0gMCwgY29udGV4dCA9IDAsIGNoLCBiciwgdHlwZTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIC8vIEtlZXBzIFtzdGFydEluZGV4LCB0eXBlLCBzdHJvbmdTZWVuXSB0cmlwbGVzIGZvciBlYWNoIG9wZW5cbiAgICAgICAgLy8gYnJhY2tldCBvbiBCcmFja2V0U3RhY2suXG4gICAgICAgIGlmIChiciA9IEJyYWNrZXRzW2NoID0gbGluZS5jaGFyQ29kZUF0KGkpXSkge1xuICAgICAgICAgICAgaWYgKGJyIDwgMCkgeyAvLyBDbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzSiA9IHNJIC0gMzsgc0ogPj0gMDsgc0ogLT0gMykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQnJhY2tldFN0YWNrW3NKICsgMV0gPT0gLWJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmxhZ3MgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gKGZsYWdzICYgMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi8pID8gb3V0ZXJUeXBlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKGZsYWdzICYgNCAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVJbnNpZGUgKi8pID8gMCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmbGFncyAmIDEgLyogQnJhY2tldGVkLk9wcG9zaXRlQmVmb3JlICovKSA/IG9wcG9zaXRlVHlwZSA6IG91dGVyVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVzW2ldID0gdHlwZXNbQnJhY2tldFN0YWNrW3NKXV0gPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc0kgPSBzSjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQnJhY2tldFN0YWNrLmxlbmd0aCA9PSAxODkgLyogQnJhY2tldGVkLk1heERlcHRoICovKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0krK10gPSBpO1xuICAgICAgICAgICAgICAgIEJyYWNrZXRTdGFja1tzSSsrXSA9IGNoO1xuICAgICAgICAgICAgICAgIEJyYWNrZXRTdGFja1tzSSsrXSA9IGNvbnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHR5cGUgPSB0eXBlc1tpXSkgPT0gMiAvKiBULlIgKi8gfHwgdHlwZSA9PSAxIC8qIFQuTCAqLykge1xuICAgICAgICAgICAgbGV0IGVtYmVkID0gdHlwZSA9PSBvdXRlclR5cGU7XG4gICAgICAgICAgICBjb250ZXh0ID0gZW1iZWQgPyAwIDogMSAvKiBCcmFja2V0ZWQuT3Bwb3NpdGVCZWZvcmUgKi87XG4gICAgICAgICAgICBmb3IgKGxldCBzSiA9IHNJIC0gMzsgc0ogPj0gMDsgc0ogLT0gMykge1xuICAgICAgICAgICAgICAgIGxldCBjdXIgPSBCcmFja2V0U3RhY2tbc0ogKyAyXTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyICYgMiAvKiBCcmFja2V0ZWQuRW1iZWRJbnNpZGUgKi8pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmIChlbWJlZCkge1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSAyIC8qIEJyYWNrZXRlZC5FbWJlZEluc2lkZSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXIgJiA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBCcmFja2V0U3RhY2tbc0ogKyAyXSB8PSA0IC8qIEJyYWNrZXRlZC5PcHBvc2l0ZUluc2lkZSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTjEuIEEgc2VxdWVuY2Ugb2YgbmV1dHJhbHMgdGFrZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGVcbiAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgIC8vIGRpcmVjdGlvbi4gRXVyb3BlYW4gYW5kIEFyYWJpYyBudW1iZXJzIGFjdCBhcyBpZiB0aGV5IHdlcmUgUiBpblxuICAgIC8vIHRlcm1zIG9mIHRoZWlyIGluZmx1ZW5jZSBvbiBuZXV0cmFscy4gU3RhcnQtb2YtbGV2ZWwtcnVuIChzb3IpXG4gICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgLy8gTjIuIEFueSByZW1haW5pbmcgbmV1dHJhbHMgdGFrZSB0aGUgZW1iZWRkaW5nIGRpcmVjdGlvbi5cbiAgICAvLyAoTGVmdCBhZnRlciB0aGlzOiBMLCBSLCBFTitBTilcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICh0eXBlc1tpXSA9PSAyNTYgLyogVC5OSSAqLykge1xuICAgICAgICAgICAgbGV0IGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IDI1NiAvKiBULk5JICovKVxuICAgICAgICAgICAgICAgIGVuZCsrO1xuICAgICAgICAgICAgbGV0IGJlZm9yZUwgPSAoaSA/IHR5cGVzW2kgLSAxXSA6IG91dGVyVHlwZSkgPT0gMSAvKiBULkwgKi87XG4gICAgICAgICAgICBsZXQgYWZ0ZXJMID0gKGVuZCA8IGxlbiA/IHR5cGVzW2VuZF0gOiBvdXRlclR5cGUpID09IDEgLyogVC5MICovO1xuICAgICAgICAgICAgbGV0IHJlcGxhY2UgPSBiZWZvcmVMID09IGFmdGVyTCA/IChiZWZvcmVMID8gMSAvKiBULkwgKi8gOiAyIC8qIFQuUiAqLykgOiBvdXRlclR5cGU7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8IGVuZDsgaisrKVxuICAgICAgICAgICAgICAgIHR5cGVzW2pdID0gcmVwbGFjZTtcbiAgICAgICAgICAgIGkgPSBlbmQgLSAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhlcmUgd2UgZGVwYXJ0IGZyb20gdGhlIGRvY3VtZW50ZWQgYWxnb3JpdGhtLCBpbiBvcmRlciB0byBhdm9pZFxuICAgIC8vIGJ1aWxkaW5nIHVwIGFuIGFjdHVhbCBsZXZlbHMgYXJyYXkuIFNpbmNlIHRoZXJlIGFyZSBvbmx5IHRocmVlXG4gICAgLy8gbGV2ZWxzICgwLCAxLCAyKSBpbiBhbiBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXNuJ3QgdGFrZVxuICAgIC8vIGV4cGxpY2l0IGVtYmVkZGluZyBpbnRvIGFjY291bnQsIHdlIGNhbiBidWlsZCB1cCB0aGUgb3JkZXIgb25cbiAgICAvLyB0aGUgZmx5LCB3aXRob3V0IGZvbGxvd2luZyB0aGUgbGV2ZWwtYmFzZWQgYWxnb3JpdGhtLlxuICAgIGxldCBvcmRlciA9IFtdO1xuICAgIGlmIChvdXRlclR5cGUgPT0gMSAvKiBULkwgKi8pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47KSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBpLCBydGwgPSB0eXBlc1tpKytdICE9IDEgLyogVC5MICovO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCBsZW4gJiYgcnRsID09ICh0eXBlc1tpXSAhPSAxIC8qIFQuTCAqLykpXG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKHJ0bCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqID4gc3RhcnQ7KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBqLCBsID0gdHlwZXNbLS1qXSAhPSAyIC8qIFQuUiAqLztcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPiBzdGFydCAmJiBsID09ICh0eXBlc1tqIC0gMV0gIT0gMiAvKiBULlIgKi8pKVxuICAgICAgICAgICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbihqLCBlbmQsIGwgPyAyIDogMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKHN0YXJ0LCBpLCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gaSwgcnRsID0gdHlwZXNbaSsrXSA9PSAyIC8qIFQuUiAqLztcbiAgICAgICAgICAgIHdoaWxlIChpIDwgbGVuICYmIHJ0bCA9PSAodHlwZXNbaV0gPT0gMiAvKiBULlIgKi8pKVxuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKHN0YXJ0LCBpLCBydGwgPyAxIDogMikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcmRlcjtcbn1cbmZ1bmN0aW9uIHRyaXZpYWxPcmRlcihsZW5ndGgpIHtcbiAgICByZXR1cm4gW25ldyBCaWRpU3BhbigwLCBsZW5ndGgsIDApXTtcbn1cbmxldCBtb3ZlZE92ZXIgPSBcIlwiO1xuZnVuY3Rpb24gbW92ZVZpc3VhbGx5KGxpbmUsIG9yZGVyLCBkaXIsIHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBzdGFydEluZGV4ID0gc3RhcnQuaGVhZCAtIGxpbmUuZnJvbSwgc3BhbkkgPSAtMTtcbiAgICBpZiAoc3RhcnRJbmRleCA9PSAwKSB7XG4gICAgICAgIGlmICghZm9yd2FyZCB8fCAhbGluZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKG9yZGVyWzBdLmxldmVsICE9IGRpcikge1xuICAgICAgICAgICAgc3RhcnRJbmRleCA9IG9yZGVyWzBdLnNpZGUoZmFsc2UsIGRpcik7XG4gICAgICAgICAgICBzcGFuSSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc3RhcnRJbmRleCA9PSBsaW5lLmxlbmd0aCkge1xuICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgbGFzdCA9IG9yZGVyW29yZGVyLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdC5sZXZlbCAhPSBkaXIpIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBsYXN0LnNpZGUodHJ1ZSwgZGlyKTtcbiAgICAgICAgICAgIHNwYW5JID0gb3JkZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3BhbkkgPCAwKVxuICAgICAgICBzcGFuSSA9IEJpZGlTcGFuLmZpbmQob3JkZXIsIHN0YXJ0SW5kZXgsIChfYSA9IHN0YXJ0LmJpZGlMZXZlbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTEsIHN0YXJ0LmFzc29jKTtcbiAgICBsZXQgc3BhbiA9IG9yZGVyW3NwYW5JXTtcbiAgICAvLyBFbmQgb2Ygc3Bhbi4gKEJ1dCBub3QgZW5kIG9mIGxpbmUtLXRoYXQgd2FzIGNoZWNrZWQgZm9yIGFib3ZlLilcbiAgICBpZiAoc3RhcnRJbmRleCA9PSBzcGFuLnNpZGUoZm9yd2FyZCwgZGlyKSkge1xuICAgICAgICBzcGFuID0gb3JkZXJbc3BhbkkgKz0gZm9yd2FyZCA/IDEgOiAtMV07XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzcGFuLnNpZGUoIWZvcndhcmQsIGRpcik7XG4gICAgfVxuICAgIGxldCBpbmRleEZvcndhcmQgPSBmb3J3YXJkID09IChzcGFuLmRpciA9PSBkaXIpO1xuICAgIGxldCBuZXh0SW5kZXggPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgc3RhcnRJbmRleCwgaW5kZXhGb3J3YXJkKTtcbiAgICBtb3ZlZE92ZXIgPSBsaW5lLnRleHQuc2xpY2UoTWF0aC5taW4oc3RhcnRJbmRleCwgbmV4dEluZGV4KSwgTWF0aC5tYXgoc3RhcnRJbmRleCwgbmV4dEluZGV4KSk7XG4gICAgaWYgKG5leHRJbmRleCAhPSBzcGFuLnNpZGUoZm9yd2FyZCwgZGlyKSlcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobmV4dEluZGV4ICsgbGluZS5mcm9tLCBpbmRleEZvcndhcmQgPyAtMSA6IDEsIHNwYW4ubGV2ZWwpO1xuICAgIGxldCBuZXh0U3BhbiA9IHNwYW5JID09IChmb3J3YXJkID8gb3JkZXIubGVuZ3RoIC0gMSA6IDApID8gbnVsbCA6IG9yZGVyW3NwYW5JICsgKGZvcndhcmQgPyAxIDogLTEpXTtcbiAgICBpZiAoIW5leHRTcGFuICYmIHNwYW4ubGV2ZWwgIT0gZGlyKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmb3J3YXJkID8gbGluZS50byA6IGxpbmUuZnJvbSwgZm9yd2FyZCA/IC0xIDogMSwgZGlyKTtcbiAgICBpZiAobmV4dFNwYW4gJiYgbmV4dFNwYW4ubGV2ZWwgPCBzcGFuLmxldmVsKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihuZXh0U3Bhbi5zaWRlKCFmb3J3YXJkLCBkaXIpICsgbGluZS5mcm9tLCBmb3J3YXJkID8gMSA6IC0xLCBuZXh0U3Bhbi5sZXZlbCk7XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobmV4dEluZGV4ICsgbGluZS5mcm9tLCBmb3J3YXJkID8gLTEgOiAxLCBzcGFuLmxldmVsKTtcbn1cblxuY29uc3QgTGluZUJyZWFrUGxhY2Vob2xkZXIgPSBcIlxcdWZmZmZcIjtcbmNsYXNzIERPTVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IocG9pbnRzLCBzdGF0ZSkge1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICAgICAgdGhpcy50ZXh0ID0gXCJcIjtcbiAgICAgICAgdGhpcy5saW5lU2VwYXJhdG9yID0gc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUubGluZVNlcGFyYXRvcik7XG4gICAgfVxuICAgIGFwcGVuZCh0ZXh0KSB7XG4gICAgICAgIHRoaXMudGV4dCArPSB0ZXh0O1xuICAgIH1cbiAgICBsaW5lQnJlYWsoKSB7XG4gICAgICAgIHRoaXMudGV4dCArPSBMaW5lQnJlYWtQbGFjZWhvbGRlcjtcbiAgICB9XG4gICAgcmVhZFJhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKCFzdGFydClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBsZXQgcGFyZW50ID0gc3RhcnQucGFyZW50Tm9kZTtcbiAgICAgICAgZm9yIChsZXQgY3VyID0gc3RhcnQ7Oykge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRCZWZvcmUocGFyZW50LCBjdXIpO1xuICAgICAgICAgICAgdGhpcy5yZWFkTm9kZShjdXIpO1xuICAgICAgICAgICAgbGV0IG5leHQgPSBjdXIubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobmV4dCA9PSBlbmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgdmlldyA9IENvbnRlbnRWaWV3LmdldChjdXIpLCBuZXh0VmlldyA9IENvbnRlbnRWaWV3LmdldChuZXh0KTtcbiAgICAgICAgICAgIGlmICh2aWV3ICYmIG5leHRWaWV3ID8gdmlldy5icmVha0FmdGVyIDpcbiAgICAgICAgICAgICAgICAodmlldyA/IHZpZXcuYnJlYWtBZnRlciA6IGlzQmxvY2tFbGVtZW50KGN1cikpIHx8XG4gICAgICAgICAgICAgICAgICAgIChpc0Jsb2NrRWxlbWVudChuZXh0KSAmJiAoY3VyLm5vZGVOYW1lICE9IFwiQlJcIiB8fCBjdXIuY21JZ25vcmUpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgY3VyID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbmRQb2ludEJlZm9yZShwYXJlbnQsIGVuZCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZWFkVGV4dE5vZGUobm9kZSkge1xuICAgICAgICBsZXQgdGV4dCA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICBmb3IgKGxldCBwb2ludCBvZiB0aGlzLnBvaW50cylcbiAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUpXG4gICAgICAgICAgICAgICAgcG9pbnQucG9zID0gdGhpcy50ZXh0Lmxlbmd0aCArIE1hdGgubWluKHBvaW50Lm9mZnNldCwgdGV4dC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBvZmYgPSAwLCByZSA9IHRoaXMubGluZVNlcGFyYXRvciA/IG51bGwgOiAvXFxyXFxuP3xcXG4vZzs7KSB7XG4gICAgICAgICAgICBsZXQgbmV4dEJyZWFrID0gLTEsIGJyZWFrU2l6ZSA9IDEsIG07XG4gICAgICAgICAgICBpZiAodGhpcy5saW5lU2VwYXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgbmV4dEJyZWFrID0gdGV4dC5pbmRleE9mKHRoaXMubGluZVNlcGFyYXRvciwgb2ZmKTtcbiAgICAgICAgICAgICAgICBicmVha1NpemUgPSB0aGlzLmxpbmVTZXBhcmF0b3IubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobSA9IHJlLmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBuZXh0QnJlYWsgPSBtLmluZGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrU2l6ZSA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hcHBlbmQodGV4dC5zbGljZShvZmYsIG5leHRCcmVhayA8IDAgPyB0ZXh0Lmxlbmd0aCA6IG5leHRCcmVhaykpO1xuICAgICAgICAgICAgaWYgKG5leHRCcmVhayA8IDApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB0aGlzLmxpbmVCcmVhaygpO1xuICAgICAgICAgICAgaWYgKGJyZWFrU2l6ZSA+IDEpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludC5ub2RlID09IG5vZGUgJiYgcG9pbnQucG9zID4gdGhpcy50ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50LnBvcyAtPSBicmVha1NpemUgLSAxO1xuICAgICAgICAgICAgb2ZmID0gbmV4dEJyZWFrICsgYnJlYWtTaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUuY21JZ25vcmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2aWV3ID0gQ29udGVudFZpZXcuZ2V0KG5vZGUpO1xuICAgICAgICBsZXQgZnJvbVZpZXcgPSB2aWV3ICYmIHZpZXcub3ZlcnJpZGVET01UZXh0O1xuICAgICAgICBpZiAoZnJvbVZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5maW5kUG9pbnRJbnNpZGUobm9kZSwgZnJvbVZpZXcubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmcm9tVmlldy5pdGVyKCk7ICFpLm5leHQoKS5kb25lOykge1xuICAgICAgICAgICAgICAgIGlmIChpLmxpbmVCcmVhaylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKGkudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgdGhpcy5yZWFkVGV4dE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PSBcIkJSXCIpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMubGluZUJyZWFrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRSYW5nZShub2RlLmZpcnN0Q2hpbGQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmRQb2ludEJlZm9yZShub2RlLCBuZXh0KSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IG9mIHRoaXMucG9pbnRzKVxuICAgICAgICAgICAgaWYgKHBvaW50Lm5vZGUgPT0gbm9kZSAmJiBub2RlLmNoaWxkTm9kZXNbcG9pbnQub2Zmc2V0XSA9PSBuZXh0KVxuICAgICAgICAgICAgICAgIHBvaW50LnBvcyA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgfVxuICAgIGZpbmRQb2ludEluc2lkZShub2RlLCBtYXhMZW4pIHtcbiAgICAgICAgZm9yIChsZXQgcG9pbnQgb2YgdGhpcy5wb2ludHMpXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzID8gcG9pbnQubm9kZSA9PSBub2RlIDogbm9kZS5jb250YWlucyhwb2ludC5ub2RlKSlcbiAgICAgICAgICAgICAgICBwb2ludC5wb3MgPSB0aGlzLnRleHQubGVuZ3RoICsgTWF0aC5taW4obWF4TGVuLCBwb2ludC5vZmZzZXQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzQmxvY2tFbGVtZW50KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAxICYmIC9eKERJVnxQfExJfFVMfE9MfEJMT0NLUVVPVEV8RER8RFR8SFxcZHxTRUNUSU9OfFBSRSkkLy50ZXN0KG5vZGUubm9kZU5hbWUpO1xufVxuY2xhc3MgRE9NUG9pbnQge1xuICAgIGNvbnN0cnVjdG9yKG5vZGUsIG9mZnNldCkge1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5wb3MgPSAtMTtcbiAgICB9XG59XG5cbmNsYXNzIERvY1ZpZXcgZXh0ZW5kcyBDb250ZW50VmlldyB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRGVjbyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLmR5bmFtaWNEZWNvcmF0aW9uTWFwID0gW107XG4gICAgICAgIC8vIFRyYWNrIGEgbWluaW11bSB3aWR0aCBmb3IgdGhlIGVkaXRvci4gV2hlbiBtZWFzdXJpbmcgc2l6ZXMgaW5cbiAgICAgICAgLy8gbWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cywgdGhpcyBpcyB1cGRhdGVkIHRvIHBvaW50IGF0IHRoZSB3aWR0aFxuICAgICAgICAvLyBvZiBhIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBleHRlbnQgaW4gdGhlIGRvY3VtZW50LiBXaGVuIGEgY2hhbmdlXG4gICAgICAgIC8vIGhhcHBlbnMgaW4gdGhhdCByYW5nZSwgdGhlc2UgYXJlIHJlc2V0LiBUaGF0IHdheSwgb25jZSB3ZSd2ZSBzZWVuXG4gICAgICAgIC8vIGEgbGluZS9lbGVtZW50IG9mIGEgZ2l2ZW4gbGVuZ3RoLCB3ZSBrZWVwIHRoZSBlZGl0b3Igd2lkZSBlbm91Z2hcbiAgICAgICAgLy8gdG8gZml0IGF0IGxlYXN0IHRoYXQgZWxlbWVudCwgdW50aWwgaXQgaXMgY2hhbmdlZCwgYXQgd2hpY2ggcG9pbnRcbiAgICAgICAgLy8gd2UgZm9yZ2V0IGl0IGFnYWluLlxuICAgICAgICB0aGlzLm1pbldpZHRoID0gMDtcbiAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSAwO1xuICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSAwO1xuICAgICAgICAvLyBUcmFjayB3aGV0aGVyIHRoZSBET00gc2VsZWN0aW9uIHdhcyBzZXQgaW4gYSBsb3NzeSB3YXksIHNvIHRoYXRcbiAgICAgICAgLy8gd2UgZG9uJ3QgbWVzcyBpdCB1cCB3aGVuIHJlYWRpbmcgaXQgYmFjayBpdFxuICAgICAgICB0aGlzLmltcHJlY2lzZUFuY2hvciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1wcmVjaXNlSGVhZCA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9yY2VTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgLy8gVXNlZCBieSB0aGUgcmVzaXplIG9ic2VydmVyIHRvIGlnbm9yZSByZXNpemVzIHRoYXQgd2UgY2F1c2VkXG4gICAgICAgIC8vIG91cnNlbHZlc1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnNldERPTSh2aWV3LmNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW25ldyBMaW5lVmlld107XG4gICAgICAgIHRoaXMuY2hpbGRyZW5bMF0uc2V0UGFyZW50KHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZURlY28oKTtcbiAgICAgICAgdGhpcy51cGRhdGVJbm5lcihbbmV3IENoYW5nZWRSYW5nZSgwLCAwLCAwLCB2aWV3LnN0YXRlLmRvYy5sZW5ndGgpXSwgMCk7XG4gICAgfVxuICAgIGdldCBlZGl0b3JWaWV3KCkgeyByZXR1cm4gdGhpcy52aWV3OyB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoOyB9XG4gICAgLy8gVXBkYXRlIHRoZSBkb2N1bWVudCB2aWV3IHRvIGEgZ2l2ZW4gc3RhdGUuIHNjcm9sbEludG9WaWV3IGNhbiBiZVxuICAgIC8vIHVzZWQgYXMgYSBoaW50IHRvIGNvbXB1dGUgYSBuZXcgdmlld3BvcnQgdGhhdCBpbmNsdWRlcyB0aGF0XG4gICAgLy8gcG9zaXRpb24sIGlmIHdlIGtub3cgdGhlIGVkaXRvciBpcyBnb2luZyB0byBzY3JvbGwgdGhhdCBwb3NpdGlvblxuICAgIC8vIGludG8gdmlldy5cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjaGFuZ2VkUmFuZ2VzID0gdXBkYXRlLmNoYW5nZWRSYW5nZXM7XG4gICAgICAgIGlmICh0aGlzLm1pbldpZHRoID4gMCAmJiBjaGFuZ2VkUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFjaGFuZ2VkUmFuZ2VzLmV2ZXJ5KCh7IGZyb21BLCB0b0EgfSkgPT4gdG9BIDwgdGhpcy5taW5XaWR0aEZyb20gfHwgZnJvbUEgPiB0aGlzLm1pbldpZHRoVG8pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aCA9IHRoaXMubWluV2lkdGhGcm9tID0gdGhpcy5taW5XaWR0aFRvID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGhGcm9tID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHRoaXMubWluV2lkdGhGcm9tLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1pbldpZHRoVG8gPSB1cGRhdGUuY2hhbmdlcy5tYXBQb3ModGhpcy5taW5XaWR0aFRvLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nIDwgMClcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaXRpb25EZWNvID0gRGVjb3JhdGlvbi5ub25lO1xuICAgICAgICBlbHNlIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aCB8fCB0aGlzLmRpcnR5KVxuICAgICAgICAgICAgdGhpcy5jb21wb3NpdGlvbkRlY28gPSBjb21wdXRlQ29tcG9zaXRpb25EZWNvKHRoaXMudmlldywgdXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAvLyBXaGVuIHRoZSBET00gbm9kZXMgYXJvdW5kIHRoZSBzZWxlY3Rpb24gYXJlIG1vdmVkIHRvIGFub3RoZXJcbiAgICAgICAgLy8gcGFyZW50LCBDaHJvbWUgc29tZXRpbWVzIHJlcG9ydHMgYSBkaWZmZXJlbnQgc2VsZWN0aW9uIHRocm91Z2hcbiAgICAgICAgLy8gZ2V0U2VsZWN0aW9uIHRoYW4gdGhlIG9uZSB0aGF0IGl0IGFjdHVhbGx5IHNob3dzIHRvIHRoZSB1c2VyLlxuICAgICAgICAvLyBUaGlzIGZvcmNlcyBhIHNlbGVjdGlvbiB1cGRhdGUgd2hlbiBsaW5lcyBhcmUgam9pbmVkIHRvIHdvcmtcbiAgICAgICAgLy8gYXJvdW5kIHRoYXQuIElzc3VlICM1NFxuICAgICAgICBpZiAoKGJyb3dzZXIuaWUgfHwgYnJvd3Nlci5jaHJvbWUpICYmICF0aGlzLmNvbXBvc2l0aW9uRGVjby5zaXplICYmIHVwZGF0ZSAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLmRvYy5saW5lcyAhPSB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZXMpXG4gICAgICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgbGV0IHByZXZEZWNvID0gdGhpcy5kZWNvcmF0aW9ucywgZGVjbyA9IHRoaXMudXBkYXRlRGVjbygpO1xuICAgICAgICBsZXQgZGVjb0RpZmYgPSBmaW5kQ2hhbmdlZERlY28ocHJldkRlY28sIGRlY28sIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICAgICAgY2hhbmdlZFJhbmdlcyA9IENoYW5nZWRSYW5nZS5leHRlbmRXaXRoUmFuZ2VzKGNoYW5nZWRSYW5nZXMsIGRlY29EaWZmKTtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgPT0gMCAvKiBEaXJ0eS5Ob3QgKi8gJiYgY2hhbmdlZFJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbm5lcihjaGFuZ2VkUmFuZ2VzLCB1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVXNlZCBieSB1cGRhdGUgYW5kIHRoZSBjb25zdHJ1Y3RvciBkbyBwZXJmb3JtIHRoZSBhY3R1YWwgRE9NXG4gICAgLy8gdXBkYXRlXG4gICAgdXBkYXRlSW5uZXIoY2hhbmdlcywgb2xkTGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudmlldy52aWV3U3RhdGUubXVzdE1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihjaGFuZ2VzLCBvbGRMZW5ndGgpO1xuICAgICAgICBsZXQgeyBvYnNlcnZlciB9ID0gdGhpcy52aWV3O1xuICAgICAgICBvYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgLy8gTG9jayB0aGUgaGVpZ2h0IGR1cmluZyByZWRyYXdpbmcsIHNpbmNlIENocm9tZSBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIG1lc3NlcyB3aXRoIHRoZSBzY3JvbGwgcG9zaXRpb24gZHVyaW5nIERPTSBtdXRhdGlvbiAodGhvdWdoXG4gICAgICAgICAgICAvLyBubyByZWxheW91dCBpcyB0cmlnZ2VyZWQgYW5kIEkgY2Fubm90IGltYWdpbmUgaG93IGl0IGNhblxuICAgICAgICAgICAgLy8gcmVjb21wdXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gd2l0aG91dCBhIGxheW91dClcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmhlaWdodCA9IHRoaXMudmlldy52aWV3U3RhdGUuY29udGVudEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLmZsZXhCYXNpcyA9IHRoaXMubWluV2lkdGggPyB0aGlzLm1pbldpZHRoICsgXCJweFwiIDogXCJcIjtcbiAgICAgICAgICAgIC8vIENocm9tZSB3aWxsIHNvbWV0aW1lcywgd2hlbiBET00gbXV0YXRpb25zIG9jY3VyIGRpcmVjdGx5XG4gICAgICAgICAgICAvLyBhcm91bmQgdGhlIHNlbGVjdGlvbiwgZ2V0IGNvbmZ1c2VkIGFuZCByZXBvcnQgYSBkaWZmZXJlbnRcbiAgICAgICAgICAgIC8vIHNlbGVjdGlvbiBmcm9tIHRoZSBvbmUgaXQgZGlzcGxheXMgKGlzc3VlICMyMTgpLiBUaGlzIHRyaWVzXG4gICAgICAgICAgICAvLyB0byBkZXRlY3QgdGhhdCBzaXR1YXRpb24uXG4gICAgICAgICAgICBsZXQgdHJhY2sgPSBicm93c2VyLmNocm9tZSB8fCBicm93c2VyLmlvcyA/IHsgbm9kZTogb2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2UuZm9jdXNOb2RlLCB3cml0dGVuOiBmYWxzZSB9IDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5zeW5jKHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSAwIC8qIERpcnR5Lk5vdCAqLztcbiAgICAgICAgICAgIGlmICh0cmFjayAmJiAodHJhY2sud3JpdHRlbiB8fCBvYnNlcnZlci5zZWxlY3Rpb25SYW5nZS5mb2N1c05vZGUgIT0gdHJhY2subm9kZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5mb3JjZVNlbGVjdGlvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5oZWlnaHQgPSBcIlwiO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGdhcHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMudmlldy52aWV3cG9ydC5mcm9tIHx8IHRoaXMudmlldy52aWV3cG9ydC50byA8IHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoKVxuICAgICAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBCbG9ja1dpZGdldFZpZXcgJiYgY2hpbGQud2lkZ2V0IGluc3RhbmNlb2YgQmxvY2tHYXBXaWRnZXQpXG4gICAgICAgICAgICAgICAgICAgIGdhcHMucHVzaChjaGlsZC5kb20pO1xuICAgICAgICBvYnNlcnZlci51cGRhdGVHYXBzKGdhcHMpO1xuICAgIH1cbiAgICB1cGRhdGVDaGlsZHJlbihjaGFuZ2VzLCBvbGRMZW5ndGgpIHtcbiAgICAgICAgbGV0IGN1cnNvciA9IHRoaXMuY2hpbGRDdXJzb3Iob2xkTGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTs7IGktLSkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBpID49IDAgPyBjaGFuZ2VzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCB7IGZyb21BLCB0b0EsIGZyb21CLCB0b0IgfSA9IG5leHQ7XG4gICAgICAgICAgICBsZXQgeyBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCB9ID0gQ29udGVudEJ1aWxkZXIuYnVpbGQodGhpcy52aWV3LnN0YXRlLmRvYywgZnJvbUIsIHRvQiwgdGhpcy5kZWNvcmF0aW9ucywgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcCk7XG4gICAgICAgICAgICBsZXQgeyBpOiB0b0ksIG9mZjogdG9PZmYgfSA9IGN1cnNvci5maW5kUG9zKHRvQSwgMSk7XG4gICAgICAgICAgICBsZXQgeyBpOiBmcm9tSSwgb2ZmOiBmcm9tT2ZmIH0gPSBjdXJzb3IuZmluZFBvcyhmcm9tQSwgLTEpO1xuICAgICAgICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGZyb21JLCBmcm9tT2ZmLCB0b0ksIHRvT2ZmLCBjb250ZW50LCBicmVha0F0U3RhcnQsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gU3luYyB0aGUgRE9NIHNlbGVjdGlvbiB0byB0aGlzLnN0YXRlLnNlbGVjdGlvblxuICAgIHVwZGF0ZVNlbGVjdGlvbihtdXN0UmVhZCA9IGZhbHNlLCBmcm9tUG9pbnRlciA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChtdXN0UmVhZCB8fCAhdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlLmZvY3VzTm9kZSlcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5yZWFkU2VsZWN0aW9uUmFuZ2UoKTtcbiAgICAgICAgaWYgKCEoZnJvbVBvaW50ZXIgfHwgdGhpcy5tYXlDb250cm9sU2VsZWN0aW9uKCkpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgZm9yY2UgPSB0aGlzLmZvcmNlU2VsZWN0aW9uO1xuICAgICAgICB0aGlzLmZvcmNlU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIGxldCBtYWluID0gdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICAvLyBGSVhNRSBuZWVkIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgc2VsZWN0aW9uIGZhbGxzIGluc2lkZSBhIGJsb2NrIHJhbmdlXG4gICAgICAgIGxldCBhbmNob3IgPSB0aGlzLmRvbUF0UG9zKG1haW4uYW5jaG9yKTtcbiAgICAgICAgbGV0IGhlYWQgPSBtYWluLmVtcHR5ID8gYW5jaG9yIDogdGhpcy5kb21BdFBvcyhtYWluLmhlYWQpO1xuICAgICAgICAvLyBBbHdheXMgcmVzZXQgb24gRmlyZWZveCB3aGVuIG5leHQgdG8gYW4gdW5lZGl0YWJsZSBub2RlIHRvXG4gICAgICAgIC8vIGF2b2lkIGludmlzaWJsZSBjdXJzb3IgYnVncyAoIzExMSlcbiAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgbWFpbi5lbXB0eSAmJiBiZXR3ZWVuVW5lZGl0YWJsZShhbmNob3IpKSB7XG4gICAgICAgICAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4gYW5jaG9yLm5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15LCBhbmNob3Iubm9kZS5jaGlsZE5vZGVzW2FuY2hvci5vZmZzZXRdIHx8IG51bGwpKTtcbiAgICAgICAgICAgIGFuY2hvciA9IGhlYWQgPSBuZXcgRE9NUG9zKGR1bW15LCAwKTtcbiAgICAgICAgICAgIGZvcmNlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZG9tU2VsID0gdGhpcy52aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGlzIGFscmVhZHkgaGVyZSwgb3IgaW4gYW4gZXF1aXZhbGVudCBwb3NpdGlvbiwgZG9uJ3QgdG91Y2ggaXRcbiAgICAgICAgaWYgKGZvcmNlIHx8ICFkb21TZWwuZm9jdXNOb2RlIHx8XG4gICAgICAgICAgICAhaXNFcXVpdmFsZW50UG9zaXRpb24oYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGRvbVNlbC5hbmNob3JOb2RlLCBkb21TZWwuYW5jaG9yT2Zmc2V0KSB8fFxuICAgICAgICAgICAgIWlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWQubm9kZSwgaGVhZC5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgaGlkZSB0aGUgdmlydHVhbCBrZXlib2FyZCB3aGVuIHRhcHBpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnNpZGUgYW4gdW5lZGl0YWJsZSBub2RlLCBhbmQgbm90IGJyaW5nIGl0IGJhY2sgd2hlbiB3ZVxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGN1cnNvciB0byBpdHMgcHJvcGVyIHBvc2l0aW9uLiBUaGlzIHRyaWVzIHRvXG4gICAgICAgICAgICAgICAgLy8gcmVzdG9yZSB0aGUga2V5Ym9hcmQgYnkgY3ljbGluZyBmb2N1cy5cbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmIHRoaXMuZG9tLmNvbnRhaW5zKGRvbVNlbC5mb2N1c05vZGUpICYmXG4gICAgICAgICAgICAgICAgICAgIGluVW5lZGl0YWJsZShkb21TZWwuZm9jdXNOb2RlLCB0aGlzLmRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb20uYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByYXdTZWwgPSBnZXRTZWxlY3Rpb24odGhpcy52aWV3LnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmICghcmF3U2VsKSA7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWFpbi5lbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNjEyMDc2XG4gICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvID0gbmV4dFRvVW5lZGl0YWJsZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvICYmIG5leHRUbyAhPSAoMSAvKiBOZXh0VG8uQmVmb3JlICovIHwgMiAvKiBOZXh0VG8uQWZ0ZXIgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBuZWFyYnlUZXh0Tm9kZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCwgbmV4dFRvID09IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA/IDEgOiAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvciA9IG5ldyBET01Qb3ModGV4dCwgbmV4dFRvID09IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA/IDAgOiB0ZXh0Lm5vZGVWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5jb2xsYXBzZShhbmNob3Iubm9kZSwgYW5jaG9yLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWluLmJpZGlMZXZlbCAhPSBudWxsICYmIGRvbVNlbC5jdXJzb3JCaWRpTGV2ZWwgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVNlbC5jdXJzb3JCaWRpTGV2ZWwgPSBtYWluLmJpZGlMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmF3U2VsLmV4dGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWxlY3Rpb24uZXh0ZW5kIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbiAnaW52ZXJ0ZWQnIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyAob25lIHdoZXJlIHRoZSBmb2N1cyBpcyBiZWZvcmUgdGhlIGFuY2hvciksIGJ1dCBub3QgYWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXJzIHN1cHBvcnQgaXQgeWV0LlxuICAgICAgICAgICAgICAgICAgICByYXdTZWwuY29sbGFwc2UoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgd2lsbCBpZ25vcmUgdGhlIGNhbGwgYWJvdmUgd2hlbiB0aGUgZWRpdG9yIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGhpZGRlbiwgYW5kIHRoZW4gcmFpc2UgYW4gZXJyb3Igb24gdGhlIGNhbGwgdG8gZXh0ZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vICgjOTQwKS5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhd1NlbC5leHRlbmQoaGVhZC5ub2RlLCBoZWFkLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpbWl0aXZlIChJRSkgd2F5XG4gICAgICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYWluLmFuY2hvciA+IG1haW4uaGVhZClcbiAgICAgICAgICAgICAgICAgICAgICAgIFthbmNob3IsIGhlYWRdID0gW2hlYWQsIGFuY2hvcl07XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChoZWFkLm5vZGUsIGhlYWQub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByYXdTZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhd1NlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuc2V0U2VsZWN0aW9uUmFuZ2UoYW5jaG9yLCBoZWFkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmltcHJlY2lzZUFuY2hvciA9IGFuY2hvci5wcmVjaXNlID8gbnVsbCA6IG5ldyBET01Qb3MoZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICB0aGlzLmltcHJlY2lzZUhlYWQgPSBoZWFkLnByZWNpc2UgPyBudWxsIDogbmV3IERPTVBvcyhkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQpO1xuICAgIH1cbiAgICBlbmZvcmNlQ3Vyc29yQXNzb2MoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvc2l0aW9uRGVjby5zaXplKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgeyB2aWV3IH0gPSB0aGlzLCBjdXJzb3IgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgICAgICBsZXQgc2VsID0gZ2V0U2VsZWN0aW9uKHZpZXcucm9vdCk7XG4gICAgICAgIGxldCB7IGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCB9ID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgaWYgKCFzZWwgfHwgIWN1cnNvci5lbXB0eSB8fCAhY3Vyc29yLmFzc29jIHx8ICFzZWwubW9kaWZ5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbGluZSA9IExpbmVWaWV3LmZpbmQodGhpcywgY3Vyc29yLmhlYWQpO1xuICAgICAgICBpZiAoIWxpbmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBsaW5lU3RhcnQgPSBsaW5lLnBvc0F0U3RhcnQ7XG4gICAgICAgIGlmIChjdXJzb3IuaGVhZCA9PSBsaW5lU3RhcnQgfHwgY3Vyc29yLmhlYWQgPT0gbGluZVN0YXJ0ICsgbGluZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBiZWZvcmUgPSB0aGlzLmNvb3Jkc0F0KGN1cnNvci5oZWFkLCAtMSksIGFmdGVyID0gdGhpcy5jb29yZHNBdChjdXJzb3IuaGVhZCwgMSk7XG4gICAgICAgIGlmICghYmVmb3JlIHx8ICFhZnRlciB8fCBiZWZvcmUuYm90dG9tID4gYWZ0ZXIudG9wKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgZG9tID0gdGhpcy5kb21BdFBvcyhjdXJzb3IuaGVhZCArIGN1cnNvci5hc3NvYyk7XG4gICAgICAgIHNlbC5jb2xsYXBzZShkb20ubm9kZSwgZG9tLm9mZnNldCk7XG4gICAgICAgIHNlbC5tb2RpZnkoXCJtb3ZlXCIsIGN1cnNvci5hc3NvYyA8IDAgPyBcImZvcndhcmRcIiA6IFwiYmFja3dhcmRcIiwgXCJsaW5lYm91bmRhcnlcIik7XG4gICAgICAgIC8vIFRoaXMgY2FuIGdvIHdyb25nIGluIGNvcm5lciBjYXNlcyBsaWtlIHNpbmdsZS1jaGFyYWN0ZXIgbGluZXMsXG4gICAgICAgIC8vIHNvIGNoZWNrIGFuZCByZXNldCBpZiBuZWNlc3NhcnkuXG4gICAgICAgIHZpZXcub2JzZXJ2ZXIucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgICAgIGxldCBuZXdSYW5nZSA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgIGlmICh2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShuZXdSYW5nZS5hbmNob3JOb2RlLCBuZXdSYW5nZS5hbmNob3JPZmZzZXQpICE9IGN1cnNvci5mcm9tKVxuICAgICAgICAgICAgc2VsLmNvbGxhcHNlKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCk7XG4gICAgfVxuICAgIG1heUNvbnRyb2xTZWxlY3Rpb24oKSB7XG4gICAgICAgIGxldCBhY3RpdmUgPSB0aGlzLnZpZXcucm9vdC5hY3RpdmVFbGVtZW50O1xuICAgICAgICByZXR1cm4gYWN0aXZlID09IHRoaXMuZG9tIHx8XG4gICAgICAgICAgICBoYXNTZWxlY3Rpb24odGhpcy5kb20sIHRoaXMudmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZSkgJiYgIShhY3RpdmUgJiYgdGhpcy5kb20uY29udGFpbnMoYWN0aXZlKSk7XG4gICAgfVxuICAgIG5lYXJlc3QoZG9tKSB7XG4gICAgICAgIGZvciAobGV0IGN1ciA9IGRvbTsgY3VyOykge1xuICAgICAgICAgICAgbGV0IGRvbVZpZXcgPSBDb250ZW50Vmlldy5nZXQoY3VyKTtcbiAgICAgICAgICAgIGlmIChkb21WaWV3ICYmIGRvbVZpZXcucm9vdFZpZXcgPT0gdGhpcylcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tVmlldztcbiAgICAgICAgICAgIGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwb3NGcm9tRE9NKG5vZGUsIG9mZnNldCkge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMubmVhcmVzdChub2RlKTtcbiAgICAgICAgaWYgKCF2aWV3KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gZmluZCBwb3NpdGlvbiBmb3IgYSBET00gcG9zaXRpb24gb3V0c2lkZSBvZiB0aGUgZG9jdW1lbnRcIik7XG4gICAgICAgIHJldHVybiB2aWV3LmxvY2FsUG9zRnJvbURPTShub2RlLCBvZmZzZXQpICsgdmlldy5wb3NBdFN0YXJ0O1xuICAgIH1cbiAgICBkb21BdFBvcyhwb3MpIHtcbiAgICAgICAgbGV0IHsgaSwgb2ZmIH0gPSB0aGlzLmNoaWxkQ3Vyc29yKCkuZmluZFBvcyhwb3MsIC0xKTtcbiAgICAgICAgZm9yICg7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7KSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKG9mZiA8IGNoaWxkLmxlbmd0aCB8fCBjaGlsZCBpbnN0YW5jZW9mIExpbmVWaWV3KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgb2ZmID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXS5kb21BdFBvcyhvZmYpO1xuICAgIH1cbiAgICBjb29yZHNBdChwb3MsIHNpZGUpIHtcbiAgICAgICAgZm9yIChsZXQgb2ZmID0gdGhpcy5sZW5ndGgsIGkgPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDE7OyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN0YXJ0ID0gb2ZmIC0gY2hpbGQuYnJlYWtBZnRlciAtIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChwb3MgPiBzdGFydCB8fFxuICAgICAgICAgICAgICAgIChwb3MgPT0gc3RhcnQgJiYgY2hpbGQudHlwZSAhPSBCbG9ja1R5cGUuV2lkZ2V0QmVmb3JlICYmIGNoaWxkLnR5cGUgIT0gQmxvY2tUeXBlLldpZGdldEFmdGVyICYmXG4gICAgICAgICAgICAgICAgICAgICghaSB8fCBzaWRlID09IDIgfHwgdGhpcy5jaGlsZHJlbltpIC0gMV0uYnJlYWtBZnRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuY2hpbGRyZW5baSAtIDFdLnR5cGUgPT0gQmxvY2tUeXBlLldpZGdldEJlZm9yZSAmJiBzaWRlID4gLTIpKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmNvb3Jkc0F0KHBvcyAtIHN0YXJ0LCBzaWRlKTtcbiAgICAgICAgICAgIG9mZiA9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuICAgIG1lYXN1cmVWaXNpYmxlTGluZUhlaWdodHModmlld3BvcnQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCB7IGZyb20sIHRvIH0gPSB2aWV3cG9ydDtcbiAgICAgICAgbGV0IGNvbnRlbnRXaWR0aCA9IHRoaXMudmlldy5jb250ZW50RE9NLmNsaWVudFdpZHRoO1xuICAgICAgICBsZXQgaXNXaWRlciA9IGNvbnRlbnRXaWR0aCA+IE1hdGgubWF4KHRoaXMudmlldy5zY3JvbGxET00uY2xpZW50V2lkdGgsIHRoaXMubWluV2lkdGgpICsgMTtcbiAgICAgICAgbGV0IHdpZGVzdCA9IC0xLCBsdHIgPSB0aGlzLnZpZXcudGV4dERpcmVjdGlvbiA9PSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSAwLCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IHBvcyArIGNoaWxkLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlbmQgPiB0bylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChwb3MgPj0gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZFJlY3QgPSBjaGlsZC5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGRSZWN0LmhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzV2lkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBjaGlsZC5kb20ubGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdHMgPSBsYXN0ID8gY2xpZW50UmVjdHNGb3IobGFzdCkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tyZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB3aWR0aCA9IGx0ciA/IHJlY3QucmlnaHQgLSBjaGlsZFJlY3QubGVmdCA6IGNoaWxkUmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IHdpZGVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVzdCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWluV2lkdGggPSBjb250ZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aEZyb20gPSBwb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5XaWR0aFRvID0gZW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gZW5kICsgY2hpbGQuYnJlYWtBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0ZXh0RGlyZWN0aW9uQXQocG9zKSB7XG4gICAgICAgIGxldCB7IGkgfSA9IHRoaXMuY2hpbGRQb3MocG9zLCAxKTtcbiAgICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUodGhpcy5jaGlsZHJlbltpXS5kb20pLmRpcmVjdGlvbiA9PSBcInJ0bFwiID8gRGlyZWN0aW9uLlJUTCA6IERpcmVjdGlvbi5MVFI7XG4gICAgfVxuICAgIG1lYXN1cmVUZXh0U2l6ZSgpIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgTGluZVZpZXcpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyZSA9IGNoaWxkLm1lYXN1cmVUZXh0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChtZWFzdXJlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVhc3VyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyB3b3JrYWJsZSBsaW5lIGV4aXN0cywgZm9yY2UgYSBsYXlvdXQgb2YgYSBtZWFzdXJhYmxlIGVsZW1lbnRcbiAgICAgICAgbGV0IGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgbGluZUhlaWdodCwgY2hhcldpZHRoO1xuICAgICAgICBkdW1teS5jbGFzc05hbWUgPSBcImNtLWxpbmVcIjtcbiAgICAgICAgZHVtbXkuc3R5bGUud2lkdGggPSBcIjk5OTk5cHhcIjtcbiAgICAgICAgZHVtbXkudGV4dENvbnRlbnQgPSBcImFiYyBkZWYgZ2hpIGprbCBtbm8gcHFyIHN0dVwiO1xuICAgICAgICB0aGlzLnZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgICAgIGxldCByZWN0ID0gY2xpZW50UmVjdHNGb3IoZHVtbXkuZmlyc3RDaGlsZClbMF07XG4gICAgICAgICAgICBsaW5lSGVpZ2h0ID0gZHVtbXkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICAgICAgY2hhcldpZHRoID0gcmVjdCA/IHJlY3Qud2lkdGggLyAyNyA6IDc7XG4gICAgICAgICAgICBkdW1teS5yZW1vdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IGxpbmVIZWlnaHQsIGNoYXJXaWR0aCB9O1xuICAgIH1cbiAgICBjaGlsZEN1cnNvcihwb3MgPSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAvLyBNb3ZlIGJhY2sgdG8gc3RhcnQgb2YgbGFzdCBlbGVtZW50IHdoZW4gcG9zc2libGUsIHNvIHRoYXRcbiAgICAgICAgLy8gYENoaWxkQ3Vyc29yLmZpbmRQb3NgIGRvZXNuJ3QgaGF2ZSB0byBkZWFsIHdpdGggdGhlIGVkZ2UgY2FzZVxuICAgICAgICAvLyBvZiBiZWluZyBhZnRlciB0aGUgbGFzdCBlbGVtZW50LlxuICAgICAgICBsZXQgaSA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBpZiAoaSlcbiAgICAgICAgICAgIHBvcyAtPSB0aGlzLmNoaWxkcmVuWy0taV0ubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbmV3IENoaWxkQ3Vyc29yKHRoaXMuY2hpbGRyZW4sIHBvcywgaSk7XG4gICAgfVxuICAgIGNvbXB1dGVCbG9ja0dhcERlY28oKSB7XG4gICAgICAgIGxldCBkZWNvID0gW10sIHZzID0gdGhpcy52aWV3LnZpZXdTdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gMCwgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaSA9PSB2cy52aWV3cG9ydHMubGVuZ3RoID8gbnVsbCA6IHZzLnZpZXdwb3J0c1tpXTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBuZXh0ID8gbmV4dC5mcm9tIC0gMSA6IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHBvcykge1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSB2cy5saW5lQmxvY2tBdChlbmQpLmJvdHRvbSAtIHZzLmxpbmVCbG9ja0F0KHBvcykudG9wO1xuICAgICAgICAgICAgICAgIGRlY28ucHVzaChEZWNvcmF0aW9uLnJlcGxhY2Uoe1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQ6IG5ldyBCbG9ja0dhcFdpZGdldChoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICBibG9jazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpc0Jsb2NrR2FwOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pLnJhbmdlKHBvcywgZW5kKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBwb3MgPSBuZXh0LnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoZGVjbyk7XG4gICAgfVxuICAgIHVwZGF0ZURlY28oKSB7XG4gICAgICAgIGxldCBhbGxEZWNvID0gdGhpcy52aWV3LnN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5tYXAoKGQsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCBkeW5hbWljID0gdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcFtpXSA9IHR5cGVvZiBkID09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIHJldHVybiBkeW5hbWljID8gZCh0aGlzLnZpZXcpIDogZDtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGkgPSBhbGxEZWNvLmxlbmd0aDsgaSA8IGFsbERlY28ubGVuZ3RoICsgMzsgaSsrKVxuICAgICAgICAgICAgdGhpcy5keW5hbWljRGVjb3JhdGlvbk1hcFtpXSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcy5kZWNvcmF0aW9ucyA9IFtcbiAgICAgICAgICAgIC4uLmFsbERlY28sXG4gICAgICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRGVjbyxcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZUJsb2NrR2FwRGVjbygpLFxuICAgICAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5saW5lR2FwRGVjb1xuICAgICAgICBdO1xuICAgIH1cbiAgICBzY3JvbGxJbnRvVmlldyh0YXJnZXQpIHtcbiAgICAgICAgbGV0IHsgcmFuZ2UgfSA9IHRhcmdldDtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmNvb3Jkc0F0KHJhbmdlLmhlYWQsIHJhbmdlLmVtcHR5ID8gcmFuZ2UuYXNzb2MgOiByYW5nZS5oZWFkID4gcmFuZ2UuYW5jaG9yID8gLTEgOiAxKSwgb3RoZXI7XG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSAmJiAob3RoZXIgPSB0aGlzLmNvb3Jkc0F0KHJhbmdlLmFuY2hvciwgcmFuZ2UuYW5jaG9yID4gcmFuZ2UuaGVhZCA/IC0xIDogMSkpKVxuICAgICAgICAgICAgcmVjdCA9IHsgbGVmdDogTWF0aC5taW4ocmVjdC5sZWZ0LCBvdGhlci5sZWZ0KSwgdG9wOiBNYXRoLm1pbihyZWN0LnRvcCwgb3RoZXIudG9wKSxcbiAgICAgICAgICAgICAgICByaWdodDogTWF0aC5tYXgocmVjdC5yaWdodCwgb3RoZXIucmlnaHQpLCBib3R0b206IE1hdGgubWF4KHJlY3QuYm90dG9tLCBvdGhlci5ib3R0b20pIH07XG4gICAgICAgIGxldCBtTGVmdCA9IDAsIG1SaWdodCA9IDAsIG1Ub3AgPSAwLCBtQm90dG9tID0gMDtcbiAgICAgICAgZm9yIChsZXQgbWFyZ2lucyBvZiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoc2Nyb2xsTWFyZ2lucykubWFwKGYgPT4gZih0aGlzLnZpZXcpKSlcbiAgICAgICAgICAgIGlmIChtYXJnaW5zKSB7XG4gICAgICAgICAgICAgICAgbGV0IHsgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIH0gPSBtYXJnaW5zO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIG1MZWZ0ID0gTWF0aC5tYXgobUxlZnQsIGxlZnQpO1xuICAgICAgICAgICAgICAgIGlmIChyaWdodCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBtUmlnaHQgPSBNYXRoLm1heChtUmlnaHQsIHJpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAodG9wICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIG1Ub3AgPSBNYXRoLm1heChtVG9wLCB0b3ApO1xuICAgICAgICAgICAgICAgIGlmIChib3R0b20gIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgbUJvdHRvbSA9IE1hdGgubWF4KG1Cb3R0b20sIGJvdHRvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGxldCB0YXJnZXRSZWN0ID0ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gbUxlZnQsIHRvcDogcmVjdC50b3AgLSBtVG9wLFxuICAgICAgICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgKyBtUmlnaHQsIGJvdHRvbTogcmVjdC5ib3R0b20gKyBtQm90dG9tXG4gICAgICAgIH07XG4gICAgICAgIHNjcm9sbFJlY3RJbnRvVmlldyh0aGlzLnZpZXcuc2Nyb2xsRE9NLCB0YXJnZXRSZWN0LCByYW5nZS5oZWFkIDwgcmFuZ2UuYW5jaG9yID8gLTEgOiAxLCB0YXJnZXQueCwgdGFyZ2V0LnksIHRhcmdldC54TWFyZ2luLCB0YXJnZXQueU1hcmdpbiwgdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUik7XG4gICAgfVxufVxuZnVuY3Rpb24gYmV0d2VlblVuZWRpdGFibGUocG9zKSB7XG4gICAgcmV0dXJuIHBvcy5ub2RlLm5vZGVUeXBlID09IDEgJiYgcG9zLm5vZGUuZmlyc3RDaGlsZCAmJlxuICAgICAgICAocG9zLm9mZnNldCA9PSAwIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldCAtIDFdLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpICYmXG4gICAgICAgIChwb3Mub2Zmc2V0ID09IHBvcy5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoIHx8IHBvcy5ub2RlLmNoaWxkTm9kZXNbcG9zLm9mZnNldF0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIik7XG59XG5jbGFzcyBCbG9ja0dhcFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGhlaWdodCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnVwZGF0ZURPTShlbHQpO1xuICAgICAgICByZXR1cm4gZWx0O1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gb3RoZXIuaGVpZ2h0ID09IHRoaXMuaGVpZ2h0OyB9XG4gICAgdXBkYXRlRE9NKGVsdCkge1xuICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXQgZXN0aW1hdGVkSGVpZ2h0KCkgeyByZXR1cm4gdGhpcy5oZWlnaHQ7IH1cbn1cbmZ1bmN0aW9uIGNvbXBvc2l0aW9uU3Vycm91bmRpbmdOb2RlKHZpZXcpIHtcbiAgICBsZXQgc2VsID0gdmlldy5vYnNlcnZlci5zZWxlY3Rpb25SYW5nZTtcbiAgICBsZXQgdGV4dE5vZGUgPSBzZWwuZm9jdXNOb2RlICYmIG5lYXJieVRleHROb2RlKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgMCk7XG4gICAgaWYgKCF0ZXh0Tm9kZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGNWaWV3ID0gdmlldy5kb2NWaWV3Lm5lYXJlc3QodGV4dE5vZGUpO1xuICAgIGlmICghY1ZpZXcpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChjVmlldyBpbnN0YW5jZW9mIExpbmVWaWV3KSB7XG4gICAgICAgIGxldCB0b3BOb2RlID0gdGV4dE5vZGU7XG4gICAgICAgIHdoaWxlICh0b3BOb2RlLnBhcmVudE5vZGUgIT0gY1ZpZXcuZG9tKVxuICAgICAgICAgICAgdG9wTm9kZSA9IHRvcE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgbGV0IHByZXYgPSB0b3BOb2RlLnByZXZpb3VzU2libGluZztcbiAgICAgICAgd2hpbGUgKHByZXYgJiYgIUNvbnRlbnRWaWV3LmdldChwcmV2KSlcbiAgICAgICAgICAgIHByZXYgPSBwcmV2LnByZXZpb3VzU2libGluZztcbiAgICAgICAgbGV0IHBvcyA9IHByZXYgPyBDb250ZW50Vmlldy5nZXQocHJldikucG9zQXRFbmQgOiBjVmlldy5wb3NBdFN0YXJ0O1xuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIHRvOiBwb3MsIG5vZGU6IHRvcE5vZGUsIHRleHQ6IHRleHROb2RlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgeyBwYXJlbnQgfSA9IGNWaWV3O1xuICAgICAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgTGluZVZpZXcpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjVmlldyA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnJvbSA9IGNWaWV3LnBvc0F0U3RhcnQ7XG4gICAgICAgIHJldHVybiB7IGZyb20sIHRvOiBmcm9tICsgY1ZpZXcubGVuZ3RoLCBub2RlOiBjVmlldy5kb20sIHRleHQ6IHRleHROb2RlIH07XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZUNvbXBvc2l0aW9uRGVjbyh2aWV3LCBjaGFuZ2VzKSB7XG4gICAgbGV0IHN1cnJvdW5kaW5nID0gY29tcG9zaXRpb25TdXJyb3VuZGluZ05vZGUodmlldyk7XG4gICAgaWYgKCFzdXJyb3VuZGluZylcbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICBsZXQgeyBmcm9tLCB0bywgbm9kZSwgdGV4dDogdGV4dE5vZGUgfSA9IHN1cnJvdW5kaW5nO1xuICAgIGxldCBuZXdGcm9tID0gY2hhbmdlcy5tYXBQb3MoZnJvbSwgMSksIG5ld1RvID0gTWF0aC5tYXgobmV3RnJvbSwgY2hhbmdlcy5tYXBQb3ModG8sIC0xKSk7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIHRleHQgPSBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZSA6XG4gICAgICAgIG5ldyBET01SZWFkZXIoW10sIHN0YXRlKS5yZWFkUmFuZ2Uobm9kZS5maXJzdENoaWxkLCBudWxsKS50ZXh0O1xuICAgIGlmIChuZXdUbyAtIG5ld0Zyb20gPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICBpZiAoc3RhdGUuZG9jLnNsaWNlU3RyaW5nKG5ld0Zyb20sIE1hdGgubWluKHN0YXRlLmRvYy5sZW5ndGgsIG5ld0Zyb20gKyB0ZXh0Lmxlbmd0aCksIExpbmVCcmVha1BsYWNlaG9sZGVyKSA9PSB0ZXh0KVxuICAgICAgICAgICAgbmV3VG8gPSBuZXdGcm9tICsgdGV4dC5sZW5ndGg7XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmRvYy5zbGljZVN0cmluZyhNYXRoLm1heCgwLCBuZXdUbyAtIHRleHQubGVuZ3RoKSwgbmV3VG8sIExpbmVCcmVha1BsYWNlaG9sZGVyKSA9PSB0ZXh0KVxuICAgICAgICAgICAgbmV3RnJvbSA9IG5ld1RvIC0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXRlLmRvYy5zbGljZVN0cmluZyhuZXdGcm9tLCBuZXdUbywgTGluZUJyZWFrUGxhY2Vob2xkZXIpICE9IHRleHQpIHtcbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICB9XG4gICAgbGV0IHRvcFZpZXcgPSBDb250ZW50Vmlldy5nZXQobm9kZSk7XG4gICAgaWYgKHRvcFZpZXcgaW5zdGFuY2VvZiBDb21wb3NpdGlvblZpZXcpXG4gICAgICAgIHRvcFZpZXcgPSB0b3BWaWV3LndpZGdldC50b3BWaWV3O1xuICAgIGVsc2UgaWYgKHRvcFZpZXcpXG4gICAgICAgIHRvcFZpZXcucGFyZW50ID0gbnVsbDtcbiAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoRGVjb3JhdGlvbi5yZXBsYWNlKHsgd2lkZ2V0OiBuZXcgQ29tcG9zaXRpb25XaWRnZXQobm9kZSwgdGV4dE5vZGUsIHRvcFZpZXcpLCBpbmNsdXNpdmU6IHRydWUgfSlcbiAgICAgICAgLnJhbmdlKG5ld0Zyb20sIG5ld1RvKSk7XG59XG5jbGFzcyBDb21wb3NpdGlvbldpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHRvcCwgdGV4dCwgdG9wVmlldykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy50b3BWaWV3ID0gdG9wVmlldztcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIHRoaXMudG9wID09IG90aGVyLnRvcCAmJiB0aGlzLnRleHQgPT0gb3RoZXIudGV4dDsgfVxuICAgIHRvRE9NKCkgeyByZXR1cm4gdGhpcy50b3A7IH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGN1c3RvbVZpZXcoKSB7IHJldHVybiBDb21wb3NpdGlvblZpZXc7IH1cbn1cbmZ1bmN0aW9uIG5lYXJieVRleHROb2RlKG5vZGUsIG9mZnNldCwgc2lkZSkge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA+IDAgJiYgc2lkZSA8PSAwKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgb2Zmc2V0ID0gbWF4T2Zmc2V0KG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICYmIHNpZGUgPj0gMCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbmV4dFRvVW5lZGl0YWJsZShub2RlLCBvZmZzZXQpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKVxuICAgICAgICByZXR1cm4gMDtcbiAgICByZXR1cm4gKG9mZnNldCAmJiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIiA/IDEgLyogTmV4dFRvLkJlZm9yZSAqLyA6IDApIHxcbiAgICAgICAgKG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggJiYgbm9kZS5jaGlsZE5vZGVzW29mZnNldF0uY29udGVudEVkaXRhYmxlID09IFwiZmFsc2VcIiA/IDIgLyogTmV4dFRvLkFmdGVyICovIDogMCk7XG59XG5jbGFzcyBEZWNvcmF0aW9uQ29tcGFyYXRvciQxIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gW107XG4gICAgfVxuICAgIGNvbXBhcmVSYW5nZShmcm9tLCB0bykgeyBhZGRSYW5nZShmcm9tLCB0bywgdGhpcy5jaGFuZ2VzKTsgfVxuICAgIGNvbXBhcmVQb2ludChmcm9tLCB0bykgeyBhZGRSYW5nZShmcm9tLCB0bywgdGhpcy5jaGFuZ2VzKTsgfVxufVxuZnVuY3Rpb24gZmluZENoYW5nZWREZWNvKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvciQxO1xuICAgIFJhbmdlU2V0LmNvbXBhcmUoYSwgYiwgZGlmZiwgY29tcCk7XG4gICAgcmV0dXJuIGNvbXAuY2hhbmdlcztcbn1cbmZ1bmN0aW9uIGluVW5lZGl0YWJsZShub2RlLCBpbnNpZGUpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBub2RlOyBjdXIgJiYgY3VyICE9IGluc2lkZTsgY3VyID0gY3VyLmFzc2lnbmVkU2xvdCB8fCBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09IDEgJiYgY3VyLmNvbnRlbnRFZGl0YWJsZSA9PSAnZmFsc2UnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdyb3VwQXQoc3RhdGUsIHBvcywgYmlhcyA9IDEpIHtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGxldCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBsaW5lUG9zID0gcG9zIC0gbGluZS5mcm9tO1xuICAgIGlmIChsaW5lLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MpO1xuICAgIGlmIChsaW5lUG9zID09IDApXG4gICAgICAgIGJpYXMgPSAxO1xuICAgIGVsc2UgaWYgKGxpbmVQb3MgPT0gbGluZS5sZW5ndGgpXG4gICAgICAgIGJpYXMgPSAtMTtcbiAgICBsZXQgZnJvbSA9IGxpbmVQb3MsIHRvID0gbGluZVBvcztcbiAgICBpZiAoYmlhcyA8IDApXG4gICAgICAgIGZyb20gPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgbGluZVBvcywgZmFsc2UpO1xuICAgIGVsc2VcbiAgICAgICAgdG8gPSBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgbGluZVBvcyk7XG4gICAgbGV0IGNhdCA9IGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKGZyb20sIHRvKSk7XG4gICAgd2hpbGUgKGZyb20gPiAwKSB7XG4gICAgICAgIGxldCBwcmV2ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIGZyb20sIGZhbHNlKTtcbiAgICAgICAgaWYgKGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKHByZXYsIGZyb20pKSAhPSBjYXQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZnJvbSA9IHByZXY7XG4gICAgfVxuICAgIHdoaWxlICh0byA8IGxpbmUubGVuZ3RoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHRvKTtcbiAgICAgICAgaWYgKGNhdGVnb3JpemUobGluZS50ZXh0LnNsaWNlKHRvLCBuZXh0KSkgIT0gY2F0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIHRvID0gbmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tICsgbGluZS5mcm9tLCB0byArIGxpbmUuZnJvbSk7XG59XG4vLyBTZWFyY2ggdGhlIERPTSBmb3IgdGhlIHtub2RlLCBvZmZzZXR9IHBvc2l0aW9uIGNsb3Nlc3QgdG8gdGhlIGdpdmVuXG4vLyBjb29yZGluYXRlcy4gVmVyeSBpbmVmZmljaWVudCBhbmQgY3J1ZGUsIGJ1dCBjYW4gdXN1YWxseSBiZSBhdm9pZGVkXG4vLyBieSBjYWxsaW5nIGNhcmV0KFBvc2l0aW9ufFJhbmdlKUZyb21Qb2ludCBpbnN0ZWFkLlxuZnVuY3Rpb24gZ2V0ZHgoeCwgcmVjdCkge1xuICAgIHJldHVybiByZWN0LmxlZnQgPiB4ID8gcmVjdC5sZWZ0IC0geCA6IE1hdGgubWF4KDAsIHggLSByZWN0LnJpZ2h0KTtcbn1cbmZ1bmN0aW9uIGdldGR5KHksIHJlY3QpIHtcbiAgICByZXR1cm4gcmVjdC50b3AgPiB5ID8gcmVjdC50b3AgLSB5IDogTWF0aC5tYXgoMCwgeSAtIHJlY3QuYm90dG9tKTtcbn1cbmZ1bmN0aW9uIHlPdmVybGFwKGEsIGIpIHtcbiAgICByZXR1cm4gYS50b3AgPCBiLmJvdHRvbSAtIDEgJiYgYS5ib3R0b20gPiBiLnRvcCArIDE7XG59XG5mdW5jdGlvbiB1cFRvcChyZWN0LCB0b3ApIHtcbiAgICByZXR1cm4gdG9wIDwgcmVjdC50b3AgPyB7IHRvcCwgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgYm90dG9tOiByZWN0LmJvdHRvbSB9IDogcmVjdDtcbn1cbmZ1bmN0aW9uIHVwQm90KHJlY3QsIGJvdHRvbSkge1xuICAgIHJldHVybiBib3R0b20gPiByZWN0LmJvdHRvbSA/IHsgdG9wOiByZWN0LnRvcCwgbGVmdDogcmVjdC5sZWZ0LCByaWdodDogcmVjdC5yaWdodCwgYm90dG9tIH0gOiByZWN0O1xufVxuZnVuY3Rpb24gZG9tUG9zQXRDb29yZHMocGFyZW50LCB4LCB5KSB7XG4gICAgbGV0IGNsb3Nlc3QsIGNsb3Nlc3RSZWN0LCBjbG9zZXN0WCwgY2xvc2VzdFksIGNsb3Nlc3RPdmVybGFwID0gZmFsc2U7XG4gICAgbGV0IGFib3ZlLCBiZWxvdywgYWJvdmVSZWN0LCBiZWxvd1JlY3Q7XG4gICAgZm9yIChsZXQgY2hpbGQgPSBwYXJlbnQuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgbGV0IHJlY3RzID0gY2xpZW50UmVjdHNGb3IoY2hpbGQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKGNsb3Nlc3RSZWN0ICYmIHlPdmVybGFwKGNsb3Nlc3RSZWN0LCByZWN0KSlcbiAgICAgICAgICAgICAgICByZWN0ID0gdXBUb3AodXBCb3QocmVjdCwgY2xvc2VzdFJlY3QuYm90dG9tKSwgY2xvc2VzdFJlY3QudG9wKTtcbiAgICAgICAgICAgIGxldCBkeCA9IGdldGR4KHgsIHJlY3QpLCBkeSA9IGdldGR5KHksIHJlY3QpO1xuICAgICAgICAgICAgaWYgKGR4ID09IDAgJiYgZHkgPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQubm9kZVR5cGUgPT0gMyA/IGRvbVBvc0luVGV4dChjaGlsZCwgeCwgeSkgOiBkb21Qb3NBdENvb3JkcyhjaGlsZCwgeCwgeSk7XG4gICAgICAgICAgICBpZiAoIWNsb3Nlc3QgfHwgY2xvc2VzdFkgPiBkeSB8fCBjbG9zZXN0WSA9PSBkeSAmJiBjbG9zZXN0WCA+IGR4KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICBjbG9zZXN0WCA9IGR4O1xuICAgICAgICAgICAgICAgIGNsb3Nlc3RZID0gZHk7XG4gICAgICAgICAgICAgICAgY2xvc2VzdE92ZXJsYXAgPSAhZHggfHwgKGR4ID4gMCA/IGkgPCByZWN0cy5sZW5ndGggLSAxIDogaSA+IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGR4ID09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA+IHJlY3QuYm90dG9tICYmICghYWJvdmVSZWN0IHx8IGFib3ZlUmVjdC5ib3R0b20gPCByZWN0LmJvdHRvbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWJvdmUgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYWJvdmVSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeSA8IHJlY3QudG9wICYmICghYmVsb3dSZWN0IHx8IGJlbG93UmVjdC50b3AgPiByZWN0LnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVsb3cgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgYmVsb3dSZWN0ID0gcmVjdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhYm92ZVJlY3QgJiYgeU92ZXJsYXAoYWJvdmVSZWN0LCByZWN0KSkge1xuICAgICAgICAgICAgICAgIGFib3ZlUmVjdCA9IHVwQm90KGFib3ZlUmVjdCwgcmVjdC5ib3R0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmVsb3dSZWN0ICYmIHlPdmVybGFwKGJlbG93UmVjdCwgcmVjdCkpIHtcbiAgICAgICAgICAgICAgICBiZWxvd1JlY3QgPSB1cFRvcChiZWxvd1JlY3QsIHJlY3QudG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWJvdmVSZWN0ICYmIGFib3ZlUmVjdC5ib3R0b20gPj0geSkge1xuICAgICAgICBjbG9zZXN0ID0gYWJvdmU7XG4gICAgICAgIGNsb3Nlc3RSZWN0ID0gYWJvdmVSZWN0O1xuICAgIH1cbiAgICBlbHNlIGlmIChiZWxvd1JlY3QgJiYgYmVsb3dSZWN0LnRvcCA8PSB5KSB7XG4gICAgICAgIGNsb3Nlc3QgPSBiZWxvdztcbiAgICAgICAgY2xvc2VzdFJlY3QgPSBiZWxvd1JlY3Q7XG4gICAgfVxuICAgIGlmICghY2xvc2VzdClcbiAgICAgICAgcmV0dXJuIHsgbm9kZTogcGFyZW50LCBvZmZzZXQ6IDAgfTtcbiAgICBsZXQgY2xpcFggPSBNYXRoLm1heChjbG9zZXN0UmVjdC5sZWZ0LCBNYXRoLm1pbihjbG9zZXN0UmVjdC5yaWdodCwgeCkpO1xuICAgIGlmIChjbG9zZXN0Lm5vZGVUeXBlID09IDMpXG4gICAgICAgIHJldHVybiBkb21Qb3NJblRleHQoY2xvc2VzdCwgY2xpcFgsIHkpO1xuICAgIGlmIChjbG9zZXN0T3ZlcmxhcCAmJiBjbG9zZXN0LmNvbnRlbnRFZGl0YWJsZSAhPSBcImZhbHNlXCIpXG4gICAgICAgIHJldHVybiBkb21Qb3NBdENvb3JkcyhjbG9zZXN0LCBjbGlwWCwgeSk7XG4gICAgbGV0IG9mZnNldCA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkTm9kZXMsIGNsb3Nlc3QpICtcbiAgICAgICAgKHggPj0gKGNsb3Nlc3RSZWN0LmxlZnQgKyBjbG9zZXN0UmVjdC5yaWdodCkgLyAyID8gMSA6IDApO1xuICAgIHJldHVybiB7IG5vZGU6IHBhcmVudCwgb2Zmc2V0IH07XG59XG5mdW5jdGlvbiBkb21Qb3NJblRleHQobm9kZSwgeCwgeSkge1xuICAgIGxldCBsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgbGV0IGNsb3Nlc3RPZmZzZXQgPSAtMSwgY2xvc2VzdERZID0gMWU5LCBnZW5lcmFsU2lkZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgcmVjdHMgPSB0ZXh0UmFuZ2Uobm9kZSwgaSwgaSArIDEpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gcmVjdHNbal07XG4gICAgICAgICAgICBpZiAocmVjdC50b3AgPT0gcmVjdC5ib3R0b20pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIWdlbmVyYWxTaWRlKVxuICAgICAgICAgICAgICAgIGdlbmVyYWxTaWRlID0geCAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgIGxldCBkeSA9IChyZWN0LnRvcCA+IHkgPyByZWN0LnRvcCAtIHkgOiB5IC0gcmVjdC5ib3R0b20pIC0gMTtcbiAgICAgICAgICAgIGlmIChyZWN0LmxlZnQgLSAxIDw9IHggJiYgcmVjdC5yaWdodCArIDEgPj0geCAmJiBkeSA8IGNsb3Nlc3REWSkge1xuICAgICAgICAgICAgICAgIGxldCByaWdodCA9IHggPj0gKHJlY3QubGVmdCArIHJlY3QucmlnaHQpIC8gMiwgYWZ0ZXIgPSByaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5jaHJvbWUgfHwgYnJvd3Nlci5nZWNrbykge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgUlRMIG9uIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBnZXR0aW5nIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICAvLyByZWN0cyBmb3IgZW1wdHkgcmFuZ2VzLlxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVjdEJlZm9yZSA9IHRleHRSYW5nZShub2RlLCBpKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3RCZWZvcmUubGVmdCA9PSByZWN0LnJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSAhcmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkeSA8PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBub2RlLCBvZmZzZXQ6IGkgKyAoYWZ0ZXIgPyAxIDogMCkgfTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0T2Zmc2V0ID0gaSArIChhZnRlciA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICBjbG9zZXN0RFkgPSBkeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBub2RlLCBvZmZzZXQ6IGNsb3Nlc3RPZmZzZXQgPiAtMSA/IGNsb3Nlc3RPZmZzZXQgOiBnZW5lcmFsU2lkZSA+IDAgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiAwIH07XG59XG5mdW5jdGlvbiBwb3NBdENvb3Jkcyh2aWV3LCB7IHgsIHkgfSwgcHJlY2lzZSwgYmlhcyA9IC0xKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBjb250ZW50ID0gdmlldy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBkb2NUb3AgPSBjb250ZW50LnRvcCArIHZpZXcudmlld1N0YXRlLnBhZGRpbmdUb3A7XG4gICAgbGV0IGJsb2NrLCB7IGRvY0hlaWdodCB9ID0gdmlldy52aWV3U3RhdGU7XG4gICAgbGV0IHlPZmZzZXQgPSB5IC0gZG9jVG9wO1xuICAgIGlmICh5T2Zmc2V0IDwgMClcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgaWYgKHlPZmZzZXQgPiBkb2NIZWlnaHQpXG4gICAgICAgIHJldHVybiB2aWV3LnN0YXRlLmRvYy5sZW5ndGg7XG4gICAgLy8gU2NhbiBmb3IgYSB0ZXh0IGJsb2NrIG5lYXIgdGhlIHF1ZXJpZWQgeSBwb3NpdGlvblxuICAgIGZvciAobGV0IGhhbGZMaW5lID0gdmlldy5kZWZhdWx0TGluZUhlaWdodCAvIDIsIGJvdW5jZWQgPSBmYWxzZTs7KSB7XG4gICAgICAgIGJsb2NrID0gdmlldy5lbGVtZW50QXRIZWlnaHQoeU9mZnNldCk7XG4gICAgICAgIGlmIChibG9jay50eXBlID09IEJsb2NrVHlwZS5UZXh0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIC8vIE1vdmUgdGhlIHkgcG9zaXRpb24gb3V0IG9mIHRoaXMgYmxvY2tcbiAgICAgICAgICAgIHlPZmZzZXQgPSBiaWFzID4gMCA/IGJsb2NrLmJvdHRvbSArIGhhbGZMaW5lIDogYmxvY2sudG9wIC0gaGFsZkxpbmU7XG4gICAgICAgICAgICBpZiAoeU9mZnNldCA+PSAwICYmIHlPZmZzZXQgPD0gZG9jSGVpZ2h0KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGNvbnNpc3RzIGVudGlyZWx5IG9mIHJlcGxhY2VkIHdpZGdldHMsIHdlXG4gICAgICAgICAgICAvLyB3b24ndCBmaW5kIGEgdGV4dCBibG9jaywgc28gcmV0dXJuIDBcbiAgICAgICAgICAgIGlmIChib3VuY2VkKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmVjaXNlID8gbnVsbCA6IDA7XG4gICAgICAgICAgICBib3VuY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGJpYXMgPSAtYmlhcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB5ID0gZG9jVG9wICsgeU9mZnNldDtcbiAgICBsZXQgbGluZVN0YXJ0ID0gYmxvY2suZnJvbTtcbiAgICAvLyBJZiB0aGlzIGlzIG91dHNpZGUgb2YgdGhlIHJlbmRlcmVkIHZpZXdwb3J0LCB3ZSBjYW4ndCBkZXRlcm1pbmUgYSBwb3NpdGlvblxuICAgIGlmIChsaW5lU3RhcnQgPCB2aWV3LnZpZXdwb3J0LmZyb20pXG4gICAgICAgIHJldHVybiB2aWV3LnZpZXdwb3J0LmZyb20gPT0gMCA/IDAgOiBwcmVjaXNlID8gbnVsbCA6IHBvc0F0Q29vcmRzSW1wcmVjaXNlKHZpZXcsIGNvbnRlbnQsIGJsb2NrLCB4LCB5KTtcbiAgICBpZiAobGluZVN0YXJ0ID4gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIHZpZXcudmlld3BvcnQudG8gPT0gdmlldy5zdGF0ZS5kb2MubGVuZ3RoID8gdmlldy5zdGF0ZS5kb2MubGVuZ3RoIDpcbiAgICAgICAgICAgIHByZWNpc2UgPyBudWxsIDogcG9zQXRDb29yZHNJbXByZWNpc2UodmlldywgY29udGVudCwgYmxvY2ssIHgsIHkpO1xuICAgIC8vIFByZWZlciBTaGFkb3dSb290T3JEb2N1bWVudC5lbGVtZW50RnJvbVBvaW50IGlmIHByZXNlbnQsIGZhbGwgYmFjayB0byBkb2N1bWVudCBpZiBub3RcbiAgICBsZXQgZG9jID0gdmlldy5kb20ub3duZXJEb2N1bWVudDtcbiAgICBsZXQgcm9vdCA9IHZpZXcucm9vdC5lbGVtZW50RnJvbVBvaW50ID8gdmlldy5yb290IDogZG9jO1xuICAgIGxldCBlbGVtZW50ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgIGlmIChlbGVtZW50ICYmICF2aWV3LmNvbnRlbnRET00uY29udGFpbnMoZWxlbWVudCkpXG4gICAgICAgIGVsZW1lbnQgPSBudWxsO1xuICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIHVuZXhwZWN0ZWQsIGNsaXAgeCBhdCB0aGUgc2lkZXMgb2YgdGhlIGNvbnRlbnQgYXJlYSBhbmQgdHJ5IGFnYWluXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHggPSBNYXRoLm1heChjb250ZW50LmxlZnQgKyAxLCBNYXRoLm1pbihjb250ZW50LnJpZ2h0IC0gMSwgeCkpO1xuICAgICAgICBlbGVtZW50ID0gcm9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgICBpZiAoZWxlbWVudCAmJiAhdmlldy5jb250ZW50RE9NLmNvbnRhaW5zKGVsZW1lbnQpKVxuICAgICAgICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIC8vIFRoZXJlJ3MgdmlzaWJsZSBlZGl0b3IgY29udGVudCB1bmRlciB0aGUgcG9pbnQsIHNvIHdlIGNhbiB0cnlcbiAgICAvLyB1c2luZyBjYXJldChQb3NpdGlvbnxSYW5nZSlGcm9tUG9pbnQgYXMgYSBzaG9ydGN1dFxuICAgIGxldCBub2RlLCBvZmZzZXQgPSAtMTtcbiAgICBpZiAoZWxlbWVudCAmJiAoKF9hID0gdmlldy5kb2NWaWV3Lm5lYXJlc3QoZWxlbWVudCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0VkaXRhYmxlKSAhPSBmYWxzZSkge1xuICAgICAgICBpZiAoZG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQpIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBkb2MuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgICAgIGlmIChwb3MpXG4gICAgICAgICAgICAgICAgKHsgb2Zmc2V0Tm9kZTogbm9kZSwgb2Zmc2V0IH0gPSBwb3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvYy5jYXJldFJhbmdlRnJvbVBvaW50KSB7XG4gICAgICAgICAgICBsZXQgcmFuZ2UgPSBkb2MuY2FyZXRSYW5nZUZyb21Qb2ludCh4LCB5KTtcbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgICh7IHN0YXJ0Q29udGFpbmVyOiBub2RlLCBzdGFydE9mZnNldDogb2Zmc2V0IH0gPSByYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3LmNvbnRlbnRET00uY29udGFpbnMobm9kZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgYnJvd3Nlci5zYWZhcmkgJiYgaXNTdXNwaWNpb3VzU2FmYXJpQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSB8fFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyLmNocm9tZSAmJiBpc1N1c3BpY2lvdXNDaHJvbWVDYXJldFJlc3VsdChub2RlLCBvZmZzZXQsIHgpKVxuICAgICAgICAgICAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5vIGx1Y2ssIGRvIG91ciBvd24gKHBvdGVudGlhbGx5IGV4cGVuc2l2ZSkgc2VhcmNoXG4gICAgaWYgKCFub2RlIHx8ICF2aWV3LmRvY1ZpZXcuZG9tLmNvbnRhaW5zKG5vZGUpKSB7XG4gICAgICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIGxpbmVTdGFydCk7XG4gICAgICAgIGlmICghbGluZSlcbiAgICAgICAgICAgIHJldHVybiB5T2Zmc2V0ID4gYmxvY2sudG9wICsgYmxvY2suaGVpZ2h0IC8gMiA/IGJsb2NrLnRvIDogYmxvY2suZnJvbTtcbiAgICAgICAgKHsgbm9kZSwgb2Zmc2V0IH0gPSBkb21Qb3NBdENvb3JkcyhsaW5lLmRvbSwgeCwgeSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmlldy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0KTtcbn1cbmZ1bmN0aW9uIHBvc0F0Q29vcmRzSW1wcmVjaXNlKHZpZXcsIGNvbnRlbnRSZWN0LCBibG9jaywgeCwgeSkge1xuICAgIGxldCBpbnRvID0gTWF0aC5yb3VuZCgoeCAtIGNvbnRlbnRSZWN0LmxlZnQpICogdmlldy5kZWZhdWx0Q2hhcmFjdGVyV2lkdGgpO1xuICAgIGlmICh2aWV3LmxpbmVXcmFwcGluZyAmJiBibG9jay5oZWlnaHQgPiB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0ICogMS41KSB7XG4gICAgICAgIGxldCBsaW5lID0gTWF0aC5mbG9vcigoeSAtIGJsb2NrLnRvcCkgLyB2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0KTtcbiAgICAgICAgaW50byArPSBsaW5lICogdmlldy52aWV3U3RhdGUuaGVpZ2h0T3JhY2xlLmxpbmVMZW5ndGg7XG4gICAgfVxuICAgIGxldCBjb250ZW50ID0gdmlldy5zdGF0ZS5zbGljZURvYyhibG9jay5mcm9tLCBibG9jay50byk7XG4gICAgcmV0dXJuIGJsb2NrLmZyb20gKyBmaW5kQ29sdW1uKGNvbnRlbnQsIGludG8sIHZpZXcuc3RhdGUudGFiU2l6ZSk7XG59XG4vLyBJbiBjYXNlIG9mIGEgaGlnaCBsaW5lIGhlaWdodCwgU2FmYXJpJ3MgY2FyZXRSYW5nZUZyb21Qb2ludCB0cmVhdHNcbi8vIHRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzIGFzIGJlbG9uZ2luZyB0byB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlXG4vLyBsaW5lIGJlZm9yZS4gVGhpcyBpcyB1c2VkIHRvIGRldGVjdCBzdWNoIGEgcmVzdWx0IHNvIHRoYXQgaXQgY2FuIGJlXG4vLyBpZ25vcmVkIChpc3N1ZSAjNDAxKS5cbmZ1bmN0aW9uIGlzU3VzcGljaW91c1NhZmFyaUNhcmV0UmVzdWx0KG5vZGUsIG9mZnNldCwgeCkge1xuICAgIGxldCBsZW47XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMyB8fCBvZmZzZXQgIT0gKGxlbiA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZzsgbmV4dDsgbmV4dCA9IG5leHQubmV4dFNpYmxpbmcpXG4gICAgICAgIGlmIChuZXh0Lm5vZGVUeXBlICE9IDEgfHwgbmV4dC5ub2RlTmFtZSAhPSBcIkJSXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRleHRSYW5nZShub2RlLCBsZW4gLSAxLCBsZW4pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgPiB4O1xufVxuLy8gQ2hyb21lIHdpbGwgbW92ZSBwb3NpdGlvbnMgYmV0d2VlbiBsaW5lcyB0byB0aGUgc3RhcnQgb2YgdGhlIG5leHQgbGluZVxuZnVuY3Rpb24gaXNTdXNwaWNpb3VzQ2hyb21lQ2FyZXRSZXN1bHQobm9kZSwgb2Zmc2V0LCB4KSB7XG4gICAgaWYgKG9mZnNldCAhPSAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgY3VyID0gbm9kZTs7KSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSBjdXIucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKCFwYXJlbnQgfHwgcGFyZW50Lm5vZGVUeXBlICE9IDEgfHwgcGFyZW50LmZpcnN0Q2hpbGQgIT0gY3VyKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhcImNtLWxpbmVcIikpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY3VyID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgcmVjdCA9IG5vZGUubm9kZVR5cGUgPT0gMSA/IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgOiB0ZXh0UmFuZ2Uobm9kZSwgMCwgTWF0aC5tYXgobm9kZS5ub2RlVmFsdWUubGVuZ3RoLCAxKSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHggLSByZWN0LmxlZnQgPiA1O1xufVxuZnVuY3Rpb24gbW92ZVRvTGluZUJvdW5kYXJ5KHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCkge1xuICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHN0YXJ0LmhlYWQpO1xuICAgIGxldCBjb29yZHMgPSAhaW5jbHVkZVdyYXAgfHwgIXZpZXcubGluZVdyYXBwaW5nID8gbnVsbFxuICAgICAgICA6IHZpZXcuY29vcmRzQXRQb3Moc3RhcnQuYXNzb2MgPCAwICYmIHN0YXJ0LmhlYWQgPiBsaW5lLmZyb20gPyBzdGFydC5oZWFkIC0gMSA6IHN0YXJ0LmhlYWQpO1xuICAgIGlmIChjb29yZHMpIHtcbiAgICAgICAgbGV0IGVkaXRvclJlY3QgPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHZpZXcudGV4dERpcmVjdGlvbkF0KGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZm9yd2FyZCA9PSAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIpID8gZWRpdG9yUmVjdC5yaWdodCAtIDEgOiBlZGl0b3JSZWN0LmxlZnQgKyAxLFxuICAgICAgICAgICAgeTogKGNvb3Jkcy50b3AgKyBjb29yZHMuYm90dG9tKSAvIDIgfSk7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgZm9yd2FyZCA/IC0xIDogMSk7XG4gICAgfVxuICAgIGxldCBsaW5lVmlldyA9IExpbmVWaWV3LmZpbmQodmlldy5kb2NWaWV3LCBzdGFydC5oZWFkKTtcbiAgICBsZXQgZW5kID0gbGluZVZpZXcgPyAoZm9yd2FyZCA/IGxpbmVWaWV3LnBvc0F0RW5kIDogbGluZVZpZXcucG9zQXRTdGFydCkgOiAoZm9yd2FyZCA/IGxpbmUudG8gOiBsaW5lLmZyb20pO1xuICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGVuZCwgZm9yd2FyZCA/IC0xIDogMSk7XG59XG5mdW5jdGlvbiBtb3ZlQnlDaGFyKHZpZXcsIHN0YXJ0LCBmb3J3YXJkLCBieSkge1xuICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHN0YXJ0LmhlYWQpLCBzcGFucyA9IHZpZXcuYmlkaVNwYW5zKGxpbmUpO1xuICAgIGxldCBkaXJlY3Rpb24gPSB2aWV3LnRleHREaXJlY3Rpb25BdChsaW5lLmZyb20pO1xuICAgIGZvciAobGV0IGN1ciA9IHN0YXJ0LCBjaGVjayA9IG51bGw7Oykge1xuICAgICAgICBsZXQgbmV4dCA9IG1vdmVWaXN1YWxseShsaW5lLCBzcGFucywgZGlyZWN0aW9uLCBjdXIsIGZvcndhcmQpLCBjaGFyID0gbW92ZWRPdmVyO1xuICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgIGlmIChsaW5lLm51bWJlciA9PSAoZm9yd2FyZCA/IHZpZXcuc3RhdGUuZG9jLmxpbmVzIDogMSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgIGNoYXIgPSBcIlxcblwiO1xuICAgICAgICAgICAgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmUobGluZS5udW1iZXIgKyAoZm9yd2FyZCA/IDEgOiAtMSkpO1xuICAgICAgICAgICAgc3BhbnMgPSB2aWV3LmJpZGlTcGFucyhsaW5lKTtcbiAgICAgICAgICAgIG5leHQgPSBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZvcndhcmQgPyBsaW5lLmZyb20gOiBsaW5lLnRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoZWNrKSB7XG4gICAgICAgICAgICBpZiAoIWJ5KVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgY2hlY2sgPSBieShjaGFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghY2hlY2soY2hhcikpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG59XG5mdW5jdGlvbiBieUdyb3VwKHZpZXcsIHBvcywgc3RhcnQpIHtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHZpZXcuc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgbGV0IGNhdCA9IGNhdGVnb3JpemUoc3RhcnQpO1xuICAgIHJldHVybiAobmV4dCkgPT4ge1xuICAgICAgICBsZXQgbmV4dENhdCA9IGNhdGVnb3JpemUobmV4dCk7XG4gICAgICAgIGlmIChjYXQgPT0gQ2hhckNhdGVnb3J5LlNwYWNlKVxuICAgICAgICAgICAgY2F0ID0gbmV4dENhdDtcbiAgICAgICAgcmV0dXJuIGNhdCA9PSBuZXh0Q2F0O1xuICAgIH07XG59XG5mdW5jdGlvbiBtb3ZlVmVydGljYWxseSh2aWV3LCBzdGFydCwgZm9yd2FyZCwgZGlzdGFuY2UpIHtcbiAgICBsZXQgc3RhcnRQb3MgPSBzdGFydC5oZWFkLCBkaXIgPSBmb3J3YXJkID8gMSA6IC0xO1xuICAgIGlmIChzdGFydFBvcyA9PSAoZm9yd2FyZCA/IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCA6IDApKVxuICAgICAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihzdGFydFBvcywgc3RhcnQuYXNzb2MpO1xuICAgIGxldCBnb2FsID0gc3RhcnQuZ29hbENvbHVtbiwgc3RhcnRZO1xuICAgIGxldCByZWN0ID0gdmlldy5jb250ZW50RE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBzdGFydENvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3Moc3RhcnRQb3MpLCBkb2NUb3AgPSB2aWV3LmRvY3VtZW50VG9wO1xuICAgIGlmIChzdGFydENvb3Jkcykge1xuICAgICAgICBpZiAoZ29hbCA9PSBudWxsKVxuICAgICAgICAgICAgZ29hbCA9IHN0YXJ0Q29vcmRzLmxlZnQgLSByZWN0LmxlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGRpciA8IDAgPyBzdGFydENvb3Jkcy50b3AgOiBzdGFydENvb3Jkcy5ib3R0b207XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgbGluZSA9IHZpZXcudmlld1N0YXRlLmxpbmVCbG9ja0F0KHN0YXJ0UG9zKTtcbiAgICAgICAgaWYgKGdvYWwgPT0gbnVsbClcbiAgICAgICAgICAgIGdvYWwgPSBNYXRoLm1pbihyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LCB2aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aCAqIChzdGFydFBvcyAtIGxpbmUuZnJvbSkpO1xuICAgICAgICBzdGFydFkgPSAoZGlyIDwgMCA/IGxpbmUudG9wIDogbGluZS5ib3R0b20pICsgZG9jVG9wO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZWRHb2FsID0gcmVjdC5sZWZ0ICsgZ29hbDtcbiAgICBsZXQgZGlzdCA9IGRpc3RhbmNlICE9PSBudWxsICYmIGRpc3RhbmNlICE9PSB2b2lkIDAgPyBkaXN0YW5jZSA6ICh2aWV3LmRlZmF1bHRMaW5lSGVpZ2h0ID4+IDEpO1xuICAgIGZvciAobGV0IGV4dHJhID0gMDs7IGV4dHJhICs9IDEwKSB7XG4gICAgICAgIGxldCBjdXJZID0gc3RhcnRZICsgKGRpc3QgKyBleHRyYSkgKiBkaXI7XG4gICAgICAgIGxldCBwb3MgPSBwb3NBdENvb3Jkcyh2aWV3LCB7IHg6IHJlc29sdmVkR29hbCwgeTogY3VyWSB9LCBmYWxzZSwgZGlyKTtcbiAgICAgICAgaWYgKGN1clkgPCByZWN0LnRvcCB8fCBjdXJZID4gcmVjdC5ib3R0b20gfHwgKGRpciA8IDAgPyBwb3MgPCBzdGFydFBvcyA6IHBvcyA+IHN0YXJ0UG9zKSlcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcywgc3RhcnQuYXNzb2MsIHVuZGVmaW5lZCwgZ29hbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2tpcEF0b21zKHZpZXcsIG9sZFBvcywgcG9zKSB7XG4gICAgbGV0IGF0b21zID0gdmlldy5zdGF0ZS5mYWNldChhdG9taWNSYW5nZXMpLm1hcChmID0+IGYodmlldykpO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHNldCBvZiBhdG9tcykge1xuICAgICAgICAgICAgc2V0LmJldHdlZW4ocG9zLmZyb20gLSAxLCBwb3MuZnJvbSArIDEsIChmcm9tLCB0bywgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocG9zLmZyb20gPiBmcm9tICYmIHBvcy5mcm9tIDwgdG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gb2xkUG9zLmhlYWQgPiBwb3MuZnJvbSA/IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZnJvbSwgMSkgOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHRvLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vdmVkKVxuICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG59XG5cbi8vIFRoaXMgd2lsbCBhbHNvIGJlIHdoZXJlIGRyYWdnaW5nIGluZm8gYW5kIHN1Y2ggZ29lc1xuY2xhc3MgSW5wdXRTdGF0ZSB7XG4gICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlID0gMDtcbiAgICAgICAgdGhpcy5sYXN0S2V5VGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFRvdWNoVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSAwO1xuICAgICAgICB0aGlzLmNocm9tZVNjcm9sbEhhY2sgPSAtMTtcbiAgICAgICAgLy8gT24gaU9TLCBzb21lIGtleXMgbmVlZCB0byBoYXZlIHRoZWlyIGRlZmF1bHQgYmVoYXZpb3IgaGFwcGVuXG4gICAgICAgIC8vIChhZnRlciB3aGljaCB3ZSByZXRyb2FjdGl2ZWx5IGhhbmRsZSB0aGVtIGFuZCByZXNldCB0aGUgRE9NKSB0b1xuICAgICAgICAvLyBhdm9pZCBtZXNzaW5nIHVwIHRoZSB2aXJ0dWFsIGtleWJvYXJkIHN0YXRlLlxuICAgICAgICB0aGlzLnBlbmRpbmdJT1NLZXkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgICAgICB0aGlzLmxhc3RFc2NQcmVzcyA9IDA7XG4gICAgICAgIHRoaXMubGFzdENvbnRleHRNZW51ID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxIYW5kbGVycyA9IFtdO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXN0b21IYW5kbGVycyA9IFtdO1xuICAgICAgICAvLyAtMSBtZWFucyBub3QgaW4gYSBjb21wb3NpdGlvbi4gT3RoZXJ3aXNlLCB0aGlzIGNvdW50cyB0aGUgbnVtYmVyXG4gICAgICAgIC8vIG9mIGNoYW5nZXMgbWFkZSBkdXJpbmcgdGhlIGNvbXBvc2l0aW9uLiBUaGUgY291bnQgaXMgdXNlZCB0b1xuICAgICAgICAvLyBhdm9pZCB0cmVhdGluZyB0aGUgc3RhcnQgc3RhdGUgb2YgdGhlIGNvbXBvc2l0aW9uLCBiZWZvcmUgYW55XG4gICAgICAgIC8vIGNoYW5nZXMgaGF2ZSBiZWVuIG1hZGUsIGFzIHBhcnQgb2YgdGhlIGNvbXBvc2l0aW9uLlxuICAgICAgICB0aGlzLmNvbXBvc2luZyA9IC0xO1xuICAgICAgICAvLyBUcmFja3Mgd2hldGhlciB0aGUgbmV4dCBjaGFuZ2Ugc2hvdWxkIGJlIG1hcmtlZCBhcyBzdGFydGluZyB0aGVcbiAgICAgICAgLy8gY29tcG9zaXRpb24gKG51bGwgbWVhbnMgbm8gY29tcG9zaXRpb24sIHRydWUgbWVhbnMgbmV4dCBpcyB0aGVcbiAgICAgICAgLy8gZmlyc3QsIGZhbHNlIG1lYW5zIGZpcnN0IGhhcyBhbHJlYWR5IGJlZW4gbWFya2VkIGZvciB0aGlzXG4gICAgICAgIC8vIGNvbXBvc2l0aW9uKVxuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBvc2l0aW9uRW5kZWRBdCA9IDA7XG4gICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IGhhbmRsZXJzW3R5cGVdO1xuICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudEJlbG9uZ3NUb0VkaXRvcih2aWV3LCBldmVudCkgfHwgdGhpcy5pZ25vcmVEdXJpbmdDb21wb3NpdGlvbihldmVudCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcImtleWRvd25cIiAmJiB0aGlzLmtleWRvd24odmlldywgZXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubXVzdEZsdXNoT2JzZXJ2ZXIoZXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICB2aWV3Lm9ic2VydmVyLmZvcmNlRmx1c2goKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ydW5DdXN0b21IYW5kbGVycyh0eXBlLCB2aWV3LCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKHZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIH0sIGhhbmRsZXJPcHRpb25zW3R5cGVdKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZEV2ZW50cy5wdXNoKHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChicm93c2VyLmNocm9tZSAmJiBicm93c2VyLmNocm9tZV92ZXJzaW9uID09IDEwMikgeyAvLyBGSVhNRSByZW1vdmUgYXQgc29tZSBwb2ludFxuICAgICAgICAgICAgLy8gT24gQ2hyb21lIDEwMiwgdmlld3BvcnQgdXBkYXRlcyBzb21laG93IHN0b3Agd2hlZWwtYmFzZWRcbiAgICAgICAgICAgIC8vIHNjcm9sbGluZy4gVHVybmluZyBvZmYgcG9pbnRlciBldmVudHMgZHVyaW5nIHRoZSBzY3JvbGwgc2VlbXNcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIHRoZSBpc3N1ZS5cbiAgICAgICAgICAgIHZpZXcuc2Nyb2xsRE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hyb21lU2Nyb2xsSGFjayA8IDApXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuY29udGVudERPTS5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuY2hyb21lU2Nyb2xsSGFjayk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHJvbWVTY3JvbGxIYWNrID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hyb21lU2Nyb2xsSGFjayA9IC0xO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmaWVkRm9jdXNlZCA9IHZpZXcuaGFzRm9jdXM7XG4gICAgICAgIC8vIE9uIFNhZmFyaSBhZGRpbmcgYW4gaW5wdXQgZXZlbnQgaGFuZGxlciBzb21laG93IHByZXZlbnRzIGFuXG4gICAgICAgIC8vIGlzc3VlIHdoZXJlIHRoZSBjb21wb3NpdGlvbiB2YW5pc2hlcyB3aGVuIHlvdSBwcmVzcyBlbnRlci5cbiAgICAgICAgaWYgKGJyb3dzZXIuc2FmYXJpKVxuICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiBudWxsKTtcbiAgICB9XG4gICAgc2V0U2VsZWN0aW9uT3JpZ2luKG9yaWdpbikge1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3Rpb25PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSBEYXRlLm5vdygpO1xuICAgIH1cbiAgICBlbnN1cmVIYW5kbGVycyh2aWV3LCBwbHVnaW5zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGhhbmRsZXJzO1xuICAgICAgICB0aGlzLmN1c3RvbUhhbmRsZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiBwbHVnaW5zKVxuICAgICAgICAgICAgaWYgKGhhbmRsZXJzID0gKF9hID0gcGx1Z2luLnVwZGF0ZSh2aWV3KS5zcGVjKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZG9tRXZlbnRIYW5kbGVycykge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tSGFuZGxlcnMucHVzaCh7IHBsdWdpbjogcGx1Z2luLnZhbHVlLCBoYW5kbGVycyB9KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0eXBlIGluIGhhbmRsZXJzKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWdpc3RlcmVkRXZlbnRzLmluZGV4T2YodHlwZSkgPCAwICYmIHR5cGUgIT0gXCJzY3JvbGxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlcmVkRXZlbnRzLnB1c2godHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmNvbnRlbnRET00uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50QmVsb25nc1RvRWRpdG9yKHZpZXcsIGV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJ1bkN1c3RvbUhhbmRsZXJzKHR5cGUsIHZpZXcsIGV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHJ1bkN1c3RvbUhhbmRsZXJzKHR5cGUsIHZpZXcsIGV2ZW50KSB7XG4gICAgICAgIGZvciAobGV0IHNldCBvZiB0aGlzLmN1c3RvbUhhbmRsZXJzKSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IHNldC5oYW5kbGVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuY2FsbChzZXQucGx1Z2luLCBldmVudCwgdmlldykgfHwgZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dFeGNlcHRpb24odmlldy5zdGF0ZSwgZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcnVuU2Nyb2xsSGFuZGxlcnModmlldywgZXZlbnQpIHtcbiAgICAgICAgdGhpcy5sYXN0U2Nyb2xsVG9wID0gdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wO1xuICAgICAgICB0aGlzLmxhc3RTY3JvbGxMZWZ0ID0gdmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdDtcbiAgICAgICAgZm9yIChsZXQgc2V0IG9mIHRoaXMuY3VzdG9tSGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGxldCBoYW5kbGVyID0gc2V0LmhhbmRsZXJzLnNjcm9sbDtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsKHNldC5wbHVnaW4sIGV2ZW50LCB2aWV3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHZpZXcuc3RhdGUsIGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBrZXlkb3duKHZpZXcsIGV2ZW50KSB7XG4gICAgICAgIC8vIE11c3QgYWx3YXlzIHJ1biwgZXZlbiBpZiBhIGN1c3RvbSBoYW5kbGVyIGhhbmRsZWQgdGhlIGV2ZW50XG4gICAgICAgIHRoaXMubGFzdEtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgICB0aGlzLmxhc3RLZXlUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gOSAmJiBEYXRlLm5vdygpIDwgdGhpcy5sYXN0RXNjUHJlc3MgKyAyMDAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIENocm9tZSBmb3IgQW5kcm9pZCB1c3VhbGx5IGRvZXNuJ3QgZmlyZSBwcm9wZXIga2V5IGV2ZW50cywgYnV0XG4gICAgICAgIC8vIG9jY2FzaW9uYWxseSBkb2VzLCB1c3VhbGx5IHN1cnJvdW5kZWQgYnkgYSBidW5jaCBvZiBjb21wbGljYXRlZFxuICAgICAgICAvLyBjb21wb3NpdGlvbiBjaGFuZ2VzLiBXaGVuIGFuIGVudGVyIG9yIGJhY2tzcGFjZSBrZXkgZXZlbnQgaXNcbiAgICAgICAgLy8gc2VlbiwgaG9sZCBvZmYgb24gaGFuZGxpbmcgRE9NIGV2ZW50cyBmb3IgYSBiaXQsIGFuZCB0aGVuXG4gICAgICAgIC8vIGRpc3BhdGNoIGl0LlxuICAgICAgICBpZiAoYnJvd3Nlci5hbmRyb2lkICYmIGJyb3dzZXIuY2hyb21lICYmICFldmVudC5zeW50aGV0aWMgJiZcbiAgICAgICAgICAgIChldmVudC5rZXlDb2RlID09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT0gOCkpIHtcbiAgICAgICAgICAgIHZpZXcub2JzZXJ2ZXIuZGVsYXlBbmRyb2lkS2V5KGV2ZW50LmtleSwgZXZlbnQua2V5Q29kZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIEVudGVyIG9uIGlPUyBtYWtlcyB0aGVcbiAgICAgICAgLy8gdmlydHVhbCBrZXlib2FyZCBnZXQgc3R1Y2sgaW4gdGhlIHdyb25nIChsb3dlcmNhc2UpXG4gICAgICAgIC8vIHN0YXRlLiBTbyB3ZSBsZXQgaXQgZ28gdGhyb3VnaCwgYW5kIHRoZW4sIGluXG4gICAgICAgIC8vIGFwcGx5RE9NQ2hhbmdlLCBub3RpZnkga2V5IGhhbmRsZXJzIG9mIGl0IGFuZCByZXNldCB0b1xuICAgICAgICAvLyB0aGUgc3RhdGUgdGhleSBwcm9kdWNlLlxuICAgICAgICBsZXQgcGVuZGluZztcbiAgICAgICAgaWYgKGJyb3dzZXIuaW9zICYmICFldmVudC5zeW50aGV0aWMgJiYgIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQubWV0YUtleSAmJlxuICAgICAgICAgICAgKChwZW5kaW5nID0gUGVuZGluZ0tleXMuZmluZChrZXkgPT4ga2V5LmtleUNvZGUgPT0gZXZlbnQua2V5Q29kZSkpICYmICFldmVudC5jdHJsS2V5IHx8XG4gICAgICAgICAgICAgICAgRW1hY3N5UGVuZGluZ0tleXMuaW5kZXhPZihldmVudC5rZXkpID4gLTEgJiYgZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuc2hpZnRLZXkpKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdJT1NLZXkgPSBwZW5kaW5nIHx8IGV2ZW50O1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmZsdXNoSU9TS2V5KHZpZXcpLCAyNTApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmbHVzaElPU0tleSh2aWV3KSB7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLnBlbmRpbmdJT1NLZXk7XG4gICAgICAgIGlmICgha2V5KVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdJT1NLZXkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIGtleS5rZXksIGtleS5rZXlDb2RlKTtcbiAgICB9XG4gICAgaWdub3JlRHVyaW5nQ29tcG9zaXRpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCEvXmtleS8udGVzdChldmVudC50eXBlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9zaW5nID4gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBTZWUgaHR0cHM6Ly93d3cuc3R1bS5kZS8yMDE2LzA2LzI0L2hhbmRsaW5nLWltZS1ldmVudHMtaW4tamF2YXNjcmlwdC8uXG4gICAgICAgIC8vIE9uIHNvbWUgaW5wdXQgbWV0aG9kIGVkaXRvcnMgKElNRXMpLCB0aGUgRW50ZXIga2V5IGlzIHVzZWQgdG9cbiAgICAgICAgLy8gY29uZmlybSBjaGFyYWN0ZXIgc2VsZWN0aW9uLiBPbiBTYWZhcmksIHdoZW4gRW50ZXIgaXMgcHJlc3NlZCxcbiAgICAgICAgLy8gY29tcG9zaXRpb25lbmQgYW5kIGtleWRvd24gZXZlbnRzIGFyZSBzb21ldGltZXMgZW1pdHRlZCBpbiB0aGVcbiAgICAgICAgLy8gd3Jvbmcgb3JkZXIuIFRoZSBrZXkgZXZlbnQgc2hvdWxkIHN0aWxsIGJlIGlnbm9yZWQsIGV2ZW4gd2hlblxuICAgICAgICAvLyBpdCBoYXBwZW5zIGFmdGVyIHRoZSBjb21wb3NpdGlvbmVuZCBldmVudC5cbiAgICAgICAgaWYgKGJyb3dzZXIuc2FmYXJpICYmICFicm93c2VyLmlvcyAmJiBEYXRlLm5vdygpIC0gdGhpcy5jb21wb3NpdGlvbkVuZGVkQXQgPCAxMDApIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9zaXRpb25FbmRlZEF0ID0gMDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbXVzdEZsdXNoT2JzZXJ2ZXIoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT0gXCJrZXlkb3duXCIgJiYgZXZlbnQua2V5Q29kZSAhPSAyMjk7XG4gICAgfVxuICAgIHN0YXJ0TW91c2VTZWxlY3Rpb24obW91c2VTZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHRoaXMubW91c2VTZWxlY3Rpb24pXG4gICAgICAgICAgICB0aGlzLm1vdXNlU2VsZWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbiA9IG1vdXNlU2VsZWN0aW9uO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLm1vdXNlU2VsZWN0aW9uKVxuICAgICAgICAgICAgdGhpcy5tb3VzZVNlbGVjdGlvbi51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgaWYgKHVwZGF0ZS50cmFuc2FjdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5sYXN0S2V5Q29kZSA9IHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5tb3VzZVNlbGVjdGlvbilcbiAgICAgICAgICAgIHRoaXMubW91c2VTZWxlY3Rpb24uZGVzdHJveSgpO1xuICAgIH1cbn1cbmNvbnN0IFBlbmRpbmdLZXlzID0gW1xuICAgIHsga2V5OiBcIkJhY2tzcGFjZVwiLCBrZXlDb2RlOiA4LCBpbnB1dFR5cGU6IFwiZGVsZXRlQ29udGVudEJhY2t3YXJkXCIgfSxcbiAgICB7IGtleTogXCJFbnRlclwiLCBrZXlDb2RlOiAxMywgaW5wdXRUeXBlOiBcImluc2VydFBhcmFncmFwaFwiIH0sXG4gICAgeyBrZXk6IFwiRGVsZXRlXCIsIGtleUNvZGU6IDQ2LCBpbnB1dFR5cGU6IFwiZGVsZXRlQ29udGVudEZvcndhcmRcIiB9XG5dO1xuY29uc3QgRW1hY3N5UGVuZGluZ0tleXMgPSBcImR0aGtvXCI7XG4vLyBLZXkgY29kZXMgZm9yIG1vZGlmaWVyIGtleXNcbmNvbnN0IG1vZGlmaWVyQ29kZXMgPSBbMTYsIDE3LCAxOCwgMjAsIDkxLCA5MiwgMjI0LCAyMjVdO1xuY2xhc3MgTW91c2VTZWxlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXJ0RXZlbnQsIHN0eWxlLCBtdXN0U2VsZWN0KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgdGhpcy5tdXN0U2VsZWN0ID0gbXVzdFNlbGVjdDtcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgPSBzdGFydEV2ZW50O1xuICAgICAgICBsZXQgZG9jID0gdmlldy5jb250ZW50RE9NLm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW92ZSA9IHRoaXMubW92ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMudXAgPSB0aGlzLnVwLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV4dGVuZCA9IHN0YXJ0RXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIHRoaXMubXVsdGlwbGUgPSB2aWV3LnN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLmFsbG93TXVsdGlwbGVTZWxlY3Rpb25zKSAmJiBhZGRzU2VsZWN0aW9uUmFuZ2Uodmlldywgc3RhcnRFdmVudCk7XG4gICAgICAgIHRoaXMuZHJhZ01vdmUgPSBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgc3RhcnRFdmVudCk7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBpc0luUHJpbWFyeVNlbGVjdGlvbih2aWV3LCBzdGFydEV2ZW50KSAmJiBnZXRDbGlja1R5cGUoc3RhcnRFdmVudCkgPT0gMSA/IG51bGwgOiBmYWxzZTtcbiAgICAgICAgLy8gV2hlbiBjbGlja2luZyBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb24sIGltbWVkaWF0ZWx5IGFwcGx5IHRoZVxuICAgICAgICAvLyBlZmZlY3Qgb2Ygc3RhcnRpbmcgdGhlIHNlbGVjdGlvblxuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0YXJ0RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHN0YXJ0RXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgIT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnNlbGVjdCh0aGlzLmxhc3RFdmVudCA9IGV2ZW50KTtcbiAgICB9XG4gICAgdXAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KHRoaXMubGFzdEV2ZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLmRyYWdnaW5nKVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGxldCBkb2MgPSB0aGlzLnZpZXcuY29udGVudERPTS5vd25lckRvY3VtZW50O1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy51cCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLm1vdXNlU2VsZWN0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgc2VsZWN0KGV2ZW50KSB7XG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSB0aGlzLnN0eWxlLmdldChldmVudCwgdGhpcy5leHRlbmQsIHRoaXMubXVsdGlwbGUpO1xuICAgICAgICBpZiAodGhpcy5tdXN0U2VsZWN0IHx8ICFzZWxlY3Rpb24uZXEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbikgfHxcbiAgICAgICAgICAgIHNlbGVjdGlvbi5tYWluLmFzc29jICE9IHRoaXMudmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hc3NvYylcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogXCJzZWxlY3QucG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXN0U2VsZWN0ID0gZmFsc2U7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkICYmIHRoaXMuZHJhZ2dpbmcpXG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gdGhpcy5kcmFnZ2luZy5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICBpZiAodGhpcy5zdHlsZS51cGRhdGUodXBkYXRlKSlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZWxlY3QodGhpcy5sYXN0RXZlbnQpLCAyMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkc1NlbGVjdGlvblJhbmdlKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IGZhY2V0ID0gdmlldy5zdGF0ZS5mYWNldChjbGlja0FkZHNTZWxlY3Rpb25SYW5nZSk7XG4gICAgcmV0dXJuIGZhY2V0Lmxlbmd0aCA/IGZhY2V0WzBdKGV2ZW50KSA6IGJyb3dzZXIubWFjID8gZXZlbnQubWV0YUtleSA6IGV2ZW50LmN0cmxLZXk7XG59XG5mdW5jdGlvbiBkcmFnTW92ZXNTZWxlY3Rpb24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgZmFjZXQgPSB2aWV3LnN0YXRlLmZhY2V0KGRyYWdNb3Zlc1NlbGVjdGlvbiQxKTtcbiAgICByZXR1cm4gZmFjZXQubGVuZ3RoID8gZmFjZXRbMF0oZXZlbnQpIDogYnJvd3Nlci5tYWMgPyAhZXZlbnQuYWx0S2V5IDogIWV2ZW50LmN0cmxLZXk7XG59XG5mdW5jdGlvbiBpc0luUHJpbWFyeVNlbGVjdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCB7IG1haW4gfSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChtYWluLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gT24gYm91bmRhcnkgY2xpY2tzLCBjaGVjayB3aGV0aGVyIHRoZSBjb29yZGluYXRlcyBhcmUgaW5zaWRlIHRoZVxuICAgIC8vIHNlbGVjdGlvbidzIGNsaWVudCByZWN0YW5nbGVzXG4gICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbih2aWV3LnJvb3QpO1xuICAgIGlmICghc2VsIHx8IHNlbC5yYW5nZUNvdW50ID09IDApXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGxldCByZWN0cyA9IHNlbC5nZXRSYW5nZUF0KDApLmdldENsaWVudFJlY3RzKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICBpZiAocmVjdC5sZWZ0IDw9IGV2ZW50LmNsaWVudFggJiYgcmVjdC5yaWdodCA+PSBldmVudC5jbGllbnRYICYmXG4gICAgICAgICAgICByZWN0LnRvcCA8PSBldmVudC5jbGllbnRZICYmIHJlY3QuYm90dG9tID49IGV2ZW50LmNsaWVudFkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZXZlbnRCZWxvbmdzVG9FZGl0b3IodmlldywgZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmJ1YmJsZXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgbm9kZSA9IGV2ZW50LnRhcmdldCwgY1ZpZXc7IG5vZGUgIT0gdmlldy5jb250ZW50RE9NOyBub2RlID0gbm9kZS5wYXJlbnROb2RlKVxuICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSA9PSAxMSB8fCAoKGNWaWV3ID0gQ29udGVudFZpZXcuZ2V0KG5vZGUpKSAmJiBjVmlldy5pZ25vcmVFdmVudChldmVudCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuY29uc3QgaGFuZGxlcnMgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmNvbnN0IGhhbmRsZXJPcHRpb25zID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG4vLyBUaGlzIGlzIHZlcnkgY3J1ZGUsIGJ1dCB1bmZvcnR1bmF0ZWx5IGJvdGggdGhlc2UgYnJvd3NlcnMgX3ByZXRlbmRfXG4vLyB0aGF0IHRoZXkgaGF2ZSBhIGNsaXBib2FyZCBBUElcdTIwMTRhbGwgdGhlIG9iamVjdHMgYW5kIG1ldGhvZHMgYXJlXG4vLyB0aGVyZSwgdGhleSBqdXN0IGRvbid0IHdvcmssIGFuZCB0aGV5IGFyZSBoYXJkIHRvIHRlc3QuXG5jb25zdCBicm9rZW5DbGlwYm9hcmRBUEkgPSAoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPCAxNSkgfHxcbiAgICAoYnJvd3Nlci5pb3MgJiYgYnJvd3Nlci53ZWJraXRfdmVyc2lvbiA8IDYwNCk7XG5mdW5jdGlvbiBjYXB0dXJlUGFzdGUodmlldykge1xuICAgIGxldCBwYXJlbnQgPSB2aWV3LmRvbS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50KVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IHRhcmdldCA9IHBhcmVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIikpO1xuICAgIHRhcmdldC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIjtcbiAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlKCk7XG4gICAgICAgIGRvUGFzdGUodmlldywgdGFyZ2V0LnZhbHVlKTtcbiAgICB9LCA1MCk7XG59XG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIGlucHV0KSB7XG4gICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGNoYW5nZXMsIGkgPSAxLCB0ZXh0ID0gc3RhdGUudG9UZXh0KGlucHV0KTtcbiAgICBsZXQgYnlMaW5lID0gdGV4dC5saW5lcyA9PSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aDtcbiAgICBsZXQgbGluZXdpc2UgPSBsYXN0TGluZXdpc2VDb3B5ICE9IG51bGwgJiYgc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5ldmVyeShyID0+IHIuZW1wdHkpICYmIGxhc3RMaW5ld2lzZUNvcHkgPT0gdGV4dC50b1N0cmluZygpO1xuICAgIGlmIChsaW5ld2lzZSkge1xuICAgICAgICBsZXQgbGFzdExpbmUgPSAtMTtcbiAgICAgICAgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pO1xuICAgICAgICAgICAgaWYgKGxpbmUuZnJvbSA9PSBsYXN0TGluZSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICAgICAgbGFzdExpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICBsZXQgaW5zZXJ0ID0gc3RhdGUudG9UZXh0KChieUxpbmUgPyB0ZXh0LmxpbmUoaSsrKS50ZXh0IDogaW5wdXQpICsgc3RhdGUubGluZUJyZWFrKTtcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgZnJvbTogbGluZS5mcm9tLCBpbnNlcnQgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tICsgaW5zZXJ0Lmxlbmd0aCkgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5TGluZSkge1xuICAgICAgICBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHRleHQubGluZShpKyspO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogbGluZS50ZXh0IH0sXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuZnJvbSArIGxpbmUubGVuZ3RoKSB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNoYW5nZXMgPSBzdGF0ZS5yZXBsYWNlU2VsZWN0aW9uKHRleHQpO1xuICAgIH1cbiAgICB2aWV3LmRpc3BhdGNoKGNoYW5nZXMsIHtcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnBhc3RlXCIsXG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlXG4gICAgfSk7XG59XG5oYW5kbGVycy5rZXlkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLnNldFNlbGVjdGlvbk9yaWdpbihcInNlbGVjdFwiKTtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAyNylcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RFc2NQcmVzcyA9IERhdGUubm93KCk7XG4gICAgZWxzZSBpZiAobW9kaWZpZXJDb2Rlcy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIDwgMClcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLmxhc3RFc2NQcmVzcyA9IDA7XG59O1xuaGFuZGxlcnMudG91Y2hzdGFydCA9ICh2aWV3LCBlKSA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RUb3VjaFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5zZXRTZWxlY3Rpb25PcmlnaW4oXCJzZWxlY3QucG9pbnRlclwiKTtcbn07XG5oYW5kbGVycy50b3VjaG1vdmUgPSB2aWV3ID0+IHtcbiAgICB2aWV3LmlucHV0U3RhdGUuc2V0U2VsZWN0aW9uT3JpZ2luKFwic2VsZWN0LnBvaW50ZXJcIik7XG59O1xuaGFuZGxlck9wdGlvbnMudG91Y2hzdGFydCA9IGhhbmRsZXJPcHRpb25zLnRvdWNobW92ZSA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuaGFuZGxlcnMubW91c2Vkb3duID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmlldy5vYnNlcnZlci5mbHVzaCgpO1xuICAgIGlmICh2aWV3LmlucHV0U3RhdGUubGFzdFRvdWNoVGltZSA+IERhdGUubm93KCkgLSAyMDAwKVxuICAgICAgICByZXR1cm47IC8vIElnbm9yZSB0b3VjaCBpbnRlcmFjdGlvblxuICAgIGxldCBzdHlsZSA9IG51bGw7XG4gICAgZm9yIChsZXQgbWFrZVN0eWxlIG9mIHZpZXcuc3RhdGUuZmFjZXQobW91c2VTZWxlY3Rpb25TdHlsZSkpIHtcbiAgICAgICAgc3R5bGUgPSBtYWtlU3R5bGUodmlldywgZXZlbnQpO1xuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKCFzdHlsZSAmJiBldmVudC5idXR0b24gPT0gMClcbiAgICAgICAgc3R5bGUgPSBiYXNpY01vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50KTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgbGV0IG11c3RGb2N1cyA9IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHZpZXcuY29udGVudERPTTtcbiAgICAgICAgaWYgKG11c3RGb2N1cylcbiAgICAgICAgICAgIHZpZXcub2JzZXJ2ZXIuaWdub3JlKCgpID0+IGZvY3VzUHJldmVudFNjcm9sbCh2aWV3LmNvbnRlbnRET00pKTtcbiAgICAgICAgdmlldy5pbnB1dFN0YXRlLnN0YXJ0TW91c2VTZWxlY3Rpb24obmV3IE1vdXNlU2VsZWN0aW9uKHZpZXcsIGV2ZW50LCBzdHlsZSwgbXVzdEZvY3VzKSk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHJhbmdlRm9yQ2xpY2sodmlldywgcG9zLCBiaWFzLCB0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gMSkgeyAvLyBTaW5nbGUgY2xpY2tcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zLCBiaWFzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PSAyKSB7IC8vIERvdWJsZSBjbGlja1xuICAgICAgICByZXR1cm4gZ3JvdXBBdCh2aWV3LnN0YXRlLCBwb3MsIGJpYXMpO1xuICAgIH1cbiAgICBlbHNlIHsgLy8gVHJpcGxlIGNsaWNrXG4gICAgICAgIGxldCB2aXN1YWwgPSBMaW5lVmlldy5maW5kKHZpZXcuZG9jVmlldywgcG9zKSwgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh2aXN1YWwgPyB2aXN1YWwucG9zQXRFbmQgOiBwb3MpO1xuICAgICAgICBsZXQgZnJvbSA9IHZpc3VhbCA/IHZpc3VhbC5wb3NBdFN0YXJ0IDogbGluZS5mcm9tLCB0byA9IHZpc3VhbCA/IHZpc3VhbC5wb3NBdEVuZCA6IGxpbmUudG87XG4gICAgICAgIGlmICh0byA8IHZpZXcuc3RhdGUuZG9jLmxlbmd0aCAmJiB0byA9PSBsaW5lLnRvKVxuICAgICAgICAgICAgdG8rKztcbiAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0byk7XG4gICAgfVxufVxubGV0IGluc2lkZVkgPSAoeSwgcmVjdCkgPT4geSA+PSByZWN0LnRvcCAmJiB5IDw9IHJlY3QuYm90dG9tO1xubGV0IGluc2lkZSA9ICh4LCB5LCByZWN0KSA9PiBpbnNpZGVZKHksIHJlY3QpICYmIHggPj0gcmVjdC5sZWZ0ICYmIHggPD0gcmVjdC5yaWdodDtcbi8vIFRyeSB0byBkZXRlcm1pbmUsIGZvciB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMsIGFzc29jaWF0ZWQgd2l0aCB0aGVcbi8vIGdpdmVuIHBvc2l0aW9uLCB3aGV0aGVyIHRoZXkgYXJlIHJlbGF0ZWQgdG8gdGhlIGVsZW1lbnQgYmVmb3JlIG9yXG4vLyB0aGUgZWxlbWVudCBhZnRlciB0aGUgcG9zaXRpb24uXG5mdW5jdGlvbiBmaW5kUG9zaXRpb25TaWRlKHZpZXcsIHBvcywgeCwgeSkge1xuICAgIGxldCBsaW5lID0gTGluZVZpZXcuZmluZCh2aWV3LmRvY1ZpZXcsIHBvcyk7XG4gICAgaWYgKCFsaW5lKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBsZXQgb2ZmID0gcG9zIC0gbGluZS5wb3NBdFN0YXJ0O1xuICAgIC8vIExpbmUgYm91bmRhcmllcyBwb2ludCBpbnRvIHRoZSBsaW5lXG4gICAgaWYgKG9mZiA9PSAwKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAob2ZmID09IGxpbmUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgLy8gUG9zaXRpb25zIG9uIHRvcCBvZiBhbiBlbGVtZW50IHBvaW50IGF0IHRoYXQgZWxlbWVudFxuICAgIGxldCBiZWZvcmUgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgLTEpO1xuICAgIGlmIChiZWZvcmUgJiYgaW5zaWRlKHgsIHksIGJlZm9yZSkpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBsZXQgYWZ0ZXIgPSBsaW5lLmNvb3Jkc0F0KG9mZiwgMSk7XG4gICAgaWYgKGFmdGVyICYmIGluc2lkZSh4LCB5LCBhZnRlcikpXG4gICAgICAgIHJldHVybiAxO1xuICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYSBsaW5lIHdyYXAgcG9pbnQuIFBpY2sgYmVmb3JlIGlmIHRoZSBwb2ludCBpc1xuICAgIC8vIGJlc2lkZSBpdC5cbiAgICByZXR1cm4gYmVmb3JlICYmIGluc2lkZVkoeSwgYmVmb3JlKSA/IC0xIDogMTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSB7XG4gICAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0sIGZhbHNlKTtcbiAgICByZXR1cm4geyBwb3MsIGJpYXM6IGZpbmRQb3NpdGlvblNpZGUodmlldywgcG9zLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKSB9O1xufVxuY29uc3QgQmFkTW91c2VEZXRhaWwgPSBicm93c2VyLmllICYmIGJyb3dzZXIuaWVfdmVyc2lvbiA8PSAxMTtcbmxldCBsYXN0TW91c2VEb3duID0gbnVsbCwgbGFzdE1vdXNlRG93bkNvdW50ID0gMCwgbGFzdE1vdXNlRG93blRpbWUgPSAwO1xuZnVuY3Rpb24gZ2V0Q2xpY2tUeXBlKGV2ZW50KSB7XG4gICAgaWYgKCFCYWRNb3VzZURldGFpbClcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRldGFpbDtcbiAgICBsZXQgbGFzdCA9IGxhc3RNb3VzZURvd24sIGxhc3RUaW1lID0gbGFzdE1vdXNlRG93blRpbWU7XG4gICAgbGFzdE1vdXNlRG93biA9IGV2ZW50O1xuICAgIGxhc3RNb3VzZURvd25UaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gbGFzdE1vdXNlRG93bkNvdW50ID0gIWxhc3QgfHwgKGxhc3RUaW1lID4gRGF0ZS5ub3coKSAtIDQwMCAmJiBNYXRoLmFicyhsYXN0LmNsaWVudFggLSBldmVudC5jbGllbnRYKSA8IDIgJiZcbiAgICAgICAgTWF0aC5hYnMobGFzdC5jbGllbnRZIC0gZXZlbnQuY2xpZW50WSkgPCAyKSA/IChsYXN0TW91c2VEb3duQ291bnQgKyAxKSAlIDMgOiAxO1xufVxuZnVuY3Rpb24gYmFzaWNNb3VzZVNlbGVjdGlvbih2aWV3LCBldmVudCkge1xuICAgIGxldCBzdGFydCA9IHF1ZXJ5UG9zKHZpZXcsIGV2ZW50KSwgdHlwZSA9IGdldENsaWNrVHlwZShldmVudCk7XG4gICAgbGV0IHN0YXJ0U2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgbGV0IGxhc3QgPSBzdGFydCwgbGFzdEV2ZW50ID0gZXZlbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQucG9zID0gdXBkYXRlLmNoYW5nZXMubWFwUG9zKHN0YXJ0LnBvcyk7XG4gICAgICAgICAgICAgICAgc3RhcnRTZWwgPSBzdGFydFNlbC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGxhc3RFdmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldChldmVudCwgZXh0ZW5kLCBtdWx0aXBsZSkge1xuICAgICAgICAgICAgbGV0IGN1cjtcbiAgICAgICAgICAgIGlmIChsYXN0RXZlbnQgJiYgZXZlbnQuY2xpZW50WCA9PSBsYXN0RXZlbnQuY2xpZW50WCAmJiBldmVudC5jbGllbnRZID09IGxhc3RFdmVudC5jbGllbnRZKVxuICAgICAgICAgICAgICAgIGN1ciA9IGxhc3Q7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXIgPSBsYXN0ID0gcXVlcnlQb3ModmlldywgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGxhc3RFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJhbmdlID0gcmFuZ2VGb3JDbGljayh2aWV3LCBjdXIucG9zLCBjdXIuYmlhcywgdHlwZSk7XG4gICAgICAgICAgICBpZiAoc3RhcnQucG9zICE9IGN1ci5wb3MgJiYgIWV4dGVuZCkge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydFJhbmdlID0gcmFuZ2VGb3JDbGljayh2aWV3LCBzdGFydC5wb3MsIHN0YXJ0LmJpYXMsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gTWF0aC5taW4oc3RhcnRSYW5nZS5mcm9tLCByYW5nZS5mcm9tKSwgdG8gPSBNYXRoLm1heChzdGFydFJhbmdlLnRvLCByYW5nZS50byk7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBmcm9tIDwgcmFuZ2UuZnJvbSA/IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCB0bykgOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UodG8sIGZyb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4dGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRTZWwucmVwbGFjZVJhbmdlKHN0YXJ0U2VsLm1haW4uZXh0ZW5kKHJhbmdlLmZyb20sIHJhbmdlLnRvKSk7XG4gICAgICAgICAgICBlbHNlIGlmIChtdWx0aXBsZSAmJiBzdGFydFNlbC5yYW5nZXMubGVuZ3RoID4gMSAmJiBzdGFydFNlbC5yYW5nZXMuc29tZShyID0+IHIuZXEocmFuZ2UpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlUmFuZ2Uoc3RhcnRTZWwsIHJhbmdlKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUoW3JhbmdlXSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcmVtb3ZlUmFuZ2Uoc2VsLCByYW5nZSkge1xuICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgIGlmIChzZWwucmFuZ2VzW2ldLmVxKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHNlbC5yYW5nZXMuc2xpY2UoMCwgaSkuY29uY2F0KHNlbC5yYW5nZXMuc2xpY2UoaSArIDEpKSwgc2VsLm1haW5JbmRleCA9PSBpID8gMCA6IHNlbC5tYWluSW5kZXggLSAoc2VsLm1haW5JbmRleCA+IGkgPyAxIDogMCkpO1xuICAgIH1cbn1cbmhhbmRsZXJzLmRyYWdzdGFydCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGxldCB7IHNlbGVjdGlvbjogeyBtYWluIH0gfSA9IHZpZXcuc3RhdGU7XG4gICAgbGV0IHsgbW91c2VTZWxlY3Rpb24gfSA9IHZpZXcuaW5wdXRTdGF0ZTtcbiAgICBpZiAobW91c2VTZWxlY3Rpb24pXG4gICAgICAgIG1vdXNlU2VsZWN0aW9uLmRyYWdnaW5nID0gbWFpbjtcbiAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCB2aWV3LnN0YXRlLnNsaWNlRG9jKG1haW4uZnJvbSwgbWFpbi50bykpO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIjtcbiAgICB9XG59O1xuZnVuY3Rpb24gZHJvcFRleHQodmlldywgZXZlbnQsIHRleHQsIGRpcmVjdCkge1xuICAgIGlmICghdGV4dClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBkcm9wUG9zID0gdmlldy5wb3NBdENvb3Jkcyh7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfSwgZmFsc2UpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IHsgbW91c2VTZWxlY3Rpb24gfSA9IHZpZXcuaW5wdXRTdGF0ZTtcbiAgICBsZXQgZGVsID0gZGlyZWN0ICYmIG1vdXNlU2VsZWN0aW9uICYmIG1vdXNlU2VsZWN0aW9uLmRyYWdnaW5nICYmIG1vdXNlU2VsZWN0aW9uLmRyYWdNb3ZlID9cbiAgICAgICAgeyBmcm9tOiBtb3VzZVNlbGVjdGlvbi5kcmFnZ2luZy5mcm9tLCB0bzogbW91c2VTZWxlY3Rpb24uZHJhZ2dpbmcudG8gfSA6IG51bGw7XG4gICAgbGV0IGlucyA9IHsgZnJvbTogZHJvcFBvcywgaW5zZXJ0OiB0ZXh0IH07XG4gICAgbGV0IGNoYW5nZXMgPSB2aWV3LnN0YXRlLmNoYW5nZXMoZGVsID8gW2RlbCwgaW5zXSA6IGlucyk7XG4gICAgdmlldy5mb2N1cygpO1xuICAgIHZpZXcuZGlzcGF0Y2goe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzZWxlY3Rpb246IHsgYW5jaG9yOiBjaGFuZ2VzLm1hcFBvcyhkcm9wUG9zLCAtMSksIGhlYWQ6IGNoYW5nZXMubWFwUG9zKGRyb3BQb3MsIDEpIH0sXG4gICAgICAgIHVzZXJFdmVudDogZGVsID8gXCJtb3ZlLmRyb3BcIiA6IFwiaW5wdXQuZHJvcFwiXG4gICAgfSk7XG59XG5oYW5kbGVycy5kcm9wID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgaWYgKCFldmVudC5kYXRhVHJhbnNmZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IGZpbGVzID0gZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGgpIHsgLy8gRm9yIGEgZmlsZSBkcm9wLCByZWFkIHRoZSBmaWxlJ3MgdGV4dC5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHRleHQgPSBBcnJheShmaWxlcy5sZW5ndGgpLCByZWFkID0gMDtcbiAgICAgICAgbGV0IGZpbmlzaEZpbGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoKytyZWFkID09IGZpbGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBkcm9wVGV4dCh2aWV3LCBldmVudCwgdGV4dC5maWx0ZXIocyA9PiBzICE9IG51bGwpLmpvaW4odmlldy5zdGF0ZS5saW5lQnJlYWspLCBmYWxzZSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcjtcbiAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gZmluaXNoRmlsZTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEvW1xceDAwLVxceDA4XFx4MGUtXFx4MWZdezJ9Ly50ZXN0KHJlYWRlci5yZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICB0ZXh0W2ldID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBmaW5pc2hGaWxlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkcm9wVGV4dCh2aWV3LCBldmVudCwgZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpLCB0cnVlKTtcbiAgICB9XG59O1xuaGFuZGxlcnMucGFzdGUgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBpZiAodmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmlldy5vYnNlcnZlci5mbHVzaCgpO1xuICAgIGxldCBkYXRhID0gYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZG9QYXN0ZSh2aWV3LCBkYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhcHR1cmVQYXN0ZSh2aWV3KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY2FwdHVyZUNvcHkodmlldywgdGV4dCkge1xuICAgIC8vIFRoZSBleHRyYSB3cmFwcGVyIGlzIHNvbWVob3cgbmVjZXNzYXJ5IG9uIElFL0VkZ2UgdG8gcHJldmVudCB0aGVcbiAgICAvLyBjb250ZW50IGZyb20gYmVpbmcgbWFuZ2xlZCB3aGVuIGl0IGlzIHB1dCBvbnRvIHRoZSBjbGlwYm9hcmRcbiAgICBsZXQgcGFyZW50ID0gdmlldy5kb20ucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCB0YXJnZXQgPSBwYXJlbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpKTtcbiAgICB0YXJnZXQuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gICAgdGFyZ2V0LnZhbHVlID0gdGV4dDtcbiAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICB0YXJnZXQuc2VsZWN0aW9uRW5kID0gdGV4dC5sZW5ndGg7XG4gICAgdGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID0gMDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgfSwgNTApO1xufVxuZnVuY3Rpb24gY29waWVkUmFuZ2Uoc3RhdGUpIHtcbiAgICBsZXQgY29udGVudCA9IFtdLCByYW5nZXMgPSBbXSwgbGluZXdpc2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKVxuICAgICAgICBpZiAoIXJhbmdlLmVtcHR5KSB7XG4gICAgICAgICAgICBjb250ZW50LnB1c2goc3RhdGUuc2xpY2VEb2MocmFuZ2UuZnJvbSwgcmFuZ2UudG8pKTtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgfVxuICAgIGlmICghY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgLy8gTm90aGluZyBzZWxlY3RlZCwgZG8gYSBsaW5lLXdpc2UgY29weVxuICAgICAgICBsZXQgdXB0byA9IC0xO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20gfSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZnJvbSk7XG4gICAgICAgICAgICBpZiAobGluZS5udW1iZXIgPiB1cHRvKSB7XG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKGxpbmUudGV4dCk7XG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCBsaW5lLnRvICsgMSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cHRvID0gbGluZS5udW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGluZXdpc2UgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4geyB0ZXh0OiBjb250ZW50LmpvaW4oc3RhdGUubGluZUJyZWFrKSwgcmFuZ2VzLCBsaW5ld2lzZSB9O1xufVxubGV0IGxhc3RMaW5ld2lzZUNvcHkgPSBudWxsO1xuaGFuZGxlcnMuY29weSA9IGhhbmRsZXJzLmN1dCA9ICh2aWV3LCBldmVudCkgPT4ge1xuICAgIGxldCB7IHRleHQsIHJhbmdlcywgbGluZXdpc2UgfSA9IGNvcGllZFJhbmdlKHZpZXcuc3RhdGUpO1xuICAgIGlmICghdGV4dCAmJiAhbGluZXdpc2UpXG4gICAgICAgIHJldHVybjtcbiAgICBsYXN0TGluZXdpc2VDb3B5ID0gbGluZXdpc2UgPyB0ZXh0IDogbnVsbDtcbiAgICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBldmVudC5jbGlwYm9hcmREYXRhO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRhdGEuY2xlYXJEYXRhKCk7XG4gICAgICAgIGRhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjYXB0dXJlQ29weSh2aWV3LCB0ZXh0KTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjdXRcIiAmJiAhdmlldy5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICBjaGFuZ2VzOiByYW5nZXMsXG4gICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgICAgIHVzZXJFdmVudDogXCJkZWxldGUuY3V0XCJcbiAgICAgICAgfSk7XG59O1xuZnVuY3Rpb24gdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAodmlldy5oYXNGb2N1cyAhPSB2aWV3LmlucHV0U3RhdGUubm90aWZpZWRGb2N1c2VkKVxuICAgICAgICAgICAgdmlldy51cGRhdGUoW10pO1xuICAgIH0sIDEwKTtcbn1cbmhhbmRsZXJzLmZvY3VzID0gdmlldyA9PiB7XG4gICAgdmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSBEYXRlLm5vdygpO1xuICAgIC8vIFdoZW4gZm9jdXNpbmcgcmVzZXQgdGhlIHNjcm9sbCBwb3NpdGlvbiwgbW92ZSBpdCBiYWNrIHRvIHdoZXJlIGl0IHdhc1xuICAgIGlmICghdmlldy5zY3JvbGxET00uc2Nyb2xsVG9wICYmICh2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbFRvcCB8fCB2aWV3LmlucHV0U3RhdGUubGFzdFNjcm9sbExlZnQpKSB7XG4gICAgICAgIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCA9IHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2Nyb2xsVG9wO1xuICAgICAgICB2aWV3LnNjcm9sbERPTS5zY3JvbGxMZWZ0ID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTY3JvbGxMZWZ0O1xuICAgIH1cbiAgICB1cGRhdGVGb3JGb2N1c0NoYW5nZSh2aWV3KTtcbn07XG5oYW5kbGVycy5ibHVyID0gdmlldyA9PiB7XG4gICAgdmlldy5vYnNlcnZlci5jbGVhclNlbGVjdGlvblJhbmdlKCk7XG4gICAgdXBkYXRlRm9yRm9jdXNDaGFuZ2Uodmlldyk7XG59O1xuaGFuZGxlcnMuY29tcG9zaXRpb25zdGFydCA9IGhhbmRsZXJzLmNvbXBvc2l0aW9udXBkYXRlID0gdmlldyA9PiB7XG4gICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID09IG51bGwpXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpdGlvbkZpcnN0Q2hhbmdlID0gdHJ1ZTtcbiAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDApIHtcbiAgICAgICAgLy8gRklYTUUgcG9zc2libHkgc2V0IGEgdGltZW91dCB0byBjbGVhciBpdCBhZ2FpbiBvbiBBbmRyb2lkXG4gICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAwO1xuICAgIH1cbn07XG5oYW5kbGVycy5jb21wb3NpdGlvbmVuZCA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPSAtMTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25FbmRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IG51bGw7XG4gICAgaWYgKGJyb3dzZXIuY2hyb21lICYmIGJyb3dzZXIuYW5kcm9pZClcbiAgICAgICAgdmlldy5vYnNlcnZlci5mbHVzaFNvb24oKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gRm9yY2UgdGhlIGNvbXBvc2l0aW9uIHN0YXRlIHRvIGJlIGNsZWFyZWQgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlblxuICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA8IDAgJiYgdmlldy5kb2NWaWV3LmNvbXBvc2l0aW9uRGVjby5zaXplKVxuICAgICAgICAgICAgdmlldy51cGRhdGUoW10pO1xuICAgIH0sIDUwKTtcbn07XG5oYW5kbGVycy5jb250ZXh0bWVudSA9IHZpZXcgPT4ge1xuICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0Q29udGV4dE1lbnUgPSBEYXRlLm5vdygpO1xufTtcbmhhbmRsZXJzLmJlZm9yZWlucHV0ID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIC8vIEJlY2F1c2UgQ2hyb21lIEFuZHJvaWQgZG9lc24ndCBmaXJlIHVzZWZ1bCBrZXkgZXZlbnRzLCB1c2VcbiAgICAvLyBiZWZvcmVpbnB1dCB0byBkZXRlY3QgYmFja3NwYWNlIChhbmQgcG9zc2libHkgZW50ZXIgYW5kIGRlbGV0ZSxcbiAgICAvLyBidXQgdGhvc2UgdXN1YWxseSBkb24ndCBldmVuIHNlZW0gdG8gZmlyZSBiZWZvcmVpbnB1dCBldmVudHMgYXRcbiAgICAvLyB0aGUgbW9tZW50KSBhbmQgZmFrZSBhIGtleSBldmVudCBmb3IgaXQuXG4gICAgLy9cbiAgICAvLyAocHJldmVudERlZmF1bHQgb24gYmVmb3JlaW5wdXQsIHRob3VnaCBzdXBwb3J0ZWQgaW4gdGhlIHNwZWMsXG4gICAgLy8gc2VlbXMgdG8gZG8gbm90aGluZyBhdCBhbGwgb24gQ2hyb21lKS5cbiAgICBsZXQgcGVuZGluZztcbiAgICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgYnJvd3Nlci5hbmRyb2lkICYmIChwZW5kaW5nID0gUGVuZGluZ0tleXMuZmluZChrZXkgPT4ga2V5LmlucHV0VHlwZSA9PSBldmVudC5pbnB1dFR5cGUpKSkge1xuICAgICAgICB2aWV3Lm9ic2VydmVyLmRlbGF5QW5kcm9pZEtleShwZW5kaW5nLmtleSwgcGVuZGluZy5rZXlDb2RlKTtcbiAgICAgICAgaWYgKHBlbmRpbmcua2V5ID09IFwiQmFja3NwYWNlXCIgfHwgcGVuZGluZy5rZXkgPT0gXCJEZWxldGVcIikge1xuICAgICAgICAgICAgbGV0IHN0YXJ0Vmlld0hlaWdodCA9ICgoX2EgPSB3aW5kb3cudmlzdWFsVmlld3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWlnaHQpIHx8IDA7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy8gQmFja3NwYWNpbmcgbmVhciB1bmVkaXRhYmxlIG5vZGVzIG9uIENocm9tZSBBbmRyb2lkIHNvbWV0aW1lc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlcyB0aGUgdmlydHVhbCBrZXlib2FyZC4gVGhpcyB0cmllcyB0byBjcnVkZWx5IGRldGVjdFxuICAgICAgICAgICAgICAgIC8vIHRoYXQgYW5kIHJlZm9jdXMgdG8gZ2V0IGl0IGJhY2suXG4gICAgICAgICAgICAgICAgaWYgKCgoKF9hID0gd2luZG93LnZpc3VhbFZpZXdwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVpZ2h0KSB8fCAwKSA+IHN0YXJ0Vmlld0hlaWdodCArIDEwICYmIHZpZXcuaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5jb250ZW50RE9NLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCB3cmFwcGluZ1doaXRlU3BhY2UgPSBbXCJwcmUtd3JhcFwiLCBcIm5vcm1hbFwiLCBcInByZS1saW5lXCIsIFwiYnJlYWstc3BhY2VzXCJdO1xuY2xhc3MgSGVpZ2h0T3JhY2xlIHtcbiAgICBjb25zdHJ1Y3RvcihsaW5lV3JhcHBpbmcpIHtcbiAgICAgICAgdGhpcy5saW5lV3JhcHBpbmcgPSBsaW5lV3JhcHBpbmc7XG4gICAgICAgIHRoaXMuZG9jID0gVGV4dC5lbXB0eTtcbiAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzID0ge307XG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IDE0O1xuICAgICAgICB0aGlzLmNoYXJXaWR0aCA9IDc7XG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IDMwO1xuICAgICAgICAvLyBVc2VkIHRvIHRyYWNrLCBkdXJpbmcgdXBkYXRlSGVpZ2h0LCBpZiBhbnkgYWN0dWFsIGhlaWdodHMgY2hhbmdlZFxuICAgICAgICB0aGlzLmhlaWdodENoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaGVpZ2h0Rm9yR2FwKGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBsaW5lcyA9IHRoaXMuZG9jLmxpbmVBdCh0bykubnVtYmVyIC0gdGhpcy5kb2MubGluZUF0KGZyb20pLm51bWJlciArIDE7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgIGxpbmVzICs9IE1hdGguY2VpbCgoKHRvIC0gZnJvbSkgLSAobGluZXMgKiB0aGlzLmxpbmVMZW5ndGggKiAwLjUpKSAvIHRoaXMubGluZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQgKiBsaW5lcztcbiAgICB9XG4gICAgaGVpZ2h0Rm9yTGluZShsZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxpbmVXcmFwcGluZylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICAgIGxldCBsaW5lcyA9IDEgKyBNYXRoLm1heCgwLCBNYXRoLmNlaWwoKGxlbmd0aCAtIHRoaXMubGluZUxlbmd0aCkgLyAodGhpcy5saW5lTGVuZ3RoIC0gNSkpKTtcbiAgICAgICAgcmV0dXJuIGxpbmVzICogdGhpcy5saW5lSGVpZ2h0O1xuICAgIH1cbiAgICBzZXREb2MoZG9jKSB7IHRoaXMuZG9jID0gZG9jOyByZXR1cm4gdGhpczsgfVxuICAgIG11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSkge1xuICAgICAgICByZXR1cm4gKHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTEpICE9IHRoaXMubGluZVdyYXBwaW5nO1xuICAgIH1cbiAgICBtdXN0UmVmcmVzaEZvckhlaWdodHMobGluZUhlaWdodHMpIHtcbiAgICAgICAgbGV0IG5ld0hlaWdodCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVIZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaCA9IGxpbmVIZWlnaHRzW2ldO1xuICAgICAgICAgICAgaWYgKGggPCAwKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuaGVpZ2h0U2FtcGxlc1tNYXRoLmZsb29yKGggKiAxMCldKSB7IC8vIFJvdW5kIHRvIC4xIHBpeGVsc1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRTYW1wbGVzW01hdGguZmxvb3IoaCAqIDEwKV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdIZWlnaHQ7XG4gICAgfVxuICAgIHJlZnJlc2god2hpdGVTcGFjZSwgbGluZUhlaWdodCwgY2hhcldpZHRoLCBsaW5lTGVuZ3RoLCBrbm93bkhlaWdodHMpIHtcbiAgICAgICAgbGV0IGxpbmVXcmFwcGluZyA9IHdyYXBwaW5nV2hpdGVTcGFjZS5pbmRleE9mKHdoaXRlU3BhY2UpID4gLTE7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gTWF0aC5yb3VuZChsaW5lSGVpZ2h0KSAhPSBNYXRoLnJvdW5kKHRoaXMubGluZUhlaWdodCkgfHwgdGhpcy5saW5lV3JhcHBpbmcgIT0gbGluZVdyYXBwaW5nO1xuICAgICAgICB0aGlzLmxpbmVXcmFwcGluZyA9IGxpbmVXcmFwcGluZztcbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgdGhpcy5jaGFyV2lkdGggPSBjaGFyV2lkdGg7XG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IGxpbmVMZW5ndGg7XG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXMgPSB7fTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga25vd25IZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGggPSBrbm93bkhlaWdodHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGggPCAwKVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlaWdodFNhbXBsZXNbTWF0aC5mbG9vcihoICogMTApXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxufVxuLy8gVGhpcyBvYmplY3QgaXMgdXNlZCBieSBgdXBkYXRlSGVpZ2h0YCB0byBtYWtlIERPTSBtZWFzdXJlbWVudHNcbi8vIGFycml2ZSBhdCB0aGUgcmlnaHQgbmlkZXMuIFRoZSBgaGVpZ2h0c2AgYXJyYXkgaXMgYSBzZXF1ZW5jZSBvZlxuLy8gYmxvY2sgaGVpZ2h0cywgc3RhcnRpbmcgZnJvbSBwb3NpdGlvbiBgZnJvbWAuXG5jbGFzcyBNZWFzdXJlZEhlaWdodHMge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIGhlaWdodHMpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy5oZWlnaHRzID0gaGVpZ2h0cztcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgfVxuICAgIGdldCBtb3JlKCkgeyByZXR1cm4gdGhpcy5pbmRleCA8IHRoaXMuaGVpZ2h0cy5sZW5ndGg7IH1cbn1cbi8qKlxuUmVjb3JkIHVzZWQgdG8gcmVwcmVzZW50IGluZm9ybWF0aW9uIGFib3V0IGEgYmxvY2stbGV2ZWwgZWxlbWVudFxuaW4gdGhlIGVkaXRvciB2aWV3LlxuKi9cbmNsYXNzIEJsb2NrSW5mbyB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgc3RhcnQgb2YgdGhlIGVsZW1lbnQgaW4gdGhlIGRvY3VtZW50LlxuICAgICovXG4gICAgZnJvbSwgXG4gICAgLyoqXG4gICAgVGhlIGxlbmd0aCBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGxlbmd0aCwgXG4gICAgLyoqXG4gICAgVGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIHRvcCBvZiB0aGVcbiAgICBkb2N1bWVudCkuXG4gICAgKi9cbiAgICB0b3AsIFxuICAgIC8qKlxuICAgIEl0cyBoZWlnaHQuXG4gICAgKi9cbiAgICBoZWlnaHQsIFxuICAgIC8qKlxuICAgIFRoZSB0eXBlIG9mIGVsZW1lbnQgdGhpcyBpcy4gV2hlbiBxdWVyeWluZyBsaW5lcywgdGhpcyBtYXkgYmVcbiAgICBhbiBhcnJheSBvZiBhbGwgdGhlIGJsb2NrcyB0aGF0IG1ha2UgdXAgdGhlIGxpbmUuXG4gICAgKi9cbiAgICB0eXBlKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlbmQgb2YgdGhlIGVsZW1lbnQgYXMgYSBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCB0bygpIHsgcmV0dXJuIHRoaXMuZnJvbSArIHRoaXMubGVuZ3RoOyB9XG4gICAgLyoqXG4gICAgVGhlIGJvdHRvbSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAqL1xuICAgIGdldCBib3R0b20oKSB7IHJldHVybiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0OyB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBqb2luKG90aGVyKSB7XG4gICAgICAgIGxldCBkZXRhaWwgPSAoQXJyYXkuaXNBcnJheSh0aGlzLnR5cGUpID8gdGhpcy50eXBlIDogW3RoaXNdKVxuICAgICAgICAgICAgLmNvbmNhdChBcnJheS5pc0FycmF5KG90aGVyLnR5cGUpID8gb3RoZXIudHlwZSA6IFtvdGhlcl0pO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyh0aGlzLmZyb20sIHRoaXMubGVuZ3RoICsgb3RoZXIubGVuZ3RoLCB0aGlzLnRvcCwgdGhpcy5oZWlnaHQgKyBvdGhlci5oZWlnaHQsIGRldGFpbCk7XG4gICAgfVxufVxudmFyIFF1ZXJ5VHlwZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFF1ZXJ5VHlwZSkge1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeVBvc1wiXSA9IDBdID0gXCJCeVBvc1wiO1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeUhlaWdodFwiXSA9IDFdID0gXCJCeUhlaWdodFwiO1xuICAgIFF1ZXJ5VHlwZVtRdWVyeVR5cGVbXCJCeVBvc05vSGVpZ2h0XCJdID0gMl0gPSBcIkJ5UG9zTm9IZWlnaHRcIjtcbnJldHVybiBRdWVyeVR5cGV9KShRdWVyeVR5cGUgfHwgKFF1ZXJ5VHlwZSA9IHt9KSk7XG5jb25zdCBFcHNpbG9uID0gMWUtMztcbmNsYXNzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCAvLyBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY292ZXJlZFxuICAgIGhlaWdodCwgLy8gSGVpZ2h0IG9mIHRoaXMgcGFydCBvZiB0aGUgZG9jdW1lbnRcbiAgICBmbGFncyA9IDIgLyogRmxhZy5PdXRkYXRlZCAqLykge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICB9XG4gICAgZ2V0IG91dGRhdGVkKCkgeyByZXR1cm4gKHRoaXMuZmxhZ3MgJiAyIC8qIEZsYWcuT3V0ZGF0ZWQgKi8pID4gMDsgfVxuICAgIHNldCBvdXRkYXRlZCh2YWx1ZSkgeyB0aGlzLmZsYWdzID0gKHZhbHVlID8gMiAvKiBGbGFnLk91dGRhdGVkICovIDogMCkgfCAodGhpcy5mbGFncyAmIH4yIC8qIEZsYWcuT3V0ZGF0ZWQgKi8pOyB9XG4gICAgc2V0SGVpZ2h0KG9yYWNsZSwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLmhlaWdodCAtIGhlaWdodCkgPiBFcHNpbG9uKVxuICAgICAgICAgICAgICAgIG9yYWNsZS5oZWlnaHRDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEJhc2UgY2FzZSBpcyB0byByZXBsYWNlIGEgbGVhZiBub2RlLCB3aGljaCBzaW1wbHkgYnVpbGRzIGEgdHJlZVxuICAgIC8vIGZyb20gdGhlIG5ldyBub2RlcyBhbmQgcmV0dXJucyB0aGF0IChIZWlnaHRNYXBCcmFuY2ggYW5kXG4gICAgLy8gSGVpZ2h0TWFwR2FwIG92ZXJyaWRlIHRoaXMgdG8gYWN0dWFsbHkgdXNlIGZyb20vdG8pXG4gICAgcmVwbGFjZShfZnJvbSwgX3RvLCBub2Rlcykge1xuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICB9XG4gICAgLy8gQWdhaW4sIHRoZXNlIGFyZSBiYXNlIGNhc2VzLCBhbmQgYXJlIG92ZXJyaWRkZW4gZm9yIGJyYW5jaCBhbmQgZ2FwIG5vZGVzLlxuICAgIGRlY29tcG9zZUxlZnQoX3RvLCByZXN1bHQpIHsgcmVzdWx0LnB1c2godGhpcyk7IH1cbiAgICBkZWNvbXBvc2VSaWdodChfZnJvbSwgcmVzdWx0KSB7IHJlc3VsdC5wdXNoKHRoaXMpOyB9XG4gICAgYXBwbHlDaGFuZ2VzKGRlY29yYXRpb25zLCBvbGREb2MsIG9yYWNsZSwgY2hhbmdlcykge1xuICAgICAgICBsZXQgbWUgPSB0aGlzO1xuICAgICAgICBmb3IgKGxldCBpID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IHsgZnJvbUEsIHRvQSwgZnJvbUIsIHRvQiB9ID0gY2hhbmdlc1tpXTtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG1lLmxpbmVBdChmcm9tQSwgUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQsIG9sZERvYywgMCwgMCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gc3RhcnQudG8gPj0gdG9BID8gc3RhcnQgOiBtZS5saW5lQXQodG9BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb2xkRG9jLCAwLCAwKTtcbiAgICAgICAgICAgIHRvQiArPSBlbmQudG8gLSB0b0E7XG4gICAgICAgICAgICB0b0EgPSBlbmQudG87XG4gICAgICAgICAgICB3aGlsZSAoaSA+IDAgJiYgc3RhcnQuZnJvbSA8PSBjaGFuZ2VzW2kgLSAxXS50b0EpIHtcbiAgICAgICAgICAgICAgICBmcm9tQSA9IGNoYW5nZXNbaSAtIDFdLmZyb21BO1xuICAgICAgICAgICAgICAgIGZyb21CID0gY2hhbmdlc1tpIC0gMV0uZnJvbUI7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tQSA8IHN0YXJ0LmZyb20pXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbWUubGluZUF0KGZyb21BLCBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCwgb2xkRG9jLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb21CICs9IHN0YXJ0LmZyb20gLSBmcm9tQTtcbiAgICAgICAgICAgIGZyb21BID0gc3RhcnQuZnJvbTtcbiAgICAgICAgICAgIGxldCBub2RlcyA9IE5vZGVCdWlsZGVyLmJ1aWxkKG9yYWNsZSwgZGVjb3JhdGlvbnMsIGZyb21CLCB0b0IpO1xuICAgICAgICAgICAgbWUgPSBtZS5yZXBsYWNlKGZyb21BLCB0b0EsIG5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWUudXBkYXRlSGVpZ2h0KG9yYWNsZSwgMCk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHsgcmV0dXJuIG5ldyBIZWlnaHRNYXBUZXh0KDAsIDApOyB9XG4gICAgLy8gbm9kZXMgdXNlcyBudWxsIHZhbHVlcyB0byBpbmRpY2F0ZSB0aGUgcG9zaXRpb24gb2YgbGluZSBicmVha3MuXG4gICAgLy8gVGhlcmUgYXJlIG5ldmVyIGxpbmUgYnJlYWtzIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGFycmF5LCBvclxuICAgIC8vIHR3byBsaW5lIGJyZWFrcyBuZXh0IHRvIGVhY2ggb3RoZXIsIGFuZCB0aGUgYXJyYXkgaXNuJ3QgYWxsb3dlZFxuICAgIC8vIHRvIGJlIGVtcHR5IChzYW1lIHJlc3RyaWN0aW9ucyBhcyByZXR1cm4gdmFsdWUgZnJvbSB0aGUgYnVpbGRlcikuXG4gICAgc3RhdGljIG9mKG5vZGVzKSB7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgIHJldHVybiBub2Rlc1swXTtcbiAgICAgICAgbGV0IGkgPSAwLCBqID0gbm9kZXMubGVuZ3RoLCBiZWZvcmUgPSAwLCBhZnRlciA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChpID09IGopIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlID4gYWZ0ZXIgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0LmJyZWFrKVxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKC0taSwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoLS1pLCAxLCBzcGxpdC5sZWZ0LCBzcGxpdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGogKz0gMSArIHNwbGl0LmJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWZ0ZXIgPiBiZWZvcmUgKiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGxpdCA9IG5vZGVzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXQuYnJlYWspXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgbnVsbCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaiwgMSwgc3BsaXQubGVmdCwgc3BsaXQucmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBqICs9IDIgKyBzcGxpdC5icmVhaztcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgLT0gc3BsaXQuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJlZm9yZSA8IGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1tpKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBiZWZvcmUgKz0gbmV4dC5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2Rlc1stLWpdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KVxuICAgICAgICAgICAgICAgICAgICBhZnRlciArPSBuZXh0LnNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJyayA9IDA7XG4gICAgICAgIGlmIChub2Rlc1tpIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgYnJrID0gMTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2Rlc1tpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBicmsgPSAxO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgSGVpZ2h0TWFwQnJhbmNoKEhlaWdodE1hcC5vZihub2Rlcy5zbGljZSgwLCBpKSksIGJyaywgSGVpZ2h0TWFwLm9mKG5vZGVzLnNsaWNlKGopKSk7XG4gICAgfVxufVxuSGVpZ2h0TWFwLnByb3RvdHlwZS5zaXplID0gMTtcbmNsYXNzIEhlaWdodE1hcEJsb2NrIGV4dGVuZHMgSGVpZ2h0TWFwIHtcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGhlaWdodCwgdHlwZSkge1xuICAgICAgICBzdXBlcihsZW5ndGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIGJsb2NrQXQoX2hlaWdodCwgX2RvYywgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8ob2Zmc2V0LCB0aGlzLmxlbmd0aCwgdG9wLCB0aGlzLmhlaWdodCwgdGhpcy50eXBlKTtcbiAgICB9XG4gICAgbGluZUF0KF92YWx1ZSwgX3R5cGUsIGRvYywgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvY2tBdCgwLCBkb2MsIHRvcCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIGRvYywgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgaWYgKGZyb20gPD0gb2Zmc2V0ICsgdGhpcy5sZW5ndGggJiYgdG8gPj0gb2Zmc2V0KVxuICAgICAgICAgICAgZih0aGlzLmJsb2NrQXQoMCwgZG9jLCB0b3AsIG9mZnNldCkpO1xuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBfZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgaWYgKG1lYXN1cmVkICYmIG1lYXN1cmVkLmZyb20gPD0gb2Zmc2V0ICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUsIG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK10pO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIGBibG9jaygke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBUZXh0IGV4dGVuZHMgSGVpZ2h0TWFwQmxvY2sge1xuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHN1cGVyKGxlbmd0aCwgaGVpZ2h0LCBCbG9ja1R5cGUuVGV4dCk7XG4gICAgICAgIHRoaXMuY29sbGFwc2VkID0gMDsgLy8gQW1vdW50IG9mIGNvbGxhcHNlZCBjb250ZW50IGluIHRoZSBsaW5lXG4gICAgICAgIHRoaXMud2lkZ2V0SGVpZ2h0ID0gMDsgLy8gTWF4aW11bSBpbmxpbmUgd2lkZ2V0IGhlaWdodFxuICAgIH1cbiAgICByZXBsYWNlKF9mcm9tLCBfdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbMF07XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT0gMSAmJiAobm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQgfHwgbm9kZSBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcCAmJiAobm9kZS5mbGFncyAmIDQgLyogRmxhZy5TaW5nbGVMaW5lICovKSkgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKHRoaXMubGVuZ3RoIC0gbm9kZS5sZW5ndGgpIDwgMTApIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXcgSGVpZ2h0TWFwVGV4dChub2RlLmxlbmd0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICAgICAgbm9kZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKG5vZGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBpZiAobWVhc3VyZWQgJiYgbWVhc3VyZWQuZnJvbSA8PSBvZmZzZXQgJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG9yYWNsZSwgbWVhc3VyZWQuaGVpZ2h0c1ttZWFzdXJlZC5pbmRleCsrXSk7XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlIHx8IHRoaXMub3V0ZGF0ZWQpXG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChvcmFjbGUsIE1hdGgubWF4KHRoaXMud2lkZ2V0SGVpZ2h0LCBvcmFjbGUuaGVpZ2h0Rm9yTGluZSh0aGlzLmxlbmd0aCAtIHRoaXMuY29sbGFwc2VkKSkpO1xuICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBsaW5lKCR7dGhpcy5sZW5ndGh9JHt0aGlzLmNvbGxhcHNlZCA/IC10aGlzLmNvbGxhcHNlZCA6IFwiXCJ9JHt0aGlzLndpZGdldEhlaWdodCA/IFwiOlwiICsgdGhpcy53aWRnZXRIZWlnaHQgOiBcIlwifSlgO1xuICAgIH1cbn1cbmNsYXNzIEhlaWdodE1hcEdhcCBleHRlbmRzIEhlaWdodE1hcCB7XG4gICAgY29uc3RydWN0b3IobGVuZ3RoKSB7IHN1cGVyKGxlbmd0aCwgMCk7IH1cbiAgICBsaW5lcyhkb2MsIG9mZnNldCkge1xuICAgICAgICBsZXQgZmlyc3RMaW5lID0gZG9jLmxpbmVBdChvZmZzZXQpLm51bWJlciwgbGFzdExpbmUgPSBkb2MubGluZUF0KG9mZnNldCArIHRoaXMubGVuZ3RoKS5udW1iZXI7XG4gICAgICAgIHJldHVybiB7IGZpcnN0TGluZSwgbGFzdExpbmUsIGxpbmVIZWlnaHQ6IHRoaXMuaGVpZ2h0IC8gKGxhc3RMaW5lIC0gZmlyc3RMaW5lICsgMSkgfTtcbiAgICB9XG4gICAgYmxvY2tBdChoZWlnaHQsIGRvYywgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBsYXN0TGluZSwgbGluZUhlaWdodCB9ID0gdGhpcy5saW5lcyhkb2MsIG9mZnNldCk7XG4gICAgICAgIGxldCBsaW5lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGFzdExpbmUgLSBmaXJzdExpbmUsIE1hdGguZmxvb3IoKGhlaWdodCAtIHRvcCkgLyBsaW5lSGVpZ2h0KSkpO1xuICAgICAgICBsZXQgeyBmcm9tLCBsZW5ndGggfSA9IGRvYy5saW5lKGZpcnN0TGluZSArIGxpbmUpO1xuICAgICAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhmcm9tLCBsZW5ndGgsIHRvcCArIGxpbmVIZWlnaHQgKiBsaW5lLCBsaW5lSGVpZ2h0LCBCbG9ja1R5cGUuVGV4dCk7XG4gICAgfVxuICAgIGxpbmVBdCh2YWx1ZSwgdHlwZSwgZG9jLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBpZiAodHlwZSA9PSBRdWVyeVR5cGUuQnlIZWlnaHQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9ja0F0KHZhbHVlLCBkb2MsIHRvcCwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKHR5cGUgPT0gUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQpIHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBkb2MubGluZUF0KHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tJbmZvKGZyb20sIHRvIC0gZnJvbSwgMCwgMCwgQmxvY2tUeXBlLlRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IGZpcnN0TGluZSwgbGluZUhlaWdodCB9ID0gdGhpcy5saW5lcyhkb2MsIG9mZnNldCk7XG4gICAgICAgIGxldCB7IGZyb20sIGxlbmd0aCwgbnVtYmVyIH0gPSBkb2MubGluZUF0KHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja0luZm8oZnJvbSwgbGVuZ3RoLCB0b3AgKyBsaW5lSGVpZ2h0ICogKG51bWJlciAtIGZpcnN0TGluZSksIGxpbmVIZWlnaHQsIEJsb2NrVHlwZS5UZXh0KTtcbiAgICB9XG4gICAgZm9yRWFjaExpbmUoZnJvbSwgdG8sIGRvYywgdG9wLCBvZmZzZXQsIGYpIHtcbiAgICAgICAgbGV0IHsgZmlyc3RMaW5lLCBsaW5lSGVpZ2h0IH0gPSB0aGlzLmxpbmVzKGRvYywgb2Zmc2V0KTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gTWF0aC5tYXgoZnJvbSwgb2Zmc2V0KSwgZW5kID0gTWF0aC5taW4ob2Zmc2V0ICsgdGhpcy5sZW5ndGgsIHRvKTsgcG9zIDw9IGVuZDspIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAgICAgaWYgKHBvcyA9PSBmcm9tKVxuICAgICAgICAgICAgICAgIHRvcCArPSBsaW5lSGVpZ2h0ICogKGxpbmUubnVtYmVyIC0gZmlyc3RMaW5lKTtcbiAgICAgICAgICAgIGYobmV3IEJsb2NrSW5mbyhsaW5lLmZyb20sIGxpbmUubGVuZ3RoLCB0b3AsIGxpbmVIZWlnaHQsIEJsb2NrVHlwZS5UZXh0KSk7XG4gICAgICAgICAgICB0b3AgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICAgIHBvcyA9IGxpbmUudG8gKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSB7XG4gICAgICAgIGxldCBhZnRlciA9IHRoaXMubGVuZ3RoIC0gdG87XG4gICAgICAgIGlmIChhZnRlciA+IDApIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcEdhcClcbiAgICAgICAgICAgICAgICBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXSA9IG5ldyBIZWlnaHRNYXBHYXAobGFzdC5sZW5ndGggKyBhZnRlcik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaChudWxsLCBuZXcgSGVpZ2h0TWFwR2FwKGFmdGVyIC0gMSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcm9tID4gMCkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gbm9kZXNbMF07XG4gICAgICAgICAgICBpZiAoZmlyc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXApXG4gICAgICAgICAgICAgICAgbm9kZXNbMF0gPSBuZXcgSGVpZ2h0TWFwR2FwKGZyb20gKyBmaXJzdC5sZW5ndGgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG5vZGVzLnVuc2hpZnQobmV3IEhlaWdodE1hcEdhcChmcm9tIC0gMSksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgIH1cbiAgICBkZWNvbXBvc2VMZWZ0KHRvLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gobmV3IEhlaWdodE1hcEdhcCh0byAtIDEpLCBudWxsKTtcbiAgICB9XG4gICAgZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAodGhpcy5sZW5ndGggLSBmcm9tIC0gMSkpO1xuICAgIH1cbiAgICB1cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQgPSAwLCBmb3JjZSA9IGZhbHNlLCBtZWFzdXJlZCkge1xuICAgICAgICBsZXQgZW5kID0gb2Zmc2V0ICsgdGhpcy5sZW5ndGg7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IG9mZnNldCArIHRoaXMubGVuZ3RoICYmIG1lYXN1cmVkLm1vcmUpIHtcbiAgICAgICAgICAgIC8vIEZpbGwgaW4gcGFydCBvZiB0aGlzIGdhcCB3aXRoIG1lYXN1cmVkIGxpbmVzLiBXZSBrbm93IHRoZXJlXG4gICAgICAgICAgICAvLyBjYW4ndCBiZSB3aWRnZXRzIG9yIGNvbGxhcHNlZCByYW5nZXMgaW4gdGhvc2UgbGluZXMsIGJlY2F1c2VcbiAgICAgICAgICAgIC8vIHRoZXkgd291bGQgYWxyZWFkeSBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIGhlaWdodG1hcCAoZ2Fwc1xuICAgICAgICAgICAgLy8gb25seSBjb250YWluIHBsYWluIHRleHQpLlxuICAgICAgICAgICAgbGV0IG5vZGVzID0gW10sIHBvcyA9IE1hdGgubWF4KG9mZnNldCwgbWVhc3VyZWQuZnJvbSksIHNpbmdsZUhlaWdodCA9IC0xO1xuICAgICAgICAgICAgbGV0IHdhc0NoYW5nZWQgPSBvcmFjbGUuaGVpZ2h0Q2hhbmdlZDtcbiAgICAgICAgICAgIGlmIChtZWFzdXJlZC5mcm9tID4gb2Zmc2V0KVxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3IEhlaWdodE1hcEdhcChtZWFzdXJlZC5mcm9tIC0gb2Zmc2V0IC0gMSkudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0KSk7XG4gICAgICAgICAgICB3aGlsZSAocG9zIDw9IGVuZCAmJiBtZWFzdXJlZC5tb3JlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlbiA9IG9yYWNsZS5kb2MubGluZUF0KHBvcykubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodHNbbWVhc3VyZWQuaW5kZXgrK107XG4gICAgICAgICAgICAgICAgaWYgKHNpbmdsZUhlaWdodCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGhlaWdodCAtIHNpbmdsZUhlaWdodCkgPj0gRXBzaWxvbilcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlSGVpZ2h0ID0gLTI7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dChsZW4sIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgbGluZS5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobGluZSk7XG4gICAgICAgICAgICAgICAgcG9zICs9IGxlbiArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zIDw9IGVuZClcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG51bGwsIG5ldyBIZWlnaHRNYXBHYXAoZW5kIC0gcG9zKS51cGRhdGVIZWlnaHQob3JhY2xlLCBwb3MpKTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBIZWlnaHRNYXAub2Yobm9kZXMpO1xuICAgICAgICAgICAgb3JhY2xlLmhlaWdodENoYW5nZWQgPSB3YXNDaGFuZ2VkIHx8IHNpbmdsZUhlaWdodCA8IDAgfHwgTWF0aC5hYnMocmVzdWx0LmhlaWdodCAtIHRoaXMuaGVpZ2h0KSA+PSBFcHNpbG9uIHx8XG4gICAgICAgICAgICAgICAgTWF0aC5hYnMoc2luZ2xlSGVpZ2h0IC0gdGhpcy5saW5lcyhvcmFjbGUuZG9jLCBvZmZzZXQpLmxpbmVIZWlnaHQpID49IEVwc2lsb247XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZvcmNlIHx8IHRoaXMub3V0ZGF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KG9yYWNsZSwgb3JhY2xlLmhlaWdodEZvckdhcChvZmZzZXQsIG9mZnNldCArIHRoaXMubGVuZ3RoKSk7XG4gICAgICAgICAgICB0aGlzLm91dGRhdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gYGdhcCgke3RoaXMubGVuZ3RofSlgOyB9XG59XG5jbGFzcyBIZWlnaHRNYXBCcmFuY2ggZXh0ZW5kcyBIZWlnaHRNYXAge1xuICAgIGNvbnN0cnVjdG9yKGxlZnQsIGJyaywgcmlnaHQpIHtcbiAgICAgICAgc3VwZXIobGVmdC5sZW5ndGggKyBicmsgKyByaWdodC5sZW5ndGgsIGxlZnQuaGVpZ2h0ICsgcmlnaHQuaGVpZ2h0LCBicmsgfCAobGVmdC5vdXRkYXRlZCB8fCByaWdodC5vdXRkYXRlZCA/IDIgLyogRmxhZy5PdXRkYXRlZCAqLyA6IDApKTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHJpZ2h0O1xuICAgICAgICB0aGlzLnNpemUgPSBsZWZ0LnNpemUgKyByaWdodC5zaXplO1xuICAgIH1cbiAgICBnZXQgYnJlYWsoKSB7IHJldHVybiB0aGlzLmZsYWdzICYgMSAvKiBGbGFnLkJyZWFrICovOyB9XG4gICAgYmxvY2tBdChoZWlnaHQsIGRvYywgdG9wLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IG1pZCA9IHRvcCArIHRoaXMubGVmdC5oZWlnaHQ7XG4gICAgICAgIHJldHVybiBoZWlnaHQgPCBtaWQgPyB0aGlzLmxlZnQuYmxvY2tBdChoZWlnaHQsIGRvYywgdG9wLCBvZmZzZXQpXG4gICAgICAgICAgICA6IHRoaXMucmlnaHQuYmxvY2tBdChoZWlnaHQsIGRvYywgbWlkLCBvZmZzZXQgKyB0aGlzLmxlZnQubGVuZ3RoICsgdGhpcy5icmVhayk7XG4gICAgfVxuICAgIGxpbmVBdCh2YWx1ZSwgdHlwZSwgZG9jLCB0b3AsIG9mZnNldCkge1xuICAgICAgICBsZXQgcmlnaHRUb3AgPSB0b3AgKyB0aGlzLmxlZnQuaGVpZ2h0LCByaWdodE9mZnNldCA9IG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBsZXQgbGVmdCA9IHR5cGUgPT0gUXVlcnlUeXBlLkJ5SGVpZ2h0ID8gdmFsdWUgPCByaWdodFRvcCA6IHZhbHVlIDwgcmlnaHRPZmZzZXQ7XG4gICAgICAgIGxldCBiYXNlID0gbGVmdCA/IHRoaXMubGVmdC5saW5lQXQodmFsdWUsIHR5cGUsIGRvYywgdG9wLCBvZmZzZXQpXG4gICAgICAgICAgICA6IHRoaXMucmlnaHQubGluZUF0KHZhbHVlLCB0eXBlLCBkb2MsIHJpZ2h0VG9wLCByaWdodE9mZnNldCk7XG4gICAgICAgIGlmICh0aGlzLmJyZWFrIHx8IChsZWZ0ID8gYmFzZS50byA8IHJpZ2h0T2Zmc2V0IDogYmFzZS5mcm9tID4gcmlnaHRPZmZzZXQpKVxuICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgIGxldCBzdWJRdWVyeSA9IHR5cGUgPT0gUXVlcnlUeXBlLkJ5UG9zTm9IZWlnaHQgPyBRdWVyeVR5cGUuQnlQb3NOb0hlaWdodCA6IFF1ZXJ5VHlwZS5CeVBvcztcbiAgICAgICAgaWYgKGxlZnQpXG4gICAgICAgICAgICByZXR1cm4gYmFzZS5qb2luKHRoaXMucmlnaHQubGluZUF0KHJpZ2h0T2Zmc2V0LCBzdWJRdWVyeSwgZG9jLCByaWdodFRvcCwgcmlnaHRPZmZzZXQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5saW5lQXQocmlnaHRPZmZzZXQsIHN1YlF1ZXJ5LCBkb2MsIHRvcCwgb2Zmc2V0KS5qb2luKGJhc2UpO1xuICAgIH1cbiAgICBmb3JFYWNoTGluZShmcm9tLCB0bywgZG9jLCB0b3AsIG9mZnNldCwgZikge1xuICAgICAgICBsZXQgcmlnaHRUb3AgPSB0b3AgKyB0aGlzLmxlZnQuaGVpZ2h0LCByaWdodE9mZnNldCA9IG9mZnNldCArIHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBpZiAodGhpcy5icmVhaykge1xuICAgICAgICAgICAgaWYgKGZyb20gPCByaWdodE9mZnNldClcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQuZm9yRWFjaExpbmUoZnJvbSwgdG8sIGRvYywgdG9wLCBvZmZzZXQsIGYpO1xuICAgICAgICAgICAgaWYgKHRvID49IHJpZ2h0T2Zmc2V0KVxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaExpbmUoZnJvbSwgdG8sIGRvYywgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0LCBmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtaWQgPSB0aGlzLmxpbmVBdChyaWdodE9mZnNldCwgUXVlcnlUeXBlLkJ5UG9zLCBkb2MsIHRvcCwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGlmIChmcm9tIDwgbWlkLmZyb20pXG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0LmZvckVhY2hMaW5lKGZyb20sIG1pZC5mcm9tIC0gMSwgZG9jLCB0b3AsIG9mZnNldCwgZik7XG4gICAgICAgICAgICBpZiAobWlkLnRvID49IGZyb20gJiYgbWlkLmZyb20gPD0gdG8pXG4gICAgICAgICAgICAgICAgZihtaWQpO1xuICAgICAgICAgICAgaWYgKHRvID4gbWlkLnRvKVxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQuZm9yRWFjaExpbmUobWlkLnRvICsgMSwgdG8sIGRvYywgcmlnaHRUb3AsIHJpZ2h0T2Zmc2V0LCBmKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXBsYWNlKGZyb20sIHRvLCBub2Rlcykge1xuICAgICAgICBsZXQgcmlnaHRTdGFydCA9IHRoaXMubGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrO1xuICAgICAgICBpZiAodG8gPCByaWdodFN0YXJ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQodGhpcy5sZWZ0LnJlcGxhY2UoZnJvbSwgdG8sIG5vZGVzKSwgdGhpcy5yaWdodCk7XG4gICAgICAgIGlmIChmcm9tID4gdGhpcy5sZWZ0Lmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmJhbGFuY2VkKHRoaXMubGVmdCwgdGhpcy5yaWdodC5yZXBsYWNlKGZyb20gLSByaWdodFN0YXJ0LCB0byAtIHJpZ2h0U3RhcnQsIG5vZGVzKSk7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKGZyb20gPiAwKVxuICAgICAgICAgICAgdGhpcy5kZWNvbXBvc2VMZWZ0KGZyb20sIHJlc3VsdCk7XG4gICAgICAgIGxldCBsZWZ0ID0gcmVzdWx0Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBub2RlcylcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICBtZXJnZUdhcHMocmVzdWx0LCBsZWZ0IC0gMSk7XG4gICAgICAgIGlmICh0byA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5kZWNvbXBvc2VSaWdodCh0bywgcmVzdWx0KTtcbiAgICAgICAgICAgIG1lcmdlR2FwcyhyZXN1bHQsIHJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKHJlc3VsdCk7XG4gICAgfVxuICAgIGRlY29tcG9zZUxlZnQodG8sIHJlc3VsdCkge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMubGVmdC5sZW5ndGg7XG4gICAgICAgIGlmICh0byA8PSBsZWZ0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5kZWNvbXBvc2VMZWZ0KHRvLCByZXN1bHQpO1xuICAgICAgICByZXN1bHQucHVzaCh0aGlzLmxlZnQpO1xuICAgICAgICBpZiAodGhpcy5icmVhaykge1xuICAgICAgICAgICAgbGVmdCsrO1xuICAgICAgICAgICAgaWYgKHRvID49IGxlZnQpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvID4gbGVmdClcbiAgICAgICAgICAgIHRoaXMucmlnaHQuZGVjb21wb3NlTGVmdCh0byAtIGxlZnQsIHJlc3VsdCk7XG4gICAgfVxuICAgIGRlY29tcG9zZVJpZ2h0KGZyb20sIHJlc3VsdCkge1xuICAgICAgICBsZXQgbGVmdCA9IHRoaXMubGVmdC5sZW5ndGgsIHJpZ2h0ID0gbGVmdCArIHRoaXMuYnJlYWs7XG4gICAgICAgIGlmIChmcm9tID49IHJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuZGVjb21wb3NlUmlnaHQoZnJvbSAtIHJpZ2h0LCByZXN1bHQpO1xuICAgICAgICBpZiAoZnJvbSA8IGxlZnQpXG4gICAgICAgICAgICB0aGlzLmxlZnQuZGVjb21wb3NlUmlnaHQoZnJvbSwgcmVzdWx0KTtcbiAgICAgICAgaWYgKHRoaXMuYnJlYWsgJiYgZnJvbSA8IHJpZ2h0KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2gobnVsbCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKHRoaXMucmlnaHQpO1xuICAgIH1cbiAgICBiYWxhbmNlZChsZWZ0LCByaWdodCkge1xuICAgICAgICBpZiAobGVmdC5zaXplID4gMiAqIHJpZ2h0LnNpemUgfHwgcmlnaHQuc2l6ZSA+IDIgKiBsZWZ0LnNpemUpXG4gICAgICAgICAgICByZXR1cm4gSGVpZ2h0TWFwLm9mKHRoaXMuYnJlYWsgPyBbbGVmdCwgbnVsbCwgcmlnaHRdIDogW2xlZnQsIHJpZ2h0XSk7XG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBsZWZ0LmhlaWdodCArIHJpZ2h0LmhlaWdodDtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGxlZnQub3V0ZGF0ZWQgfHwgcmlnaHQub3V0ZGF0ZWQ7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGxlZnQuc2l6ZSArIHJpZ2h0LnNpemU7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVmdC5sZW5ndGggKyB0aGlzLmJyZWFrICsgcmlnaHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0ID0gMCwgZm9yY2UgPSBmYWxzZSwgbWVhc3VyZWQpIHtcbiAgICAgICAgbGV0IHsgbGVmdCwgcmlnaHQgfSA9IHRoaXMsIHJpZ2h0U3RhcnQgPSBvZmZzZXQgKyBsZWZ0Lmxlbmd0aCArIHRoaXMuYnJlYWssIHJlYmFsYW5jZSA9IG51bGw7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IG9mZnNldCArIGxlZnQubGVuZ3RoICYmIG1lYXN1cmVkLm1vcmUpXG4gICAgICAgICAgICByZWJhbGFuY2UgPSBsZWZ0ID0gbGVmdC51cGRhdGVIZWlnaHQob3JhY2xlLCBvZmZzZXQsIGZvcmNlLCBtZWFzdXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxlZnQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgb2Zmc2V0LCBmb3JjZSk7XG4gICAgICAgIGlmIChtZWFzdXJlZCAmJiBtZWFzdXJlZC5mcm9tIDw9IHJpZ2h0U3RhcnQgKyByaWdodC5sZW5ndGggJiYgbWVhc3VyZWQubW9yZSlcbiAgICAgICAgICAgIHJlYmFsYW5jZSA9IHJpZ2h0ID0gcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UsIG1lYXN1cmVkKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmlnaHQudXBkYXRlSGVpZ2h0KG9yYWNsZSwgcmlnaHRTdGFydCwgZm9yY2UpO1xuICAgICAgICBpZiAocmViYWxhbmNlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmFsYW5jZWQobGVmdCwgcmlnaHQpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMubGVmdC5oZWlnaHQgKyB0aGlzLnJpZ2h0LmhlaWdodDtcbiAgICAgICAgdGhpcy5vdXRkYXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7IHJldHVybiB0aGlzLmxlZnQgKyAodGhpcy5icmVhayA/IFwiIFwiIDogXCItXCIpICsgdGhpcy5yaWdodDsgfVxufVxuZnVuY3Rpb24gbWVyZ2VHYXBzKG5vZGVzLCBhcm91bmQpIHtcbiAgICBsZXQgYmVmb3JlLCBhZnRlcjtcbiAgICBpZiAobm9kZXNbYXJvdW5kXSA9PSBudWxsICYmXG4gICAgICAgIChiZWZvcmUgPSBub2Rlc1thcm91bmQgLSAxXSkgaW5zdGFuY2VvZiBIZWlnaHRNYXBHYXAgJiZcbiAgICAgICAgKGFmdGVyID0gbm9kZXNbYXJvdW5kICsgMV0pIGluc3RhbmNlb2YgSGVpZ2h0TWFwR2FwKVxuICAgICAgICBub2Rlcy5zcGxpY2UoYXJvdW5kIC0gMSwgMywgbmV3IEhlaWdodE1hcEdhcChiZWZvcmUubGVuZ3RoICsgMSArIGFmdGVyLmxlbmd0aCkpO1xufVxuY29uc3QgcmVsZXZhbnRXaWRnZXRIZWlnaHQgPSA1O1xuY2xhc3MgTm9kZUJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKHBvcywgb3JhY2xlKSB7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLm9yYWNsZSA9IG9yYWNsZTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgICAgICB0aGlzLmxpbmVTdGFydCA9IC0xO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSAtMTtcbiAgICAgICAgdGhpcy5jb3ZlcmluZyA9IG51bGw7XG4gICAgICAgIHRoaXMud3JpdHRlblRvID0gcG9zO1xuICAgIH1cbiAgICBnZXQgaXNDb3ZlcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb3ZlcmluZyAmJiB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gPT0gdGhpcy5jb3ZlcmluZztcbiAgICB9XG4gICAgc3BhbihfZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbih0bywgdGhpcy5saW5lRW5kKSwgbGFzdCA9IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChsYXN0IGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBsYXN0Lmxlbmd0aCArPSBlbmQgLSB0aGlzLnBvcztcbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZCA+IHRoaXMucG9zIHx8ICF0aGlzLmlzQ292ZXJlZClcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoZW5kIC0gdGhpcy5wb3MsIC0xKSk7XG4gICAgICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IGVuZDtcbiAgICAgICAgICAgIGlmICh0byA+IGVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXR0ZW5UbysrO1xuICAgICAgICAgICAgICAgIHRoaXMubGluZVN0YXJ0ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSB0bztcbiAgICB9XG4gICAgcG9pbnQoZnJvbSwgdG8sIGRlY28pIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBkZWNvLmhlaWdodFJlbGV2YW50KSB7XG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gZGVjby53aWRnZXQgPyBkZWNvLndpZGdldC5lc3RpbWF0ZWRIZWlnaHQgOiAwO1xuICAgICAgICAgICAgaWYgKGhlaWdodCA8IDApXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5vcmFjbGUubGluZUhlaWdodDtcbiAgICAgICAgICAgIGxldCBsZW4gPSB0byAtIGZyb207XG4gICAgICAgICAgICBpZiAoZGVjby5ibG9jaykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQmxvY2sobmV3IEhlaWdodE1hcEJsb2NrKGxlbiwgaGVpZ2h0LCBkZWNvLnR5cGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxlbiB8fCBoZWlnaHQgPj0gcmVsZXZhbnRXaWRnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZExpbmVEZWNvKGhlaWdodCwgbGVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0byA+IGZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuc3Bhbihmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubGluZUVuZCA+IC0xICYmIHRoaXMubGluZUVuZCA8IHRoaXMucG9zKVxuICAgICAgICAgICAgdGhpcy5saW5lRW5kID0gdGhpcy5vcmFjbGUuZG9jLmxpbmVBdCh0aGlzLnBvcykudG87XG4gICAgfVxuICAgIGVudGVyTGluZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGluZVN0YXJ0ID4gLTEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLm9yYWNsZS5kb2MubGluZUF0KHRoaXMucG9zKTtcbiAgICAgICAgdGhpcy5saW5lU3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmxpbmVFbmQgPSB0bztcbiAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMud3JpdHRlblRvIDwgZnJvbSAtIDEgfHwgdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdID09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKHRoaXMuYmxhbmtDb250ZW50KHRoaXMud3JpdHRlblRvLCBmcm9tIC0gMSkpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA+IGZyb20pXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQodGhpcy5wb3MgLSBmcm9tLCAtMSkpO1xuICAgICAgICB0aGlzLndyaXR0ZW5UbyA9IHRoaXMucG9zO1xuICAgIH1cbiAgICBibGFua0NvbnRlbnQoZnJvbSwgdG8pIHtcbiAgICAgICAgbGV0IGdhcCA9IG5ldyBIZWlnaHRNYXBHYXAodG8gLSBmcm9tKTtcbiAgICAgICAgaWYgKHRoaXMub3JhY2xlLmRvYy5saW5lQXQoZnJvbSkudG8gPT0gdG8pXG4gICAgICAgICAgICBnYXAuZmxhZ3MgfD0gNCAvKiBGbGFnLlNpbmdsZUxpbmUgKi87XG4gICAgICAgIHJldHVybiBnYXA7XG4gICAgfVxuICAgIGVuc3VyZUxpbmUoKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5ub2Rlcy5sZW5ndGggPyB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgICBpZiAobGFzdCBpbnN0YW5jZW9mIEhlaWdodE1hcFRleHQpXG4gICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgbGV0IGxpbmUgPSBuZXcgSGVpZ2h0TWFwVGV4dCgwLCAtMSk7XG4gICAgICAgIHRoaXMubm9kZXMucHVzaChsaW5lKTtcbiAgICAgICAgcmV0dXJuIGxpbmU7XG4gICAgfVxuICAgIGFkZEJsb2NrKGJsb2NrKSB7XG4gICAgICAgIHRoaXMuZW50ZXJMaW5lKCk7XG4gICAgICAgIGlmIChibG9jay50eXBlID09IEJsb2NrVHlwZS5XaWRnZXRBZnRlciAmJiAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICB0aGlzLmVuc3VyZUxpbmUoKTtcbiAgICAgICAgdGhpcy5ub2Rlcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcyA9IHRoaXMucG9zICsgYmxvY2subGVuZ3RoO1xuICAgICAgICBpZiAoYmxvY2sudHlwZSAhPSBCbG9ja1R5cGUuV2lkZ2V0QmVmb3JlKVxuICAgICAgICAgICAgdGhpcy5jb3ZlcmluZyA9IGJsb2NrO1xuICAgIH1cbiAgICBhZGRMaW5lRGVjbyhoZWlnaHQsIGxlbmd0aCkge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuZW5zdXJlTGluZSgpO1xuICAgICAgICBsaW5lLmxlbmd0aCArPSBsZW5ndGg7XG4gICAgICAgIGxpbmUuY29sbGFwc2VkICs9IGxlbmd0aDtcbiAgICAgICAgbGluZS53aWRnZXRIZWlnaHQgPSBNYXRoLm1heChsaW5lLndpZGdldEhlaWdodCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy53cml0dGVuVG8gPSB0aGlzLnBvcyA9IHRoaXMucG9zICsgbGVuZ3RoO1xuICAgIH1cbiAgICBmaW5pc2goZnJvbSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRoaXMubm9kZXMubGVuZ3RoID09IDAgPyBudWxsIDogdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy5saW5lU3RhcnQgPiAtMSAmJiAhKGxhc3QgaW5zdGFuY2VvZiBIZWlnaHRNYXBUZXh0KSAmJiAhdGhpcy5pc0NvdmVyZWQpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2gobmV3IEhlaWdodE1hcFRleHQoMCwgLTEpKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy53cml0dGVuVG8gPCB0aGlzLnBvcyB8fCBsYXN0ID09IG51bGwpXG4gICAgICAgICAgICB0aGlzLm5vZGVzLnB1c2godGhpcy5ibGFua0NvbnRlbnQodGhpcy53cml0dGVuVG8sIHRoaXMucG9zKSk7XG4gICAgICAgIGxldCBwb3MgPSBmcm9tO1xuICAgICAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgSGVpZ2h0TWFwVGV4dClcbiAgICAgICAgICAgICAgICBub2RlLnVwZGF0ZUhlaWdodCh0aGlzLm9yYWNsZSwgcG9zKTtcbiAgICAgICAgICAgIHBvcyArPSBub2RlID8gbm9kZS5sZW5ndGggOiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICAgIH1cbiAgICAvLyBBbHdheXMgY2FsbGVkIHdpdGggYSByZWdpb24gdGhhdCBvbiBib3RoIHNpZGVzIGVpdGhlciBzdHJldGNoZXNcbiAgICAvLyB0byBhIGxpbmUgYnJlYWsgb3IgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgLy8gVGhlIHJldHVybmVkIGFycmF5IHVzZXMgbnVsbCB0byBpbmRpY2F0ZSBsaW5lIGJyZWFrcywgYnV0IG5ldmVyXG4gICAgLy8gc3RhcnRzIG9yIGVuZHMgaW4gYSBsaW5lIGJyZWFrLCBvciBoYXMgbXVsdGlwbGUgbGluZSBicmVha3MgbmV4dFxuICAgIC8vIHRvIGVhY2ggb3RoZXIuXG4gICAgc3RhdGljIGJ1aWxkKG9yYWNsZSwgZGVjb3JhdGlvbnMsIGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IE5vZGVCdWlsZGVyKGZyb20sIG9yYWNsZSk7XG4gICAgICAgIFJhbmdlU2V0LnNwYW5zKGRlY29yYXRpb25zLCBmcm9tLCB0bywgYnVpbGRlciwgMCk7XG4gICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaChmcm9tKTtcbiAgICB9XG59XG5mdW5jdGlvbiBoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzKGEsIGIsIGRpZmYpIHtcbiAgICBsZXQgY29tcCA9IG5ldyBEZWNvcmF0aW9uQ29tcGFyYXRvcjtcbiAgICBSYW5nZVNldC5jb21wYXJlKGEsIGIsIGRpZmYsIGNvbXAsIDApO1xuICAgIHJldHVybiBjb21wLmNoYW5nZXM7XG59XG5jbGFzcyBEZWNvcmF0aW9uQ29tcGFyYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IFtdO1xuICAgIH1cbiAgICBjb21wYXJlUmFuZ2UoKSB7IH1cbiAgICBjb21wYXJlUG9pbnQoZnJvbSwgdG8sIGEsIGIpIHtcbiAgICAgICAgaWYgKGZyb20gPCB0byB8fCBhICYmIGEuaGVpZ2h0UmVsZXZhbnQgfHwgYiAmJiBiLmhlaWdodFJlbGV2YW50KVxuICAgICAgICAgICAgYWRkUmFuZ2UoZnJvbSwgdG8sIHRoaXMuY2hhbmdlcywgNSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB2aXNpYmxlUGl4ZWxSYW5nZShkb20sIHBhZGRpbmdUb3ApIHtcbiAgICBsZXQgcmVjdCA9IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgZG9jID0gZG9tLm93bmVyRG9jdW1lbnQsIHdpbiA9IGRvYy5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgbGV0IGxlZnQgPSBNYXRoLm1heCgwLCByZWN0LmxlZnQpLCByaWdodCA9IE1hdGgubWluKHdpbi5pbm5lcldpZHRoLCByZWN0LnJpZ2h0KTtcbiAgICBsZXQgdG9wID0gTWF0aC5tYXgoMCwgcmVjdC50b3ApLCBib3R0b20gPSBNYXRoLm1pbih3aW4uaW5uZXJIZWlnaHQsIHJlY3QuYm90dG9tKTtcbiAgICBmb3IgKGxldCBwYXJlbnQgPSBkb20ucGFyZW50Tm9kZTsgcGFyZW50ICYmIHBhcmVudCAhPSBkb2MuYm9keTspIHtcbiAgICAgICAgaWYgKHBhcmVudC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgZWx0ID0gcGFyZW50O1xuICAgICAgICAgICAgbGV0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWx0KTtcbiAgICAgICAgICAgIGlmICgoZWx0LnNjcm9sbEhlaWdodCA+IGVsdC5jbGllbnRIZWlnaHQgfHwgZWx0LnNjcm9sbFdpZHRoID4gZWx0LmNsaWVudFdpZHRoKSAmJlxuICAgICAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ICE9IFwidmlzaWJsZVwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudFJlY3QgPSBlbHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIHBhcmVudFJlY3QubGVmdCk7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgcGFyZW50UmVjdC5yaWdodCk7XG4gICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBwYXJlbnRSZWN0LnRvcCk7XG4gICAgICAgICAgICAgICAgYm90dG9tID0gcGFyZW50ID09IGRvbS5wYXJlbnROb2RlID8gcGFyZW50UmVjdC5ib3R0b20gOiBNYXRoLm1pbihib3R0b20sIHBhcmVudFJlY3QuYm90dG9tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHN0eWxlLnBvc2l0aW9uID09IFwiYWJzb2x1dGVcIiB8fCBzdHlsZS5wb3NpdGlvbiA9PSBcImZpeGVkXCIgPyBlbHQub2Zmc2V0UGFyZW50IDogZWx0LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50Lm5vZGVUeXBlID09IDExKSB7IC8vIFNoYWRvdyByb290XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGxlZnQ6IGxlZnQgLSByZWN0LmxlZnQsIHJpZ2h0OiBNYXRoLm1heChsZWZ0LCByaWdodCkgLSByZWN0LmxlZnQsXG4gICAgICAgIHRvcDogdG9wIC0gKHJlY3QudG9wICsgcGFkZGluZ1RvcCksIGJvdHRvbTogTWF0aC5tYXgodG9wLCBib3R0b20pIC0gKHJlY3QudG9wICsgcGFkZGluZ1RvcCkgfTtcbn1cbmZ1bmN0aW9uIGZ1bGxQaXhlbFJhbmdlKGRvbSwgcGFkZGluZ1RvcCkge1xuICAgIGxldCByZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0LFxuICAgICAgICB0b3A6IHBhZGRpbmdUb3AsIGJvdHRvbTogcmVjdC5ib3R0b20gLSAocmVjdC50b3AgKyBwYWRkaW5nVG9wKSB9O1xufVxuLy8gTGluZSBnYXBzIGFyZSBwbGFjZWhvbGRlciB3aWRnZXRzIHVzZWQgdG8gaGlkZSBwaWVjZXMgb2Ygb3Zlcmxvbmdcbi8vIGxpbmVzIHdpdGhpbiB0aGUgdmlld3BvcnQsIGFzIGEga2x1ZGdlIHRvIGtlZXAgdGhlIGVkaXRvclxuLy8gcmVzcG9uc2l2ZSB3aGVuIGEgcmlkaWN1bG91c2x5IGxvbmcgbGluZSBpcyBsb2FkZWQgaW50byBpdC5cbmNsYXNzIExpbmVHYXAge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBzaXplKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB9XG4gICAgc3RhdGljIHNhbWUoYSwgYikge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGdBID0gYVtpXSwgZ0IgPSBiW2ldO1xuICAgICAgICAgICAgaWYgKGdBLmZyb20gIT0gZ0IuZnJvbSB8fCBnQS50byAhPSBnQi50byB8fCBnQS5zaXplICE9IGdCLnNpemUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBkcmF3KHdyYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLnJlcGxhY2UoeyB3aWRnZXQ6IG5ldyBMaW5lR2FwV2lkZ2V0KHRoaXMuc2l6ZSwgd3JhcHBpbmcpIH0pLnJhbmdlKHRoaXMuZnJvbSwgdGhpcy50byk7XG4gICAgfVxufVxuY2xhc3MgTGluZUdhcFdpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHNpemUsIHZlcnRpY2FsKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMudmVydGljYWwgPSB2ZXJ0aWNhbDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLnNpemUgPT0gdGhpcy5zaXplICYmIG90aGVyLnZlcnRpY2FsID09IHRoaXMudmVydGljYWw7IH1cbiAgICB0b0RPTSgpIHtcbiAgICAgICAgbGV0IGVsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBlbHQuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zaXplICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWx0LnN0eWxlLndpZHRoID0gdGhpcy5zaXplICsgXCJweFwiO1xuICAgICAgICAgICAgZWx0LnN0eWxlLmhlaWdodCA9IFwiMnB4XCI7XG4gICAgICAgICAgICBlbHQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG4gICAgZ2V0IGVzdGltYXRlZEhlaWdodCgpIHsgcmV0dXJuIHRoaXMudmVydGljYWwgPyB0aGlzLnNpemUgOiAtMTsgfVxufVxuY2xhc3MgVmlld1N0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGF0ZSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIC8vIFRoZXNlIGFyZSBjb250ZW50RE9NLWxvY2FsIGNvb3JkaW5hdGVzXG4gICAgICAgIHRoaXMucGl4ZWxWaWV3cG9ydCA9IHsgbGVmdDogMCwgcmlnaHQ6IHdpbmRvdy5pbm5lcldpZHRoLCB0b3A6IDAsIGJvdHRvbTogMCB9O1xuICAgICAgICB0aGlzLmluVmlldyA9IHRydWU7XG4gICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IDA7XG4gICAgICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IDA7XG4gICAgICAgIHRoaXMuY29udGVudERPTVdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5jb250ZW50RE9NSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5lZGl0b3JIZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmVkaXRvcldpZHRoID0gMDtcbiAgICAgICAgLy8gU2VlIFZQLk1heERPTUhlaWdodFxuICAgICAgICB0aGlzLnNjYWxlciA9IElkU2NhbGVyO1xuICAgICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIEJyaWVmbHkgc2V0IHRvIHRydWUgd2hlbiBwcmludGluZywgdG8gZGlzYWJsZSB2aWV3cG9ydCBsaW1pdGluZ1xuICAgICAgICB0aGlzLnByaW50aW5nID0gZmFsc2U7XG4gICAgICAgIC8vIEZsYWcgc2V0IHdoZW4gZWRpdG9yIGNvbnRlbnQgd2FzIHJlZHJhd24sIHNvIHRoYXQgdGhlIG5leHRcbiAgICAgICAgLy8gbWVhc3VyZSBzdGFnZSBrbm93cyBpdCBtdXN0IHJlYWQgRE9NIGxheW91dFxuICAgICAgICB0aGlzLm11c3RNZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBEaXJlY3Rpb24uTFRSO1xuICAgICAgICB0aGlzLnZpc2libGVSYW5nZXMgPSBbXTtcbiAgICAgICAgLy8gQ3Vyc29yICdhc3NvYycgaXMgb25seSBzaWduaWZpY2FudCB3aGVuIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lXG4gICAgICAgIC8vIHdyYXAgcG9pbnQsIHdoZXJlIGl0IG11c3Qgc3RpY2sgdG8gdGhlIGNoYXJhY3RlciB0aGF0IGl0IGlzXG4gICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aC4gU2luY2UgYnJvd3NlcnMgZG9uJ3QgcHJvdmlkZSBhIHJlYXNvbmFibGVcbiAgICAgICAgLy8gaW50ZXJmYWNlIHRvIHNldCBvciBxdWVyeSB0aGlzLCB3aGVuIGEgc2VsZWN0aW9uIGlzIHNldCB0aGF0XG4gICAgICAgIC8vIG1pZ2h0IGNhdXNlIHRoaXMgdG8gYmUgc2lnbmlmaWNhbnQsIHRoaXMgZmxhZyBpcyBzZXQuIFRoZSBuZXh0XG4gICAgICAgIC8vIG1lYXN1cmUgcGhhc2Ugd2lsbCBjaGVjayB3aGV0aGVyIHRoZSBjdXJzb3IgaXMgb24gYSBsaW5lLXdyYXBwaW5nXG4gICAgICAgIC8vIGJvdW5kYXJ5IGFuZCwgaWYgc28sIHJlc2V0IGl0IHRvIG1ha2Ugc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGluXG4gICAgICAgIC8vIHRoZSByaWdodCBwbGFjZS5cbiAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gZmFsc2U7XG4gICAgICAgIGxldCBndWVzc1dyYXBwaW5nID0gc3RhdGUuZmFjZXQoY29udGVudEF0dHJpYnV0ZXMpLnNvbWUodiA9PiB0eXBlb2YgdiAhPSBcImZ1bmN0aW9uXCIgJiYgdi5jbGFzcyA9PSBcImNtLWxpbmVXcmFwcGluZ1wiKTtcbiAgICAgICAgdGhpcy5oZWlnaHRPcmFjbGUgPSBuZXcgSGVpZ2h0T3JhY2xlKGd1ZXNzV3JhcHBpbmcpO1xuICAgICAgICB0aGlzLnN0YXRlRGVjbyA9IHN0YXRlLmZhY2V0KGRlY29yYXRpb25zKS5maWx0ZXIoZCA9PiB0eXBlb2YgZCAhPSBcImZ1bmN0aW9uXCIpO1xuICAgICAgICB0aGlzLmhlaWdodE1hcCA9IEhlaWdodE1hcC5lbXB0eSgpLmFwcGx5Q2hhbmdlcyh0aGlzLnN0YXRlRGVjbywgVGV4dC5lbXB0eSwgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHN0YXRlLmRvYyksIFtuZXcgQ2hhbmdlZFJhbmdlKDAsIDAsIDAsIHN0YXRlLmRvYy5sZW5ndGgpXSk7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KDAsIG51bGwpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICB0aGlzLmxpbmVHYXBzID0gdGhpcy5lbnN1cmVMaW5lR2FwcyhbXSk7XG4gICAgICAgIHRoaXMubGluZUdhcERlY28gPSBEZWNvcmF0aW9uLnNldCh0aGlzLmxpbmVHYXBzLm1hcChnYXAgPT4gZ2FwLmRyYXcoZmFsc2UpKSk7XG4gICAgICAgIHRoaXMuY29tcHV0ZVZpc2libGVSYW5nZXMoKTtcbiAgICB9XG4gICAgdXBkYXRlRm9yVmlld3BvcnQoKSB7XG4gICAgICAgIGxldCB2aWV3cG9ydHMgPSBbdGhpcy52aWV3cG9ydF0sIHsgbWFpbiB9ID0gdGhpcy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDE7IGkrKykge1xuICAgICAgICAgICAgbGV0IHBvcyA9IGkgPyBtYWluLmhlYWQgOiBtYWluLmFuY2hvcjtcbiAgICAgICAgICAgIGlmICghdmlld3BvcnRzLnNvbWUoKHsgZnJvbSwgdG8gfSkgPT4gcG9zID49IGZyb20gJiYgcG9zIDw9IHRvKSkge1xuICAgICAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB0aGlzLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRzLnB1c2gobmV3IFZpZXdwb3J0KGZyb20sIHRvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMuc29ydCgoYSwgYikgPT4gYS5mcm9tIC0gYi5mcm9tKTtcbiAgICAgICAgdGhpcy5zY2FsZXIgPSB0aGlzLmhlaWdodE1hcC5oZWlnaHQgPD0gNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gPyBJZFNjYWxlciA6XG4gICAgICAgICAgICBuZXcgQmlnU2NhbGVyKHRoaXMuaGVpZ2h0T3JhY2xlLmRvYywgdGhpcy5oZWlnaHRNYXAsIHRoaXMudmlld3BvcnRzKTtcbiAgICB9XG4gICAgdXBkYXRlVmlld3BvcnRMaW5lcygpIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydExpbmVzID0gW107XG4gICAgICAgIHRoaXMuaGVpZ2h0TWFwLmZvckVhY2hMaW5lKHRoaXMudmlld3BvcnQuZnJvbSwgdGhpcy52aWV3cG9ydC50bywgdGhpcy5zdGF0ZS5kb2MsIDAsIDAsIGJsb2NrID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnRMaW5lcy5wdXNoKHRoaXMuc2NhbGVyLnNjYWxlID09IDEgPyBibG9jayA6IHNjYWxlQmxvY2soYmxvY2ssIHRoaXMuc2NhbGVyKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlLCBzY3JvbGxUYXJnZXQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB1cGRhdGUuc3RhdGU7XG4gICAgICAgIGxldCBwcmV2RGVjbyA9IHRoaXMuc3RhdGVEZWNvO1xuICAgICAgICB0aGlzLnN0YXRlRGVjbyA9IHRoaXMuc3RhdGUuZmFjZXQoZGVjb3JhdGlvbnMpLmZpbHRlcihkID0+IHR5cGVvZiBkICE9IFwiZnVuY3Rpb25cIik7XG4gICAgICAgIGxldCBjb250ZW50Q2hhbmdlcyA9IHVwZGF0ZS5jaGFuZ2VkUmFuZ2VzO1xuICAgICAgICBsZXQgaGVpZ2h0Q2hhbmdlcyA9IENoYW5nZWRSYW5nZS5leHRlbmRXaXRoUmFuZ2VzKGNvbnRlbnRDaGFuZ2VzLCBoZWlnaHRSZWxldmFudERlY29DaGFuZ2VzKHByZXZEZWNvLCB0aGlzLnN0YXRlRGVjbywgdXBkYXRlID8gdXBkYXRlLmNoYW5nZXMgOiBDaGFuZ2VTZXQuZW1wdHkodGhpcy5zdGF0ZS5kb2MubGVuZ3RoKSkpO1xuICAgICAgICBsZXQgcHJldkhlaWdodCA9IHRoaXMuaGVpZ2h0TWFwLmhlaWdodDtcbiAgICAgICAgdGhpcy5oZWlnaHRNYXAgPSB0aGlzLmhlaWdodE1hcC5hcHBseUNoYW5nZXModGhpcy5zdGF0ZURlY28sIHVwZGF0ZS5zdGFydFN0YXRlLmRvYywgdGhpcy5oZWlnaHRPcmFjbGUuc2V0RG9jKHRoaXMuc3RhdGUuZG9jKSwgaGVpZ2h0Q2hhbmdlcyk7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodE1hcC5oZWlnaHQgIT0gcHJldkhlaWdodClcbiAgICAgICAgICAgIHVwZGF0ZS5mbGFncyB8PSAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICBsZXQgdmlld3BvcnQgPSBoZWlnaHRDaGFuZ2VzLmxlbmd0aCA/IHRoaXMubWFwVmlld3BvcnQodGhpcy52aWV3cG9ydCwgdXBkYXRlLmNoYW5nZXMpIDogdGhpcy52aWV3cG9ydDtcbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldCAmJiAoc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPCB2aWV3cG9ydC5mcm9tIHx8IHNjcm9sbFRhcmdldC5yYW5nZS5oZWFkID4gdmlld3BvcnQudG8pIHx8XG4gICAgICAgICAgICAhdGhpcy52aWV3cG9ydElzQXBwcm9wcmlhdGUodmlld3BvcnQpKVxuICAgICAgICAgICAgdmlld3BvcnQgPSB0aGlzLmdldFZpZXdwb3J0KDAsIHNjcm9sbFRhcmdldCk7XG4gICAgICAgIGxldCB1cGRhdGVMaW5lcyA9ICF1cGRhdGUuY2hhbmdlcy5lbXB0eSB8fCAodXBkYXRlLmZsYWdzICYgMiAvKiBVcGRhdGVGbGFnLkhlaWdodCAqLykgfHxcbiAgICAgICAgICAgIHZpZXdwb3J0LmZyb20gIT0gdGhpcy52aWV3cG9ydC5mcm9tIHx8IHZpZXdwb3J0LnRvICE9IHRoaXMudmlld3BvcnQudG87XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JWaWV3cG9ydCgpO1xuICAgICAgICBpZiAodXBkYXRlTGluZXMpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0TGluZXMoKTtcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoIHx8IHRoaXMudmlld3BvcnQudG8gLSB0aGlzLnZpZXdwb3J0LmZyb20gPiAoMjAwMCAvKiBMRy5NYXJnaW4gKi8gPDwgMSkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpbmVHYXBzKHRoaXMuZW5zdXJlTGluZUdhcHModGhpcy5tYXBMaW5lR2Fwcyh0aGlzLmxpbmVHYXBzLCB1cGRhdGUuY2hhbmdlcykpKTtcbiAgICAgICAgdXBkYXRlLmZsYWdzIHw9IHRoaXMuY29tcHV0ZVZpc2libGVSYW5nZXMoKTtcbiAgICAgICAgaWYgKHNjcm9sbFRhcmdldClcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0ID0gc2Nyb2xsVGFyZ2V0O1xuICAgICAgICBpZiAoIXRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyAmJiB1cGRhdGUuc2VsZWN0aW9uU2V0ICYmIHVwZGF0ZS52aWV3LmxpbmVXcmFwcGluZyAmJlxuICAgICAgICAgICAgdXBkYXRlLnN0YXRlLnNlbGVjdGlvbi5tYWluLmVtcHR5ICYmIHVwZGF0ZS5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5hc3NvYyAmJlxuICAgICAgICAgICAgIXVwZGF0ZS5zdGF0ZS5mYWNldChuYXRpdmVTZWxlY3Rpb25IaWRkZW4pKVxuICAgICAgICAgICAgdGhpcy5tdXN0RW5mb3JjZUN1cnNvckFzc29jID0gdHJ1ZTtcbiAgICB9XG4gICAgbWVhc3VyZSh2aWV3KSB7XG4gICAgICAgIGxldCBkb20gPSB2aWV3LmNvbnRlbnRET00sIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tKTtcbiAgICAgICAgbGV0IG9yYWNsZSA9IHRoaXMuaGVpZ2h0T3JhY2xlO1xuICAgICAgICBsZXQgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gPSBzdHlsZS5kaXJlY3Rpb24gPT0gXCJydGxcIiA/IERpcmVjdGlvbi5SVEwgOiBEaXJlY3Rpb24uTFRSO1xuICAgICAgICBsZXQgcmVmcmVzaCA9IHRoaXMuaGVpZ2h0T3JhY2xlLm11c3RSZWZyZXNoRm9yV3JhcHBpbmcod2hpdGVTcGFjZSk7XG4gICAgICAgIGxldCBtZWFzdXJlQ29udGVudCA9IHJlZnJlc2ggfHwgdGhpcy5tdXN0TWVhc3VyZUNvbnRlbnQgfHwgdGhpcy5jb250ZW50RE9NSGVpZ2h0ICE9IGRvbS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMuY29udGVudERPTUhlaWdodCA9IGRvbS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMubXVzdE1lYXN1cmVDb250ZW50ID0gZmFsc2U7XG4gICAgICAgIGxldCByZXN1bHQgPSAwLCBiaWFzID0gMDtcbiAgICAgICAgLy8gVmVydGljYWwgcGFkZGluZ1xuICAgICAgICBsZXQgcGFkZGluZ1RvcCA9IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdUb3ApIHx8IDAsIHBhZGRpbmdCb3R0b20gPSBwYXJzZUludChzdHlsZS5wYWRkaW5nQm90dG9tKSB8fCAwO1xuICAgICAgICBpZiAodGhpcy5wYWRkaW5nVG9wICE9IHBhZGRpbmdUb3AgfHwgdGhpcy5wYWRkaW5nQm90dG9tICE9IHBhZGRpbmdCb3R0b20pIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3A7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tO1xuICAgICAgICAgICAgcmVzdWx0IHw9IDggLyogVXBkYXRlRmxhZy5HZW9tZXRyeSAqLyB8IDIgLyogVXBkYXRlRmxhZy5IZWlnaHQgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWRpdG9yV2lkdGggIT0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgIGlmIChvcmFjbGUubGluZVdyYXBwaW5nKVxuICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yV2lkdGggPSB2aWV3LnNjcm9sbERPTS5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGl4ZWwgdmlld3BvcnRcbiAgICAgICAgbGV0IHBpeGVsVmlld3BvcnQgPSAodGhpcy5wcmludGluZyA/IGZ1bGxQaXhlbFJhbmdlIDogdmlzaWJsZVBpeGVsUmFuZ2UpKGRvbSwgdGhpcy5wYWRkaW5nVG9wKTtcbiAgICAgICAgbGV0IGRUb3AgPSBwaXhlbFZpZXdwb3J0LnRvcCAtIHRoaXMucGl4ZWxWaWV3cG9ydC50b3AsIGRCb3R0b20gPSBwaXhlbFZpZXdwb3J0LmJvdHRvbSAtIHRoaXMucGl4ZWxWaWV3cG9ydC5ib3R0b207XG4gICAgICAgIHRoaXMucGl4ZWxWaWV3cG9ydCA9IHBpeGVsVmlld3BvcnQ7XG4gICAgICAgIGxldCBpblZpZXcgPSB0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tID4gdGhpcy5waXhlbFZpZXdwb3J0LnRvcCAmJiB0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgPiB0aGlzLnBpeGVsVmlld3BvcnQubGVmdDtcbiAgICAgICAgaWYgKGluVmlldyAhPSB0aGlzLmluVmlldykge1xuICAgICAgICAgICAgdGhpcy5pblZpZXcgPSBpblZpZXc7XG4gICAgICAgICAgICBpZiAoaW5WaWV3KVxuICAgICAgICAgICAgICAgIG1lYXN1cmVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuaW5WaWV3ICYmICF0aGlzLnNjcm9sbFRhcmdldClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgY29udGVudFdpZHRoID0gZG9tLmNsaWVudFdpZHRoO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50RE9NV2lkdGggIT0gY29udGVudFdpZHRoIHx8IHRoaXMuZWRpdG9ySGVpZ2h0ICE9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50RE9NV2lkdGggPSBjb250ZW50V2lkdGg7XG4gICAgICAgICAgICB0aGlzLmVkaXRvckhlaWdodCA9IHZpZXcuc2Nyb2xsRE9NLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lYXN1cmVDb250ZW50KSB7XG4gICAgICAgICAgICBsZXQgbGluZUhlaWdodHMgPSB2aWV3LmRvY1ZpZXcubWVhc3VyZVZpc2libGVMaW5lSGVpZ2h0cyh0aGlzLnZpZXdwb3J0KTtcbiAgICAgICAgICAgIGlmIChvcmFjbGUubXVzdFJlZnJlc2hGb3JIZWlnaHRzKGxpbmVIZWlnaHRzKSlcbiAgICAgICAgICAgICAgICByZWZyZXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChyZWZyZXNoIHx8IG9yYWNsZS5saW5lV3JhcHBpbmcgJiYgTWF0aC5hYnMoY29udGVudFdpZHRoIC0gdGhpcy5jb250ZW50RE9NV2lkdGgpID4gb3JhY2xlLmNoYXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIGxldCB7IGxpbmVIZWlnaHQsIGNoYXJXaWR0aCB9ID0gdmlldy5kb2NWaWV3Lm1lYXN1cmVUZXh0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2ggPSBsaW5lSGVpZ2h0ID4gMCAmJiBvcmFjbGUucmVmcmVzaCh3aGl0ZVNwYWNlLCBsaW5lSGVpZ2h0LCBjaGFyV2lkdGgsIGNvbnRlbnRXaWR0aCAvIGNoYXJXaWR0aCwgbGluZUhlaWdodHMpO1xuICAgICAgICAgICAgICAgIGlmIChyZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZG9jVmlldy5taW5XaWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCB8PSA4IC8qIFVwZGF0ZUZsYWcuR2VvbWV0cnkgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRUb3AgPiAwICYmIGRCb3R0b20gPiAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1heChkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGRUb3AgPCAwICYmIGRCb3R0b20gPCAwKVxuICAgICAgICAgICAgICAgIGJpYXMgPSBNYXRoLm1pbihkVG9wLCBkQm90dG9tKTtcbiAgICAgICAgICAgIG9yYWNsZS5oZWlnaHRDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCB2cCBvZiB0aGlzLnZpZXdwb3J0cykge1xuICAgICAgICAgICAgICAgIGxldCBoZWlnaHRzID0gdnAuZnJvbSA9PSB0aGlzLnZpZXdwb3J0LmZyb20gPyBsaW5lSGVpZ2h0cyA6IHZpZXcuZG9jVmlldy5tZWFzdXJlVmlzaWJsZUxpbmVIZWlnaHRzKHZwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodE1hcCA9IChyZWZyZXNoID8gSGVpZ2h0TWFwLmVtcHR5KCkuYXBwbHlDaGFuZ2VzKHRoaXMuc3RhdGVEZWNvLCBUZXh0LmVtcHR5LCB0aGlzLmhlaWdodE9yYWNsZSwgW25ldyBDaGFuZ2VkUmFuZ2UoMCwgMCwgMCwgdmlldy5zdGF0ZS5kb2MubGVuZ3RoKV0pIDogdGhpcy5oZWlnaHRNYXApLnVwZGF0ZUhlaWdodChvcmFjbGUsIDAsIHJlZnJlc2gsIG5ldyBNZWFzdXJlZEhlaWdodHModnAuZnJvbSwgaGVpZ2h0cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9yYWNsZS5oZWlnaHRDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHJlc3VsdCB8PSAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3cG9ydENoYW5nZSA9ICF0aGlzLnZpZXdwb3J0SXNBcHByb3ByaWF0ZSh0aGlzLnZpZXdwb3J0LCBiaWFzKSB8fFxuICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQgJiYgKHRoaXMuc2Nyb2xsVGFyZ2V0LnJhbmdlLmhlYWQgPCB0aGlzLnZpZXdwb3J0LmZyb20gfHwgdGhpcy5zY3JvbGxUYXJnZXQucmFuZ2UuaGVhZCA+IHRoaXMudmlld3BvcnQudG8pO1xuICAgICAgICBpZiAodmlld3BvcnRDaGFuZ2UpXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydChiaWFzLCB0aGlzLnNjcm9sbFRhcmdldCk7XG4gICAgICAgIHRoaXMudXBkYXRlRm9yVmlld3BvcnQoKTtcbiAgICAgICAgaWYgKChyZXN1bHQgJiAyIC8qIFVwZGF0ZUZsYWcuSGVpZ2h0ICovKSB8fCB2aWV3cG9ydENoYW5nZSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnRMaW5lcygpO1xuICAgICAgICBpZiAodGhpcy5saW5lR2Fwcy5sZW5ndGggfHwgdGhpcy52aWV3cG9ydC50byAtIHRoaXMudmlld3BvcnQuZnJvbSA+ICgyMDAwIC8qIExHLk1hcmdpbiAqLyA8PCAxKSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGluZUdhcHModGhpcy5lbnN1cmVMaW5lR2FwcyhyZWZyZXNoID8gW10gOiB0aGlzLmxpbmVHYXBzLCB2aWV3KSk7XG4gICAgICAgIHJlc3VsdCB8PSB0aGlzLmNvbXB1dGVWaXNpYmxlUmFuZ2VzKCk7XG4gICAgICAgIGlmICh0aGlzLm11c3RFbmZvcmNlQ3Vyc29yQXNzb2MpIHtcbiAgICAgICAgICAgIHRoaXMubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBkb25lIGluIHRoZSByZWFkIHN0YWdlLCBiZWNhdXNlIG1vdmluZyB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAvLyB0byBhIGxpbmUgZW5kIGlzIGdvaW5nIHRvIHRyaWdnZXIgYSBsYXlvdXQgYW55d2F5LCBzbyBpdFxuICAgICAgICAgICAgLy8gY2FuJ3QgYmUgYSBwdXJlIHdyaXRlLiBJdCBzaG91bGQgYmUgcmFyZSB0aGF0IGl0IGRvZXMgYW55XG4gICAgICAgICAgICAvLyB3cml0aW5nLlxuICAgICAgICAgICAgdmlldy5kb2NWaWV3LmVuZm9yY2VDdXJzb3JBc3NvYygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGdldCB2aXNpYmxlVG9wKCkgeyByZXR1cm4gdGhpcy5zY2FsZXIuZnJvbURPTSh0aGlzLnBpeGVsVmlld3BvcnQudG9wKTsgfVxuICAgIGdldCB2aXNpYmxlQm90dG9tKCkgeyByZXR1cm4gdGhpcy5zY2FsZXIuZnJvbURPTSh0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tKTsgfVxuICAgIGdldFZpZXdwb3J0KGJpYXMsIHNjcm9sbFRhcmdldCkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgZGl2aWRlIFZQLk1hcmdpbiBiZXR3ZWVuIHRoZSB0b3AgYW5kIHRoZVxuICAgICAgICAvLyBib3R0b20sIGRlcGVuZGluZyBvbiB0aGUgYmlhcyAodGhlIGNoYW5nZSBpbiB2aWV3cG9ydCBwb3NpdGlvblxuICAgICAgICAvLyBzaW5jZSB0aGUgbGFzdCB1cGRhdGUpLiBJdCdsbCBob2xkIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMVxuICAgICAgICBsZXQgbWFyZ2luVG9wID0gMC41IC0gTWF0aC5tYXgoLTAuNSwgTWF0aC5taW4oMC41LCBiaWFzIC8gMTAwMCAvKiBWUC5NYXJnaW4gKi8gLyAyKSk7XG4gICAgICAgIGxldCBtYXAgPSB0aGlzLmhlaWdodE1hcCwgZG9jID0gdGhpcy5zdGF0ZS5kb2MsIHsgdmlzaWJsZVRvcCwgdmlzaWJsZUJvdHRvbSB9ID0gdGhpcztcbiAgICAgICAgbGV0IHZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KG1hcC5saW5lQXQodmlzaWJsZVRvcCAtIG1hcmdpblRvcCAqIDEwMDAgLyogVlAuTWFyZ2luICovLCBRdWVyeVR5cGUuQnlIZWlnaHQsIGRvYywgMCwgMCkuZnJvbSwgbWFwLmxpbmVBdCh2aXNpYmxlQm90dG9tICsgKDEgLSBtYXJnaW5Ub3ApICogMTAwMCAvKiBWUC5NYXJnaW4gKi8sIFF1ZXJ5VHlwZS5CeUhlaWdodCwgZG9jLCAwLCAwKS50byk7XG4gICAgICAgIC8vIElmIHNjcm9sbFRhcmdldCBpcyBnaXZlbiwgbWFrZSBzdXJlIHRoZSB2aWV3cG9ydCBpbmNsdWRlcyB0aGF0IHBvc2l0aW9uXG4gICAgICAgIGlmIChzY3JvbGxUYXJnZXQpIHtcbiAgICAgICAgICAgIGxldCB7IGhlYWQgfSA9IHNjcm9sbFRhcmdldC5yYW5nZTtcbiAgICAgICAgICAgIGlmIChoZWFkIDwgdmlld3BvcnQuZnJvbSB8fCBoZWFkID4gdmlld3BvcnQudG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgdmlld0hlaWdodCA9IE1hdGgubWluKHRoaXMuZWRpdG9ySGVpZ2h0LCB0aGlzLnBpeGVsVmlld3BvcnQuYm90dG9tIC0gdGhpcy5waXhlbFZpZXdwb3J0LnRvcCk7XG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrID0gbWFwLmxpbmVBdChoZWFkLCBRdWVyeVR5cGUuQnlQb3MsIGRvYywgMCwgMCksIHRvcFBvcztcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0LnkgPT0gXCJjZW50ZXJcIilcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gKGJsb2NrLnRvcCArIGJsb2NrLmJvdHRvbSkgLyAyIC0gdmlld0hlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2Nyb2xsVGFyZ2V0LnkgPT0gXCJzdGFydFwiIHx8IHNjcm9sbFRhcmdldC55ID09IFwibmVhcmVzdFwiICYmIGhlYWQgPCB2aWV3cG9ydC5mcm9tKVxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBibG9jay50b3A7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBibG9jay5ib3R0b20gLSB2aWV3SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KG1hcC5saW5lQXQodG9wUG9zIC0gMTAwMCAvKiBWUC5NYXJnaW4gKi8gLyAyLCBRdWVyeVR5cGUuQnlIZWlnaHQsIGRvYywgMCwgMCkuZnJvbSwgbWFwLmxpbmVBdCh0b3BQb3MgKyB2aWV3SGVpZ2h0ICsgMTAwMCAvKiBWUC5NYXJnaW4gKi8gLyAyLCBRdWVyeVR5cGUuQnlIZWlnaHQsIGRvYywgMCwgMCkudG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3cG9ydDtcbiAgICB9XG4gICAgbWFwVmlld3BvcnQodmlld3BvcnQsIGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC5mcm9tLCAtMSksIHRvID0gY2hhbmdlcy5tYXBQb3Modmlld3BvcnQudG8sIDEpO1xuICAgICAgICByZXR1cm4gbmV3IFZpZXdwb3J0KHRoaXMuaGVpZ2h0TWFwLmxpbmVBdChmcm9tLCBRdWVyeVR5cGUuQnlQb3MsIHRoaXMuc3RhdGUuZG9jLCAwLCAwKS5mcm9tLCB0aGlzLmhlaWdodE1hcC5saW5lQXQodG8sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5zdGF0ZS5kb2MsIDAsIDApLnRvKTtcbiAgICB9XG4gICAgLy8gQ2hlY2tzIGlmIGEgZ2l2ZW4gdmlld3BvcnQgY292ZXJzIHRoZSB2aXNpYmxlIHBhcnQgb2YgdGhlXG4gICAgLy8gZG9jdW1lbnQgYW5kIG5vdCB0b28gbXVjaCBiZXlvbmQgdGhhdC5cbiAgICB2aWV3cG9ydElzQXBwcm9wcmlhdGUoeyBmcm9tLCB0byB9LCBiaWFzID0gMCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5WaWV3KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCB7IHRvcCB9ID0gdGhpcy5oZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5zdGF0ZS5kb2MsIDAsIDApO1xuICAgICAgICBsZXQgeyBib3R0b20gfSA9IHRoaXMuaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCB0aGlzLnN0YXRlLmRvYywgMCwgMCk7XG4gICAgICAgIGxldCB7IHZpc2libGVUb3AsIHZpc2libGVCb3R0b20gfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoZnJvbSA9PSAwIHx8IHRvcCA8PSB2aXNpYmxlVG9wIC0gTWF0aC5tYXgoMTAgLyogVlAuTWluQ292ZXJNYXJnaW4gKi8sIE1hdGgubWluKC1iaWFzLCAyNTAgLyogVlAuTWF4Q292ZXJNYXJnaW4gKi8pKSkgJiZcbiAgICAgICAgICAgICh0byA9PSB0aGlzLnN0YXRlLmRvYy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICBib3R0b20gPj0gdmlzaWJsZUJvdHRvbSArIE1hdGgubWF4KDEwIC8qIFZQLk1pbkNvdmVyTWFyZ2luICovLCBNYXRoLm1pbihiaWFzLCAyNTAgLyogVlAuTWF4Q292ZXJNYXJnaW4gKi8pKSkgJiZcbiAgICAgICAgICAgICh0b3AgPiB2aXNpYmxlVG9wIC0gMiAqIDEwMDAgLyogVlAuTWFyZ2luICovICYmIGJvdHRvbSA8IHZpc2libGVCb3R0b20gKyAyICogMTAwMCAvKiBWUC5NYXJnaW4gKi8pO1xuICAgIH1cbiAgICBtYXBMaW5lR2FwcyhnYXBzLCBjaGFuZ2VzKSB7XG4gICAgICAgIGlmICghZ2Fwcy5sZW5ndGggfHwgY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBnYXBzO1xuICAgICAgICBsZXQgbWFwcGVkID0gW107XG4gICAgICAgIGZvciAobGV0IGdhcCBvZiBnYXBzKVxuICAgICAgICAgICAgaWYgKCFjaGFuZ2VzLnRvdWNoZXNSYW5nZShnYXAuZnJvbSwgZ2FwLnRvKSlcbiAgICAgICAgICAgICAgICBtYXBwZWQucHVzaChuZXcgTGluZUdhcChjaGFuZ2VzLm1hcFBvcyhnYXAuZnJvbSksIGNoYW5nZXMubWFwUG9zKGdhcC50byksIGdhcC5zaXplKSk7XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIC8vIENvbXB1dGVzIHBvc2l0aW9ucyBpbiB0aGUgdmlld3BvcnQgd2hlcmUgdGhlIHN0YXJ0IG9yIGVuZCBvZiBhXG4gICAgLy8gbGluZSBzaG91bGQgYmUgaGlkZGVuLCB0cnlpbmcgdG8gcmV1c2UgZXhpc3RpbmcgbGluZSBnYXBzIHdoZW5cbiAgICAvLyBhcHByb3ByaWF0ZSB0byBhdm9pZCB1bm5lY2Nlc2FyeSByZWRyYXdzLlxuICAgIC8vIFVzZXMgY3J1ZGUgY2hhcmFjdGVyLWNvdW50aW5nIGZvciB0aGUgcG9zaXRpb25pbmcgYW5kIHNpemluZyxcbiAgICAvLyBzaW5jZSBhY3R1YWwgRE9NIGNvb3JkaW5hdGVzIGFyZW4ndCBhbHdheXMgYXZhaWxhYmxlIGFuZFxuICAgIC8vIHByZWRpY3RhYmxlLiBSZWxpZXMgb24gZ2VuZXJvdXMgbWFyZ2lucyAoc2VlIExHLk1hcmdpbikgdG8gaGlkZVxuICAgIC8vIHRoZSBhcnRpZmFjdHMgdGhpcyBtaWdodCBwcm9kdWNlIGZyb20gdGhlIHVzZXIuXG4gICAgZW5zdXJlTGluZUdhcHMoY3VycmVudCwgbWF5TWVhc3VyZSkge1xuICAgICAgICBsZXQgd3JhcHBpbmcgPSB0aGlzLmhlaWdodE9yYWNsZS5saW5lV3JhcHBpbmc7XG4gICAgICAgIGxldCBtYXJnaW4gPSB3cmFwcGluZyA/IDEwMDAwIC8qIExHLk1hcmdpbldyYXAgKi8gOiAyMDAwIC8qIExHLk1hcmdpbiAqLywgaGFsZk1hcmdpbiA9IG1hcmdpbiA+PiAxLCBkb3VibGVNYXJnaW4gPSBtYXJnaW4gPDwgMTtcbiAgICAgICAgLy8gVGhlIG5vbi13cmFwcGluZyBsb2dpYyB3b24ndCB3b3JrIGF0IGFsbCBpbiBwcmVkb21pbmFudGx5IHJpZ2h0LXRvLWxlZnQgdGV4dC5cbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFRleHREaXJlY3Rpb24gIT0gRGlyZWN0aW9uLkxUUiAmJiAhd3JhcHBpbmcpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGxldCBnYXBzID0gW107XG4gICAgICAgIGxldCBhZGRHYXAgPSAoZnJvbSwgdG8sIGxpbmUsIHN0cnVjdHVyZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHRvIC0gZnJvbSA8IGhhbGZNYXJnaW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHNlbCA9IHRoaXMuc3RhdGUuc2VsZWN0aW9uLm1haW4sIGF2b2lkID0gW3NlbC5mcm9tXTtcbiAgICAgICAgICAgIGlmICghc2VsLmVtcHR5KVxuICAgICAgICAgICAgICAgIGF2b2lkLnB1c2goc2VsLnRvKTtcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyBvZiBhdm9pZCkge1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tICYmIHBvcyA8IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEdhcChmcm9tLCBwb3MgLSAxMCAvKiBMRy5TZWxlY3Rpb25NYXJnaW4gKi8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEdhcChwb3MgKyAxMCAvKiBMRy5TZWxlY3Rpb25NYXJnaW4gKi8sIHRvLCBsaW5lLCBzdHJ1Y3R1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGdhcCA9IGZpbmQoY3VycmVudCwgZ2FwID0+IGdhcC5mcm9tID49IGxpbmUuZnJvbSAmJiBnYXAudG8gPD0gbGluZS50byAmJlxuICAgICAgICAgICAgICAgIE1hdGguYWJzKGdhcC5mcm9tIC0gZnJvbSkgPCBoYWxmTWFyZ2luICYmIE1hdGguYWJzKGdhcC50byAtIHRvKSA8IGhhbGZNYXJnaW4gJiZcbiAgICAgICAgICAgICAgICAhYXZvaWQuc29tZShwb3MgPT4gZ2FwLmZyb20gPCBwb3MgJiYgZ2FwLnRvID4gcG9zKSk7XG4gICAgICAgICAgICBpZiAoIWdhcCkge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gc2Nyb2xsaW5nIGRvd24sIHNuYXAgZ2FwIGVuZHMgdG8gbGluZSBzdGFydHMgdG8gYXZvaWQgc2hpZnRzIGluIHdyYXBwaW5nXG4gICAgICAgICAgICAgICAgaWYgKHRvIDwgbGluZS50byAmJiBtYXlNZWFzdXJlICYmIHdyYXBwaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIG1heU1lYXN1cmUudmlzaWJsZVJhbmdlcy5zb21lKHIgPT4gci5mcm9tIDw9IHRvICYmIHIudG8gPj0gdG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lU3RhcnQgPSBtYXlNZWFzdXJlLm1vdmVUb0xpbmVCb3VuZGFyeShFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHRvKSwgZmFsc2UsIHRydWUpLmhlYWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lU3RhcnQgPiBmcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBsaW5lU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdhcCA9IG5ldyBMaW5lR2FwKGZyb20sIHRvLCB0aGlzLmdhcFNpemUobGluZSwgZnJvbSwgdG8sIHN0cnVjdHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2Fwcy5wdXNoKGdhcCk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy52aWV3cG9ydExpbmVzKSB7XG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPCBkb3VibGVNYXJnaW4pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgc3RydWN0dXJlID0gbGluZVN0cnVjdHVyZShsaW5lLmZyb20sIGxpbmUudG8sIHRoaXMuc3RhdGVEZWNvKTtcbiAgICAgICAgICAgIGlmIChzdHJ1Y3R1cmUudG90YWwgPCBkb3VibGVNYXJnaW4pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5zY3JvbGxUYXJnZXQgPyB0aGlzLnNjcm9sbFRhcmdldC5yYW5nZS5oZWFkIDogbnVsbDtcbiAgICAgICAgICAgIGxldCB2aWV3RnJvbSwgdmlld1RvO1xuICAgICAgICAgICAgaWYgKHdyYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbkhlaWdodCA9IChtYXJnaW4gLyB0aGlzLmhlaWdodE9yYWNsZS5saW5lTGVuZ3RoKSAqIHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IHRvcCwgYm90O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RnJhYyA9IGZpbmRGcmFjdGlvbihzdHJ1Y3R1cmUsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzcGFjZUZyYWMgPSAoKHRoaXMudmlzaWJsZUJvdHRvbSAtIHRoaXMudmlzaWJsZVRvcCkgLyAyICsgbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB0b3AgPSB0YXJnZXRGcmFjIC0gc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgICAgICBib3QgPSB0YXJnZXRGcmFjICsgc3BhY2VGcmFjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gKHRoaXMudmlzaWJsZVRvcCAtIGxpbmUudG9wIC0gbWFyZ2luSGVpZ2h0KSAvIGxpbmUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBib3QgPSAodGhpcy52aXNpYmxlQm90dG9tIC0gbGluZS50b3AgKyBtYXJnaW5IZWlnaHQpIC8gbGluZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZpZXdGcm9tID0gZmluZFBvc2l0aW9uKHN0cnVjdHVyZSwgdG9wKTtcbiAgICAgICAgICAgICAgICB2aWV3VG8gPSBmaW5kUG9zaXRpb24oc3RydWN0dXJlLCBib3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsV2lkdGggPSBzdHJ1Y3R1cmUudG90YWwgKiB0aGlzLmhlaWdodE9yYWNsZS5jaGFyV2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IG1hcmdpbldpZHRoID0gbWFyZ2luICogdGhpcy5oZWlnaHRPcmFjbGUuY2hhcldpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBsZWZ0LCByaWdodDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldEZyYWMgPSBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3BhY2VGcmFjID0gKCh0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgLSB0aGlzLnBpeGVsVmlld3BvcnQubGVmdCkgLyAyICsgbWFyZ2luV2lkdGgpIC8gdG90YWxXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHRhcmdldEZyYWMgLSBzcGFjZUZyYWM7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gdGFyZ2V0RnJhYyArIHNwYWNlRnJhYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSAodGhpcy5waXhlbFZpZXdwb3J0LmxlZnQgLSBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICByaWdodCA9ICh0aGlzLnBpeGVsVmlld3BvcnQucmlnaHQgKyBtYXJnaW5XaWR0aCkgLyB0b3RhbFdpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aWV3RnJvbSA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIGxlZnQpO1xuICAgICAgICAgICAgICAgIHZpZXdUbyA9IGZpbmRQb3NpdGlvbihzdHJ1Y3R1cmUsIHJpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWV3RnJvbSA+IGxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICBhZGRHYXAobGluZS5mcm9tLCB2aWV3RnJvbSwgbGluZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgIGlmICh2aWV3VG8gPCBsaW5lLnRvKVxuICAgICAgICAgICAgICAgIGFkZEdhcCh2aWV3VG8sIGxpbmUudG8sIGxpbmUsIHN0cnVjdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdhcHM7XG4gICAgfVxuICAgIGdhcFNpemUobGluZSwgZnJvbSwgdG8sIHN0cnVjdHVyZSkge1xuICAgICAgICBsZXQgZnJhY3Rpb24gPSBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCB0bykgLSBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCBmcm9tKTtcbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVXcmFwcGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGxpbmUuaGVpZ2h0ICogZnJhY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3RydWN0dXJlLnRvdGFsICogdGhpcy5oZWlnaHRPcmFjbGUuY2hhcldpZHRoICogZnJhY3Rpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlTGluZUdhcHMoZ2Fwcykge1xuICAgICAgICBpZiAoIUxpbmVHYXAuc2FtZShnYXBzLCB0aGlzLmxpbmVHYXBzKSkge1xuICAgICAgICAgICAgdGhpcy5saW5lR2FwcyA9IGdhcHM7XG4gICAgICAgICAgICB0aGlzLmxpbmVHYXBEZWNvID0gRGVjb3JhdGlvbi5zZXQoZ2Fwcy5tYXAoZ2FwID0+IGdhcC5kcmF3KHRoaXMuaGVpZ2h0T3JhY2xlLmxpbmVXcmFwcGluZykpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21wdXRlVmlzaWJsZVJhbmdlcygpIHtcbiAgICAgICAgbGV0IGRlY28gPSB0aGlzLnN0YXRlRGVjbztcbiAgICAgICAgaWYgKHRoaXMubGluZUdhcHMubGVuZ3RoKVxuICAgICAgICAgICAgZGVjbyA9IGRlY28uY29uY2F0KHRoaXMubGluZUdhcERlY28pO1xuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIFJhbmdlU2V0LnNwYW5zKGRlY28sIHRoaXMudmlld3BvcnQuZnJvbSwgdGhpcy52aWV3cG9ydC50bywge1xuICAgICAgICAgICAgc3Bhbihmcm9tLCB0bykgeyByYW5nZXMucHVzaCh7IGZyb20sIHRvIH0pOyB9LFxuICAgICAgICAgICAgcG9pbnQoKSB7IH1cbiAgICAgICAgfSwgMjApO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IHJhbmdlcy5sZW5ndGggIT0gdGhpcy52aXNpYmxlUmFuZ2VzLmxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy52aXNpYmxlUmFuZ2VzLnNvbWUoKHIsIGkpID0+IHIuZnJvbSAhPSByYW5nZXNbaV0uZnJvbSB8fCByLnRvICE9IHJhbmdlc1tpXS50byk7XG4gICAgICAgIHRoaXMudmlzaWJsZVJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgcmV0dXJuIGNoYW5nZWQgPyA0IC8qIFVwZGF0ZUZsYWcuVmlld3BvcnQgKi8gOiAwO1xuICAgIH1cbiAgICBsaW5lQmxvY2tBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIChwb3MgPj0gdGhpcy52aWV3cG9ydC5mcm9tICYmIHBvcyA8PSB0aGlzLnZpZXdwb3J0LnRvICYmIHRoaXMudmlld3BvcnRMaW5lcy5maW5kKGIgPT4gYi5mcm9tIDw9IHBvcyAmJiBiLnRvID49IHBvcykpIHx8XG4gICAgICAgICAgICBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmxpbmVBdChwb3MsIFF1ZXJ5VHlwZS5CeVBvcywgdGhpcy5zdGF0ZS5kb2MsIDAsIDApLCB0aGlzLnNjYWxlcik7XG4gICAgfVxuICAgIGxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICByZXR1cm4gc2NhbGVCbG9jayh0aGlzLmhlaWdodE1hcC5saW5lQXQodGhpcy5zY2FsZXIuZnJvbURPTShoZWlnaHQpLCBRdWVyeVR5cGUuQnlIZWlnaHQsIHRoaXMuc3RhdGUuZG9jLCAwLCAwKSwgdGhpcy5zY2FsZXIpO1xuICAgIH1cbiAgICBlbGVtZW50QXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBzY2FsZUJsb2NrKHRoaXMuaGVpZ2h0TWFwLmJsb2NrQXQodGhpcy5zY2FsZXIuZnJvbURPTShoZWlnaHQpLCB0aGlzLnN0YXRlLmRvYywgMCwgMCksIHRoaXMuc2NhbGVyKTtcbiAgICB9XG4gICAgZ2V0IGRvY0hlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGVyLnRvRE9NKHRoaXMuaGVpZ2h0TWFwLmhlaWdodCk7XG4gICAgfVxuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NIZWlnaHQgKyB0aGlzLnBhZGRpbmdUb3AgKyB0aGlzLnBhZGRpbmdCb3R0b207XG4gICAgfVxufVxuY2xhc3MgVmlld3BvcnQge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG59XG5mdW5jdGlvbiBsaW5lU3RydWN0dXJlKGZyb20sIHRvLCBzdGF0ZURlY28pIHtcbiAgICBsZXQgcmFuZ2VzID0gW10sIHBvcyA9IGZyb20sIHRvdGFsID0gMDtcbiAgICBSYW5nZVNldC5zcGFucyhzdGF0ZURlY28sIGZyb20sIHRvLCB7XG4gICAgICAgIHNwYW4oKSB7IH0sXG4gICAgICAgIHBvaW50KGZyb20sIHRvKSB7XG4gICAgICAgICAgICBpZiAoZnJvbSA+IHBvcykge1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKHsgZnJvbTogcG9zLCB0bzogZnJvbSB9KTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBmcm9tIC0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gdG87XG4gICAgICAgIH1cbiAgICB9LCAyMCk7IC8vIFdlJ3JlIG9ubHkgaW50ZXJlc3RlZCBpbiBjb2xsYXBzZWQgcmFuZ2VzIG9mIGEgc2lnbmlmaWNhbnQgc2l6ZVxuICAgIGlmIChwb3MgPCB0bykge1xuICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IHBvcywgdG8gfSk7XG4gICAgICAgIHRvdGFsICs9IHRvIC0gcG9zO1xuICAgIH1cbiAgICByZXR1cm4geyB0b3RhbCwgcmFuZ2VzIH07XG59XG5mdW5jdGlvbiBmaW5kUG9zaXRpb24oeyB0b3RhbCwgcmFuZ2VzIH0sIHJhdGlvKSB7XG4gICAgaWYgKHJhdGlvIDw9IDApXG4gICAgICAgIHJldHVybiByYW5nZXNbMF0uZnJvbTtcbiAgICBpZiAocmF0aW8gPj0gMSlcbiAgICAgICAgcmV0dXJuIHJhbmdlc1tyYW5nZXMubGVuZ3RoIC0gMV0udG87XG4gICAgbGV0IGRpc3QgPSBNYXRoLmZsb29yKHRvdGFsICogcmF0aW8pO1xuICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZXNbaV0sIHNpemUgPSB0byAtIGZyb207XG4gICAgICAgIGlmIChkaXN0IDw9IHNpemUpXG4gICAgICAgICAgICByZXR1cm4gZnJvbSArIGRpc3Q7XG4gICAgICAgIGRpc3QgLT0gc2l6ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRnJhY3Rpb24oc3RydWN0dXJlLCBwb3MpIHtcbiAgICBsZXQgY291bnRlZCA9IDA7XG4gICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIHN0cnVjdHVyZS5yYW5nZXMpIHtcbiAgICAgICAgaWYgKHBvcyA8PSB0bykge1xuICAgICAgICAgICAgY291bnRlZCArPSBwb3MgLSBmcm9tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY291bnRlZCArPSB0byAtIGZyb207XG4gICAgfVxuICAgIHJldHVybiBjb3VudGVkIC8gc3RydWN0dXJlLnRvdGFsO1xufVxuZnVuY3Rpb24gZmluZChhcnJheSwgZikge1xuICAgIGZvciAobGV0IHZhbCBvZiBhcnJheSlcbiAgICAgICAgaWYgKGYodmFsKSlcbiAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIERvbid0IHNjYWxlIHdoZW4gdGhlIGRvY3VtZW50IGhlaWdodCBpcyB3aXRoaW4gdGhlIHJhbmdlIG9mIHdoYXRcbi8vIHRoZSBET00gY2FuIGhhbmRsZS5cbmNvbnN0IElkU2NhbGVyID0ge1xuICAgIHRvRE9NKG4pIHsgcmV0dXJuIG47IH0sXG4gICAgZnJvbURPTShuKSB7IHJldHVybiBuOyB9LFxuICAgIHNjYWxlOiAxXG59O1xuLy8gV2hlbiB0aGUgaGVpZ2h0IGlzIHRvbyBiaWcgKD4gVlAuTWF4RE9NSGVpZ2h0KSwgc2NhbGUgZG93biB0aGVcbi8vIHJlZ2lvbnMgb3V0c2lkZSB0aGUgdmlld3BvcnRzIHNvIHRoYXQgdGhlIHRvdGFsIGhlaWdodCBpc1xuLy8gVlAuTWF4RE9NSGVpZ2h0LlxuY2xhc3MgQmlnU2NhbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihkb2MsIGhlaWdodE1hcCwgdmlld3BvcnRzKSB7XG4gICAgICAgIGxldCB2cEhlaWdodCA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDtcbiAgICAgICAgdGhpcy52aWV3cG9ydHMgPSB2aWV3cG9ydHMubWFwKCh7IGZyb20sIHRvIH0pID0+IHtcbiAgICAgICAgICAgIGxldCB0b3AgPSBoZWlnaHRNYXAubGluZUF0KGZyb20sIFF1ZXJ5VHlwZS5CeVBvcywgZG9jLCAwLCAwKS50b3A7XG4gICAgICAgICAgICBsZXQgYm90dG9tID0gaGVpZ2h0TWFwLmxpbmVBdCh0bywgUXVlcnlUeXBlLkJ5UG9zLCBkb2MsIDAsIDApLmJvdHRvbTtcbiAgICAgICAgICAgIHZwSGVpZ2h0ICs9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb20sIHRvLCB0b3AsIGJvdHRvbSwgZG9tVG9wOiAwLCBkb21Cb3R0b206IDAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSAoNzAwMDAwMCAvKiBWUC5NYXhET01IZWlnaHQgKi8gLSB2cEhlaWdodCkgLyAoaGVpZ2h0TWFwLmhlaWdodCAtIHZwSGVpZ2h0KTtcbiAgICAgICAgZm9yIChsZXQgb2JqIG9mIHRoaXMudmlld3BvcnRzKSB7XG4gICAgICAgICAgICBvYmouZG9tVG9wID0gZG9tQmFzZSArIChvYmoudG9wIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgZG9tQmFzZSA9IG9iai5kb21Cb3R0b20gPSBvYmouZG9tVG9wICsgKG9iai5ib3R0b20gLSBvYmoudG9wKTtcbiAgICAgICAgICAgIGJhc2UgPSBvYmouYm90dG9tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLnRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tQmFzZSArIChuIC0gYmFzZSkgKiB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuYm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC5kb21Ub3AgKyAobiAtIHZwLnRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmcm9tRE9NKG4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGJhc2UgPSAwLCBkb21CYXNlID0gMDs7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZwID0gaSA8IHRoaXMudmlld3BvcnRzLmxlbmd0aCA/IHRoaXMudmlld3BvcnRzW2ldIDogbnVsbDtcbiAgICAgICAgICAgIGlmICghdnAgfHwgbiA8IHZwLmRvbVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSArIChuIC0gZG9tQmFzZSkgLyB0aGlzLnNjYWxlO1xuICAgICAgICAgICAgaWYgKG4gPD0gdnAuZG9tQm90dG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiB2cC50b3AgKyAobiAtIHZwLmRvbVRvcCk7XG4gICAgICAgICAgICBiYXNlID0gdnAuYm90dG9tO1xuICAgICAgICAgICAgZG9tQmFzZSA9IHZwLmRvbUJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNjYWxlQmxvY2soYmxvY2ssIHNjYWxlcikge1xuICAgIGlmIChzY2FsZXIuc2NhbGUgPT0gMSlcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgIGxldCBiVG9wID0gc2NhbGVyLnRvRE9NKGJsb2NrLnRvcCksIGJCb3R0b20gPSBzY2FsZXIudG9ET00oYmxvY2suYm90dG9tKTtcbiAgICByZXR1cm4gbmV3IEJsb2NrSW5mbyhibG9jay5mcm9tLCBibG9jay5sZW5ndGgsIGJUb3AsIGJCb3R0b20gLSBiVG9wLCBBcnJheS5pc0FycmF5KGJsb2NrLnR5cGUpID8gYmxvY2sudHlwZS5tYXAoYiA9PiBzY2FsZUJsb2NrKGIsIHNjYWxlcikpIDogYmxvY2sudHlwZSk7XG59XG5cbmNvbnN0IHRoZW1lID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7IGNvbWJpbmU6IHN0cnMgPT4gc3Rycy5qb2luKFwiIFwiKSB9KTtcbmNvbnN0IGRhcmtUaGVtZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoeyBjb21iaW5lOiB2YWx1ZXMgPT4gdmFsdWVzLmluZGV4T2YodHJ1ZSkgPiAtMSB9KTtcbmNvbnN0IGJhc2VUaGVtZUlEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKSwgYmFzZUxpZ2h0SUQgPSAvKkBfX1BVUkVfXyovU3R5bGVNb2R1bGUubmV3TmFtZSgpLCBiYXNlRGFya0lEID0gLypAX19QVVJFX18qL1N0eWxlTW9kdWxlLm5ld05hbWUoKTtcbmNvbnN0IGxpZ2h0RGFya0lEcyA9IHsgXCImbGlnaHRcIjogXCIuXCIgKyBiYXNlTGlnaHRJRCwgXCImZGFya1wiOiBcIi5cIiArIGJhc2VEYXJrSUQgfTtcbmZ1bmN0aW9uIGJ1aWxkVGhlbWUobWFpbiwgc3BlYywgc2NvcGVzKSB7XG4gICAgcmV0dXJuIG5ldyBTdHlsZU1vZHVsZShzcGVjLCB7XG4gICAgICAgIGZpbmlzaChzZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAvJi8udGVzdChzZWwpID8gc2VsLnJlcGxhY2UoLyZcXHcqLywgbSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG0gPT0gXCImXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYWluO1xuICAgICAgICAgICAgICAgIGlmICghc2NvcGVzIHx8ICFzY29wZXNbbV0pXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBVbnN1cHBvcnRlZCBzZWxlY3RvcjogJHttfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZXNbbV07XG4gICAgICAgICAgICB9KSA6IG1haW4gKyBcIiBcIiArIHNlbDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgYmFzZVRoZW1lJDEgPSAvKkBfX1BVUkVfXyovYnVpbGRUaGVtZShcIi5cIiArIGJhc2VUaGVtZUlELCB7XG4gICAgXCImLmNtLWVkaXRvclwiOiB7XG4gICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlICFpbXBvcnRhbnRcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgXCImLmNtLWZvY3VzZWRcIjoge1xuICAgICAgICAgICAgLy8gUHJvdmlkZSBhIHNpbXBsZSBkZWZhdWx0IG91dGxpbmUgdG8gbWFrZSBzdXJlIGEgZm9jdXNlZFxuICAgICAgICAgICAgLy8gZWRpdG9yIGlzIHZpc3VhbGx5IGRpc3RpbmN0LiBDYW4ndCBsZWF2ZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdpbGwgYXBwbHkgdG8gdGhlIGNvbnRlbnQgZWxlbWVudCwgd2hpY2ggaXNcbiAgICAgICAgICAgIC8vIGluc2lkZSB0aGUgc2Nyb2xsYWJsZSBjb250YWluZXIgYW5kIGRvZXNuJ3QgaW5jbHVkZSB0aGVcbiAgICAgICAgICAgIC8vIGd1dHRlcnMuIFdlIGFsc28gY2FuJ3QgdXNlIGFuICdhdXRvJyBvdXRsaW5lLCBzaW5jZSB0aG9zZVxuICAgICAgICAgICAgLy8gYXJlLCBmb3Igc29tZSByZWFzb24sIGRyYXduIGJlaGluZCB0aGUgZWxlbWVudCBjb250ZW50LCB3aGljaFxuICAgICAgICAgICAgLy8gd2lsbCBjYXVzZSB0aGluZ3MgbGlrZSB0aGUgYWN0aXZlIGxpbmUgYmFja2dyb3VuZCB0byBjb3ZlclxuICAgICAgICAgICAgLy8gdGhlIG91dGxpbmUgKCMyOTcpLlxuICAgICAgICAgICAgb3V0bGluZTogXCIxcHggZG90dGVkICMyMTIxMjFcIlxuICAgICAgICB9LFxuICAgICAgICBkaXNwbGF5OiBcImZsZXggIWltcG9ydGFudFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiXG4gICAgfSxcbiAgICBcIi5jbS1zY3JvbGxlclwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiZmxleCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGFsaWduSXRlbXM6IFwiZmxleC1zdGFydCAhaW1wb3J0YW50XCIsXG4gICAgICAgIGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuNCxcbiAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3dYOiBcImF1dG9cIixcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgekluZGV4OiAwXG4gICAgfSxcbiAgICBcIi5jbS1jb250ZW50XCI6IHtcbiAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICBmbGV4R3JvdzogMixcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcInByZVwiLFxuICAgICAgICB3b3JkV3JhcDogXCJub3JtYWxcIixcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgcGFkZGluZzogXCI0cHggMFwiLFxuICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgXCImW2NvbnRlbnRlZGl0YWJsZT10cnVlXVwiOiB7XG4gICAgICAgICAgICBXZWJraXRVc2VyTW9kaWZ5OiBcInJlYWQtd3JpdGUtcGxhaW50ZXh0LW9ubHlcIixcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXCIuY20tbGluZVdyYXBwaW5nXCI6IHtcbiAgICAgICAgd2hpdGVTcGFjZV9mYWxsYmFjazogXCJwcmUtd3JhcFwiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcImJyZWFrLXNwYWNlc1wiLFxuICAgICAgICB3b3JkQnJlYWs6IFwiYnJlYWstd29yZFwiLFxuICAgICAgICBvdmVyZmxvd1dyYXA6IFwiYW55d2hlcmVcIixcbiAgICAgICAgZmxleFNocmluazogMVxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWNvbnRlbnRcIjogeyBjYXJldENvbG9yOiBcImJsYWNrXCIgfSxcbiAgICBcIiZkYXJrIC5jbS1jb250ZW50XCI6IHsgY2FyZXRDb2xvcjogXCJ3aGl0ZVwiIH0sXG4gICAgXCIuY20tbGluZVwiOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgcGFkZGluZzogXCIwIDJweCAwIDRweFwiXG4gICAgfSxcbiAgICBcIi5jbS1zZWxlY3Rpb25MYXllclwiOiB7XG4gICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgIGNvbnRhaW46IFwic2l6ZSBzdHlsZVwiXG4gICAgfSxcbiAgICBcIi5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZDlkOWQ5XCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMjJcIlxuICAgIH0sXG4gICAgXCImbGlnaHQuY20tZm9jdXNlZCAuY20tc2VsZWN0aW9uQmFja2dyb3VuZFwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2Q3ZDRmMFwiXG4gICAgfSxcbiAgICBcIiZkYXJrLmNtLWZvY3VzZWQgLmNtLXNlbGVjdGlvbkJhY2tncm91bmRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiMyMzNcIlxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICB6SW5kZXg6IDEwMCxcbiAgICAgICAgY29udGFpbjogXCJzaXplIHN0eWxlXCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfSxcbiAgICBcIiYuY20tZm9jdXNlZCAuY20tY3Vyc29yTGF5ZXJcIjoge1xuICAgICAgICBhbmltYXRpb246IFwic3RlcHMoMSkgY20tYmxpbmsgMS4ycyBpbmZpbml0ZVwiXG4gICAgfSxcbiAgICAvLyBUd28gYW5pbWF0aW9ucyBkZWZpbmVkIHNvIHRoYXQgd2UgY2FuIHN3aXRjaCBiZXR3ZWVuIHRoZW0gdG9cbiAgICAvLyByZXN0YXJ0IHRoZSBhbmltYXRpb24gd2l0aG91dCBmb3JjaW5nIGFub3RoZXIgc3R5bGVcbiAgICAvLyByZWNvbXB1dGF0aW9uLlxuICAgIFwiQGtleWZyYW1lcyBjbS1ibGlua1wiOiB7IFwiMCVcIjoge30sIFwiNTAlXCI6IHsgb3BhY2l0eTogMCB9LCBcIjEwMCVcIjoge30gfSxcbiAgICBcIkBrZXlmcmFtZXMgY20tYmxpbmsyXCI6IHsgXCIwJVwiOiB7fSwgXCI1MCVcIjogeyBvcGFjaXR5OiAwIH0sIFwiMTAwJVwiOiB7fSB9LFxuICAgIFwiLmNtLWN1cnNvciwgLmNtLWRyb3BDdXJzb3JcIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjEuMnB4IHNvbGlkIGJsYWNrXCIsXG4gICAgICAgIG1hcmdpbkxlZnQ6IFwiLTAuNnB4XCIsXG4gICAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIH0sXG4gICAgXCIuY20tY3Vyc29yXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWN1cnNvclwiOiB7XG4gICAgICAgIGJvcmRlckxlZnRDb2xvcjogXCIjNDQ0XCJcbiAgICB9LFxuICAgIFwiJi5jbS1mb2N1c2VkIC5jbS1jdXJzb3JcIjoge1xuICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS1hY3RpdmVMaW5lXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNjY2VlZmY0NFwiIH0sXG4gICAgXCImZGFyayAuY20tYWN0aXZlTGluZVwiOiB7IGJhY2tncm91bmRDb2xvcjogXCIjOTllZWZmMzNcIiB9LFxuICAgIFwiJmxpZ2h0IC5jbS1zcGVjaWFsQ2hhclwiOiB7IGNvbG9yOiBcInJlZFwiIH0sXG4gICAgXCImZGFyayAuY20tc3BlY2lhbENoYXJcIjogeyBjb2xvcjogXCIjZjc4XCIgfSxcbiAgICBcIi5jbS1ndXR0ZXJzXCI6IHtcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHpJbmRleDogMjAwXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjVmNWY1XCIsXG4gICAgICAgIGNvbG9yOiBcIiM2YzZjNmNcIixcbiAgICAgICAgYm9yZGVyUmlnaHQ6IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tZ3V0dGVyc1wiOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzMzM4XCIsXG4gICAgICAgIGNvbG9yOiBcIiNjY2NcIlxuICAgIH0sXG4gICAgXCIuY20tZ3V0dGVyXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4ICFpbXBvcnRhbnRcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgZmxleFNocmluazogMCxcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgbWluSGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICB9LFxuICAgIFwiLmNtLWd1dHRlckVsZW1lbnRcIjoge1xuICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiXG4gICAgfSxcbiAgICBcIi5jbS1saW5lTnVtYmVycyAuY20tZ3V0dGVyRWxlbWVudFwiOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMCAzcHggMCA1cHhcIixcbiAgICAgICAgbWluV2lkdGg6IFwiMjBweFwiLFxuICAgICAgICB0ZXh0QWxpZ246IFwicmlnaHRcIixcbiAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWFjdGl2ZUxpbmVHdXR0ZXJcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2UyZjJmZlwiXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS1hY3RpdmVMaW5lR3V0dGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMyMjIyMjdcIlxuICAgIH0sXG4gICAgXCIuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIixcbiAgICAgICAgcG9zaXRpb246IFwic3RpY2t5XCIsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmNWY1ZjVcIixcbiAgICAgICAgY29sb3I6IFwiYmxhY2tcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVscy10b3BcIjoge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXBhbmVscy1ib3R0b21cIjoge1xuICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNkZGRcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tcGFuZWxzXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzMzMzhcIixcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG4gICAgXCIuY20tdGFiXCI6IHtcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwiYm90dG9tXCJcbiAgICB9LFxuICAgIFwiLmNtLXdpZGdldEJ1ZmZlclwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwidGV4dC10b3BcIixcbiAgICAgICAgaGVpZ2h0OiBcIjFlbVwiLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmVcIlxuICAgIH0sXG4gICAgXCIuY20tcGxhY2Vob2xkZXJcIjoge1xuICAgICAgICBjb2xvcjogXCIjODg4XCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG4gICAgfSxcbiAgICBcIi5jbS1idXR0b25cIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICBjb2xvcjogXCJpbmhlcml0XCIsXG4gICAgICAgIGZvbnRTaXplOiBcIjcwJVwiLFxuICAgICAgICBwYWRkaW5nOiBcIi4yZW0gMWVtXCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCIxcHhcIlxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoI2VmZjFmNSwgI2Q5ZDlkZilcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjODg4XCIsXG4gICAgICAgIFwiJjphY3RpdmVcIjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjYjRiNGI0LCAjZDBkM2Q2KVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmRhcmsgLmNtLWJ1dHRvblwiOiB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJsaW5lYXItZ3JhZGllbnQoIzM5MzkzOSwgIzExMSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjODg4XCIsXG4gICAgICAgIFwiJjphY3RpdmVcIjoge1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBcImxpbmVhci1ncmFkaWVudCgjMTExLCAjMzMzKVwiXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiLmNtLXRleHRmaWVsZFwiOiB7XG4gICAgICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgICAgZm9udFNpemU6IFwiNzAlXCIsXG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgc2lsdmVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiLjJlbSAuNWVtXCJcbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10ZXh0ZmllbGRcIjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdGV4dGZpZWxkXCI6IHtcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjNTU1XCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJpbmhlcml0XCJcbiAgICB9XG59LCBsaWdodERhcmtJRHMpO1xuXG5jbGFzcyBET01DaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHN0YXJ0LCBlbmQsIHR5cGVPdmVyKSB7XG4gICAgICAgIHRoaXMudHlwZU92ZXIgPSB0eXBlT3ZlcjtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHQgPSBcIlwiO1xuICAgICAgICBsZXQgeyBpbXByZWNpc2VIZWFkOiBpSGVhZCwgaW1wcmVjaXNlQW5jaG9yOiBpQW5jaG9yIH0gPSB2aWV3LmRvY1ZpZXc7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5ICYmIHN0YXJ0ID4gLTEpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBjaGFuZ2VzIHdoZW4gdGhlIGVkaXRvciBpcyByZWFkLW9ubHlcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGFydCA+IC0xICYmICh0aGlzLmJvdW5kcyA9IHZpZXcuZG9jVmlldy5kb21Cb3VuZHNBcm91bmQoc3RhcnQsIGVuZCwgMCkpKSB7XG4gICAgICAgICAgICBsZXQgc2VsUG9pbnRzID0gaUhlYWQgfHwgaUFuY2hvciA/IFtdIDogc2VsZWN0aW9uUG9pbnRzKHZpZXcpO1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBET01SZWFkZXIoc2VsUG9pbnRzLCB2aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkUmFuZ2UodGhpcy5ib3VuZHMuc3RhcnRET00sIHRoaXMuYm91bmRzLmVuZERPTSk7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSByZWFkZXIudGV4dDtcbiAgICAgICAgICAgIHRoaXMubmV3U2VsID0gc2VsZWN0aW9uRnJvbVBvaW50cyhzZWxQb2ludHMsIHRoaXMuYm91bmRzLmZyb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRvbVNlbCA9IHZpZXcub2JzZXJ2ZXIuc2VsZWN0aW9uUmFuZ2U7XG4gICAgICAgICAgICBsZXQgaGVhZCA9IGlIZWFkICYmIGlIZWFkLm5vZGUgPT0gZG9tU2VsLmZvY3VzTm9kZSAmJiBpSGVhZC5vZmZzZXQgPT0gZG9tU2VsLmZvY3VzT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmZvY3VzTm9kZSlcbiAgICAgICAgICAgICAgICA/IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZFxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmZvY3VzTm9kZSwgZG9tU2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBhbmNob3IgPSBpQW5jaG9yICYmIGlBbmNob3Iubm9kZSA9PSBkb21TZWwuYW5jaG9yTm9kZSAmJiBpQW5jaG9yLm9mZnNldCA9PSBkb21TZWwuYW5jaG9yT2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgIWNvbnRhaW5zKHZpZXcuY29udGVudERPTSwgZG9tU2VsLmFuY2hvck5vZGUpXG4gICAgICAgICAgICAgICAgPyB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvclxuICAgICAgICAgICAgICAgIDogdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5uZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKGFuY2hvciwgaGVhZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhcHBseURPTUNoYW5nZSh2aWV3LCBkb21DaGFuZ2UpIHtcbiAgICBsZXQgY2hhbmdlO1xuICAgIGxldCB7IG5ld1NlbCB9ID0gZG9tQ2hhbmdlLCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluO1xuICAgIGlmIChkb21DaGFuZ2UuYm91bmRzKSB7XG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSBkb21DaGFuZ2UuYm91bmRzO1xuICAgICAgICBsZXQgcHJlZmVycmVkUG9zID0gc2VsLmZyb20sIHByZWZlcnJlZFNpZGUgPSBudWxsO1xuICAgICAgICAvLyBQcmVmZXIgYW5jaG9yaW5nIHRvIGVuZCB3aGVuIEJhY2tzcGFjZSBpcyBwcmVzc2VkIChvciwgb25cbiAgICAgICAgLy8gQW5kcm9pZCwgd2hlbiBzb21ldGhpbmcgd2FzIGRlbGV0ZWQpXG4gICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUubGFzdEtleUNvZGUgPT09IDggJiYgdmlldy5pbnB1dFN0YXRlLmxhc3RLZXlUaW1lID4gRGF0ZS5ub3coKSAtIDEwMCB8fFxuICAgICAgICAgICAgYnJvd3Nlci5hbmRyb2lkICYmIGRvbUNoYW5nZS50ZXh0Lmxlbmd0aCA8IHRvIC0gZnJvbSkge1xuICAgICAgICAgICAgcHJlZmVycmVkUG9zID0gc2VsLnRvO1xuICAgICAgICAgICAgcHJlZmVycmVkU2lkZSA9IFwiZW5kXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpZmYgPSBmaW5kRGlmZih2aWV3LnN0YXRlLmRvYy5zbGljZVN0cmluZyhmcm9tLCB0bywgTGluZUJyZWFrUGxhY2Vob2xkZXIpLCBkb21DaGFuZ2UudGV4dCwgcHJlZmVycmVkUG9zIC0gZnJvbSwgcHJlZmVycmVkU2lkZSk7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgICAvLyBDaHJvbWUgaW5zZXJ0cyB0d28gbmV3bGluZXMgd2hlbiBwcmVzc2luZyBzaGlmdC1lbnRlciBhdCB0aGVcbiAgICAgICAgICAgIC8vIGVuZCBvZiBhIGxpbmUuIERvbUNoYW5nZSBkcm9wcyBvbmUgb2YgdGhvc2UuXG4gICAgICAgICAgICBpZiAoYnJvd3Nlci5jaHJvbWUgJiYgdmlldy5pbnB1dFN0YXRlLmxhc3RLZXlDb2RlID09IDEzICYmXG4gICAgICAgICAgICAgICAgZGlmZi50b0IgPT0gZGlmZi5mcm9tICsgMiAmJiBkb21DaGFuZ2UudGV4dC5zbGljZShkaWZmLmZyb20sIGRpZmYudG9CKSA9PSBMaW5lQnJlYWtQbGFjZWhvbGRlciArIExpbmVCcmVha1BsYWNlaG9sZGVyKVxuICAgICAgICAgICAgICAgIGRpZmYudG9CLS07XG4gICAgICAgICAgICBjaGFuZ2UgPSB7IGZyb206IGZyb20gKyBkaWZmLmZyb20sIHRvOiBmcm9tICsgZGlmZi50b0EsXG4gICAgICAgICAgICAgICAgaW5zZXJ0OiBUZXh0Lm9mKGRvbUNoYW5nZS50ZXh0LnNsaWNlKGRpZmYuZnJvbSwgZGlmZi50b0IpLnNwbGl0KExpbmVCcmVha1BsYWNlaG9sZGVyKSkgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChuZXdTZWwgJiYgKCF2aWV3Lmhhc0ZvY3VzIHx8ICF2aWV3LnN0YXRlLmZhY2V0KGVkaXRhYmxlKSB8fCBuZXdTZWwubWFpbi5lcShzZWwpKSkge1xuICAgICAgICBuZXdTZWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIWNoYW5nZSAmJiAhbmV3U2VsKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFjaGFuZ2UgJiYgZG9tQ2hhbmdlLnR5cGVPdmVyICYmICFzZWwuZW1wdHkgJiYgbmV3U2VsICYmIG5ld1NlbC5tYWluLmVtcHR5KSB7XG4gICAgICAgIC8vIEhldXJpc3RpYyB0byBub3RpY2UgdHlwaW5nIG92ZXIgYSBzZWxlY3RlZCBjaGFyYWN0ZXJcbiAgICAgICAgY2hhbmdlID0geyBmcm9tOiBzZWwuZnJvbSwgdG86IHNlbC50bywgaW5zZXJ0OiB2aWV3LnN0YXRlLmRvYy5zbGljZShzZWwuZnJvbSwgc2VsLnRvKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPj0gc2VsLmZyb20gJiYgY2hhbmdlLnRvIDw9IHNlbC50byAmJlxuICAgICAgICAoY2hhbmdlLmZyb20gIT0gc2VsLmZyb20gfHwgY2hhbmdlLnRvICE9IHNlbC50bykgJiZcbiAgICAgICAgKHNlbC50byAtIHNlbC5mcm9tKSAtIChjaGFuZ2UudG8gLSBjaGFuZ2UuZnJvbSkgPD0gNCkge1xuICAgICAgICAvLyBJZiB0aGUgY2hhbmdlIGlzIGluc2lkZSB0aGUgc2VsZWN0aW9uIGFuZCBjb3ZlcnMgbW9zdCBvZiBpdCxcbiAgICAgICAgLy8gYXNzdW1lIGl0IGlzIGEgc2VsZWN0aW9uIHJlcGxhY2UgKHdpdGggaWRlbnRpY2FsIGNoYXJhY3RlcnMgYXRcbiAgICAgICAgLy8gdGhlIHN0YXJ0L2VuZCBub3QgaW5jbHVkZWQgaW4gdGhlIGRpZmYpXG4gICAgICAgIGNoYW5nZSA9IHtcbiAgICAgICAgICAgIGZyb206IHNlbC5mcm9tLCB0bzogc2VsLnRvLFxuICAgICAgICAgICAgaW5zZXJ0OiB2aWV3LnN0YXRlLmRvYy5zbGljZShzZWwuZnJvbSwgY2hhbmdlLmZyb20pLmFwcGVuZChjaGFuZ2UuaW5zZXJ0KS5hcHBlbmQodmlldy5zdGF0ZS5kb2Muc2xpY2UoY2hhbmdlLnRvLCBzZWwudG8pKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICgoYnJvd3Nlci5tYWMgfHwgYnJvd3Nlci5hbmRyb2lkKSAmJiBjaGFuZ2UgJiYgY2hhbmdlLmZyb20gPT0gY2hhbmdlLnRvICYmIGNoYW5nZS5mcm9tID09IHNlbC5oZWFkIC0gMSAmJlxuICAgICAgICAvXlxcLiA/JC8udGVzdChjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCkpKSB7XG4gICAgICAgIC8vIERldGVjdCBpbnNlcnQtcGVyaW9kLW9uLWRvdWJsZS1zcGFjZSBNYWMgYW5kIEFuZHJvaWQgYmVoYXZpb3IsXG4gICAgICAgIC8vIGFuZCB0cmFuc2Zvcm0gaXQgaW50byBhIHJlZ3VsYXIgc3BhY2UgaW5zZXJ0LlxuICAgICAgICBpZiAobmV3U2VsICYmIGNoYW5nZS5pbnNlcnQubGVuZ3RoID09IDIpXG4gICAgICAgICAgICBuZXdTZWwgPSBFZGl0b3JTZWxlY3Rpb24uc2luZ2xlKG5ld1NlbC5tYWluLmFuY2hvciAtIDEsIG5ld1NlbC5tYWluLmhlYWQgLSAxKTtcbiAgICAgICAgY2hhbmdlID0geyBmcm9tOiBzZWwuZnJvbSwgdG86IHNlbC50bywgaW5zZXJ0OiBUZXh0Lm9mKFtcIiBcIl0pIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGJyb3dzZXIuY2hyb21lICYmIGNoYW5nZSAmJiBjaGFuZ2UuZnJvbSA9PSBjaGFuZ2UudG8gJiYgY2hhbmdlLmZyb20gPT0gc2VsLmhlYWQgJiZcbiAgICAgICAgY2hhbmdlLmluc2VydC50b1N0cmluZygpID09IFwiXFxuIFwiICYmIHZpZXcubGluZVdyYXBwaW5nKSB7XG4gICAgICAgIC8vIEluIENocm9tZSwgaWYgeW91IGluc2VydCBhIHNwYWNlIGF0IHRoZSBzdGFydCBvZiBhIHdyYXBwZWRcbiAgICAgICAgLy8gbGluZSwgaXQgd2lsbCBhY3R1YWxseSBpbnNlcnQgYSBuZXdsaW5lIGFuZCBhIHNwYWNlLCBjYXVzaW5nIGFcbiAgICAgICAgLy8gYm9ndXMgbmV3IGxpbmUgdG8gYmUgY3JlYXRlZCBpbiBDb2RlTWlycm9yICgjOTY4KVxuICAgICAgICBpZiAobmV3U2VsKVxuICAgICAgICAgICAgbmV3U2VsID0gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShuZXdTZWwubWFpbi5hbmNob3IgLSAxLCBuZXdTZWwubWFpbi5oZWFkIC0gMSk7XG4gICAgICAgIGNoYW5nZSA9IHsgZnJvbTogc2VsLmZyb20sIHRvOiBzZWwudG8sIGluc2VydDogVGV4dC5vZihbXCIgXCJdKSB9O1xuICAgIH1cbiAgICBpZiAoY2hhbmdlKSB7XG4gICAgICAgIGxldCBzdGFydFN0YXRlID0gdmlldy5zdGF0ZTtcbiAgICAgICAgaWYgKGJyb3dzZXIuaW9zICYmIHZpZXcuaW5wdXRTdGF0ZS5mbHVzaElPU0tleSh2aWV3KSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBBbmRyb2lkIGJyb3dzZXJzIGRvbid0IGZpcmUgcmVhc29uYWJsZSBrZXkgZXZlbnRzIGZvciBlbnRlcixcbiAgICAgICAgLy8gYmFja3NwYWNlLCBvciBkZWxldGUuIFNvIHRoaXMgZGV0ZWN0cyBjaGFuZ2VzIHRoYXQgbG9vayBsaWtlXG4gICAgICAgIC8vIHRoZXkncmUgY2F1c2VkIGJ5IHRob3NlIGtleXMsIGFuZCByZWludGVycHJldHMgdGhlbSBhcyBrZXlcbiAgICAgICAgLy8gZXZlbnRzLiAoU29tZSBvZiB0aGVzZSBrZXlzIGFyZSBhbHNvIGhhbmRsZWQgYnkgYmVmb3JlaW5wdXRcbiAgICAgICAgLy8gZXZlbnRzIGFuZCB0aGUgcGVuZGluZ0FuZHJvaWRLZXkgbWVjaGFuaXNtLCBidXQgdGhhdCdzIG5vdFxuICAgICAgICAvLyByZWxpYWJsZSBpbiBhbGwgc2l0dWF0aW9ucy4pXG4gICAgICAgIGlmIChicm93c2VyLmFuZHJvaWQgJiZcbiAgICAgICAgICAgICgoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gJiYgY2hhbmdlLnRvID09IHNlbC50byAmJlxuICAgICAgICAgICAgICAgIGNoYW5nZS5pbnNlcnQubGVuZ3RoID09IDEgJiYgY2hhbmdlLmluc2VydC5saW5lcyA9PSAyICYmXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodmlldy5jb250ZW50RE9NLCBcIkVudGVyXCIsIDEzKSkgfHxcbiAgICAgICAgICAgICAgICAoY2hhbmdlLmZyb20gPT0gc2VsLmZyb20gLSAxICYmIGNoYW5nZS50byA9PSBzZWwudG8gJiYgY2hhbmdlLmluc2VydC5sZW5ndGggPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh2aWV3LmNvbnRlbnRET00sIFwiQmFja3NwYWNlXCIsIDgpKSB8fFxuICAgICAgICAgICAgICAgIChjaGFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiBjaGFuZ2UudG8gPT0gc2VsLnRvICsgMSAmJiBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCA9PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoS2V5KHZpZXcuY29udGVudERPTSwgXCJEZWxldGVcIiwgNDYpKSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IHRleHQgPSBjaGFuZ2UuaW5zZXJ0LnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh2aWV3LnN0YXRlLmZhY2V0KGlucHV0SGFuZGxlcikuc29tZShoID0+IGgodmlldywgY2hhbmdlLmZyb20sIGNoYW5nZS50bywgdGV4dCkpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmICh2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nID49IDApXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaW5nKys7XG4gICAgICAgIGxldCB0cjtcbiAgICAgICAgaWYgKGNoYW5nZS5mcm9tID49IHNlbC5mcm9tICYmIGNoYW5nZS50byA8PSBzZWwudG8gJiYgY2hhbmdlLnRvIC0gY2hhbmdlLmZyb20gPj0gKHNlbC50byAtIHNlbC5mcm9tKSAvIDMgJiZcbiAgICAgICAgICAgICghbmV3U2VsIHx8IG5ld1NlbC5tYWluLmVtcHR5ICYmIG5ld1NlbC5tYWluLmZyb20gPT0gY2hhbmdlLmZyb20gKyBjaGFuZ2UuaW5zZXJ0Lmxlbmd0aCkgJiZcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5jb21wb3NpbmcgPCAwKSB7XG4gICAgICAgICAgICBsZXQgYmVmb3JlID0gc2VsLmZyb20gPCBjaGFuZ2UuZnJvbSA/IHN0YXJ0U3RhdGUuc2xpY2VEb2Moc2VsLmZyb20sIGNoYW5nZS5mcm9tKSA6IFwiXCI7XG4gICAgICAgICAgICBsZXQgYWZ0ZXIgPSBzZWwudG8gPiBjaGFuZ2UudG8gPyBzdGFydFN0YXRlLnNsaWNlRG9jKGNoYW5nZS50bywgc2VsLnRvKSA6IFwiXCI7XG4gICAgICAgICAgICB0ciA9IHN0YXJ0U3RhdGUucmVwbGFjZVNlbGVjdGlvbih2aWV3LnN0YXRlLnRvVGV4dChiZWZvcmUgKyBjaGFuZ2UuaW5zZXJ0LnNsaWNlU3RyaW5nKDAsIHVuZGVmaW5lZCwgdmlldy5zdGF0ZS5saW5lQnJlYWspICsgYWZ0ZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VzID0gc3RhcnRTdGF0ZS5jaGFuZ2VzKGNoYW5nZSk7XG4gICAgICAgICAgICBsZXQgbWFpblNlbCA9IG5ld1NlbCAmJiAhc3RhcnRTdGF0ZS5zZWxlY3Rpb24ubWFpbi5lcShuZXdTZWwubWFpbikgJiYgbmV3U2VsLm1haW4udG8gPD0gY2hhbmdlcy5uZXdMZW5ndGhcbiAgICAgICAgICAgICAgICA/IG5ld1NlbC5tYWluIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gVHJ5IHRvIGFwcGx5IGEgY29tcG9zaXRpb24gY2hhbmdlIHRvIGFsbCBjdXJzb3JzXG4gICAgICAgICAgICBpZiAoc3RhcnRTdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLmxlbmd0aCA+IDEgJiYgdmlldy5pbnB1dFN0YXRlLmNvbXBvc2luZyA+PSAwICYmXG4gICAgICAgICAgICAgICAgY2hhbmdlLnRvIDw9IHNlbC50byAmJiBjaGFuZ2UudG8gPj0gc2VsLnRvIC0gMTApIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZWQgPSB2aWV3LnN0YXRlLnNsaWNlRG9jKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuICAgICAgICAgICAgICAgIGxldCBjb21wb3NpdGlvblJhbmdlID0gY29tcG9zaXRpb25TdXJyb3VuZGluZ05vZGUodmlldykgfHwgdmlldy5zdGF0ZS5kb2MubGluZUF0KHNlbC5oZWFkKTtcbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gc2VsLnRvIC0gY2hhbmdlLnRvLCBzaXplID0gc2VsLnRvIC0gc2VsLmZyb207XG4gICAgICAgICAgICAgICAgdHIgPSBzdGFydFN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA9PSBzZWwuZnJvbSAmJiByYW5nZS50byA9PSBzZWwudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzLCByYW5nZTogbWFpblNlbCB8fCByYW5nZS5tYXAoY2hhbmdlcykgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvID0gcmFuZ2UudG8gLSBvZmZzZXQsIGZyb20gPSB0byAtIHJlcGxhY2VkLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLnRvIC0gcmFuZ2UuZnJvbSAhPSBzaXplIHx8IHZpZXcuc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pICE9IHJlcGxhY2VkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGVyZSdzIG5vIHdheSB0byBtYWtlIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2VzIGluIHRoZSBzYW1lIG5vZGUgd29yayB3aXRob3V0IGFib3J0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb3NpdGlvbiwgc28gY3Vyc29ycyBpbiB0aGUgY29tcG9zaXRpb24gcmFuZ2UgYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRpb25SYW5nZSAmJiByYW5nZS50byA+PSBjb21wb3NpdGlvblJhbmdlLmZyb20gJiYgcmFuZ2UuZnJvbSA8PSBjb21wb3NpdGlvblJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlQ2hhbmdlcyA9IHN0YXJ0U3RhdGUuY2hhbmdlcyh7IGZyb20sIHRvLCBpbnNlcnQ6IGNoYW5nZS5pbnNlcnQgfSksIHNlbE9mZiA9IHJhbmdlLnRvIC0gc2VsLnRvO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogcmFuZ2VDaGFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6ICFtYWluU2VsID8gcmFuZ2UubWFwKHJhbmdlQ2hhbmdlcykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVkaXRvclNlbGVjdGlvbi5yYW5nZShNYXRoLm1heCgwLCBtYWluU2VsLmFuY2hvciArIHNlbE9mZiksIE1hdGgubWF4KDAsIG1haW5TZWwuaGVhZCArIHNlbE9mZikpXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBtYWluU2VsICYmIHN0YXJ0U3RhdGUuc2VsZWN0aW9uLnJlcGxhY2VSYW5nZShtYWluU2VsKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVzZXJFdmVudCA9IFwiaW5wdXQudHlwZVwiO1xuICAgICAgICBpZiAodmlldy5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgIHVzZXJFdmVudCArPSBcIi5jb21wb3NlXCI7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dFN0YXRlLmNvbXBvc2l0aW9uRmlyc3RDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICB1c2VyRXZlbnQgKz0gXCIuc3RhcnRcIjtcbiAgICAgICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUuY29tcG9zaXRpb25GaXJzdENoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZpZXcuZGlzcGF0Y2godHIsIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudCB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1NlbCAmJiAhbmV3U2VsLm1haW4uZXEoc2VsKSkge1xuICAgICAgICBsZXQgc2Nyb2xsSW50b1ZpZXcgPSBmYWxzZSwgdXNlckV2ZW50ID0gXCJzZWxlY3RcIjtcbiAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uVGltZSA+IERhdGUubm93KCkgLSA1MCkge1xuICAgICAgICAgICAgaWYgKHZpZXcuaW5wdXRTdGF0ZS5sYXN0U2VsZWN0aW9uT3JpZ2luID09IFwic2VsZWN0XCIpXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXcgPSB0cnVlO1xuICAgICAgICAgICAgdXNlckV2ZW50ID0gdmlldy5pbnB1dFN0YXRlLmxhc3RTZWxlY3Rpb25PcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5kaXNwYXRjaCh7IHNlbGVjdGlvbjogbmV3U2VsLCBzY3JvbGxJbnRvVmlldywgdXNlckV2ZW50IH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaW5kRGlmZihhLCBiLCBwcmVmZXJyZWRQb3MsIHByZWZlcnJlZFNpZGUpIHtcbiAgICBsZXQgbWluTGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBsZXQgZnJvbSA9IDA7XG4gICAgd2hpbGUgKGZyb20gPCBtaW5MZW4gJiYgYS5jaGFyQ29kZUF0KGZyb20pID09IGIuY2hhckNvZGVBdChmcm9tKSlcbiAgICAgICAgZnJvbSsrO1xuICAgIGlmIChmcm9tID09IG1pbkxlbiAmJiBhLmxlbmd0aCA9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHRvQSA9IGEubGVuZ3RoLCB0b0IgPSBiLmxlbmd0aDtcbiAgICB3aGlsZSAodG9BID4gMCAmJiB0b0IgPiAwICYmIGEuY2hhckNvZGVBdCh0b0EgLSAxKSA9PSBiLmNoYXJDb2RlQXQodG9CIC0gMSkpIHtcbiAgICAgICAgdG9BLS07XG4gICAgICAgIHRvQi0tO1xuICAgIH1cbiAgICBpZiAocHJlZmVycmVkU2lkZSA9PSBcImVuZFwiKSB7XG4gICAgICAgIGxldCBhZGp1c3QgPSBNYXRoLm1heCgwLCBmcm9tIC0gTWF0aC5taW4odG9BLCB0b0IpKTtcbiAgICAgICAgcHJlZmVycmVkUG9zIC09IHRvQSArIGFkanVzdCAtIGZyb207XG4gICAgfVxuICAgIGlmICh0b0EgPCBmcm9tICYmIGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gZnJvbSAmJiBwcmVmZXJyZWRQb3MgPj0gdG9BID8gZnJvbSAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgICAgIGZyb20gLT0gbW92ZTtcbiAgICAgICAgdG9CID0gZnJvbSArICh0b0IgLSB0b0EpO1xuICAgICAgICB0b0EgPSBmcm9tO1xuICAgIH1cbiAgICBlbHNlIGlmICh0b0IgPCBmcm9tKSB7XG4gICAgICAgIGxldCBtb3ZlID0gcHJlZmVycmVkUG9zIDw9IGZyb20gJiYgcHJlZmVycmVkUG9zID49IHRvQiA/IGZyb20gLSBwcmVmZXJyZWRQb3MgOiAwO1xuICAgICAgICBmcm9tIC09IG1vdmU7XG4gICAgICAgIHRvQSA9IGZyb20gKyAodG9BIC0gdG9CKTtcbiAgICAgICAgdG9CID0gZnJvbTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZnJvbSwgdG9BLCB0b0IgfTtcbn1cbmZ1bmN0aW9uIHNlbGVjdGlvblBvaW50cyh2aWV3KSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGlmICh2aWV3LnJvb3QuYWN0aXZlRWxlbWVudCAhPSB2aWV3LmNvbnRlbnRET00pXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgbGV0IHsgYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0IH0gPSB2aWV3Lm9ic2VydmVyLnNlbGVjdGlvblJhbmdlO1xuICAgIGlmIChhbmNob3JOb2RlKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBET01Qb2ludChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpKTtcbiAgICAgICAgaWYgKGZvY3VzTm9kZSAhPSBhbmNob3JOb2RlIHx8IGZvY3VzT2Zmc2V0ICE9IGFuY2hvck9mZnNldClcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBET01Qb2ludChmb2N1c05vZGUsIGZvY3VzT2Zmc2V0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzZWxlY3Rpb25Gcm9tUG9pbnRzKHBvaW50cywgYmFzZSkge1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBhbmNob3IgPSBwb2ludHNbMF0ucG9zLCBoZWFkID0gcG9pbnRzLmxlbmd0aCA9PSAyID8gcG9pbnRzWzFdLnBvcyA6IGFuY2hvcjtcbiAgICByZXR1cm4gYW5jaG9yID4gLTEgJiYgaGVhZCA+IC0xID8gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShhbmNob3IgKyBiYXNlLCBoZWFkICsgYmFzZSkgOiBudWxsO1xufVxuXG5jb25zdCBvYnNlcnZlT3B0aW9ucyA9IHtcbiAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgICBzdWJ0cmVlOiB0cnVlLFxuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG59O1xuLy8gSUUxMSBoYXMgdmVyeSBicm9rZW4gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB3ZSBhbHNvIGxpc3RlbiB0b1xuLy8gRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkIHRoZXJlXG5jb25zdCB1c2VDaGFyRGF0YSA9IGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExO1xuY2xhc3MgRE9NT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gVGhlIGtub3duIHNlbGVjdGlvbi4gS2VwdCBpbiBvdXIgb3duIG9iamVjdCwgYXMgb3Bwb3NlZCB0byBqdXN0XG4gICAgICAgIC8vIGRpcmVjdGx5IGFjY2Vzc2luZyB0aGUgc2VsZWN0aW9uIGJlY2F1c2U6XG4gICAgICAgIC8vICAtIFNhZmFyaSBkb2Vzbid0IHJlcG9ydCB0aGUgcmlnaHQgc2VsZWN0aW9uIGluIHNoYWRvdyBET01cbiAgICAgICAgLy8gIC0gUmVhZGluZyBmcm9tIHRoZSBzZWxlY3Rpb24gZm9yY2VzIGEgRE9NIGxheW91dFxuICAgICAgICAvLyAgLSBUaGlzIHdheSwgd2UgY2FuIGlnbm9yZSBzZWxlY3Rpb25jaGFuZ2UgZXZlbnRzIGlmIHdlIGhhdmVcbiAgICAgICAgLy8gICAgYWxyZWFkeSBzZWVuIHRoZSAnbmV3JyBzZWxlY3Rpb25cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZSA9IG5ldyBET01TZWxlY3Rpb25TdGF0ZTtcbiAgICAgICAgLy8gU2V0IHdoZW4gYSBzZWxlY3Rpb24gY2hhbmdlIGlzIGRldGVjdGVkLCBjbGVhcmVkIG9uIGZsdXNoXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IC0xO1xuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mbHVzaGluZ0FuZHJvaWRLZXkgPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gMDtcbiAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyc2VjdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2FwcyA9IFtdO1xuICAgICAgICAvLyBUaW1lb3V0IGZvciBzY2hlZHVsaW5nIGNoZWNrIG9mIHRoZSBwYXJlbnRzIHRoYXQgbmVlZCBzY3JvbGwgaGFuZGxlcnNcbiAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IC0xO1xuICAgICAgICB0aGlzLmRvbSA9IHZpZXcuY29udGVudERPTTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9ucyA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBtdXQgb2YgbXV0YXRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChtdXQpO1xuICAgICAgICAgICAgLy8gSUUxMSB3aWxsIHNvbWV0aW1lcyAob24gdHlwaW5nIG92ZXIgYSBzZWxlY3Rpb24gb3JcbiAgICAgICAgICAgIC8vIGJhY2tzcGFjaW5nIG91dCBhIHNpbmdsZSBjaGFyYWN0ZXIgdGV4dCBub2RlKSBjYWxsIHRoZVxuICAgICAgICAgICAgLy8gb2JzZXJ2ZXIgY2FsbGJhY2sgYmVmb3JlIGFjdHVhbGx5IHVwZGF0aW5nIHRoZSBET00uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVW5yZWxhdGVkbHksIGlPUyBTYWZhcmkgd2lsbCwgd2hlbiBlbmRpbmcgYSBjb21wb3NpdGlvbixcbiAgICAgICAgICAgIC8vIHNvbWV0aW1lcyBmaXJzdCBjbGVhciBpdCwgZGVsaXZlciB0aGUgbXV0YXRpb25zLCBhbmQgdGhlblxuICAgICAgICAgICAgLy8gcmVpbnNlcnQgdGhlIGZpbmlzaGVkIHRleHQuIENvZGVNaXJyb3IncyBoYW5kbGluZyBvZiB0aGVcbiAgICAgICAgICAgIC8vIGRlbGV0aW9uIHdpbGwgcHJldmVudCB0aGUgcmVpbnNlcnRpb24gZnJvbSBoYXBwZW5pbmcsXG4gICAgICAgICAgICAvLyBicmVha2luZyBjb21wb3NpdGlvbi5cbiAgICAgICAgICAgIGlmICgoYnJvd3Nlci5pZSAmJiBicm93c2VyLmllX3ZlcnNpb24gPD0gMTEgfHwgYnJvd3Nlci5pb3MgJiYgdmlldy5jb21wb3NpbmcpICYmXG4gICAgICAgICAgICAgICAgbXV0YXRpb25zLnNvbWUobSA9PiBtLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtLnJlbW92ZWROb2Rlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAgICAgbS50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiICYmIG0ub2xkVmFsdWUubGVuZ3RoID4gbS50YXJnZXQubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXNlQ2hhckRhdGEpXG4gICAgICAgICAgICB0aGlzLm9uQ2hhckRhdGEgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjaGFyYWN0ZXJEYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiBldmVudC5wcmV2VmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UgPSB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25SZXNpemUgPSB0aGlzLm9uUmVzaXplLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25QcmludCA9IHRoaXMub25QcmludC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uU2Nyb2xsID0gdGhpcy5vblNjcm9sbC5iaW5kKHRoaXMpO1xuICAgICAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5yZXNpemUgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMudmlldy5kb2NWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGFzdFVwZGF0ZSkgPCBEYXRlLm5vdygpIC0gNzUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZXNpemUub2JzZXJ2ZSh2aWV3LnNjcm9sbERPTSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4gPSB2aWV3Lndpbik7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudENoZWNrIDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IHNldFRpbWVvdXQodGhpcy5saXN0ZW5Gb3JTY3JvbGwuYmluZCh0aGlzKSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJpZXMubGVuZ3RoID4gMCAmJiAoZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdLmludGVyc2VjdGlvblJhdGlvID4gMCkgIT0gdGhpcy5pbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RpbmcgPSAhdGhpcy5pbnRlcnNlY3Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZyAhPSB0aGlzLnZpZXcuaW5WaWV3KVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbENoYW5nZWQoZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb24ub2JzZXJ2ZSh0aGlzLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAwICYmIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpO1xuICAgICAgICAgICAgfSwge30pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuRm9yU2Nyb2xsKCk7XG4gICAgICAgIHRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCk7XG4gICAgfVxuICAgIG9uU2Nyb2xsQ2hhbmdlZChlKSB7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLnJ1blNjcm9sbEhhbmRsZXJzKHRoaXMudmlldywgZSk7XG4gICAgICAgIGlmICh0aGlzLmludGVyc2VjdGluZylcbiAgICAgICAgICAgIHRoaXMudmlldy5tZWFzdXJlKCk7XG4gICAgfVxuICAgIG9uU2Nyb2xsKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW5nKVxuICAgICAgICAgICAgdGhpcy5mbHVzaChmYWxzZSk7XG4gICAgICAgIHRoaXMub25TY3JvbGxDaGFuZ2VkKGUpO1xuICAgIH1cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzaXplVGltZW91dCA8IDApXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgb25QcmludCgpIHtcbiAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5wcmludGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMudmlldy5tZWFzdXJlKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3LnZpZXdTdGF0ZS5wcmludGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIHVwZGF0ZUdhcHMoZ2Fwcykge1xuICAgICAgICBpZiAodGhpcy5nYXBJbnRlcnNlY3Rpb24gJiYgKGdhcHMubGVuZ3RoICE9IHRoaXMuZ2Fwcy5sZW5ndGggfHwgdGhpcy5nYXBzLnNvbWUoKGcsIGkpID0+IGcgIT0gZ2Fwc1tpXSkpKSB7XG4gICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbi5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBnYXAgb2YgZ2FwcylcbiAgICAgICAgICAgICAgICB0aGlzLmdhcEludGVyc2VjdGlvbi5vYnNlcnZlKGdhcCk7XG4gICAgICAgICAgICB0aGlzLmdhcHMgPSBnYXBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uU2VsZWN0aW9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGxldCB3YXNDaGFuZ2VkID0gdGhpcy5zZWxlY3Rpb25DaGFuZ2VkO1xuICAgICAgICBpZiAoIXRoaXMucmVhZFNlbGVjdGlvblJhbmdlKCkgfHwgdGhpcy5kZWxheWVkQW5kcm9pZEtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcywgc2VsID0gdGhpcy5zZWxlY3Rpb25SYW5nZTtcbiAgICAgICAgaWYgKHZpZXcuc3RhdGUuZmFjZXQoZWRpdGFibGUpID8gdmlldy5yb290LmFjdGl2ZUVsZW1lbnQgIT0gdGhpcy5kb20gOiAhaGFzU2VsZWN0aW9uKHZpZXcuZG9tLCBzZWwpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY29udGV4dCA9IHNlbC5hbmNob3JOb2RlICYmIHZpZXcuZG9jVmlldy5uZWFyZXN0KHNlbC5hbmNob3JOb2RlKTtcbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5pZ25vcmVFdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIGlmICghd2FzQ2hhbmdlZClcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEZWxldGlvbnMgb24gSUUxMSBmaXJlIHRoZWlyIGV2ZW50cyBpbiB0aGUgd3Jvbmcgb3JkZXIsIGdpdmluZ1xuICAgICAgICAvLyB1cyBhIHNlbGVjdGlvbiBjaGFuZ2UgZXZlbnQgYmVmb3JlIHRoZSBET00gY2hhbmdlcyBhcmVcbiAgICAgICAgLy8gcmVwb3J0ZWQuXG4gICAgICAgIC8vIENocm9tZSBBbmRyb2lkIGhhcyBhIHNpbWlsYXIgaXNzdWUgd2hlbiBiYWNrc3BhY2luZyBvdXQgYVxuICAgICAgICAvLyBzZWxlY3Rpb24gKCM2NDUpLlxuICAgICAgICBpZiAoKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5pZV92ZXJzaW9uIDw9IDExIHx8IGJyb3dzZXIuYW5kcm9pZCAmJiBicm93c2VyLmNocm9tZSkgJiYgIXZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW4uZW1wdHkgJiZcbiAgICAgICAgICAgIC8vIChTZWxlY3Rpb24uaXNDb2xsYXBzZWQgaXNuJ3QgcmVsaWFibGUgb24gSUUpXG4gICAgICAgICAgICBzZWwuZm9jdXNOb2RlICYmIGlzRXF1aXZhbGVudFBvc2l0aW9uKHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCwgc2VsLmFuY2hvck5vZGUsIHNlbC5hbmNob3JPZmZzZXQpKVxuICAgICAgICAgICAgdGhpcy5mbHVzaFNvb24oKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5mbHVzaChmYWxzZSk7XG4gICAgfVxuICAgIHJlYWRTZWxlY3Rpb25SYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdGhpcztcbiAgICAgICAgLy8gVGhlIFNlbGVjdGlvbiBvYmplY3QgaXMgYnJva2VuIGluIHNoYWRvdyByb290cyBpbiBTYWZhcmkuIFNlZVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9kZXYvaXNzdWVzLzQxNFxuICAgICAgICBsZXQgcmFuZ2UgPSBicm93c2VyLnNhZmFyaSAmJiB2aWV3LnJvb3Qubm9kZVR5cGUgPT0gMTEgJiZcbiAgICAgICAgICAgIGRlZXBBY3RpdmVFbGVtZW50KHRoaXMuZG9tLm93bmVyRG9jdW1lbnQpID09IHRoaXMuZG9tICYmXG4gICAgICAgICAgICBzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2sodGhpcy52aWV3KSB8fCBnZXRTZWxlY3Rpb24odmlldy5yb290KTtcbiAgICAgICAgaWYgKCFyYW5nZSB8fCB0aGlzLnNlbGVjdGlvblJhbmdlLmVxKHJhbmdlKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGxvY2FsID0gaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCByYW5nZSk7XG4gICAgICAgIC8vIERldGVjdCB0aGUgc2l0dWF0aW9uIHdoZXJlIHRoZSBicm93c2VyIGhhcywgb24gZm9jdXMsIG1vdmVkIHRoZVxuICAgICAgICAvLyBzZWxlY3Rpb24gdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb250ZW50IGVsZW1lbnQuIFJlc2V0IGl0IHRvIHRoZVxuICAgICAgICAvLyBwb3NpdGlvbiBmcm9tIHRoZSBlZGl0b3Igc3RhdGUuXG4gICAgICAgIGlmIChsb2NhbCAmJiAhdGhpcy5zZWxlY3Rpb25DaGFuZ2VkICYmXG4gICAgICAgICAgICB2aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA+IERhdGUubm93KCkgLSAyMDAgJiZcbiAgICAgICAgICAgIHZpZXcuaW5wdXRTdGF0ZS5sYXN0VG91Y2hUaW1lIDwgRGF0ZS5ub3coKSAtIDMwMCAmJlxuICAgICAgICAgICAgYXRFbGVtZW50U3RhcnQodGhpcy5kb20sIHJhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LmlucHV0U3RhdGUubGFzdEZvY3VzVGltZSA9IDA7XG4gICAgICAgICAgICB2aWV3LmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXRSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmIChsb2NhbClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb25SYW5nZShhbmNob3IsIGhlYWQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXQoYW5jaG9yLm5vZGUsIGFuY2hvci5vZmZzZXQsIGhlYWQubm9kZSwgaGVhZC5vZmZzZXQpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgY2xlYXJTZWxlY3Rpb25SYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25SYW5nZS5zZXQobnVsbCwgMCwgbnVsbCwgMCk7XG4gICAgfVxuICAgIGxpc3RlbkZvclNjcm9sbCgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnRDaGVjayA9IC0xO1xuICAgICAgICBsZXQgaSA9IDAsIGNoYW5nZWQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBkb20gPSB0aGlzLmRvbTsgZG9tOykge1xuICAgICAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VkICYmIGkgPCB0aGlzLnNjcm9sbFRhcmdldHMubGVuZ3RoICYmIHRoaXMuc2Nyb2xsVGFyZ2V0c1tpXSA9PSBkb20pXG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2hhbmdlZClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuc2Nyb2xsVGFyZ2V0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5wdXNoKGRvbSk7XG4gICAgICAgICAgICAgICAgZG9tID0gZG9tLmFzc2lnbmVkU2xvdCB8fCBkb20ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRvbS5ub2RlVHlwZSA9PSAxMSkgeyAvLyBTaGFkb3cgcm9vdFxuICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5ob3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCB0aGlzLnNjcm9sbFRhcmdldHMubGVuZ3RoICYmICFjaGFuZ2VkKVxuICAgICAgICAgICAgY2hhbmdlZCA9IHRoaXMuc2Nyb2xsVGFyZ2V0cy5zbGljZSgwLCBpKTtcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRvbSBvZiB0aGlzLnNjcm9sbFRhcmdldHMpXG4gICAgICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzID0gY2hhbmdlZClcbiAgICAgICAgICAgICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZ25vcmUoZikge1xuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy5kb20sIG9ic2VydmVPcHRpb25zKTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLCB0aGlzLm9uQ2hhckRhdGEpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBpZiAodXNlQ2hhckRhdGEpXG4gICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSk7XG4gICAgfVxuICAgIC8vIFRocm93IGF3YXkgYW55IHBlbmRpbmcgY2hhbmdlc1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIHRoaXMucXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIENocm9tZSBBbmRyb2lkLCBlc3BlY2lhbGx5IGluIGNvbWJpbmF0aW9uIHdpdGggR0JvYXJkLCBub3Qgb25seVxuICAgIC8vIGRvZXNuJ3QgcmVsaWFibHkgZmlyZSByZWd1bGFyIGtleSBldmVudHMsIGJ1dCBhbHNvIG9mdGVuXG4gICAgLy8gc3Vycm91bmRzIHRoZSBlZmZlY3Qgb2YgZW50ZXIgb3IgYmFja3NwYWNlIHdpdGggYSBidW5jaCBvZlxuICAgIC8vIGNvbXBvc2l0aW9uIGV2ZW50cyB0aGF0LCB3aGVuIGludGVycnVwdGVkLCBjYXVzZSB0ZXh0IGR1cGxpY2F0aW9uXG4gICAgLy8gb3Igb3RoZXIga2luZHMgb2YgY29ycnVwdGlvbi4gVGhpcyBoYWNrIG1ha2VzIHRoZSBlZGl0b3IgYmFjayBvZmZcbiAgICAvLyBmcm9tIGhhbmRsaW5nIERPTSBjaGFuZ2VzIGZvciBhIG1vbWVudCB3aGVuIHN1Y2ggYSBrZXkgaXNcbiAgICAvLyBkZXRlY3RlZCAodmlhIGJlZm9yZWlucHV0IG9yIGtleWRvd24pLCBhbmQgdGhlbiB0cmllcyB0byBmbHVzaFxuICAgIC8vIHRoZW0gb3IsIGlmIHRoYXQgaGFzIG5vIGVmZmVjdCwgZGlzcGF0Y2hlcyB0aGUgZ2l2ZW4ga2V5LlxuICAgIGRlbGF5QW5kcm9pZEtleShrZXksIGtleUNvZGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZGVsYXllZEFuZHJvaWRLZXkpIHtcbiAgICAgICAgICAgIGxldCBmbHVzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5kZWxheWVkQW5kcm9pZEtleTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJEZWxheWVkQW5kcm9pZEtleSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZmx1c2goKSAmJiBrZXkuZm9yY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaEtleSh0aGlzLmRvbSwga2V5LmtleSwga2V5LmtleUNvZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSA9IHRoaXMudmlldy53aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5jZSBiYWNrc3BhY2UgYmVmb3JlaW5wdXQgaXMgc29tZXRpbWVzIHNpZ25hbGxlZCBzcHVyaW91c2x5LFxuICAgICAgICAvLyBFbnRlciBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZS5cbiAgICAgICAgaWYgKCF0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5IHx8IGtleSA9PSBcIkVudGVyXCIpXG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5ID0ge1xuICAgICAgICAgICAgICAgIGtleSwga2V5Q29kZSxcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJ1biB0aGUga2V5IGhhbmRsZXIgd2hlbiBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZCBpZlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgY29taW5nIHJpZ2h0IGFmdGVyIGFub3RoZXIgY2hhbmdlLCBpbiB3aGljaCBjYXNlXG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgcHJvYmFibHkgcGFydCBvZiBhIHdlaXJkIGNoYWluIG9mIHVwZGF0ZXMsIGFuZCBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBiZSBpZ25vcmVkIGlmIGl0IHJldHVybnMgdGhlIERPTSB0byBpdHMgcHJldmlvdXMgc3RhdGUuXG4gICAgICAgICAgICAgICAgZm9yY2U6IHRoaXMubGFzdENoYW5nZSA8IERhdGUubm93KCkgLSA1MCB8fCAhISgoX2EgPSB0aGlzLmRlbGF5ZWRBbmRyb2lkS2V5KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yY2UpXG4gICAgICAgICAgICB9O1xuICAgIH1cbiAgICBjbGVhckRlbGF5ZWRBbmRyb2lkS2V5KCkge1xuICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSk7XG4gICAgICAgIHRoaXMuZGVsYXllZEFuZHJvaWRLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSA9IC0xO1xuICAgIH1cbiAgICBmbHVzaFNvb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRlbGF5ZWRGbHVzaCA8IDApXG4gICAgICAgICAgICB0aGlzLmRlbGF5ZWRGbHVzaCA9IHRoaXMudmlldy53aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHsgdGhpcy5kZWxheWVkRmx1c2ggPSAtMTsgdGhpcy5mbHVzaCgpOyB9KTtcbiAgICB9XG4gICAgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVsYXllZEZsdXNoID49IDApIHtcbiAgICAgICAgICAgIHRoaXMudmlldy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5kZWxheWVkRmx1c2gpO1xuICAgICAgICAgICAgdGhpcy5kZWxheWVkRmx1c2ggPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIHByb2Nlc3NSZWNvcmRzKCkge1xuICAgICAgICBsZXQgcmVjb3JkcyA9IHRoaXMucXVldWU7XG4gICAgICAgIGZvciAobGV0IG11dCBvZiB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkpXG4gICAgICAgICAgICByZWNvcmRzLnB1c2gobXV0KTtcbiAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZnJvbSA9IC0xLCB0byA9IC0xLCB0eXBlT3ZlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCByZWNvcmQgb2YgcmVjb3Jkcykge1xuICAgICAgICAgICAgbGV0IHJhbmdlID0gdGhpcy5yZWFkTXV0YXRpb24ocmVjb3JkKTtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmFuZ2UudHlwZU92ZXIpXG4gICAgICAgICAgICAgICAgdHlwZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGZyb20gPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAoeyBmcm9tLCB0byB9ID0gcmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbSA9IE1hdGgubWluKHJhbmdlLmZyb20sIGZyb20pO1xuICAgICAgICAgICAgICAgIHRvID0gTWF0aC5tYXgocmFuZ2UudG8sIHRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmcm9tLCB0bywgdHlwZU92ZXIgfTtcbiAgICB9XG4gICAgcmVhZENoYW5nZSgpIHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8sIHR5cGVPdmVyIH0gPSB0aGlzLnByb2Nlc3NSZWNvcmRzKCk7XG4gICAgICAgIGxldCBuZXdTZWwgPSB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgJiYgaGFzU2VsZWN0aW9uKHRoaXMuZG9tLCB0aGlzLnNlbGVjdGlvblJhbmdlKTtcbiAgICAgICAgaWYgKGZyb20gPCAwICYmICFuZXdTZWwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGZyb20gPiAtMSlcbiAgICAgICAgICAgIHRoaXMubGFzdENoYW5nZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dFN0YXRlLmxhc3RGb2N1c1RpbWUgPSAwO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG5ldyBET01DaGFuZ2UodGhpcy52aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIpO1xuICAgIH1cbiAgICAvLyBBcHBseSBwZW5kaW5nIGNoYW5nZXMsIGlmIGFueVxuICAgIGZsdXNoKHJlYWRTZWxlY3Rpb24gPSB0cnVlKSB7XG4gICAgICAgIC8vIENvbXBsZXRlbHkgaG9sZCBvZmYgZmx1c2hpbmcgd2hlbiBwZW5kaW5nIGtleXMgYXJlIHNldFx1MjAxNHRoZSBjb2RlXG4gICAgICAgIC8vIG1hbmFnaW5nIHRob3NlIHdpbGwgbWFrZSBzdXJlIHByb2Nlc3NSZWNvcmRzIGlzIGNhbGxlZCBhbmQgdGhlXG4gICAgICAgIC8vIHZpZXcgaXMgcmVzeW5jaHJvbml6ZWQgYWZ0ZXJcbiAgICAgICAgaWYgKHRoaXMuZGVsYXllZEZsdXNoID49IDAgfHwgdGhpcy5kZWxheWVkQW5kcm9pZEtleSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHJlYWRTZWxlY3Rpb24pXG4gICAgICAgICAgICB0aGlzLnJlYWRTZWxlY3Rpb25SYW5nZSgpO1xuICAgICAgICBsZXQgZG9tQ2hhbmdlID0gdGhpcy5yZWFkQ2hhbmdlKCk7XG4gICAgICAgIGlmICghZG9tQ2hhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgc3RhcnRTdGF0ZSA9IHRoaXMudmlldy5zdGF0ZTtcbiAgICAgICAgbGV0IGhhbmRsZWQgPSBhcHBseURPTUNoYW5nZSh0aGlzLnZpZXcsIGRvbUNoYW5nZSk7XG4gICAgICAgIC8vIFRoZSB2aWV3IHdhc24ndCB1cGRhdGVkXG4gICAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUgPT0gc3RhcnRTdGF0ZSlcbiAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGUoW10pO1xuICAgICAgICByZXR1cm4gaGFuZGxlZDtcbiAgICB9XG4gICAgcmVhZE11dGF0aW9uKHJlYykge1xuICAgICAgICBsZXQgY1ZpZXcgPSB0aGlzLnZpZXcuZG9jVmlldy5uZWFyZXN0KHJlYy50YXJnZXQpO1xuICAgICAgICBpZiAoIWNWaWV3IHx8IGNWaWV3Lmlnbm9yZU11dGF0aW9uKHJlYykpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY1ZpZXcubWFya0RpcnR5KHJlYy50eXBlID09IFwiYXR0cmlidXRlc1wiKTtcbiAgICAgICAgaWYgKHJlYy50eXBlID09IFwiYXR0cmlidXRlc1wiKVxuICAgICAgICAgICAgY1ZpZXcuZGlydHkgfD0gNCAvKiBEaXJ0eS5BdHRycyAqLztcbiAgICAgICAgaWYgKHJlYy50eXBlID09IFwiY2hpbGRMaXN0XCIpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZEJlZm9yZSA9IGZpbmRDaGlsZChjVmlldywgcmVjLnByZXZpb3VzU2libGluZyB8fCByZWMudGFyZ2V0LnByZXZpb3VzU2libGluZywgLTEpO1xuICAgICAgICAgICAgbGV0IGNoaWxkQWZ0ZXIgPSBmaW5kQ2hpbGQoY1ZpZXcsIHJlYy5uZXh0U2libGluZyB8fCByZWMudGFyZ2V0Lm5leHRTaWJsaW5nLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB7IGZyb206IGNoaWxkQmVmb3JlID8gY1ZpZXcucG9zQWZ0ZXIoY2hpbGRCZWZvcmUpIDogY1ZpZXcucG9zQXRTdGFydCxcbiAgICAgICAgICAgICAgICB0bzogY2hpbGRBZnRlciA/IGNWaWV3LnBvc0JlZm9yZShjaGlsZEFmdGVyKSA6IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWMudHlwZSA9PSBcImNoYXJhY3RlckRhdGFcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogY1ZpZXcucG9zQXRTdGFydCwgdG86IGNWaWV3LnBvc0F0RW5kLCB0eXBlT3ZlcjogcmVjLnRhcmdldC5ub2RlVmFsdWUgPT0gcmVjLm9sZFZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRXaW5kb3cod2luKSB7XG4gICAgICAgIGlmICh3aW4gIT0gdGhpcy53aW4pIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgICAgIHRoaXMud2luID0gd2luO1xuICAgICAgICAgICAgdGhpcy5hZGRXaW5kb3dMaXN0ZW5lcnModGhpcy53aW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFdpbmRvd0xpc3RlbmVycyh3aW4pIHtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vblJlc2l6ZSk7XG4gICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JlcHJpbnRcIiwgdGhpcy5vblByaW50KTtcbiAgICAgICAgd2luLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHdpbi5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH1cbiAgICByZW1vdmVXaW5kb3dMaXN0ZW5lcnMod2luKSB7XG4gICAgICAgIHdpbi5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwpO1xuICAgICAgICB3aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLm9uUmVzaXplKTtcbiAgICAgICAgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmVwcmludFwiLCB0aGlzLm9uUHJpbnQpO1xuICAgICAgICB3aW4uZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmludGVyc2VjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgKF9iID0gdGhpcy5nYXBJbnRlcnNlY3Rpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNjb25uZWN0KCk7XG4gICAgICAgIChfYyA9IHRoaXMucmVzaXplKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzY29ubmVjdCgpO1xuICAgICAgICBmb3IgKGxldCBkb20gb2YgdGhpcy5zY3JvbGxUYXJnZXRzKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCk7XG4gICAgICAgIHRoaXMucmVtb3ZlV2luZG93TGlzdGVuZXJzKHRoaXMud2luKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFyZW50Q2hlY2spO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lb3V0KTtcbiAgICAgICAgdGhpcy53aW4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5kZWxheWVkRmx1c2gpO1xuICAgICAgICB0aGlzLndpbi5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZsdXNoaW5nQW5kcm9pZEtleSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZENoaWxkKGNWaWV3LCBkb20sIGRpcikge1xuICAgIHdoaWxlIChkb20pIHtcbiAgICAgICAgbGV0IGN1clZpZXcgPSBDb250ZW50Vmlldy5nZXQoZG9tKTtcbiAgICAgICAgaWYgKGN1clZpZXcgJiYgY3VyVmlldy5wYXJlbnQgPT0gY1ZpZXcpXG4gICAgICAgICAgICByZXR1cm4gY3VyVmlldztcbiAgICAgICAgbGV0IHBhcmVudCA9IGRvbS5wYXJlbnROb2RlO1xuICAgICAgICBkb20gPSBwYXJlbnQgIT0gY1ZpZXcuZG9tID8gcGFyZW50IDogZGlyID4gMCA/IGRvbS5uZXh0U2libGluZyA6IGRvbS5wcmV2aW91c1NpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gVXNlZCB0byB3b3JrIGFyb3VuZCBhIFNhZmFyaSBTZWxlY3Rpb24vc2hhZG93IERPTSBidWcgKCM0MTQpXG5mdW5jdGlvbiBzYWZhcmlTZWxlY3Rpb25SYW5nZUhhY2sodmlldykge1xuICAgIGxldCBmb3VuZCA9IG51bGw7XG4gICAgLy8gQmVjYXVzZSBTYWZhcmkgKGF0IGxlYXN0IGluIDIwMTgtMjAyMSkgZG9lc24ndCBwcm92aWRlIHJlZ3VsYXJcbiAgICAvLyBhY2Nlc3MgdG8gdGhlIHNlbGVjdGlvbiBpbnNpZGUgYSBzaGFkb3dyb290LCB3ZSBoYXZlIHRvIHBlcmZvcm0gYVxuICAgIC8vIHJpZGljdWxvdXMgaGFjayB0byBnZXQgYXQgaXRcdTIwMTR1c2luZyBgZXhlY0NvbW1hbmRgIHRvIHRyaWdnZXIgYVxuICAgIC8vIGBiZWZvcmVJbnB1dGAgZXZlbnQgc28gdGhhdCB3ZSBjYW4gcmVhZCB0aGUgdGFyZ2V0IHJhbmdlIGZyb20gdGhlXG4gICAgLy8gZXZlbnQuXG4gICAgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZm91bmQgPSBldmVudC5nZXRUYXJnZXRSYW5nZXMoKVswXTtcbiAgICB9XG4gICAgdmlldy5jb250ZW50RE9NLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmVpbnB1dFwiLCByZWFkLCB0cnVlKTtcbiAgICB2aWV3LmRvbS5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKFwiaW5kZW50XCIpO1xuICAgIHZpZXcuY29udGVudERPTS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JlaW5wdXRcIiwgcmVhZCwgdHJ1ZSk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGFuY2hvck5vZGUgPSBmb3VuZC5zdGFydENvbnRhaW5lciwgYW5jaG9yT2Zmc2V0ID0gZm91bmQuc3RhcnRPZmZzZXQ7XG4gICAgbGV0IGZvY3VzTm9kZSA9IGZvdW5kLmVuZENvbnRhaW5lciwgZm9jdXNPZmZzZXQgPSBmb3VuZC5lbmRPZmZzZXQ7XG4gICAgbGV0IGN1ckFuY2hvciA9IHZpZXcuZG9jVmlldy5kb21BdFBvcyh2aWV3LnN0YXRlLnNlbGVjdGlvbi5tYWluLmFuY2hvcik7XG4gICAgLy8gU2luY2Ugc3VjaCBhIHJhbmdlIGRvZXNuJ3QgZGlzdGluZ3Vpc2ggYmV0d2VlbiBhbmNob3IgYW5kIGhlYWQsXG4gICAgLy8gdXNlIGEgaGV1cmlzdGljIHRoYXQgZmxpcHMgaXQgYXJvdW5kIGlmIGl0cyBlbmQgbWF0Y2hlcyB0aGVcbiAgICAvLyBjdXJyZW50IGFuY2hvci5cbiAgICBpZiAoaXNFcXVpdmFsZW50UG9zaXRpb24oY3VyQW5jaG9yLm5vZGUsIGN1ckFuY2hvci5vZmZzZXQsIGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQpKVxuICAgICAgICBbYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0LCBmb2N1c05vZGUsIGZvY3VzT2Zmc2V0XSA9IFtmb2N1c05vZGUsIGZvY3VzT2Zmc2V0LCBhbmNob3JOb2RlLCBhbmNob3JPZmZzZXRdO1xuICAgIHJldHVybiB7IGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCB9O1xufVxuXG4vLyBUaGUgZWRpdG9yJ3MgdXBkYXRlIHN0YXRlIG1hY2hpbmUgbG9va3Mgc29tZXRoaW5nIGxpa2UgdGhpczpcbi8vXG4vLyAgICAgSWRsZSBcdTIxOTIgVXBkYXRpbmcgXHUyMUM2IElkbGUgKHVuY2hlY2tlZCkgXHUyMTkyIE1lYXN1cmluZyBcdTIxOTIgSWRsZVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MjE5MSAgICAgIFx1MjE5M1xuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0aW5nIChtZWFzdXJlKVxuLy9cbi8vIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gJ0lkbGUnIGFuZCAnSWRsZSAodW5jaGVja2VkKScgbGllcyBpblxuLy8gd2hldGhlciBhIGxheW91dCBjaGVjayBoYXMgYmVlbiBzY2hlZHVsZWQuIEEgcmVndWxhciB1cGRhdGUgdGhyb3VnaFxuLy8gdGhlIGB1cGRhdGVgIG1ldGhvZCB1cGRhdGVzIHRoZSBET00gaW4gYSB3cml0ZS1vbmx5IGZhc2hpb24sIGFuZFxuLy8gcmVsaWVzIG9uIGEgY2hlY2sgKHNjaGVkdWxlZCB3aXRoIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgKSB0byBtYWtlXG4vLyBzdXJlIGV2ZXJ5dGhpbmcgaXMgd2hlcmUgaXQgc2hvdWxkIGJlIGFuZCB0aGUgdmlld3BvcnQgY292ZXJzIHRoZVxuLy8gdmlzaWJsZSBjb2RlLiBUaGF0IGNoZWNrIGNvbnRpbnVlcyB0byBtZWFzdXJlIGFuZCB0aGVuIG9wdGlvbmFsbHlcbi8vIHVwZGF0ZSB1bnRpbCBpdCByZWFjaGVzIGEgY29oZXJlbnQgc3RhdGUuXG4vKipcbkFuIGVkaXRvciB2aWV3IHJlcHJlc2VudHMgdGhlIGVkaXRvcidzIHVzZXIgaW50ZXJmYWNlLiBJdCBob2xkc1xudGhlIGVkaXRhYmxlIERPTSBzdXJmYWNlLCBhbmQgcG9zc2libHkgb3RoZXIgZWxlbWVudHMgc3VjaCBhcyB0aGVcbmxpbmUgbnVtYmVyIGd1dHRlci4gSXQgaGFuZGxlcyBldmVudHMgYW5kIGRpc3BhdGNoZXMgc3RhdGVcbnRyYW5zYWN0aW9ucyBmb3IgZWRpdGluZyBhY3Rpb25zLlxuKi9cbmNsYXNzIEVkaXRvclZpZXcge1xuICAgIC8qKlxuICAgIENvbnN0cnVjdCBhIG5ldyB2aWV3LiBZb3UnbGwgd2FudCB0byBlaXRoZXIgcHJvdmlkZSBhIGBwYXJlbnRgXG4gICAgb3B0aW9uLCBvciBwdXQgYHZpZXcuZG9tYCBpbnRvIHlvdXIgZG9jdW1lbnQgYWZ0ZXIgY3JlYXRpbmcgYVxuICAgIHZpZXcsIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHNlZSB0aGUgZWRpdG9yLlxuICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMucGx1Z2luTWFwID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy5lZGl0b3JBdHRycyA9IHt9O1xuICAgICAgICB0aGlzLmNvbnRlbnRBdHRycyA9IHt9O1xuICAgICAgICB0aGlzLmJpZGlDYWNoZSA9IFtdO1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMubWVhc3VyZVNjaGVkdWxlZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMubWVhc3VyZVJlcXVlc3RzID0gW107XG4gICAgICAgIHRoaXMuY29udGVudERPTSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuc2Nyb2xsRE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5zY3JvbGxET00udGFiSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5zY3JvbGxET00uY2xhc3NOYW1lID0gXCJjbS1zY3JvbGxlclwiO1xuICAgICAgICB0aGlzLnNjcm9sbERPTS5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLmFubm91bmNlRE9NID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5hbm5vdW5jZURPTS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMDAwcHhcIjtcbiAgICAgICAgdGhpcy5hbm5vdW5jZURPTS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQodGhpcy5hbm5vdW5jZURPTSk7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsRE9NKTtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSBjb25maWcuZGlzcGF0Y2ggfHwgKCh0cikgPT4gdGhpcy51cGRhdGUoW3RyXSkpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoID0gdGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9yb290ID0gKGNvbmZpZy5yb290IHx8IGdldFJvb3QoY29uZmlnLnBhcmVudCkgfHwgZG9jdW1lbnQpO1xuICAgICAgICB0aGlzLnZpZXdTdGF0ZSA9IG5ldyBWaWV3U3RhdGUoY29uZmlnLnN0YXRlIHx8IEVkaXRvclN0YXRlLmNyZWF0ZShjb25maWcpKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gdGhpcy5zdGF0ZS5mYWNldCh2aWV3UGx1Z2luKS5tYXAoc3BlYyA9PiBuZXcgUGx1Z2luSW5zdGFuY2Uoc3BlYykpO1xuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBET01PYnNlcnZlcih0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dFN0YXRlID0gbmV3IElucHV0U3RhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5lbnN1cmVIYW5kbGVycyh0aGlzLCB0aGlzLnBsdWdpbnMpO1xuICAgICAgICB0aGlzLmRvY1ZpZXcgPSBuZXcgRG9jVmlldyh0aGlzKTtcbiAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUF0dHJzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIHRoaXMucmVxdWVzdE1lYXN1cmUoKTtcbiAgICAgICAgaWYgKGNvbmZpZy5wYXJlbnQpXG4gICAgICAgICAgICBjb25maWcucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZG9tKTtcbiAgICB9XG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgZWRpdG9yIHN0YXRlLlxuICAgICovXG4gICAgZ2V0IHN0YXRlKCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuc3RhdGU7IH1cbiAgICAvKipcbiAgICBUbyBiZSBhYmxlIHRvIGRpc3BsYXkgbGFyZ2UgZG9jdW1lbnRzIHdpdGhvdXQgY29uc3VtaW5nIHRvbyBtdWNoXG4gICAgbWVtb3J5IG9yIG92ZXJsb2FkaW5nIHRoZSBicm93c2VyLCBDb2RlTWlycm9yIG9ubHkgZHJhd3MgdGhlXG4gICAgY29kZSB0aGF0IGlzIHZpc2libGUgKHBsdXMgYSBtYXJnaW4gYXJvdW5kIGl0KSB0byB0aGUgRE9NLiBUaGlzXG4gICAgcHJvcGVydHkgdGVsbHMgeW91IHRoZSBleHRlbnQgb2YgdGhlIGN1cnJlbnQgZHJhd24gdmlld3BvcnQsIGluXG4gICAgZG9jdW1lbnQgcG9zaXRpb25zLlxuICAgICovXG4gICAgZ2V0IHZpZXdwb3J0KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUudmlld3BvcnQ7IH1cbiAgICAvKipcbiAgICBXaGVuIHRoZXJlIGFyZSwgZm9yIGV4YW1wbGUsIGxhcmdlIGNvbGxhcHNlZCByYW5nZXMgaW4gdGhlXG4gICAgdmlld3BvcnQsIGl0cyBzaXplIGNhbiBiZSBhIGxvdCBiaWdnZXIgdGhhbiB0aGUgYWN0dWFsIHZpc2libGVcbiAgICBjb250ZW50LiBUaHVzLCBpZiB5b3UgYXJlIGRvaW5nIHNvbWV0aGluZyBsaWtlIHN0eWxpbmcgdGhlXG4gICAgY29udGVudCBpbiB0aGUgdmlld3BvcnQsIGl0IGlzIHByZWZlcmFibGUgdG8gb25seSBkbyBzbyBmb3JcbiAgICB0aGVzZSByYW5nZXMsIHdoaWNoIGFyZSB0aGUgc3Vic2V0IG9mIHRoZSB2aWV3cG9ydCB0aGF0IGlzXG4gICAgYWN0dWFsbHkgZHJhd24uXG4gICAgKi9cbiAgICBnZXQgdmlzaWJsZVJhbmdlcygpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLnZpc2libGVSYW5nZXM7IH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIGVkaXRvciBpcyBlbnRpcmVseSBzY3JvbGxlZCBvdXQgb2Ygdmlld1xuICAgIG9yIG90aGVyd2lzZSBoaWRkZW4uXG4gICAgKi9cbiAgICBnZXQgaW5WaWV3KCkgeyByZXR1cm4gdGhpcy52aWV3U3RhdGUuaW5WaWV3OyB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IGNvbXBvc2luZyB0ZXh0IHZpYVxuICAgIFtJTUVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lucHV0X21ldGhvZCksIGFuZCBhdCBsZWFzdFxuICAgIG9uZSBjaGFuZ2UgaGFzIGJlZW4gbWFkZSBpbiB0aGUgY3VycmVudCBjb21wb3NpdGlvbi5cbiAgICAqL1xuICAgIGdldCBjb21wb3NpbmcoKSB7IHJldHVybiB0aGlzLmlucHV0U3RhdGUuY29tcG9zaW5nID4gMDsgfVxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBpbiBjb21wb3Npbmcgc3RhdGUuIE5vdGVcbiAgICB0aGF0IG9uIHNvbWUgcGxhdGZvcm1zLCBsaWtlIEFuZHJvaWQsIHRoaXMgd2lsbCBiZSB0aGUgY2FzZSBhXG4gICAgbG90LCBzaW5jZSBqdXN0IHB1dHRpbmcgdGhlIGN1cnNvciBvbiBhIHdvcmQgc3RhcnRzIGFcbiAgICBjb21wb3NpdGlvbiB0aGVyZS5cbiAgICAqL1xuICAgIGdldCBjb21wb3NpdGlvblN0YXJ0ZWQoKSB7IHJldHVybiB0aGlzLmlucHV0U3RhdGUuY29tcG9zaW5nID49IDA7IH1cbiAgICAvKipcbiAgICBUaGUgZG9jdW1lbnQgb3Igc2hhZG93IHJvb3QgdGhhdCB0aGUgdmlldyBsaXZlcyBpbi5cbiAgICAqL1xuICAgIGdldCByb290KCkgeyByZXR1cm4gdGhpcy5fcm9vdDsgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZ2V0IHdpbigpIHsgcmV0dXJuIHRoaXMuZG9tLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93OyB9XG4gICAgZGlzcGF0Y2goLi4uaW5wdXQpIHtcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2goaW5wdXQubGVuZ3RoID09IDEgJiYgaW5wdXRbMF0gaW5zdGFuY2VvZiBUcmFuc2FjdGlvbiA/IGlucHV0WzBdXG4gICAgICAgICAgICA6IHRoaXMuc3RhdGUudXBkYXRlKC4uLmlucHV0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldyBmb3IgdGhlIGdpdmVuIGFycmF5IG9mIHRyYW5zYWN0aW9ucy4gVGhpcyB3aWxsXG4gICAgdXBkYXRlIHRoZSB2aXNpYmxlIGRvY3VtZW50IGFuZCBzZWxlY3Rpb24gdG8gbWF0Y2ggdGhlIHN0YXRlXG4gICAgcHJvZHVjZWQgYnkgdGhlIHRyYW5zYWN0aW9ucywgYW5kIG5vdGlmeSB2aWV3IHBsdWdpbnMgb2YgdGhlXG4gICAgY2hhbmdlLiBZb3Ugc2hvdWxkIHVzdWFsbHkgY2FsbFxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZCwgd2hpY2ggdXNlcyB0aGlzXG4gICAgYXMgYSBwcmltaXRpdmUuXG4gICAgKi9cbiAgICB1cGRhdGUodHJhbnNhY3Rpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlICE9IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxzIHRvIEVkaXRvclZpZXcudXBkYXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGxldCByZWRyYXduID0gZmFsc2UsIGF0dHJzQ2hhbmdlZCA9IGZhbHNlLCB1cGRhdGU7XG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGZvciAobGV0IHRyIG9mIHRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyLnN0YXJ0U3RhdGUgIT0gc3RhdGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gdXBkYXRlIHN0YXRlIHdpdGggYSB0cmFuc2FjdGlvbiB0aGF0IGRvZXNuJ3Qgc3RhcnQgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUuXCIpO1xuICAgICAgICAgICAgc3RhdGUgPSB0ci5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgcGVuZGluZyBET00gY2hhbmdlLCBlYWdlcmx5IHJlYWQgaXQgYW5kIHRyeSB0b1xuICAgICAgICAvLyBhcHBseSBpdCBhZnRlciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb25zLlxuICAgICAgICBsZXQgcGVuZGluZ0tleSA9IHRoaXMub2JzZXJ2ZXIuZGVsYXllZEFuZHJvaWRLZXksIGRvbUNoYW5nZSA9IG51bGw7XG4gICAgICAgIGlmIChwZW5kaW5nS2V5KSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLmNsZWFyRGVsYXllZEFuZHJvaWRLZXkoKTtcbiAgICAgICAgICAgIGRvbUNoYW5nZSA9IHRoaXMub2JzZXJ2ZXIucmVhZENoYW5nZSgpO1xuICAgICAgICAgICAgLy8gT25seSB0cnkgdG8gYXBwbHkgRE9NIGNoYW5nZXMgaWYgdGhlIHRyYW5zYWN0aW9ucyBkaWRuJ3RcbiAgICAgICAgICAgIC8vIGNoYW5nZSB0aGUgZG9jIG9yIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIGlmIChkb21DaGFuZ2UgJiYgIXRoaXMuc3RhdGUuZG9jLmVxKHN0YXRlLmRvYykgfHwgIXRoaXMuc3RhdGUuc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgZG9tQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBwaHJhc2VzIGNoYW5nZSwgcmVkcmF3IHRoZSBlZGl0b3JcbiAgICAgICAgaWYgKHN0YXRlLmZhY2V0KEVkaXRvclN0YXRlLnBocmFzZXMpICE9IHRoaXMuc3RhdGUuZmFjZXQoRWRpdG9yU3RhdGUucGhyYXNlcykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIHVwZGF0ZSA9IFZpZXdVcGRhdGUuY3JlYXRlKHRoaXMsIHN0YXRlLCB0cmFuc2FjdGlvbnMpO1xuICAgICAgICBsZXQgc2Nyb2xsVGFyZ2V0ID0gdGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZSA9IDIgLyogVXBkYXRlU3RhdGUuVXBkYXRpbmcgKi87XG4gICAgICAgICAgICBmb3IgKGxldCB0ciBvZiB0cmFuc2FjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBzY3JvbGxUYXJnZXQubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0ci5zY3JvbGxJbnRvVmlldykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyBtYWluIH0gPSB0ci5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRhcmdldCA9IG5ldyBTY3JvbGxUYXJnZXQobWFpbi5lbXB0eSA/IG1haW4gOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKG1haW4uaGVhZCwgbWFpbi5oZWFkID4gbWFpbi5hbmNob3IgPyAtMSA6IDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5pcyhzY3JvbGxJbnRvVmlldykpXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUYXJnZXQgPSBlLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUudXBkYXRlKHVwZGF0ZSwgc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuYmlkaUNhY2hlID0gQ2FjaGVkT3JkZXIudXBkYXRlKHRoaXMuYmlkaUNhY2hlLCB1cGRhdGUuY2hhbmdlcyk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZS5lbXB0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGx1Z2lucyh1cGRhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZHJhd24gPSB0aGlzLmRvY1ZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5mYWNldChzdHlsZU1vZHVsZSkgIT0gdGhpcy5zdHlsZU1vZHVsZXMpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICAgICAgYXR0cnNDaGFuZ2VkID0gdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgdGhpcy5zaG93QW5ub3VuY2VtZW50cyh0cmFuc2FjdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5kb2NWaWV3LnVwZGF0ZVNlbGVjdGlvbihyZWRyYXduLCB0cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB0ci5pc1VzZXJFdmVudChcInNlbGVjdC5wb2ludGVyXCIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMCAvKiBVcGRhdGVTdGF0ZS5JZGxlICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldCh0aGVtZSkgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KHRoZW1lKSlcbiAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLm11c3RNZWFzdXJlQ29udGVudCA9IHRydWU7XG4gICAgICAgIGlmIChyZWRyYXduIHx8IGF0dHJzQ2hhbmdlZCB8fCBzY3JvbGxUYXJnZXQgfHwgdGhpcy52aWV3U3RhdGUubXVzdEVuZm9yY2VDdXJzb3JBc3NvYyB8fCB0aGlzLnZpZXdTdGF0ZS5tdXN0TWVhc3VyZUNvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgICAgIGlmICghdXBkYXRlLmVtcHR5KVxuICAgICAgICAgICAgZm9yIChsZXQgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZS5mYWNldCh1cGRhdGVMaXN0ZW5lcikpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXIodXBkYXRlKTtcbiAgICAgICAgaWYgKGRvbUNoYW5nZSkge1xuICAgICAgICAgICAgaWYgKCFhcHBseURPTUNoYW5nZSh0aGlzLCBkb21DaGFuZ2UpICYmIHBlbmRpbmdLZXkuZm9yY2UpXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hLZXkodGhpcy5jb250ZW50RE9NLCBwZW5kaW5nS2V5LmtleSwgcGVuZGluZ0tleS5rZXlDb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBSZXNldCB0aGUgdmlldyB0byB0aGUgZ2l2ZW4gc3RhdGUuIChUaGlzIHdpbGwgY2F1c2UgdGhlIGVudGlyZVxuICAgIGRvY3VtZW50IHRvIGJlIHJlZHJhd24gYW5kIGFsbCB2aWV3IHBsdWdpbnMgdG8gYmUgcmVpbml0aWFsaXplZCxcbiAgICBzbyB5b3Ugc2hvdWxkIHByb2JhYmx5IG9ubHkgdXNlIGl0IHdoZW4gdGhlIG5ldyBzdGF0ZSBpc24ndFxuICAgIGRlcml2ZWQgZnJvbSB0aGUgb2xkIHN0YXRlLiBPdGhlcndpc2UsIHVzZVxuICAgIFtgZGlzcGF0Y2hgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kaXNwYXRjaCkgaW5zdGVhZC4pXG4gICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSAhPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi8pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxscyB0byBFZGl0b3JWaWV3LnNldFN0YXRlIGFyZSBub3QgYWxsb3dlZCB3aGlsZSBhbiB1cGRhdGUgaXMgaW4gcHJvZ3Jlc3NcIik7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgdGhpcy52aWV3U3RhdGUuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMiAvKiBVcGRhdGVTdGF0ZS5VcGRhdGluZyAqLztcbiAgICAgICAgbGV0IGhhZEZvY3VzID0gdGhpcy5oYXNGb2N1cztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICAgICAgcGx1Z2luLmRlc3Ryb3kodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZSA9IG5ldyBWaWV3U3RhdGUobmV3U3RhdGUpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zID0gbmV3U3RhdGUuZmFjZXQodmlld1BsdWdpbikubWFwKHNwZWMgPT4gbmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luTWFwLmNsZWFyKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5wbHVnaW5zKVxuICAgICAgICAgICAgICAgIHBsdWdpbi51cGRhdGUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcgPSBuZXcgRG9jVmlldyh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5lbnN1cmVIYW5kbGVycyh0aGlzLCB0aGlzLnBsdWdpbnMpO1xuICAgICAgICAgICAgdGhpcy5tb3VudFN0eWxlcygpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBdHRycygpO1xuICAgICAgICAgICAgdGhpcy5iaWRpQ2FjaGUgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhZEZvY3VzKVxuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWFzdXJlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVBsdWdpbnModXBkYXRlKSB7XG4gICAgICAgIGxldCBwcmV2U3BlY3MgPSB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldCh2aWV3UGx1Z2luKSwgc3BlY3MgPSB1cGRhdGUuc3RhdGUuZmFjZXQodmlld1BsdWdpbik7XG4gICAgICAgIGlmIChwcmV2U3BlY3MgIT0gc3BlY3MpIHtcbiAgICAgICAgICAgIGxldCBuZXdQbHVnaW5zID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBzcGVjIG9mIHNwZWNzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gcHJldlNwZWNzLmluZGV4T2Yoc3BlYyk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQbHVnaW5zLnB1c2gobmV3IFBsdWdpbkluc3RhbmNlKHNwZWMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLnBsdWdpbnNbZm91bmRdO1xuICAgICAgICAgICAgICAgICAgICBwbHVnaW4ubXVzdFVwZGF0ZSA9IHVwZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luLm11c3RVcGRhdGUgIT0gdXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucyA9IG5ld1BsdWdpbnM7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbk1hcC5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFN0YXRlLmVuc3VyZUhhbmRsZXJzKHRoaXMsIHRoaXMucGx1Z2lucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGx1Z2lucylcbiAgICAgICAgICAgICAgICBwLm11c3RVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBsdWdpbnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbaV0udXBkYXRlKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1lYXN1cmUoZmx1c2ggPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gMDsgLy8gUHJldmVudCByZXF1ZXN0TWVhc3VyZSBjYWxscyBmcm9tIHNjaGVkdWxpbmcgYW5vdGhlciBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgaWYgKGZsdXNoKVxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gbnVsbDtcbiAgICAgICAgbGV0IHsgc2Nyb2xsSGVpZ2h0LCBzY3JvbGxUb3AsIGNsaWVudEhlaWdodCB9ID0gdGhpcy5zY3JvbGxET007XG4gICAgICAgIGxldCByZWZIZWlnaHQgPSBzY3JvbGxUb3AgPiBzY3JvbGxIZWlnaHQgLSBjbGllbnRIZWlnaHQgLSA0ID8gc2Nyb2xsSGVpZ2h0IDogc2Nyb2xsVG9wO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7OyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlID0gMSAvKiBVcGRhdGVTdGF0ZS5NZWFzdXJpbmcgKi87XG4gICAgICAgICAgICAgICAgbGV0IG9sZFZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydDtcbiAgICAgICAgICAgICAgICBsZXQgcmVmQmxvY2sgPSB0aGlzLnZpZXdTdGF0ZS5saW5lQmxvY2tBdEhlaWdodChyZWZIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy52aWV3U3RhdGUubWVhc3VyZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoYW5nZWQgJiYgIXRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aCAmJiB0aGlzLnZpZXdTdGF0ZS5zY3JvbGxUYXJnZXQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiA1KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybih0aGlzLm1lYXN1cmVSZXF1ZXN0cy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJNZWFzdXJlIGxvb3AgcmVzdGFydGVkIG1vcmUgdGhhbiA1IHRpbWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogXCJWaWV3cG9ydCBmYWlsZWQgdG8gc3RhYmlsaXplXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1lYXN1cmluZyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgcnVuIG1lYXN1cmUgcmVxdWVzdHMgaW4gdGhpcyBjeWNsZSB3aGVuIHRoZSB2aWV3cG9ydCBkaWRuJ3QgY2hhbmdlXG4gICAgICAgICAgICAgICAgaWYgKCEoY2hhbmdlZCAmIDQgLyogVXBkYXRlRmxhZy5WaWV3cG9ydCAqLykpXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLm1lYXN1cmVSZXF1ZXN0cywgbWVhc3VyaW5nXSA9IFttZWFzdXJpbmcsIHRoaXMubWVhc3VyZVJlcXVlc3RzXTtcbiAgICAgICAgICAgICAgICBsZXQgbWVhc3VyZWQgPSBtZWFzdXJpbmcubWFwKG0gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0ucmVhZCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMuc3RhdGUsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJhZE1lYXN1cmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlID0gVmlld1VwZGF0ZS5jcmVhdGUodGhpcywgdGhpcy5zdGF0ZSwgW10pLCByZWRyYXduID0gZmFsc2UsIHNjcm9sbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlLmZsYWdzIHw9IGNoYW5nZWQ7XG4gICAgICAgICAgICAgICAgaWYgKCF1cGRhdGVkKVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gdXBkYXRlO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5mbGFncyB8PSBjaGFuZ2VkO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovO1xuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlLmVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGx1Z2lucyh1cGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0U3RhdGUudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQXR0cnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVkcmF3biA9IHRoaXMuZG9jVmlldy51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWFzdXJpbmcubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGlmIChtZWFzdXJlZFtpXSAhPSBCYWRNZWFzdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtID0gbWVhc3VyaW5nW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtLndyaXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLndyaXRlKG1lYXN1cmVkW2ldLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nRXhjZXB0aW9uKHRoaXMuc3RhdGUsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld1N0YXRlLmVkaXRvckhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1ZpZXcuc2Nyb2xsSW50b1ZpZXcodGhpcy52aWV3U3RhdGUuc2Nyb2xsVGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLnNjcm9sbFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGlmZiA9IHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHJlZkJsb2NrLmZyb20pLnRvcCAtIHJlZkJsb2NrLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmID4gMSB8fCBkaWZmIDwgLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbERPTS5zY3JvbGxUb3AgKz0gZGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlZHJhd24pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVTZWxlY3Rpb24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZnJvbSA9PSBvbGRWaWV3cG9ydC5mcm9tICYmIHRoaXMudmlld3BvcnQudG8gPT0gb2xkVmlld3BvcnQudG8gJiZcbiAgICAgICAgICAgICAgICAgICAgIXNjcm9sbGVkICYmIHRoaXMubWVhc3VyZVJlcXVlc3RzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUgPSAwIC8qIFVwZGF0ZVN0YXRlLklkbGUgKi87XG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZCAmJiAhdXBkYXRlZC5lbXB0eSlcbiAgICAgICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMuc3RhdGUuZmFjZXQodXBkYXRlTGlzdGVuZXIpKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKHVwZGF0ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIENTUyBjbGFzc2VzIGZvciB0aGUgY3VycmVudGx5IGFjdGl2ZSBlZGl0b3IgdGhlbWVzLlxuICAgICovXG4gICAgZ2V0IHRoZW1lQ2xhc3NlcygpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VUaGVtZUlEICsgXCIgXCIgK1xuICAgICAgICAgICAgKHRoaXMuc3RhdGUuZmFjZXQoZGFya1RoZW1lKSA/IGJhc2VEYXJrSUQgOiBiYXNlTGlnaHRJRCkgKyBcIiBcIiArXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmZhY2V0KHRoZW1lKTtcbiAgICB9XG4gICAgdXBkYXRlQXR0cnMoKSB7XG4gICAgICAgIGxldCBlZGl0b3JBdHRycyA9IGF0dHJzRnJvbUZhY2V0KHRoaXMsIGVkaXRvckF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIGNsYXNzOiBcImNtLWVkaXRvclwiICsgKHRoaXMuaGFzRm9jdXMgPyBcIiBjbS1mb2N1c2VkIFwiIDogXCIgXCIpICsgdGhpcy50aGVtZUNsYXNzZXNcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBjb250ZW50QXR0cnMgPSB7XG4gICAgICAgICAgICBzcGVsbGNoZWNrOiBcImZhbHNlXCIsXG4gICAgICAgICAgICBhdXRvY29ycmVjdDogXCJvZmZcIixcbiAgICAgICAgICAgIGF1dG9jYXBpdGFsaXplOiBcIm9mZlwiLFxuICAgICAgICAgICAgdHJhbnNsYXRlOiBcIm5vXCIsXG4gICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6ICF0aGlzLnN0YXRlLmZhY2V0KGVkaXRhYmxlKSA/IFwiZmFsc2VcIiA6IFwidHJ1ZVwiLFxuICAgICAgICAgICAgY2xhc3M6IFwiY20tY29udGVudFwiLFxuICAgICAgICAgICAgc3R5bGU6IGAke2Jyb3dzZXIudGFiU2l6ZX06ICR7dGhpcy5zdGF0ZS50YWJTaXplfWAsXG4gICAgICAgICAgICByb2xlOiBcInRleHRib3hcIixcbiAgICAgICAgICAgIFwiYXJpYS1tdWx0aWxpbmVcIjogXCJ0cnVlXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICBjb250ZW50QXR0cnNbXCJhcmlhLXJlYWRvbmx5XCJdID0gXCJ0cnVlXCI7XG4gICAgICAgIGF0dHJzRnJvbUZhY2V0KHRoaXMsIGNvbnRlbnRBdHRyaWJ1dGVzLCBjb250ZW50QXR0cnMpO1xuICAgICAgICBsZXQgY2hhbmdlZCA9IHRoaXMub2JzZXJ2ZXIuaWdub3JlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkQ29udGVudCA9IHVwZGF0ZUF0dHJzKHRoaXMuY29udGVudERPTSwgdGhpcy5jb250ZW50QXR0cnMsIGNvbnRlbnRBdHRycyk7XG4gICAgICAgICAgICBsZXQgY2hhbmdlZEVkaXRvciA9IHVwZGF0ZUF0dHJzKHRoaXMuZG9tLCB0aGlzLmVkaXRvckF0dHJzLCBlZGl0b3JBdHRycyk7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlZENvbnRlbnQgfHwgY2hhbmdlZEVkaXRvcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWRpdG9yQXR0cnMgPSBlZGl0b3JBdHRycztcbiAgICAgICAgdGhpcy5jb250ZW50QXR0cnMgPSBjb250ZW50QXR0cnM7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBzaG93QW5ub3VuY2VtZW50cyh0cnMpIHtcbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgdHIgb2YgdHJzKVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhFZGl0b3JWaWV3LmFubm91bmNlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFubm91bmNlRE9NLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IHRoaXMuYW5ub3VuY2VET00uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGRpdi50ZXh0Q29udGVudCA9IGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgfVxuICAgIG1vdW50U3R5bGVzKCkge1xuICAgICAgICB0aGlzLnN0eWxlTW9kdWxlcyA9IHRoaXMuc3RhdGUuZmFjZXQoc3R5bGVNb2R1bGUpO1xuICAgICAgICBTdHlsZU1vZHVsZS5tb3VudCh0aGlzLnJvb3QsIHRoaXMuc3R5bGVNb2R1bGVzLmNvbmNhdChiYXNlVGhlbWUkMSkucmV2ZXJzZSgpKTtcbiAgICB9XG4gICAgcmVhZE1lYXN1cmVkKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVTdGF0ZSA9PSAyIC8qIFVwZGF0ZVN0YXRlLlVwZGF0aW5nICovKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVhZGluZyB0aGUgZWRpdG9yIGxheW91dCBpc24ndCBhbGxvd2VkIGR1cmluZyBhbiB1cGRhdGVcIik7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZVN0YXRlID09IDAgLyogVXBkYXRlU3RhdGUuSWRsZSAqLyAmJiB0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPiAtMSlcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZShmYWxzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFNjaGVkdWxlIGEgbGF5b3V0IG1lYXN1cmVtZW50LCBvcHRpb25hbGx5IHByb3ZpZGluZyBjYWxsYmFja3MgdG9cbiAgICBkbyBjdXN0b20gRE9NIG1lYXN1cmluZyBmb2xsb3dlZCBieSBhIERPTSB3cml0ZSBwaGFzZS4gVXNpbmdcbiAgICB0aGlzIGlzIHByZWZlcmFibGUgcmVhZGluZyBET00gbGF5b3V0IGRpcmVjdGx5IGZyb20sIGZvclxuICAgIGV4YW1wbGUsIGFuIGV2ZW50IGhhbmRsZXIsIGJlY2F1c2UgaXQnbGwgbWFrZSBzdXJlIG1lYXN1cmluZyBhbmRcbiAgICBkcmF3aW5nIGRvbmUgYnkgb3RoZXIgY29tcG9uZW50cyBpcyBzeW5jaHJvbml6ZWQsIGF2b2lkaW5nXG4gICAgdW5uZWNlc3NhcnkgRE9NIGxheW91dCBjb21wdXRhdGlvbnMuXG4gICAgKi9cbiAgICByZXF1ZXN0TWVhc3VyZShyZXF1ZXN0KSB7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVTY2hlZHVsZWQgPCAwKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlU2NoZWR1bGVkID0gdGhpcy53aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMubWVhc3VyZSgpKTtcbiAgICAgICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LmtleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZWFzdXJlUmVxdWVzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVhc3VyZVJlcXVlc3RzW2ldLmtleSA9PT0gcmVxdWVzdC5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVhc3VyZVJlcXVlc3RzW2ldID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVJlcXVlc3RzLnB1c2gocmVxdWVzdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSB2YWx1ZSBvZiBhIHNwZWNpZmljIHBsdWdpbiwgaWYgcHJlc2VudC4gTm90ZSB0aGF0XG4gICAgcGx1Z2lucyB0aGF0IGNyYXNoIGNhbiBiZSBkcm9wcGVkIGZyb20gYSB2aWV3LCBzbyBldmVuIHdoZW4geW91XG4gICAga25vdyB5b3UgcmVnaXN0ZXJlZCBhIGdpdmVuIHBsdWdpbiwgaXQgaXMgcmVjb21tZW5kZWQgdG8gY2hlY2tcbiAgICB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoaXMgbWV0aG9kLlxuICAgICovXG4gICAgcGx1Z2luKHBsdWdpbikge1xuICAgICAgICBsZXQga25vd24gPSB0aGlzLnBsdWdpbk1hcC5nZXQocGx1Z2luKTtcbiAgICAgICAgaWYgKGtub3duID09PSB1bmRlZmluZWQgfHwga25vd24gJiYga25vd24uc3BlYyAhPSBwbHVnaW4pXG4gICAgICAgICAgICB0aGlzLnBsdWdpbk1hcC5zZXQocGx1Z2luLCBrbm93biA9IHRoaXMucGx1Z2lucy5maW5kKHAgPT4gcC5zcGVjID09IHBsdWdpbikgfHwgbnVsbCk7XG4gICAgICAgIHJldHVybiBrbm93biAmJiBrbm93bi51cGRhdGUodGhpcykudmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIGRvY3VtZW50LCBpbiBzY3JlZW4gY29vcmRpbmF0ZXMuIFRoaXNcbiAgICBtYXkgYmUgbmVnYXRpdmUgd2hlbiB0aGUgZWRpdG9yIGlzIHNjcm9sbGVkIGRvd24uIFBvaW50c1xuICAgIGRpcmVjdGx5IHRvIHRoZSB0b3Agb2YgdGhlIGZpcnN0IGxpbmUsIG5vdCBhYm92ZSB0aGUgcGFkZGluZy5cbiAgICAqL1xuICAgIGdldCBkb2N1bWVudFRvcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGVudERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB0aGlzLnZpZXdTdGF0ZS5wYWRkaW5nVG9wO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXBvcnRzIHRoZSBwYWRkaW5nIGFib3ZlIGFuZCBiZWxvdyB0aGUgZG9jdW1lbnQuXG4gICAgKi9cbiAgICBnZXQgZG9jdW1lbnRQYWRkaW5nKCkge1xuICAgICAgICByZXR1cm4geyB0b3A6IHRoaXMudmlld1N0YXRlLnBhZGRpbmdUb3AsIGJvdHRvbTogdGhpcy52aWV3U3RhdGUucGFkZGluZ0JvdHRvbSB9O1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSB0ZXh0IGxpbmUgb3IgYmxvY2sgd2lkZ2V0IGF0IHRoZSBnaXZlbiB2ZXJ0aWNhbFxuICAgIHBvc2l0aW9uICh3aGljaCBpcyBpbnRlcnByZXRlZCBhcyByZWxhdGl2ZSB0byB0aGUgW3RvcCBvZiB0aGVcbiAgICBkb2N1bWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9jdW1lbnRUb3ApKS5cbiAgICAqL1xuICAgIGVsZW1lbnRBdEhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmVsZW1lbnRBdEhlaWdodChoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBsaW5lIGJsb2NrIChzZWVcbiAgICBbYGxpbmVCbG9ja0F0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubGluZUJsb2NrQXQpIGF0IHRoZSBnaXZlblxuICAgIGhlaWdodCwgYWdhaW4gaW50ZXJwcmV0ZWQgcmVsYXRpdmUgdG8gdGhlIFt0b3Agb2YgdGhlXG4gICAgZG9jdW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmRvY3VtZW50VG9wKS5cbiAgICAqL1xuICAgIGxpbmVCbG9ja0F0SGVpZ2h0KGhlaWdodCkge1xuICAgICAgICB0aGlzLnJlYWRNZWFzdXJlZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUubGluZUJsb2NrQXRIZWlnaHQoaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBleHRlbnQgYW5kIHZlcnRpY2FsIHBvc2l0aW9uIG9mIGFsbCBbbGluZVxuICAgIGJsb2Nrc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubGluZUJsb2NrQXQpIGluIHRoZSB2aWV3cG9ydC4gUG9zaXRpb25zXG4gICAgYXJlIHJlbGF0aXZlIHRvIHRoZSBbdG9wIG9mIHRoZVxuICAgIGRvY3VtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kb2N1bWVudFRvcCk7XG4gICAgKi9cbiAgICBnZXQgdmlld3BvcnRMaW5lQmxvY2tzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUudmlld3BvcnRMaW5lcztcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgbGluZSBibG9jayBhcm91bmQgdGhlIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLiBBIGxpbmVcbiAgICBibG9jayBpcyBhIHJhbmdlIGRlbGltaXRlZCBvbiBib3RoIHNpZGVzIGJ5IGVpdGhlciBhXG4gICAgbm9uLVtoaWRkZW5dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uXnJlcGxhY2UpIGxpbmUgYnJlYWtzLCBvciB0aGVcbiAgICBzdGFydC9lbmQgb2YgdGhlIGRvY3VtZW50LiBJdCB3aWxsIHVzdWFsbHkganVzdCBob2xkIGEgbGluZSBvZlxuICAgIHRleHQsIGJ1dCBtYXkgYmUgYnJva2VuIGludG8gbXVsdGlwbGUgdGV4dGJsb2NrcyBieSBibG9ja1xuICAgIHdpZGdldHMuXG4gICAgKi9cbiAgICBsaW5lQmxvY2tBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld1N0YXRlLmxpbmVCbG9ja0F0KHBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3IncyB0b3RhbCBjb250ZW50IGhlaWdodC5cbiAgICAqL1xuICAgIGdldCBjb250ZW50SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3U3RhdGUuY29udGVudEhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBieSBbZ3JhcGhlbWVcbiAgICBjbHVzdGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLmZpbmRDbHVzdGVyQnJlYWspLiBgZm9yd2FyZGAgZGV0ZXJtaW5lcyB3aGV0aGVyXG4gICAgdGhlIG1vdGlvbiBpcyBhd2F5IGZyb20gdGhlIGxpbmUgc3RhcnQsIG9yIHRvd2FyZHMgaXQuIEluXG4gICAgYmlkaXJlY3Rpb25hbCB0ZXh0LCB0aGUgbGluZSBpcyB0cmF2ZXJzZWQgaW4gdmlzdWFsIG9yZGVyLCB1c2luZ1xuICAgIHRoZSBlZGl0b3IncyBbdGV4dCBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLlxuICAgIFdoZW4gdGhlIHN0YXJ0IHBvc2l0aW9uIHdhcyB0aGUgbGFzdCBvbmUgb24gdGhlIGxpbmUsIHRoZVxuICAgIHJldHVybmVkIHBvc2l0aW9uIHdpbGwgYmUgYWNyb3NzIHRoZSBsaW5lIGJyZWFrLiBJZiB0aGVyZSBpcyBub1xuICAgIGZ1cnRoZXIgbGluZSwgdGhlIG9yaWdpbmFsIHBvc2l0aW9uIGlzIHJldHVybmVkLlxuICAgIFxuICAgIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIG1vdmVzIG92ZXIgYSBzaW5nbGUgY2x1c3Rlci4gVGhlXG4gICAgb3B0aW9uYWwgYGJ5YCBhcmd1bWVudCBjYW4gYmUgdXNlZCB0byBtb3ZlIGFjcm9zcyBtb3JlLiBJdCB3aWxsXG4gICAgYmUgY2FsbGVkIHdpdGggdGhlIGZpcnN0IGNsdXN0ZXIgYXMgYXJndW1lbnQsIGFuZCBzaG91bGQgcmV0dXJuXG4gICAgYSBwcmVkaWNhdGUgdGhhdCBkZXRlcm1pbmVzLCBmb3IgZWFjaCBzdWJzZXF1ZW50IGNsdXN0ZXIsXG4gICAgd2hldGhlciBpdCBzaG91bGQgYWxzbyBiZSBtb3ZlZCBvdmVyLlxuICAgICovXG4gICAgbW92ZUJ5Q2hhcihzdGFydCwgZm9yd2FyZCwgYnkpIHtcbiAgICAgICAgcmV0dXJuIHNraXBBdG9tcyh0aGlzLCBzdGFydCwgbW92ZUJ5Q2hhcih0aGlzLCBzdGFydCwgZm9yd2FyZCwgYnkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTW92ZSBhIGN1cnNvciBwb3NpdGlvbiBhY3Jvc3MgdGhlIG5leHQgZ3JvdXAgb2YgZWl0aGVyXG4gICAgW2xldHRlcnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKSBvciBub24tbGV0dGVyXG4gICAgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycy5cbiAgICAqL1xuICAgIG1vdmVCeUdyb3VwKHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgICAgIHJldHVybiBza2lwQXRvbXModGhpcywgc3RhcnQsIG1vdmVCeUNoYXIodGhpcywgc3RhcnQsIGZvcndhcmQsIGluaXRpYWwgPT4gYnlHcm91cCh0aGlzLCBzdGFydC5oZWFkLCBpbml0aWFsKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBuZXh0IGxpbmUgYm91bmRhcnkgaW4gdGhlIGdpdmVuIGRpcmVjdGlvbi4gSWZcbiAgICBgaW5jbHVkZVdyYXBgIGlzIHRydWUsIGxpbmUgd3JhcHBpbmcgaXMgb24sIGFuZCB0aGVyZSBpcyBhXG4gICAgZnVydGhlciB3cmFwIHBvaW50IG9uIHRoZSBjdXJyZW50IGxpbmUsIHRoZSB3cmFwIHBvaW50IHdpbGwgYmVcbiAgICByZXR1cm5lZC4gT3RoZXJ3aXNlIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHN0YXJ0IG9yIGVuZFxuICAgIG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgbW92ZVRvTGluZUJvdW5kYXJ5KHN0YXJ0LCBmb3J3YXJkLCBpbmNsdWRlV3JhcCA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG1vdmVUb0xpbmVCb3VuZGFyeSh0aGlzLCBzdGFydCwgZm9yd2FyZCwgaW5jbHVkZVdyYXApO1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIGEgY3Vyc29yIHBvc2l0aW9uIHZlcnRpY2FsbHkuIFdoZW4gYGRpc3RhbmNlYCBpc24ndCBnaXZlbixcbiAgICBpdCBkZWZhdWx0cyB0byBtb3ZpbmcgdG8gdGhlIG5leHQgbGluZSAoaW5jbHVkaW5nIHdyYXBwZWRcbiAgICBsaW5lcykuIE90aGVyd2lzZSwgYGRpc3RhbmNlYCBzaG91bGQgcHJvdmlkZSBhIHBvc2l0aXZlIGRpc3RhbmNlXG4gICAgaW4gcGl4ZWxzLlxuICAgIFxuICAgIFdoZW4gYHN0YXJ0YCBoYXMgYVxuICAgIFtgZ29hbENvbHVtbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuU2VsZWN0aW9uUmFuZ2UuZ29hbENvbHVtbiksIHRoZSB2ZXJ0aWNhbFxuICAgIG1vdGlvbiB3aWxsIHVzZSB0aGF0IGFzIGEgdGFyZ2V0IGhvcml6b250YWwgcG9zaXRpb24uIE90aGVyd2lzZSxcbiAgICB0aGUgY3Vyc29yJ3Mgb3duIGhvcml6b250YWwgcG9zaXRpb24gaXMgdXNlZC4gVGhlIHJldHVybmVkXG4gICAgY3Vyc29yIHdpbGwgaGF2ZSBpdHMgZ29hbCBjb2x1bW4gc2V0IHRvIHdoaWNoZXZlciBjb2x1bW4gd2FzXG4gICAgdXNlZC5cbiAgICAqL1xuICAgIG1vdmVWZXJ0aWNhbGx5KHN0YXJ0LCBmb3J3YXJkLCBkaXN0YW5jZSkge1xuICAgICAgICByZXR1cm4gc2tpcEF0b21zKHRoaXMsIHN0YXJ0LCBtb3ZlVmVydGljYWxseSh0aGlzLCBzdGFydCwgZm9yd2FyZCwgZGlzdGFuY2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgRE9NIHBhcmVudCBub2RlIGFuZCBvZmZzZXQgKGNoaWxkIG9mZnNldCBpZiBgbm9kZWAgaXNcbiAgICBhbiBlbGVtZW50LCBjaGFyYWN0ZXIgb2Zmc2V0IHdoZW4gaXQgaXMgYSB0ZXh0IG5vZGUpIGF0IHRoZVxuICAgIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgIFxuICAgIE5vdGUgdGhhdCBmb3IgcG9zaXRpb25zIHRoYXQgYXJlbid0IGN1cnJlbnRseSBpblxuICAgIGB2aXNpYmxlUmFuZ2VzYCwgdGhlIHJlc3VsdGluZyBET00gcG9zaXRpb24gaXNuJ3QgbmVjZXNzYXJpbHlcbiAgICBtZWFuaW5nZnVsIChpdCBtYXkganVzdCBwb2ludCBiZWZvcmUgb3IgYWZ0ZXIgYSBwbGFjZWhvbGRlclxuICAgIGVsZW1lbnQpLlxuICAgICovXG4gICAgZG9tQXRQb3MocG9zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcuZG9tQXRQb3MocG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgZG9jdW1lbnQgcG9zaXRpb24gYXQgdGhlIGdpdmVuIERPTSBub2RlLiBDYW4gYmUgdXNlZnVsXG4gICAgZm9yIGFzc29jaWF0aW5nIHBvc2l0aW9ucyB3aXRoIERPTSBldmVudHMuIFdpbGwgcmFpc2UgYW4gZXJyb3JcbiAgICB3aGVuIGBub2RlYCBpc24ndCBwYXJ0IG9mIHRoZSBlZGl0b3IgY29udGVudC5cbiAgICAqL1xuICAgIHBvc0F0RE9NKG5vZGUsIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy5wb3NGcm9tRE9NKG5vZGUsIG9mZnNldCk7XG4gICAgfVxuICAgIHBvc0F0Q29vcmRzKGNvb3JkcywgcHJlY2lzZSA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHBvc0F0Q29vcmRzKHRoaXMsIGNvb3JkcywgcHJlY2lzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgc2NyZWVuIGNvb3JkaW5hdGVzIGF0IHRoZSBnaXZlbiBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICBgc2lkZWAgZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBjb29yZGluYXRlcyBhcmUgYmFzZWQgb24gdGhlXG4gICAgZWxlbWVudCBiZWZvcmUgKC0xKSBvciBhZnRlciAoMSkgdGhlIHBvc2l0aW9uIChpZiBubyBlbGVtZW50IGlzXG4gICAgYXZhaWxhYmxlIG9uIHRoZSBnaXZlbiBzaWRlLCB0aGUgbWV0aG9kIHdpbGwgdHJhbnNwYXJlbnRseSB1c2VcbiAgICBhbm90aGVyIHN0cmF0ZWd5IHRvIGdldCByZWFzb25hYmxlIGNvb3JkaW5hdGVzKS5cbiAgICAqL1xuICAgIGNvb3Jkc0F0UG9zKHBvcywgc2lkZSA9IDEpIHtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmRvY1ZpZXcuY29vcmRzQXQocG9zLCBzaWRlKTtcbiAgICAgICAgaWYgKCFyZWN0IHx8IHJlY3QubGVmdCA9PSByZWN0LnJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgIGxldCBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KHBvcyksIG9yZGVyID0gdGhpcy5iaWRpU3BhbnMobGluZSk7XG4gICAgICAgIGxldCBzcGFuID0gb3JkZXJbQmlkaVNwYW4uZmluZChvcmRlciwgcG9zIC0gbGluZS5mcm9tLCAtMSwgc2lkZSldO1xuICAgICAgICByZXR1cm4gZmxhdHRlblJlY3QocmVjdCwgKHNwYW4uZGlyID09IERpcmVjdGlvbi5MVFIpID09IChzaWRlID4gMCkpO1xuICAgIH1cbiAgICAvKipcbiAgICBUaGUgZGVmYXVsdCB3aWR0aCBvZiBhIGNoYXJhY3RlciBpbiB0aGUgZWRpdG9yLiBNYXkgbm90XG4gICAgYWNjdXJhdGVseSByZWZsZWN0IHRoZSB3aWR0aCBvZiBhbGwgY2hhcmFjdGVycyAoZ2l2ZW4gdmFyaWFibGVcbiAgICB3aWR0aCBmb250cyBvciBzdHlsaW5nIG9mIGludmlkaWR1YWwgcmFuZ2VzKS5cbiAgICAqL1xuICAgIGdldCBkZWZhdWx0Q2hhcmFjdGVyV2lkdGgoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUuY2hhcldpZHRoOyB9XG4gICAgLyoqXG4gICAgVGhlIGRlZmF1bHQgaGVpZ2h0IG9mIGEgbGluZSBpbiB0aGUgZWRpdG9yLiBNYXkgbm90IGJlIGFjY3VyYXRlXG4gICAgZm9yIGFsbCBsaW5lcy5cbiAgICAqL1xuICAgIGdldCBkZWZhdWx0TGluZUhlaWdodCgpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmhlaWdodE9yYWNsZS5saW5lSGVpZ2h0OyB9XG4gICAgLyoqXG4gICAgVGhlIHRleHQgZGlyZWN0aW9uXG4gICAgKFtgZGlyZWN0aW9uYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2RpcmVjdGlvbilcbiAgICBDU1MgcHJvcGVydHkpIG9mIHRoZSBlZGl0b3IncyBjb250ZW50IGVsZW1lbnQuXG4gICAgKi9cbiAgICBnZXQgdGV4dERpcmVjdGlvbigpIHsgcmV0dXJuIHRoaXMudmlld1N0YXRlLmRlZmF1bHRUZXh0RGlyZWN0aW9uOyB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgdGV4dCBkaXJlY3Rpb24gb2YgdGhlIGJsb2NrIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiwgYXNcbiAgICBhc3NpZ25lZCBieSBDU1MuIElmXG4gICAgW2BwZXJMaW5lVGV4dERpcmVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnBlckxpbmVUZXh0RGlyZWN0aW9uKVxuICAgIGlzbid0IGVuYWJsZWQsIG9yIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCxcbiAgICB0aGlzIHdpbGwgYWx3YXlzIHJldHVybiB0aGUgc2FtZSBhc1xuICAgIFtgdGV4dERpcmVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pLiBOb3RlIHRoYXRcbiAgICB0aGlzIG1heSB0cmlnZ2VyIGEgRE9NIGxheW91dC5cbiAgICAqL1xuICAgIHRleHREaXJlY3Rpb25BdChwb3MpIHtcbiAgICAgICAgbGV0IHBlckxpbmUgPSB0aGlzLnN0YXRlLmZhY2V0KHBlckxpbmVUZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKCFwZXJMaW5lIHx8IHBvcyA8IHRoaXMudmlld3BvcnQuZnJvbSB8fCBwb3MgPiB0aGlzLnZpZXdwb3J0LnRvKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dERpcmVjdGlvbjtcbiAgICAgICAgdGhpcy5yZWFkTWVhc3VyZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jVmlldy50ZXh0RGlyZWN0aW9uQXQocG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgV2hldGhlciB0aGlzIGVkaXRvciBbd3JhcHMgbGluZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmxpbmVXcmFwcGluZylcbiAgICAoYXMgZGV0ZXJtaW5lZCBieSB0aGVcbiAgICBbYHdoaXRlLXNwYWNlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3doaXRlLXNwYWNlKVxuICAgIENTUyBwcm9wZXJ0eSBvZiBpdHMgY29udGVudCBlbGVtZW50KS5cbiAgICAqL1xuICAgIGdldCBsaW5lV3JhcHBpbmcoKSB7IHJldHVybiB0aGlzLnZpZXdTdGF0ZS5oZWlnaHRPcmFjbGUubGluZVdyYXBwaW5nOyB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgYmlkaXJlY3Rpb25hbCB0ZXh0IHN0cnVjdHVyZSBvZiB0aGUgZ2l2ZW4gbGluZVxuICAgICh3aGljaCBzaG91bGQgYmUgaW4gdGhlIGN1cnJlbnQgZG9jdW1lbnQpIGFzIGFuIGFycmF5IG9mIHNwYW5cbiAgICBvYmplY3RzLiBUaGUgb3JkZXIgb2YgdGhlc2Ugc3BhbnMgbWF0Y2hlcyB0aGUgW3RleHRcbiAgICBkaXJlY3Rpb25dKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnRleHREaXJlY3Rpb24pXHUyMDE0aWYgdGhhdCBpc1xuICAgIGxlZnQtdG8tcmlnaHQsIHRoZSBsZWZ0bW9zdCBzcGFucyBjb21lIGZpcnN0LCBvdGhlcndpc2UgdGhlXG4gICAgcmlnaHRtb3N0IHNwYW5zIGNvbWUgZmlyc3QuXG4gICAgKi9cbiAgICBiaWRpU3BhbnMobGluZSkge1xuICAgICAgICBpZiAobGluZS5sZW5ndGggPiBNYXhCaWRpTGluZSlcbiAgICAgICAgICAgIHJldHVybiB0cml2aWFsT3JkZXIobGluZS5sZW5ndGgpO1xuICAgICAgICBsZXQgZGlyID0gdGhpcy50ZXh0RGlyZWN0aW9uQXQobGluZS5mcm9tKTtcbiAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5iaWRpQ2FjaGUpXG4gICAgICAgICAgICBpZiAoZW50cnkuZnJvbSA9PSBsaW5lLmZyb20gJiYgZW50cnkuZGlyID09IGRpcilcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkub3JkZXI7XG4gICAgICAgIGxldCBvcmRlciA9IGNvbXB1dGVPcmRlcihsaW5lLnRleHQsIGRpcik7XG4gICAgICAgIHRoaXMuYmlkaUNhY2hlLnB1c2gobmV3IENhY2hlZE9yZGVyKGxpbmUuZnJvbSwgbGluZS50bywgZGlyLCBvcmRlcikpO1xuICAgICAgICByZXR1cm4gb3JkZXI7XG4gICAgfVxuICAgIC8qKlxuICAgIENoZWNrIHdoZXRoZXIgdGhlIGVkaXRvciBoYXMgZm9jdXMuXG4gICAgKi9cbiAgICBnZXQgaGFzRm9jdXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gU2FmYXJpIHJldHVybiBmYWxzZSBmb3IgaGFzRm9jdXMgd2hlbiB0aGUgY29udGV4dCBtZW51IGlzIG9wZW5cbiAgICAgICAgLy8gb3IgY2xvc2luZywgd2hpY2ggbGVhZHMgdXMgdG8gaWdub3JlIHNlbGVjdGlvbiBjaGFuZ2VzIGZyb20gdGhlXG4gICAgICAgIC8vIGNvbnRleHQgbWVudSBiZWNhdXNlIGl0IGxvb2tzIGxpa2UgdGhlIGVkaXRvciBpc24ndCBmb2N1c2VkLlxuICAgICAgICAvLyBUaGlzIGtsdWRnZXMgYXJvdW5kIHRoYXQuXG4gICAgICAgIHJldHVybiAodGhpcy5kb20ub3duZXJEb2N1bWVudC5oYXNGb2N1cygpIHx8IGJyb3dzZXIuc2FmYXJpICYmICgoX2EgPSB0aGlzLmlucHV0U3RhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0Q29udGV4dE1lbnUpID4gRGF0ZS5ub3coKSAtIDNlNCkgJiZcbiAgICAgICAgICAgIHRoaXMucm9vdC5hY3RpdmVFbGVtZW50ID09IHRoaXMuY29udGVudERPTTtcbiAgICB9XG4gICAgLyoqXG4gICAgUHV0IGZvY3VzIG9uIHRoZSBlZGl0b3IuXG4gICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5pZ25vcmUoKCkgPT4ge1xuICAgICAgICAgICAgZm9jdXNQcmV2ZW50U2Nyb2xsKHRoaXMuY29udGVudERPTSk7XG4gICAgICAgICAgICB0aGlzLmRvY1ZpZXcudXBkYXRlU2VsZWN0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBVcGRhdGUgdGhlIFtyb290XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvIyN2aWV3LkVkaXRvclZpZXdDb25maWcucm9vdCkgaW4gd2hpY2ggdGhlIGVkaXRvciBsaXZlcy4gVGhpcyBpcyBvbmx5XG4gICAgbmVjZXNzYXJ5IHdoZW4gbW92aW5nIHRoZSBlZGl0b3IncyBleGlzdGluZyBET00gdG8gYSBuZXcgd2luZG93IG9yIHNoYWRvdyByb290LlxuICAgICovXG4gICAgc2V0Um9vdChyb290KSB7XG4gICAgICAgIGlmICh0aGlzLl9yb290ICE9IHJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QgPSByb290O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5zZXRXaW5kb3coKHJvb3Qubm9kZVR5cGUgPT0gOSA/IHJvb3QgOiByb290Lm93bmVyRG9jdW1lbnQpLmRlZmF1bHRWaWV3IHx8IHdpbmRvdyk7XG4gICAgICAgICAgICB0aGlzLm1vdW50U3R5bGVzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgQ2xlYW4gdXAgdGhpcyBlZGl0b3IgdmlldywgcmVtb3ZpbmcgaXRzIGVsZW1lbnQgZnJvbSB0aGVcbiAgICBkb2N1bWVudCwgdW5yZWdpc3RlcmluZyBldmVudCBoYW5kbGVycywgYW5kIG5vdGlmeWluZ1xuICAgIHBsdWdpbnMuIFRoZSB2aWV3IGluc3RhbmNlIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlclxuICAgIGNhbGxpbmcgdGhpcy5cbiAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnBsdWdpbnMpXG4gICAgICAgICAgICBwbHVnaW4uZGVzdHJveSh0aGlzKTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLm9ic2VydmVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMubWVhc3VyZVNjaGVkdWxlZCA+IC0xKVxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5tZWFzdXJlU2NoZWR1bGVkKTtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICBSZXR1cm5zIGFuIGVmZmVjdCB0aGF0IGNhbiBiZVxuICAgIFthZGRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5UcmFuc2FjdGlvblNwZWMuZWZmZWN0cykgdG8gYSB0cmFuc2FjdGlvbiB0b1xuICAgIGNhdXNlIGl0IHRvIHNjcm9sbCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgcmFuZ2UgaW50byB2aWV3LlxuICAgICovXG4gICAgc3RhdGljIHNjcm9sbEludG9WaWV3KHBvcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxJbnRvVmlldy5vZihuZXcgU2Nyb2xsVGFyZ2V0KHR5cGVvZiBwb3MgPT0gXCJudW1iZXJcIiA/IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zKSA6IHBvcywgb3B0aW9ucy55LCBvcHRpb25zLngsIG9wdGlvbnMueU1hcmdpbiwgb3B0aW9ucy54TWFyZ2luKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIERPTSBldmVudCBoYW5kbGVycy5cbiAgICBUaGUgdmFsdWUgc2hvdWxkIGJlIGFuIG9iamVjdCBtYXBwaW5nIGV2ZW50IG5hbWVzIHRvIGhhbmRsZXJcbiAgICBmdW5jdGlvbnMuIEZvciBhbnkgZ2l2ZW4gZXZlbnQsIHN1Y2ggZnVuY3Rpb25zIGFyZSBvcmRlcmVkIGJ5XG4gICAgZXh0ZW5zaW9uIHByZWNlZGVuY2UsIGFuZCB0aGUgZmlyc3QgaGFuZGxlciB0byByZXR1cm4gdHJ1ZSB3aWxsXG4gICAgYmUgYXNzdW1lZCB0byBoYXZlIGhhbmRsZWQgdGhhdCBldmVudCwgYW5kIG5vIG90aGVyIGhhbmRsZXJzIG9yXG4gICAgYnVpbHQtaW4gYmVoYXZpb3Igd2lsbCBiZSBhY3RpdmF0ZWQgZm9yIGl0LiBUaGVzZSBhcmUgcmVnaXN0ZXJlZFxuICAgIG9uIHRoZSBbY29udGVudCBlbGVtZW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5jb250ZW50RE9NKSwgZXhjZXB0XG4gICAgZm9yIGBzY3JvbGxgIGhhbmRsZXJzLCB3aGljaCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSB0aGVcbiAgICBlZGl0b3IncyBbc2Nyb2xsIGVsZW1lbnRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LnNjcm9sbERPTSkgb3Igb25lIG9mXG4gICAgaXRzIHBhcmVudCBub2RlcyBpcyBzY3JvbGxlZC5cbiAgICAqL1xuICAgIHN0YXRpYyBkb21FdmVudEhhbmRsZXJzKGhhbmRsZXJzKSB7XG4gICAgICAgIHJldHVybiBWaWV3UGx1Z2luLmRlZmluZSgoKSA9PiAoe30pLCB7IGV2ZW50SGFuZGxlcnM6IGhhbmRsZXJzIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSB0aGVtZSBleHRlbnNpb24uIFRoZSBmaXJzdCBhcmd1bWVudCBjYW4gYmUgYVxuICAgIFtgc3R5bGUtbW9kYF0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pXG4gICAgc3R5bGUgc3BlYyBwcm92aWRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIHRoZW1lLiBUaGVzZSB3aWxsIGJlXG4gICAgcHJlZml4ZWQgd2l0aCBhIGdlbmVyYXRlZCBjbGFzcyBmb3IgdGhlIHN0eWxlLlxuICAgIFxuICAgIEJlY2F1c2UgdGhlIHNlbGVjdG9ycyB3aWxsIGJlIHByZWZpeGVkIHdpdGggYSBzY29wZSBjbGFzcywgcnVsZVxuICAgIHRoYXQgZGlyZWN0bHkgbWF0Y2ggdGhlIGVkaXRvcidzIFt3cmFwcGVyXG4gICAgZWxlbWVudF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcuZG9tKVx1MjAxNHRvIHdoaWNoIHRoZSBzY29wZSBjbGFzcyB3aWxsIGJlXG4gICAgYWRkZWRcdTIwMTRuZWVkIHRvIGJlIGV4cGxpY2l0bHkgZGlmZmVyZW50aWF0ZWQgYnkgYWRkaW5nIGFuIGAmYCB0b1xuICAgIHRoZSBzZWxlY3RvciBmb3IgdGhhdCBlbGVtZW50XHUyMDE0Zm9yIGV4YW1wbGVcbiAgICBgJi5jbS1mb2N1c2VkYC5cbiAgICBcbiAgICBXaGVuIGBkYXJrYCBpcyBzZXQgdG8gdHJ1ZSwgdGhlIHRoZW1lIHdpbGwgYmUgbWFya2VkIGFzIGRhcmssXG4gICAgd2hpY2ggd2lsbCBjYXVzZSB0aGUgYCZkYXJrYCBydWxlcyBmcm9tIFtiYXNlXG4gICAgdGhlbWVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld15iYXNlVGhlbWUpIHRvIGJlIHVzZWQgKGFzIG9wcG9zZWQgdG9cbiAgICBgJmxpZ2h0YCB3aGVuIGEgbGlnaHQgdGhlbWUgaXMgYWN0aXZlKS5cbiAgICAqL1xuICAgIHN0YXRpYyB0aGVtZShzcGVjLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBwcmVmaXggPSBTdHlsZU1vZHVsZS5uZXdOYW1lKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBbdGhlbWUub2YocHJlZml4KSwgc3R5bGVNb2R1bGUub2YoYnVpbGRUaGVtZShgLiR7cHJlZml4fWAsIHNwZWMpKV07XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGFyaylcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRhcmtUaGVtZS5vZih0cnVlKSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBhZGRzIHN0eWxlcyB0byB0aGUgYmFzZSB0aGVtZS4gTGlrZVxuICAgIHdpdGggW2B0aGVtZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3XnRoZW1lKSwgdXNlIGAmYCB0byBpbmRpY2F0ZSB0aGVcbiAgICBwbGFjZSBvZiB0aGUgZWRpdG9yIHdyYXBwZXIgZWxlbWVudCB3aGVuIGRpcmVjdGx5IHRhcmdldGluZ1xuICAgIHRoYXQuIFlvdSBjYW4gYWxzbyB1c2UgYCZkYXJrYCBvciBgJmxpZ2h0YCBpbnN0ZWFkIHRvIG9ubHlcbiAgICB0YXJnZXQgZWRpdG9ycyB3aXRoIGEgZGFyayBvciBsaWdodCB0aGVtZS5cbiAgICAqL1xuICAgIHN0YXRpYyBiYXNlVGhlbWUoc3BlYykge1xuICAgICAgICByZXR1cm4gUHJlYy5sb3dlc3Qoc3R5bGVNb2R1bGUub2YoYnVpbGRUaGVtZShcIi5cIiArIGJhc2VUaGVtZUlELCBzcGVjLCBsaWdodERhcmtJRHMpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHJpZXZlIGFuIGVkaXRvciB2aWV3IGluc3RhbmNlIGZyb20gdGhlIHZpZXcncyBET01cbiAgICByZXByZXNlbnRhdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBmaW5kRnJvbURPTShkb20pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY29udGVudCA9IGRvbS5xdWVyeVNlbGVjdG9yKFwiLmNtLWNvbnRlbnRcIik7XG4gICAgICAgIGxldCBjVmlldyA9IGNvbnRlbnQgJiYgQ29udGVudFZpZXcuZ2V0KGNvbnRlbnQpIHx8IENvbnRlbnRWaWV3LmdldChkb20pO1xuICAgICAgICByZXR1cm4gKChfYSA9IGNWaWV3ID09PSBudWxsIHx8IGNWaWV3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjVmlldy5yb290VmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZpZXcpIHx8IG51bGw7XG4gICAgfVxufVxuLyoqXG5GYWNldCB0byBhZGQgYSBbc3R5bGVcbm1vZHVsZV0oaHR0cHM6Ly9naXRodWIuY29tL21hcmlqbmgvc3R5bGUtbW9kI2RvY3VtZW50YXRpb24pIHRvXG5hbiBlZGl0b3Igdmlldy4gVGhlIHZpZXcgd2lsbCBlbnN1cmUgdGhhdCB0aGUgbW9kdWxlIGlzXG5tb3VudGVkIGluIGl0cyBbZG9jdW1lbnRcbnJvb3RdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3LmNvbnN0cnVjdG9yXmNvbmZpZy5yb290KS5cbiovXG5FZGl0b3JWaWV3LnN0eWxlTW9kdWxlID0gc3R5bGVNb2R1bGU7XG4vKipcbkFuIGlucHV0IGhhbmRsZXIgY2FuIG92ZXJyaWRlIHRoZSB3YXkgY2hhbmdlcyB0byB0aGUgZWRpdGFibGVcbkRPTSBjb250ZW50IGFyZSBoYW5kbGVkLiBIYW5kbGVycyBhcmUgcGFzc2VkIHRoZSBkb2N1bWVudFxucG9zaXRpb25zIGJldHdlZW4gd2hpY2ggdGhlIGNoYW5nZSB3YXMgZm91bmQsIGFuZCB0aGUgbmV3XG5jb250ZW50LiBXaGVuIG9uZSByZXR1cm5zIHRydWUsIG5vIGZ1cnRoZXIgaW5wdXQgaGFuZGxlcnMgYXJlXG5jYWxsZWQgYW5kIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHByZXZlbnRlZC5cbiovXG5FZGl0b3JWaWV3LmlucHV0SGFuZGxlciA9IGlucHV0SGFuZGxlcjtcbi8qKlxuQnkgZGVmYXVsdCwgdGhlIGVkaXRvciBhc3N1bWVzIGFsbCBpdHMgY29udGVudCBoYXMgdGhlIHNhbWVcblt0ZXh0IGRpcmVjdGlvbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkRpcmVjdGlvbikuIENvbmZpZ3VyZSB0aGlzIHdpdGggYSBgdHJ1ZWBcbnZhbHVlIHRvIG1ha2UgaXQgcmVhZCB0aGUgdGV4dCBkaXJlY3Rpb24gb2YgZXZlcnkgKHJlbmRlcmVkKVxubGluZSBzZXBhcmF0ZWx5LlxuKi9cbkVkaXRvclZpZXcucGVyTGluZVRleHREaXJlY3Rpb24gPSBwZXJMaW5lVGV4dERpcmVjdGlvbjtcbi8qKlxuQWxsb3dzIHlvdSB0byBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlXG5saWJyYXJ5IGNhdGNoZXMgYW4gZXhjZXB0aW9uIGZyb20gYW4gZXh0ZW5zaW9uIChtb3N0bHkgZnJvbSB2aWV3XG5wbHVnaW5zLCBidXQgbWF5IGJlIHVzZWQgYnkgb3RoZXIgZXh0ZW5zaW9ucyB0byByb3V0ZSBleGNlcHRpb25zXG5mcm9tIHVzZXItY29kZS1wcm92aWRlZCBjYWxsYmFja3MpLiBUaGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yXG5kZWJ1Z2dpbmcgYW5kIGxvZ2dpbmcuIFNlZSBbYGxvZ0V4Y2VwdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5sb2dFeGNlcHRpb24pLlxuKi9cbkVkaXRvclZpZXcuZXhjZXB0aW9uU2luayA9IGV4Y2VwdGlvblNpbms7XG4vKipcbkEgZmFjZXQgdGhhdCBjYW4gYmUgdXNlZCB0byByZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZFxuZXZlcnkgdGltZSB0aGUgdmlldyB1cGRhdGVzLlxuKi9cbkVkaXRvclZpZXcudXBkYXRlTGlzdGVuZXIgPSB1cGRhdGVMaXN0ZW5lcjtcbi8qKlxuRmFjZXQgdGhhdCBjb250cm9scyB3aGV0aGVyIHRoZSBlZGl0b3IgY29udGVudCBET00gaXMgZWRpdGFibGUuXG5XaGVuIGl0cyBoaWdoZXN0LXByZWNlZGVuY2UgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIGVsZW1lbnQgd2lsbFxubm90IGhhdmUgaXRzIGBjb250ZW50ZWRpdGFibGVgIGF0dHJpYnV0ZSBzZXQuIChOb3RlIHRoYXQgdGhpc1xuZG9lc24ndCBhZmZlY3QgQVBJIGNhbGxzIHRoYXQgY2hhbmdlIHRoZSBlZGl0b3IgY29udGVudCwgZXZlblxud2hlbiB0aG9zZSBhcmUgYm91bmQgdG8ga2V5cyBvciBidXR0b25zLiBTZWUgdGhlXG5bYHJlYWRPbmx5YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5yZWFkT25seSkgZmFjZXQgZm9yIHRoYXQuKVxuKi9cbkVkaXRvclZpZXcuZWRpdGFibGUgPSBlZGl0YWJsZTtcbi8qKlxuQWxsb3dzIHlvdSB0byBpbmZsdWVuY2UgdGhlIHdheSBtb3VzZSBzZWxlY3Rpb24gaGFwcGVucy4gVGhlXG5mdW5jdGlvbnMgaW4gdGhpcyBmYWNldCB3aWxsIGJlIGNhbGxlZCBmb3IgYSBgbW91c2Vkb3duYCBldmVudFxub24gdGhlIGVkaXRvciwgYW5kIGNhbiByZXR1cm4gYW4gb2JqZWN0IHRoYXQgb3ZlcnJpZGVzIHRoZSB3YXkgYVxuc2VsZWN0aW9uIGlzIGNvbXB1dGVkIGZyb20gdGhhdCBtb3VzZSBjbGljayBvciBkcmFnLlxuKi9cbkVkaXRvclZpZXcubW91c2VTZWxlY3Rpb25TdHlsZSA9IG1vdXNlU2VsZWN0aW9uU3R5bGU7XG4vKipcbkZhY2V0IHVzZWQgdG8gY29uZmlndXJlIHdoZXRoZXIgYSBnaXZlbiBzZWxlY3Rpb24gZHJhZyBldmVudFxuc2hvdWxkIG1vdmUgb3IgY29weSB0aGUgc2VsZWN0aW9uLiBUaGUgZ2l2ZW4gcHJlZGljYXRlIHdpbGwgYmVcbmNhbGxlZCB3aXRoIHRoZSBgbW91c2Vkb3duYCBldmVudCwgYW5kIGNhbiByZXR1cm4gYHRydWVgIHdoZW5cbnRoZSBkcmFnIHNob3VsZCBtb3ZlIHRoZSBjb250ZW50LlxuKi9cbkVkaXRvclZpZXcuZHJhZ01vdmVzU2VsZWN0aW9uID0gZHJhZ01vdmVzU2VsZWN0aW9uJDE7XG4vKipcbkZhY2V0IHVzZWQgdG8gY29uZmlndXJlIHdoZXRoZXIgYSBnaXZlbiBzZWxlY3RpbmcgY2xpY2sgYWRkcyBhXG5uZXcgcmFuZ2UgdG8gdGhlIGV4aXN0aW5nIHNlbGVjdGlvbiBvciByZXBsYWNlcyBpdCBlbnRpcmVseS4gVGhlXG5kZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGNoZWNrIGBldmVudC5tZXRhS2V5YCBvbiBtYWNPUywgYW5kXG5gZXZlbnQuY3RybEtleWAgZWxzZXdoZXJlLlxuKi9cbkVkaXRvclZpZXcuY2xpY2tBZGRzU2VsZWN0aW9uUmFuZ2UgPSBjbGlja0FkZHNTZWxlY3Rpb25SYW5nZTtcbi8qKlxuQSBmYWNldCB0aGF0IGRldGVybWluZXMgd2hpY2ggW2RlY29yYXRpb25zXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvbilcbmFyZSBzaG93biBpbiB0aGUgdmlldy4gRGVjb3JhdGlvbnMgY2FuIGJlIHByb3ZpZGVkIGluIHR3b1xud2F5c1x1MjAxNGRpcmVjdGx5LCBvciB2aWEgYSBmdW5jdGlvbiB0aGF0IHRha2VzIGFuIGVkaXRvciB2aWV3LlxuXG5Pbmx5IGRlY29yYXRpb24gc2V0cyBwcm92aWRlZCBkaXJlY3RseSBhcmUgYWxsb3dlZCB0byBpbmZsdWVuY2VcbnRoZSBlZGl0b3IncyB2ZXJ0aWNhbCBsYXlvdXQgc3RydWN0dXJlLiBUaGUgb25lcyBwcm92aWRlZCBhc1xuZnVuY3Rpb25zIGFyZSBjYWxsZWQgX2FmdGVyXyB0aGUgbmV3IHZpZXdwb3J0IGhhcyBiZWVuIGNvbXB1dGVkLFxuYW5kIHRodXMgKiptdXN0IG5vdCoqIGludHJvZHVjZSBibG9jayB3aWRnZXRzIG9yIHJlcGxhY2luZ1xuZGVjb3JhdGlvbnMgdGhhdCBjb3ZlciBsaW5lIGJyZWFrcy5cblxuSWYgeW91IHdhbnQgZGVjb3JhdGVkIHJhbmdlcyB0byBiZWhhdmUgbGlrZSBhdG9taWMgdW5pdHMgZm9yXG5jdXJzb3IgbW90aW9uIGFuZCBkZWxldGlvbiBwdXJwb3NlcywgYWxzbyBwcm92aWRlIHRoZSByYW5nZSBzZXRcbmNvbnRhaW5pbmcgdGhlIGRlY29yYXRpb25zIHRvXG5bYEVkaXRvclZpZXcuYXRvbWljUmFuZ2VzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXdeYXRvbWljUmFuZ2VzKS5cbiovXG5FZGl0b3JWaWV3LmRlY29yYXRpb25zID0gZGVjb3JhdGlvbnM7XG4vKipcblVzZWQgdG8gcHJvdmlkZSByYW5nZXMgdGhhdCBzaG91bGQgYmUgdHJlYXRlZCBhcyBhdG9tcyBhcyBmYXIgYXNcbmN1cnNvciBtb3Rpb24gaXMgY29uY2VybmVkLiBUaGlzIGNhdXNlcyBtZXRob2RzIGxpa2VcbltgbW92ZUJ5Q2hhcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVCeUNoYXIpIGFuZFxuW2Btb3ZlVmVydGljYWxseWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jdmlldy5FZGl0b3JWaWV3Lm1vdmVWZXJ0aWNhbGx5KSAoYW5kIHRoZVxuY29tbWFuZHMgYnVpbHQgb24gdG9wIG9mIHRoZW0pIHRvIHNraXAgYWNyb3NzIHN1Y2ggcmVnaW9ucyB3aGVuXG5hIHNlbGVjdGlvbiBlbmRwb2ludCB3b3VsZCBlbnRlciB0aGVtLiBUaGlzIGRvZXMgX25vdF8gcHJldmVudFxuZGlyZWN0IHByb2dyYW1tYXRpYyBbc2VsZWN0aW9uXG51cGRhdGVzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlRyYW5zYWN0aW9uU3BlYy5zZWxlY3Rpb24pIGZyb20gbW92aW5nIGludG8gc3VjaFxucmVnaW9ucy5cbiovXG5FZGl0b3JWaWV3LmF0b21pY1JhbmdlcyA9IGF0b21pY1Jhbmdlcztcbi8qKlxuRmFjZXQgdGhhdCBhbGxvd3MgZXh0ZW5zaW9ucyB0byBwcm92aWRlIGFkZGl0aW9uYWwgc2Nyb2xsXG5tYXJnaW5zIChzcGFjZSBhcm91bmQgdGhlIHNpZGVzIG9mIHRoZSBzY3JvbGxpbmcgZWxlbWVudCB0aGF0XG5zaG91bGQgYmUgY29uc2lkZXJlZCBpbnZpc2libGUpLiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiB0aGVcbnBsdWdpbiBpbnRyb2R1Y2VzIGVsZW1lbnRzIHRoYXQgY292ZXIgcGFydCBvZiB0aGF0IGVsZW1lbnQgKGZvclxuZXhhbXBsZSBhIGhvcml6b250YWxseSBmaXhlZCBndXR0ZXIpLlxuKi9cbkVkaXRvclZpZXcuc2Nyb2xsTWFyZ2lucyA9IHNjcm9sbE1hcmdpbnM7XG4vKipcblRoaXMgZmFjZXQgcmVjb3JkcyB3aGV0aGVyIGEgZGFyayB0aGVtZSBpcyBhY3RpdmUuIFRoZSBleHRlbnNpb25cbnJldHVybmVkIGJ5IFtgdGhlbWVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlld150aGVtZSkgYXV0b21hdGljYWxseVxuaW5jbHVkZXMgYW4gaW5zdGFuY2Ugb2YgdGhpcyB3aGVuIHRoZSBgZGFya2Agb3B0aW9uIGlzIHNldCB0b1xudHJ1ZS5cbiovXG5FZGl0b3JWaWV3LmRhcmtUaGVtZSA9IGRhcmtUaGVtZTtcbi8qKlxuRmFjZXQgdGhhdCBwcm92aWRlcyBhZGRpdGlvbmFsIERPTSBhdHRyaWJ1dGVzIGZvciB0aGUgZWRpdG9yJ3NcbmVkaXRhYmxlIERPTSBlbGVtZW50LlxuKi9cbkVkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMgPSBjb250ZW50QXR0cmlidXRlcztcbi8qKlxuRmFjZXQgdGhhdCBwcm92aWRlcyBET00gYXR0cmlidXRlcyBmb3IgdGhlIGVkaXRvcidzIG91dGVyXG5lbGVtZW50LlxuKi9cbkVkaXRvclZpZXcuZWRpdG9yQXR0cmlidXRlcyA9IGVkaXRvckF0dHJpYnV0ZXM7XG4vKipcbkFuIGV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgbGluZSB3cmFwcGluZyBpbiB0aGUgZWRpdG9yIChieVxuc2V0dGluZyBDU1MgYHdoaXRlLXNwYWNlYCB0byBgcHJlLXdyYXBgIGluIHRoZSBjb250ZW50KS5cbiovXG5FZGl0b3JWaWV3LmxpbmVXcmFwcGluZyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLm9mKHsgXCJjbGFzc1wiOiBcImNtLWxpbmVXcmFwcGluZ1wiIH0pO1xuLyoqXG5TdGF0ZSBlZmZlY3QgdXNlZCB0byBpbmNsdWRlIHNjcmVlbiByZWFkZXIgYW5ub3VuY2VtZW50cyBpbiBhXG50cmFuc2FjdGlvbi4gVGhlc2Ugd2lsbCBiZSBhZGRlZCB0byB0aGUgRE9NIGluIGEgdmlzdWFsbHkgaGlkZGVuXG5lbGVtZW50IHdpdGggYGFyaWEtbGl2ZT1cInBvbGl0ZVwiYCBzZXQsIGFuZCBzaG91bGQgYmUgdXNlZCB0b1xuZGVzY3JpYmUgZWZmZWN0cyB0aGF0IGFyZSB2aXN1YWxseSBvYnZpb3VzIGJ1dCBtYXkgbm90IGJlXG5ub3RpY2VkIGJ5IHNjcmVlbiByZWFkZXIgdXNlcnMgKHN1Y2ggYXMgbW92aW5nIHRvIHRoZSBuZXh0XG5zZWFyY2ggbWF0Y2gpLlxuKi9cbkVkaXRvclZpZXcuYW5ub3VuY2UgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG4vLyBNYXhpbXVtIGxpbmUgbGVuZ3RoIGZvciB3aGljaCB3ZSBjb21wdXRlIGFjY3VyYXRlIGJpZGkgaW5mb1xuY29uc3QgTWF4QmlkaUxpbmUgPSA0MDk2O1xuY29uc3QgQmFkTWVhc3VyZSA9IHt9O1xuY2xhc3MgQ2FjaGVkT3JkZXIge1xuICAgIGNvbnN0cnVjdG9yKGZyb20sIHRvLCBkaXIsIG9yZGVyKSB7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICAgICAgdGhpcy5kaXIgPSBkaXI7XG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcbiAgICB9XG4gICAgc3RhdGljIHVwZGF0ZShjYWNoZSwgY2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLCBsYXN0RGlyID0gY2FjaGUubGVuZ3RoID8gY2FjaGVbY2FjaGUubGVuZ3RoIC0gMV0uZGlyIDogRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgZm9yIChsZXQgaSA9IE1hdGgubWF4KDAsIGNhY2hlLmxlbmd0aCAtIDEwKTsgaSA8IGNhY2hlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSBjYWNoZVtpXTtcbiAgICAgICAgICAgIGlmIChlbnRyeS5kaXIgPT0gbGFzdERpciAmJiAhY2hhbmdlcy50b3VjaGVzUmFuZ2UoZW50cnkuZnJvbSwgZW50cnkudG8pKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBDYWNoZWRPcmRlcihjaGFuZ2VzLm1hcFBvcyhlbnRyeS5mcm9tLCAxKSwgY2hhbmdlcy5tYXBQb3MoZW50cnkudG8sIC0xKSwgZW50cnkuZGlyLCBlbnRyeS5vcmRlcikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cnNGcm9tRmFjZXQodmlldywgZmFjZXQsIGJhc2UpIHtcbiAgICBmb3IgKGxldCBzb3VyY2VzID0gdmlldy5zdGF0ZS5mYWNldChmYWNldCksIGkgPSBzb3VyY2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSBzb3VyY2VzW2ldLCB2YWx1ZSA9IHR5cGVvZiBzb3VyY2UgPT0gXCJmdW5jdGlvblwiID8gc291cmNlKHZpZXcpIDogc291cmNlO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBjb21iaW5lQXR0cnModmFsdWUsIGJhc2UpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTtcbn1cblxuY29uc3QgY3VycmVudFBsYXRmb3JtID0gYnJvd3Nlci5tYWMgPyBcIm1hY1wiIDogYnJvd3Nlci53aW5kb3dzID8gXCJ3aW5cIiA6IGJyb3dzZXIubGludXggPyBcImxpbnV4XCIgOiBcImtleVwiO1xuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lLCBwbGF0Zm9ybSkge1xuICAgIGNvbnN0IHBhcnRzID0gbmFtZS5zcGxpdCgvLSg/ISQpLyk7XG4gICAgbGV0IHJlc3VsdCA9IHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChyZXN1bHQgPT0gXCJTcGFjZVwiKVxuICAgICAgICByZXN1bHQgPSBcIiBcIjtcbiAgICBsZXQgYWx0LCBjdHJsLCBzaGlmdCwgbWV0YTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7ICsraSkge1xuICAgICAgICBjb25zdCBtb2QgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSlcbiAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpXG4gICAgICAgICAgICBhbHQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgY3RybCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKC9ecyhoaWZ0KT8kL2kudGVzdChtb2QpKVxuICAgICAgICAgICAgc2hpZnQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvXm1vZCQvaS50ZXN0KG1vZCkpIHtcbiAgICAgICAgICAgIGlmIChwbGF0Zm9ybSA9PSBcIm1hY1wiKVxuICAgICAgICAgICAgICAgIG1ldGEgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGN0cmwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBtb2RpZmllciBuYW1lOiBcIiArIG1vZCk7XG4gICAgfVxuICAgIGlmIChhbHQpXG4gICAgICAgIHJlc3VsdCA9IFwiQWx0LVwiICsgcmVzdWx0O1xuICAgIGlmIChjdHJsKVxuICAgICAgICByZXN1bHQgPSBcIkN0cmwtXCIgKyByZXN1bHQ7XG4gICAgaWYgKG1ldGEpXG4gICAgICAgIHJlc3VsdCA9IFwiTWV0YS1cIiArIHJlc3VsdDtcbiAgICBpZiAoc2hpZnQpXG4gICAgICAgIHJlc3VsdCA9IFwiU2hpZnQtXCIgKyByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVycyhuYW1lLCBldmVudCwgc2hpZnQpIHtcbiAgICBpZiAoZXZlbnQuYWx0S2V5KVxuICAgICAgICBuYW1lID0gXCJBbHQtXCIgKyBuYW1lO1xuICAgIGlmIChldmVudC5jdHJsS2V5KVxuICAgICAgICBuYW1lID0gXCJDdHJsLVwiICsgbmFtZTtcbiAgICBpZiAoZXZlbnQubWV0YUtleSlcbiAgICAgICAgbmFtZSA9IFwiTWV0YS1cIiArIG5hbWU7XG4gICAgaWYgKHNoaWZ0ICE9PSBmYWxzZSAmJiBldmVudC5zaGlmdEtleSlcbiAgICAgICAgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lO1xuICAgIHJldHVybiBuYW1lO1xufVxuY29uc3QgaGFuZGxlS2V5RXZlbnRzID0gLypAX19QVVJFX18qL1ByZWMuZGVmYXVsdCgvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBrZXlkb3duKGV2ZW50LCB2aWV3KSB7XG4gICAgICAgIHJldHVybiBydW5IYW5kbGVycyhnZXRLZXltYXAodmlldy5zdGF0ZSksIGV2ZW50LCB2aWV3LCBcImVkaXRvclwiKTtcbiAgICB9XG59KSk7XG4vKipcbkZhY2V0IHVzZWQgZm9yIHJlZ2lzdGVyaW5nIGtleW1hcHMuXG5cbllvdSBjYW4gYWRkIG11bHRpcGxlIGtleW1hcHMgdG8gYW4gZWRpdG9yLiBUaGVpciBwcmlvcml0aWVzXG5kZXRlcm1pbmUgdGhlaXIgcHJlY2VkZW5jZSAodGhlIG9uZXMgc3BlY2lmaWVkIGVhcmx5IG9yIHdpdGggaGlnaFxucHJpb3JpdHkgZ2V0IGNoZWNrZWQgZmlyc3QpLiBXaGVuIGEgaGFuZGxlciBoYXMgcmV0dXJuZWQgYHRydWVgXG5mb3IgYSBnaXZlbiBrZXksIG5vIGZ1cnRoZXIgaGFuZGxlcnMgYXJlIGNhbGxlZC5cbiovXG5jb25zdCBrZXltYXAgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHsgZW5hYmxlczogaGFuZGxlS2V5RXZlbnRzIH0pO1xuY29uc3QgS2V5bWFwcyA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcCgpO1xuLy8gVGhpcyBpcyBoaWRkZW4gYmVoaW5kIGFuIGluZGlyZWN0aW9uLCByYXRoZXIgdGhhbiBkaXJlY3RseSBjb21wdXRlZFxuLy8gYnkgdGhlIGZhY2V0LCB0byBrZWVwIGludGVybmFsIHR5cGVzIG91dCBvZiB0aGUgZmFjZXQncyB0eXBlLlxuZnVuY3Rpb24gZ2V0S2V5bWFwKHN0YXRlKSB7XG4gICAgbGV0IGJpbmRpbmdzID0gc3RhdGUuZmFjZXQoa2V5bWFwKTtcbiAgICBsZXQgbWFwID0gS2V5bWFwcy5nZXQoYmluZGluZ3MpO1xuICAgIGlmICghbWFwKVxuICAgICAgICBLZXltYXBzLnNldChiaW5kaW5ncywgbWFwID0gYnVpbGRLZXltYXAoYmluZGluZ3MucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pKSk7XG4gICAgcmV0dXJuIG1hcDtcbn1cbi8qKlxuUnVuIHRoZSBrZXkgaGFuZGxlcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBzY29wZS4gVGhlIGV2ZW50XG5vYmplY3Qgc2hvdWxkIGJlIGEgYFwia2V5ZG93blwiYCBldmVudC4gUmV0dXJucyB0cnVlIGlmIGFueSBvZiB0aGVcbmhhbmRsZXJzIGhhbmRsZWQgaXQuXG4qL1xuZnVuY3Rpb24gcnVuU2NvcGVIYW5kbGVycyh2aWV3LCBldmVudCwgc2NvcGUpIHtcbiAgICByZXR1cm4gcnVuSGFuZGxlcnMoZ2V0S2V5bWFwKHZpZXcuc3RhdGUpLCBldmVudCwgdmlldywgc2NvcGUpO1xufVxubGV0IHN0b3JlZFByZWZpeCA9IG51bGw7XG5jb25zdCBQcmVmaXhUaW1lb3V0ID0gNDAwMDtcbmZ1bmN0aW9uIGJ1aWxkS2V5bWFwKGJpbmRpbmdzLCBwbGF0Zm9ybSA9IGN1cnJlbnRQbGF0Zm9ybSkge1xuICAgIGxldCBib3VuZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGlzUHJlZml4ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBsZXQgY2hlY2tQcmVmaXggPSAobmFtZSwgaXMpID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBpc1ByZWZpeFtuYW1lXTtcbiAgICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIGlzUHJlZml4W25hbWVdID0gaXM7XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnQgIT0gaXMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXkgYmluZGluZyBcIiArIG5hbWUgKyBcIiBpcyB1c2VkIGJvdGggYXMgYSByZWd1bGFyIGJpbmRpbmcgYW5kIGFzIGEgbXVsdGktc3Ryb2tlIHByZWZpeFwiKTtcbiAgICB9O1xuICAgIGxldCBhZGQgPSAoc2NvcGUsIGtleSwgY29tbWFuZCwgcHJldmVudERlZmF1bHQpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IHNjb3BlT2JqID0gYm91bmRbc2NvcGVdIHx8IChib3VuZFtzY29wZV0gPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAgICAgICAgbGV0IHBhcnRzID0ga2V5LnNwbGl0KC8gKD8hJCkvKS5tYXAoayA9PiBub3JtYWxpemVLZXlOYW1lKGssIHBsYXRmb3JtKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSBwYXJ0cy5zbGljZSgwLCBpKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIGNoZWNrUHJlZml4KHByZWZpeCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoIXNjb3BlT2JqW3ByZWZpeF0pXG4gICAgICAgICAgICAgICAgc2NvcGVPYmpbcHJlZml4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJ1bjogWyh2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG91ck9iaiA9IHN0b3JlZFByZWZpeCA9IHsgdmlldywgcHJlZml4LCBzY29wZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBpZiAoc3RvcmVkUHJlZml4ID09IG91ck9iailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVkUHJlZml4ID0gbnVsbDsgfSwgUHJlZml4VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZ1bGwgPSBwYXJ0cy5qb2luKFwiIFwiKTtcbiAgICAgICAgY2hlY2tQcmVmaXgoZnVsbCwgZmFsc2UpO1xuICAgICAgICBsZXQgYmluZGluZyA9IHNjb3BlT2JqW2Z1bGxdIHx8IChzY29wZU9ialtmdWxsXSA9IHsgcHJldmVudERlZmF1bHQ6IGZhbHNlLCBydW46ICgoX2IgPSAoX2EgPSBzY29wZU9iai5fYW55KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucnVuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2xpY2UoKSkgfHwgW10gfSk7XG4gICAgICAgIGlmIChjb21tYW5kKVxuICAgICAgICAgICAgYmluZGluZy5ydW4ucHVzaChjb21tYW5kKTtcbiAgICAgICAgaWYgKHByZXZlbnREZWZhdWx0KVxuICAgICAgICAgICAgYmluZGluZy5wcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgfTtcbiAgICBmb3IgKGxldCBiIG9mIGJpbmRpbmdzKSB7XG4gICAgICAgIGxldCBzY29wZXMgPSBiLnNjb3BlID8gYi5zY29wZS5zcGxpdChcIiBcIikgOiBbXCJlZGl0b3JcIl07XG4gICAgICAgIGlmIChiLmFueSlcbiAgICAgICAgICAgIGZvciAobGV0IHNjb3BlIG9mIHNjb3Blcykge1xuICAgICAgICAgICAgICAgIGxldCBzY29wZU9iaiA9IGJvdW5kW3Njb3BlXSB8fCAoYm91bmRbc2NvcGVdID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZU9iai5fYW55KVxuICAgICAgICAgICAgICAgICAgICBzY29wZU9iai5fYW55ID0geyBwcmV2ZW50RGVmYXVsdDogZmFsc2UsIHJ1bjogW10gfTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc2NvcGVPYmopXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlT2JqW2tleV0ucnVuLnB1c2goYi5hbnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICBsZXQgbmFtZSA9IGJbcGxhdGZvcm1dIHx8IGIua2V5O1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZm9yIChsZXQgc2NvcGUgb2Ygc2NvcGVzKSB7XG4gICAgICAgICAgICBhZGQoc2NvcGUsIG5hbWUsIGIucnVuLCBiLnByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgICAgIGlmIChiLnNoaWZ0KVxuICAgICAgICAgICAgICAgIGFkZChzY29wZSwgXCJTaGlmdC1cIiArIG5hbWUsIGIuc2hpZnQsIGIucHJldmVudERlZmF1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3VuZDtcbn1cbmZ1bmN0aW9uIHJ1bkhhbmRsZXJzKG1hcCwgZXZlbnQsIHZpZXcsIHNjb3BlKSB7XG4gICAgbGV0IG5hbWUgPSBrZXlOYW1lKGV2ZW50KTtcbiAgICBsZXQgY2hhckNvZGUgPSBjb2RlUG9pbnRBdChuYW1lLCAwKSwgaXNDaGFyID0gY29kZVBvaW50U2l6ZShjaGFyQ29kZSkgPT0gbmFtZS5sZW5ndGggJiYgbmFtZSAhPSBcIiBcIjtcbiAgICBsZXQgcHJlZml4ID0gXCJcIiwgZmFsbHRocm91Z2ggPSBmYWxzZTtcbiAgICBpZiAoc3RvcmVkUHJlZml4ICYmIHN0b3JlZFByZWZpeC52aWV3ID09IHZpZXcgJiYgc3RvcmVkUHJlZml4LnNjb3BlID09IHNjb3BlKSB7XG4gICAgICAgIHByZWZpeCA9IHN0b3JlZFByZWZpeC5wcmVmaXggKyBcIiBcIjtcbiAgICAgICAgaWYgKGZhbGx0aHJvdWdoID0gbW9kaWZpZXJDb2Rlcy5pbmRleE9mKGV2ZW50LmtleUNvZGUpIDwgMClcbiAgICAgICAgICAgIHN0b3JlZFByZWZpeCA9IG51bGw7XG4gICAgfVxuICAgIGxldCByYW4gPSBuZXcgU2V0O1xuICAgIGxldCBydW5Gb3IgPSAoYmluZGluZykgPT4ge1xuICAgICAgICBpZiAoYmluZGluZykge1xuICAgICAgICAgICAgZm9yIChsZXQgY21kIG9mIGJpbmRpbmcucnVuKVxuICAgICAgICAgICAgICAgIGlmICghcmFuLmhhcyhjbWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbi5hZGQoY21kKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtZCh2aWV3LCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYmluZGluZy5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgICAgICAgICBmYWxsdGhyb3VnaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgbGV0IHNjb3BlT2JqID0gbWFwW3Njb3BlXSwgYmFzZU5hbWUsIHNoaWZ0TmFtZTtcbiAgICBpZiAoc2NvcGVPYmopIHtcbiAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsICFpc0NoYXIpXSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKGlzQ2hhciAmJiAoZXZlbnQuYWx0S2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkgJiZcbiAgICAgICAgICAgIChiYXNlTmFtZSA9IGJhc2VbZXZlbnQua2V5Q29kZV0pICYmIGJhc2VOYW1lICE9IG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKGJhc2VOYW1lLCBldmVudCwgdHJ1ZSldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIChzaGlmdE5hbWUgPSBzaGlmdFtldmVudC5rZXlDb2RlXSkgIT0gbmFtZSAmJiBzaGlmdE5hbWUgIT0gYmFzZU5hbWUgJiZcbiAgICAgICAgICAgICAgICBydW5Gb3Ioc2NvcGVPYmpbcHJlZml4ICsgbW9kaWZpZXJzKHNoaWZ0TmFtZSwgZXZlbnQsIGZhbHNlKV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQ2hhciAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9ialtwcmVmaXggKyBtb2RpZmllcnMobmFtZSwgZXZlbnQsIHRydWUpXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bkZvcihzY29wZU9iai5fYW55KSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsbHRocm91Z2g7XG59XG5cbmNvbnN0IENhbkhpZGVQcmltYXJ5ID0gIWJyb3dzZXIuaW9zOyAvLyBGSVhNRSB0ZXN0IElFXG5jb25zdCBzZWxlY3Rpb25Db25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGNvbmZpZ3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcoY29uZmlncywge1xuICAgICAgICAgICAgY3Vyc29yQmxpbmtSYXRlOiAxMjAwLFxuICAgICAgICAgICAgZHJhd1JhbmdlQ3Vyc29yOiB0cnVlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGN1cnNvckJsaW5rUmF0ZTogKGEsIGIpID0+IE1hdGgubWluKGEsIGIpLFxuICAgICAgICAgICAgZHJhd1JhbmdlQ3Vyc29yOiAoYSwgYikgPT4gYSB8fCBiXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGhpZGVzIHRoZSBicm93c2VyJ3MgbmF0aXZlIHNlbGVjdGlvbiBhbmRcbmN1cnNvciwgcmVwbGFjaW5nIHRoZSBzZWxlY3Rpb24gd2l0aCBhIGJhY2tncm91bmQgYmVoaW5kIHRoZSB0ZXh0XG4od2l0aCB0aGUgYGNtLXNlbGVjdGlvbkJhY2tncm91bmRgIGNsYXNzKSwgYW5kIHRoZVxuY3Vyc29ycyB3aXRoIGVsZW1lbnRzIG92ZXJsYWlkIG92ZXIgdGhlIGNvZGUgKHVzaW5nXG5gY20tY3Vyc29yLXByaW1hcnlgIGFuZCBgY20tY3Vyc29yLXNlY29uZGFyeWApLlxuXG5UaGlzIGFsbG93cyB0aGUgZWRpdG9yIHRvIGRpc3BsYXkgc2Vjb25kYXJ5IHNlbGVjdGlvbiByYW5nZXMsIGFuZFxudGVuZHMgdG8gcHJvZHVjZSBhIHR5cGUgb2Ygc2VsZWN0aW9uIG1vcmUgaW4gbGluZSB3aXRoIHRoYXQgdXNlcnNcbmV4cGVjdCBpbiBhIHRleHQgZWRpdG9yICh0aGUgbmF0aXZlIHNlbGVjdGlvbiBzdHlsaW5nIHdpbGwgb2Z0ZW5cbmxlYXZlIGdhcHMgYmV0d2VlbiBsaW5lcyBhbmQgd29uJ3QgZmlsbCB0aGUgaG9yaXpvbnRhbCBzcGFjZSBhZnRlclxuYSBsaW5lIHdoZW4gdGhlIHNlbGVjdGlvbiBjb250aW51ZXMgcGFzdCBpdCkuXG5cbkl0IGRvZXMgaGF2ZSBhIHBlcmZvcm1hbmNlIGNvc3QsIGluIHRoYXQgaXQgcmVxdWlyZXMgYW4gZXh0cmEgRE9NXG5sYXlvdXQgY3ljbGUgZm9yIG1hbnkgdXBkYXRlcyAodGhlIHNlbGVjdGlvbiBpcyBkcmF3biBiYXNlZCBvbiBET01cbmxheW91dCBpbmZvcm1hdGlvbiB0aGF0J3Mgb25seSBhdmFpbGFibGUgYWZ0ZXIgbGF5aW5nIG91dCB0aGVcbmNvbnRlbnQpLlxuKi9cbmZ1bmN0aW9uIGRyYXdTZWxlY3Rpb24oY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBzZWxlY3Rpb25Db25maWcub2YoY29uZmlnKSxcbiAgICAgICAgZHJhd1NlbGVjdGlvblBsdWdpbixcbiAgICAgICAgaGlkZU5hdGl2ZVNlbGVjdGlvbixcbiAgICAgICAgbmF0aXZlU2VsZWN0aW9uSGlkZGVuLm9mKHRydWUpXG4gICAgXTtcbn1cbmNsYXNzIFBpZWNlIHtcbiAgICBjb25zdHJ1Y3RvcihsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIGNsYXNzTmFtZSkge1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBlbHQuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWU7XG4gICAgICAgIHRoaXMuYWRqdXN0KGVsdCk7XG4gICAgICAgIHJldHVybiBlbHQ7XG4gICAgfVxuICAgIGFkanVzdChlbHQpIHtcbiAgICAgICAgZWx0LnN0eWxlLmxlZnQgPSB0aGlzLmxlZnQgKyBcInB4XCI7XG4gICAgICAgIGVsdC5zdHlsZS50b3AgPSB0aGlzLnRvcCArIFwicHhcIjtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPj0gMClcbiAgICAgICAgICAgIGVsdC5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyBcInB4XCI7XG4gICAgICAgIGVsdC5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIFwicHhcIjtcbiAgICB9XG4gICAgZXEocCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWZ0ID09IHAubGVmdCAmJiB0aGlzLnRvcCA9PSBwLnRvcCAmJiB0aGlzLndpZHRoID09IHAud2lkdGggJiYgdGhpcy5oZWlnaHQgPT0gcC5oZWlnaHQgJiZcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID09IHAuY2xhc3NOYW1lO1xuICAgIH1cbn1cbmNvbnN0IGRyYXdTZWxlY3Rpb25QbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5yYW5nZVBpZWNlcyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnNvcnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB0aGlzLnJlYWRQb3MuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMuZHJhd1NlbC5iaW5kKHRoaXMpIH07XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTGF5ZXIgPSB2aWV3LnNjcm9sbERPTS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllci5jbGFzc05hbWUgPSBcImNtLXNlbGVjdGlvbkxheWVyXCI7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uTGF5ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLmN1cnNvckxheWVyID0gdmlldy5zY3JvbGxET00uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgICAgIHRoaXMuY3Vyc29yTGF5ZXIuY2xhc3NOYW1lID0gXCJjbS1jdXJzb3JMYXllclwiO1xuICAgICAgICB0aGlzLmN1cnNvckxheWVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgdmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICB0aGlzLnNldEJsaW5rUmF0ZSgpO1xuICAgIH1cbiAgICBzZXRCbGlua1JhdGUoKSB7XG4gICAgICAgIHRoaXMuY3Vyc29yTGF5ZXIuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24gPSB0aGlzLnZpZXcuc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKS5jdXJzb3JCbGlua1JhdGUgKyBcIm1zXCI7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGNvbmZDaGFuZ2VkID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKSAhPSB1cGRhdGUuc3RhdGUuZmFjZXQoc2VsZWN0aW9uQ29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKVxuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgIGlmICh1cGRhdGUudHJhbnNhY3Rpb25zLnNvbWUodHIgPT4gdHIuc2Nyb2xsSW50b1ZpZXcpKVxuICAgICAgICAgICAgdGhpcy5jdXJzb3JMYXllci5zdHlsZS5hbmltYXRpb25OYW1lID0gdGhpcy5jdXJzb3JMYXllci5zdHlsZS5hbmltYXRpb25OYW1lID09IFwiY20tYmxpbmtcIiA/IFwiY20tYmxpbmsyXCIgOiBcImNtLWJsaW5rXCI7XG4gICAgICAgIGlmIChjb25mQ2hhbmdlZClcbiAgICAgICAgICAgIHRoaXMuc2V0QmxpbmtSYXRlKCk7XG4gICAgfVxuICAgIHJlYWRQb3MoKSB7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0aGlzLnZpZXcsIGNvbmYgPSBzdGF0ZS5mYWNldChzZWxlY3Rpb25Db25maWcpO1xuICAgICAgICBsZXQgcmFuZ2VQaWVjZXMgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLm1hcChyID0+IHIuZW1wdHkgPyBbXSA6IG1lYXN1cmVSYW5nZSh0aGlzLnZpZXcsIHIpKS5yZWR1Y2UoKGEsIGIpID0+IGEuY29uY2F0KGIpKTtcbiAgICAgICAgbGV0IGN1cnNvcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgcHJpbSA9IHIgPT0gc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgICAgICAgICBpZiAoci5lbXB0eSA/ICFwcmltIHx8IENhbkhpZGVQcmltYXJ5IDogY29uZi5kcmF3UmFuZ2VDdXJzb3IpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGllY2UgPSBtZWFzdXJlQ3Vyc29yKHRoaXMudmlldywgciwgcHJpbSk7XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlKVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3JzLnB1c2gocGllY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlUGllY2VzLCBjdXJzb3JzIH07XG4gICAgfVxuICAgIGRyYXdTZWwoeyByYW5nZVBpZWNlcywgY3Vyc29ycyB9KSB7XG4gICAgICAgIGlmIChyYW5nZVBpZWNlcy5sZW5ndGggIT0gdGhpcy5yYW5nZVBpZWNlcy5sZW5ndGggfHwgcmFuZ2VQaWVjZXMuc29tZSgocCwgaSkgPT4gIXAuZXEodGhpcy5yYW5nZVBpZWNlc1tpXSkpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbkxheWVyLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IHAgb2YgcmFuZ2VQaWVjZXMpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllci5hcHBlbmRDaGlsZChwLmRyYXcoKSk7XG4gICAgICAgICAgICB0aGlzLnJhbmdlUGllY2VzID0gcmFuZ2VQaWVjZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnNvcnMubGVuZ3RoICE9IHRoaXMuY3Vyc29ycy5sZW5ndGggfHwgY3Vyc29ycy5zb21lKChjLCBpKSA9PiAhYy5lcSh0aGlzLmN1cnNvcnNbaV0pKSkge1xuICAgICAgICAgICAgbGV0IG9sZEN1cnNvcnMgPSB0aGlzLmN1cnNvckxheWVyLmNoaWxkcmVuO1xuICAgICAgICAgICAgaWYgKG9sZEN1cnNvcnMubGVuZ3RoICE9PSBjdXJzb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yTGF5ZXIudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBjdXJzb3JzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvckxheWVyLmFwcGVuZENoaWxkKGMuZHJhdygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnNvcnMuZm9yRWFjaCgoYywgaWR4KSA9PiBjLmFkanVzdChvbGRDdXJzb3JzW2lkeF0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3Vyc29ycyA9IGN1cnNvcnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25MYXllci5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5jdXJzb3JMYXllci5yZW1vdmUoKTtcbiAgICB9XG59KTtcbmNvbnN0IHRoZW1lU3BlYyA9IHtcbiAgICBcIi5jbS1saW5lXCI6IHtcbiAgICAgICAgXCImIDo6c2VsZWN0aW9uXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50ICFpbXBvcnRhbnRcIiB9LFxuICAgICAgICBcIiY6OnNlbGVjdGlvblwiOiB7IGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudCAhaW1wb3J0YW50XCIgfVxuICAgIH1cbn07XG5pZiAoQ2FuSGlkZVByaW1hcnkpXG4gICAgdGhlbWVTcGVjW1wiLmNtLWxpbmVcIl0uY2FyZXRDb2xvciA9IFwidHJhbnNwYXJlbnQgIWltcG9ydGFudFwiO1xuY29uc3QgaGlkZU5hdGl2ZVNlbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi9QcmVjLmhpZ2hlc3QoLypAX19QVVJFX18qL0VkaXRvclZpZXcudGhlbWUodGhlbWVTcGVjKSk7XG5mdW5jdGlvbiBnZXRCYXNlKHZpZXcpIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBsZWZ0ID0gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFIgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0IC0gdmlldy5zY3JvbGxET00uY2xpZW50V2lkdGg7XG4gICAgcmV0dXJuIHsgbGVmdDogbGVmdCAtIHZpZXcuc2Nyb2xsRE9NLnNjcm9sbExlZnQsIHRvcDogcmVjdC50b3AgLSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgfTtcbn1cbmZ1bmN0aW9uIHdyYXBwZWRMaW5lKHZpZXcsIHBvcywgaW5zaWRlKSB7XG4gICAgbGV0IHJhbmdlID0gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MpO1xuICAgIHJldHVybiB7IGZyb206IE1hdGgubWF4KGluc2lkZS5mcm9tLCB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShyYW5nZSwgZmFsc2UsIHRydWUpLmZyb20pLFxuICAgICAgICB0bzogTWF0aC5taW4oaW5zaWRlLnRvLCB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShyYW5nZSwgdHJ1ZSwgdHJ1ZSkuZnJvbSksXG4gICAgICAgIHR5cGU6IEJsb2NrVHlwZS5UZXh0IH07XG59XG5mdW5jdGlvbiBibG9ja0F0KHZpZXcsIHBvcykge1xuICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChwb3MpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGxpbmUudHlwZSkpXG4gICAgICAgIGZvciAobGV0IGwgb2YgbGluZS50eXBlKSB7XG4gICAgICAgICAgICBpZiAobC50byA+IHBvcyB8fCBsLnRvID09IHBvcyAmJiAobC50byA9PSBsaW5lLnRvIHx8IGwudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICByZXR1cm4gbGluZTtcbn1cbmZ1bmN0aW9uIG1lYXN1cmVSYW5nZSh2aWV3LCByYW5nZSkge1xuICAgIGlmIChyYW5nZS50byA8PSB2aWV3LnZpZXdwb3J0LmZyb20gfHwgcmFuZ2UuZnJvbSA+PSB2aWV3LnZpZXdwb3J0LnRvKVxuICAgICAgICByZXR1cm4gW107XG4gICAgbGV0IGZyb20gPSBNYXRoLm1heChyYW5nZS5mcm9tLCB2aWV3LnZpZXdwb3J0LmZyb20pLCB0byA9IE1hdGgubWluKHJhbmdlLnRvLCB2aWV3LnZpZXdwb3J0LnRvKTtcbiAgICBsZXQgbHRyID0gdmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5MVFI7XG4gICAgbGV0IGNvbnRlbnQgPSB2aWV3LmNvbnRlbnRET00sIGNvbnRlbnRSZWN0ID0gY29udGVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgYmFzZSA9IGdldEJhc2Uodmlldyk7XG4gICAgbGV0IGxpbmVTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgbGV0IGxlZnRTaWRlID0gY29udGVudFJlY3QubGVmdCArIHBhcnNlSW50KGxpbmVTdHlsZS5wYWRkaW5nTGVmdCkgKyBNYXRoLm1pbigwLCBwYXJzZUludChsaW5lU3R5bGUudGV4dEluZGVudCkpO1xuICAgIGxldCByaWdodFNpZGUgPSBjb250ZW50UmVjdC5yaWdodCAtIHBhcnNlSW50KGxpbmVTdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgIGxldCBzdGFydEJsb2NrID0gYmxvY2tBdCh2aWV3LCBmcm9tKSwgZW5kQmxvY2sgPSBibG9ja0F0KHZpZXcsIHRvKTtcbiAgICBsZXQgdmlzdWFsU3RhcnQgPSBzdGFydEJsb2NrLnR5cGUgPT0gQmxvY2tUeXBlLlRleHQgPyBzdGFydEJsb2NrIDogbnVsbDtcbiAgICBsZXQgdmlzdWFsRW5kID0gZW5kQmxvY2sudHlwZSA9PSBCbG9ja1R5cGUuVGV4dCA/IGVuZEJsb2NrIDogbnVsbDtcbiAgICBpZiAodmlldy5saW5lV3JhcHBpbmcpIHtcbiAgICAgICAgaWYgKHZpc3VhbFN0YXJ0KVxuICAgICAgICAgICAgdmlzdWFsU3RhcnQgPSB3cmFwcGVkTGluZSh2aWV3LCBmcm9tLCB2aXN1YWxTdGFydCk7XG4gICAgICAgIGlmICh2aXN1YWxFbmQpXG4gICAgICAgICAgICB2aXN1YWxFbmQgPSB3cmFwcGVkTGluZSh2aWV3LCB0bywgdmlzdWFsRW5kKTtcbiAgICB9XG4gICAgaWYgKHZpc3VhbFN0YXJ0ICYmIHZpc3VhbEVuZCAmJiB2aXN1YWxTdGFydC5mcm9tID09IHZpc3VhbEVuZC5mcm9tKSB7XG4gICAgICAgIHJldHVybiBwaWVjZXMoZHJhd0ZvckxpbmUocmFuZ2UuZnJvbSwgcmFuZ2UudG8sIHZpc3VhbFN0YXJ0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgdG9wID0gdmlzdWFsU3RhcnQgPyBkcmF3Rm9yTGluZShyYW5nZS5mcm9tLCBudWxsLCB2aXN1YWxTdGFydCkgOiBkcmF3Rm9yV2lkZ2V0KHN0YXJ0QmxvY2ssIGZhbHNlKTtcbiAgICAgICAgbGV0IGJvdHRvbSA9IHZpc3VhbEVuZCA/IGRyYXdGb3JMaW5lKG51bGwsIHJhbmdlLnRvLCB2aXN1YWxFbmQpIDogZHJhd0ZvcldpZGdldChlbmRCbG9jaywgdHJ1ZSk7XG4gICAgICAgIGxldCBiZXR3ZWVuID0gW107XG4gICAgICAgIGlmICgodmlzdWFsU3RhcnQgfHwgc3RhcnRCbG9jaykudG8gPCAodmlzdWFsRW5kIHx8IGVuZEJsb2NrKS5mcm9tIC0gMSlcbiAgICAgICAgICAgIGJldHdlZW4ucHVzaChwaWVjZShsZWZ0U2lkZSwgdG9wLmJvdHRvbSwgcmlnaHRTaWRlLCBib3R0b20udG9wKSk7XG4gICAgICAgIGVsc2UgaWYgKHRvcC5ib3R0b20gPCBib3R0b20udG9wICYmIHZpZXcuZWxlbWVudEF0SGVpZ2h0KCh0b3AuYm90dG9tICsgYm90dG9tLnRvcCkgLyAyKS50eXBlID09IEJsb2NrVHlwZS5UZXh0KVxuICAgICAgICAgICAgdG9wLmJvdHRvbSA9IGJvdHRvbS50b3AgPSAodG9wLmJvdHRvbSArIGJvdHRvbS50b3ApIC8gMjtcbiAgICAgICAgcmV0dXJuIHBpZWNlcyh0b3ApLmNvbmNhdChiZXR3ZWVuKS5jb25jYXQocGllY2VzKGJvdHRvbSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwaWVjZShsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQaWVjZShsZWZ0IC0gYmFzZS5sZWZ0LCB0b3AgLSBiYXNlLnRvcCAtIDAuMDEgLyogQy5FcHNpbG9uICovLCByaWdodCAtIGxlZnQsIGJvdHRvbSAtIHRvcCArIDAuMDEgLyogQy5FcHNpbG9uICovLCBcImNtLXNlbGVjdGlvbkJhY2tncm91bmRcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpZWNlcyh7IHRvcCwgYm90dG9tLCBob3Jpem9udGFsIH0pIHtcbiAgICAgICAgbGV0IHBpZWNlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvcml6b250YWwubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgICAgICBwaWVjZXMucHVzaChwaWVjZShob3Jpem9udGFsW2ldLCB0b3AsIGhvcml6b250YWxbaSArIDFdLCBib3R0b20pKTtcbiAgICAgICAgcmV0dXJuIHBpZWNlcztcbiAgICB9XG4gICAgLy8gR2V0cyBwYXNzZWQgZnJvbS90byBpbiBsaW5lLWxvY2FsIHBvc2l0aW9uc1xuICAgIGZ1bmN0aW9uIGRyYXdGb3JMaW5lKGZyb20sIHRvLCBsaW5lKSB7XG4gICAgICAgIGxldCB0b3AgPSAxZTksIGJvdHRvbSA9IC0xZTksIGhvcml6b250YWwgPSBbXTtcbiAgICAgICAgZnVuY3Rpb24gYWRkU3Bhbihmcm9tLCBmcm9tT3BlbiwgdG8sIHRvT3BlbiwgZGlyKSB7XG4gICAgICAgICAgICAvLyBQYXNzaW5nIDIvLTIgaXMgYSBrbHVkZ2UgdG8gZm9yY2UgdGhlIHZpZXcgdG8gcmV0dXJuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvbiB0aGUgcHJvcGVyIHNpZGUgb2YgYmxvY2sgd2lkZ2V0cywgc2luY2VcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6aW5nIHRoZSBzaWRlIHRoZXJlLCB0aG91Z2ggYXBwcm9wcmlhdGUgZm9yIG1vc3RcbiAgICAgICAgICAgIC8vIGNvb3Jkc0F0UG9zIHF1ZXJpZXMsIHdvdWxkIGJyZWFrIHNlbGVjdGlvbiBkcmF3aW5nLlxuICAgICAgICAgICAgbGV0IGZyb21Db29yZHMgPSB2aWV3LmNvb3Jkc0F0UG9zKGZyb20sIChmcm9tID09IGxpbmUudG8gPyAtMiA6IDIpKTtcbiAgICAgICAgICAgIGxldCB0b0Nvb3JkcyA9IHZpZXcuY29vcmRzQXRQb3ModG8sICh0byA9PSBsaW5lLmZyb20gPyAyIDogLTIpKTtcbiAgICAgICAgICAgIHRvcCA9IE1hdGgubWluKGZyb21Db29yZHMudG9wLCB0b0Nvb3Jkcy50b3AsIHRvcCk7XG4gICAgICAgICAgICBib3R0b20gPSBNYXRoLm1heChmcm9tQ29vcmRzLmJvdHRvbSwgdG9Db29yZHMuYm90dG9tLCBib3R0b20pO1xuICAgICAgICAgICAgaWYgKGRpciA9PSBEaXJlY3Rpb24uTFRSKVxuICAgICAgICAgICAgICAgIGhvcml6b250YWwucHVzaChsdHIgJiYgZnJvbU9wZW4gPyBsZWZ0U2lkZSA6IGZyb21Db29yZHMubGVmdCwgbHRyICYmIHRvT3BlbiA/IHJpZ2h0U2lkZSA6IHRvQ29vcmRzLnJpZ2h0KTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsLnB1c2goIWx0ciAmJiB0b09wZW4gPyBsZWZ0U2lkZSA6IHRvQ29vcmRzLmxlZnQsICFsdHIgJiYgZnJvbU9wZW4gPyByaWdodFNpZGUgOiBmcm9tQ29vcmRzLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSBmcm9tICE9PSBudWxsICYmIGZyb20gIT09IHZvaWQgMCA/IGZyb20gOiBsaW5lLmZyb20sIGVuZCA9IHRvICE9PSBudWxsICYmIHRvICE9PSB2b2lkIDAgPyB0byA6IGxpbmUudG87XG4gICAgICAgIC8vIFNwbGl0IHRoZSByYW5nZSBieSB2aXNpYmxlIHJhbmdlIGFuZCBkb2N1bWVudCBsaW5lXG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKVxuICAgICAgICAgICAgaWYgKHIudG8gPiBzdGFydCAmJiByLmZyb20gPCBlbmQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3MgPSBNYXRoLm1heChyLmZyb20sIHN0YXJ0KSwgZW5kUG9zID0gTWF0aC5taW4oci50bywgZW5kKTs7KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkb2NMaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHNwYW4gb2Ygdmlldy5iaWRpU3BhbnMoZG9jTGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcGFuRnJvbSA9IHNwYW4uZnJvbSArIGRvY0xpbmUuZnJvbSwgc3BhblRvID0gc3Bhbi50byArIGRvY0xpbmUuZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuRnJvbSA+PSBlbmRQb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BhblRvID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFNwYW4oTWF0aC5tYXgoc3BhbkZyb20sIHBvcyksIGZyb20gPT0gbnVsbCAmJiBzcGFuRnJvbSA8PSBzdGFydCwgTWF0aC5taW4oc3BhblRvLCBlbmRQb3MpLCB0byA9PSBudWxsICYmIHNwYW5UbyA+PSBlbmQsIHNwYW4uZGlyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBkb2NMaW5lLnRvICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+PSBlbmRQb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChob3Jpem9udGFsLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgYWRkU3BhbihzdGFydCwgZnJvbSA9PSBudWxsLCBlbmQsIHRvID09IG51bGwsIHZpZXcudGV4dERpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiB7IHRvcCwgYm90dG9tLCBob3Jpem9udGFsIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRyYXdGb3JXaWRnZXQoYmxvY2ssIHRvcCkge1xuICAgICAgICBsZXQgeSA9IGNvbnRlbnRSZWN0LnRvcCArICh0b3AgPyBibG9jay50b3AgOiBibG9jay5ib3R0b20pO1xuICAgICAgICByZXR1cm4geyB0b3A6IHksIGJvdHRvbTogeSwgaG9yaXpvbnRhbDogW10gfTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZWFzdXJlQ3Vyc29yKHZpZXcsIGN1cnNvciwgcHJpbWFyeSkge1xuICAgIGxldCBwb3MgPSB2aWV3LmNvb3Jkc0F0UG9zKGN1cnNvci5oZWFkLCBjdXJzb3IuYXNzb2MgfHwgMSk7XG4gICAgaWYgKCFwb3MpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBiYXNlID0gZ2V0QmFzZSh2aWV3KTtcbiAgICByZXR1cm4gbmV3IFBpZWNlKHBvcy5sZWZ0IC0gYmFzZS5sZWZ0LCBwb3MudG9wIC0gYmFzZS50b3AsIC0xLCBwb3MuYm90dG9tIC0gcG9zLnRvcCwgcHJpbWFyeSA/IFwiY20tY3Vyc29yIGNtLWN1cnNvci1wcmltYXJ5XCIgOiBcImNtLWN1cnNvciBjbS1jdXJzb3Itc2Vjb25kYXJ5XCIpO1xufVxuXG5jb25zdCBzZXREcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSh7XG4gICAgbWFwKHBvcywgbWFwcGluZykgeyByZXR1cm4gcG9zID09IG51bGwgPyBudWxsIDogbWFwcGluZy5tYXBQb3MocG9zKTsgfVxufSk7XG5jb25zdCBkcm9wQ3Vyc29yUG9zID0gLypAX19QVVJFX18qL1N0YXRlRmllbGQuZGVmaW5lKHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHVwZGF0ZShwb3MsIHRyKSB7XG4gICAgICAgIGlmIChwb3MgIT0gbnVsbClcbiAgICAgICAgICAgIHBvcyA9IHRyLmNoYW5nZXMubWFwUG9zKHBvcyk7XG4gICAgICAgIHJldHVybiB0ci5lZmZlY3RzLnJlZHVjZSgocG9zLCBlKSA9PiBlLmlzKHNldERyb3BDdXJzb3JQb3MpID8gZS52YWx1ZSA6IHBvcywgcG9zKTtcbiAgICB9XG59KTtcbmNvbnN0IGRyYXdEcm9wQ3Vyc29yID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgdGhpcy5tZWFzdXJlUmVxID0geyByZWFkOiB0aGlzLnJlYWRQb3MuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMuZHJhd0N1cnNvci5iaW5kKHRoaXMpIH07XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY3Vyc29yUG9zID0gdXBkYXRlLnN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpO1xuICAgICAgICBpZiAoY3Vyc29yUG9zID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnNvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jdXJzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSB0aGlzLnZpZXcuc2Nyb2xsRE9NLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLmNsYXNzTmFtZSA9IFwiY20tZHJvcEN1cnNvclwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwZGF0ZS5zdGFydFN0YXRlLmZpZWxkKGRyb3BDdXJzb3JQb3MpICE9IGN1cnNvclBvcyB8fCB1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUuZ2VvbWV0cnlDaGFuZ2VkKVxuICAgICAgICAgICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLm1lYXN1cmVSZXEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWRQb3MoKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnZpZXcuc3RhdGUuZmllbGQoZHJvcEN1cnNvclBvcyk7XG4gICAgICAgIGxldCByZWN0ID0gcG9zICE9IG51bGwgJiYgdGhpcy52aWV3LmNvb3Jkc0F0UG9zKHBvcyk7XG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgb3V0ZXIgPSB0aGlzLnZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gb3V0ZXIubGVmdCArIHRoaXMudmlldy5zY3JvbGxET00uc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgLSBvdXRlci50b3AgKyB0aGlzLnZpZXcuc2Nyb2xsRE9NLnNjcm9sbFRvcCxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcFxuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3Q3Vyc29yKHBvcykge1xuICAgICAgICBpZiAodGhpcy5jdXJzb3IpIHtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS5sZWZ0ID0gcG9zLmxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUudG9wID0gcG9zLnRvcCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zdHlsZS5oZWlnaHQgPSBwb3MuaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc3R5bGUubGVmdCA9IFwiLTEwMDAwMHB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3Vyc29yKVxuICAgICAgICAgICAgdGhpcy5jdXJzb3IucmVtb3ZlKCk7XG4gICAgfVxuICAgIHNldERyb3BQb3MocG9zKSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuc3RhdGUuZmllbGQoZHJvcEN1cnNvclBvcykgIT0gcG9zKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc2V0RHJvcEN1cnNvclBvcy5vZihwb3MpIH0pO1xuICAgIH1cbn0sIHtcbiAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgIGRyYWdvdmVyKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldERyb3BQb3ModGhpcy52aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRyYWdsZWF2ZShldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzLnZpZXcuY29udGVudERPTSB8fCAhdGhpcy52aWV3LmNvbnRlbnRET00uY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcmFnZW5kKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBkcm9wKCkge1xuICAgICAgICAgICAgdGhpcy5zZXREcm9wUG9zKG51bGwpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4vKipcbkRyYXdzIGEgY3Vyc29yIGF0IHRoZSBjdXJyZW50IGRyb3AgcG9zaXRpb24gd2hlbiBzb21ldGhpbmcgaXNcbmRyYWdnZWQgb3ZlciB0aGUgZWRpdG9yLlxuKi9cbmZ1bmN0aW9uIGRyb3BDdXJzb3IoKSB7XG4gICAgcmV0dXJuIFtkcm9wQ3Vyc29yUG9zLCBkcmF3RHJvcEN1cnNvcl07XG59XG5cbmZ1bmN0aW9uIGl0ZXJNYXRjaGVzKGRvYywgcmUsIGZyb20sIHRvLCBmKSB7XG4gICAgcmUubGFzdEluZGV4ID0gMDtcbiAgICBmb3IgKGxldCBjdXJzb3IgPSBkb2MuaXRlclJhbmdlKGZyb20sIHRvKSwgcG9zID0gZnJvbSwgbTsgIWN1cnNvci5uZXh0KCkuZG9uZTsgcG9zICs9IGN1cnNvci52YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFjdXJzb3IubGluZUJyZWFrKVxuICAgICAgICAgICAgd2hpbGUgKG0gPSByZS5leGVjKGN1cnNvci52YWx1ZSkpXG4gICAgICAgICAgICAgICAgZihwb3MgKyBtLmluZGV4LCBtKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaFJhbmdlcyh2aWV3LCBtYXhMZW5ndGgpIHtcbiAgICBsZXQgdmlzaWJsZSA9IHZpZXcudmlzaWJsZVJhbmdlcztcbiAgICBpZiAodmlzaWJsZS5sZW5ndGggPT0gMSAmJiB2aXNpYmxlWzBdLmZyb20gPT0gdmlldy52aWV3cG9ydC5mcm9tICYmXG4gICAgICAgIHZpc2libGVbMF0udG8gPT0gdmlldy52aWV3cG9ydC50bylcbiAgICAgICAgcmV0dXJuIHZpc2libGU7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiB2aXNpYmxlKSB7XG4gICAgICAgIGZyb20gPSBNYXRoLm1heCh2aWV3LnN0YXRlLmRvYy5saW5lQXQoZnJvbSkuZnJvbSwgZnJvbSAtIG1heExlbmd0aCk7XG4gICAgICAgIHRvID0gTWF0aC5taW4odmlldy5zdGF0ZS5kb2MubGluZUF0KHRvKS50bywgdG8gKyBtYXhMZW5ndGgpO1xuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCAmJiByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID49IGZyb20pXG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLnRvID0gdG87XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbkhlbHBlciBjbGFzcyB1c2VkIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIGRlY29yYXRpb25zIG9uXG52aXNpYmxlIGNvZGUgdGhhdCBtYXRjaGVzIGEgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uLiBUbyBiZSB1c2VkXG5pbiBhIFt2aWV3IHBsdWdpbl0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LlZpZXdQbHVnaW4pLiBJbnN0YW5jZXMgb2YgdGhpcyBvYmplY3RcbnJlcHJlc2VudCBhIG1hdGNoaW5nIGNvbmZpZ3VyYXRpb24uXG4qL1xuY2xhc3MgTWF0Y2hEZWNvcmF0b3Ige1xuICAgIC8qKlxuICAgIENyZWF0ZSBhIGRlY29yYXRvci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICBjb25zdCB7IHJlZ2V4cCwgZGVjb3JhdGlvbiwgZGVjb3JhdGUsIGJvdW5kYXJ5LCBtYXhMZW5ndGggPSAxMDAwIH0gPSBjb25maWc7XG4gICAgICAgIGlmICghcmVnZXhwLmdsb2JhbClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiB0byBNYXRjaERlY29yYXRvciBzaG91bGQgaGF2ZSBpdHMgJ2cnIGZsYWcgc2V0XCIpO1xuICAgICAgICB0aGlzLnJlZ2V4cCA9IHJlZ2V4cDtcbiAgICAgICAgaWYgKGRlY29yYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCB2aWV3LCBmcm9tLCBhZGQpID0+IGRlY29yYXRlKGFkZCwgZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgbWF0Y2gsIHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBkZWNvcmF0aW9uID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hZGRNYXRjaCA9IChtYXRjaCwgdmlldywgZnJvbSwgYWRkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGRlY28gPSBkZWNvcmF0aW9uKG1hdGNoLCB2aWV3LCBmcm9tKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjbylcbiAgICAgICAgICAgICAgICAgICAgYWRkKGZyb20sIGZyb20gKyBtYXRjaFswXS5sZW5ndGgsIGRlY28pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWNvcmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1hdGNoID0gKG1hdGNoLCBfdmlldywgZnJvbSwgYWRkKSA9PiBhZGQoZnJvbSwgZnJvbSArIG1hdGNoWzBdLmxlbmd0aCwgZGVjb3JhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkVpdGhlciAnZGVjb3JhdGUnIG9yICdkZWNvcmF0aW9uJyBzaG91bGQgYmUgcHJvdmlkZWQgdG8gTWF0Y2hEZWNvcmF0b3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3VuZGFyeSA9IGJvdW5kYXJ5O1xuICAgICAgICB0aGlzLm1heExlbmd0aCA9IG1heExlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgQ29tcHV0ZSB0aGUgZnVsbCBzZXQgb2YgZGVjb3JhdGlvbnMgZm9yIG1hdGNoZXMgaW4gdGhlIGdpdmVuXG4gICAgdmlldydzIHZpZXdwb3J0LiBZb3UnbGwgd2FudCB0byBjYWxsIHRoaXMgd2hlbiBpbml0aWFsaXppbmcgeW91clxuICAgIHBsdWdpbi5cbiAgICAqL1xuICAgIGNyZWF0ZURlY28odmlldykge1xuICAgICAgICBsZXQgYnVpbGQgPSBuZXcgUmFuZ2VTZXRCdWlsZGVyKCksIGFkZCA9IGJ1aWxkLmFkZC5iaW5kKGJ1aWxkKTtcbiAgICAgICAgZm9yIChsZXQgeyBmcm9tLCB0byB9IG9mIG1hdGNoUmFuZ2VzKHZpZXcsIHRoaXMubWF4TGVuZ3RoKSlcbiAgICAgICAgICAgIGl0ZXJNYXRjaGVzKHZpZXcuc3RhdGUuZG9jLCB0aGlzLnJlZ2V4cCwgZnJvbSwgdG8sIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICByZXR1cm4gYnVpbGQuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSBhIHNldCBvZiBkZWNvcmF0aW9ucyBmb3IgYSB2aWV3IHVwZGF0ZS4gYGRlY29gIF9tdXN0XyBiZVxuICAgIHRoZSBzZXQgb2YgZGVjb3JhdGlvbnMgcHJvZHVjZWQgYnkgX3RoaXNfIGBNYXRjaERlY29yYXRvcmAgZm9yXG4gICAgdGhlIHZpZXcgc3RhdGUgYmVmb3JlIHRoZSB1cGRhdGUuXG4gICAgKi9cbiAgICB1cGRhdGVEZWNvKHVwZGF0ZSwgZGVjbykge1xuICAgICAgICBsZXQgY2hhbmdlRnJvbSA9IDFlOSwgY2hhbmdlVG8gPSAtMTtcbiAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkKVxuICAgICAgICAgICAgdXBkYXRlLmNoYW5nZXMuaXRlckNoYW5nZXMoKF9mLCBfdCwgZnJvbSwgdG8pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodG8gPiB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tICYmIGZyb20gPCB1cGRhdGUudmlldy52aWV3cG9ydC50bykge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VGcm9tID0gTWF0aC5taW4oZnJvbSwgY2hhbmdlRnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVRvID0gTWF0aC5tYXgodG8sIGNoYW5nZVRvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHwgY2hhbmdlVG8gLSBjaGFuZ2VGcm9tID4gMTAwMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZURlY28odXBkYXRlLnZpZXcpO1xuICAgICAgICBpZiAoY2hhbmdlVG8gPiAtMSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVJhbmdlKHVwZGF0ZS52aWV3LCBkZWNvLm1hcCh1cGRhdGUuY2hhbmdlcyksIGNoYW5nZUZyb20sIGNoYW5nZVRvKTtcbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxuICAgIHVwZGF0ZVJhbmdlKHZpZXcsIGRlY28sIHVwZGF0ZUZyb20sIHVwZGF0ZVRvKSB7XG4gICAgICAgIGZvciAobGV0IHIgb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IE1hdGgubWF4KHIuZnJvbSwgdXBkYXRlRnJvbSksIHRvID0gTWF0aC5taW4oci50bywgdXBkYXRlVG8pO1xuICAgICAgICAgICAgaWYgKHRvID4gZnJvbSkge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tTGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChmcm9tKSwgdG9MaW5lID0gZnJvbUxpbmUudG8gPCB0byA/IHZpZXcuc3RhdGUuZG9jLmxpbmVBdCh0bykgOiBmcm9tTGluZTtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSBNYXRoLm1heChyLmZyb20sIGZyb21MaW5lLmZyb20pLCBlbmQgPSBNYXRoLm1pbihyLnRvLCB0b0xpbmUudG8pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBmcm9tID4gZnJvbUxpbmUuZnJvbTsgZnJvbS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYm91bmRhcnkudGVzdChmcm9tTGluZS50ZXh0W2Zyb20gLSAxIC0gZnJvbUxpbmUuZnJvbV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBmcm9tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgdG8gPCB0b0xpbmUudG87IHRvKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZGFyeS50ZXN0KHRvTGluZS50ZXh0W3RvIC0gdG9MaW5lLmZyb21dKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gW10sIG07XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IChmcm9tLCB0bywgZGVjbykgPT4gcmFuZ2VzLnB1c2goZGVjby5yYW5nZShmcm9tLCB0bykpO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tTGluZSA9PSB0b0xpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gc3RhcnQgLSBmcm9tTGluZS5mcm9tO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG0gPSB0aGlzLnJlZ2V4cC5leGVjKGZyb21MaW5lLnRleHQpKSAmJiBtLmluZGV4IDwgZW5kIC0gZnJvbUxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTWF0Y2gobSwgdmlldywgbS5pbmRleCArIGZyb21MaW5lLmZyb20sIGFkZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVyTWF0Y2hlcyh2aWV3LnN0YXRlLmRvYywgdGhpcy5yZWdleHAsIHN0YXJ0LCBlbmQsIChmcm9tLCBtKSA9PiB0aGlzLmFkZE1hdGNoKG0sIHZpZXcsIGZyb20sIGFkZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvID0gZGVjby51cGRhdGUoeyBmaWx0ZXJGcm9tOiBzdGFydCwgZmlsdGVyVG86IGVuZCwgZmlsdGVyOiAoZnJvbSwgdG8pID0+IGZyb20gPCBzdGFydCB8fCB0byA+IGVuZCwgYWRkOiByYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY287XG4gICAgfVxufVxuXG5jb25zdCBVbmljb2RlUmVnZXhwU3VwcG9ydCA9IC94Ly51bmljb2RlICE9IG51bGwgPyBcImd1XCIgOiBcImdcIjtcbmNvbnN0IFNwZWNpYWxzID0gLypAX19QVVJFX18qL25ldyBSZWdFeHAoXCJbXFx1MDAwMC1cXHUwMDA4XFx1MDAwYS1cXHUwMDFmXFx1MDA3Zi1cXHUwMDlmXFx1MDBhZFxcdTA2MWNcXHUyMDBiXFx1MjAwZVxcdTIwMGZcXHUyMDI4XFx1MjAyOVxcdTIwMmRcXHUyMDJlXFx1MjA2NlxcdTIwNjdcXHUyMDY5XFx1ZmVmZlxcdWZmZjktXFx1ZmZmY11cIiwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuY29uc3QgTmFtZXMgPSB7XG4gICAgMDogXCJudWxsXCIsXG4gICAgNzogXCJiZWxsXCIsXG4gICAgODogXCJiYWNrc3BhY2VcIixcbiAgICAxMDogXCJuZXdsaW5lXCIsXG4gICAgMTE6IFwidmVydGljYWwgdGFiXCIsXG4gICAgMTM6IFwiY2FycmlhZ2UgcmV0dXJuXCIsXG4gICAgMjc6IFwiZXNjYXBlXCIsXG4gICAgODIwMzogXCJ6ZXJvIHdpZHRoIHNwYWNlXCIsXG4gICAgODIwNDogXCJ6ZXJvIHdpZHRoIG5vbi1qb2luZXJcIixcbiAgICA4MjA1OiBcInplcm8gd2lkdGggam9pbmVyXCIsXG4gICAgODIwNjogXCJsZWZ0LXRvLXJpZ2h0IG1hcmtcIixcbiAgICA4MjA3OiBcInJpZ2h0LXRvLWxlZnQgbWFya1wiLFxuICAgIDgyMzI6IFwibGluZSBzZXBhcmF0b3JcIixcbiAgICA4MjM3OiBcImxlZnQtdG8tcmlnaHQgb3ZlcnJpZGVcIixcbiAgICA4MjM4OiBcInJpZ2h0LXRvLWxlZnQgb3ZlcnJpZGVcIixcbiAgICA4Mjk0OiBcImxlZnQtdG8tcmlnaHQgaXNvbGF0ZVwiLFxuICAgIDgyOTU6IFwicmlnaHQtdG8tbGVmdCBpc29sYXRlXCIsXG4gICAgODI5NzogXCJwb3AgZGlyZWN0aW9uYWwgaXNvbGF0ZVwiLFxuICAgIDgyMzM6IFwicGFyYWdyYXBoIHNlcGFyYXRvclwiLFxuICAgIDY1Mjc5OiBcInplcm8gd2lkdGggbm8tYnJlYWsgc3BhY2VcIixcbiAgICA2NTUzMjogXCJvYmplY3QgcmVwbGFjZW1lbnRcIlxufTtcbmxldCBfc3VwcG9ydHNUYWJTaXplID0gbnVsbDtcbmZ1bmN0aW9uIHN1cHBvcnRzVGFiU2l6ZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKF9zdXBwb3J0c1RhYlNpemUgPT0gbnVsbCAmJiB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCBzdHlsZXMgPSBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICBfc3VwcG9ydHNUYWJTaXplID0gKChfYSA9IHN0eWxlcy50YWJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBzdHlsZXMuTW96VGFiU2l6ZSkgIT0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIF9zdXBwb3J0c1RhYlNpemUgfHwgZmFsc2U7XG59XG5jb25zdCBzcGVjaWFsQ2hhckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICBsZXQgY29uZmlnID0gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICByZW5kZXI6IG51bGwsXG4gICAgICAgICAgICBzcGVjaWFsQ2hhcnM6IFNwZWNpYWxzLFxuICAgICAgICAgICAgYWRkU3BlY2lhbENoYXJzOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnJlcGxhY2VUYWJzID0gIXN1cHBvcnRzVGFiU2l6ZSgpKVxuICAgICAgICAgICAgY29uZmlnLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAoXCJcXHR8XCIgKyBjb25maWcuc3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICBpZiAoY29uZmlnLmFkZFNwZWNpYWxDaGFycylcbiAgICAgICAgICAgIGNvbmZpZy5zcGVjaWFsQ2hhcnMgPSBuZXcgUmVnRXhwKGNvbmZpZy5zcGVjaWFsQ2hhcnMuc291cmNlICsgXCJ8XCIgKyBjb25maWcuYWRkU3BlY2lhbENoYXJzLnNvdXJjZSwgVW5pY29kZVJlZ2V4cFN1cHBvcnQpO1xuICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGluc3RhbGxzIGhpZ2hsaWdodGluZyBvZiBzcGVjaWFsXG5jaGFyYWN0ZXJzLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodFNwZWNpYWxDaGFycyhcbi8qKlxuQ29uZmlndXJhdGlvbiBvcHRpb25zLlxuKi9cbmNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtzcGVjaWFsQ2hhckNvbmZpZy5vZihjb25maWcpLCBzcGVjaWFsQ2hhclBsdWdpbigpXTtcbn1cbmxldCBfcGx1Z2luID0gbnVsbDtcbmZ1bmN0aW9uIHNwZWNpYWxDaGFyUGx1Z2luKCkge1xuICAgIHJldHVybiBfcGx1Z2luIHx8IChfcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5kZWNvcmF0aW9ucyA9IERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbkNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKHZpZXcuc3RhdGUuZmFjZXQoc3BlY2lhbENoYXJDb25maWcpKTtcbiAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIG1ha2VEZWNvcmF0b3IoY29uZikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNYXRjaERlY29yYXRvcih7XG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjb25mLnNwZWNpYWxDaGFycyxcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiAobSwgdmlldywgcG9zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGRvYyB9ID0gdmlldy5zdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb2RlUG9pbnRBdChtWzBdLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmUgPSBkb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2l6ZSA9IHZpZXcuc3RhdGUudGFiU2l6ZSwgY29sID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBzaXplLCBwb3MgLSBsaW5lLmZyb20pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb24ucmVwbGFjZSh7IHdpZGdldDogbmV3IFRhYldpZGdldCgoc2l6ZSAtIChjb2wgJSBzaXplKSkgKiB0aGlzLnZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvcmF0aW9uQ2FjaGVbY29kZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmRlY29yYXRpb25DYWNoZVtjb2RlXSA9IERlY29yYXRpb24ucmVwbGFjZSh7IHdpZGdldDogbmV3IFNwZWNpYWxDaGFyV2lkZ2V0KGNvbmYsIGNvZGUpIH0pKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiBjb25mLnJlcGxhY2VUYWJzID8gdW5kZWZpbmVkIDogL1teXS9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGxldCBjb25mID0gdXBkYXRlLnN0YXRlLmZhY2V0KHNwZWNpYWxDaGFyQ29uZmlnKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChzcGVjaWFsQ2hhckNvbmZpZykgIT0gY29uZikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdG9yID0gdGhpcy5tYWtlRGVjb3JhdG9yKGNvbmYpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci5jcmVhdGVEZWNvKHVwZGF0ZS52aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmRlY29yYXRvci51cGRhdGVEZWNvKHVwZGF0ZSwgdGhpcy5kZWNvcmF0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnNcbiAgICB9KSk7XG59XG5jb25zdCBEZWZhdWx0UGxhY2Vob2xkZXIgPSBcIlxcdTIwMjJcIjtcbi8vIEFzc2lnbnMgcGxhY2Vob2xkZXIgY2hhcmFjdGVycyBmcm9tIHRoZSBDb250cm9sIFBpY3R1cmVzIGJsb2NrIHRvXG4vLyBBU0NJSSBjb250cm9sIGNoYXJhY3RlcnNcbmZ1bmN0aW9uIHBsYWNlaG9sZGVyJDEoY29kZSkge1xuICAgIGlmIChjb2RlID49IDMyKVxuICAgICAgICByZXR1cm4gRGVmYXVsdFBsYWNlaG9sZGVyO1xuICAgIGlmIChjb2RlID09IDEwKVxuICAgICAgICByZXR1cm4gXCJcXHUyNDI0XCI7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoOTIxNiArIGNvZGUpO1xufVxuY2xhc3MgU3BlY2lhbENoYXJXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjb2RlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiBvdGhlci5jb2RlID09IHRoaXMuY29kZTsgfVxuICAgIHRvRE9NKHZpZXcpIHtcbiAgICAgICAgbGV0IHBoID0gcGxhY2Vob2xkZXIkMSh0aGlzLmNvZGUpO1xuICAgICAgICBsZXQgZGVzYyA9IHZpZXcuc3RhdGUucGhyYXNlKFwiQ29udHJvbCBjaGFyYWN0ZXJcIikgKyBcIiBcIiArIChOYW1lc1t0aGlzLmNvZGVdIHx8IFwiMHhcIiArIHRoaXMuY29kZS50b1N0cmluZygxNikpO1xuICAgICAgICBsZXQgY3VzdG9tID0gdGhpcy5vcHRpb25zLnJlbmRlciAmJiB0aGlzLm9wdGlvbnMucmVuZGVyKHRoaXMuY29kZSwgZGVzYywgcGgpO1xuICAgICAgICBpZiAoY3VzdG9tKVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbTtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IHBoO1xuICAgICAgICBzcGFuLnRpdGxlID0gZGVzYztcbiAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGRlc2MpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tc3BlY2lhbENoYXJcIjtcbiAgICAgICAgcmV0dXJuIHNwYW47XG4gICAgfVxuICAgIGlnbm9yZUV2ZW50KCkgeyByZXR1cm4gZmFsc2U7IH1cbn1cbmNsYXNzIFRhYldpZGdldCBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB9XG4gICAgZXEob3RoZXIpIHsgcmV0dXJuIG90aGVyLndpZHRoID09IHRoaXMud2lkdGg7IH1cbiAgICB0b0RPTSgpIHtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IFwiXFx0XCI7XG4gICAgICAgIHNwYW4uY2xhc3NOYW1lID0gXCJjbS10YWJcIjtcbiAgICAgICAgc3Bhbi5zdHlsZS53aWR0aCA9IHRoaXMud2lkdGggKyBcInB4XCI7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG5cbmNvbnN0IHBsdWdpbiA9IC8qQF9fUFVSRV9fKi9WaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMTAwMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHsgc3R5bGU6IFwicGFkZGluZy1ib3R0b206IDEwMDBweFwiIH07XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHsgdmlldyB9ID0gdXBkYXRlO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdmlldy52aWV3U3RhdGUuZWRpdG9ySGVpZ2h0IC0gdmlldy5kZWZhdWx0TGluZUhlaWdodCAtIHZpZXcuZG9jdW1lbnRQYWRkaW5nLnRvcCAtIDAuNTtcbiAgICAgICAgaWYgKGhlaWdodCAhPSB0aGlzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmF0dHJzID0geyBzdHlsZTogYHBhZGRpbmctYm90dG9tOiAke2hlaWdodH1weGAgfTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IG1ha2VzIHN1cmUgdGhlIGNvbnRlbnQgaGFzIGEgYm90dG9tXG5tYXJnaW4gZXF1aXZhbGVudCB0byB0aGUgaGVpZ2h0IG9mIHRoZSBlZGl0b3IsIG1pbnVzIG9uZSBsaW5lXG5oZWlnaHQsIHNvIHRoYXQgZXZlcnkgbGluZSBpbiB0aGUgZG9jdW1lbnQgY2FuIGJlIHNjcm9sbGVkIHRvIHRoZVxudG9wIG9mIHRoZSBlZGl0b3IuXG5cblRoaXMgaXMgb25seSBtZWFuaW5nZnVsIHdoZW4gdGhlIGVkaXRvciBpcyBzY3JvbGxhYmxlLCBhbmQgc2hvdWxkXG5ub3QgYmUgZW5hYmxlZCBpbiBlZGl0b3JzIHRoYXQgdGFrZSB0aGUgc2l6ZSBvZiB0aGVpciBjb250ZW50LlxuKi9cbmZ1bmN0aW9uIHNjcm9sbFBhc3RFbmQoKSB7XG4gICAgcmV0dXJuIFtwbHVnaW4sIGNvbnRlbnRBdHRyaWJ1dGVzLm9mKHZpZXcgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGx1Z2luKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmF0dHJzKSB8fCBudWxsOyB9KV07XG59XG5cbi8qKlxuTWFyayBsaW5lcyB0aGF0IGhhdmUgYSBjdXJzb3Igb24gdGhlbSB3aXRoIHRoZSBgXCJjbS1hY3RpdmVMaW5lXCJgXG5ET00gY2xhc3MuXG4qL1xuZnVuY3Rpb24gaGlnaGxpZ2h0QWN0aXZlTGluZSgpIHtcbiAgICByZXR1cm4gYWN0aXZlTGluZUhpZ2hsaWdodGVyO1xufVxuY29uc3QgbGluZURlY28gPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5saW5lKHsgY2xhc3M6IFwiY20tYWN0aXZlTGluZVwiIH0pO1xuY29uc3QgYWN0aXZlTGluZUhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMuZGVjb3JhdGlvbnMgPSB0aGlzLmdldERlY28odmlldyk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgaWYgKHVwZGF0ZS5kb2NDaGFuZ2VkIHx8IHVwZGF0ZS5zZWxlY3Rpb25TZXQpXG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5nZXREZWNvKHVwZGF0ZS52aWV3KTtcbiAgICB9XG4gICAgZ2V0RGVjbyh2aWV3KSB7XG4gICAgICAgIGxldCBsYXN0TGluZVN0YXJ0ID0gLTEsIGRlY28gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiB2aWV3LnN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChyLmhlYWQpO1xuICAgICAgICAgICAgaWYgKGxpbmUuZnJvbSA+IGxhc3RMaW5lU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBkZWNvLnB1c2gobGluZURlY28ucmFuZ2UobGluZS5mcm9tKSk7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVTdGFydCA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoZGVjbyk7XG4gICAgfVxufSwge1xuICAgIGRlY29yYXRpb25zOiB2ID0+IHYuZGVjb3JhdGlvbnNcbn0pO1xuXG5jbGFzcyBQbGFjZWhvbGRlciBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcbiAgICB9XG4gICAgdG9ET00oKSB7XG4gICAgICAgIGxldCB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHdyYXAuY2xhc3NOYW1lID0gXCJjbS1wbGFjZWhvbGRlclwiO1xuICAgICAgICB3cmFwLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZCh0eXBlb2YgdGhpcy5jb250ZW50ID09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmNvbnRlbnQpIDogdGhpcy5jb250ZW50KTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHdyYXAuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcInBsYWNlaG9sZGVyIFwiICsgdGhpcy5jb250ZW50KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgd3JhcC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgIHJldHVybiB3cmFwO1xuICAgIH1cbiAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG4vKipcbkV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgYSBwbGFjZWhvbGRlclx1MjAxNGEgcGllY2Ugb2YgZXhhbXBsZSBjb250ZW50XG50byBzaG93IHdoZW4gdGhlIGVkaXRvciBpcyBlbXB0eS5cbiovXG5mdW5jdGlvbiBwbGFjZWhvbGRlcihjb250ZW50KSB7XG4gICAgcmV0dXJuIFZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICAgICAgY29uc3RydWN0b3Iodmlldykge1xuICAgICAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgICAgIHRoaXMucGxhY2Vob2xkZXIgPSBEZWNvcmF0aW9uLnNldChbRGVjb3JhdGlvbi53aWRnZXQoeyB3aWRnZXQ6IG5ldyBQbGFjZWhvbGRlcihjb250ZW50KSwgc2lkZTogMSB9KS5yYW5nZSgwKV0pO1xuICAgICAgICB9XG4gICAgICAgIGdldCBkZWNvcmF0aW9ucygpIHsgcmV0dXJuIHRoaXMudmlldy5zdGF0ZS5kb2MubGVuZ3RoID8gRGVjb3JhdGlvbi5ub25lIDogdGhpcy5wbGFjZWhvbGRlcjsgfVxuICAgIH0sIHsgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9ucyB9KTtcbn1cblxuLy8gRG9uJ3QgY29tcHV0ZSBwcmVjaXNlIGNvbHVtbiBwb3NpdGlvbnMgZm9yIGxpbmUgb2Zmc2V0cyBhYm92ZSB0aGlzXG4vLyAoc2luY2UgaXQgY291bGQgZ2V0IGV4cGVuc2l2ZSkuIEFzc3VtZSBvZmZzZXQ9PWNvbHVtbiBmb3IgdGhlbS5cbmNvbnN0IE1heE9mZiA9IDIwMDA7XG5mdW5jdGlvbiByZWN0YW5nbGVGb3Ioc3RhdGUsIGEsIGIpIHtcbiAgICBsZXQgc3RhcnRMaW5lID0gTWF0aC5taW4oYS5saW5lLCBiLmxpbmUpLCBlbmRMaW5lID0gTWF0aC5tYXgoYS5saW5lLCBiLmxpbmUpO1xuICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICBpZiAoYS5vZmYgPiBNYXhPZmYgfHwgYi5vZmYgPiBNYXhPZmYgfHwgYS5jb2wgPCAwIHx8IGIuY29sIDwgMCkge1xuICAgICAgICBsZXQgc3RhcnRPZmYgPSBNYXRoLm1pbihhLm9mZiwgYi5vZmYpLCBlbmRPZmYgPSBNYXRoLm1heChhLm9mZiwgYi5vZmYpO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRMaW5lOyBpIDw9IGVuZExpbmU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZShpKTtcbiAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA8PSBlbmRPZmYpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKGxpbmUuZnJvbSArIHN0YXJ0T2ZmLCBsaW5lLnRvICsgZW5kT2ZmKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBzdGFydENvbCA9IE1hdGgubWluKGEuY29sLCBiLmNvbCksIGVuZENvbCA9IE1hdGgubWF4KGEuY29sLCBiLmNvbCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmU7IGkgPD0gZW5kTGluZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lKGkpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gZmluZENvbHVtbihsaW5lLnRleHQsIHN0YXJ0Q29sLCBzdGF0ZS50YWJTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGxpbmUudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBlbmQgPSBmaW5kQ29sdW1uKGxpbmUudGV4dCwgZW5kQ29sLCBzdGF0ZS50YWJTaXplKTtcbiAgICAgICAgICAgICAgICByYW5nZXMucHVzaChFZGl0b3JTZWxlY3Rpb24ucmFuZ2UobGluZS5mcm9tICsgc3RhcnQsIGxpbmUuZnJvbSArIGVuZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59XG5mdW5jdGlvbiBhYnNvbHV0ZUNvbHVtbih2aWV3LCB4KSB7XG4gICAgbGV0IHJlZiA9IHZpZXcuY29vcmRzQXRQb3Modmlldy52aWV3cG9ydC5mcm9tKTtcbiAgICByZXR1cm4gcmVmID8gTWF0aC5yb3VuZChNYXRoLmFicygocmVmLmxlZnQgLSB4KSAvIHZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoKSkgOiAtMTtcbn1cbmZ1bmN0aW9uIGdldFBvcyh2aWV3LCBldmVudCkge1xuICAgIGxldCBvZmZzZXQgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9LCBmYWxzZSk7XG4gICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQob2Zmc2V0KSwgb2ZmID0gb2Zmc2V0IC0gbGluZS5mcm9tO1xuICAgIGxldCBjb2wgPSBvZmYgPiBNYXhPZmYgPyAtMVxuICAgICAgICA6IG9mZiA9PSBsaW5lLmxlbmd0aCA/IGFic29sdXRlQ29sdW1uKHZpZXcsIGV2ZW50LmNsaWVudFgpXG4gICAgICAgICAgICA6IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgdmlldy5zdGF0ZS50YWJTaXplLCBvZmZzZXQgLSBsaW5lLmZyb20pO1xuICAgIHJldHVybiB7IGxpbmU6IGxpbmUubnVtYmVyLCBjb2wsIG9mZiB9O1xufVxuZnVuY3Rpb24gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIHtcbiAgICBsZXQgc3RhcnQgPSBnZXRQb3ModmlldywgZXZlbnQpLCBzdGFydFNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmICghc3RhcnQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdTdGFydCA9IHVwZGF0ZS5jaGFuZ2VzLm1hcFBvcyh1cGRhdGUuc3RhcnRTdGF0ZS5kb2MubGluZShzdGFydC5saW5lKS5mcm9tKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3TGluZSA9IHVwZGF0ZS5zdGF0ZS5kb2MubGluZUF0KG5ld1N0YXJ0KTtcbiAgICAgICAgICAgICAgICBzdGFydCA9IHsgbGluZTogbmV3TGluZS5udW1iZXIsIGNvbDogc3RhcnQuY29sLCBvZmY6IE1hdGgubWluKHN0YXJ0Lm9mZiwgbmV3TGluZS5sZW5ndGgpIH07XG4gICAgICAgICAgICAgICAgc3RhcnRTZWwgPSBzdGFydFNlbC5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXQoZXZlbnQsIF9leHRlbmQsIG11bHRpcGxlKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gZ2V0UG9zKHZpZXcsIGV2ZW50KTtcbiAgICAgICAgICAgIGlmICghY3VyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFydFNlbDtcbiAgICAgICAgICAgIGxldCByYW5nZXMgPSByZWN0YW5nbGVGb3Iodmlldy5zdGF0ZSwgc3RhcnQsIGN1cik7XG4gICAgICAgICAgICBpZiAoIXJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0U2VsO1xuICAgICAgICAgICAgaWYgKG11bHRpcGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcy5jb25jYXQoc3RhcnRTZWwucmFuZ2VzKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzKTtcbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbkNyZWF0ZSBhbiBleHRlbnNpb24gdGhhdCBlbmFibGVzIHJlY3Rhbmd1bGFyIHNlbGVjdGlvbnMuIEJ5XG5kZWZhdWx0LCBpdCB3aWxsIHJlYWN0IHRvIGxlZnQgbW91c2UgZHJhZyB3aXRoIHRoZSBBbHQga2V5IGhlbGRcbmRvd24uIFdoZW4gc3VjaCBhIHNlbGVjdGlvbiBvY2N1cnMsIHRoZSB0ZXh0IHdpdGhpbiB0aGUgcmVjdGFuZ2xlXG50aGF0IHdhcyBkcmFnZ2VkIG92ZXIgd2lsbCBiZSBzZWxlY3RlZCwgYXMgb25lIHNlbGVjdGlvblxuW3JhbmdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLlNlbGVjdGlvblJhbmdlKSBwZXIgbGluZS5cbiovXG5mdW5jdGlvbiByZWN0YW5ndWxhclNlbGVjdGlvbihvcHRpb25zKSB7XG4gICAgbGV0IGZpbHRlciA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuZXZlbnRGaWx0ZXIpIHx8IChlID0+IGUuYWx0S2V5ICYmIGUuYnV0dG9uID09IDApO1xuICAgIHJldHVybiBFZGl0b3JWaWV3Lm1vdXNlU2VsZWN0aW9uU3R5bGUub2YoKHZpZXcsIGV2ZW50KSA9PiBmaWx0ZXIoZXZlbnQpID8gcmVjdGFuZ2xlU2VsZWN0aW9uU3R5bGUodmlldywgZXZlbnQpIDogbnVsbCk7XG59XG5jb25zdCBrZXlzID0ge1xuICAgIEFsdDogWzE4LCBlID0+IGUuYWx0S2V5XSxcbiAgICBDb250cm9sOiBbMTcsIGUgPT4gZS5jdHJsS2V5XSxcbiAgICBTaGlmdDogWzE2LCBlID0+IGUuc2hpZnRLZXldLFxuICAgIE1ldGE6IFs5MSwgZSA9PiBlLm1ldGFLZXldXG59O1xuY29uc3Qgc2hvd0Nyb3NzaGFpciA9IHsgc3R5bGU6IFwiY3Vyc29yOiBjcm9zc2hhaXJcIiB9O1xuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IHR1cm5zIHRoZSBwb2ludGVyIGN1cnNvciBpbnRvIGFcbmNyb3NzaGFpciB3aGVuIGEgZ2l2ZW4gbW9kaWZpZXIga2V5LCBkZWZhdWx0aW5nIHRvIEFsdCwgaXMgaGVsZFxuZG93bi4gQ2FuIHNlcnZlIGFzIGEgdmlzdWFsIGhpbnQgdGhhdCByZWN0YW5ndWxhciBzZWxlY3Rpb24gaXNcbmdvaW5nIHRvIGhhcHBlbiB3aGVuIHBhaXJlZCB3aXRoXG5bYHJlY3Rhbmd1bGFyU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LnJlY3Rhbmd1bGFyU2VsZWN0aW9uKS5cbiovXG5mdW5jdGlvbiBjcm9zc2hhaXJDdXJzb3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IFtjb2RlLCBnZXR0ZXJdID0ga2V5c1tvcHRpb25zLmtleSB8fCBcIkFsdFwiXTtcbiAgICBsZXQgcGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQoaXNEb3duKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0Rvd24gIT0gaXNEb3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rvd24gPSBpc0Rvd247XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZShbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICAgIGtleWRvd24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGUua2V5Q29kZSA9PSBjb2RlIHx8IGdldHRlcihlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5dXAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gY29kZSB8fCAhZ2V0dGVyKGUpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbW91c2Vtb3ZlKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChnZXR0ZXIoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgcGx1Z2luLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLm9mKHZpZXcgPT4geyB2YXIgX2E7IHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGx1Z2luKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRG93bikgPyBzaG93Q3Jvc3NoYWlyIDogbnVsbDsgfSlcbiAgICBdO1xufVxuXG5jb25zdCBPdXRzaWRlID0gXCItMTAwMDBweFwiO1xuY2xhc3MgVG9vbHRpcFZpZXdNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBmYWNldCwgY3JlYXRlVG9vbHRpcFZpZXcpIHtcbiAgICAgICAgdGhpcy5mYWNldCA9IGZhY2V0O1xuICAgICAgICB0aGlzLmNyZWF0ZVRvb2x0aXBWaWV3ID0gY3JlYXRlVG9vbHRpcFZpZXc7XG4gICAgICAgIHRoaXMuaW5wdXQgPSB2aWV3LnN0YXRlLmZhY2V0KGZhY2V0KTtcbiAgICAgICAgdGhpcy50b29sdGlwcyA9IHRoaXMuaW5wdXQuZmlsdGVyKHQgPT4gdCk7XG4gICAgICAgIHRoaXMudG9vbHRpcFZpZXdzID0gdGhpcy50b29sdGlwcy5tYXAoY3JlYXRlVG9vbHRpcFZpZXcpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGlucHV0ID0gdXBkYXRlLnN0YXRlLmZhY2V0KHRoaXMuZmFjZXQpO1xuICAgICAgICBsZXQgdG9vbHRpcHMgPSBpbnB1dC5maWx0ZXIoeCA9PiB4KTtcbiAgICAgICAgaWYgKGlucHV0ID09PSB0aGlzLmlucHV0KSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHRoaXMudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIGlmICh0LnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdG9vbHRpcFZpZXdzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbHRpcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0aXAgPSB0b29sdGlwc1tpXSwga25vd24gPSAtMTtcbiAgICAgICAgICAgIGlmICghdGlwKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRvb2x0aXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG90aGVyID0gdGhpcy50b29sdGlwc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIgJiYgb3RoZXIuY3JlYXRlID09IHRpcC5jcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIGtub3duID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrbm93biA8IDApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwVmlld3NbaV0gPSB0aGlzLmNyZWF0ZVRvb2x0aXBWaWV3KHRpcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcFZpZXcgPSB0b29sdGlwVmlld3NbaV0gPSB0aGlzLnRvb2x0aXBWaWV3c1trbm93bl07XG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBWaWV3LnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFZpZXcudXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRvb2x0aXBWaWV3cylcbiAgICAgICAgICAgIGlmICh0b29sdGlwVmlld3MuaW5kZXhPZih0KSA8IDApIHtcbiAgICAgICAgICAgICAgICB0LmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0LmRlc3Ryb3kpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMudG9vbHRpcHMgPSB0b29sdGlwcztcbiAgICAgICAgdGhpcy50b29sdGlwVmlld3MgPSB0b29sdGlwVmlld3M7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlcyBhbiBleHRlbnNpb24gdGhhdCBjb25maWd1cmVzIHRvb2x0aXAgYmVoYXZpb3IuXG4qL1xuZnVuY3Rpb24gdG9vbHRpcHMoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gdG9vbHRpcENvbmZpZy5vZihjb25maWcpO1xufVxuZnVuY3Rpb24gd2luZG93U3BhY2Uodmlldykge1xuICAgIGxldCB7IHdpbiB9ID0gdmlldztcbiAgICByZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogd2luLmlubmVySGVpZ2h0LCByaWdodDogd2luLmlubmVyV2lkdGggfTtcbn1cbmNvbnN0IHRvb2x0aXBDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lOiB2YWx1ZXMgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICBwb3NpdGlvbjogYnJvd3Nlci5pb3MgPyBcImFic29sdXRlXCIgOiAoKF9hID0gdmFsdWVzLmZpbmQoY29uZiA9PiBjb25mLnBvc2l0aW9uKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBvc2l0aW9uKSB8fCBcImZpeGVkXCIsXG4gICAgICAgICAgICBwYXJlbnQ6ICgoX2IgPSB2YWx1ZXMuZmluZChjb25mID0+IGNvbmYucGFyZW50KSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhcmVudCkgfHwgbnVsbCxcbiAgICAgICAgICAgIHRvb2x0aXBTcGFjZTogKChfYyA9IHZhbHVlcy5maW5kKGNvbmYgPT4gY29uZi50b29sdGlwU3BhY2UpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9vbHRpcFNwYWNlKSB8fCB3aW5kb3dTcGFjZSxcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5jb25zdCB0b29sdGlwUGx1Z2luID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuaW5WaWV3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb24gPSAwO1xuICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KHRvb2x0aXBDb25maWcpO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gY29uZmlnLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnBhcmVudCA9IGNvbmZpZy5wYXJlbnQ7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IHZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLm1lYXN1cmVSZXEgPSB7IHJlYWQ6IHRoaXMucmVhZE1lYXN1cmUuYmluZCh0aGlzKSwgd3JpdGU6IHRoaXMud3JpdGVNZWFzdXJlLmJpbmQodGhpcyksIGtleTogdGhpcyB9O1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgVG9vbHRpcFZpZXdNYW5hZ2VyKHZpZXcsIHNob3dUb29sdGlwLCB0ID0+IHRoaXMuY3JlYXRlVG9vbHRpcCh0KSk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT0gXCJmdW5jdGlvblwiID8gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGVudHJpZXMgPT4ge1xuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPiB0aGlzLmxhc3RUcmFuc2FjdGlvbiAtIDUwICYmXG4gICAgICAgICAgICAgICAgZW50cmllcy5sZW5ndGggPiAwICYmIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXS5pbnRlcnNlY3Rpb25SYXRpbyA8IDEpXG4gICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlU29vbigpO1xuICAgICAgICB9LCB7IHRocmVzaG9sZDogWzFdIH0pIDogbnVsbDtcbiAgICAgICAgdGhpcy5vYnNlcnZlSW50ZXJzZWN0aW9uKCk7XG4gICAgICAgIHZpZXcud2luLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbiA9IHRoaXMubWVhc3VyZVNvb24uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMubWF5YmVNZWFzdXJlKCk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IHRoaXMudmlldy50aGVtZUNsYXNzZXM7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMudmlldy5kb207XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JzZXJ2ZUludGVyc2VjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgdG9vbHRpcCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwLmRvbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWVhc3VyZVNvb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm1lYXN1cmVUaW1lb3V0IDwgMClcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVUaW1lb3V0ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICAgICAgICAgIH0sIDUwKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBpZiAodXBkYXRlLnRyYW5zYWN0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbiA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCB1cGRhdGVkID0gdGhpcy5tYW5hZ2VyLnVwZGF0ZSh1cGRhdGUpO1xuICAgICAgICBpZiAodXBkYXRlZClcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZUludGVyc2VjdGlvbigpO1xuICAgICAgICBsZXQgc2hvdWxkTWVhc3VyZSA9IHVwZGF0ZWQgfHwgdXBkYXRlLmdlb21ldHJ5Q2hhbmdlZDtcbiAgICAgICAgbGV0IG5ld0NvbmZpZyA9IHVwZGF0ZS5zdGF0ZS5mYWNldCh0b29sdGlwQ29uZmlnKTtcbiAgICAgICAgaWYgKG5ld0NvbmZpZy5wb3NpdGlvbiAhPSB0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3Q29uZmlnLnBvc2l0aW9uO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHQuZG9tLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgICAgIHNob3VsZE1lYXN1cmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdDb25maWcucGFyZW50ICE9IHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnBhcmVudCA9IG5ld0NvbmZpZy5wYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHQuZG9tKTtcbiAgICAgICAgICAgIHNob3VsZE1lYXN1cmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMudmlldy50aGVtZUNsYXNzZXMgIT0gdGhpcy5jbGFzc2VzKSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXMgPSB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRNZWFzdXJlKVxuICAgICAgICAgICAgdGhpcy5tYXliZU1lYXN1cmUoKTtcbiAgICB9XG4gICAgY3JlYXRlVG9vbHRpcCh0b29sdGlwKSB7XG4gICAgICAgIGxldCB0b29sdGlwVmlldyA9IHRvb2x0aXAuY3JlYXRlKHRoaXMudmlldyk7XG4gICAgICAgIHRvb2x0aXBWaWV3LmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tdG9vbHRpcFwiKTtcbiAgICAgICAgaWYgKHRvb2x0aXAuYXJyb3cgJiYgIXRvb2x0aXBWaWV3LmRvbS5xdWVyeVNlbGVjdG9yKFwiLmNtLXRvb2x0aXAgPiAuY20tdG9vbHRpcC1hcnJvd1wiKSkge1xuICAgICAgICAgICAgbGV0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGFycm93LmNsYXNzTmFtZSA9IFwiY20tdG9vbHRpcC1hcnJvd1wiO1xuICAgICAgICAgICAgdG9vbHRpcFZpZXcuZG9tLmFwcGVuZENoaWxkKGFycm93KTtcbiAgICAgICAgfVxuICAgICAgICB0b29sdGlwVmlldy5kb20uc3R5bGUucG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0b29sdGlwVmlldy5kb20uc3R5bGUudG9wID0gT3V0c2lkZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodG9vbHRpcFZpZXcuZG9tKTtcbiAgICAgICAgaWYgKHRvb2x0aXBWaWV3Lm1vdW50KVxuICAgICAgICAgICAgdG9vbHRpcFZpZXcubW91bnQodGhpcy52aWV3KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBWaWV3O1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLnZpZXcud2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5tZWFzdXJlU29vbik7XG4gICAgICAgIGZvciAobGV0IHRvb2x0aXBWaWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIHRvb2x0aXBWaWV3LmRvbS5yZW1vdmUoKTtcbiAgICAgICAgICAgIChfYSA9IHRvb2x0aXBWaWV3LmRlc3Ryb3kpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRvb2x0aXBWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICAoX2IgPSB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlzY29ubmVjdCgpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5tZWFzdXJlVGltZW91dCk7XG4gICAgfVxuICAgIHJlYWRNZWFzdXJlKCkge1xuICAgICAgICBsZXQgZWRpdG9yID0gdGhpcy52aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgIHBhcmVudDogdGhpcy5wYXJlbnQgPyB0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGVkaXRvcixcbiAgICAgICAgICAgIHBvczogdGhpcy5tYW5hZ2VyLnRvb2x0aXBzLm1hcCgodCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0diA9IHRoaXMubWFuYWdlci50b29sdGlwVmlld3NbaV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR2LmdldENvb3JkcyA/IHR2LmdldENvb3Jkcyh0LnBvcykgOiB0aGlzLnZpZXcuY29vcmRzQXRQb3ModC5wb3MpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzaXplOiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzLm1hcCgoeyBkb20gfSkgPT4gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxcbiAgICAgICAgICAgIHNwYWNlOiB0aGlzLnZpZXcuc3RhdGUuZmFjZXQodG9vbHRpcENvbmZpZykudG9vbHRpcFNwYWNlKHRoaXMudmlldyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHdyaXRlTWVhc3VyZShtZWFzdXJlZCkge1xuICAgICAgICBsZXQgeyBlZGl0b3IsIHNwYWNlIH0gPSBtZWFzdXJlZDtcbiAgICAgICAgbGV0IG90aGVycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFuYWdlci50b29sdGlwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSB0aGlzLm1hbmFnZXIudG9vbHRpcHNbaV0sIHRWaWV3ID0gdGhpcy5tYW5hZ2VyLnRvb2x0aXBWaWV3c1tpXSwgeyBkb20gfSA9IHRWaWV3O1xuICAgICAgICAgICAgbGV0IHBvcyA9IG1lYXN1cmVkLnBvc1tpXSwgc2l6ZSA9IG1lYXN1cmVkLnNpemVbaV07XG4gICAgICAgICAgICAvLyBIaWRlIHRvb2x0aXBzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIGVkaXRvci5cbiAgICAgICAgICAgIGlmICghcG9zIHx8IHBvcy5ib3R0b20gPD0gTWF0aC5tYXgoZWRpdG9yLnRvcCwgc3BhY2UudG9wKSB8fFxuICAgICAgICAgICAgICAgIHBvcy50b3AgPj0gTWF0aC5taW4oZWRpdG9yLmJvdHRvbSwgc3BhY2UuYm90dG9tKSB8fFxuICAgICAgICAgICAgICAgIHBvcy5yaWdodCA8IE1hdGgubWF4KGVkaXRvci5sZWZ0LCBzcGFjZS5sZWZ0KSAtIC4xIHx8XG4gICAgICAgICAgICAgICAgcG9zLmxlZnQgPiBNYXRoLm1pbihlZGl0b3IucmlnaHQsIHNwYWNlLnJpZ2h0KSArIC4xKSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYXJyb3cgPSB0b29sdGlwLmFycm93ID8gdFZpZXcuZG9tLnF1ZXJ5U2VsZWN0b3IoXCIuY20tdG9vbHRpcC1hcnJvd1wiKSA6IG51bGw7XG4gICAgICAgICAgICBsZXQgYXJyb3dIZWlnaHQgPSBhcnJvdyA/IDcgLyogQXJyb3cuU2l6ZSAqLyA6IDA7XG4gICAgICAgICAgICBsZXQgd2lkdGggPSBzaXplLnJpZ2h0IC0gc2l6ZS5sZWZ0LCBoZWlnaHQgPSBzaXplLmJvdHRvbSAtIHNpemUudG9wO1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHRWaWV3Lm9mZnNldCB8fCBub09mZnNldCwgbHRyID0gdGhpcy52aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUjtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gc2l6ZS53aWR0aCA+IHNwYWNlLnJpZ2h0IC0gc3BhY2UubGVmdCA/IChsdHIgPyBzcGFjZS5sZWZ0IDogc3BhY2UucmlnaHQgLSBzaXplLndpZHRoKVxuICAgICAgICAgICAgICAgIDogbHRyID8gTWF0aC5taW4ocG9zLmxlZnQgLSAoYXJyb3cgPyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gOiAwKSArIG9mZnNldC54LCBzcGFjZS5yaWdodCAtIHdpZHRoKVxuICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWF4KHNwYWNlLmxlZnQsIHBvcy5sZWZ0IC0gd2lkdGggKyAoYXJyb3cgPyAxNCAvKiBBcnJvdy5PZmZzZXQgKi8gOiAwKSAtIG9mZnNldC54KTtcbiAgICAgICAgICAgIGxldCBhYm92ZSA9ICEhdG9vbHRpcC5hYm92ZTtcbiAgICAgICAgICAgIGlmICghdG9vbHRpcC5zdHJpY3RTaWRlICYmIChhYm92ZVxuICAgICAgICAgICAgICAgID8gcG9zLnRvcCAtIChzaXplLmJvdHRvbSAtIHNpemUudG9wKSAtIG9mZnNldC55IDwgc3BhY2UudG9wXG4gICAgICAgICAgICAgICAgOiBwb3MuYm90dG9tICsgKHNpemUuYm90dG9tIC0gc2l6ZS50b3ApICsgb2Zmc2V0LnkgPiBzcGFjZS5ib3R0b20pICYmXG4gICAgICAgICAgICAgICAgYWJvdmUgPT0gKHNwYWNlLmJvdHRvbSAtIHBvcy5ib3R0b20gPiBwb3MudG9wIC0gc3BhY2UudG9wKSlcbiAgICAgICAgICAgICAgICBhYm92ZSA9ICFhYm92ZTtcbiAgICAgICAgICAgIGxldCB0b3AgPSBhYm92ZSA/IHBvcy50b3AgLSBoZWlnaHQgLSBhcnJvd0hlaWdodCAtIG9mZnNldC55IDogcG9zLmJvdHRvbSArIGFycm93SGVpZ2h0ICsgb2Zmc2V0Lnk7XG4gICAgICAgICAgICBsZXQgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG4gICAgICAgICAgICBpZiAodFZpZXcub3ZlcmxhcCAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICBmb3IgKGxldCByIG9mIG90aGVycylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIubGVmdCA8IHJpZ2h0ICYmIHIucmlnaHQgPiBsZWZ0ICYmIHIudG9wIDwgdG9wICsgaGVpZ2h0ICYmIHIuYm90dG9tID4gdG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gYWJvdmUgPyByLnRvcCAtIGhlaWdodCAtIDIgLSBhcnJvd0hlaWdodCA6IHIuYm90dG9tICsgYXJyb3dIZWlnaHQgKyAyO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gXCJhYnNvbHV0ZVwiKSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9ICh0b3AgLSBtZWFzdXJlZC5wYXJlbnQudG9wKSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUubGVmdCA9IChsZWZ0IC0gbWVhc3VyZWQucGFyZW50LmxlZnQpICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9tLnN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkb20uc3R5bGUubGVmdCA9IGxlZnQgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJyb3cpXG4gICAgICAgICAgICAgICAgYXJyb3cuc3R5bGUubGVmdCA9IGAke3Bvcy5sZWZ0ICsgKGx0ciA/IG9mZnNldC54IDogLW9mZnNldC54KSAtIChsZWZ0ICsgMTQgLyogQXJyb3cuT2Zmc2V0ICovIC0gNyAvKiBBcnJvdy5TaXplICovKX1weGA7XG4gICAgICAgICAgICBpZiAodFZpZXcub3ZlcmxhcCAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICBvdGhlcnMucHVzaCh7IGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbTogdG9wICsgaGVpZ2h0IH0pO1xuICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC50b2dnbGUoXCJjbS10b29sdGlwLWFib3ZlXCIsIGFib3ZlKTtcbiAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1iZWxvd1wiLCAhYWJvdmUpO1xuICAgICAgICAgICAgaWYgKHRWaWV3LnBvc2l0aW9uZWQpXG4gICAgICAgICAgICAgICAgdFZpZXcucG9zaXRpb25lZChtZWFzdXJlZC5zcGFjZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVNZWFzdXJlKCkge1xuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnRvb2x0aXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlldy5pblZpZXcpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMubWVhc3VyZVJlcSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pblZpZXcgIT0gdGhpcy52aWV3LmluVmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5WaWV3ID0gdGhpcy52aWV3LmluVmlldztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5WaWV3KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0diBvZiB0aGlzLm1hbmFnZXIudG9vbHRpcFZpZXdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHYuZG9tLnN0eWxlLnRvcCA9IE91dHNpZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59LCB7XG4gICAgZXZlbnRIYW5kbGVyczoge1xuICAgICAgICBzY3JvbGwoKSB7IHRoaXMubWF5YmVNZWFzdXJlKCk7IH1cbiAgICB9XG59KTtcbmNvbnN0IGJhc2VUaGVtZSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tdG9vbHRpcFwiOiB7XG4gICAgICAgIHpJbmRleDogMTAwXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tdG9vbHRpcFwiOiB7XG4gICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgI2JiYlwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y1ZjVmNVwiXG4gICAgfSxcbiAgICBcIiZsaWdodCAuY20tdG9vbHRpcC1zZWN0aW9uOm5vdCg6Zmlyc3QtY2hpbGQpXCI6IHtcbiAgICAgICAgYm9yZGVyVG9wOiBcIjFweCBzb2xpZCAjYmJiXCIsXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzMzMzhcIixcbiAgICAgICAgY29sb3I6IFwid2hpdGVcIlxuICAgIH0sXG4gICAgXCIuY20tdG9vbHRpcC1hcnJvd1wiOiB7XG4gICAgICAgIGhlaWdodDogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4YCxcbiAgICAgICAgd2lkdGg6IGAkezcgLyogQXJyb3cuU2l6ZSAqLyAqIDJ9cHhgLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICB6SW5kZXg6IC0xLFxuICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgXCImOmJlZm9yZSwgJjphZnRlclwiOiB7XG4gICAgICAgICAgICBjb250ZW50OiBcIicnXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBib3JkZXJMZWZ0OiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgdHJhbnNwYXJlbnRgLFxuICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICAgIH0sXG4gICAgICAgIFwiLmNtLXRvb2x0aXAtYWJvdmUgJlwiOiB7XG4gICAgICAgICAgICBib3R0b206IGAtJHs3IC8qIEFycm93LlNpemUgKi99cHhgLFxuICAgICAgICAgICAgXCImOmJlZm9yZVwiOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyVG9wOiBgJHs3IC8qIEFycm93LlNpemUgKi99cHggc29saWQgI2JiYmAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCImOmFmdGVyXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjZjVmNWY1YCxcbiAgICAgICAgICAgICAgICBib3R0b206IFwiMXB4XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCIuY20tdG9vbHRpcC1iZWxvdyAmXCI6IHtcbiAgICAgICAgICAgIHRvcDogYC0kezcgLyogQXJyb3cuU2l6ZSAqL31weGAsXG4gICAgICAgICAgICBcIiY6YmVmb3JlXCI6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IGAkezcgLyogQXJyb3cuU2l6ZSAqL31weCBzb2xpZCAjYmJiYCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIiY6YWZ0ZXJcIjoge1xuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogYCR7NyAvKiBBcnJvdy5TaXplICovfXB4IHNvbGlkICNmNWY1ZjVgLFxuICAgICAgICAgICAgICAgIHRvcDogXCIxcHhcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdG9vbHRpcCAuY20tdG9vbHRpcC1hcnJvd1wiOiB7XG4gICAgICAgIFwiJjpiZWZvcmVcIjoge1xuICAgICAgICAgICAgYm9yZGVyVG9wQ29sb3I6IFwiIzMzMzMzOFwiLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6IFwiIzMzMzMzOFwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJjphZnRlclwiOiB7XG4gICAgICAgICAgICBib3JkZXJUb3BDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICB9XG4gICAgfVxufSk7XG5jb25zdCBub09mZnNldCA9IHsgeDogMCwgeTogMCB9O1xuLyoqXG5GYWNldCB0byB3aGljaCBhbiBleHRlbnNpb24gY2FuIGFkZCBhIHZhbHVlIHRvIHNob3cgYSB0b29sdGlwLlxuKi9cbmNvbnN0IHNob3dUb29sdGlwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgZW5hYmxlczogW3Rvb2x0aXBQbHVnaW4sIGJhc2VUaGVtZV1cbn0pO1xuY29uc3Qgc2hvd0hvdmVyVG9vbHRpcCA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbmNsYXNzIEhvdmVyVG9vbHRpcEhvc3Qge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NMaXN0LmFkZChcImNtLXRvb2x0aXAtaG92ZXJcIik7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG5ldyBUb29sdGlwVmlld01hbmFnZXIodmlldywgc2hvd0hvdmVyVG9vbHRpcCwgdCA9PiB0aGlzLmNyZWF0ZUhvc3RlZFZpZXcodCkpO1xuICAgIH1cbiAgICAvLyBOZWVkcyB0byBiZSBzdGF0aWMgc28gdGhhdCBob3N0IHRvb2x0aXAgaW5zdGFuY2VzIGFsd2F5cyBtYXRjaFxuICAgIHN0YXRpYyBjcmVhdGUodmlldykge1xuICAgICAgICByZXR1cm4gbmV3IEhvdmVyVG9vbHRpcEhvc3Qodmlldyk7XG4gICAgfVxuICAgIGNyZWF0ZUhvc3RlZFZpZXcodG9vbHRpcCkge1xuICAgICAgICBsZXQgaG9zdGVkVmlldyA9IHRvb2x0aXAuY3JlYXRlKHRoaXMudmlldyk7XG4gICAgICAgIGhvc3RlZFZpZXcuZG9tLmNsYXNzTGlzdC5hZGQoXCJjbS10b29sdGlwLXNlY3Rpb25cIik7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGhvc3RlZFZpZXcuZG9tKTtcbiAgICAgICAgaWYgKHRoaXMubW91bnRlZCAmJiBob3N0ZWRWaWV3Lm1vdW50KVxuICAgICAgICAgICAgaG9zdGVkVmlldy5tb3VudCh0aGlzLnZpZXcpO1xuICAgICAgICByZXR1cm4gaG9zdGVkVmlldztcbiAgICB9XG4gICAgbW91bnQodmlldykge1xuICAgICAgICBmb3IgKGxldCBob3N0ZWRWaWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIGlmIChob3N0ZWRWaWV3Lm1vdW50KVxuICAgICAgICAgICAgICAgIGhvc3RlZFZpZXcubW91bnQodmlldyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcG9zaXRpb25lZChzcGFjZSkge1xuICAgICAgICBmb3IgKGxldCBob3N0ZWRWaWV3IG9mIHRoaXMubWFuYWdlci50b29sdGlwVmlld3MpIHtcbiAgICAgICAgICAgIGlmIChob3N0ZWRWaWV3LnBvc2l0aW9uZWQpXG4gICAgICAgICAgICAgICAgaG9zdGVkVmlldy5wb3NpdGlvbmVkKHNwYWNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHRoaXMubWFuYWdlci51cGRhdGUodXBkYXRlKTtcbiAgICB9XG59XG5jb25zdCBzaG93SG92ZXJUb29sdGlwSG9zdCA9IC8qQF9fUFVSRV9fKi9zaG93VG9vbHRpcC5jb21wdXRlKFtzaG93SG92ZXJUb29sdGlwXSwgc3RhdGUgPT4ge1xuICAgIGxldCB0b29sdGlwcyA9IHN0YXRlLmZhY2V0KHNob3dIb3ZlclRvb2x0aXApLmZpbHRlcih0ID0+IHQpO1xuICAgIGlmICh0b29sdGlwcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvczogTWF0aC5taW4oLi4udG9vbHRpcHMubWFwKHQgPT4gdC5wb3MpKSxcbiAgICAgICAgZW5kOiBNYXRoLm1heCguLi50b29sdGlwcy5maWx0ZXIodCA9PiB0LmVuZCAhPSBudWxsKS5tYXAodCA9PiB0LmVuZCkpLFxuICAgICAgICBjcmVhdGU6IEhvdmVyVG9vbHRpcEhvc3QuY3JlYXRlLFxuICAgICAgICBhYm92ZTogdG9vbHRpcHNbMF0uYWJvdmUsXG4gICAgICAgIGFycm93OiB0b29sdGlwcy5zb21lKHQgPT4gdC5hcnJvdyksXG4gICAgfTtcbn0pO1xuY2xhc3MgSG92ZXJQbHVnaW4ge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHNvdXJjZSwgZmllbGQsIHNldEhvdmVyLCBob3ZlclRpbWUpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5zZXRIb3ZlciA9IHNldEhvdmVyO1xuICAgICAgICB0aGlzLmhvdmVyVGltZSA9IGhvdmVyVGltZTtcbiAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0VGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlID0geyB4OiAwLCB5OiAwLCB0YXJnZXQ6IHZpZXcuZG9tLCB0aW1lOiAwIH07XG4gICAgICAgIHRoaXMuY2hlY2tIb3ZlciA9IHRoaXMuY2hlY2tIb3Zlci5iaW5kKHRoaXMpO1xuICAgICAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCB0aGlzLm1vdXNlbGVhdmUgPSB0aGlzLm1vdXNlbGVhdmUuYmluZCh0aGlzKSk7XG4gICAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZW1vdmUgPSB0aGlzLm1vdXNlbW92ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzdGFydFRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zdGFydEhvdmVyKCksIDIwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LnN0YXRlLmZpZWxkKHRoaXMuZmllbGQpO1xuICAgIH1cbiAgICBjaGVja0hvdmVyKCkge1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBob3ZlcmVkID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmUudGltZTtcbiAgICAgICAgaWYgKGhvdmVyZWQgPCB0aGlzLmhvdmVyVGltZSlcbiAgICAgICAgICAgIHRoaXMuaG92ZXJUaW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLmNoZWNrSG92ZXIsIHRoaXMuaG92ZXJUaW1lIC0gaG92ZXJlZCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIb3ZlcigpO1xuICAgIH1cbiAgICBzdGFydEhvdmVyKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5yZXN0YXJ0VGltZW91dCk7XG4gICAgICAgIGxldCB7IGxhc3RNb3ZlIH0gPSB0aGlzO1xuICAgICAgICBsZXQgcG9zID0gdGhpcy52aWV3LmNvbnRlbnRET00uY29udGFpbnMobGFzdE1vdmUudGFyZ2V0KSA/IHRoaXMudmlldy5wb3NBdENvb3JkcyhsYXN0TW92ZSkgOiBudWxsO1xuICAgICAgICBpZiAocG9zID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBwb3NDb29yZHMgPSB0aGlzLnZpZXcuY29vcmRzQXRQb3MocG9zKTtcbiAgICAgICAgaWYgKHBvc0Nvb3JkcyA9PSBudWxsIHx8IGxhc3RNb3ZlLnkgPCBwb3NDb29yZHMudG9wIHx8IGxhc3RNb3ZlLnkgPiBwb3NDb29yZHMuYm90dG9tIHx8XG4gICAgICAgICAgICBsYXN0TW92ZS54IDwgcG9zQ29vcmRzLmxlZnQgLSB0aGlzLnZpZXcuZGVmYXVsdENoYXJhY3RlcldpZHRoIHx8XG4gICAgICAgICAgICBsYXN0TW92ZS54ID4gcG9zQ29vcmRzLnJpZ2h0ICsgdGhpcy52aWV3LmRlZmF1bHRDaGFyYWN0ZXJXaWR0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGJpZGkgPSB0aGlzLnZpZXcuYmlkaVNwYW5zKHRoaXMudmlldy5zdGF0ZS5kb2MubGluZUF0KHBvcykpLmZpbmQocyA9PiBzLmZyb20gPD0gcG9zICYmIHMudG8gPj0gcG9zKTtcbiAgICAgICAgbGV0IHJ0bCA9IGJpZGkgJiYgYmlkaS5kaXIgPT0gRGlyZWN0aW9uLlJUTCA/IC0xIDogMTtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLnNvdXJjZSh0aGlzLnZpZXcsIHBvcywgKGxhc3RNb3ZlLnggPCBwb3NDb29yZHMubGVmdCA/IC1ydGwgOiBydGwpKTtcbiAgICAgICAgaWYgKG9wZW4gPT09IG51bGwgfHwgb3BlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3Blbi50aGVuKSB7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRoaXMucGVuZGluZyA9IHsgcG9zIH07XG4gICAgICAgICAgICBvcGVuLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nID09IHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHRoaXMuc2V0SG92ZXIub2YocmVzdWx0KSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBlID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGUsIFwiaG92ZXIgdG9vbHRpcFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3Blbikge1xuICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihvcGVuKSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3VzZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmxhc3RNb3ZlID0geyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0YXJnZXQ6IGV2ZW50LnRhcmdldCwgdGltZTogRGF0ZS5ub3coKSB9O1xuICAgICAgICBpZiAodGhpcy5ob3ZlclRpbWVvdXQgPCAwKVxuICAgICAgICAgICAgdGhpcy5ob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2hlY2tIb3ZlciwgdGhpcy5ob3ZlclRpbWUpO1xuICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMuYWN0aXZlO1xuICAgICAgICBpZiAodG9vbHRpcCAmJiAhaXNJblRvb2x0aXAodGhpcy5sYXN0TW92ZS50YXJnZXQpIHx8IHRoaXMucGVuZGluZykge1xuICAgICAgICAgICAgbGV0IHsgcG9zIH0gPSB0b29sdGlwIHx8IHRoaXMucGVuZGluZywgZW5kID0gKF9hID0gdG9vbHRpcCA9PT0gbnVsbCB8fCB0b29sdGlwID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b29sdGlwLmVuZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcG9zO1xuICAgICAgICAgICAgaWYgKChwb3MgPT0gZW5kID8gdGhpcy52aWV3LnBvc0F0Q29vcmRzKHRoaXMubGFzdE1vdmUpICE9IHBvc1xuICAgICAgICAgICAgICAgIDogIWlzT3ZlclJhbmdlKHRoaXMudmlldywgcG9zLCBlbmQsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFksIDYgLyogSG92ZXIuTWF4RGlzdCAqLykpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdGhpcy5zZXRIb3Zlci5vZihudWxsKSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG1vdXNlbGVhdmUoZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICB0aGlzLmhvdmVyVGltZW91dCA9IC0xO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgIWlzSW5Ub29sdGlwKGUucmVsYXRlZFRhcmdldCkpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiB0aGlzLnNldEhvdmVyLm9mKG51bGwpIH0pO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5ob3ZlclRpbWVvdXQpO1xuICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMubW91c2VsZWF2ZSk7XG4gICAgICAgIHRoaXMudmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNJblRvb2x0aXAoZWx0KSB7XG4gICAgZm9yIChsZXQgY3VyID0gZWx0OyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlKVxuICAgICAgICBpZiAoY3VyLm5vZGVUeXBlID09IDEgJiYgY3VyLmNsYXNzTGlzdC5jb250YWlucyhcImNtLXRvb2x0aXBcIikpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc092ZXJSYW5nZSh2aWV3LCBmcm9tLCB0bywgeCwgeSwgbWFyZ2luKSB7XG4gICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBsZXQgZnJvbURPTSA9IHZpZXcuZG9tQXRQb3MoZnJvbSksIHRvRE9NID0gdmlldy5kb21BdFBvcyh0byk7XG4gICAgcmFuZ2Uuc2V0RW5kKHRvRE9NLm5vZGUsIHRvRE9NLm9mZnNldCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQoZnJvbURPTS5ub2RlLCBmcm9tRE9NLm9mZnNldCk7XG4gICAgbGV0IHJlY3RzID0gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICByYW5nZS5kZXRhY2goKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCByZWN0ID0gcmVjdHNbaV07XG4gICAgICAgIGxldCBkaXN0ID0gTWF0aC5tYXgocmVjdC50b3AgLSB5LCB5IC0gcmVjdC5ib3R0b20sIHJlY3QubGVmdCAtIHgsIHggLSByZWN0LnJpZ2h0KTtcbiAgICAgICAgaWYgKGRpc3QgPD0gbWFyZ2luKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuU2V0IHVwIGEgaG92ZXIgdG9vbHRpcCwgd2hpY2ggc2hvd3MgdXAgd2hlbiB0aGUgcG9pbnRlciBob3ZlcnNcbm92ZXIgcmFuZ2VzIG9mIHRleHQuIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgbW91c2UgaG92ZXJzXG5vdmVyIHRoZSBkb2N1bWVudCB0ZXh0LiBJdCBzaG91bGQsIGlmIHRoZXJlIGlzIGEgdG9vbHRpcFxuYXNzb2NpYXRlZCB3aXRoIHBvc2l0aW9uIGBwb3NgLCByZXR1cm4gdGhlIHRvb2x0aXAgZGVzY3JpcHRpb25cbihlaXRoZXIgZGlyZWN0bHkgb3IgaW4gYSBwcm9taXNlKS4gVGhlIGBzaWRlYCBhcmd1bWVudCBpbmRpY2F0ZXNcbm9uIHdoaWNoIHNpZGUgb2YgdGhlIHBvc2l0aW9uIHRoZSBwb2ludGVyIGlzXHUyMDE0aXQgd2lsbCBiZSAtMSBpZiB0aGVcbnBvaW50ZXIgaXMgYmVmb3JlIHRoZSBwb3NpdGlvbiwgMSBpZiBhZnRlciB0aGUgcG9zaXRpb24uXG5cbk5vdGUgdGhhdCBhbGwgaG92ZXIgdG9vbHRpcHMgYXJlIGhvc3RlZCB3aXRoaW4gYSBzaW5nbGUgdG9vbHRpcFxuY29udGFpbmVyIGVsZW1lbnQuIFRoaXMgYWxsb3dzIG11bHRpcGxlIHRvb2x0aXBzIG92ZXIgdGhlIHNhbWVcbnJhbmdlIHRvIGJlIFwibWVyZ2VkXCIgdG9nZXRoZXIgd2l0aG91dCBvdmVybGFwcGluZy5cbiovXG5mdW5jdGlvbiBob3ZlclRvb2x0aXAoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgICBsZXQgc2V0SG92ZXIgPSBTdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbiAgICBsZXQgaG92ZXJTdGF0ZSA9IFN0YXRlRmllbGQuZGVmaW5lKHtcbiAgICAgICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgdXBkYXRlKHZhbHVlLCB0cikge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIChvcHRpb25zLmhpZGVPbkNoYW5nZSAmJiAodHIuZG9jQ2hhbmdlZCB8fCB0ci5zZWxlY3Rpb24pIHx8XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oaWRlT24gJiYgb3B0aW9ucy5oaWRlT24odHIsIHZhbHVlKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdHIuZG9jQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxldCBuZXdQb3MgPSB0ci5jaGFuZ2VzLm1hcFBvcyh2YWx1ZS5wb3MsIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3UG9zID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBjb3B5ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29weS5wb3MgPSBuZXdQb3M7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLmVuZCAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb3B5LmVuZCA9IHRyLmNoYW5nZXMubWFwUG9zKHZhbHVlLmVuZCk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb3B5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgZWZmZWN0IG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEhvdmVyKSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlZmZlY3QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdC5pcyhjbG9zZUhvdmVyVG9vbHRpcEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZTogZiA9PiBzaG93SG92ZXJUb29sdGlwLmZyb20oZilcbiAgICB9KTtcbiAgICByZXR1cm4gW1xuICAgICAgICBob3ZlclN0YXRlLFxuICAgICAgICBWaWV3UGx1Z2luLmRlZmluZSh2aWV3ID0+IG5ldyBIb3ZlclBsdWdpbih2aWV3LCBzb3VyY2UsIGhvdmVyU3RhdGUsIHNldEhvdmVyLCBvcHRpb25zLmhvdmVyVGltZSB8fCAzMDAgLyogSG92ZXIuVGltZSAqLykpLFxuICAgICAgICBzaG93SG92ZXJUb29sdGlwSG9zdFxuICAgIF07XG59XG4vKipcbkdldCB0aGUgYWN0aXZlIHRvb2x0aXAgdmlldyBmb3IgYSBnaXZlbiB0b29sdGlwLCBpZiBhdmFpbGFibGUuXG4qL1xuZnVuY3Rpb24gZ2V0VG9vbHRpcCh2aWV3LCB0b29sdGlwKSB7XG4gICAgbGV0IHBsdWdpbiA9IHZpZXcucGx1Z2luKHRvb2x0aXBQbHVnaW4pO1xuICAgIGlmICghcGx1Z2luKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgZm91bmQgPSBwbHVnaW4ubWFuYWdlci50b29sdGlwcy5pbmRleE9mKHRvb2x0aXApO1xuICAgIHJldHVybiBmb3VuZCA8IDAgPyBudWxsIDogcGx1Z2luLm1hbmFnZXIudG9vbHRpcFZpZXdzW2ZvdW5kXTtcbn1cbi8qKlxuUmV0dXJucyB0cnVlIGlmIGFueSBob3ZlciB0b29sdGlwcyBhcmUgY3VycmVudGx5IGFjdGl2ZS5cbiovXG5mdW5jdGlvbiBoYXNIb3ZlclRvb2x0aXBzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZhY2V0KHNob3dIb3ZlclRvb2x0aXApLnNvbWUoeCA9PiB4KTtcbn1cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwRWZmZWN0ID0gLypAX19QVVJFX18qL1N0YXRlRWZmZWN0LmRlZmluZSgpO1xuLyoqXG5UcmFuc2FjdGlvbiBlZmZlY3QgdGhhdCBjbG9zZXMgYWxsIGhvdmVyIHRvb2x0aXBzLlxuKi9cbmNvbnN0IGNsb3NlSG92ZXJUb29sdGlwcyA9IC8qQF9fUFVSRV9fKi9jbG9zZUhvdmVyVG9vbHRpcEVmZmVjdC5vZihudWxsKTtcbi8qKlxuVGVsbCB0aGUgdG9vbHRpcCBleHRlbnNpb24gdG8gcmVjb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYWN0aXZlXG50b29sdGlwcy4gVGhpcyBjYW4gYmUgdXNlZnVsIHdoZW4gc29tZXRoaW5nIGhhcHBlbnMgKHN1Y2ggYXMgYVxucmUtcG9zaXRpb25pbmcgb3IgQ1NTIGNoYW5nZSBhZmZlY3RpbmcgdGhlIGVkaXRvcikgdGhhdCBjb3VsZFxuaW52YWxpZGF0ZSB0aGUgZXhpc3RpbmcgdG9vbHRpcCBwb3NpdGlvbnMuXG4qL1xuZnVuY3Rpb24gcmVwb3NpdGlvblRvb2x0aXBzKHZpZXcpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gdmlldy5wbHVnaW4odG9vbHRpcFBsdWdpbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXliZU1lYXN1cmUoKTtcbn1cblxuY29uc3QgcGFuZWxDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGNvbmZpZ3MpIHtcbiAgICAgICAgbGV0IHRvcENvbnRhaW5lciwgYm90dG9tQ29udGFpbmVyO1xuICAgICAgICBmb3IgKGxldCBjIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgICAgIHRvcENvbnRhaW5lciA9IHRvcENvbnRhaW5lciB8fCBjLnRvcENvbnRhaW5lcjtcbiAgICAgICAgICAgIGJvdHRvbUNvbnRhaW5lciA9IGJvdHRvbUNvbnRhaW5lciB8fCBjLmJvdHRvbUNvbnRhaW5lcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0b3BDb250YWluZXIsIGJvdHRvbUNvbnRhaW5lciB9O1xuICAgIH1cbn0pO1xuLyoqXG5Db25maWd1cmVzIHRoZSBwYW5lbC1tYW5hZ2luZyBleHRlbnNpb24uXG4qL1xuZnVuY3Rpb24gcGFuZWxzKGNvbmZpZykge1xuICAgIHJldHVybiBjb25maWcgPyBbcGFuZWxDb25maWcub2YoY29uZmlnKV0gOiBbXTtcbn1cbi8qKlxuR2V0IHRoZSBhY3RpdmUgcGFuZWwgY3JlYXRlZCBieSB0aGUgZ2l2ZW4gY29uc3RydWN0b3IsIGlmIGFueS5cblRoaXMgY2FuIGJlIHVzZWZ1bCB3aGVuIHlvdSBuZWVkIGFjY2VzcyB0byB5b3VyIHBhbmVscycgRE9NXG5zdHJ1Y3R1cmUuXG4qL1xuZnVuY3Rpb24gZ2V0UGFuZWwodmlldywgcGFuZWwpIHtcbiAgICBsZXQgcGx1Z2luID0gdmlldy5wbHVnaW4ocGFuZWxQbHVnaW4pO1xuICAgIGxldCBpbmRleCA9IHBsdWdpbiA/IHBsdWdpbi5zcGVjcy5pbmRleE9mKHBhbmVsKSA6IC0xO1xuICAgIHJldHVybiBpbmRleCA+IC0xID8gcGx1Z2luLnBhbmVsc1tpbmRleF0gOiBudWxsO1xufVxuY29uc3QgcGFuZWxQbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5pbnB1dCA9IHZpZXcuc3RhdGUuZmFjZXQoc2hvd1BhbmVsKTtcbiAgICAgICAgdGhpcy5zcGVjcyA9IHRoaXMuaW5wdXQuZmlsdGVyKHMgPT4gcyk7XG4gICAgICAgIHRoaXMucGFuZWxzID0gdGhpcy5zcGVjcy5tYXAoc3BlYyA9PiBzcGVjKHZpZXcpKTtcbiAgICAgICAgbGV0IGNvbmYgPSB2aWV3LnN0YXRlLmZhY2V0KHBhbmVsQ29uZmlnKTtcbiAgICAgICAgdGhpcy50b3AgPSBuZXcgUGFuZWxHcm91cCh2aWV3LCB0cnVlLCBjb25mLnRvcENvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuYm90dG9tID0gbmV3IFBhbmVsR3JvdXAodmlldywgZmFsc2UsIGNvbmYuYm90dG9tQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy50b3Auc3luYyh0aGlzLnBhbmVscy5maWx0ZXIocCA9PiBwLnRvcCkpO1xuICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKHRoaXMucGFuZWxzLmZpbHRlcihwID0+ICFwLnRvcCkpO1xuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFuZWxzKSB7XG4gICAgICAgICAgICBwLmRvbS5jbGFzc0xpc3QuYWRkKFwiY20tcGFuZWxcIik7XG4gICAgICAgICAgICBpZiAocC5tb3VudClcbiAgICAgICAgICAgICAgICBwLm1vdW50KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgY29uZiA9IHVwZGF0ZS5zdGF0ZS5mYWNldChwYW5lbENvbmZpZyk7XG4gICAgICAgIGlmICh0aGlzLnRvcC5jb250YWluZXIgIT0gY29uZi50b3BDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9wLnN5bmMoW10pO1xuICAgICAgICAgICAgdGhpcy50b3AgPSBuZXcgUGFuZWxHcm91cCh1cGRhdGUudmlldywgdHJ1ZSwgY29uZi50b3BDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJvdHRvbS5jb250YWluZXIgIT0gY29uZi5ib3R0b21Db250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuYm90dG9tLnN5bmMoW10pO1xuICAgICAgICAgICAgdGhpcy5ib3R0b20gPSBuZXcgUGFuZWxHcm91cCh1cGRhdGUudmlldywgZmFsc2UsIGNvbmYuYm90dG9tQ29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvcC5zeW5jQ2xhc3NlcygpO1xuICAgICAgICB0aGlzLmJvdHRvbS5zeW5jQ2xhc3NlcygpO1xuICAgICAgICBsZXQgaW5wdXQgPSB1cGRhdGUuc3RhdGUuZmFjZXQoc2hvd1BhbmVsKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IHRoaXMuaW5wdXQpIHtcbiAgICAgICAgICAgIGxldCBzcGVjcyA9IGlucHV0LmZpbHRlcih4ID0+IHgpO1xuICAgICAgICAgICAgbGV0IHBhbmVscyA9IFtdLCB0b3AgPSBbXSwgYm90dG9tID0gW10sIG1vdW50ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBzcGVjIG9mIHNwZWNzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtub3duID0gdGhpcy5zcGVjcy5pbmRleE9mKHNwZWMpLCBwYW5lbDtcbiAgICAgICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVsID0gc3BlYyh1cGRhdGUudmlldyk7XG4gICAgICAgICAgICAgICAgICAgIG1vdW50LnB1c2gocGFuZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwgPSB0aGlzLnBhbmVsc1trbm93bl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYW5lbC51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFuZWxzLnB1c2gocGFuZWwpO1xuICAgICAgICAgICAgICAgIChwYW5lbC50b3AgPyB0b3AgOiBib3R0b20pLnB1c2gocGFuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcGVjcyA9IHNwZWNzO1xuICAgICAgICAgICAgdGhpcy5wYW5lbHMgPSBwYW5lbHM7XG4gICAgICAgICAgICB0aGlzLnRvcC5zeW5jKHRvcCk7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbS5zeW5jKGJvdHRvbSk7XG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIG1vdW50KSB7XG4gICAgICAgICAgICAgICAgcC5kb20uY2xhc3NMaXN0LmFkZChcImNtLXBhbmVsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwLm1vdW50KVxuICAgICAgICAgICAgICAgICAgICBwLm1vdW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFuZWxzKVxuICAgICAgICAgICAgICAgIGlmIChwLnVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgcC51cGRhdGUodXBkYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnRvcC5zeW5jKFtdKTtcbiAgICAgICAgdGhpcy5ib3R0b20uc3luYyhbXSk7XG4gICAgfVxufSwge1xuICAgIHByb3ZpZGU6IHBsdWdpbiA9PiBFZGl0b3JWaWV3LnNjcm9sbE1hcmdpbnMub2YodmlldyA9PiB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHZpZXcucGx1Z2luKHBsdWdpbik7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB7IHRvcDogdmFsdWUudG9wLnNjcm9sbE1hcmdpbigpLCBib3R0b206IHZhbHVlLmJvdHRvbS5zY3JvbGxNYXJnaW4oKSB9O1xuICAgIH0pXG59KTtcbmNsYXNzIFBhbmVsR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIHRvcCwgY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMudG9wID0gdG9wO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5kb20gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2xhc3NlcyA9IFwiXCI7XG4gICAgICAgIHRoaXMucGFuZWxzID0gW107XG4gICAgICAgIHRoaXMuc3luY0NsYXNzZXMoKTtcbiAgICB9XG4gICAgc3luYyhwYW5lbHMpIHtcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBhbmVscylcbiAgICAgICAgICAgIGlmIChwLmRlc3Ryb3kgJiYgcGFuZWxzLmluZGV4T2YocCkgPCAwKVxuICAgICAgICAgICAgICAgIHAuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnBhbmVscyA9IHBhbmVscztcbiAgICAgICAgdGhpcy5zeW5jRE9NKCk7XG4gICAgfVxuICAgIHN5bmNET00oKSB7XG4gICAgICAgIGlmICh0aGlzLnBhbmVscy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kb20gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmRvbSkge1xuICAgICAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gdGhpcy50b3AgPyBcImNtLXBhbmVscyBjbS1wYW5lbHMtdG9wXCIgOiBcImNtLXBhbmVscyBjbS1wYW5lbHMtYm90dG9tXCI7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZVt0aGlzLnRvcCA/IFwidG9wXCIgOiBcImJvdHRvbVwiXSA9IFwiMFwiO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuY29udGFpbmVyIHx8IHRoaXMudmlldy5kb207XG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLCB0aGlzLnRvcCA/IHBhcmVudC5maXJzdENoaWxkIDogbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1ckRPTSA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGZvciAobGV0IHBhbmVsIG9mIHRoaXMucGFuZWxzKSB7XG4gICAgICAgICAgICBpZiAocGFuZWwuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VyRE9NICE9IHBhbmVsLmRvbSlcbiAgICAgICAgICAgICAgICAgICAgY3VyRE9NID0gcm0oY3VyRE9NKTtcbiAgICAgICAgICAgICAgICBjdXJET00gPSBjdXJET00ubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5pbnNlcnRCZWZvcmUocGFuZWwuZG9tLCBjdXJET00pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChjdXJET00pXG4gICAgICAgICAgICBjdXJET00gPSBybShjdXJET00pO1xuICAgIH1cbiAgICBzY3JvbGxNYXJnaW4oKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5kb20gfHwgdGhpcy5jb250YWluZXIgPyAwXG4gICAgICAgICAgICA6IE1hdGgubWF4KDAsIHRoaXMudG9wID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSBNYXRoLm1heCgwLCB0aGlzLnZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCkgOlxuICAgICAgICAgICAgICAgIE1hdGgubWluKGlubmVySGVpZ2h0LCB0aGlzLnZpZXcuc2Nyb2xsRE9NLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSkgLSB0aGlzLmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ApO1xuICAgIH1cbiAgICBzeW5jQ2xhc3NlcygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lciB8fCB0aGlzLmNsYXNzZXMgPT0gdGhpcy52aWV3LnRoZW1lQ2xhc3NlcylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChsZXQgY2xzIG9mIHRoaXMuY2xhc3Nlcy5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcbiAgICAgICAgZm9yIChsZXQgY2xzIG9mICh0aGlzLmNsYXNzZXMgPSB0aGlzLnZpZXcudGhlbWVDbGFzc2VzKS5zcGxpdChcIiBcIikpXG4gICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBybShub2RlKSB7XG4gICAgbGV0IG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgcmV0dXJuIG5leHQ7XG59XG4vKipcbk9wZW5pbmcgYSBwYW5lbCBpcyBkb25lIGJ5IHByb3ZpZGluZyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvclxudGhlIHBhbmVsIHRocm91Z2ggdGhpcyBmYWNldC4gKFRoZSBwYW5lbCBpcyBjbG9zZWQgYWdhaW4gd2hlbiBpdHNcbmNvbnN0cnVjdG9yIGlzIG5vIGxvbmdlciBwcm92aWRlZC4pIFZhbHVlcyBvZiBgbnVsbGAgYXJlIGlnbm9yZWQuXG4qL1xuY29uc3Qgc2hvd1BhbmVsID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgZW5hYmxlczogcGFuZWxQbHVnaW5cbn0pO1xuXG4vKipcbkEgZ3V0dGVyIG1hcmtlciByZXByZXNlbnRzIGEgYml0IG9mIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIGEgbGluZVxuaW4gYSBzcGVjaWZpYyBndXR0ZXIuIFlvdXIgb3duIGN1c3RvbSBtYXJrZXJzIGhhdmUgdG8gZXh0ZW5kIHRoaXNcbmNsYXNzLlxuKi9cbmNsYXNzIEd1dHRlck1hcmtlciBleHRlbmRzIFJhbmdlVmFsdWUge1xuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY29tcGFyZShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcyA9PSBvdGhlciB8fCB0aGlzLmNvbnN0cnVjdG9yID09IG90aGVyLmNvbnN0cnVjdG9yICYmIHRoaXMuZXEob3RoZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICBDb21wYXJlIHRoaXMgbWFya2VyIHRvIGFub3RoZXIgbWFya2VyIG9mIHRoZSBzYW1lIHR5cGUuXG4gICAgKi9cbiAgICBlcShvdGhlcikgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvKipcbiAgICBDYWxsZWQgaWYgdGhlIG1hcmtlciBoYXMgYSBgdG9ET01gIG1ldGhvZCBhbmQgaXRzIHJlcHJlc2VudGF0aW9uXG4gICAgd2FzIHJlbW92ZWQgZnJvbSBhIGd1dHRlci5cbiAgICAqL1xuICAgIGRlc3Ryb3koZG9tKSB7IH1cbn1cbkd1dHRlck1hcmtlci5wcm90b3R5cGUuZWxlbWVudENsYXNzID0gXCJcIjtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUudG9ET00gPSB1bmRlZmluZWQ7XG5HdXR0ZXJNYXJrZXIucHJvdG90eXBlLm1hcE1vZGUgPSBNYXBNb2RlLlRyYWNrQmVmb3JlO1xuR3V0dGVyTWFya2VyLnByb3RvdHlwZS5zdGFydFNpZGUgPSBHdXR0ZXJNYXJrZXIucHJvdG90eXBlLmVuZFNpZGUgPSAtMTtcbkd1dHRlck1hcmtlci5wcm90b3R5cGUucG9pbnQgPSB0cnVlO1xuLyoqXG5GYWNldCB1c2VkIHRvIGFkZCBhIGNsYXNzIHRvIGFsbCBndXR0ZXIgZWxlbWVudHMgZm9yIGEgZ2l2ZW4gbGluZS5cbk1hcmtlcnMgZ2l2ZW4gdG8gdGhpcyBmYWNldCBzaG91bGQgX29ubHlfIGRlZmluZSBhblxuW2BlbGVtZW50Y2xhc3NgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuR3V0dGVyTWFya2VyLmVsZW1lbnRDbGFzcyksIG5vdCBhXG5bYHRvRE9NYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3Lkd1dHRlck1hcmtlci50b0RPTSkgKG9yIHRoZSBtYXJrZXIgd2lsbCBhcHBlYXJcbmluIGFsbCBndXR0ZXJzIGZvciB0aGUgbGluZSkuXG4qL1xuY29uc3QgZ3V0dGVyTGluZUNsYXNzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgY2xhc3M6IFwiXCIsXG4gICAgcmVuZGVyRW1wdHlFbGVtZW50czogZmFsc2UsXG4gICAgZWxlbWVudFN0eWxlOiBcIlwiLFxuICAgIG1hcmtlcnM6ICgpID0+IFJhbmdlU2V0LmVtcHR5LFxuICAgIGxpbmVNYXJrZXI6ICgpID0+IG51bGwsXG4gICAgbGluZU1hcmtlckNoYW5nZTogbnVsbCxcbiAgICBpbml0aWFsU3BhY2VyOiBudWxsLFxuICAgIHVwZGF0ZVNwYWNlcjogbnVsbCxcbiAgICBkb21FdmVudEhhbmRsZXJzOiB7fVxufTtcbmNvbnN0IGFjdGl2ZUd1dHRlcnMgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKCk7XG4vKipcbkRlZmluZSBhbiBlZGl0b3IgZ3V0dGVyLiBUaGUgb3JkZXIgaW4gd2hpY2ggdGhlIGd1dHRlcnMgYXBwZWFyIGlzXG5kZXRlcm1pbmVkIGJ5IHRoZWlyIGV4dGVuc2lvbiBwcmlvcml0eS5cbiovXG5mdW5jdGlvbiBndXR0ZXIoY29uZmlnKSB7XG4gICAgcmV0dXJuIFtndXR0ZXJzKCksIGFjdGl2ZUd1dHRlcnMub2YoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cyksIGNvbmZpZykpXTtcbn1cbmNvbnN0IHVuZml4R3V0dGVycyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmU6IHZhbHVlcyA9PiB2YWx1ZXMuc29tZSh4ID0+IHgpXG59KTtcbi8qKlxuVGhlIGd1dHRlci1kcmF3aW5nIHBsdWdpbiBpcyBhdXRvbWF0aWNhbGx5IGVuYWJsZWQgd2hlbiB5b3UgYWRkIGFcbmd1dHRlciwgYnV0IHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZXhwbGljaXRseSBjb25maWd1cmUgaXQuXG5cblVubGVzcyBgZml4ZWRgIGlzIGV4cGxpY2l0bHkgc2V0IHRvIGBmYWxzZWAsIHRoZSBndXR0ZXJzIGFyZVxuZml4ZWQsIG1lYW5pbmcgdGhleSBkb24ndCBzY3JvbGwgYWxvbmcgd2l0aCB0aGUgY29udGVudFxuaG9yaXpvbnRhbGx5IChleGNlcHQgb24gSW50ZXJuZXQgRXhwbG9yZXIsIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydFxuQ1NTIFtgcG9zaXRpb246XG5zdGlja3lgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvcG9zaXRpb24jc3RpY2t5KSkuXG4qL1xuZnVuY3Rpb24gZ3V0dGVycyhjb25maWcpIHtcbiAgICBsZXQgcmVzdWx0ID0gW1xuICAgICAgICBndXR0ZXJWaWV3LFxuICAgIF07XG4gICAgaWYgKGNvbmZpZyAmJiBjb25maWcuZml4ZWQgPT09IGZhbHNlKVxuICAgICAgICByZXN1bHQucHVzaCh1bmZpeEd1dHRlcnMub2YodHJ1ZSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBndXR0ZXJWaWV3ID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMucHJldlZpZXdwb3J0ID0gdmlldy52aWV3cG9ydDtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlcnNcIjtcbiAgICAgICAgdGhpcy5kb20uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnZpZXcuY29udGVudEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgdGhpcy5ndXR0ZXJzID0gdmlldy5zdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKS5tYXAoY29uZiA9PiBuZXcgU2luZ2xlR3V0dGVyVmlldyh2aWV3LCBjb25mKSk7XG4gICAgICAgIGZvciAobGV0IGd1dHRlciBvZiB0aGlzLmd1dHRlcnMpXG4gICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChndXR0ZXIuZG9tKTtcbiAgICAgICAgdGhpcy5maXhlZCA9ICF2aWV3LnN0YXRlLmZhY2V0KHVuZml4R3V0dGVycyk7XG4gICAgICAgIGlmICh0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICAvLyBGSVhNRSBJRTExIGZhbGxiYWNrLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgcG9zaXRpb246IHN0aWNreSxcbiAgICAgICAgICAgIC8vIGJ5IHVzaW5nIHBvc2l0aW9uOiByZWxhdGl2ZSArIGV2ZW50IGhhbmRsZXJzIHRoYXQgcmVhbGlnbiB0aGVcbiAgICAgICAgICAgIC8vIGd1dHRlciAob3IganVzdCBmb3JjZSBmaXhlZD1mYWxzZSBvbiBJRTExPylcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLnBvc2l0aW9uID0gXCJzdGlja3lcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN5bmNHdXR0ZXJzKGZhbHNlKTtcbiAgICAgICAgdmlldy5zY3JvbGxET00uaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLCB2aWV3LmNvbnRlbnRET00pO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUd1dHRlcnModXBkYXRlKSkge1xuICAgICAgICAgICAgLy8gRGV0YWNoIGR1cmluZyBzeW5jIHdoZW4gdGhlIHZpZXdwb3J0IGNoYW5nZWQgc2lnbmlmaWNhbnRseVxuICAgICAgICAgICAgLy8gKHN1Y2ggYXMgZHVyaW5nIHNjcm9sbGluZyksIHNpbmNlIGZvciBsYXJnZSB1cGRhdGVzIHRoYXQgaXNcbiAgICAgICAgICAgIC8vIGZhc3Rlci5cbiAgICAgICAgICAgIGxldCB2cEEgPSB0aGlzLnByZXZWaWV3cG9ydCwgdnBCID0gdXBkYXRlLnZpZXcudmlld3BvcnQ7XG4gICAgICAgICAgICBsZXQgdnBPdmVybGFwID0gTWF0aC5taW4odnBBLnRvLCB2cEIudG8pIC0gTWF0aC5tYXgodnBBLmZyb20sIHZwQi5mcm9tKTtcbiAgICAgICAgICAgIHRoaXMuc3luY0d1dHRlcnModnBPdmVybGFwIDwgKHZwQi50byAtIHZwQi5mcm9tKSAqIDAuOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZS5nZW9tZXRyeUNoYW5nZWQpXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnZpZXcuY29udGVudEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5mYWNldCh1bmZpeEd1dHRlcnMpICE9ICF0aGlzLmZpeGVkKSB7XG4gICAgICAgICAgICB0aGlzLmZpeGVkID0gIXRoaXMuZml4ZWQ7XG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5wb3NpdGlvbiA9IHRoaXMuZml4ZWQgPyBcInN0aWNreVwiIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZXZWaWV3cG9ydCA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgIH1cbiAgICBzeW5jR3V0dGVycyhkZXRhY2gpIHtcbiAgICAgICAgbGV0IGFmdGVyID0gdGhpcy5kb20ubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICB0aGlzLmRvbS5yZW1vdmUoKTtcbiAgICAgICAgbGV0IGxpbmVDbGFzc2VzID0gUmFuZ2VTZXQuaXRlcih0aGlzLnZpZXcuc3RhdGUuZmFjZXQoZ3V0dGVyTGluZUNsYXNzKSwgdGhpcy52aWV3LnZpZXdwb3J0LmZyb20pO1xuICAgICAgICBsZXQgY2xhc3NTZXQgPSBbXTtcbiAgICAgICAgbGV0IGNvbnRleHRzID0gdGhpcy5ndXR0ZXJzLm1hcChndXR0ZXIgPT4gbmV3IFVwZGF0ZUNvbnRleHQoZ3V0dGVyLCB0aGlzLnZpZXcudmlld3BvcnQsIC10aGlzLnZpZXcuZG9jdW1lbnRQYWRkaW5nLnRvcCkpO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMudmlldy52aWV3cG9ydExpbmVCbG9ja3MpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0O1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGluZS50eXBlKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGIgb2YgbGluZS50eXBlKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYi50eXBlID09IEJsb2NrVHlwZS5UZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gbGluZS50eXBlID09IEJsb2NrVHlwZS5UZXh0ID8gbGluZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGV4dClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChjbGFzc1NldC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgY2xhc3NTZXQgPSBbXTtcbiAgICAgICAgICAgIGFkdmFuY2VDdXJzb3IobGluZUNsYXNzZXMsIGNsYXNzU2V0LCBsaW5lLmZyb20pO1xuICAgICAgICAgICAgZm9yIChsZXQgY3ggb2YgY29udGV4dHMpXG4gICAgICAgICAgICAgICAgY3gubGluZSh0aGlzLnZpZXcsIHRleHQsIGNsYXNzU2V0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBjeCBvZiBjb250ZXh0cylcbiAgICAgICAgICAgIGN4LmZpbmlzaCgpO1xuICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgdGhpcy52aWV3LnNjcm9sbERPTS5pbnNlcnRCZWZvcmUodGhpcy5kb20sIGFmdGVyKTtcbiAgICB9XG4gICAgdXBkYXRlR3V0dGVycyh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHByZXYgPSB1cGRhdGUuc3RhcnRTdGF0ZS5mYWNldChhY3RpdmVHdXR0ZXJzKSwgY3VyID0gdXBkYXRlLnN0YXRlLmZhY2V0KGFjdGl2ZUd1dHRlcnMpO1xuICAgICAgICBsZXQgY2hhbmdlID0gdXBkYXRlLmRvY0NoYW5nZWQgfHwgdXBkYXRlLmhlaWdodENoYW5nZWQgfHwgdXBkYXRlLnZpZXdwb3J0Q2hhbmdlZCB8fFxuICAgICAgICAgICAgIVJhbmdlU2V0LmVxKHVwZGF0ZS5zdGFydFN0YXRlLmZhY2V0KGd1dHRlckxpbmVDbGFzcyksIHVwZGF0ZS5zdGF0ZS5mYWNldChndXR0ZXJMaW5lQ2xhc3MpLCB1cGRhdGUudmlldy52aWV3cG9ydC5mcm9tLCB1cGRhdGUudmlldy52aWV3cG9ydC50byk7XG4gICAgICAgIGlmIChwcmV2ID09IGN1cikge1xuICAgICAgICAgICAgZm9yIChsZXQgZ3V0dGVyIG9mIHRoaXMuZ3V0dGVycylcbiAgICAgICAgICAgICAgICBpZiAoZ3V0dGVyLnVwZGF0ZSh1cGRhdGUpKVxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBndXR0ZXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjb25mIG9mIGN1cikge1xuICAgICAgICAgICAgICAgIGxldCBrbm93biA9IHByZXYuaW5kZXhPZihjb25mKTtcbiAgICAgICAgICAgICAgICBpZiAoa25vd24gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcnMucHVzaChuZXcgU2luZ2xlR3V0dGVyVmlldyh0aGlzLnZpZXcsIGNvbmYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3V0dGVyc1trbm93bl0udXBkYXRlKHVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGd1dHRlcnMucHVzaCh0aGlzLmd1dHRlcnNba25vd25dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBnIG9mIHRoaXMuZ3V0dGVycykge1xuICAgICAgICAgICAgICAgIGcuZG9tLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChndXR0ZXJzLmluZGV4T2YoZykgPCAwKVxuICAgICAgICAgICAgICAgICAgICBnLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGcgb2YgZ3V0dGVycylcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChnLmRvbSk7XG4gICAgICAgICAgICB0aGlzLmd1dHRlcnMgPSBndXR0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2U7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IHZpZXcgb2YgdGhpcy5ndXR0ZXJzKVxuICAgICAgICAgICAgdmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9tLnJlbW92ZSgpO1xuICAgIH1cbn0sIHtcbiAgICBwcm92aWRlOiBwbHVnaW4gPT4gRWRpdG9yVmlldy5zY3JvbGxNYXJnaW5zLm9mKHZpZXcgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSB2aWV3LnBsdWdpbihwbHVnaW4pO1xuICAgICAgICBpZiAoIXZhbHVlIHx8IHZhbHVlLmd1dHRlcnMubGVuZ3RoID09IDAgfHwgIXZhbHVlLmZpeGVkKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB2aWV3LnRleHREaXJlY3Rpb24gPT0gRGlyZWN0aW9uLkxUUiA/IHsgbGVmdDogdmFsdWUuZG9tLm9mZnNldFdpZHRoIH0gOiB7IHJpZ2h0OiB2YWx1ZS5kb20ub2Zmc2V0V2lkdGggfTtcbiAgICB9KVxufSk7XG5mdW5jdGlvbiBhc0FycmF5KHZhbCkgeyByZXR1cm4gKEFycmF5LmlzQXJyYXkodmFsKSA/IHZhbCA6IFt2YWxdKTsgfVxuZnVuY3Rpb24gYWR2YW5jZUN1cnNvcihjdXJzb3IsIGNvbGxlY3QsIHBvcykge1xuICAgIHdoaWxlIChjdXJzb3IudmFsdWUgJiYgY3Vyc29yLmZyb20gPD0gcG9zKSB7XG4gICAgICAgIGlmIChjdXJzb3IuZnJvbSA9PSBwb3MpXG4gICAgICAgICAgICBjb2xsZWN0LnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgICAgY3Vyc29yLm5leHQoKTtcbiAgICB9XG59XG5jbGFzcyBVcGRhdGVDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihndXR0ZXIsIHZpZXdwb3J0LCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5ndXR0ZXIgPSBndXR0ZXI7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmxvY2FsTWFya2VycyA9IFtdO1xuICAgICAgICB0aGlzLmkgPSAwO1xuICAgICAgICB0aGlzLmN1cnNvciA9IFJhbmdlU2V0Lml0ZXIoZ3V0dGVyLm1hcmtlcnMsIHZpZXdwb3J0LmZyb20pO1xuICAgIH1cbiAgICBsaW5lKHZpZXcsIGxpbmUsIGV4dHJhTWFya2Vycykge1xuICAgICAgICBpZiAodGhpcy5sb2NhbE1hcmtlcnMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5sb2NhbE1hcmtlcnMgPSBbXTtcbiAgICAgICAgYWR2YW5jZUN1cnNvcih0aGlzLmN1cnNvciwgdGhpcy5sb2NhbE1hcmtlcnMsIGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBsb2NhbE1hcmtlcnMgPSBleHRyYU1hcmtlcnMubGVuZ3RoID8gdGhpcy5sb2NhbE1hcmtlcnMuY29uY2F0KGV4dHJhTWFya2VycykgOiB0aGlzLmxvY2FsTWFya2VycztcbiAgICAgICAgbGV0IGZvckxpbmUgPSB0aGlzLmd1dHRlci5jb25maWcubGluZU1hcmtlcih2aWV3LCBsaW5lLCBsb2NhbE1hcmtlcnMpO1xuICAgICAgICBpZiAoZm9yTGluZSlcbiAgICAgICAgICAgIGxvY2FsTWFya2Vycy51bnNoaWZ0KGZvckxpbmUpO1xuICAgICAgICBsZXQgZ3V0dGVyID0gdGhpcy5ndXR0ZXI7XG4gICAgICAgIGlmIChsb2NhbE1hcmtlcnMubGVuZ3RoID09IDAgJiYgIWd1dHRlci5jb25maWcucmVuZGVyRW1wdHlFbGVtZW50cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGFib3ZlID0gbGluZS50b3AgLSB0aGlzLmhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMuaSA9PSBndXR0ZXIuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbmV3RWx0ID0gbmV3IEd1dHRlckVsZW1lbnQodmlldywgbGluZS5oZWlnaHQsIGFib3ZlLCBsb2NhbE1hcmtlcnMpO1xuICAgICAgICAgICAgZ3V0dGVyLmVsZW1lbnRzLnB1c2gobmV3RWx0KTtcbiAgICAgICAgICAgIGd1dHRlci5kb20uYXBwZW5kQ2hpbGQobmV3RWx0LmRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBndXR0ZXIuZWxlbWVudHNbdGhpcy5pXS51cGRhdGUodmlldywgbGluZS5oZWlnaHQsIGFib3ZlLCBsb2NhbE1hcmtlcnMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gbGluZS5ib3R0b207XG4gICAgICAgIHRoaXMuaSsrO1xuICAgIH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIGxldCBndXR0ZXIgPSB0aGlzLmd1dHRlcjtcbiAgICAgICAgd2hpbGUgKGd1dHRlci5lbGVtZW50cy5sZW5ndGggPiB0aGlzLmkpIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gZ3V0dGVyLmVsZW1lbnRzLnBvcCgpO1xuICAgICAgICAgICAgZ3V0dGVyLmRvbS5yZW1vdmVDaGlsZChsYXN0LmRvbSk7XG4gICAgICAgICAgICBsYXN0LmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNpbmdsZUd1dHRlclZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGNvbmZpZykge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNwYWNlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS1ndXR0ZXJcIiArICh0aGlzLmNvbmZpZy5jbGFzcyA/IFwiIFwiICsgdGhpcy5jb25maWcuY2xhc3MgOiBcIlwiKTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBjb25maWcuZG9tRXZlbnRIYW5kbGVycykge1xuICAgICAgICAgICAgdGhpcy5kb20uYWRkRXZlbnRMaXN0ZW5lcihwcm9wLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXRIZWlnaHQoZXZlbnQuY2xpZW50WSAtIHZpZXcuZG9jdW1lbnRUb3ApO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWcuZG9tRXZlbnRIYW5kbGVyc1twcm9wXSh2aWV3LCBsaW5lLCBldmVudCkpXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcmtlcnMgPSBhc0FycmF5KGNvbmZpZy5tYXJrZXJzKHZpZXcpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5pbml0aWFsU3BhY2VyKSB7XG4gICAgICAgICAgICB0aGlzLnNwYWNlciA9IG5ldyBHdXR0ZXJFbGVtZW50KHZpZXcsIDAsIDAsIFtjb25maWcuaW5pdGlhbFNwYWNlcih2aWV3KV0pO1xuICAgICAgICAgICAgdGhpcy5kb20uYXBwZW5kQ2hpbGQodGhpcy5zcGFjZXIuZG9tKTtcbiAgICAgICAgICAgIHRoaXMuc3BhY2VyLmRvbS5zdHlsZS5jc3NUZXh0ICs9IFwidmlzaWJpbGl0eTogaGlkZGVuOyBwb2ludGVyLWV2ZW50czogbm9uZVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IHByZXZNYXJrZXJzID0gdGhpcy5tYXJrZXJzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBhc0FycmF5KHRoaXMuY29uZmlnLm1hcmtlcnModXBkYXRlLnZpZXcpKTtcbiAgICAgICAgaWYgKHRoaXMuc3BhY2VyICYmIHRoaXMuY29uZmlnLnVwZGF0ZVNwYWNlcikge1xuICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSB0aGlzLmNvbmZpZy51cGRhdGVTcGFjZXIodGhpcy5zcGFjZXIubWFya2Vyc1swXSwgdXBkYXRlKTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkICE9IHRoaXMuc3BhY2VyLm1hcmtlcnNbMF0pXG4gICAgICAgICAgICAgICAgdGhpcy5zcGFjZXIudXBkYXRlKHVwZGF0ZS52aWV3LCAwLCAwLCBbdXBkYXRlZF0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2cCA9IHVwZGF0ZS52aWV3LnZpZXdwb3J0O1xuICAgICAgICByZXR1cm4gIVJhbmdlU2V0LmVxKHRoaXMubWFya2VycywgcHJldk1hcmtlcnMsIHZwLmZyb20sIHZwLnRvKSB8fFxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLmxpbmVNYXJrZXJDaGFuZ2UgPyB0aGlzLmNvbmZpZy5saW5lTWFya2VyQ2hhbmdlKHVwZGF0ZSkgOiBmYWxzZSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGVsdCBvZiB0aGlzLmVsZW1lbnRzKVxuICAgICAgICAgICAgZWx0LmRlc3Ryb3koKTtcbiAgICB9XG59XG5jbGFzcyBHdXR0ZXJFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG4gICAgICAgIHRoaXMuYWJvdmUgPSAwO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmRvbS5jbGFzc05hbWUgPSBcImNtLWd1dHRlckVsZW1lbnRcIjtcbiAgICAgICAgdGhpcy51cGRhdGUodmlldywgaGVpZ2h0LCBhYm92ZSwgbWFya2Vycyk7XG4gICAgfVxuICAgIHVwZGF0ZSh2aWV3LCBoZWlnaHQsIGFib3ZlLCBtYXJrZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPSBoZWlnaHQpXG4gICAgICAgICAgICB0aGlzLmRvbS5zdHlsZS5oZWlnaHQgPSAodGhpcy5oZWlnaHQgPSBoZWlnaHQpICsgXCJweFwiO1xuICAgICAgICBpZiAodGhpcy5hYm92ZSAhPSBhYm92ZSlcbiAgICAgICAgICAgIHRoaXMuZG9tLnN0eWxlLm1hcmdpblRvcCA9ICh0aGlzLmFib3ZlID0gYWJvdmUpID8gYWJvdmUgKyBcInB4XCIgOiBcIlwiO1xuICAgICAgICBpZiAoIXNhbWVNYXJrZXJzKHRoaXMubWFya2VycywgbWFya2VycykpXG4gICAgICAgICAgICB0aGlzLnNldE1hcmtlcnModmlldywgbWFya2Vycyk7XG4gICAgfVxuICAgIHNldE1hcmtlcnModmlldywgbWFya2Vycykge1xuICAgICAgICBsZXQgY2xzID0gXCJjbS1ndXR0ZXJFbGVtZW50XCIsIGRvbVBvcyA9IHRoaXMuZG9tLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGZvciAobGV0IGlOZXcgPSAwLCBpT2xkID0gMDs7KSB7XG4gICAgICAgICAgICBsZXQgc2tpcFRvID0gaU9sZCwgbWFya2VyID0gaU5ldyA8IG1hcmtlcnMubGVuZ3RoID8gbWFya2Vyc1tpTmV3KytdIDogbnVsbCwgbWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1hcmtlcikge1xuICAgICAgICAgICAgICAgIGxldCBjID0gbWFya2VyLmVsZW1lbnRDbGFzcztcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgY2xzICs9IFwiIFwiICsgYztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaU9sZDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWFya2Vyc1tpXS5jb21wYXJlKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBUbyA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBza2lwVG8gPSB0aGlzLm1hcmtlcnMubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKGlPbGQgPCBza2lwVG8pIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubWFya2Vyc1tpT2xkKytdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0LnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQuZGVzdHJveShkb21Qb3MpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBkb21Qb3MubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9tUG9zID0gYWZ0ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFtYXJrZXIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAobWFya2VyLnRvRE9NKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZWQpXG4gICAgICAgICAgICAgICAgICAgIGRvbVBvcyA9IGRvbVBvcy5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9tLmluc2VydEJlZm9yZShtYXJrZXIudG9ET00odmlldyksIGRvbVBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hlZClcbiAgICAgICAgICAgICAgICBpT2xkKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gY2xzO1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldE1hcmtlcnMobnVsbCwgW10pOyAvLyBGaXJzdCBhcmd1bWVudCBub3QgdXNlZCB1bmxlc3MgY3JlYXRpbmcgbWFya2Vyc1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNhbWVNYXJrZXJzKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghYVtpXS5jb21wYXJlKGJbaV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5GYWNldCB1c2VkIHRvIHByb3ZpZGUgbWFya2VycyB0byB0aGUgbGluZSBudW1iZXIgZ3V0dGVyLlxuKi9cbmNvbnN0IGxpbmVOdW1iZXJNYXJrZXJzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgbGluZU51bWJlckNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKHZhbHVlcywgeyBmb3JtYXROdW1iZXI6IFN0cmluZywgZG9tRXZlbnRIYW5kbGVyczoge30gfSwge1xuICAgICAgICAgICAgZG9tRXZlbnRIYW5kbGVycyhhLCBiKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IE9iamVjdC5hc3NpZ24oe30sIGEpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGV2ZW50IGluIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4aXN0cyA9IHJlc3VsdFtldmVudF0sIGFkZCA9IGJbZXZlbnRdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbZXZlbnRdID0gZXhpc3RzID8gKHZpZXcsIGxpbmUsIGV2ZW50KSA9PiBleGlzdHModmlldywgbGluZSwgZXZlbnQpIHx8IGFkZCh2aWV3LCBsaW5lLCBldmVudCkgOiBhZGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuY2xhc3MgTnVtYmVyTWFya2VyIGV4dGVuZHMgR3V0dGVyTWFya2VyIHtcbiAgICBjb25zdHJ1Y3RvcihudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XG4gICAgfVxuICAgIGVxKG90aGVyKSB7IHJldHVybiB0aGlzLm51bWJlciA9PSBvdGhlci5udW1iZXI7IH1cbiAgICB0b0RPTSgpIHsgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMubnVtYmVyKTsgfVxufVxuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKHZpZXcsIG51bWJlcikge1xuICAgIHJldHVybiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpLmZvcm1hdE51bWJlcihudW1iZXIsIHZpZXcuc3RhdGUpO1xufVxuY29uc3QgbGluZU51bWJlckd1dHRlciA9IC8qQF9fUFVSRV9fKi9hY3RpdmVHdXR0ZXJzLmNvbXB1dGUoW2xpbmVOdW1iZXJDb25maWddLCBzdGF0ZSA9PiAoe1xuICAgIGNsYXNzOiBcImNtLWxpbmVOdW1iZXJzXCIsXG4gICAgcmVuZGVyRW1wdHlFbGVtZW50czogZmFsc2UsXG4gICAgbWFya2Vycyh2aWV3KSB7IHJldHVybiB2aWV3LnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJNYXJrZXJzKTsgfSxcbiAgICBsaW5lTWFya2VyKHZpZXcsIGxpbmUsIG90aGVycykge1xuICAgICAgICBpZiAob3RoZXJzLnNvbWUobSA9PiBtLnRvRE9NKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IE51bWJlck1hcmtlcihmb3JtYXROdW1iZXIodmlldywgdmlldy5zdGF0ZS5kb2MubGluZUF0KGxpbmUuZnJvbSkubnVtYmVyKSk7XG4gICAgfSxcbiAgICBsaW5lTWFya2VyQ2hhbmdlOiB1cGRhdGUgPT4gdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGluZU51bWJlckNvbmZpZykgIT0gdXBkYXRlLnN0YXRlLmZhY2V0KGxpbmVOdW1iZXJDb25maWcpLFxuICAgIGluaXRpYWxTcGFjZXIodmlldykge1xuICAgICAgICByZXR1cm4gbmV3IE51bWJlck1hcmtlcihmb3JtYXROdW1iZXIodmlldywgbWF4TGluZU51bWJlcih2aWV3LnN0YXRlLmRvYy5saW5lcykpKTtcbiAgICB9LFxuICAgIHVwZGF0ZVNwYWNlcihzcGFjZXIsIHVwZGF0ZSkge1xuICAgICAgICBsZXQgbWF4ID0gZm9ybWF0TnVtYmVyKHVwZGF0ZS52aWV3LCBtYXhMaW5lTnVtYmVyKHVwZGF0ZS52aWV3LnN0YXRlLmRvYy5saW5lcykpO1xuICAgICAgICByZXR1cm4gbWF4ID09IHNwYWNlci5udW1iZXIgPyBzcGFjZXIgOiBuZXcgTnVtYmVyTWFya2VyKG1heCk7XG4gICAgfSxcbiAgICBkb21FdmVudEhhbmRsZXJzOiBzdGF0ZS5mYWNldChsaW5lTnVtYmVyQ29uZmlnKS5kb21FdmVudEhhbmRsZXJzXG59KSk7XG4vKipcbkNyZWF0ZSBhIGxpbmUgbnVtYmVyIGd1dHRlciBleHRlbnNpb24uXG4qL1xuZnVuY3Rpb24gbGluZU51bWJlcnMoY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBsaW5lTnVtYmVyQ29uZmlnLm9mKGNvbmZpZyksXG4gICAgICAgIGd1dHRlcnMoKSxcbiAgICAgICAgbGluZU51bWJlckd1dHRlclxuICAgIF07XG59XG5mdW5jdGlvbiBtYXhMaW5lTnVtYmVyKGxpbmVzKSB7XG4gICAgbGV0IGxhc3QgPSA5O1xuICAgIHdoaWxlIChsYXN0IDwgbGluZXMpXG4gICAgICAgIGxhc3QgPSBsYXN0ICogMTAgKyA5O1xuICAgIHJldHVybiBsYXN0O1xufVxuY29uc3QgYWN0aXZlTGluZUd1dHRlck1hcmtlciA9IC8qQF9fUFVSRV9fKi9uZXcgY2xhc3MgZXh0ZW5kcyBHdXR0ZXJNYXJrZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmVsZW1lbnRDbGFzcyA9IFwiY20tYWN0aXZlTGluZUd1dHRlclwiO1xuICAgIH1cbn07XG5jb25zdCBhY3RpdmVMaW5lR3V0dGVySGlnaGxpZ2h0ZXIgPSAvKkBfX1BVUkVfXyovZ3V0dGVyTGluZUNsYXNzLmNvbXB1dGUoW1wic2VsZWN0aW9uXCJdLCBzdGF0ZSA9PiB7XG4gICAgbGV0IG1hcmtzID0gW10sIGxhc3QgPSAtMTtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgIGxldCBsaW5lUG9zID0gc3RhdGUuZG9jLmxpbmVBdChyYW5nZS5oZWFkKS5mcm9tO1xuICAgICAgICBpZiAobGluZVBvcyA+IGxhc3QpIHtcbiAgICAgICAgICAgIGxhc3QgPSBsaW5lUG9zO1xuICAgICAgICAgICAgbWFya3MucHVzaChhY3RpdmVMaW5lR3V0dGVyTWFya2VyLnJhbmdlKGxpbmVQb3MpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUmFuZ2VTZXQub2YobWFya3MpO1xufSk7XG4vKipcblJldHVybnMgYW4gZXh0ZW5zaW9uIHRoYXQgYWRkcyBhIGBjbS1hY3RpdmVMaW5lR3V0dGVyYCBjbGFzcyB0b1xuYWxsIGd1dHRlciBlbGVtZW50cyBvbiB0aGUgW2FjdGl2ZVxubGluZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LmhpZ2hsaWdodEFjdGl2ZUxpbmUpLlxuKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodEFjdGl2ZUxpbmVHdXR0ZXIoKSB7XG4gICAgcmV0dXJuIGFjdGl2ZUxpbmVHdXR0ZXJIaWdobGlnaHRlcjtcbn1cblxuLyoqXG5AaW50ZXJuYWxcbiovXG5jb25zdCBfX3Rlc3QgPSB7IEhlaWdodE1hcCwgSGVpZ2h0T3JhY2xlLCBNZWFzdXJlZEhlaWdodHMsIFF1ZXJ5VHlwZSwgQ2hhbmdlZFJhbmdlLCBjb21wdXRlT3JkZXIsIG1vdmVWaXN1YWxseSB9O1xuXG5leHBvcnQgeyBCaWRpU3BhbiwgQmxvY2tJbmZvLCBCbG9ja1R5cGUsIERlY29yYXRpb24sIERpcmVjdGlvbiwgRWRpdG9yVmlldywgR3V0dGVyTWFya2VyLCBNYXRjaERlY29yYXRvciwgVmlld1BsdWdpbiwgVmlld1VwZGF0ZSwgV2lkZ2V0VHlwZSwgX190ZXN0LCBjbG9zZUhvdmVyVG9vbHRpcHMsIGNyb3NzaGFpckN1cnNvciwgZHJhd1NlbGVjdGlvbiwgZHJvcEN1cnNvciwgZ2V0UGFuZWwsIGdldFRvb2x0aXAsIGd1dHRlciwgZ3V0dGVyTGluZUNsYXNzLCBndXR0ZXJzLCBoYXNIb3ZlclRvb2x0aXBzLCBoaWdobGlnaHRBY3RpdmVMaW5lLCBoaWdobGlnaHRBY3RpdmVMaW5lR3V0dGVyLCBoaWdobGlnaHRTcGVjaWFsQ2hhcnMsIGhvdmVyVG9vbHRpcCwga2V5bWFwLCBsaW5lTnVtYmVyTWFya2VycywgbGluZU51bWJlcnMsIGxvZ0V4Y2VwdGlvbiwgcGFuZWxzLCBwbGFjZWhvbGRlciwgcmVjdGFuZ3VsYXJTZWxlY3Rpb24sIHJlcG9zaXRpb25Ub29sdGlwcywgcnVuU2NvcGVIYW5kbGVycywgc2Nyb2xsUGFzdEVuZCwgc2hvd1BhbmVsLCBzaG93VG9vbHRpcCwgdG9vbHRpcHMgfTtcbiIsICIvLyBGSVhNRSBwcm9maWxlIGFkZGluZyBhIHBlci1UcmVlIFRyZWVOb2RlIGNhY2hlLCB2YWxpZGF0aW5nIGl0IGJ5XG4vLyBwYXJlbnQgcG9pbnRlclxuLy8vIFRoZSBkZWZhdWx0IG1heGltdW0gbGVuZ3RoIG9mIGEgYFRyZWVCdWZmZXJgIG5vZGUuXG5jb25zdCBEZWZhdWx0QnVmZmVyTGVuZ3RoID0gMTAyNDtcbmxldCBuZXh0UHJvcElEID0gMDtcbmNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3Rvcihmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgfVxufVxuLy8vIEVhY2ggW25vZGUgdHlwZV0oI2NvbW1vbi5Ob2RlVHlwZSkgb3IgW2luZGl2aWR1YWwgdHJlZV0oI2NvbW1vbi5UcmVlKVxuLy8vIGNhbiBoYXZlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCBpdCBpbiBwcm9wcy4gSW5zdGFuY2VzIG9mIHRoaXNcbi8vLyBjbGFzcyByZXByZXNlbnQgcHJvcCBuYW1lcy5cbmNsYXNzIE5vZGVQcm9wIHtcbiAgICAvLy8gQ3JlYXRlIGEgbmV3IG5vZGUgcHJvcCB0eXBlLlxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHRoaXMuaWQgPSBuZXh0UHJvcElEKys7XG4gICAgICAgIHRoaXMucGVyTm9kZSA9ICEhY29uZmlnLnBlck5vZGU7XG4gICAgICAgIHRoaXMuZGVzZXJpYWxpemUgPSBjb25maWcuZGVzZXJpYWxpemUgfHwgKCgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgbm9kZSB0eXBlIGRvZXNuJ3QgZGVmaW5lIGEgZGVzZXJpYWxpemUgZnVuY3Rpb25cIik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLy8gVGhpcyBpcyBtZWFudCB0byBiZSB1c2VkIHdpdGhcbiAgICAvLy8gW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG4gICAgLy8vIFtgTFJQYXJzZXIuY29uZmlndXJlYF0oI2xyLlBhcnNlckNvbmZpZy5wcm9wcykgdG8gY29tcHV0ZVxuICAgIC8vLyBwcm9wIHZhbHVlcyBmb3IgZWFjaCBub2RlIHR5cGUgaW4gdGhlIHNldC4gVGFrZXMgYSBbbWF0Y2hcbiAgICAvLy8gb2JqZWN0XSgjY29tbW9uLk5vZGVUeXBlXm1hdGNoKSBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgdW5kZWZpbmVkXG4gICAgLy8vIGlmIHRoZSBub2RlIHR5cGUgZG9lc24ndCBnZXQgdGhpcyBwcm9wLCBhbmQgdGhlIHByb3AncyB2YWx1ZSBpZlxuICAgIC8vLyBpdCBkb2VzLlxuICAgIGFkZChtYXRjaCkge1xuICAgICAgICBpZiAodGhpcy5wZXJOb2RlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDYW4ndCBhZGQgcGVyLW5vZGUgcHJvcHMgdG8gbm9kZSB0eXBlc1wiKTtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXRjaCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICBtYXRjaCA9IE5vZGVUeXBlLm1hdGNoKG1hdGNoKTtcbiAgICAgICAgcmV0dXJuICh0eXBlKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gbWF0Y2godHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBudWxsIDogW3RoaXMsIHJlc3VsdF07XG4gICAgICAgIH07XG4gICAgfVxufVxuLy8vIFByb3AgdGhhdCBpcyB1c2VkIHRvIGRlc2NyaWJlIG1hdGNoaW5nIGRlbGltaXRlcnMuIEZvciBvcGVuaW5nXG4vLy8gZGVsaW1pdGVycywgdGhpcyBob2xkcyBhbiBhcnJheSBvZiBub2RlIG5hbWVzICh3cml0dGVuIGFzIGFcbi8vLyBzcGFjZS1zZXBhcmF0ZWQgc3RyaW5nIHdoZW4gZGVjbGFyaW5nIHRoaXMgcHJvcCBpbiBhIGdyYW1tYXIpXG4vLy8gZm9yIHRoZSBub2RlIHR5cGVzIG9mIGNsb3NpbmcgZGVsaW1pdGVycyB0aGF0IG1hdGNoIGl0LlxuTm9kZVByb3AuY2xvc2VkQnkgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogc3RyID0+IHN0ci5zcGxpdChcIiBcIikgfSk7XG4vLy8gVGhlIGludmVyc2Ugb2YgW2BjbG9zZWRCeWBdKCNjb21tb24uTm9kZVByb3BeY2xvc2VkQnkpLiBUaGlzIGlzXG4vLy8gYXR0YWNoZWQgdG8gY2xvc2luZyBkZWxpbWl0ZXJzLCBob2xkaW5nIGFuIGFycmF5IG9mIG5vZGUgbmFtZXNcbi8vLyBvZiB0eXBlcyBvZiBtYXRjaGluZyBvcGVuaW5nIGRlbGltaXRlcnMuXG5Ob2RlUHJvcC5vcGVuZWRCeSA9IG5ldyBOb2RlUHJvcCh7IGRlc2VyaWFsaXplOiBzdHIgPT4gc3RyLnNwbGl0KFwiIFwiKSB9KTtcbi8vLyBVc2VkIHRvIGFzc2lnbiBub2RlIHR5cGVzIHRvIGdyb3VwcyAoZm9yIGV4YW1wbGUsIGFsbCBub2RlXG4vLy8gdHlwZXMgdGhhdCByZXByZXNlbnQgYW4gZXhwcmVzc2lvbiBjb3VsZCBiZSB0YWdnZWQgd2l0aCBhblxuLy8vIGBcIkV4cHJlc3Npb25cImAgZ3JvdXApLlxuTm9kZVByb3AuZ3JvdXAgPSBuZXcgTm9kZVByb3AoeyBkZXNlcmlhbGl6ZTogc3RyID0+IHN0ci5zcGxpdChcIiBcIikgfSk7XG4vLy8gVGhlIGhhc2ggb2YgdGhlIFtjb250ZXh0XSgjbHIuQ29udGV4dFRyYWNrZXIuY29uc3RydWN0b3IpXG4vLy8gdGhhdCB0aGUgbm9kZSB3YXMgcGFyc2VkIGluLCBpZiBhbnkuIFVzZWQgdG8gbGltaXQgcmV1c2Ugb2Zcbi8vLyBjb250ZXh0dWFsIG5vZGVzLlxuTm9kZVByb3AuY29udGV4dEhhc2ggPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLy8vIFRoZSBkaXN0YW5jZSBiZXlvbmQgdGhlIGVuZCBvZiB0aGUgbm9kZSB0aGF0IHRoZSB0b2tlbml6ZXJcbi8vLyBsb29rZWQgYWhlYWQgZm9yIGFueSBvZiB0aGUgdG9rZW5zIGluc2lkZSB0aGUgbm9kZS4gKFRoZSBMUlxuLy8vIHBhcnNlciBvbmx5IHN0b3JlcyB0aGlzIHdoZW4gaXQgaXMgbGFyZ2VyIHRoYW4gMjUsIGZvclxuLy8vIGVmZmljaWVuY3kgcmVhc29ucy4pXG5Ob2RlUHJvcC5sb29rQWhlYWQgPSBuZXcgTm9kZVByb3AoeyBwZXJOb2RlOiB0cnVlIH0pO1xuLy8vIFRoaXMgcGVyLW5vZGUgcHJvcCBpcyB1c2VkIHRvIHJlcGxhY2UgYSBnaXZlbiBub2RlLCBvciBwYXJ0IG9mIGFcbi8vLyBub2RlLCB3aXRoIGFub3RoZXIgdHJlZS4gVGhpcyBpcyB1c2VmdWwgdG8gaW5jbHVkZSB0cmVlcyBmcm9tXG4vLy8gZGlmZmVyZW50IGxhbmd1YWdlcyBpbiBtaXhlZC1sYW5ndWFnZSBwYXJzZXJzLlxuTm9kZVByb3AubW91bnRlZCA9IG5ldyBOb2RlUHJvcCh7IHBlck5vZGU6IHRydWUgfSk7XG4vLy8gQSBtb3VudGVkIHRyZWUsIHdoaWNoIGNhbiBiZSBbc3RvcmVkXSgjY29tbW9uLk5vZGVQcm9wXm1vdW50ZWQpIG9uXG4vLy8gYSB0cmVlIG5vZGUgdG8gaW5kaWNhdGUgdGhhdCBwYXJ0cyBvZiBpdHMgY29udGVudCBhcmVcbi8vLyByZXByZXNlbnRlZCBieSBhbm90aGVyIHRyZWUuXG5jbGFzcyBNb3VudGVkVHJlZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIFRoZSBpbm5lciB0cmVlLlxuICAgIHRyZWUsIFxuICAgIC8vLyBJZiB0aGlzIGlzIG51bGwsIHRoaXMgdHJlZSByZXBsYWNlcyB0aGUgZW50aXJlIG5vZGUgKGl0IHdpbGxcbiAgICAvLy8gYmUgaW5jbHVkZWQgaW4gdGhlIHJlZ3VsYXIgaXRlcmF0aW9uIGluc3RlYWQgb2YgaXRzIGhvc3RcbiAgICAvLy8gbm9kZSkuIElmIG5vdCwgb25seSB0aGUgZ2l2ZW4gcmFuZ2VzIGFyZSBjb25zaWRlcmVkIHRvIGJlXG4gICAgLy8vIGNvdmVyZWQgYnkgdGhpcyB0cmVlLiBUaGlzIGlzIHVzZWQgZm9yIHRyZWVzIHRoYXQgYXJlIG1peGVkIGluXG4gICAgLy8vIGEgd2F5IHRoYXQgaXNuJ3Qgc3RyaWN0bHkgaGllcmFyY2hpY2FsLiBTdWNoIG1vdW50ZWQgdHJlZXMgYXJlXG4gICAgLy8vIG9ubHkgZW50ZXJlZCBieSBbYHJlc29sdmVJbm5lcmBdKCNjb21tb24uVHJlZS5yZXNvbHZlSW5uZXIpXG4gICAgLy8vIGFuZCBbYGVudGVyYF0oI2NvbW1vbi5TeW50YXhOb2RlLmVudGVyKS5cbiAgICBvdmVybGF5LCBcbiAgICAvLy8gVGhlIHBhcnNlciB1c2VkIHRvIGNyZWF0ZSB0aGlzIHN1YnRyZWUuXG4gICAgcGFyc2VyKSB7XG4gICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIH1cbn1cbmNvbnN0IG5vUHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLy8vIEVhY2ggbm9kZSBpbiBhIHN5bnRheCB0cmVlIGhhcyBhIG5vZGUgdHlwZSBhc3NvY2lhdGVkIHdpdGggaXQuXG5jbGFzcyBOb2RlVHlwZSB7XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgbm9kZSB0eXBlLiBOb3QgbmVjZXNzYXJpbHkgdW5pcXVlLCBidXQgaWYgdGhlXG4gICAgLy8vIGdyYW1tYXIgd2FzIHdyaXR0ZW4gcHJvcGVybHksIGRpZmZlcmVudCBub2RlIHR5cGVzIHdpdGggdGhlXG4gICAgLy8vIHNhbWUgbmFtZSB3aXRoaW4gYSBub2RlIHNldCBzaG91bGQgcGxheSB0aGUgc2FtZSBzZW1hbnRpY1xuICAgIC8vLyByb2xlLlxuICAgIG5hbWUsIFxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBwcm9wcywgXG4gICAgLy8vIFRoZSBpZCBvZiB0aGlzIG5vZGUgaW4gaXRzIHNldC4gQ29ycmVzcG9uZHMgdG8gdGhlIHRlcm0gaWRzXG4gICAgLy8vIHVzZWQgaW4gdGhlIHBhcnNlci5cbiAgICBpZCwgXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGZsYWdzID0gMCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICAgIH1cbiAgICAvLy8gRGVmaW5lIGEgbm9kZSB0eXBlLlxuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgcHJvcHMgPSBzcGVjLnByb3BzICYmIHNwZWMucHJvcHMubGVuZ3RoID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IG5vUHJvcHM7XG4gICAgICAgIGxldCBmbGFncyA9IChzcGVjLnRvcCA/IDEgLyogTm9kZUZsYWcuVG9wICovIDogMCkgfCAoc3BlYy5za2lwcGVkID8gMiAvKiBOb2RlRmxhZy5Ta2lwcGVkICovIDogMCkgfFxuICAgICAgICAgICAgKHNwZWMuZXJyb3IgPyA0IC8qIE5vZGVGbGFnLkVycm9yICovIDogMCkgfCAoc3BlYy5uYW1lID09IG51bGwgPyA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLyA6IDApO1xuICAgICAgICBsZXQgdHlwZSA9IG5ldyBOb2RlVHlwZShzcGVjLm5hbWUgfHwgXCJcIiwgcHJvcHMsIHNwZWMuaWQsIGZsYWdzKTtcbiAgICAgICAgaWYgKHNwZWMucHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBzcmMgb2Ygc3BlYy5wcm9wcykge1xuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzcmMpKVxuICAgICAgICAgICAgICAgICAgICBzcmMgPSBzcmModHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3JjWzBdLnBlck5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkNhbid0IHN0b3JlIGEgcGVyLW5vZGUgcHJvcCBvbiBhIG5vZGUgdHlwZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHNbc3JjWzBdLmlkXSA9IHNyY1sxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICAvLy8gUmV0cmlldmVzIGEgbm9kZSBwcm9wIGZvciB0aGlzIHR5cGUuIFdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIGlmXG4gICAgLy8vIHRoZSBwcm9wIGlzbid0IHByZXNlbnQgb24gdGhpcyBub2RlLlxuICAgIHByb3AocHJvcCkgeyByZXR1cm4gdGhpcy5wcm9wc1twcm9wLmlkXTsgfVxuICAgIC8vLyBUcnVlIHdoZW4gdGhpcyBpcyB0aGUgdG9wIG5vZGUgb2YgYSBncmFtbWFyLlxuICAgIGdldCBpc1RvcCgpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgMSAvKiBOb2RlRmxhZy5Ub3AgKi8pID4gMDsgfVxuICAgIC8vLyBUcnVlIHdoZW4gdGhpcyBub2RlIGlzIHByb2R1Y2VkIGJ5IGEgc2tpcCBydWxlLlxuICAgIGdldCBpc1NraXBwZWQoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDIgLyogTm9kZUZsYWcuU2tpcHBlZCAqLykgPiAwOyB9XG4gICAgLy8vIEluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYW4gZXJyb3Igbm9kZS5cbiAgICBnZXQgaXNFcnJvcigpIHsgcmV0dXJuICh0aGlzLmZsYWdzICYgNCAvKiBOb2RlRmxhZy5FcnJvciAqLykgPiAwOyB9XG4gICAgLy8vIFdoZW4gdHJ1ZSwgdGhpcyBub2RlIHR5cGUgZG9lc24ndCBjb3JyZXNwb25kIHRvIGEgdXNlci1kZWNsYXJlZFxuICAgIC8vLyBuYW1lZCBub2RlLCBmb3IgZXhhbXBsZSBiZWNhdXNlIGl0IGlzIHVzZWQgdG8gY2FjaGUgcmVwZXRpdGlvbi5cbiAgICBnZXQgaXNBbm9ueW1vdXMoKSB7IHJldHVybiAodGhpcy5mbGFncyAmIDggLyogTm9kZUZsYWcuQW5vbnltb3VzICovKSA+IDA7IH1cbiAgICAvLy8gUmV0dXJucyB0cnVlIHdoZW4gdGhpcyBub2RlJ3MgbmFtZSBvciBvbmUgb2YgaXRzXG4gICAgLy8vIFtncm91cHNdKCNjb21tb24uTm9kZVByb3BeZ3JvdXApIG1hdGNoZXMgdGhlIGdpdmVuIHN0cmluZy5cbiAgICBpcyhuYW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSA9PSBuYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5wcm9wKE5vZGVQcm9wLmdyb3VwKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cCA/IGdyb3VwLmluZGV4T2YobmFtZSkgPiAtMSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmlkID09IG5hbWU7XG4gICAgfVxuICAgIC8vLyBDcmVhdGUgYSBmdW5jdGlvbiBmcm9tIG5vZGUgdHlwZXMgdG8gYXJiaXRyYXJ5IHZhbHVlcyBieVxuICAgIC8vLyBzcGVjaWZ5aW5nIGFuIG9iamVjdCB3aG9zZSBwcm9wZXJ0eSBuYW1lcyBhcmUgbm9kZSBvclxuICAgIC8vLyBbZ3JvdXBdKCNjb21tb24uTm9kZVByb3BeZ3JvdXApIG5hbWVzLiBPZnRlbiB1c2VmdWwgd2l0aFxuICAgIC8vLyBbYE5vZGVQcm9wLmFkZGBdKCNjb21tb24uTm9kZVByb3AuYWRkKS4gWW91IGNhbiBwdXQgbXVsdGlwbGVcbiAgICAvLy8gbmFtZXMsIHNlcGFyYXRlZCBieSBzcGFjZXMsIGluIGEgc2luZ2xlIHByb3BlcnR5IG5hbWUgdG8gbWFwXG4gICAgLy8vIG11bHRpcGxlIG5vZGUgbmFtZXMgdG8gYSBzaW5nbGUgdmFsdWUuXG4gICAgc3RhdGljIG1hdGNoKG1hcCkge1xuICAgICAgICBsZXQgZGlyZWN0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtYXApXG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIG9mIHByb3Auc3BsaXQoXCIgXCIpKVxuICAgICAgICAgICAgICAgIGRpcmVjdFtuYW1lXSA9IG1hcFtwcm9wXTtcbiAgICAgICAgcmV0dXJuIChub2RlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBncm91cHMgPSBub2RlLnByb3AoTm9kZVByb3AuZ3JvdXApLCBpID0gLTE7IGkgPCAoZ3JvdXBzID8gZ3JvdXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBkaXJlY3RbaSA8IDAgPyBub2RlLm5hbWUgOiBncm91cHNbaV1dO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vLyBBbiBlbXB0eSBkdW1teSBub2RlIHR5cGUgdG8gdXNlIHdoZW4gbm8gYWN0dWFsIHR5cGUgaXMgYXZhaWxhYmxlLlxuTm9kZVR5cGUubm9uZSA9IG5ldyBOb2RlVHlwZShcIlwiLCBPYmplY3QuY3JlYXRlKG51bGwpLCAwLCA4IC8qIE5vZGVGbGFnLkFub255bW91cyAqLyk7XG4vLy8gQSBub2RlIHNldCBob2xkcyBhIGNvbGxlY3Rpb24gb2Ygbm9kZSB0eXBlcy4gSXQgaXMgdXNlZCB0b1xuLy8vIGNvbXBhY3RseSByZXByZXNlbnQgdHJlZXMgYnkgc3RvcmluZyB0aGVpciB0eXBlIGlkcywgcmF0aGVyIHRoYW4gYVxuLy8vIGZ1bGwgcG9pbnRlciB0byB0aGUgdHlwZSBvYmplY3QsIGluIGEgbnVtZXJpYyBhcnJheS4gRWFjaCBwYXJzZXJcbi8vLyBbaGFzXSgjbHIuTFJQYXJzZXIubm9kZVNldCkgYSBub2RlIHNldCwgYW5kIFt0cmVlXG4vLy8gYnVmZmVyc10oI2NvbW1vbi5UcmVlQnVmZmVyKSBjYW4gb25seSBzdG9yZSBjb2xsZWN0aW9ucyBvZiBub2Rlc1xuLy8vIGZyb20gdGhlIHNhbWUgc2V0LiBBIHNldCBjYW4gaGF2ZSBhIG1heGltdW0gb2YgMioqMTYgKDY1NTM2KSBub2RlXG4vLy8gdHlwZXMgaW4gaXQsIHNvIHRoYXQgdGhlIGlkcyBmaXQgaW50byAxNi1iaXQgdHlwZWQgYXJyYXkgc2xvdHMuXG5jbGFzcyBOb2RlU2V0IHtcbiAgICAvLy8gQ3JlYXRlIGEgc2V0IHdpdGggdGhlIGdpdmVuIHR5cGVzLiBUaGUgYGlkYCBwcm9wZXJ0eSBvZiBlYWNoXG4gICAgLy8vIHR5cGUgc2hvdWxkIGNvcnJlc3BvbmQgdG8gaXRzIHBvc2l0aW9uIHdpdGhpbiB0aGUgYXJyYXkuXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIFRoZSBub2RlIHR5cGVzIGluIHRoaXMgc2V0LCBieSBpZC5cbiAgICB0eXBlcykge1xuICAgICAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAodHlwZXNbaV0uaWQgIT0gaSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk5vZGUgdHlwZSBpZHMgc2hvdWxkIGNvcnJlc3BvbmQgdG8gYXJyYXkgcG9zaXRpb25zIHdoZW4gY3JlYXRpbmcgYSBub2RlIHNldFwiKTtcbiAgICB9XG4gICAgLy8vIENyZWF0ZSBhIGNvcHkgb2YgdGhpcyBzZXQgd2l0aCBzb21lIG5vZGUgcHJvcGVydGllcyBhZGRlZC4gVGhlXG4gICAgLy8vIGFyZ3VtZW50cyB0byB0aGlzIG1ldGhvZCBjYW4gYmUgY3JlYXRlZCB3aXRoXG4gICAgLy8vIFtgTm9kZVByb3AuYWRkYF0oI2NvbW1vbi5Ob2RlUHJvcC5hZGQpLlxuICAgIGV4dGVuZCguLi5wcm9wcykge1xuICAgICAgICBsZXQgbmV3VHlwZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgdHlwZSBvZiB0aGlzLnR5cGVzKSB7XG4gICAgICAgICAgICBsZXQgbmV3UHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgc291cmNlIG9mIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFkZCA9IHNvdXJjZSh0eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV3UHJvcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHR5cGUucHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1thZGRbMF0uaWRdID0gYWRkWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1R5cGVzLnB1c2gobmV3UHJvcHMgPyBuZXcgTm9kZVR5cGUodHlwZS5uYW1lLCBuZXdQcm9wcywgdHlwZS5pZCwgdHlwZS5mbGFncykgOiB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE5vZGVTZXQobmV3VHlwZXMpO1xuICAgIH1cbn1cbmNvbnN0IENhY2hlZE5vZGUgPSBuZXcgV2Vha01hcCgpLCBDYWNoZWRJbm5lck5vZGUgPSBuZXcgV2Vha01hcCgpO1xuLy8vIE9wdGlvbnMgdGhhdCBjb250cm9sIGl0ZXJhdGlvbi4gQ2FuIGJlIGNvbWJpbmVkIHdpdGggdGhlIGB8YFxuLy8vIG9wZXJhdG9yIHRvIGVuYWJsZSBtdWx0aXBsZSBvbmVzLlxudmFyIEl0ZXJNb2RlO1xuKGZ1bmN0aW9uIChJdGVyTW9kZSkge1xuICAgIC8vLyBXaGVuIGVuYWJsZWQsIGl0ZXJhdGlvbiB3aWxsIG9ubHkgdmlzaXQgW2BUcmVlYF0oI2NvbW1vbi5UcmVlKVxuICAgIC8vLyBvYmplY3RzLCBub3Qgbm9kZXMgcGFja2VkIGludG9cbiAgICAvLy8gW2BUcmVlQnVmZmVyYF0oI2NvbW1vbi5UcmVlQnVmZmVyKXMuXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJFeGNsdWRlQnVmZmVyc1wiXSA9IDFdID0gXCJFeGNsdWRlQnVmZmVyc1wiO1xuICAgIC8vLyBFbmFibGUgdGhpcyB0byBtYWtlIGl0ZXJhdGlvbiBpbmNsdWRlIGFub255bW91cyBub2RlcyAoc3VjaCBhc1xuICAgIC8vLyB0aGUgbm9kZXMgdGhhdCB3cmFwIHJlcGVhdGVkIGdyYW1tYXIgY29uc3RydWN0cyBpbnRvIGEgYmFsYW5jZWRcbiAgICAvLy8gdHJlZSkuXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJbmNsdWRlQW5vbnltb3VzXCJdID0gMl0gPSBcIkluY2x1ZGVBbm9ueW1vdXNcIjtcbiAgICAvLy8gQnkgZGVmYXVsdCwgcmVndWxhciBbbW91bnRlZF0oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSBub2Rlc1xuICAgIC8vLyByZXBsYWNlIHRoZWlyIGJhc2Ugbm9kZSBpbiBpdGVyYXRpb24uIEVuYWJsZSB0aGlzIHRvIGlnbm9yZSB0aGVtXG4gICAgLy8vIGluc3RlYWQuXG4gICAgSXRlck1vZGVbSXRlck1vZGVbXCJJZ25vcmVNb3VudHNcIl0gPSA0XSA9IFwiSWdub3JlTW91bnRzXCI7XG4gICAgLy8vIFRoaXMgb3B0aW9uIG9ubHkgYXBwbGllcyBpblxuICAgIC8vLyBbYGVudGVyYF0oI2NvbW1vbi5TeW50YXhOb2RlLmVudGVyKS1zdHlsZSBtZXRob2RzLiBJdCB0ZWxscyB0aGVcbiAgICAvLy8gbGlicmFyeSB0byBub3QgZW50ZXIgbW91bnRlZCBvdmVybGF5cyBpZiBvbmUgY292ZXJzIHRoZSBnaXZlblxuICAgIC8vLyBwb3NpdGlvbi5cbiAgICBJdGVyTW9kZVtJdGVyTW9kZVtcIklnbm9yZU92ZXJsYXlzXCJdID0gOF0gPSBcIklnbm9yZU92ZXJsYXlzXCI7XG59KShJdGVyTW9kZSB8fCAoSXRlck1vZGUgPSB7fSkpO1xuLy8vIEEgcGllY2Ugb2Ygc3ludGF4IHRyZWUuIFRoZXJlIGFyZSB0d28gd2F5cyB0byBhcHByb2FjaCB0aGVzZVxuLy8vIHRyZWVzOiB0aGUgd2F5IHRoZXkgYXJlIGFjdHVhbGx5IHN0b3JlZCBpbiBtZW1vcnksIGFuZCB0aGVcbi8vLyBjb252ZW5pZW50IHdheS5cbi8vL1xuLy8vIFN5bnRheCB0cmVlcyBhcmUgc3RvcmVkIGFzIGEgdHJlZSBvZiBgVHJlZWAgYW5kIGBUcmVlQnVmZmVyYFxuLy8vIG9iamVjdHMuIEJ5IHBhY2tpbmcgZGV0YWlsIGluZm9ybWF0aW9uIGludG8gYFRyZWVCdWZmZXJgIGxlYWZcbi8vLyBub2RlcywgdGhlIHJlcHJlc2VudGF0aW9uIGlzIG1hZGUgYSBsb3QgbW9yZSBtZW1vcnktZWZmaWNpZW50LlxuLy8vXG4vLy8gSG93ZXZlciwgd2hlbiB5b3Ugd2FudCB0byBhY3R1YWxseSB3b3JrIHdpdGggdHJlZSBub2RlcywgdGhpc1xuLy8vIHJlcHJlc2VudGF0aW9uIGlzIHZlcnkgYXdrd2FyZCwgc28gbW9zdCBjbGllbnQgY29kZSB3aWxsIHdhbnQgdG9cbi8vLyB1c2UgdGhlIFtgVHJlZUN1cnNvcmBdKCNjb21tb24uVHJlZUN1cnNvcikgb3Jcbi8vLyBbYFN5bnRheE5vZGVgXSgjY29tbW9uLlN5bnRheE5vZGUpIGludGVyZmFjZSBpbnN0ZWFkLCB3aGljaCBwcm92aWRlc1xuLy8vIGEgdmlldyBvbiBzb21lIHBhcnQgb2YgdGhpcyBkYXRhIHN0cnVjdHVyZSwgYW5kIGNhbiBiZSB1c2VkIHRvXG4vLy8gbW92ZSBhcm91bmQgdG8gYWRqYWNlbnQgbm9kZXMuXG5jbGFzcyBUcmVlIHtcbiAgICAvLy8gQ29uc3RydWN0IGEgbmV3IHRyZWUuIFNlZSBhbHNvIFtgVHJlZS5idWlsZGBdKCNjb21tb24uVHJlZV5idWlsZCkuXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIFRoZSB0eXBlIG9mIHRoZSB0b3Agbm9kZS5cbiAgICB0eXBlLCBcbiAgICAvLy8gVGhpcyBub2RlJ3MgY2hpbGQgbm9kZXMuXG4gICAgY2hpbGRyZW4sIFxuICAgIC8vLyBUaGUgcG9zaXRpb25zIChvZmZzZXRzIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBvZiB0aGlzIHRyZWUpIG9mXG4gICAgLy8vIHRoZSBjaGlsZHJlbi5cbiAgICBwb3NpdGlvbnMsIFxuICAgIC8vLyBUaGUgdG90YWwgbGVuZ3RoIG9mIHRoaXMgdHJlZVxuICAgIGxlbmd0aCwgXG4gICAgLy8vIFBlci1ub2RlIFtub2RlIHByb3BzXSgjY29tbW9uLk5vZGVQcm9wKSB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIG5vZGUuXG4gICAgcHJvcHMpIHtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLnBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5wcm9wcyA9IG51bGw7XG4gICAgICAgIGlmIChwcm9wcyAmJiBwcm9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgICAgZm9yIChsZXQgW3Byb3AsIHZhbHVlXSBvZiBwcm9wcylcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzW3R5cGVvZiBwcm9wID09IFwibnVtYmVyXCIgPyBwcm9wIDogcHJvcC5pZF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCBtb3VudGVkID0gdGhpcy5wcm9wKE5vZGVQcm9wLm1vdW50ZWQpO1xuICAgICAgICBpZiAobW91bnRlZCAmJiAhbW91bnRlZC5vdmVybGF5KVxuICAgICAgICAgICAgcmV0dXJuIG1vdW50ZWQudHJlZS50b1N0cmluZygpO1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBjaCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBsZXQgc3RyID0gY2gudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IFwiLFwiO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuICs9IHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIXRoaXMudHlwZS5uYW1lID8gY2hpbGRyZW4gOlxuICAgICAgICAgICAgKC9cXFcvLnRlc3QodGhpcy50eXBlLm5hbWUpICYmICF0aGlzLnR5cGUuaXNFcnJvciA/IEpTT04uc3RyaW5naWZ5KHRoaXMudHlwZS5uYW1lKSA6IHRoaXMudHlwZS5uYW1lKSArXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuLmxlbmd0aCA/IFwiKFwiICsgY2hpbGRyZW4gKyBcIilcIiA6IFwiXCIpO1xuICAgIH1cbiAgICAvLy8gR2V0IGEgW3RyZWUgY3Vyc29yXSgjY29tbW9uLlRyZWVDdXJzb3IpIHBvc2l0aW9uZWQgYXQgdGhlIHRvcCBvZlxuICAgIC8vLyB0aGUgdHJlZS4gTW9kZSBjYW4gYmUgdXNlZCB0byBbY29udHJvbF0oI2NvbW1vbi5JdGVyTW9kZSkgd2hpY2hcbiAgICAvLy8gbm9kZXMgdGhlIGN1cnNvciB2aXNpdHMuXG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLnRvcE5vZGUsIG1vZGUpO1xuICAgIH1cbiAgICAvLy8gR2V0IGEgW3RyZWUgY3Vyc29yXSgjY29tbW9uLlRyZWVDdXJzb3IpIHBvaW50aW5nIGludG8gdGhpcyB0cmVlXG4gICAgLy8vIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiBhbmQgc2lkZSAoc2VlXG4gICAgLy8vIFtgbW92ZVRvYF0oI2NvbW1vbi5UcmVlQ3Vyc29yLm1vdmVUbykuXG4gICAgY3Vyc29yQXQocG9zLCBzaWRlID0gMCwgbW9kZSA9IDApIHtcbiAgICAgICAgbGV0IHNjb3BlID0gQ2FjaGVkTm9kZS5nZXQodGhpcykgfHwgdGhpcy50b3BOb2RlO1xuICAgICAgICBsZXQgY3Vyc29yID0gbmV3IFRyZWVDdXJzb3Ioc2NvcGUpO1xuICAgICAgICBjdXJzb3IubW92ZVRvKHBvcywgc2lkZSk7XG4gICAgICAgIENhY2hlZE5vZGUuc2V0KHRoaXMsIGN1cnNvci5fdHJlZSk7XG4gICAgICAgIHJldHVybiBjdXJzb3I7XG4gICAgfVxuICAgIC8vLyBHZXQgYSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgb2JqZWN0IGZvciB0aGUgdG9wIG9mIHRoZVxuICAgIC8vLyB0cmVlLlxuICAgIGdldCB0b3BOb2RlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKHRoaXMsIDAsIDAsIG51bGwpO1xuICAgIH1cbiAgICAvLy8gR2V0IHRoZSBbc3ludGF4IG5vZGVdKCNjb21tb24uU3ludGF4Tm9kZSkgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgIC8vLyBJZiBgc2lkZWAgaXMgLTEsIHRoaXMgd2lsbCBtb3ZlIGludG8gbm9kZXMgdGhhdCBlbmQgYXQgdGhlXG4gICAgLy8vIHBvc2l0aW9uLiBJZiAxLCBpdCdsbCBtb3ZlIGludG8gbm9kZXMgdGhhdCBzdGFydCBhdCB0aGVcbiAgICAvLy8gcG9zaXRpb24uIFdpdGggMCwgaXQnbGwgb25seSBlbnRlciBub2RlcyB0aGF0IGNvdmVyIHRoZSBwb3NpdGlvblxuICAgIC8vLyBmcm9tIGJvdGggc2lkZXMuXG4gICAgLy8vXG4gICAgLy8vIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IGVudGVyXG4gICAgLy8vIFtvdmVybGF5c10oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KSwgYW5kIHlvdSBvZnRlbiB3YW50XG4gICAgLy8vIFtgcmVzb2x2ZUlubmVyYF0oI2NvbW1vbi5UcmVlLnJlc29sdmVJbm5lcikgaW5zdGVhZC5cbiAgICByZXNvbHZlKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgbGV0IG5vZGUgPSByZXNvbHZlTm9kZShDYWNoZWROb2RlLmdldCh0aGlzKSB8fCB0aGlzLnRvcE5vZGUsIHBvcywgc2lkZSwgZmFsc2UpO1xuICAgICAgICBDYWNoZWROb2RlLnNldCh0aGlzLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIC8vLyBMaWtlIFtgcmVzb2x2ZWBdKCNjb21tb24uVHJlZS5yZXNvbHZlKSwgYnV0IHdpbGwgZW50ZXJcbiAgICAvLy8gW292ZXJsYWlkXSgjY29tbW9uLk1vdW50ZWRUcmVlLm92ZXJsYXkpIG5vZGVzLCBwcm9kdWNpbmcgYSBzeW50YXggbm9kZVxuICAgIC8vLyBwb2ludGluZyBpbnRvIHRoZSBpbm5lcm1vc3Qgb3ZlcmxhaWQgdHJlZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb25cbiAgICAvLy8gKHdpdGggcGFyZW50IGxpbmtzIGdvaW5nIHRocm91Z2ggYWxsIHBhcmVudCBzdHJ1Y3R1cmUsIGluY2x1ZGluZ1xuICAgIC8vLyB0aGUgaG9zdCB0cmVlcykuXG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgbGV0IG5vZGUgPSByZXNvbHZlTm9kZShDYWNoZWRJbm5lck5vZGUuZ2V0KHRoaXMpIHx8IHRoaXMudG9wTm9kZSwgcG9zLCBzaWRlLCB0cnVlKTtcbiAgICAgICAgQ2FjaGVkSW5uZXJOb2RlLnNldCh0aGlzLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIC8vLyBJdGVyYXRlIG92ZXIgdGhlIHRyZWUgYW5kIGl0cyBjaGlsZHJlbiwgY2FsbGluZyBgZW50ZXJgIGZvciBhbnlcbiAgICAvLy8gbm9kZSB0aGF0IHRvdWNoZXMgdGhlIGBmcm9tYC9gdG9gIHJlZ2lvbiAoaWYgZ2l2ZW4pIGJlZm9yZVxuICAgIC8vLyBydW5uaW5nIG92ZXIgc3VjaCBhIG5vZGUncyBjaGlsZHJlbiwgYW5kIGBsZWF2ZWAgKGlmIGdpdmVuKSB3aGVuXG4gICAgLy8vIGxlYXZpbmcgdGhlIG5vZGUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIHRoYXQgbm9kZSB3aWxsXG4gICAgLy8vIG5vdCBoYXZlIGl0cyBjaGlsZHJlbiBpdGVyYXRlZCBvdmVyIChvciBgbGVhdmVgIGNhbGxlZCkuXG4gICAgaXRlcmF0ZShzcGVjKSB7XG4gICAgICAgIGxldCB7IGVudGVyLCBsZWF2ZSwgZnJvbSA9IDAsIHRvID0gdGhpcy5sZW5ndGggfSA9IHNwZWM7XG4gICAgICAgIGZvciAobGV0IGMgPSB0aGlzLmN1cnNvcigoc3BlYy5tb2RlIHx8IDApIHwgSXRlck1vZGUuSW5jbHVkZUFub255bW91cyk7Oykge1xuICAgICAgICAgICAgbGV0IGVudGVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjLmZyb20gPD0gdG8gJiYgYy50byA+PSBmcm9tICYmIChjLnR5cGUuaXNBbm9ueW1vdXMgfHwgZW50ZXIoYykgIT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIGlmIChjLmZpcnN0Q2hpbGQoKSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZW50ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudGVyZWQgJiYgbGVhdmUgJiYgIWMudHlwZS5pc0Fub255bW91cylcbiAgICAgICAgICAgICAgICAgICAgbGVhdmUoYyk7XG4gICAgICAgICAgICAgICAgaWYgKGMubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKCFjLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgZW50ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8vIEdldCB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIFtub2RlIHByb3BdKCNjb21tb24uTm9kZVByb3ApIGZvciB0aGlzXG4gICAgLy8vIG5vZGUuIFdvcmtzIHdpdGggYm90aCBwZXItbm9kZSBhbmQgcGVyLXR5cGUgcHJvcHMuXG4gICAgcHJvcChwcm9wKSB7XG4gICAgICAgIHJldHVybiAhcHJvcC5wZXJOb2RlID8gdGhpcy50eXBlLnByb3AocHJvcCkgOiB0aGlzLnByb3BzID8gdGhpcy5wcm9wc1twcm9wLmlkXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8vIFJldHVybnMgdGhlIG5vZGUncyBbcGVyLW5vZGUgcHJvcHNdKCNjb21tb24uTm9kZVByb3AucGVyTm9kZSkgaW4gYVxuICAgIC8vLyBmb3JtYXQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBbYFRyZWVgXSgjY29tbW9uLlRyZWUpXG4gICAgLy8vIGNvbnN0cnVjdG9yLlxuICAgIGdldCBwcm9wVmFsdWVzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGlmICh0aGlzLnByb3BzKVxuICAgICAgICAgICAgZm9yIChsZXQgaWQgaW4gdGhpcy5wcm9wcylcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbK2lkLCB0aGlzLnByb3BzW2lkXV0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLy8gQmFsYW5jZSB0aGUgZGlyZWN0IGNoaWxkcmVuIG9mIHRoaXMgdHJlZSwgcHJvZHVjaW5nIGEgY29weSBvZlxuICAgIC8vLyB3aGljaCBtYXkgaGF2ZSBjaGlsZHJlbiBncm91cGVkIGludG8gc3VidHJlZXMgd2l0aCB0eXBlXG4gICAgLy8vIFtgTm9kZVR5cGUubm9uZWBdKCNjb21tb24uTm9kZVR5cGVebm9uZSkuXG4gICAgYmFsYW5jZShjb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyA/IHRoaXMgOlxuICAgICAgICAgICAgYmFsYW5jZVJhbmdlKE5vZGVUeXBlLm5vbmUsIHRoaXMuY2hpbGRyZW4sIHRoaXMucG9zaXRpb25zLCAwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgMCwgdGhpcy5sZW5ndGgsIChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKHRoaXMudHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCB0aGlzLnByb3BWYWx1ZXMpLCBjb25maWcubWFrZVRyZWUgfHwgKChjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpID0+IG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkpKTtcbiAgICB9XG4gICAgLy8vIEJ1aWxkIGEgdHJlZSBmcm9tIGEgcG9zdGZpeC1vcmRlcmVkIGJ1ZmZlciBvZiBub2RlIGluZm9ybWF0aW9uLFxuICAgIC8vLyBvciBhIGN1cnNvciBvdmVyIHN1Y2ggYSBidWZmZXIuXG4gICAgc3RhdGljIGJ1aWxkKGRhdGEpIHsgcmV0dXJuIGJ1aWxkVHJlZShkYXRhKTsgfVxufVxuLy8vIFRoZSBlbXB0eSB0cmVlXG5UcmVlLmVtcHR5ID0gbmV3IFRyZWUoTm9kZVR5cGUubm9uZSwgW10sIFtdLCAwKTtcbmNsYXNzIEZsYXRCdWZmZXJDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICB9XG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDRdOyB9XG4gICAgZ2V0IHN0YXJ0KCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDNdOyB9XG4gICAgZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAyXTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDFdOyB9XG4gICAgZ2V0IHBvcygpIHsgcmV0dXJuIHRoaXMuaW5kZXg7IH1cbiAgICBuZXh0KCkgeyB0aGlzLmluZGV4IC09IDQ7IH1cbiAgICBmb3JrKCkgeyByZXR1cm4gbmV3IEZsYXRCdWZmZXJDdXJzb3IodGhpcy5idWZmZXIsIHRoaXMuaW5kZXgpOyB9XG59XG4vLy8gVHJlZSBidWZmZXJzIGNvbnRhaW4gKHR5cGUsIHN0YXJ0LCBlbmQsIGVuZEluZGV4KSBxdWFkcyBmb3IgZWFjaFxuLy8vIG5vZGUuIEluIHN1Y2ggYSBidWZmZXIsIG5vZGVzIGFyZSBzdG9yZWQgaW4gcHJlZml4IG9yZGVyIChwYXJlbnRzXG4vLy8gYmVmb3JlIGNoaWxkcmVuLCB3aXRoIHRoZSBlbmRJbmRleCBvZiB0aGUgcGFyZW50IGluZGljYXRpbmcgd2hpY2hcbi8vLyBjaGlsZHJlbiBiZWxvbmcgdG8gaXQpLlxuY2xhc3MgVHJlZUJ1ZmZlciB7XG4gICAgLy8vIENyZWF0ZSBhIHRyZWUgYnVmZmVyLlxuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vLyBUaGUgYnVmZmVyJ3MgY29udGVudC5cbiAgICBidWZmZXIsIFxuICAgIC8vLyBUaGUgdG90YWwgbGVuZ3RoIG9mIHRoZSBncm91cCBvZiBub2RlcyBpbiB0aGUgYnVmZmVyLlxuICAgIGxlbmd0aCwgXG4gICAgLy8vIFRoZSBub2RlIHNldCB1c2VkIGluIHRoaXMgYnVmZmVyLlxuICAgIHNldCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiBOb2RlVHlwZS5ub25lOyB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmJ1ZmZlci5sZW5ndGg7KSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmNoaWxkU3RyaW5nKGluZGV4KSk7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuYnVmZmVyW2luZGV4ICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiLFwiKTtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGNoaWxkU3RyaW5nKGluZGV4KSB7XG4gICAgICAgIGxldCBpZCA9IHRoaXMuYnVmZmVyW2luZGV4XSwgZW5kSW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICBsZXQgdHlwZSA9IHRoaXMuc2V0LnR5cGVzW2lkXSwgcmVzdWx0ID0gdHlwZS5uYW1lO1xuICAgICAgICBpZiAoL1xcVy8udGVzdChyZXN1bHQpICYmICF0eXBlLmlzRXJyb3IpXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgICAgICBpbmRleCArPSA0O1xuICAgICAgICBpZiAoZW5kSW5kZXggPT0gaW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5jaGlsZFN0cmluZyhpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmJ1ZmZlcltpbmRleCArIDNdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQgKyBcIihcIiArIGNoaWxkcmVuLmpvaW4oXCIsXCIpICsgXCIpXCI7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBmaW5kQ2hpbGQoc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRpciwgcG9zLCBzaWRlKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcywgcGljayA9IC0xO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSAhPSBlbmRJbmRleDsgaSA9IGJ1ZmZlcltpICsgM10pIHtcbiAgICAgICAgICAgIGlmIChjaGVja1NpZGUoc2lkZSwgcG9zLCBidWZmZXJbaSArIDFdLCBidWZmZXJbaSArIDJdKSkge1xuICAgICAgICAgICAgICAgIHBpY2sgPSBpO1xuICAgICAgICAgICAgICAgIGlmIChkaXIgPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGljaztcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHNsaWNlKHN0YXJ0SSwgZW5kSSwgZnJvbSkge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBsZXQgY29weSA9IG5ldyBVaW50MTZBcnJheShlbmRJIC0gc3RhcnRJKSwgbGVuID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SSwgaiA9IDA7IGkgPCBlbmRJOykge1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdO1xuICAgICAgICAgICAgY29weVtqKytdID0gYltpKytdIC0gZnJvbTtcbiAgICAgICAgICAgIGxldCB0byA9IGNvcHlbaisrXSA9IGJbaSsrXSAtIGZyb207XG4gICAgICAgICAgICBjb3B5W2orK10gPSBiW2krK10gLSBzdGFydEk7XG4gICAgICAgICAgICBsZW4gPSBNYXRoLm1heChsZW4sIHRvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWVCdWZmZXIoY29weSwgbGVuLCB0aGlzLnNldCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tTaWRlKHNpZGUsIHBvcywgZnJvbSwgdG8pIHtcbiAgICBzd2l0Y2ggKHNpZGUpIHtcbiAgICAgICAgY2FzZSAtMiAvKiBTaWRlLkJlZm9yZSAqLzogcmV0dXJuIGZyb20gPCBwb3M7XG4gICAgICAgIGNhc2UgLTEgLyogU2lkZS5BdE9yQmVmb3JlICovOiByZXR1cm4gdG8gPj0gcG9zICYmIGZyb20gPCBwb3M7XG4gICAgICAgIGNhc2UgMCAvKiBTaWRlLkFyb3VuZCAqLzogcmV0dXJuIGZyb20gPCBwb3MgJiYgdG8gPiBwb3M7XG4gICAgICAgIGNhc2UgMSAvKiBTaWRlLkF0T3JBZnRlciAqLzogcmV0dXJuIGZyb20gPD0gcG9zICYmIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDIgLyogU2lkZS5BZnRlciAqLzogcmV0dXJuIHRvID4gcG9zO1xuICAgICAgICBjYXNlIDQgLyogU2lkZS5Eb250Q2FyZSAqLzogcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gZW50ZXJVbmZpbmlzaGVkTm9kZXNCZWZvcmUobm9kZSwgcG9zKSB7XG4gICAgbGV0IHNjYW4gPSBub2RlLmNoaWxkQmVmb3JlKHBvcyk7XG4gICAgd2hpbGUgKHNjYW4pIHtcbiAgICAgICAgbGV0IGxhc3QgPSBzY2FuLmxhc3RDaGlsZDtcbiAgICAgICAgaWYgKCFsYXN0IHx8IGxhc3QudG8gIT0gc2Nhbi50bylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAobGFzdC50eXBlLmlzRXJyb3IgJiYgbGFzdC5mcm9tID09IGxhc3QudG8pIHtcbiAgICAgICAgICAgIG5vZGUgPSBzY2FuO1xuICAgICAgICAgICAgc2NhbiA9IGxhc3QucHJldlNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzY2FuID0gbGFzdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVOb2RlKG5vZGUsIHBvcywgc2lkZSwgb3ZlcmxheXMpIHtcbiAgICB2YXIgX2E7XG4gICAgLy8gTW92ZSB1cCB0byBhIG5vZGUgdGhhdCBhY3R1YWxseSBob2xkcyB0aGUgcG9zaXRpb24sIGlmIHBvc3NpYmxlXG4gICAgd2hpbGUgKG5vZGUuZnJvbSA9PSBub2RlLnRvIHx8XG4gICAgICAgIChzaWRlIDwgMSA/IG5vZGUuZnJvbSA+PSBwb3MgOiBub2RlLmZyb20gPiBwb3MpIHx8XG4gICAgICAgIChzaWRlID4gLTEgPyBub2RlLnRvIDw9IHBvcyA6IG5vZGUudG8gPCBwb3MpKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSAhb3ZlcmxheXMgJiYgbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlICYmIG5vZGUuaW5kZXggPCAwID8gbnVsbCA6IG5vZGUucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBub2RlID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgbW9kZSA9IG92ZXJsYXlzID8gMCA6IEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzO1xuICAgIC8vIE11c3QgZ28gdXAgb3V0IG9mIG92ZXJsYXlzIHdoZW4gdGhvc2UgZG8gbm90IG92ZXJsYXAgd2l0aCBwb3NcbiAgICBpZiAob3ZlcmxheXMpXG4gICAgICAgIGZvciAobGV0IHNjYW4gPSBub2RlLCBwYXJlbnQgPSBzY2FuLnBhcmVudDsgcGFyZW50OyBzY2FuID0gcGFyZW50LCBwYXJlbnQgPSBzY2FuLnBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHNjYW4gaW5zdGFuY2VvZiBUcmVlTm9kZSAmJiBzY2FuLmluZGV4IDwgMCAmJiAoKF9hID0gcGFyZW50LmVudGVyKHBvcywgc2lkZSwgbW9kZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mcm9tKSAhPSBzY2FuLmZyb20pXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICAgICAgfVxuICAgIGZvciAoOzspIHtcbiAgICAgICAgbGV0IGlubmVyID0gbm9kZS5lbnRlcihwb3MsIHNpZGUsIG1vZGUpO1xuICAgICAgICBpZiAoIWlubmVyKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIG5vZGUgPSBpbm5lcjtcbiAgICB9XG59XG5jbGFzcyBUcmVlTm9kZSB7XG4gICAgY29uc3RydWN0b3IoX3RyZWUsIGZyb20sIFxuICAgIC8vIEluZGV4IGluIHBhcmVudCBub2RlLCBzZXQgdG8gLTEgaWYgdGhlIG5vZGUgaXMgbm90IGEgZGlyZWN0IGNoaWxkIG9mIF9wYXJlbnQubm9kZSAob3ZlcmxheSlcbiAgICBpbmRleCwgX3BhcmVudCkge1xuICAgICAgICB0aGlzLl90cmVlID0gX3RyZWU7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB9XG4gICAgZ2V0IHR5cGUoKSB7IHJldHVybiB0aGlzLl90cmVlLnR5cGU7IH1cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWUudHlwZS5uYW1lOyB9XG4gICAgZ2V0IHRvKCkgeyByZXR1cm4gdGhpcy5mcm9tICsgdGhpcy5fdHJlZS5sZW5ndGg7IH1cbiAgICBuZXh0Q2hpbGQoaSwgZGlyLCBwb3MsIHNpZGUsIG1vZGUgPSAwKSB7XG4gICAgICAgIGZvciAobGV0IHBhcmVudCA9IHRoaXM7Oykge1xuICAgICAgICAgICAgZm9yIChsZXQgeyBjaGlsZHJlbiwgcG9zaXRpb25zIH0gPSBwYXJlbnQuX3RyZWUsIGUgPSBkaXIgPiAwID8gY2hpbGRyZW4ubGVuZ3RoIDogLTE7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IGNoaWxkcmVuW2ldLCBzdGFydCA9IHBvc2l0aW9uc1tpXSArIHBhcmVudC5mcm9tO1xuICAgICAgICAgICAgICAgIGlmICghY2hlY2tTaWRlKHNpZGUsIHBvcywgc3RhcnQsIHN0YXJ0ICsgbmV4dC5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgJiBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBuZXh0LmZpbmRDaGlsZCgwLCBuZXh0LmJ1ZmZlci5sZW5ndGgsIGRpciwgcG9zIC0gc3RhcnQsIHNpZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyTm9kZShuZXcgQnVmZmVyQ29udGV4dChwYXJlbnQsIG5leHQsIGksIHN0YXJ0KSwgbnVsbCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgobW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8ICghbmV4dC50eXBlLmlzQW5vbnltb3VzIHx8IGhhc0NoaWxkKG5leHQpKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbW91bnRlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobW9kZSAmIEl0ZXJNb2RlLklnbm9yZU1vdW50cykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucHJvcHMgJiYgKG1vdW50ZWQgPSBuZXh0LnByb3AoTm9kZVByb3AubW91bnRlZCkpICYmICFtb3VudGVkLm92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKG1vdW50ZWQudHJlZSwgc3RhcnQsIGksIHBhcmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbm5lciA9IG5ldyBUcmVlTm9kZShuZXh0LCBzdGFydCwgaSwgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChtb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgfHwgIWlubmVyLnR5cGUuaXNBbm9ueW1vdXMgPyBpbm5lclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpbm5lci5uZXh0Q2hpbGQoZGlyIDwgMCA/IG5leHQuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDAsIGRpciwgcG9zLCBzaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSB8fCAhcGFyZW50LnR5cGUuaXNBbm9ueW1vdXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZiAocGFyZW50LmluZGV4ID49IDApXG4gICAgICAgICAgICAgICAgaSA9IHBhcmVudC5pbmRleCArIGRpcjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpID0gZGlyIDwgMCA/IC0xIDogcGFyZW50Ll9wYXJlbnQuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50Ll9wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZmlyc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKDAsIDEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBnZXQgbGFzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5uZXh0Q2hpbGQodGhpcy5fdHJlZS5jaGlsZHJlbi5sZW5ndGggLSAxLCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIGNoaWxkQWZ0ZXIocG9zKSB7IHJldHVybiB0aGlzLm5leHRDaGlsZCgwLCAxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMubmV4dENoaWxkKHRoaXMuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSwgLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBsZXQgbW91bnRlZDtcbiAgICAgICAgaWYgKCEobW9kZSAmIEl0ZXJNb2RlLklnbm9yZU92ZXJsYXlzKSAmJiAobW91bnRlZCA9IHRoaXMuX3RyZWUucHJvcChOb2RlUHJvcC5tb3VudGVkKSkgJiYgbW91bnRlZC5vdmVybGF5KSB7XG4gICAgICAgICAgICBsZXQgclBvcyA9IHBvcyAtIHRoaXMuZnJvbTtcbiAgICAgICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiBtb3VudGVkLm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpZGUgPiAwID8gZnJvbSA8PSByUG9zIDogZnJvbSA8IHJQb3MpICYmXG4gICAgICAgICAgICAgICAgICAgIChzaWRlIDwgMCA/IHRvID49IHJQb3MgOiB0byA+IHJQb3MpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRyZWVOb2RlKG1vdW50ZWQudHJlZSwgbW91bnRlZC5vdmVybGF5WzBdLmZyb20gKyB0aGlzLmZyb20sIC0xLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2hpbGQoMCwgMSwgcG9zLCBzaWRlLCBtb2RlKTtcbiAgICB9XG4gICAgbmV4dFNpZ25pZmljYW50UGFyZW50KCkge1xuICAgICAgICBsZXQgdmFsID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHZhbC50eXBlLmlzQW5vbnltb3VzICYmIHZhbC5fcGFyZW50KVxuICAgICAgICAgICAgdmFsID0gdmFsLl9wYXJlbnQ7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgPyB0aGlzLl9wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbmV4dFNpYmxpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgJiYgdGhpcy5pbmRleCA+PSAwID8gdGhpcy5fcGFyZW50Lm5leHRDaGlsZCh0aGlzLmluZGV4ICsgMSwgMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBwcmV2U2libGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudCAmJiB0aGlzLmluZGV4ID49IDAgPyB0aGlzLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuaW5kZXggLSAxLCAtMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKSA6IG51bGw7XG4gICAgfVxuICAgIGN1cnNvcihtb2RlID0gMCkgeyByZXR1cm4gbmV3IFRyZWVDdXJzb3IodGhpcywgbW9kZSk7IH1cbiAgICBnZXQgdHJlZSgpIHsgcmV0dXJuIHRoaXMuX3RyZWU7IH1cbiAgICB0b1RyZWUoKSB7IHJldHVybiB0aGlzLl90cmVlOyB9XG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcykgeyByZXR1cm4gZW50ZXJVbmZpbmlzaGVkTm9kZXNCZWZvcmUodGhpcywgcG9zKTsgfVxuICAgIGdldENoaWxkKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICBsZXQgciA9IGdldENoaWxkcmVuKHRoaXMsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gci5sZW5ndGggPyByWzBdIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0Q2hpbGRyZW4odHlwZSwgYmVmb3JlID0gbnVsbCwgYWZ0ZXIgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHRvU3RyaW5nKCkgeyByZXR1cm4gdGhpcy5fdHJlZS50b1N0cmluZygpOyB9XG4gICAgZ2V0IG5vZGUoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgbWF0Y2hDb250ZXh0KGNvbnRleHQpIHsgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcywgY29udGV4dCk7IH1cbn1cbmZ1bmN0aW9uIGdldENoaWxkcmVuKG5vZGUsIHR5cGUsIGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICBsZXQgY3VyID0gbm9kZS5jdXJzb3IoKSwgcmVzdWx0ID0gW107XG4gICAgaWYgKCFjdXIuZmlyc3RDaGlsZCgpKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChiZWZvcmUgIT0gbnVsbClcbiAgICAgICAgd2hpbGUgKCFjdXIudHlwZS5pcyhiZWZvcmUpKVxuICAgICAgICAgICAgaWYgKCFjdXIubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKGFmdGVyICE9IG51bGwgJiYgY3VyLnR5cGUuaXMoYWZ0ZXIpKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgaWYgKGN1ci50eXBlLmlzKHR5cGUpKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VyLm5vZGUpO1xuICAgICAgICBpZiAoIWN1ci5uZXh0U2libGluZygpKVxuICAgICAgICAgICAgcmV0dXJuIGFmdGVyID09IG51bGwgPyByZXN1bHQgOiBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXRjaE5vZGVDb250ZXh0KG5vZGUsIGNvbnRleHQsIGkgPSBjb250ZXh0Lmxlbmd0aCAtIDEpIHtcbiAgICBmb3IgKGxldCBwID0gbm9kZS5wYXJlbnQ7IGkgPj0gMDsgcCA9IHAucGFyZW50KSB7XG4gICAgICAgIGlmICghcClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFwLnR5cGUuaXNBbm9ueW1vdXMpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0W2ldICYmIGNvbnRleHRbaV0gIT0gcC5uYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNsYXNzIEJ1ZmZlckNvbnRleHQge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgYnVmZmVyLCBpbmRleCwgc3RhcnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICB9XG59XG5jbGFzcyBCdWZmZXJOb2RlIHtcbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMudHlwZS5uYW1lOyB9XG4gICAgZ2V0IGZyb20oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMV07IH1cbiAgICBnZXQgdG8oKSB7IHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnQgKyB0aGlzLmNvbnRleHQuYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgMl07IH1cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0LCBfcGFyZW50LCBpbmRleCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMudHlwZSA9IGNvbnRleHQuYnVmZmVyLnNldC50eXBlc1tjb250ZXh0LmJ1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICB9XG4gICAgY2hpbGQoZGlyLCBwb3MsIHNpZGUpIHtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGxldCBpbmRleCA9IGJ1ZmZlci5maW5kQ2hpbGQodGhpcy5pbmRleCArIDQsIGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDNdLCBkaXIsIHBvcyAtIHRoaXMuY29udGV4dC5zdGFydCwgc2lkZSk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIGdldCBmaXJzdENoaWxkKCkgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pOyB9XG4gICAgZ2V0IGxhc3RDaGlsZCgpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICBjaGlsZEFmdGVyKHBvcykgeyByZXR1cm4gdGhpcy5jaGlsZCgxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICBjaGlsZEJlZm9yZShwb3MpIHsgcmV0dXJuIHRoaXMuY2hpbGQoLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gMCkge1xuICAgICAgICBpZiAobW9kZSAmIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgaW5kZXggPSBidWZmZXIuZmluZENoaWxkKHRoaXMuaW5kZXggKyA0LCBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXSwgc2lkZSA+IDAgPyAxIDogLTEsIHBvcyAtIHRoaXMuY29udGV4dC5zdGFydCwgc2lkZSk7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnQgfHwgdGhpcy5jb250ZXh0LnBhcmVudC5uZXh0U2lnbmlmaWNhbnRQYXJlbnQoKTtcbiAgICB9XG4gICAgZXh0ZXJuYWxTaWJsaW5nKGRpcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50ID8gbnVsbCA6IHRoaXMuY29udGV4dC5wYXJlbnQubmV4dENoaWxkKHRoaXMuY29udGV4dC5pbmRleCArIGRpciwgZGlyLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pO1xuICAgIH1cbiAgICBnZXQgbmV4dFNpYmxpbmcoKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgYWZ0ZXIgPSBidWZmZXIuYnVmZmVyW3RoaXMuaW5kZXggKyAzXTtcbiAgICAgICAgaWYgKGFmdGVyIDwgKHRoaXMuX3BhcmVudCA/IGJ1ZmZlci5idWZmZXJbdGhpcy5fcGFyZW50LmluZGV4ICsgM10gOiBidWZmZXIuYnVmZmVyLmxlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLl9wYXJlbnQsIGFmdGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZXJuYWxTaWJsaW5nKDEpO1xuICAgIH1cbiAgICBnZXQgcHJldlNpYmxpbmcoKSB7XG4gICAgICAgIGxldCB7IGJ1ZmZlciB9ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBsZXQgcGFyZW50U3RhcnQgPSB0aGlzLl9wYXJlbnQgPyB0aGlzLl9wYXJlbnQuaW5kZXggKyA0IDogMDtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gcGFyZW50U3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5leHRlcm5hbFNpYmxpbmcoLTEpO1xuICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlck5vZGUodGhpcy5jb250ZXh0LCB0aGlzLl9wYXJlbnQsIGJ1ZmZlci5maW5kQ2hpbGQocGFyZW50U3RhcnQsIHRoaXMuaW5kZXgsIC0xLCAwLCA0IC8qIFNpZGUuRG9udENhcmUgKi8pKTtcbiAgICB9XG4gICAgY3Vyc29yKG1vZGUgPSAwKSB7IHJldHVybiBuZXcgVHJlZUN1cnNvcih0aGlzLCBtb2RlKTsgfVxuICAgIGdldCB0cmVlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHRvVHJlZSgpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgICAgICBsZXQgeyBidWZmZXIgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgbGV0IHN0YXJ0SSA9IHRoaXMuaW5kZXggKyA0LCBlbmRJID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgIGlmIChlbmRJID4gc3RhcnRJKSB7XG4gICAgICAgICAgICBsZXQgZnJvbSA9IGJ1ZmZlci5idWZmZXJbdGhpcy5pbmRleCArIDFdO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChidWZmZXIuc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSk7XG4gICAgICAgICAgICBwb3NpdGlvbnMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyZWUodGhpcy50eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCB0aGlzLnRvIC0gdGhpcy5mcm9tKTtcbiAgICB9XG4gICAgcmVzb2x2ZShwb3MsIHNpZGUgPSAwKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlTm9kZSh0aGlzLCBwb3MsIHNpZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgcmVzb2x2ZUlubmVyKHBvcywgc2lkZSA9IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVOb2RlKHRoaXMsIHBvcywgc2lkZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcykgeyByZXR1cm4gZW50ZXJVbmZpbmlzaGVkTm9kZXNCZWZvcmUodGhpcywgcG9zKTsgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICB0b1N0cmluZygpIHsgcmV0dXJuIHRoaXMuY29udGV4dC5idWZmZXIuY2hpbGRTdHJpbmcodGhpcy5pbmRleCk7IH1cbiAgICBnZXRDaGlsZCh0eXBlLCBiZWZvcmUgPSBudWxsLCBhZnRlciA9IG51bGwpIHtcbiAgICAgICAgbGV0IHIgPSBnZXRDaGlsZHJlbih0aGlzLCB0eXBlLCBiZWZvcmUsIGFmdGVyKTtcbiAgICAgICAgcmV0dXJuIHIubGVuZ3RoID8gclswXSA6IG51bGw7XG4gICAgfVxuICAgIGdldENoaWxkcmVuKHR5cGUsIGJlZm9yZSA9IG51bGwsIGFmdGVyID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0Q2hpbGRyZW4odGhpcywgdHlwZSwgYmVmb3JlLCBhZnRlcik7XG4gICAgfVxuICAgIGdldCBub2RlKCkgeyByZXR1cm4gdGhpczsgfVxuICAgIG1hdGNoQ29udGV4dChjb250ZXh0KSB7IHJldHVybiBtYXRjaE5vZGVDb250ZXh0KHRoaXMsIGNvbnRleHQpOyB9XG59XG4vLy8gQSB0cmVlIGN1cnNvciBvYmplY3QgZm9jdXNlcyBvbiBhIGdpdmVuIG5vZGUgaW4gYSBzeW50YXggdHJlZSwgYW5kXG4vLy8gYWxsb3dzIHlvdSB0byBtb3ZlIHRvIGFkamFjZW50IG5vZGVzLlxuY2xhc3MgVHJlZUN1cnNvciB7XG4gICAgLy8vIFNob3J0aGFuZCBmb3IgYC50eXBlLm5hbWVgLlxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy50eXBlLm5hbWU7IH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgY29uc3RydWN0b3Iobm9kZSwgXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIG1vZGUgPSAwKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5idWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHRoaXMuYnVmZmVyTm9kZSA9IG51bGw7XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMueWllbGROb2RlKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdHJlZSA9IG5vZGUuY29udGV4dC5wYXJlbnQ7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG5vZGUuY29udGV4dDtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSBub2RlLl9wYXJlbnQ7IG47IG4gPSBuLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFjay51bnNoaWZ0KG4uaW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJOb2RlID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMueWllbGRCdWYobm9kZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGROb2RlKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLl90cmVlID0gbm9kZTtcbiAgICAgICAgdGhpcy50eXBlID0gbm9kZS50eXBlO1xuICAgICAgICB0aGlzLmZyb20gPSBub2RlLmZyb207XG4gICAgICAgIHRoaXMudG8gPSBub2RlLnRvO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgeWllbGRCdWYoaW5kZXgsIHR5cGUpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBsZXQgeyBzdGFydCwgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZSB8fCBidWZmZXIuc2V0LnR5cGVzW2J1ZmZlci5idWZmZXJbaW5kZXhdXTtcbiAgICAgICAgdGhpcy5mcm9tID0gc3RhcnQgKyBidWZmZXIuYnVmZmVyW2luZGV4ICsgMV07XG4gICAgICAgIHRoaXMudG8gPSBzdGFydCArIGJ1ZmZlci5idWZmZXJbaW5kZXggKyAyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHlpZWxkKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZE5vZGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXIgPSBub2RlLmNvbnRleHQ7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKG5vZGUuaW5kZXgsIG5vZGUudHlwZSk7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID8gdGhpcy5idWZmZXIuYnVmZmVyLmNoaWxkU3RyaW5nKHRoaXMuaW5kZXgpIDogdGhpcy5fdHJlZS50b1N0cmluZygpO1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgZW50ZXJDaGlsZChkaXIsIHBvcywgc2lkZSkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGQodGhpcy5fdHJlZS5uZXh0Q2hpbGQoZGlyIDwgMCA/IHRoaXMuX3RyZWUuX3RyZWUuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDAsIGRpciwgcG9zLCBzaWRlLCB0aGlzLm1vZGUpKTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlcjtcbiAgICAgICAgbGV0IGluZGV4ID0gYnVmZmVyLmZpbmRDaGlsZCh0aGlzLmluZGV4ICsgNCwgYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM10sIGRpciwgcG9zIC0gdGhpcy5idWZmZXIuc3RhcnQsIHNpZGUpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5pbmRleCk7XG4gICAgICAgIHJldHVybiB0aGlzLnlpZWxkQnVmKGluZGV4KTtcbiAgICB9XG4gICAgLy8vIE1vdmUgdGhlIGN1cnNvciB0byB0aGlzIG5vZGUncyBmaXJzdCBjaGlsZC4gV2hlbiB0aGlzIHJldHVybnNcbiAgICAvLy8gZmFsc2UsIHRoZSBub2RlIGhhcyBubyBjaGlsZCwgYW5kIHRoZSBjdXJzb3IgaGFzIG5vdCBiZWVuIG1vdmVkLlxuICAgIGZpcnN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoMSwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovKTsgfVxuICAgIC8vLyBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhpcyBub2RlJ3MgbGFzdCBjaGlsZC5cbiAgICBsYXN0Q2hpbGQoKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLyk7IH1cbiAgICAvLy8gTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBmaXJzdCBjaGlsZCB0aGF0IGVuZHMgYWZ0ZXIgYHBvc2AuXG4gICAgY2hpbGRBZnRlcihwb3MpIHsgcmV0dXJuIHRoaXMuZW50ZXJDaGlsZCgxLCBwb3MsIDIgLyogU2lkZS5BZnRlciAqLyk7IH1cbiAgICAvLy8gTW92ZSB0byB0aGUgbGFzdCBjaGlsZCB0aGF0IHN0YXJ0cyBiZWZvcmUgYHBvc2AuXG4gICAgY2hpbGRCZWZvcmUocG9zKSB7IHJldHVybiB0aGlzLmVudGVyQ2hpbGQoLTEsIHBvcywgLTIgLyogU2lkZS5CZWZvcmUgKi8pOyB9XG4gICAgLy8vIE1vdmUgdGhlIGN1cnNvciB0byB0aGUgY2hpbGQgYXJvdW5kIGBwb3NgLiBJZiBzaWRlIGlzIC0xIHRoZVxuICAgIC8vLyBjaGlsZCBtYXkgZW5kIGF0IHRoYXQgcG9zaXRpb24sIHdoZW4gMSBpdCBtYXkgc3RhcnQgdGhlcmUuIFRoaXNcbiAgICAvLy8gd2lsbCBhbHNvIGVudGVyIFtvdmVybGFpZF0oI2NvbW1vbi5Nb3VudGVkVHJlZS5vdmVybGF5KVxuICAgIC8vLyBbbW91bnRlZF0oI2NvbW1vbi5Ob2RlUHJvcF5tb3VudGVkKSB0cmVlcyB1bmxlc3MgYG92ZXJsYXlzYCBpc1xuICAgIC8vLyBzZXQgdG8gZmFsc2UuXG4gICAgZW50ZXIocG9zLCBzaWRlLCBtb2RlID0gdGhpcy5tb2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5idWZmZXIpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZCh0aGlzLl90cmVlLmVudGVyKHBvcywgc2lkZSwgbW9kZSkpO1xuICAgICAgICByZXR1cm4gbW9kZSAmIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzID8gZmFsc2UgOiB0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLy8vIE1vdmUgdG8gdGhlIG5vZGUncyBwYXJlbnQgbm9kZSwgaWYgdGhpcyBpc24ndCB0aGUgdG9wIG5vZGUuXG4gICAgcGFyZW50KCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKCh0aGlzLm1vZGUgJiBJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKSA/IHRoaXMuX3RyZWUuX3BhcmVudCA6IHRoaXMuX3RyZWUucGFyZW50KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhY2subGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYodGhpcy5zdGFjay5wb3AoKSk7XG4gICAgICAgIGxldCBwYXJlbnQgPSAodGhpcy5tb2RlICYgSXRlck1vZGUuSW5jbHVkZUFub255bW91cykgPyB0aGlzLmJ1ZmZlci5wYXJlbnQgOiB0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dFNpZ25pZmljYW50UGFyZW50KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMueWllbGROb2RlKHBhcmVudCk7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBzaWJsaW5nKGRpcikge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLl90cmVlLl9wYXJlbnQgPyBmYWxzZVxuICAgICAgICAgICAgICAgIDogdGhpcy55aWVsZCh0aGlzLl90cmVlLmluZGV4IDwgMCA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl90cmVlLl9wYXJlbnQubmV4dENoaWxkKHRoaXMuX3RyZWUuaW5kZXggKyBkaXIsIGRpciwgMCwgNCAvKiBTaWRlLkRvbnRDYXJlICovLCB0aGlzLm1vZGUpKTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlciwgZCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGRpciA8IDApIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnRTdGFydCA9IGQgPCAwID8gMCA6IHRoaXMuc3RhY2tbZF0gKyA0O1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggIT0gcGFyZW50U3RhcnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueWllbGRCdWYoYnVmZmVyLmZpbmRDaGlsZChwYXJlbnRTdGFydCwgdGhpcy5pbmRleCwgLTEsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFmdGVyID0gYnVmZmVyLmJ1ZmZlclt0aGlzLmluZGV4ICsgM107XG4gICAgICAgICAgICBpZiAoYWZ0ZXIgPCAoZCA8IDAgPyBidWZmZXIuYnVmZmVyLmxlbmd0aCA6IGJ1ZmZlci5idWZmZXJbdGhpcy5zdGFja1tkXSArIDNdKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55aWVsZEJ1ZihhZnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGQgPCAwID8gdGhpcy55aWVsZCh0aGlzLmJ1ZmZlci5wYXJlbnQubmV4dENoaWxkKHRoaXMuYnVmZmVyLmluZGV4ICsgZGlyLCBkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLywgdGhpcy5tb2RlKSkgOiBmYWxzZTtcbiAgICB9XG4gICAgLy8vIE1vdmUgdG8gdGhpcyBub2RlJ3MgbmV4dCBzaWJsaW5nLCBpZiBhbnkuXG4gICAgbmV4dFNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoMSk7IH1cbiAgICAvLy8gTW92ZSB0byB0aGlzIG5vZGUncyBwcmV2aW91cyBzaWJsaW5nLCBpZiBhbnkuXG4gICAgcHJldlNpYmxpbmcoKSB7IHJldHVybiB0aGlzLnNpYmxpbmcoLTEpOyB9XG4gICAgYXRMYXN0Tm9kZShkaXIpIHtcbiAgICAgICAgbGV0IGluZGV4LCBwYXJlbnQsIHsgYnVmZmVyIH0gPSB0aGlzO1xuICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4IDwgYnVmZmVyLmJ1ZmZlci5idWZmZXIubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaW5kZXg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5idWZmZXIuYnVmZmVyW2kgKyAzXSA8IHRoaXMuaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoeyBpbmRleCwgcGFyZW50IH0gPSBidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKHsgaW5kZXgsIF9wYXJlbnQ6IHBhcmVudCB9ID0gdGhpcy5fdHJlZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICg7IHBhcmVudDsgeyBpbmRleCwgX3BhcmVudDogcGFyZW50IH0gPSBwYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIGRpciwgZSA9IGRpciA8IDAgPyAtMSA6IHBhcmVudC5fdHJlZS5jaGlsZHJlbi5sZW5ndGg7IGkgIT0gZTsgaSArPSBkaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50Ll90cmVlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMubW9kZSAmIEl0ZXJNb2RlLkluY2x1ZGVBbm9ueW1vdXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRyZWVCdWZmZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC50eXBlLmlzQW5vbnltb3VzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGlsZChjaGlsZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBtb3ZlKGRpciwgZW50ZXIpIHtcbiAgICAgICAgaWYgKGVudGVyICYmIHRoaXMuZW50ZXJDaGlsZChkaXIsIDAsIDQgLyogU2lkZS5Eb250Q2FyZSAqLykpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2libGluZyhkaXIpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXRMYXN0Tm9kZShkaXIpIHx8ICF0aGlzLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy8gTW92ZSB0byB0aGUgbmV4dCBub2RlIGluIGFcbiAgICAvLy8gW3ByZS1vcmRlcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVHJlZV90cmF2ZXJzYWwjUHJlLW9yZGVyLF9OTFIpXG4gICAgLy8vIHRyYXZlcnNhbCwgZ29pbmcgZnJvbSBhIG5vZGUgdG8gaXRzIGZpcnN0IGNoaWxkIG9yLCBpZiB0aGVcbiAgICAvLy8gY3VycmVudCBub2RlIGlzIGVtcHR5IG9yIGBlbnRlcmAgaXMgZmFsc2UsIGl0cyBuZXh0IHNpYmxpbmcgb3JcbiAgICAvLy8gdGhlIG5leHQgc2libGluZyBvZiB0aGUgZmlyc3QgcGFyZW50IG5vZGUgdGhhdCBoYXMgb25lLlxuICAgIG5leHQoZW50ZXIgPSB0cnVlKSB7IHJldHVybiB0aGlzLm1vdmUoMSwgZW50ZXIpOyB9XG4gICAgLy8vIE1vdmUgdG8gdGhlIG5leHQgbm9kZSBpbiBhIGxhc3QtdG8tZmlyc3QgcHJlLW9yZGVyIHRyYXZlcmFsLiBBXG4gICAgLy8vIG5vZGUgaXMgZm9sbG93ZWQgYnkgaXRzIGxhc3QgY2hpbGQgb3IsIGlmIGl0IGhhcyBub25lLCBpdHNcbiAgICAvLy8gcHJldmlvdXMgc2libGluZyBvciB0aGUgcHJldmlvdXMgc2libGluZyBvZiB0aGUgZmlyc3QgcGFyZW50XG4gICAgLy8vIG5vZGUgdGhhdCBoYXMgb25lLlxuICAgIHByZXYoZW50ZXIgPSB0cnVlKSB7IHJldHVybiB0aGlzLm1vdmUoLTEsIGVudGVyKTsgfVxuICAgIC8vLyBNb3ZlIHRoZSBjdXJzb3IgdG8gdGhlIGlubmVybW9zdCBub2RlIHRoYXQgY292ZXJzIGBwb3NgLiBJZlxuICAgIC8vLyBgc2lkZWAgaXMgLTEsIGl0IHdpbGwgZW50ZXIgbm9kZXMgdGhhdCBlbmQgYXQgYHBvc2AuIElmIGl0IGlzIDEsXG4gICAgLy8vIGl0IHdpbGwgZW50ZXIgbm9kZXMgdGhhdCBzdGFydCBhdCBgcG9zYC5cbiAgICBtb3ZlVG8ocG9zLCBzaWRlID0gMCkge1xuICAgICAgICAvLyBNb3ZlIHVwIHRvIGEgbm9kZSB0aGF0IGFjdHVhbGx5IGhvbGRzIHRoZSBwb3NpdGlvbiwgaWYgcG9zc2libGVcbiAgICAgICAgd2hpbGUgKHRoaXMuZnJvbSA9PSB0aGlzLnRvIHx8XG4gICAgICAgICAgICAoc2lkZSA8IDEgPyB0aGlzLmZyb20gPj0gcG9zIDogdGhpcy5mcm9tID4gcG9zKSB8fFxuICAgICAgICAgICAgKHNpZGUgPiAtMSA/IHRoaXMudG8gPD0gcG9zIDogdGhpcy50byA8IHBvcykpXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIFRoZW4gc2NhbiBkb3duIGludG8gY2hpbGQgbm9kZXMgYXMgZmFyIGFzIHBvc3NpYmxlXG4gICAgICAgIHdoaWxlICh0aGlzLmVudGVyQ2hpbGQoMSwgcG9zLCBzaWRlKSkgeyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLy8gR2V0IGEgW3N5bnRheCBub2RlXSgjY29tbW9uLlN5bnRheE5vZGUpIGF0IHRoZSBjdXJzb3IncyBjdXJyZW50XG4gICAgLy8vIHBvc2l0aW9uLlxuICAgIGdldCBub2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyZWU7XG4gICAgICAgIGxldCBjYWNoZSA9IHRoaXMuYnVmZmVyTm9kZSwgcmVzdWx0ID0gbnVsbCwgZGVwdGggPSAwO1xuICAgICAgICBpZiAoY2FjaGUgJiYgY2FjaGUuY29udGV4dCA9PSB0aGlzLmJ1ZmZlcikge1xuICAgICAgICAgICAgc2NhbjogZm9yIChsZXQgaW5kZXggPSB0aGlzLmluZGV4LCBkID0gdGhpcy5zdGFjay5sZW5ndGg7IGQgPj0gMDspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gY2FjaGU7IGM7IGMgPSBjLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLmluZGV4ID09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhpcy5pbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXB0aCA9IGQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgc2NhbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5zdGFja1stLWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBkZXB0aDsgaSA8IHRoaXMuc3RhY2subGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN1bHQgPSBuZXcgQnVmZmVyTm9kZSh0aGlzLmJ1ZmZlciwgcmVzdWx0LCB0aGlzLnN0YWNrW2ldKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyTm9kZSA9IG5ldyBCdWZmZXJOb2RlKHRoaXMuYnVmZmVyLCByZXN1bHQsIHRoaXMuaW5kZXgpO1xuICAgIH1cbiAgICAvLy8gR2V0IHRoZSBbdHJlZV0oI2NvbW1vbi5UcmVlKSB0aGF0IHJlcHJlc2VudHMgdGhlIGN1cnJlbnQgbm9kZSwgaWZcbiAgICAvLy8gYW55LiBXaWxsIHJldHVybiBudWxsIHdoZW4gdGhlIG5vZGUgaXMgaW4gYSBbdHJlZVxuICAgIC8vLyBidWZmZXJdKCNjb21tb24uVHJlZUJ1ZmZlcikuXG4gICAgZ2V0IHRyZWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA/IG51bGwgOiB0aGlzLl90cmVlLl90cmVlO1xuICAgIH1cbiAgICAvLy8gSXRlcmF0ZSBvdmVyIHRoZSBjdXJyZW50IG5vZGUgYW5kIGFsbCBpdHMgZGVzY2VuZGFudHMsIGNhbGxpbmdcbiAgICAvLy8gYGVudGVyYCB3aGVuIGVudGVyaW5nIGEgbm9kZSBhbmQgYGxlYXZlYCwgaWYgZ2l2ZW4sIHdoZW4gbGVhdmluZ1xuICAgIC8vLyBvbmUuIFdoZW4gYGVudGVyYCByZXR1cm5zIGBmYWxzZWAsIGFueSBjaGlsZHJlbiBvZiB0aGF0IG5vZGUgYXJlXG4gICAgLy8vIHNraXBwZWQsIGFuZCBgbGVhdmVgIGlzbid0IGNhbGxlZCBmb3IgaXQuXG4gICAgaXRlcmF0ZShlbnRlciwgbGVhdmUpIHtcbiAgICAgICAgZm9yIChsZXQgZGVwdGggPSAwOzspIHtcbiAgICAgICAgICAgIGxldCBtdXN0TGVhdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUuaXNBbm9ueW1vdXMgfHwgZW50ZXIodGhpcykgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudHlwZS5pc0Fub255bW91cylcbiAgICAgICAgICAgICAgICAgICAgbXVzdExlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBpZiAobXVzdExlYXZlICYmIGxlYXZlKVxuICAgICAgICAgICAgICAgICAgICBsZWF2ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0aGlzLnR5cGUuaXNBbm9ueW1vdXM7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dFNpYmxpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKCFkZXB0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICAgICAgICBtdXN0TGVhdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vLyBUZXN0IHdoZXRoZXIgdGhlIGN1cnJlbnQgbm9kZSBtYXRjaGVzIGEgZ2l2ZW4gY29udGV4dFx1MjAxNGEgc2VxdWVuY2VcbiAgICAvLy8gb2YgZGlyZWN0IHBhcmVudCBub2RlIG5hbWVzLiBFbXB0eSBzdHJpbmdzIGluIHRoZSBjb250ZXh0IGFycmF5XG4gICAgLy8vIGFyZSB0cmVhdGVkIGFzIHdpbGRjYXJkcy5cbiAgICBtYXRjaENvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoIXRoaXMuYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuIG1hdGNoTm9kZUNvbnRleHQodGhpcy5ub2RlLCBjb250ZXh0KTtcbiAgICAgICAgbGV0IHsgYnVmZmVyIH0gPSB0aGlzLmJ1ZmZlciwgeyB0eXBlcyB9ID0gYnVmZmVyLnNldDtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNvbnRleHQubGVuZ3RoIC0gMSwgZCA9IHRoaXMuc3RhY2subGVuZ3RoIC0gMTsgaSA+PSAwOyBkLS0pIHtcbiAgICAgICAgICAgIGlmIChkIDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hOb2RlQ29udGV4dCh0aGlzLm5vZGUsIGNvbnRleHQsIGkpO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlc1tidWZmZXIuYnVmZmVyW3RoaXMuc3RhY2tbZF1dXTtcbiAgICAgICAgICAgIGlmICghdHlwZS5pc0Fub255bW91cykge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZXh0W2ldICYmIGNvbnRleHRbaV0gIT0gdHlwZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0NoaWxkKHRyZWUpIHtcbiAgICByZXR1cm4gdHJlZS5jaGlsZHJlbi5zb21lKGNoID0+IGNoIGluc3RhbmNlb2YgVHJlZUJ1ZmZlciB8fCAhY2gudHlwZS5pc0Fub255bW91cyB8fCBoYXNDaGlsZChjaCkpO1xufVxuZnVuY3Rpb24gYnVpbGRUcmVlKGRhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHsgYnVmZmVyLCBub2RlU2V0LCBtYXhCdWZmZXJMZW5ndGggPSBEZWZhdWx0QnVmZmVyTGVuZ3RoLCByZXVzZWQgPSBbXSwgbWluUmVwZWF0VHlwZSA9IG5vZGVTZXQudHlwZXMubGVuZ3RoIH0gPSBkYXRhO1xuICAgIGxldCBjdXJzb3IgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBuZXcgRmxhdEJ1ZmZlckN1cnNvcihidWZmZXIsIGJ1ZmZlci5sZW5ndGgpIDogYnVmZmVyO1xuICAgIGxldCB0eXBlcyA9IG5vZGVTZXQudHlwZXM7XG4gICAgbGV0IGNvbnRleHRIYXNoID0gMCwgbG9va0FoZWFkID0gMDtcbiAgICBmdW5jdGlvbiB0YWtlTm9kZShwYXJlbnRTdGFydCwgbWluUG9zLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpblJlcGVhdCkge1xuICAgICAgICBsZXQgeyBpZCwgc3RhcnQsIGVuZCwgc2l6ZSB9ID0gY3Vyc29yO1xuICAgICAgICBsZXQgbG9va0FoZWFkQXRTdGFydCA9IGxvb2tBaGVhZDtcbiAgICAgICAgd2hpbGUgKHNpemUgPCAwKSB7XG4gICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKHNpemUgPT0gLTEgLyogU3BlY2lhbFJlY29yZC5SZXVzZSAqLykge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gcmV1c2VkW2lkXTtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHN0YXJ0IC0gcGFyZW50U3RhcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKSB7IC8vIENvbnRleHQgY2hhbmdlXG4gICAgICAgICAgICAgICAgY29udGV4dEhhc2ggPSBpZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaXplID09IC00IC8qIFNwZWNpYWxSZWNvcmQuTG9va0FoZWFkICovKSB7XG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFVucmVjb2duaXplZCByZWNvcmQgc2l6ZTogJHtzaXplfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0eXBlID0gdHlwZXNbaWRdLCBub2RlLCBidWZmZXI7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHN0YXJ0IC0gcGFyZW50U3RhcnQ7XG4gICAgICAgIGlmIChlbmQgLSBzdGFydCA8PSBtYXhCdWZmZXJMZW5ndGggJiYgKGJ1ZmZlciA9IGZpbmRCdWZmZXJTaXplKGN1cnNvci5wb3MgLSBtaW5Qb3MsIGluUmVwZWF0KSkpIHtcbiAgICAgICAgICAgIC8vIFNtYWxsIGVub3VnaCBmb3IgYSBidWZmZXIsIGFuZCBubyByZXVzZWQgbm9kZXMgaW5zaWRlXG4gICAgICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShidWZmZXIuc2l6ZSAtIGJ1ZmZlci5za2lwKTtcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gYnVmZmVyLnNpemUsIGluZGV4ID0gZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcylcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNvcHlUb0J1ZmZlcihidWZmZXIuc3RhcnQsIGRhdGEsIGluZGV4KTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXcgVHJlZUJ1ZmZlcihkYXRhLCBlbmQgLSBidWZmZXIuc3RhcnQsIG5vZGVTZXQpO1xuICAgICAgICAgICAgc3RhcnRQb3MgPSBidWZmZXIuc3RhcnQgLSBwYXJlbnRTdGFydDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gTWFrZSBpdCBhIG5vZGVcbiAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gc2l6ZTtcbiAgICAgICAgICAgIGN1cnNvci5uZXh0KCk7XG4gICAgICAgICAgICBsZXQgbG9jYWxDaGlsZHJlbiA9IFtdLCBsb2NhbFBvc2l0aW9ucyA9IFtdO1xuICAgICAgICAgICAgbGV0IGxvY2FsSW5SZXBlYXQgPSBpZCA+PSBtaW5SZXBlYXRUeXBlID8gaWQgOiAtMTtcbiAgICAgICAgICAgIGxldCBsYXN0R3JvdXAgPSAwLCBsYXN0RW5kID0gZW5kO1xuICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5wb3MgPiBlbmRQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+PSAwICYmIGN1cnNvci5pZCA9PSBsb2NhbEluUmVwZWF0ICYmIGN1cnNvci5zaXplID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci5lbmQgPD0gbGFzdEVuZCAtIG1heEJ1ZmZlckxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlcGVhdExlYWYobG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIHN0YXJ0LCBsYXN0R3JvdXAsIGN1cnNvci5lbmQsIGxhc3RFbmQsIGxvY2FsSW5SZXBlYXQsIGxvb2tBaGVhZEF0U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdyb3VwID0gbG9jYWxDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0RW5kID0gY3Vyc29yLmVuZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFrZU5vZGUoc3RhcnQsIGVuZFBvcywgbG9jYWxDaGlsZHJlbiwgbG9jYWxQb3NpdGlvbnMsIGxvY2FsSW5SZXBlYXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2NhbEluUmVwZWF0ID49IDAgJiYgbGFzdEdyb3VwID4gMCAmJiBsYXN0R3JvdXAgPCBsb2NhbENoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgICBtYWtlUmVwZWF0TGVhZihsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgc3RhcnQsIGxhc3RHcm91cCwgc3RhcnQsIGxhc3RFbmQsIGxvY2FsSW5SZXBlYXQsIGxvb2tBaGVhZEF0U3RhcnQpO1xuICAgICAgICAgICAgbG9jYWxDaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBpZiAobG9jYWxJblJlcGVhdCA+IC0xICYmIGxhc3RHcm91cCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFrZSA9IG1ha2VCYWxhbmNlZCh0eXBlKTtcbiAgICAgICAgICAgICAgICBub2RlID0gYmFsYW5jZVJhbmdlKHR5cGUsIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCAwLCBsb2NhbENoaWxkcmVuLmxlbmd0aCwgMCwgZW5kIC0gc3RhcnQsIG1ha2UsIG1ha2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG1ha2VUcmVlKHR5cGUsIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCBlbmQgLSBzdGFydCwgbG9va0FoZWFkQXRTdGFydCAtIGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgICAgcG9zaXRpb25zLnB1c2goc3RhcnRQb3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlQmFsYW5jZWQodHlwZSkge1xuICAgICAgICByZXR1cm4gKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCkgPT4ge1xuICAgICAgICAgICAgbGV0IGxvb2tBaGVhZCA9IDAsIGxhc3RJID0gY2hpbGRyZW4ubGVuZ3RoIC0gMSwgbGFzdCwgbG9va0FoZWFkUHJvcDtcbiAgICAgICAgICAgIGlmIChsYXN0SSA+PSAwICYmIChsYXN0ID0gY2hpbGRyZW5bbGFzdEldKSBpbnN0YW5jZW9mIFRyZWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RJICYmIGxhc3QudHlwZSA9PSB0eXBlICYmIGxhc3QubGVuZ3RoID09IGxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgICAgICAgICAgICAgaWYgKGxvb2tBaGVhZFByb3AgPSBsYXN0LnByb3AoTm9kZVByb3AubG9va0FoZWFkKSlcbiAgICAgICAgICAgICAgICAgICAgbG9va0FoZWFkID0gcG9zaXRpb25zW2xhc3RJXSArIGxhc3QubGVuZ3RoICsgbG9va0FoZWFkUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYWtlVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgsIGxvb2tBaGVhZCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VSZXBlYXRMZWFmKGNoaWxkcmVuLCBwb3NpdGlvbnMsIGJhc2UsIGksIGZyb20sIHRvLCB0eXBlLCBsb29rQWhlYWQpIHtcbiAgICAgICAgbGV0IGxvY2FsQ2hpbGRyZW4gPSBbXSwgbG9jYWxQb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgd2hpbGUgKGNoaWxkcmVuLmxlbmd0aCA+IGkpIHtcbiAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChjaGlsZHJlbi5wb3AoKSk7XG4gICAgICAgICAgICBsb2NhbFBvc2l0aW9ucy5wdXNoKHBvc2l0aW9ucy5wb3AoKSArIGJhc2UgLSBmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZHJlbi5wdXNoKG1ha2VUcmVlKG5vZGVTZXQudHlwZXNbdHlwZV0sIGxvY2FsQ2hpbGRyZW4sIGxvY2FsUG9zaXRpb25zLCB0byAtIGZyb20sIGxvb2tBaGVhZCAtIHRvKSk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGZyb20gLSBiYXNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVRyZWUodHlwZSwgY2hpbGRyZW4sIHBvc2l0aW9ucywgbGVuZ3RoLCBsb29rQWhlYWQgPSAwLCBwcm9wcykge1xuICAgICAgICBpZiAoY29udGV4dEhhc2gpIHtcbiAgICAgICAgICAgIGxldCBwYWlyID0gW05vZGVQcm9wLmNvbnRleHRIYXNoLCBjb250ZXh0SGFzaF07XG4gICAgICAgICAgICBwcm9wcyA9IHByb3BzID8gW3BhaXJdLmNvbmNhdChwcm9wcykgOiBbcGFpcl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvb2tBaGVhZCA+IDI1KSB7XG4gICAgICAgICAgICBsZXQgcGFpciA9IFtOb2RlUHJvcC5sb29rQWhlYWQsIGxvb2tBaGVhZF07XG4gICAgICAgICAgICBwcm9wcyA9IHByb3BzID8gW3BhaXJdLmNvbmNhdChwcm9wcykgOiBbcGFpcl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUcmVlKHR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGxlbmd0aCwgcHJvcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQnVmZmVyU2l6ZShtYXhTaXplLCBpblJlcGVhdCkge1xuICAgICAgICAvLyBTY2FuIHRocm91Z2ggdGhlIGJ1ZmZlciB0byBmaW5kIHByZXZpb3VzIHNpYmxpbmdzIHRoYXQgZml0XG4gICAgICAgIC8vIHRvZ2V0aGVyIGluIGEgVHJlZUJ1ZmZlciwgYW5kIGRvbid0IGNvbnRhaW4gYW55IHJldXNlZCBub2Rlc1xuICAgICAgICAvLyAod2hpY2ggY2FuJ3QgYmUgc3RvcmVkIGluIGEgYnVmZmVyKS5cbiAgICAgICAgLy8gSWYgYGluUmVwZWF0YCBpcyA+IC0xLCBpZ25vcmUgbm9kZSBib3VuZGFyaWVzIG9mIHRoYXQgdHlwZSBmb3JcbiAgICAgICAgLy8gbmVzdGluZywgYnV0IG1ha2Ugc3VyZSB0aGUgZW5kIGZhbGxzIGVpdGhlciBhdCB0aGUgc3RhcnRcbiAgICAgICAgLy8gKGBtYXhTaXplYCkgb3IgYmVmb3JlIHN1Y2ggYSBub2RlLlxuICAgICAgICBsZXQgZm9yayA9IGN1cnNvci5mb3JrKCk7XG4gICAgICAgIGxldCBzaXplID0gMCwgc3RhcnQgPSAwLCBza2lwID0gMCwgbWluU3RhcnQgPSBmb3JrLmVuZCAtIG1heEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHsgc2l6ZTogMCwgc3RhcnQ6IDAsIHNraXA6IDAgfTtcbiAgICAgICAgc2NhbjogZm9yIChsZXQgbWluUG9zID0gZm9yay5wb3MgLSBtYXhTaXplOyBmb3JrLnBvcyA+IG1pblBvczspIHtcbiAgICAgICAgICAgIGxldCBub2RlU2l6ZSA9IGZvcmsuc2l6ZTtcbiAgICAgICAgICAgIC8vIFByZXRlbmQgbmVzdGVkIHJlcGVhdCBub2RlcyBvZiB0aGUgc2FtZSB0eXBlIGRvbid0IGV4aXN0XG4gICAgICAgICAgICBpZiAoZm9yay5pZCA9PSBpblJlcGVhdCAmJiBub2RlU2l6ZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRXhjZXB0IHRoYXQgd2Ugc3RvcmUgdGhlIGN1cnJlbnQgc3RhdGUgYXMgYSB2YWxpZCByZXR1cm5cbiAgICAgICAgICAgICAgICAvLyB2YWx1ZS5cbiAgICAgICAgICAgICAgICByZXN1bHQuc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNraXAgPSBza2lwO1xuICAgICAgICAgICAgICAgIHNraXAgKz0gNDtcbiAgICAgICAgICAgICAgICBzaXplICs9IDQ7XG4gICAgICAgICAgICAgICAgZm9yay5uZXh0KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhcnRQb3MgPSBmb3JrLnBvcyAtIG5vZGVTaXplO1xuICAgICAgICAgICAgaWYgKG5vZGVTaXplIDwgMCB8fCBzdGFydFBvcyA8IG1pblBvcyB8fCBmb3JrLnN0YXJ0IDwgbWluU3RhcnQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgbG9jYWxTa2lwcGVkID0gZm9yay5pZCA+PSBtaW5SZXBlYXRUeXBlID8gNCA6IDA7XG4gICAgICAgICAgICBsZXQgbm9kZVN0YXJ0ID0gZm9yay5zdGFydDtcbiAgICAgICAgICAgIGZvcmsubmV4dCgpO1xuICAgICAgICAgICAgd2hpbGUgKGZvcmsucG9zID4gc3RhcnRQb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yay5zaXplIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yay5zaXplID09IC0zIC8qIFNwZWNpYWxSZWNvcmQuQ29udGV4dENoYW5nZSAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU2tpcHBlZCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBzY2FuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmb3JrLmlkID49IG1pblJlcGVhdFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTa2lwcGVkICs9IDQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcmsubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhcnQgPSBub2RlU3RhcnQ7XG4gICAgICAgICAgICBzaXplICs9IG5vZGVTaXplO1xuICAgICAgICAgICAgc2tpcCArPSBsb2NhbFNraXBwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluUmVwZWF0IDwgMCB8fCBzaXplID09IG1heFNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHJlc3VsdC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgcmVzdWx0LnNraXAgPSBza2lwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQuc2l6ZSA+IDQgPyByZXN1bHQgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlUb0J1ZmZlcihidWZmZXJTdGFydCwgYnVmZmVyLCBpbmRleCkge1xuICAgICAgICBsZXQgeyBpZCwgc3RhcnQsIGVuZCwgc2l6ZSB9ID0gY3Vyc29yO1xuICAgICAgICBjdXJzb3IubmV4dCgpO1xuICAgICAgICBpZiAoc2l6ZSA+PSAwICYmIGlkIDwgbWluUmVwZWF0VHlwZSkge1xuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIGlmIChzaXplID4gNCkge1xuICAgICAgICAgICAgICAgIGxldCBlbmRQb3MgPSBjdXJzb3IucG9zIC0gKHNpemUgLSA0KTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3Vyc29yLnBvcyA+IGVuZFBvcylcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb3B5VG9CdWZmZXIoYnVmZmVyU3RhcnQsIGJ1ZmZlciwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gc3RhcnRJbmRleDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IGVuZCAtIGJ1ZmZlclN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyWy0taW5kZXhdID0gc3RhcnQgLSBidWZmZXJTdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlclstLWluZGV4XSA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTMgLyogU3BlY2lhbFJlY29yZC5Db250ZXh0Q2hhbmdlICovKSB7XG4gICAgICAgICAgICBjb250ZXh0SGFzaCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUgPT0gLTQgLyogU3BlY2lhbFJlY29yZC5Mb29rQWhlYWQgKi8pIHtcbiAgICAgICAgICAgIGxvb2tBaGVhZCA9IGlkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgbGV0IGNoaWxkcmVuID0gW10sIHBvc2l0aW9ucyA9IFtdO1xuICAgIHdoaWxlIChjdXJzb3IucG9zID4gMClcbiAgICAgICAgdGFrZU5vZGUoZGF0YS5zdGFydCB8fCAwLCBkYXRhLmJ1ZmZlclN0YXJ0IHx8IDAsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIC0xKTtcbiAgICBsZXQgbGVuZ3RoID0gKF9hID0gZGF0YS5sZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChjaGlsZHJlbi5sZW5ndGggPyBwb3NpdGlvbnNbMF0gKyBjaGlsZHJlblswXS5sZW5ndGggOiAwKTtcbiAgICByZXR1cm4gbmV3IFRyZWUodHlwZXNbZGF0YS50b3BJRF0sIGNoaWxkcmVuLnJldmVyc2UoKSwgcG9zaXRpb25zLnJldmVyc2UoKSwgbGVuZ3RoKTtcbn1cbmNvbnN0IG5vZGVTaXplQ2FjaGUgPSBuZXcgV2Vha01hcDtcbmZ1bmN0aW9uIG5vZGVTaXplKGJhbGFuY2VUeXBlLCBub2RlKSB7XG4gICAgaWYgKCFiYWxhbmNlVHlwZS5pc0Fub255bW91cyB8fCBub2RlIGluc3RhbmNlb2YgVHJlZUJ1ZmZlciB8fCBub2RlLnR5cGUgIT0gYmFsYW5jZVR5cGUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGxldCBzaXplID0gbm9kZVNpemVDYWNoZS5nZXQobm9kZSk7XG4gICAgaWYgKHNpemUgPT0gbnVsbCkge1xuICAgICAgICBzaXplID0gMTtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoaWxkLnR5cGUgIT0gYmFsYW5jZVR5cGUgfHwgIShjaGlsZCBpbnN0YW5jZW9mIFRyZWUpKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXplICs9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZVNpemVDYWNoZS5zZXQobm9kZSwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufVxuZnVuY3Rpb24gYmFsYW5jZVJhbmdlKFxuLy8gVGhlIHR5cGUgdGhlIGJhbGFuY2VkIHRyZWUncyBpbm5lciBub2Rlcy5cbmJhbGFuY2VUeXBlLCBcbi8vIFRoZSBkaXJlY3QgY2hpbGRyZW4gYW5kIHRoZWlyIHBvc2l0aW9uc1xuY2hpbGRyZW4sIHBvc2l0aW9ucywgXG4vLyBUaGUgaW5kZXggcmFuZ2UgaW4gY2hpbGRyZW4vcG9zaXRpb25zIHRvIHVzZVxuZnJvbSwgdG8sIFxuLy8gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBub2RlcywgcmVsYXRpdmUgdG8gdGhlaXIgcGFyZW50Llxuc3RhcnQsIFxuLy8gTGVuZ3RoIG9mIHRoZSBvdXRlciBub2RlXG5sZW5ndGgsIFxuLy8gRnVuY3Rpb24gdG8gYnVpbGQgdGhlIHRvcCBub2RlIG9mIHRoZSBiYWxhbmNlZCB0cmVlXG5ta1RvcCwgXG4vLyBGdW5jdGlvbiB0byBidWlsZCBpbnRlcm5hbCBub2RlcyBmb3IgdGhlIGJhbGFuY2VkIHRyZWVcbm1rVHJlZSkge1xuICAgIGxldCB0b3RhbCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IGZyb207IGkgPCB0bzsgaSsrKVxuICAgICAgICB0b3RhbCArPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgIGxldCBtYXhDaGlsZCA9IE1hdGguY2VpbCgodG90YWwgKiAxLjUpIC8gOCAvKiBCYWxhbmNlLkJyYW5jaEZhY3RvciAqLyk7XG4gICAgbGV0IGxvY2FsQ2hpbGRyZW4gPSBbXSwgbG9jYWxQb3NpdGlvbnMgPSBbXTtcbiAgICBmdW5jdGlvbiBkaXZpZGUoY2hpbGRyZW4sIHBvc2l0aW9ucywgZnJvbSwgdG8sIG9mZnNldCkge1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOykge1xuICAgICAgICAgICAgbGV0IGdyb3VwRnJvbSA9IGksIGdyb3VwU3RhcnQgPSBwb3NpdGlvbnNbaV0sIGdyb3VwU2l6ZSA9IG5vZGVTaXplKGJhbGFuY2VUeXBlLCBjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dFNpemUgPSBub2RlU2l6ZShiYWxhbmNlVHlwZSwgY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIGlmIChncm91cFNpemUgKyBuZXh0U2l6ZSA+PSBtYXhDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZ3JvdXBTaXplICs9IG5leHRTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPT0gZ3JvdXBGcm9tICsgMSkge1xuICAgICAgICAgICAgICAgIGlmIChncm91cFNpemUgPiBtYXhDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb25seSA9IGNoaWxkcmVuW2dyb3VwRnJvbV07IC8vIE9ubHkgdHJlZXMgY2FuIGhhdmUgYSBzaXplID4gMVxuICAgICAgICAgICAgICAgICAgICBkaXZpZGUob25seS5jaGlsZHJlbiwgb25seS5wb3NpdGlvbnMsIDAsIG9ubHkuY2hpbGRyZW4ubGVuZ3RoLCBwb3NpdGlvbnNbZ3JvdXBGcm9tXSArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbENoaWxkcmVuLnB1c2goY2hpbGRyZW5bZ3JvdXBGcm9tXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoID0gcG9zaXRpb25zW2kgLSAxXSArIGNoaWxkcmVuW2kgLSAxXS5sZW5ndGggLSBncm91cFN0YXJ0O1xuICAgICAgICAgICAgICAgIGxvY2FsQ2hpbGRyZW4ucHVzaChiYWxhbmNlUmFuZ2UoYmFsYW5jZVR5cGUsIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGdyb3VwRnJvbSwgaSwgZ3JvdXBTdGFydCwgbGVuZ3RoLCBudWxsLCBta1RyZWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsUG9zaXRpb25zLnB1c2goZ3JvdXBTdGFydCArIG9mZnNldCAtIHN0YXJ0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXZpZGUoY2hpbGRyZW4sIHBvc2l0aW9ucywgZnJvbSwgdG8sIDApO1xuICAgIHJldHVybiAobWtUb3AgfHwgbWtUcmVlKShsb2NhbENoaWxkcmVuLCBsb2NhbFBvc2l0aW9ucywgbGVuZ3RoKTtcbn1cbi8vLyBQcm92aWRlcyBhIHdheSB0byBhc3NvY2lhdGUgdmFsdWVzIHdpdGggcGllY2VzIG9mIHRyZWVzLiBBcyBsb25nXG4vLy8gYXMgdGhhdCBwYXJ0IG9mIHRoZSB0cmVlIGlzIHJldXNlZCwgdGhlIGFzc29jaWF0ZWQgdmFsdWVzIGNhbiBiZVxuLy8vIHJldHJpZXZlZCBmcm9tIGFuIHVwZGF0ZWQgdHJlZS5cbmNsYXNzIE5vZGVXZWFrTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgV2Vha01hcCgpO1xuICAgIH1cbiAgICBzZXRCdWZmZXIoYnVmZmVyLCBpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5tYXAuZ2V0KGJ1ZmZlcik7XG4gICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoYnVmZmVyLCBpbm5lciA9IG5ldyBNYXApO1xuICAgICAgICBpbm5lci5zZXQoaW5kZXgsIHZhbHVlKTtcbiAgICB9XG4gICAgZ2V0QnVmZmVyKGJ1ZmZlciwgaW5kZXgpIHtcbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5tYXAuZ2V0KGJ1ZmZlcik7XG4gICAgICAgIHJldHVybiBpbm5lciAmJiBpbm5lci5nZXQoaW5kZXgpO1xuICAgIH1cbiAgICAvLy8gU2V0IHRoZSB2YWx1ZSBmb3IgdGhpcyBzeW50YXggbm9kZS5cbiAgICBzZXQobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlKVxuICAgICAgICAgICAgdGhpcy5zZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleCwgdmFsdWUpO1xuICAgICAgICBlbHNlIGlmIChub2RlIGluc3RhbmNlb2YgVHJlZU5vZGUpXG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQobm9kZS50cmVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIC8vLyBSZXRyaWV2ZSB2YWx1ZSBmb3IgdGhpcyBzeW50YXggbm9kZSwgaWYgaXQgZXhpc3RzIGluIHRoZSBtYXAuXG4gICAgZ2V0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBCdWZmZXJOb2RlID8gdGhpcy5nZXRCdWZmZXIobm9kZS5jb250ZXh0LmJ1ZmZlciwgbm9kZS5pbmRleClcbiAgICAgICAgICAgIDogbm9kZSBpbnN0YW5jZW9mIFRyZWVOb2RlID8gdGhpcy5tYXAuZ2V0KG5vZGUudHJlZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vLyBTZXQgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHMgdG8uXG4gICAgY3Vyc29yU2V0KGN1cnNvciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGN1cnNvci5idWZmZXIpXG4gICAgICAgICAgICB0aGlzLnNldEJ1ZmZlcihjdXJzb3IuYnVmZmVyLmJ1ZmZlciwgY3Vyc29yLmluZGV4LCB2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubWFwLnNldChjdXJzb3IudHJlZSwgdmFsdWUpO1xuICAgIH1cbiAgICAvLy8gUmV0cmlldmUgdGhlIHZhbHVlIGZvciB0aGUgbm9kZSB0aGF0IGEgY3Vyc29yIGN1cnJlbnRseSBwb2ludHNcbiAgICAvLy8gdG8uXG4gICAgY3Vyc29yR2V0KGN1cnNvcikge1xuICAgICAgICByZXR1cm4gY3Vyc29yLmJ1ZmZlciA/IHRoaXMuZ2V0QnVmZmVyKGN1cnNvci5idWZmZXIuYnVmZmVyLCBjdXJzb3IuaW5kZXgpIDogdGhpcy5tYXAuZ2V0KGN1cnNvci50cmVlKTtcbiAgICB9XG59XG5cbi8vLyBUcmVlIGZyYWdtZW50cyBhcmUgdXNlZCBkdXJpbmcgW2luY3JlbWVudGFsXG4vLy8gcGFyc2luZ10oI2NvbW1vbi5QYXJzZXIuc3RhcnRQYXJzZSkgdG8gdHJhY2sgcGFydHMgb2Ygb2xkIHRyZWVzXG4vLy8gdGhhdCBjYW4gYmUgcmV1c2VkIGluIGEgbmV3IHBhcnNlLiBBbiBhcnJheSBvZiBmcmFnbWVudHMgaXMgdXNlZFxuLy8vIHRvIHRyYWNrIHJlZ2lvbnMgb2YgYW4gb2xkIHRyZWUgd2hvc2Ugbm9kZXMgbWlnaHQgYmUgcmV1c2VkIGluIG5ld1xuLy8vIHBhcnNlcy4gVXNlIHRoZSBzdGF0aWNcbi8vLyBbYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgbWV0aG9kIHRvXG4vLy8gdXBkYXRlIGZyYWdtZW50cyBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cbmNsYXNzIFRyZWVGcmFnbWVudCB7XG4gICAgLy8vIENvbnN0cnVjdCBhIHRyZWUgZnJhZ21lbnQuIFlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gdXNlXG4gICAgLy8vIFtgYWRkVHJlZWBdKCNjb21tb24uVHJlZUZyYWdtZW50XmFkZFRyZWUpIGFuZFxuICAgIC8vLyBbYGFwcGx5Q2hhbmdlc2BdKCNjb21tb24uVHJlZUZyYWdtZW50XmFwcGx5Q2hhbmdlcykgaW5zdGVhZCBvZlxuICAgIC8vLyBjYWxsaW5nIHRoaXMgZGlyZWN0bHkuXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIFRoZSBzdGFydCBvZiB0aGUgdW5jaGFuZ2VkIHJhbmdlIHBvaW50ZWQgdG8gYnkgdGhpcyBmcmFnbWVudC5cbiAgICAvLy8gVGhpcyByZWZlcnMgdG8gYW4gb2Zmc2V0IGluIHRoZSBfdXBkYXRlZF8gZG9jdW1lbnQgKGFzIG9wcG9zZWRcbiAgICAvLy8gdG8gdGhlIG9yaWdpbmFsIHRyZWUpLlxuICAgIGZyb20sIFxuICAgIC8vLyBUaGUgZW5kIG9mIHRoZSB1bmNoYW5nZWQgcmFuZ2UuXG4gICAgdG8sIFxuICAgIC8vLyBUaGUgdHJlZSB0aGF0IHRoaXMgZnJhZ21lbnQgaXMgYmFzZWQgb24uXG4gICAgdHJlZSwgXG4gICAgLy8vIFRoZSBvZmZzZXQgYmV0d2VlbiB0aGUgZnJhZ21lbnQncyB0cmVlIGFuZCB0aGUgZG9jdW1lbnQgdGhhdFxuICAgIC8vLyB0aGlzIGZyYWdtZW50IGNhbiBiZSB1c2VkIGFnYWluc3QuIEFkZCB0aGlzIHdoZW4gZ29pbmcgZnJvbVxuICAgIC8vLyBkb2N1bWVudCB0byB0cmVlIHBvc2l0aW9ucywgc3VidHJhY3QgaXQgdG8gZ28gZnJvbSB0cmVlIHRvXG4gICAgLy8vIGRvY3VtZW50IHBvc2l0aW9ucy5cbiAgICBvZmZzZXQsIG9wZW5TdGFydCA9IGZhbHNlLCBvcGVuRW5kID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnRyZWUgPSB0cmVlO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5vcGVuID0gKG9wZW5TdGFydCA/IDEgLyogT3Blbi5TdGFydCAqLyA6IDApIHwgKG9wZW5FbmQgPyAyIC8qIE9wZW4uRW5kICovIDogMCk7XG4gICAgfVxuICAgIC8vLyBXaGV0aGVyIHRoZSBzdGFydCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgc3RhcnQgb2YgYVxuICAgIC8vLyBwYXJzZSwgb3IgdGhlIGVuZCBvZiBhIGNoYW5nZS4gKEluIHRoZSBzZWNvbmQgY2FzZSwgaXQgbWF5IG5vdFxuICAgIC8vLyBiZSBzYWZlIHRvIHJldXNlIHNvbWUgbm9kZXMgYXQgdGhlIHN0YXJ0LCBkZXBlbmRpbmcgb24gdGhlXG4gICAgLy8vIHBhcnNpbmcgYWxnb3JpdGhtLilcbiAgICBnZXQgb3BlblN0YXJ0KCkgeyByZXR1cm4gKHRoaXMub3BlbiAmIDEgLyogT3Blbi5TdGFydCAqLykgPiAwOyB9XG4gICAgLy8vIFdoZXRoZXIgdGhlIGVuZCBvZiB0aGUgZnJhZ21lbnQgcmVwcmVzZW50cyB0aGUgZW5kIG9mIGFcbiAgICAvLy8gZnVsbC1kb2N1bWVudCBwYXJzZSwgb3IgdGhlIHN0YXJ0IG9mIGEgY2hhbmdlLlxuICAgIGdldCBvcGVuRW5kKCkgeyByZXR1cm4gKHRoaXMub3BlbiAmIDIgLyogT3Blbi5FbmQgKi8pID4gMDsgfVxuICAgIC8vLyBDcmVhdGUgYSBzZXQgb2YgZnJhZ21lbnRzIGZyb20gYSBmcmVzaGx5IHBhcnNlZCB0cmVlLCBvciB1cGRhdGVcbiAgICAvLy8gYW4gZXhpc3Rpbmcgc2V0IG9mIGZyYWdtZW50cyBieSByZXBsYWNpbmcgdGhlIG9uZXMgdGhhdCBvdmVybGFwXG4gICAgLy8vIHdpdGggYSB0cmVlIHdpdGggY29udGVudCBmcm9tIHRoZSBuZXcgdHJlZS4gV2hlbiBgcGFydGlhbGAgaXNcbiAgICAvLy8gdHJ1ZSwgdGhlIHBhcnNlIGlzIHRyZWF0ZWQgYXMgaW5jb21wbGV0ZSwgYW5kIHRoZSByZXN1bHRpbmdcbiAgICAvLy8gZnJhZ21lbnQgaGFzIFtgb3BlbkVuZGBdKCNjb21tb24uVHJlZUZyYWdtZW50Lm9wZW5FbmQpIHNldCB0b1xuICAgIC8vLyB0cnVlLlxuICAgIHN0YXRpYyBhZGRUcmVlKHRyZWUsIGZyYWdtZW50cyA9IFtdLCBwYXJ0aWFsID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtuZXcgVHJlZUZyYWdtZW50KDAsIHRyZWUubGVuZ3RoLCB0cmVlLCAwLCBmYWxzZSwgcGFydGlhbCldO1xuICAgICAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cylcbiAgICAgICAgICAgIGlmIChmLnRvID4gdHJlZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vLyBBcHBseSBhIHNldCBvZiBlZGl0cyB0byBhbiBhcnJheSBvZiBmcmFnbWVudHMsIHJlbW92aW5nIG9yXG4gICAgLy8vIHNwbGl0dGluZyBmcmFnbWVudHMgYXMgbmVjZXNzYXJ5IHRvIHJlbW92ZSBlZGl0ZWQgcmFuZ2VzLCBhbmRcbiAgICAvLy8gYWRqdXN0aW5nIG9mZnNldHMgZm9yIGZyYWdtZW50cyB0aGF0IG1vdmVkLlxuICAgIHN0YXRpYyBhcHBseUNoYW5nZXMoZnJhZ21lbnRzLCBjaGFuZ2VzLCBtaW5HYXAgPSAxMjgpIHtcbiAgICAgICAgaWYgKCFjaGFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGZJID0gMSwgbmV4dEYgPSBmcmFnbWVudHMubGVuZ3RoID8gZnJhZ21lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgZm9yIChsZXQgY0kgPSAwLCBwb3MgPSAwLCBvZmYgPSAwOzsgY0krKykge1xuICAgICAgICAgICAgbGV0IG5leHRDID0gY0kgPCBjaGFuZ2VzLmxlbmd0aCA/IGNoYW5nZXNbY0ldIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBuZXh0UG9zID0gbmV4dEMgPyBuZXh0Qy5mcm9tQSA6IDFlOTtcbiAgICAgICAgICAgIGlmIChuZXh0UG9zIC0gcG9zID49IG1pbkdhcClcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dEYgJiYgbmV4dEYuZnJvbSA8IG5leHRQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1dCA9IG5leHRGO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID49IGN1dC5mcm9tIHx8IG5leHRQb3MgPD0gY3V0LnRvIHx8IG9mZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZGcm9tID0gTWF0aC5tYXgoY3V0LmZyb20sIHBvcykgLSBvZmYsIGZUbyA9IE1hdGgubWluKGN1dC50bywgbmV4dFBvcykgLSBvZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXQgPSBmRnJvbSA+PSBmVG8gPyBudWxsIDogbmV3IFRyZWVGcmFnbWVudChmRnJvbSwgZlRvLCBjdXQudHJlZSwgY3V0Lm9mZnNldCArIG9mZiwgY0kgPiAwLCAhIW5leHRDKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRGLnRvID4gbmV4dFBvcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBuZXh0RiA9IGZJIDwgZnJhZ21lbnRzLmxlbmd0aCA/IGZyYWdtZW50c1tmSSsrXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFuZXh0QylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHBvcyA9IG5leHRDLnRvQTtcbiAgICAgICAgICAgIG9mZiA9IG5leHRDLnRvQSAtIG5leHRDLnRvQjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8vLyBBIHN1cGVyY2xhc3MgdGhhdCBwYXJzZXJzIHNob3VsZCBleHRlbmQuXG5jbGFzcyBQYXJzZXIge1xuICAgIC8vLyBTdGFydCBhIHBhcnNlLCByZXR1cm5pbmcgYSBbcGFydGlhbCBwYXJzZV0oI2NvbW1vbi5QYXJ0aWFsUGFyc2UpXG4gICAgLy8vIG9iamVjdC4gW2BmcmFnbWVudHNgXSgjY29tbW9uLlRyZWVGcmFnbWVudCkgY2FuIGJlIHBhc3NlZCBpbiB0b1xuICAgIC8vLyBtYWtlIHRoZSBwYXJzZSBpbmNyZW1lbnRhbC5cbiAgICAvLy9cbiAgICAvLy8gQnkgZGVmYXVsdCwgdGhlIGVudGlyZSBpbnB1dCBpcyBwYXJzZWQuIFlvdSBjYW4gcGFzcyBgcmFuZ2VzYCxcbiAgICAvLy8gd2hpY2ggc2hvdWxkIGJlIGEgc29ydGVkIGFycmF5IG9mIG5vbi1lbXB0eSwgbm9uLW92ZXJsYXBwaW5nXG4gICAgLy8vIHJhbmdlcywgdG8gcGFyc2Ugb25seSB0aG9zZSByYW5nZXMuIFRoZSB0cmVlIHJldHVybmVkIGluIHRoYXRcbiAgICAvLy8gY2FzZSB3aWxsIHN0YXJ0IGF0IGByYW5nZXNbMF0uZnJvbWAuXG4gICAgc3RhcnRQYXJzZShpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgaW5wdXQgPSBuZXcgU3RyaW5nSW5wdXQoaW5wdXQpO1xuICAgICAgICByYW5nZXMgPSAhcmFuZ2VzID8gW25ldyBSYW5nZSgwLCBpbnB1dC5sZW5ndGgpXSA6IHJhbmdlcy5sZW5ndGggPyByYW5nZXMubWFwKHIgPT4gbmV3IFJhbmdlKHIuZnJvbSwgci50bykpIDogW25ldyBSYW5nZSgwLCAwKV07XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBhcnNlKGlucHV0LCBmcmFnbWVudHMgfHwgW10sIHJhbmdlcyk7XG4gICAgfVxuICAgIC8vLyBSdW4gYSBmdWxsIHBhcnNlLCByZXR1cm5pbmcgdGhlIHJlc3VsdGluZyB0cmVlLlxuICAgIHBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBsZXQgcGFyc2UgPSB0aGlzLnN0YXJ0UGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGRvbmUgPSBwYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9uZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFN0cmluZ0lucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLnN0cmluZy5sZW5ndGg7IH1cbiAgICBjaHVuayhmcm9tKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tKTsgfVxuICAgIGdldCBsaW5lQ2h1bmtzKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICByZWFkKGZyb20sIHRvKSB7IHJldHVybiB0aGlzLnN0cmluZy5zbGljZShmcm9tLCB0byk7IH1cbn1cblxuLy8vIENyZWF0ZSBhIHBhcnNlIHdyYXBwZXIgdGhhdCwgYWZ0ZXIgdGhlIGlubmVyIHBhcnNlIGNvbXBsZXRlcyxcbi8vLyBzY2FucyBpdHMgdHJlZSBmb3IgbWl4ZWQgbGFuZ3VhZ2UgcmVnaW9ucyB3aXRoIHRoZSBgbmVzdGBcbi8vLyBmdW5jdGlvbiwgcnVucyB0aGUgcmVzdWx0aW5nIFtpbm5lciBwYXJzZXNdKCNjb21tb24uTmVzdGVkUGFyc2UpLFxuLy8vIGFuZCB0aGVuIFttb3VudHNdKCNjb21tb24uTm9kZVByb3BebW91bnRlZCkgdGhlaXIgcmVzdWx0cyBvbnRvIHRoZVxuLy8vIHRyZWUuXG5mdW5jdGlvbiBwYXJzZU1peGVkKG5lc3QpIHtcbiAgICByZXR1cm4gKHBhcnNlLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpID0+IG5ldyBNaXhlZFBhcnNlKHBhcnNlLCBuZXN0LCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xufVxuY2xhc3MgSW5uZXJQYXJzZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBwYXJzZSwgb3ZlcmxheSwgdGFyZ2V0LCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gb3ZlcmxheTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgIH1cbn1cbmNsYXNzIEFjdGl2ZU92ZXJsYXkge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlciwgcHJlZGljYXRlLCBtb3VudHMsIGluZGV4LCBzdGFydCwgdGFyZ2V0LCBwcmV2KSB7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLnByZWRpY2F0ZSA9IHByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5tb3VudHMgPSBtb3VudHM7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgICAgICAgdGhpcy5kZXB0aCA9IDA7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gW107XG4gICAgfVxufVxuY29uc3Qgc3RvcHBlZElubmVyID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbmNsYXNzIE1peGVkUGFyc2Uge1xuICAgIGNvbnN0cnVjdG9yKGJhc2UsIG5lc3QsIGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICB0aGlzLm5lc3QgPSBuZXN0O1xuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRzID0gZnJhZ21lbnRzO1xuICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcztcbiAgICAgICAgdGhpcy5pbm5lciA9IFtdO1xuICAgICAgICB0aGlzLmlubmVyRG9uZSA9IDA7XG4gICAgICAgIHRoaXMuYmFzZVRyZWUgPSBudWxsO1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFzZVBhcnNlID0gYmFzZTtcbiAgICB9XG4gICAgYWR2YW5jZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVBhcnNlKSB7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IHRoaXMuYmFzZVBhcnNlLmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhcnNlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRyZWUgPSBkb25lO1xuICAgICAgICAgICAgdGhpcy5zdGFydElubmVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpbm5lciBvZiB0aGlzLmlubmVyKVxuICAgICAgICAgICAgICAgICAgICBpbm5lci5wYXJzZS5zdG9wQXQodGhpcy5zdG9wcGVkQXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlubmVyRG9uZSA9PSB0aGlzLmlubmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuYmFzZVRyZWU7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgVHJlZShyZXN1bHQudHlwZSwgcmVzdWx0LmNoaWxkcmVuLCByZXN1bHQucG9zaXRpb25zLCByZXN1bHQubGVuZ3RoLCByZXN1bHQucHJvcFZhbHVlcy5jb25jYXQoW1tzdG9wcGVkSW5uZXIsIHRoaXMuc3RvcHBlZEF0XV0pKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlubmVyID0gdGhpcy5pbm5lclt0aGlzLmlubmVyRG9uZV0sIGRvbmUgPSBpbm5lci5wYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVyRG9uZSsrO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHNvbWV3aGF0IGRvZGd5IGJ1dCBzdXBlciBoZWxwZnVsIGhhY2sgd2hlcmUgd2VcbiAgICAgICAgICAgIC8vIHBhdGNoIHVwIG5vZGVzIGNyZWF0ZWQgYnkgdGhlIGlubmVyIHBhcnNlIChhbmQgdGh1c1xuICAgICAgICAgICAgLy8gcHJlc3VtYWJseSBub3QgYWxpYXNlZCBhbnl3aGVyZSBlbHNlKSB0byBob2xkIHRoZSBpbmZvcm1hdGlvblxuICAgICAgICAgICAgLy8gYWJvdXQgdGhlIGlubmVyIHBhcnNlLlxuICAgICAgICAgICAgbGV0IHByb3BzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBpbm5lci50YXJnZXQucHJvcHMpO1xuICAgICAgICAgICAgcHJvcHNbTm9kZVByb3AubW91bnRlZC5pZF0gPSBuZXcgTW91bnRlZFRyZWUoZG9uZSwgaW5uZXIub3ZlcmxheSwgaW5uZXIucGFyc2VyKTtcbiAgICAgICAgICAgIGlubmVyLnRhcmdldC5wcm9wcyA9IHByb3BzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXQgcGFyc2VkUG9zKCkge1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuaW5wdXQubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5pbm5lckRvbmU7IGkgPCB0aGlzLmlubmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbm5lcltpXS5yYW5nZXNbMF0uZnJvbSA8IHBvcylcbiAgICAgICAgICAgICAgICBwb3MgPSBNYXRoLm1pbihwb3MsIHRoaXMuaW5uZXJbaV0ucGFyc2UucGFyc2VkUG9zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICBzdG9wQXQocG9zKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEF0ID0gcG9zO1xuICAgICAgICBpZiAodGhpcy5iYXNlUGFyc2UpXG4gICAgICAgICAgICB0aGlzLmJhc2VQYXJzZS5zdG9wQXQocG9zKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5uZXJEb25lOyBpIDwgdGhpcy5pbm5lci5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB0aGlzLmlubmVyW2ldLnBhcnNlLnN0b3BBdChwb3MpO1xuICAgIH1cbiAgICBzdGFydElubmVyKCkge1xuICAgICAgICBsZXQgZnJhZ21lbnRDdXJzb3IgPSBuZXcgRnJhZ21lbnRDdXJzb3IodGhpcy5mcmFnbWVudHMpO1xuICAgICAgICBsZXQgb3ZlcmxheSA9IG51bGw7XG4gICAgICAgIGxldCBjb3ZlcmVkID0gbnVsbDtcbiAgICAgICAgbGV0IGN1cnNvciA9IG5ldyBUcmVlQ3Vyc29yKG5ldyBUcmVlTm9kZSh0aGlzLmJhc2VUcmVlLCB0aGlzLnJhbmdlc1swXS5mcm9tLCAwLCBudWxsKSwgSXRlck1vZGUuSW5jbHVkZUFub255bW91cyB8IEl0ZXJNb2RlLklnbm9yZU1vdW50cyk7XG4gICAgICAgIHNjYW46IGZvciAobGV0IG5lc3QsIGlzQ292ZXJlZDsgdGhpcy5zdG9wcGVkQXQgPT0gbnVsbCB8fCBjdXJzb3IuZnJvbSA8IHRoaXMuc3RvcHBlZEF0Oykge1xuICAgICAgICAgICAgbGV0IGVudGVyID0gdHJ1ZSwgcmFuZ2U7XG4gICAgICAgICAgICBpZiAoZnJhZ21lbnRDdXJzb3IuaGFzTm9kZShjdXJzb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gb3ZlcmxheS5tb3VudHMuZmluZChtID0+IG0uZnJhZy5mcm9tIDw9IGN1cnNvci5mcm9tICYmIG0uZnJhZy50byA+PSBjdXJzb3IudG8gJiYgbS5tb3VudC5vdmVybGF5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiBtYXRjaC5tb3VudC5vdmVybGF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZyb20gPSByLmZyb20gKyBtYXRjaC5wb3MsIHRvID0gci50byArIG1hdGNoLnBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJvbSA+PSBjdXJzb3IuZnJvbSAmJiB0byA8PSBjdXJzb3IudG8gJiYgIW92ZXJsYXkucmFuZ2VzLnNvbWUociA9PiByLmZyb20gPCB0byAmJiByLnRvID4gZnJvbSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXkucmFuZ2VzLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdmVyZWQgJiYgKGlzQ292ZXJlZCA9IGNoZWNrQ292ZXIoY292ZXJlZC5yYW5nZXMsIGN1cnNvci5mcm9tLCBjdXJzb3IudG8pKSkge1xuICAgICAgICAgICAgICAgIGVudGVyID0gaXNDb3ZlcmVkICE9IDIgLyogQ292ZXIuRnVsbCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFjdXJzb3IudHlwZS5pc0Fub255bW91cyAmJiBjdXJzb3IuZnJvbSA8IGN1cnNvci50byAmJiAobmVzdCA9IHRoaXMubmVzdChjdXJzb3IsIHRoaXMuaW5wdXQpKSkge1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yLnRyZWUpXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsaXplKGN1cnNvcik7XG4gICAgICAgICAgICAgICAgbGV0IG9sZE1vdW50cyA9IGZyYWdtZW50Q3Vyc29yLmZpbmRNb3VudHMoY3Vyc29yLmZyb20sIG5lc3QucGFyc2VyKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5lc3Qub3ZlcmxheSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheSA9IG5ldyBBY3RpdmVPdmVybGF5KG5lc3QucGFyc2VyLCBuZXN0Lm92ZXJsYXksIG9sZE1vdW50cywgdGhpcy5pbm5lci5sZW5ndGgsIGN1cnNvci5mcm9tLCBjdXJzb3IudHJlZSwgb3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gcHVuY2hSYW5nZXModGhpcy5yYW5nZXMsIG5lc3Qub3ZlcmxheSB8fCBbbmV3IFJhbmdlKGN1cnNvci5mcm9tLCBjdXJzb3IudG8pXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lci5wdXNoKG5ldyBJbm5lclBhcnNlKG5lc3QucGFyc2VyLCBuZXN0LnBhcnNlci5zdGFydFBhcnNlKHRoaXMuaW5wdXQsIGVudGVyRnJhZ21lbnRzKG9sZE1vdW50cywgcmFuZ2VzKSwgcmFuZ2VzKSwgbmVzdC5vdmVybGF5ID8gbmVzdC5vdmVybGF5Lm1hcChyID0+IG5ldyBSYW5nZShyLmZyb20gLSBjdXJzb3IuZnJvbSwgci50byAtIGN1cnNvci5mcm9tKSkgOiBudWxsLCBjdXJzb3IudHJlZSwgcmFuZ2VzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmVzdC5vdmVybGF5KVxuICAgICAgICAgICAgICAgICAgICAgICAgZW50ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmFuZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQgPSB7IHJhbmdlcywgZGVwdGg6IDAsIHByZXY6IGNvdmVyZWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvdmVybGF5ICYmIChyYW5nZSA9IG92ZXJsYXkucHJlZGljYXRlKGN1cnNvcikpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG5ldyBSYW5nZShjdXJzb3IuZnJvbSwgY3Vyc29yLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZnJvbSA8IHJhbmdlLnRvKVxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRlciAmJiBjdXJzb3IuZmlyc3RDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJsYXkpXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuZGVwdGgrKztcbiAgICAgICAgICAgICAgICBpZiAoY292ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgY292ZXJlZC5kZXB0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IucGFyZW50KCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBzY2FuO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmxheSAmJiAhLS1vdmVybGF5LmRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmFuZ2VzID0gcHVuY2hSYW5nZXModGhpcy5yYW5nZXMsIG92ZXJsYXkucmFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXIuc3BsaWNlKG92ZXJsYXkuaW5kZXgsIDAsIG5ldyBJbm5lclBhcnNlKG92ZXJsYXkucGFyc2VyLCBvdmVybGF5LnBhcnNlci5zdGFydFBhcnNlKHRoaXMuaW5wdXQsIGVudGVyRnJhZ21lbnRzKG92ZXJsYXkubW91bnRzLCByYW5nZXMpLCByYW5nZXMpLCBvdmVybGF5LnJhbmdlcy5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tIC0gb3ZlcmxheS5zdGFydCwgci50byAtIG92ZXJsYXkuc3RhcnQpKSwgb3ZlcmxheS50YXJnZXQsIHJhbmdlcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheSA9IG92ZXJsYXkucHJldjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY292ZXJlZCAmJiAhLS1jb3ZlcmVkLmRlcHRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJlZCA9IGNvdmVyZWQucHJldjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja0NvdmVyKGNvdmVyZWQsIGZyb20sIHRvKSB7XG4gICAgZm9yIChsZXQgcmFuZ2Ugb2YgY292ZXJlZCkge1xuICAgICAgICBpZiAocmFuZ2UuZnJvbSA+PSB0bylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBpZiAocmFuZ2UudG8gPiBmcm9tKVxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmZyb20gPD0gZnJvbSAmJiByYW5nZS50byA+PSB0byA/IDIgLyogQ292ZXIuRnVsbCAqLyA6IDEgLyogQ292ZXIuUGFydGlhbCAqLztcbiAgICB9XG4gICAgcmV0dXJuIDAgLyogQ292ZXIuTm9uZSAqLztcbn1cbi8vIFRha2UgYSBwaWVjZSBvZiBidWZmZXIgYW5kIGNvbnZlcnQgaXQgaW50byBhIHN0YW5kLWFsb25lXG4vLyBUcmVlQnVmZmVyLlxuZnVuY3Rpb24gc2xpY2VCdWYoYnVmLCBzdGFydEksIGVuZEksIG5vZGVzLCBwb3NpdGlvbnMsIG9mZikge1xuICAgIGlmIChzdGFydEkgPCBlbmRJKSB7XG4gICAgICAgIGxldCBmcm9tID0gYnVmLmJ1ZmZlcltzdGFydEkgKyAxXTtcbiAgICAgICAgbm9kZXMucHVzaChidWYuc2xpY2Uoc3RhcnRJLCBlbmRJLCBmcm9tKSk7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGZyb20gLSBvZmYpO1xuICAgIH1cbn1cbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgYSBub2RlIHRoYXQncyBpbiBhIGJ1ZmZlciwgYW5kIGNvbnZlcnRzIGl0LCBhbmRcbi8vIGl0cyBwYXJlbnQgYnVmZmVyIG5vZGVzLCBpbnRvIGEgVHJlZS4gVGhpcyBpcyBhZ2FpbiBhY3Rpbmcgb24gdGhlXG4vLyBhc3N1bXB0aW9uIHRoYXQgdGhlIHRyZWVzIGFuZCBidWZmZXJzIGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBieSB0aGVcbi8vIHBhcnNlIHRoYXQgd2FzIHJhbiB2aWEgdGhlIG1peCBwYXJzZXIsIGFuZCB0aHVzIGFyZW4ndCBzaGFyZWQgd2l0aFxuLy8gYW55IG90aGVyIGNvZGUsIG1ha2luZyB2aW9sYXRpb25zIG9mIHRoZSBpbW11dGFiaWxpdHkgc2FmZS5cbmZ1bmN0aW9uIG1hdGVyaWFsaXplKGN1cnNvcikge1xuICAgIGxldCB7IG5vZGUgfSA9IGN1cnNvciwgZGVwdGggPSAwO1xuICAgIC8vIFNjYW4gdXAgdG8gdGhlIG5lYXJlc3QgdHJlZVxuICAgIGRvIHtcbiAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICBkZXB0aCsrO1xuICAgIH0gd2hpbGUgKCFjdXJzb3IudHJlZSk7XG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGJ1ZmZlciBpbiB0aGF0IHRyZWVcbiAgICBsZXQgaSA9IDAsIGJhc2UgPSBjdXJzb3IudHJlZSwgb2ZmID0gMDtcbiAgICBmb3IgKDs7IGkrKykge1xuICAgICAgICBvZmYgPSBiYXNlLnBvc2l0aW9uc1tpXSArIGN1cnNvci5mcm9tO1xuICAgICAgICBpZiAob2ZmIDw9IG5vZGUuZnJvbSAmJiBvZmYgKyBiYXNlLmNoaWxkcmVuW2ldLmxlbmd0aCA+PSBub2RlLnRvKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxldCBidWYgPSBiYXNlLmNoaWxkcmVuW2ldLCBiID0gYnVmLmJ1ZmZlcjtcbiAgICAvLyBTcGxpdCBhIGxldmVsIGluIHRoZSBidWZmZXIsIHB1dHRpbmcgdGhlIG5vZGVzIGJlZm9yZSBhbmQgYWZ0ZXJcbiAgICAvLyB0aGUgY2hpbGQgdGhhdCBjb250YWlucyBgbm9kZWAgaW50byBuZXcgYnVmZmVycy5cbiAgICBmdW5jdGlvbiBzcGxpdChzdGFydEksIGVuZEksIHR5cGUsIGlubmVyT2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgICAgbGV0IGkgPSBzdGFydEk7XG4gICAgICAgIHdoaWxlIChiW2kgKyAyXSArIG9mZiA8PSBub2RlLmZyb20pXG4gICAgICAgICAgICBpID0gYltpICsgM107XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdLCBwb3NpdGlvbnMgPSBbXTtcbiAgICAgICAgc2xpY2VCdWYoYnVmLCBzdGFydEksIGksIGNoaWxkcmVuLCBwb3NpdGlvbnMsIGlubmVyT2Zmc2V0KTtcbiAgICAgICAgbGV0IGZyb20gPSBiW2kgKyAxXSwgdG8gPSBiW2kgKyAyXTtcbiAgICAgICAgbGV0IGlzVGFyZ2V0ID0gZnJvbSArIG9mZiA9PSBub2RlLmZyb20gJiYgdG8gKyBvZmYgPT0gbm9kZS50byAmJiBiW2ldID09IG5vZGUudHlwZS5pZDtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChpc1RhcmdldCA/IG5vZGUudG9UcmVlKCkgOiBzcGxpdChpICsgNCwgYltpICsgM10sIGJ1Zi5zZXQudHlwZXNbYltpXV0sIGZyb20sIHRvIC0gZnJvbSkpO1xuICAgICAgICBwb3NpdGlvbnMucHVzaChmcm9tIC0gaW5uZXJPZmZzZXQpO1xuICAgICAgICBzbGljZUJ1ZihidWYsIGJbaSArIDNdLCBlbmRJLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBpbm5lck9mZnNldCk7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0eXBlLCBjaGlsZHJlbiwgcG9zaXRpb25zLCBsZW5ndGgpO1xuICAgIH1cbiAgICBiYXNlLmNoaWxkcmVuW2ldID0gc3BsaXQoMCwgYi5sZW5ndGgsIE5vZGVUeXBlLm5vbmUsIDAsIGJ1Zi5sZW5ndGgpO1xuICAgIC8vIE1vdmUgdGhlIGN1cnNvciBiYWNrIHRvIHRoZSB0YXJnZXQgbm9kZVxuICAgIGZvciAobGV0IGQgPSAwOyBkIDw9IGRlcHRoOyBkKyspXG4gICAgICAgIGN1cnNvci5jaGlsZEFmdGVyKG5vZGUuZnJvbSk7XG59XG5jbGFzcyBTdHJ1Y3R1cmVDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHJvb3QsIG9mZnNldCkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gcm9vdC5jdXJzb3IoSXRlck1vZGUuSW5jbHVkZUFub255bW91cyB8IEl0ZXJNb2RlLklnbm9yZU1vdW50cyk7XG4gICAgfVxuICAgIC8vIE1vdmUgdG8gdGhlIGZpcnN0IG5vZGUgKGluIHByZS1vcmRlcikgdGhhdCBzdGFydHMgYXQgb3IgYWZ0ZXIgYHBvc2AuXG4gICAgbW92ZVRvKHBvcykge1xuICAgICAgICBsZXQgeyBjdXJzb3IgfSA9IHRoaXMsIHAgPSBwb3MgLSB0aGlzLm9mZnNldDtcbiAgICAgICAgd2hpbGUgKCF0aGlzLmRvbmUgJiYgY3Vyc29yLmZyb20gPCBwKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLnRvID49IHBvcyAmJiBjdXJzb3IuZW50ZXIocCwgMSwgSXRlck1vZGUuSWdub3JlT3ZlcmxheXMgfCBJdGVyTW9kZS5FeGNsdWRlQnVmZmVycykpIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFjdXJzb3IubmV4dChmYWxzZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNOb2RlKGN1cnNvcikge1xuICAgICAgICB0aGlzLm1vdmVUbyhjdXJzb3IuZnJvbSk7XG4gICAgICAgIGlmICghdGhpcy5kb25lICYmIHRoaXMuY3Vyc29yLmZyb20gKyB0aGlzLm9mZnNldCA9PSBjdXJzb3IuZnJvbSAmJiB0aGlzLmN1cnNvci50cmVlKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB0cmVlID0gdGhpcy5jdXJzb3IudHJlZTs7KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRyZWUgPT0gY3Vyc29yLnRyZWUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICh0cmVlLmNoaWxkcmVuLmxlbmd0aCAmJiB0cmVlLnBvc2l0aW9uc1swXSA9PSAwICYmIHRyZWUuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBUcmVlKVxuICAgICAgICAgICAgICAgICAgICB0cmVlID0gdHJlZS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5jbGFzcyBGcmFnbWVudEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IoZnJhZ21lbnRzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMuY3VyVG8gPSAwO1xuICAgICAgICB0aGlzLmZyYWdJID0gMDtcbiAgICAgICAgaWYgKGZyYWdtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBmaXJzdCA9IHRoaXMuY3VyRnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgICAgIHRoaXMuY3VyVG8gPSAoX2EgPSBmaXJzdC50cmVlLnByb3Aoc3RvcHBlZElubmVyKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmlyc3QudG87XG4gICAgICAgICAgICB0aGlzLmlubmVyID0gbmV3IFN0cnVjdHVyZUN1cnNvcihmaXJzdC50cmVlLCAtZmlyc3Qub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VyRnJhZyA9IHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhc05vZGUobm9kZSkge1xuICAgICAgICB3aGlsZSAodGhpcy5jdXJGcmFnICYmIG5vZGUuZnJvbSA+PSB0aGlzLmN1clRvKVxuICAgICAgICAgICAgdGhpcy5uZXh0RnJhZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJGcmFnICYmIHRoaXMuY3VyRnJhZy5mcm9tIDw9IG5vZGUuZnJvbSAmJiB0aGlzLmN1clRvID49IG5vZGUudG8gJiYgdGhpcy5pbm5lci5oYXNOb2RlKG5vZGUpO1xuICAgIH1cbiAgICBuZXh0RnJhZygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmZyYWdJKys7XG4gICAgICAgIGlmICh0aGlzLmZyYWdJID09IHRoaXMuZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jdXJGcmFnID0gdGhpcy5pbm5lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZnJhZyA9IHRoaXMuY3VyRnJhZyA9IHRoaXMuZnJhZ21lbnRzW3RoaXMuZnJhZ0ldO1xuICAgICAgICAgICAgdGhpcy5jdXJUbyA9IChfYSA9IGZyYWcudHJlZS5wcm9wKHN0b3BwZWRJbm5lcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZyYWcudG87XG4gICAgICAgICAgICB0aGlzLmlubmVyID0gbmV3IFN0cnVjdHVyZUN1cnNvcihmcmFnLnRyZWUsIC1mcmFnLm9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZE1vdW50cyhwb3MsIHBhcnNlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuY3Vyc29yLm1vdmVUbyhwb3MsIDEpO1xuICAgICAgICAgICAgZm9yIChsZXQgcG9zID0gdGhpcy5pbm5lci5jdXJzb3Iubm9kZTsgcG9zOyBwb3MgPSBwb3MucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vdW50ID0gKF9hID0gcG9zLnRyZWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcm9wKE5vZGVQcm9wLm1vdW50ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChtb3VudCAmJiBtb3VudC5wYXJzZXIgPT0gcGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZyYWdJOyBpIDwgdGhpcy5mcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmcmFnID0gdGhpcy5mcmFnbWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy5mcm9tID49IHBvcy50bylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLnRyZWUgPT0gdGhpcy5jdXJGcmFnLnRyZWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcy5mcm9tIC0gZnJhZy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5mdW5jdGlvbiBwdW5jaFJhbmdlcyhvdXRlciwgcmFuZ2VzKSB7XG4gICAgbGV0IGNvcHkgPSBudWxsLCBjdXJyZW50ID0gcmFuZ2VzO1xuICAgIGZvciAobGV0IGkgPSAxLCBqID0gMDsgaSA8IG91dGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBnYXBGcm9tID0gb3V0ZXJbaSAtIDFdLnRvLCBnYXBUbyA9IG91dGVyW2ldLmZyb207XG4gICAgICAgIGZvciAoOyBqIDwgY3VycmVudC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgbGV0IHIgPSBjdXJyZW50W2pdO1xuICAgICAgICAgICAgaWYgKHIuZnJvbSA+PSBnYXBUbylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChyLnRvIDw9IGdhcEZyb20pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoIWNvcHkpXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGNvcHkgPSByYW5nZXMuc2xpY2UoKTtcbiAgICAgICAgICAgIGlmIChyLmZyb20gPCBnYXBGcm9tKSB7XG4gICAgICAgICAgICAgICAgY29weVtqXSA9IG5ldyBSYW5nZShyLmZyb20sIGdhcEZyb20pO1xuICAgICAgICAgICAgICAgIGlmIChyLnRvID4gZ2FwVG8pXG4gICAgICAgICAgICAgICAgICAgIGNvcHkuc3BsaWNlKGogKyAxLCAwLCBuZXcgUmFuZ2UoZ2FwVG8sIHIudG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHIudG8gPiBnYXBUbykge1xuICAgICAgICAgICAgICAgIGNvcHlbai0tXSA9IG5ldyBSYW5nZShnYXBUbywgci50byk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb3B5LnNwbGljZShqLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xufVxuZnVuY3Rpb24gZmluZENvdmVyQ2hhbmdlcyhhLCBiLCBmcm9tLCB0bykge1xuICAgIGxldCBpQSA9IDAsIGlCID0gMCwgaW5BID0gZmFsc2UsIGluQiA9IGZhbHNlLCBwb3MgPSAtMWU5O1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBuZXh0QSA9IGlBID09IGEubGVuZ3RoID8gMWU5IDogaW5BID8gYVtpQV0udG8gOiBhW2lBXS5mcm9tO1xuICAgICAgICBsZXQgbmV4dEIgPSBpQiA9PSBiLmxlbmd0aCA/IDFlOSA6IGluQiA/IGJbaUJdLnRvIDogYltpQl0uZnJvbTtcbiAgICAgICAgaWYgKGluQSAhPSBpbkIpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KHBvcywgZnJvbSksIGVuZCA9IE1hdGgubWluKG5leHRBLCBuZXh0QiwgdG8pO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDwgZW5kKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBSYW5nZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9zID0gTWF0aC5taW4obmV4dEEsIG5leHRCKTtcbiAgICAgICAgaWYgKHBvcyA9PSAxZTkpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgaWYgKG5leHRBID09IHBvcykge1xuICAgICAgICAgICAgaWYgKCFpbkEpXG4gICAgICAgICAgICAgICAgaW5BID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluQSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlBKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRCID09IHBvcykge1xuICAgICAgICAgICAgaWYgKCFpbkIpXG4gICAgICAgICAgICAgICAgaW5CID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluQiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlCKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIEdpdmVuIGEgbnVtYmVyIG9mIGZyYWdtZW50cyBmb3IgdGhlIG91dGVyIHRyZWUsIGFuZCBhIHNldCBvZiByYW5nZXNcbi8vIHRvIHBhcnNlLCBmaW5kIGZyYWdtZW50cyBmb3IgaW5uZXIgdHJlZXMgbW91bnRlZCBhcm91bmQgdGhvc2Vcbi8vIHJhbmdlcywgaWYgYW55LlxuZnVuY3Rpb24gZW50ZXJGcmFnbWVudHMobW91bnRzLCByYW5nZXMpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgeyBwb3MsIG1vdW50LCBmcmFnIH0gb2YgbW91bnRzKSB7XG4gICAgICAgIGxldCBzdGFydFBvcyA9IHBvcyArIChtb3VudC5vdmVybGF5ID8gbW91bnQub3ZlcmxheVswXS5mcm9tIDogMCksIGVuZFBvcyA9IHN0YXJ0UG9zICsgbW91bnQudHJlZS5sZW5ndGg7XG4gICAgICAgIGxldCBmcm9tID0gTWF0aC5tYXgoZnJhZy5mcm9tLCBzdGFydFBvcyksIHRvID0gTWF0aC5taW4oZnJhZy50bywgZW5kUG9zKTtcbiAgICAgICAgaWYgKG1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgIGxldCBvdmVybGF5ID0gbW91bnQub3ZlcmxheS5tYXAociA9PiBuZXcgUmFuZ2Uoci5mcm9tICsgcG9zLCByLnRvICsgcG9zKSk7XG4gICAgICAgICAgICBsZXQgY2hhbmdlcyA9IGZpbmRDb3ZlckNoYW5nZXMocmFuZ2VzLCBvdmVybGF5LCBmcm9tLCB0byk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gZnJvbTs7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gaSA9PSBjaGFuZ2VzLmxlbmd0aCwgZW5kID0gbGFzdCA/IHRvIDogY2hhbmdlc1tpXS5mcm9tO1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPiBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBUcmVlRnJhZ21lbnQocG9zLCBlbmQsIG1vdW50LnRyZWUsIC1zdGFydFBvcywgZnJhZy5mcm9tID49IHBvcyB8fCBmcmFnLm9wZW5TdGFydCwgZnJhZy50byA8PSBlbmQgfHwgZnJhZy5vcGVuRW5kKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIHBvcyA9IGNoYW5nZXNbaV0udG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXcgVHJlZUZyYWdtZW50KGZyb20sIHRvLCBtb3VudC50cmVlLCAtc3RhcnRQb3MsIGZyYWcuZnJvbSA+PSBzdGFydFBvcyB8fCBmcmFnLm9wZW5TdGFydCwgZnJhZy50byA8PSBlbmRQb3MgfHwgZnJhZy5vcGVuRW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgRGVmYXVsdEJ1ZmZlckxlbmd0aCwgSXRlck1vZGUsIE1vdW50ZWRUcmVlLCBOb2RlUHJvcCwgTm9kZVNldCwgTm9kZVR5cGUsIE5vZGVXZWFrTWFwLCBQYXJzZXIsIFRyZWUsIFRyZWVCdWZmZXIsIFRyZWVDdXJzb3IsIFRyZWVGcmFnbWVudCwgcGFyc2VNaXhlZCB9O1xuIiwgImltcG9ydCB7IE5vZGVQcm9wIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5cbmxldCBuZXh0VGFnSUQgPSAwO1xuLy8vIEhpZ2hsaWdodGluZyB0YWdzIGFyZSBtYXJrZXJzIHRoYXQgZGVub3RlIGEgaGlnaGxpZ2h0aW5nIGNhdGVnb3J5LlxuLy8vIFRoZXkgYXJlIFthc3NvY2lhdGVkXSgjaGlnaGxpZ2h0LnN0eWxlVGFncykgd2l0aCBwYXJ0cyBvZiBhIHN5bnRheFxuLy8vIHRyZWUgYnkgYSBsYW5ndWFnZSBtb2RlLCBhbmQgdGhlbiBtYXBwZWQgdG8gYW4gYWN0dWFsIENTUyBzdHlsZSBieVxuLy8vIGEgW2hpZ2hsaWdodGVyXSgjaGlnaGxpZ2h0LkhpZ2hsaWdodGVyKS5cbi8vL1xuLy8vIEJlY2F1c2Ugc3ludGF4IHRyZWUgbm9kZSB0eXBlcyBhbmQgaGlnaGxpZ2h0IHN0eWxlcyBoYXZlIHRvIGJlXG4vLy8gYWJsZSB0byB0YWxrIHRoZSBzYW1lIGxhbmd1YWdlLCBDb2RlTWlycm9yIHVzZXMgYSBtb3N0bHkgX2Nsb3NlZF9cbi8vLyBbdm9jYWJ1bGFyeV0oI2hpZ2hsaWdodC50YWdzKSBvZiBzeW50YXggdGFncyAoYXMgb3Bwb3NlZCB0b1xuLy8vIHRyYWRpdGlvbmFsIG9wZW4gc3RyaW5nLWJhc2VkIHN5c3RlbXMsIHdoaWNoIG1ha2UgaXQgaGFyZCBmb3Jcbi8vLyBoaWdobGlnaHRpbmcgdGhlbWVzIHRvIGNvdmVyIGFsbCB0aGUgdG9rZW5zIHByb2R1Y2VkIGJ5IHRoZVxuLy8vIHZhcmlvdXMgbGFuZ3VhZ2VzKS5cbi8vL1xuLy8vIEl0IF9pc18gcG9zc2libGUgdG8gW2RlZmluZV0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lKSB5b3VyIG93blxuLy8vIGhpZ2hsaWdodGluZyB0YWdzIGZvciBzeXN0ZW0taW50ZXJuYWwgdXNlICh3aGVyZSB5b3UgY29udHJvbCBib3RoXG4vLy8gdGhlIGxhbmd1YWdlIHBhY2thZ2UgYW5kIHRoZSBoaWdobGlnaHRlciksIGJ1dCBzdWNoIHRhZ3Mgd2lsbCBub3Rcbi8vLyBiZSBwaWNrZWQgdXAgYnkgcmVndWxhciBoaWdobGlnaHRlcnMgKHRob3VnaCB5b3UgY2FuIGRlcml2ZSB0aGVtXG4vLy8gZnJvbSBzdGFuZGFyZCB0YWdzIHRvIGFsbG93IGhpZ2hsaWdodGVycyB0byBmYWxsIGJhY2sgdG8gdGhvc2UpLlxuY2xhc3MgVGFnIHtcbiAgICAvLy8gQGludGVybmFsXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIFRoZSBzZXQgb2YgdGhpcyB0YWcgYW5kIGFsbCBpdHMgcGFyZW50IHRhZ3MsIHN0YXJ0aW5nIHdpdGhcbiAgICAvLy8gdGhpcyBvbmUgaXRzZWxmIGFuZCBzb3J0ZWQgaW4gb3JkZXIgb2YgZGVjcmVhc2luZyBzcGVjaWZpY2l0eS5cbiAgICBzZXQsIFxuICAgIC8vLyBUaGUgYmFzZSB1bm1vZGlmaWVkIHRhZyB0aGF0IHRoaXMgb25lIGlzIGJhc2VkIG9uLCBpZiBpdCdzXG4gICAgLy8vIG1vZGlmaWVkIEBpbnRlcm5hbFxuICAgIGJhc2UsIFxuICAgIC8vLyBUaGUgbW9kaWZpZXJzIGFwcGxpZWQgdG8gdGhpcy5iYXNlIEBpbnRlcm5hbFxuICAgIG1vZGlmaWVkKSB7XG4gICAgICAgIHRoaXMuc2V0ID0gc2V0O1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbW9kaWZpZWQ7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5pZCA9IG5leHRUYWdJRCsrO1xuICAgIH1cbiAgICAvLy8gRGVmaW5lIGEgbmV3IHRhZy4gSWYgYHBhcmVudGAgaXMgZ2l2ZW4sIHRoZSB0YWcgaXMgdHJlYXRlZCBhcyBhXG4gICAgLy8vIHN1Yi10YWcgb2YgdGhhdCBwYXJlbnQsIGFuZFxuICAgIC8vLyBbaGlnaGxpZ2h0ZXJzXSgjaGlnaGxpZ2h0LnRhZ0hpZ2hsaWdodGVyKSB0aGF0IGRvbid0IG1lbnRpb25cbiAgICAvLy8gdGhpcyB0YWcgd2lsbCB0cnkgdG8gZmFsbCBiYWNrIHRvIHRoZSBwYXJlbnQgdGFnIChvciBncmFuZHBhcmVudFxuICAgIC8vLyB0YWcsIGV0YykuXG4gICAgc3RhdGljIGRlZmluZShwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5iYXNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBkZXJpdmUgZnJvbSBhIG1vZGlmaWVkIHRhZ1wiKTtcbiAgICAgICAgbGV0IHRhZyA9IG5ldyBUYWcoW10sIG51bGwsIFtdKTtcbiAgICAgICAgdGFnLnNldC5wdXNoKHRhZyk7XG4gICAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgICAgICBmb3IgKGxldCB0IG9mIHBhcmVudC5zZXQpXG4gICAgICAgICAgICAgICAgdGFnLnNldC5wdXNoKHQpO1xuICAgICAgICByZXR1cm4gdGFnO1xuICAgIH1cbiAgICAvLy8gRGVmaW5lIGEgdGFnIF9tb2RpZmllcl8sIHdoaWNoIGlzIGEgZnVuY3Rpb24gdGhhdCwgZ2l2ZW4gYSB0YWcsXG4gICAgLy8vIHdpbGwgcmV0dXJuIGEgdGFnIHRoYXQgaXMgYSBzdWJ0YWcgb2YgdGhlIG9yaWdpbmFsLiBBcHBseWluZyB0aGVcbiAgICAvLy8gc2FtZSBtb2RpZmllciB0byBhIHR3aWNlIHRhZyB3aWxsIHJldHVybiB0aGUgc2FtZSB2YWx1ZSAoYG0xKHQxKVxuICAgIC8vLyA9PSBtMSh0MSlgKSBhbmQgYXBwbHlpbmcgbXVsdGlwbGUgbW9kaWZpZXJzIHdpbGwsIHJlZ2FyZGxlc3Mgb3JcbiAgICAvLy8gb3JkZXIsIHByb2R1Y2UgdGhlIHNhbWUgdGFnIChgbTEobTIodDEpKSA9PSBtMihtMSh0MSkpYCkuXG4gICAgLy8vXG4gICAgLy8vIFdoZW4gbXVsdGlwbGUgbW9kaWZpZXJzIGFyZSBhcHBsaWVkIHRvIGEgZ2l2ZW4gYmFzZSB0YWcsIGVhY2hcbiAgICAvLy8gc21hbGxlciBzZXQgb2YgbW9kaWZpZXJzIGlzIHJlZ2lzdGVyZWQgYXMgYSBwYXJlbnQsIHNvIHRoYXQgZm9yXG4gICAgLy8vIGV4YW1wbGUgYG0xKG0yKG0zKHQxKSkpYCBpcyBhIHN1YnR5cGUgb2YgYG0xKG0yKHQxKSlgLFxuICAgIC8vLyBgbTEobTModDEpYCwgYW5kIHNvIG9uLlxuICAgIHN0YXRpYyBkZWZpbmVNb2RpZmllcigpIHtcbiAgICAgICAgbGV0IG1vZCA9IG5ldyBNb2RpZmllcjtcbiAgICAgICAgcmV0dXJuICh0YWcpID0+IHtcbiAgICAgICAgICAgIGlmICh0YWcubW9kaWZpZWQuaW5kZXhPZihtb2QpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgICAgICAgIHJldHVybiBNb2RpZmllci5nZXQodGFnLmJhc2UgfHwgdGFnLCB0YWcubW9kaWZpZWQuY29uY2F0KG1vZCkuc29ydCgoYSwgYikgPT4gYS5pZCAtIGIuaWQpKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5sZXQgbmV4dE1vZGlmaWVySUQgPSAwO1xuY2xhc3MgTW9kaWZpZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IFtdO1xuICAgICAgICB0aGlzLmlkID0gbmV4dE1vZGlmaWVySUQrKztcbiAgICB9XG4gICAgc3RhdGljIGdldChiYXNlLCBtb2RzKSB7XG4gICAgICAgIGlmICghbW9kcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgbGV0IGV4aXN0cyA9IG1vZHNbMF0uaW5zdGFuY2VzLmZpbmQodCA9PiB0LmJhc2UgPT0gYmFzZSAmJiBzYW1lQXJyYXkobW9kcywgdC5tb2RpZmllZCkpO1xuICAgICAgICBpZiAoZXhpc3RzKVxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0cztcbiAgICAgICAgbGV0IHNldCA9IFtdLCB0YWcgPSBuZXcgVGFnKHNldCwgYmFzZSwgbW9kcyk7XG4gICAgICAgIGZvciAobGV0IG0gb2YgbW9kcylcbiAgICAgICAgICAgIG0uaW5zdGFuY2VzLnB1c2godGFnKTtcbiAgICAgICAgbGV0IGNvbmZpZ3MgPSBwb3dlclNldChtb2RzKTtcbiAgICAgICAgZm9yIChsZXQgcGFyZW50IG9mIGJhc2Uuc2V0KVxuICAgICAgICAgICAgaWYgKCFwYXJlbnQubW9kaWZpZWQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbmZpZyBvZiBjb25maWdzKVxuICAgICAgICAgICAgICAgICAgICBzZXQucHVzaChNb2RpZmllci5nZXQocGFyZW50LCBjb25maWcpKTtcbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG59XG5mdW5jdGlvbiBzYW1lQXJyYXkoYSwgYikge1xuICAgIHJldHVybiBhLmxlbmd0aCA9PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KCh4LCBpKSA9PiB4ID09IGJbaV0pO1xufVxuZnVuY3Rpb24gcG93ZXJTZXQoYXJyYXkpIHtcbiAgICBsZXQgc2V0cyA9IFtbXV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMCwgZSA9IHNldHMubGVuZ3RoOyBqIDwgZTsgaisrKSB7XG4gICAgICAgICAgICBzZXRzLnB1c2goc2V0c1tqXS5jb25jYXQoYXJyYXlbaV0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2V0cy5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKTtcbn1cbi8vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gYWRkIGEgc2V0IG9mIHRhZ3MgdG8gYSBsYW5ndWFnZSBzeW50YXhcbi8vLyB2aWEgW2BOb2RlU2V0LmV4dGVuZGBdKCNjb21tb24uTm9kZVNldC5leHRlbmQpIG9yXG4vLy8gW2BMUlBhcnNlci5jb25maWd1cmVgXSgjbHIuTFJQYXJzZXIuY29uZmlndXJlKS5cbi8vL1xuLy8vIFRoZSBhcmd1bWVudCBvYmplY3QgbWFwcyBub2RlIHNlbGVjdG9ycyB0byBbaGlnaGxpZ2h0aW5nXG4vLy8gdGFnc10oI2hpZ2hsaWdodC5UYWcpIG9yIGFycmF5cyBvZiB0YWdzLlxuLy8vXG4vLy8gTm9kZSBzZWxlY3RvcnMgbWF5IGhvbGQgb25lIG9yIG1vcmUgKHNwYWNlLXNlcGFyYXRlZCkgbm9kZSBwYXRocy5cbi8vLyBTdWNoIGEgcGF0aCBjYW4gYmUgYSBbbm9kZSBuYW1lXSgjY29tbW9uLk5vZGVUeXBlLm5hbWUpLCBvclxuLy8vIG11bHRpcGxlIG5vZGUgbmFtZXMgKG9yIGAqYCB3aWxkY2FyZHMpIHNlcGFyYXRlZCBieSBzbGFzaFxuLy8vIGNoYXJhY3RlcnMsIGFzIGluIGBcIkJsb2NrL0RlY2xhcmF0aW9uL1ZhcmlhYmxlTmFtZVwiYC4gU3VjaCBhIHBhdGhcbi8vLyBtYXRjaGVzIHRoZSBmaW5hbCBub2RlIGJ1dCBvbmx5IGlmIGl0cyBkaXJlY3QgcGFyZW50IG5vZGVzIGFyZSB0aGVcbi8vLyBvdGhlciBub2RlcyBtZW50aW9uZWQuIEEgYCpgIGluIHN1Y2ggYSBwYXRoIG1hdGNoZXMgYW55IHBhcmVudCxcbi8vLyBidXQgb25seSBhIHNpbmdsZSBsZXZlbFx1MjAxNHdpbGRjYXJkcyB0aGF0IG1hdGNoIG11bHRpcGxlIHBhcmVudHNcbi8vLyBhcmVuJ3Qgc3VwcG9ydGVkLCBib3RoIGZvciBlZmZpY2llbmN5IHJlYXNvbnMgYW5kIGJlY2F1c2UgTGV6ZXJcbi8vLyB0cmVlcyBtYWtlIGl0IHJhdGhlciBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGF0IHRoZXkgd291bGQgbWF0Y2guKVxuLy8vXG4vLy8gQSBwYXRoIGNhbiBiZSBlbmRlZCB3aXRoIGAvLi4uYCB0byBpbmRpY2F0ZSB0aGF0IHRoZSB0YWcgYXNzaWduZWRcbi8vLyB0byB0aGUgbm9kZSBzaG91bGQgYWxzbyBhcHBseSB0byBhbGwgY2hpbGQgbm9kZXMsIGV2ZW4gaWYgdGhleVxuLy8vIG1hdGNoIHRoZWlyIG93biBzdHlsZSAoYnkgZGVmYXVsdCwgb25seSB0aGUgaW5uZXJtb3N0IHN0eWxlIGlzXG4vLy8gdXNlZCkuXG4vLy9cbi8vLyBXaGVuIGEgcGF0aCBlbmRzIGluIGAhYCwgYXMgaW4gYEF0dHJpYnV0ZSFgLCBubyBmdXJ0aGVyIG1hdGNoaW5nXG4vLy8gaGFwcGVucyBmb3IgdGhlIG5vZGUncyBjaGlsZCBub2RlcywgYW5kIHRoZSBlbnRpcmUgbm9kZSBnZXRzIHRoZVxuLy8vIGdpdmVuIHN0eWxlLlxuLy8vXG4vLy8gSW4gdGhpcyBub3RhdGlvbiwgbm9kZSBuYW1lcyB0aGF0IGNvbnRhaW4gYC9gLCBgIWAsIGAqYCwgb3IgYC4uLmBcbi8vLyBtdXN0IGJlIHF1b3RlZCBhcyBKU09OIHN0cmluZ3MuXG4vLy9cbi8vLyBGb3IgZXhhbXBsZTpcbi8vL1xuLy8vIGBgYGphdmFzY3JpcHRcbi8vLyBwYXJzZXIud2l0aFByb3BzKFxuLy8vICAgc3R5bGVUYWdzKHtcbi8vLyAgICAgLy8gU3R5bGUgTnVtYmVyIGFuZCBCaWdOdW1iZXIgbm9kZXNcbi8vLyAgICAgXCJOdW1iZXIgQmlnTnVtYmVyXCI6IHRhZ3MubnVtYmVyLFxuLy8vICAgICAvLyBTdHlsZSBFc2NhcGUgbm9kZXMgd2hvc2UgcGFyZW50IGlzIFN0cmluZ1xuLy8vICAgICBcIlN0cmluZy9Fc2NhcGVcIjogdGFncy5lc2NhcGUsXG4vLy8gICAgIC8vIFN0eWxlIGFueXRoaW5nIGluc2lkZSBBdHRyaWJ1dGVzIG5vZGVzXG4vLy8gICAgIFwiQXR0cmlidXRlcyFcIjogdGFncy5tZXRhLFxuLy8vICAgICAvLyBBZGQgYSBzdHlsZSB0byBhbGwgY29udGVudCBpbnNpZGUgSXRhbGljIG5vZGVzXG4vLy8gICAgIFwiSXRhbGljLy4uLlwiOiB0YWdzLmVtcGhhc2lzLFxuLy8vICAgICAvLyBTdHlsZSBJbnZhbGlkU3RyaW5nIG5vZGVzIGFzIGJvdGggYHN0cmluZ2AgYW5kIGBpbnZhbGlkYFxuLy8vICAgICBcIkludmFsaWRTdHJpbmdcIjogW3RhZ3Muc3RyaW5nLCB0YWdzLmludmFsaWRdLFxuLy8vICAgICAvLyBTdHlsZSB0aGUgbm9kZSBuYW1lZCBcIi9cIiBhcyBwdW5jdHVhdGlvblxuLy8vICAgICAnXCIvXCInOiB0YWdzLnB1bmN0dWF0aW9uXG4vLy8gICB9KVxuLy8vIClcbi8vLyBgYGBcbmZ1bmN0aW9uIHN0eWxlVGFncyhzcGVjKSB7XG4gICAgbGV0IGJ5TmFtZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzcGVjKSB7XG4gICAgICAgIGxldCB0YWdzID0gc3BlY1twcm9wXTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRhZ3MpKVxuICAgICAgICAgICAgdGFncyA9IFt0YWdzXTtcbiAgICAgICAgZm9yIChsZXQgcGFydCBvZiBwcm9wLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpZWNlcyA9IFtdLCBtb2RlID0gMiAvKiBOb3JtYWwgKi8sIHJlc3QgPSBwYXJ0O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IDA7Oykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdCA9PSBcIi4uLlwiICYmIHBvcyA+IDAgJiYgcG9zICsgMyA9PSBwYXJ0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZSA9IDEgLyogSW5oZXJpdCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBtID0gL15cIig/OlteXCJcXFxcXXxcXFxcLikqP1wifFteXFwvIV0rLy5leGVjKHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW0pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgcGF0aDogXCIgKyBwYXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgcGllY2VzLnB1c2gobVswXSA9PSBcIipcIiA/IFwiXCIgOiBtWzBdWzBdID09ICdcIicgPyBKU09OLnBhcnNlKG1bMF0pIDogbVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA9PSBwYXJ0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHBhcnRbcG9zKytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09IHBhcnQubGVuZ3RoICYmIG5leHQgPT0gXCIhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGUgPSAwIC8qIE9wYXF1ZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IFwiL1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbnZhbGlkIHBhdGg6IFwiICsgcGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3QgPSBwYXJ0LnNsaWNlKHBvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gcGllY2VzLmxlbmd0aCAtIDEsIGlubmVyID0gcGllY2VzW2xhc3RdO1xuICAgICAgICAgICAgICAgIGlmICghaW5uZXIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBwYXRoOiBcIiArIHBhcnQpO1xuICAgICAgICAgICAgICAgIGxldCBydWxlID0gbmV3IFJ1bGUodGFncywgbW9kZSwgbGFzdCA+IDAgPyBwaWVjZXMuc2xpY2UoMCwgbGFzdCkgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBieU5hbWVbaW5uZXJdID0gcnVsZS5zb3J0KGJ5TmFtZVtpbm5lcl0pO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnVsZU5vZGVQcm9wLmFkZChieU5hbWUpO1xufVxuY29uc3QgcnVsZU5vZGVQcm9wID0gbmV3IE5vZGVQcm9wKCk7XG5jbGFzcyBSdWxlIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdzLCBtb2RlLCBjb250ZXh0LCBuZXh0KSB7XG4gICAgICAgIHRoaXMudGFncyA9IHRhZ3M7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuICAgIGdldCBvcGFxdWUoKSB7IHJldHVybiB0aGlzLm1vZGUgPT0gMCAvKiBPcGFxdWUgKi87IH1cbiAgICBnZXQgaW5oZXJpdCgpIHsgcmV0dXJuIHRoaXMubW9kZSA9PSAxIC8qIEluaGVyaXQgKi87IH1cbiAgICBzb3J0KG90aGVyKSB7XG4gICAgICAgIGlmICghb3RoZXIgfHwgb3RoZXIuZGVwdGggPCB0aGlzLmRlcHRoKSB7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBvdGhlcjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyLm5leHQgPSB0aGlzLnNvcnQob3RoZXIubmV4dCk7XG4gICAgICAgIHJldHVybiBvdGhlcjtcbiAgICB9XG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5jb250ZXh0ID8gdGhpcy5jb250ZXh0Lmxlbmd0aCA6IDA7IH1cbn1cblJ1bGUuZW1wdHkgPSBuZXcgUnVsZShbXSwgMiAvKiBOb3JtYWwgKi8sIG51bGwpO1xuLy8vIERlZmluZSBhIFtoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikgZnJvbSBhbiBhcnJheSBvZlxuLy8vIHRhZy9jbGFzcyBwYWlycy4gQ2xhc3NlcyBhc3NvY2lhdGVkIHdpdGggbW9yZSBzcGVjaWZpYyB0YWdzIHdpbGxcbi8vLyB0YWtlIHByZWNlZGVuY2UuXG5mdW5jdGlvbiB0YWdIaWdobGlnaHRlcih0YWdzLCBvcHRpb25zKSB7XG4gICAgbGV0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgc3R5bGUgb2YgdGFncykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUudGFnKSlcbiAgICAgICAgICAgIG1hcFtzdHlsZS50YWcuaWRdID0gc3R5bGUuY2xhc3M7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiBzdHlsZS50YWcpXG4gICAgICAgICAgICAgICAgbWFwW3RhZy5pZF0gPSBzdHlsZS5jbGFzcztcbiAgICB9XG4gICAgbGV0IHsgc2NvcGUsIGFsbCA9IG51bGwgfSA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3R5bGU6ICh0YWdzKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xzID0gYWxsO1xuICAgICAgICAgICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWIgb2YgdGFnLnNldCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFnQ2xhc3MgPSBtYXBbc3ViLmlkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHMgPSBjbHMgPyBjbHMgKyBcIiBcIiArIHRhZ0NsYXNzIDogdGFnQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNjb3BlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhpZ2hsaWdodFRhZ3MoaGlnaGxpZ2h0ZXJzLCB0YWdzKSB7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgZm9yIChsZXQgaGlnaGxpZ2h0ZXIgb2YgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGhpZ2hsaWdodGVyLnN0eWxlKHRhZ3MpO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPyByZXN1bHQgKyBcIiBcIiArIHZhbHVlIDogdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLy8gSGlnaGxpZ2h0IHRoZSBnaXZlbiBbdHJlZV0oI2NvbW1vbi5UcmVlKSB3aXRoIHRoZSBnaXZlblxuLy8vIFtoaWdobGlnaHRlcl0oI2hpZ2hsaWdodC5IaWdobGlnaHRlcikuXG5mdW5jdGlvbiBoaWdobGlnaHRUcmVlKHRyZWUsIGhpZ2hsaWdodGVyLCBcbi8vLyBBc3NpZ24gc3R5bGluZyB0byBhIHJlZ2lvbiBvZiB0aGUgdGV4dC4gV2lsbCBiZSBjYWxsZWQsIGluIG9yZGVyXG4vLy8gb2YgcG9zaXRpb24sIGZvciBhbnkgcmFuZ2VzIHdoZXJlIG1vcmUgdGhhbiB6ZXJvIGNsYXNzZXMgYXBwbHkuXG4vLy8gYGNsYXNzZXNgIGlzIGEgc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBDU1MgY2xhc3Nlcy5cbnB1dFN0eWxlLCBcbi8vLyBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlIHRvIGhpZ2hsaWdodC5cbmZyb20gPSAwLCBcbi8vLyBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbnRvID0gdHJlZS5sZW5ndGgpIHtcbiAgICBsZXQgYnVpbGRlciA9IG5ldyBIaWdobGlnaHRCdWlsZGVyKGZyb20sIEFycmF5LmlzQXJyYXkoaGlnaGxpZ2h0ZXIpID8gaGlnaGxpZ2h0ZXIgOiBbaGlnaGxpZ2h0ZXJdLCBwdXRTdHlsZSk7XG4gICAgYnVpbGRlci5oaWdobGlnaHRSYW5nZSh0cmVlLmN1cnNvcigpLCBmcm9tLCB0bywgXCJcIiwgYnVpbGRlci5oaWdobGlnaHRlcnMpO1xuICAgIGJ1aWxkZXIuZmx1c2godG8pO1xufVxuY2xhc3MgSGlnaGxpZ2h0QnVpbGRlciB7XG4gICAgY29uc3RydWN0b3IoYXQsIGhpZ2hsaWdodGVycywgc3Bhbikge1xuICAgICAgICB0aGlzLmF0ID0gYXQ7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0ZXJzID0gaGlnaGxpZ2h0ZXJzO1xuICAgICAgICB0aGlzLnNwYW4gPSBzcGFuO1xuICAgICAgICB0aGlzLmNsYXNzID0gXCJcIjtcbiAgICB9XG4gICAgc3RhcnRTcGFuKGF0LCBjbHMpIHtcbiAgICAgICAgaWYgKGNscyAhPSB0aGlzLmNsYXNzKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKGF0KTtcbiAgICAgICAgICAgIGlmIChhdCA+IHRoaXMuYXQpXG4gICAgICAgICAgICAgICAgdGhpcy5hdCA9IGF0O1xuICAgICAgICAgICAgdGhpcy5jbGFzcyA9IGNscztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmbHVzaCh0bykge1xuICAgICAgICBpZiAodG8gPiB0aGlzLmF0ICYmIHRoaXMuY2xhc3MpXG4gICAgICAgICAgICB0aGlzLnNwYW4odGhpcy5hdCwgdG8sIHRoaXMuY2xhc3MpO1xuICAgIH1cbiAgICBoaWdobGlnaHRSYW5nZShjdXJzb3IsIGZyb20sIHRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgIGxldCB7IHR5cGUsIGZyb206IHN0YXJ0LCB0bzogZW5kIH0gPSBjdXJzb3I7XG4gICAgICAgIGlmIChzdGFydCA+PSB0byB8fCBlbmQgPD0gZnJvbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGUuaXNUb3ApXG4gICAgICAgICAgICBoaWdobGlnaHRlcnMgPSB0aGlzLmhpZ2hsaWdodGVycy5maWx0ZXIoaCA9PiAhaC5zY29wZSB8fCBoLnNjb3BlKHR5cGUpKTtcbiAgICAgICAgbGV0IGNscyA9IGluaGVyaXRlZENsYXNzO1xuICAgICAgICBsZXQgcnVsZSA9IGdldFN0eWxlVGFncyhjdXJzb3IpIHx8IFJ1bGUuZW1wdHk7XG4gICAgICAgIGxldCB0YWdDbHMgPSBoaWdobGlnaHRUYWdzKGhpZ2hsaWdodGVycywgcnVsZS50YWdzKTtcbiAgICAgICAgaWYgKHRhZ0Nscykge1xuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICBjbHMgKz0gXCIgXCI7XG4gICAgICAgICAgICBjbHMgKz0gdGFnQ2xzO1xuICAgICAgICAgICAgaWYgKHJ1bGUubW9kZSA9PSAxIC8qIEluaGVyaXQgKi8pXG4gICAgICAgICAgICAgICAgaW5oZXJpdGVkQ2xhc3MgKz0gKGluaGVyaXRlZENsYXNzID8gXCIgXCIgOiBcIlwiKSArIHRhZ0NscztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXJ0U3BhbihjdXJzb3IuZnJvbSwgY2xzKTtcbiAgICAgICAgaWYgKHJ1bGUub3BhcXVlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbW91bnRlZCA9IGN1cnNvci50cmVlICYmIGN1cnNvci50cmVlLnByb3AoTm9kZVByb3AubW91bnRlZCk7XG4gICAgICAgIGlmIChtb3VudGVkICYmIG1vdW50ZWQub3ZlcmxheSkge1xuICAgICAgICAgICAgbGV0IGlubmVyID0gY3Vyc29yLm5vZGUuZW50ZXIobW91bnRlZC5vdmVybGF5WzBdLmZyb20gKyBzdGFydCwgMSk7XG4gICAgICAgICAgICBsZXQgaW5uZXJIaWdobGlnaHRlcnMgPSB0aGlzLmhpZ2hsaWdodGVycy5maWx0ZXIoaCA9PiAhaC5zY29wZSB8fCBoLnNjb3BlKG1vdW50ZWQudHJlZS50eXBlKSk7XG4gICAgICAgICAgICBsZXQgaGFzQ2hpbGQgPSBjdXJzb3IuZmlyc3RDaGlsZCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIHBvcyA9IHN0YXJ0OzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBpIDwgbW91bnRlZC5vdmVybGF5Lmxlbmd0aCA/IG1vdW50ZWQub3ZlcmxheVtpXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRQb3MgPSBuZXh0ID8gbmV4dC5mcm9tICsgc3RhcnQgOiBlbmQ7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlRnJvbSA9IE1hdGgubWF4KGZyb20sIHBvcyksIHJhbmdlVG8gPSBNYXRoLm1pbih0bywgbmV4dFBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlRnJvbSA8IHJhbmdlVG8gJiYgaGFzQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnNvci5mcm9tIDwgcmFuZ2VUbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRSYW5nZShjdXJzb3IsIHJhbmdlRnJvbSwgcmFuZ2VUbywgaW5oZXJpdGVkQ2xhc3MsIGhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1pbih0bywgY3Vyc29yLnRvKSwgY2xzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudG8gPj0gbmV4dFBvcyB8fCAhY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0IHx8IG5leHRQb3MgPiB0bylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgcG9zID0gbmV4dC50byArIHN0YXJ0O1xuICAgICAgICAgICAgICAgIGlmIChwb3MgPiBmcm9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0UmFuZ2UoaW5uZXIuY3Vyc29yKCksIE1hdGgubWF4KGZyb20sIG5leHQuZnJvbSArIHN0YXJ0KSwgTWF0aC5taW4odG8sIHBvcyksIGluaGVyaXRlZENsYXNzLCBpbm5lckhpZ2hsaWdodGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTcGFuKHBvcywgY2xzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQ2hpbGQpXG4gICAgICAgICAgICAgICAgY3Vyc29yLnBhcmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnNvci5maXJzdENoaWxkKCkpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnRvIDw9IGZyb20pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IuZnJvbSA+PSB0bylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRSYW5nZShjdXJzb3IsIGZyb20sIHRvLCBpbmhlcml0ZWRDbGFzcywgaGlnaGxpZ2h0ZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0U3BhbihNYXRoLm1pbih0bywgY3Vyc29yLnRvKSwgY2xzKTtcbiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnNvci5uZXh0U2libGluZygpKTtcbiAgICAgICAgICAgIGN1cnNvci5wYXJlbnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vLyBNYXRjaCBhIHN5bnRheCBub2RlJ3MgW2hpZ2hsaWdodCBydWxlc10oI2hpZ2hsaWdodC5zdHlsZVRhZ3MpLiBJZlxuLy8vIHRoZXJlJ3MgYSBtYXRjaCwgcmV0dXJuIGl0cyBzZXQgb2YgdGFncywgYW5kIHdoZXRoZXIgaXQgaXNcbi8vLyBvcGFxdWUgKHVzZXMgYSBgIWApIG9yIGFwcGxpZXMgdG8gYWxsIGNoaWxkIG5vZGVzIChgLy4uLmApLlxuZnVuY3Rpb24gZ2V0U3R5bGVUYWdzKG5vZGUpIHtcbiAgICBsZXQgcnVsZSA9IG5vZGUudHlwZS5wcm9wKHJ1bGVOb2RlUHJvcCk7XG4gICAgd2hpbGUgKHJ1bGUgJiYgcnVsZS5jb250ZXh0ICYmICFub2RlLm1hdGNoQ29udGV4dChydWxlLmNvbnRleHQpKVxuICAgICAgICBydWxlID0gcnVsZS5uZXh0O1xuICAgIHJldHVybiBydWxlIHx8IG51bGw7XG59XG5jb25zdCB0ID0gVGFnLmRlZmluZTtcbmNvbnN0IGNvbW1lbnQgPSB0KCksIG5hbWUgPSB0KCksIHR5cGVOYW1lID0gdChuYW1lKSwgcHJvcGVydHlOYW1lID0gdChuYW1lKSwgbGl0ZXJhbCA9IHQoKSwgc3RyaW5nID0gdChsaXRlcmFsKSwgbnVtYmVyID0gdChsaXRlcmFsKSwgY29udGVudCA9IHQoKSwgaGVhZGluZyA9IHQoY29udGVudCksIGtleXdvcmQgPSB0KCksIG9wZXJhdG9yID0gdCgpLCBwdW5jdHVhdGlvbiA9IHQoKSwgYnJhY2tldCA9IHQocHVuY3R1YXRpb24pLCBtZXRhID0gdCgpO1xuLy8vIFRoZSBkZWZhdWx0IHNldCBvZiBoaWdobGlnaHRpbmcgW3RhZ3NdKCNoaWdobGlnaHQuVGFnKS5cbi8vL1xuLy8vIFRoaXMgY29sbGVjdGlvbiBpcyBoZWF2aWx5IGJpYXNlZCB0b3dhcmRzIHByb2dyYW1taW5nIGxhbmd1YWdlcyxcbi8vLyBhbmQgbmVjZXNzYXJpbHkgaW5jb21wbGV0ZS4gQSBmdWxsIG9udG9sb2d5IG9mIHN5bnRhY3RpY1xuLy8vIGNvbnN0cnVjdHMgd291bGQgZmlsbCBhIHN0YWNrIG9mIGJvb2tzLCBhbmQgYmUgaW1wcmFjdGljYWwgdG9cbi8vLyB3cml0ZSB0aGVtZXMgZm9yLiBTbyB0cnkgdG8gbWFrZSBkbyB3aXRoIHRoaXMgc2V0LiBJZiBhbGwgZWxzZVxuLy8vIGZhaWxzLCBbb3BlbiBhblxuLy8vIGlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9jb2RlbWlycm9yLm5leHQpIHRvIHByb3Bvc2UgYVxuLy8vIG5ldyB0YWcsIG9yIFtkZWZpbmVdKCNoaWdobGlnaHQuVGFnXmRlZmluZSkgYSBsb2NhbCBjdXN0b20gdGFnIGZvclxuLy8vIHlvdXIgdXNlIGNhc2UuXG4vLy9cbi8vLyBOb3RlIHRoYXQgaXQgaXMgbm90IG9ibGlnYXRvcnkgdG8gYWx3YXlzIGF0dGFjaCB0aGUgbW9zdCBzcGVjaWZpY1xuLy8vIHRhZyBwb3NzaWJsZSB0byBhbiBlbGVtZW50XHUyMDE0aWYgeW91ciBncmFtbWFyIGNhbid0IGVhc2lseVxuLy8vIGRpc3Rpbmd1aXNoIGEgY2VydGFpbiB0eXBlIG9mIGVsZW1lbnQgKHN1Y2ggYXMgYSBsb2NhbCB2YXJpYWJsZSksXG4vLy8gaXQgaXMgb2theSB0byBzdHlsZSBpdCBhcyBpdHMgbW9yZSBnZW5lcmFsIHZhcmlhbnQgKGEgdmFyaWFibGUpLlxuLy8vIFxuLy8vIEZvciB0YWdzIHRoYXQgZXh0ZW5kIHNvbWUgcGFyZW50IHRhZywgdGhlIGRvY3VtZW50YXRpb24gbGlua3MgdG9cbi8vLyB0aGUgcGFyZW50LlxuY29uc3QgdGFncyA9IHtcbiAgICAvLy8gQSBjb21tZW50LlxuICAgIGNvbW1lbnQsXG4gICAgLy8vIEEgbGluZSBbY29tbWVudF0oI2hpZ2hsaWdodC50YWdzLmNvbW1lbnQpLlxuICAgIGxpbmVDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8vLyBBIGJsb2NrIFtjb21tZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudCkuXG4gICAgYmxvY2tDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8vLyBBIGRvY3VtZW50YXRpb24gW2NvbW1lbnRdKCNoaWdobGlnaHQudGFncy5jb21tZW50KS5cbiAgICBkb2NDb21tZW50OiB0KGNvbW1lbnQpLFxuICAgIC8vLyBBbnkga2luZCBvZiBpZGVudGlmaWVyLlxuICAgIG5hbWUsXG4gICAgLy8vIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgdmFyaWFibGUuXG4gICAgdmFyaWFibGVOYW1lOiB0KG5hbWUpLFxuICAgIC8vLyBBIHR5cGUgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICB0eXBlTmFtZTogdHlwZU5hbWUsXG4gICAgLy8vIEEgdGFnIG5hbWUgKHN1YnRhZyBvZiBbYHR5cGVOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnR5cGVOYW1lKSkuXG4gICAgdGFnTmFtZTogdCh0eXBlTmFtZSksXG4gICAgLy8vIEEgcHJvcGVydHkgb3IgZmllbGQgW25hbWVdKCNoaWdobGlnaHQudGFncy5uYW1lKS5cbiAgICBwcm9wZXJ0eU5hbWU6IHByb3BlcnR5TmFtZSxcbiAgICAvLy8gQW4gYXR0cmlidXRlIG5hbWUgKHN1YnRhZyBvZiBbYHByb3BlcnR5TmFtZWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpKS5cbiAgICBhdHRyaWJ1dGVOYW1lOiB0KHByb3BlcnR5TmFtZSksXG4gICAgLy8vIFRoZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIG9mIGEgY2xhc3MuXG4gICAgY2xhc3NOYW1lOiB0KG5hbWUpLFxuICAgIC8vLyBBIGxhYmVsIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkuXG4gICAgbGFiZWxOYW1lOiB0KG5hbWUpLFxuICAgIC8vLyBBIG5hbWVzcGFjZSBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpLlxuICAgIG5hbWVzcGFjZTogdChuYW1lKSxcbiAgICAvLy8gVGhlIFtuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MubmFtZSkgb2YgYSBtYWNyby5cbiAgICBtYWNyb05hbWU6IHQobmFtZSksXG4gICAgLy8vIEEgbGl0ZXJhbCB2YWx1ZS5cbiAgICBsaXRlcmFsLFxuICAgIC8vLyBBIHN0cmluZyBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLlxuICAgIHN0cmluZyxcbiAgICAvLy8gQSBkb2N1bWVudGF0aW9uIFtzdHJpbmddKCNoaWdobGlnaHQudGFncy5zdHJpbmcpLlxuICAgIGRvY1N0cmluZzogdChzdHJpbmcpLFxuICAgIC8vLyBBIGNoYXJhY3RlciBsaXRlcmFsIChzdWJ0YWcgb2YgW3N0cmluZ10oI2hpZ2hsaWdodC50YWdzLnN0cmluZykpLlxuICAgIGNoYXJhY3RlcjogdChzdHJpbmcpLFxuICAgIC8vLyBBbiBhdHRyaWJ1dGUgdmFsdWUgKHN1YnRhZyBvZiBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSkuXG4gICAgYXR0cmlidXRlVmFsdWU6IHQoc3RyaW5nKSxcbiAgICAvLy8gQSBudW1iZXIgW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICBudW1iZXIsXG4gICAgLy8vIEFuIGludGVnZXIgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICBpbnRlZ2VyOiB0KG51bWJlciksXG4gICAgLy8vIEEgZmxvYXRpbmctcG9pbnQgW251bWJlcl0oI2hpZ2hsaWdodC50YWdzLm51bWJlcikgbGl0ZXJhbC5cbiAgICBmbG9hdDogdChudW1iZXIpLFxuICAgIC8vLyBBIGJvb2xlYW4gW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICBib29sOiB0KGxpdGVyYWwpLFxuICAgIC8vLyBSZWd1bGFyIGV4cHJlc3Npb24gW2xpdGVyYWxdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKS5cbiAgICByZWdleHA6IHQobGl0ZXJhbCksXG4gICAgLy8vIEFuIGVzY2FwZSBbbGl0ZXJhbF0oI2hpZ2hsaWdodC50YWdzLmxpdGVyYWwpLCBmb3IgZXhhbXBsZSBhXG4gICAgLy8vIGJhY2tzbGFzaCBlc2NhcGUgaW4gYSBzdHJpbmcuXG4gICAgZXNjYXBlOiB0KGxpdGVyYWwpLFxuICAgIC8vLyBBIGNvbG9yIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgY29sb3I6IHQobGl0ZXJhbCksXG4gICAgLy8vIEEgVVJMIFtsaXRlcmFsXSgjaGlnaGxpZ2h0LnRhZ3MubGl0ZXJhbCkuXG4gICAgdXJsOiB0KGxpdGVyYWwpLFxuICAgIC8vLyBBIGxhbmd1YWdlIGtleXdvcmQuXG4gICAga2V5d29yZCxcbiAgICAvLy8gVGhlIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgZm9yIHRoZSBzZWxmIG9yIHRoaXNcbiAgICAvLy8gb2JqZWN0LlxuICAgIHNlbGY6IHQoa2V5d29yZCksXG4gICAgLy8vIFRoZSBba2V5d29yZF0oI2hpZ2hsaWdodC50YWdzLmtleXdvcmQpIGZvciBudWxsLlxuICAgIG51bGw6IHQoa2V5d29yZCksXG4gICAgLy8vIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSBkZW5vdGluZyBzb21lIGF0b21pYyB2YWx1ZS5cbiAgICBhdG9tOiB0KGtleXdvcmQpLFxuICAgIC8vLyBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgdGhhdCByZXByZXNlbnRzIGEgdW5pdC5cbiAgICB1bml0OiB0KGtleXdvcmQpLFxuICAgIC8vLyBBIG1vZGlmaWVyIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgbW9kaWZpZXI6IHQoa2V5d29yZCksXG4gICAgLy8vIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGFjdHMgYXMgYW4gb3BlcmF0b3IuXG4gICAgb3BlcmF0b3JLZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8vLyBBIGNvbnRyb2wtZmxvdyByZWxhdGVkIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkuXG4gICAgY29udHJvbEtleXdvcmQ6IHQoa2V5d29yZCksXG4gICAgLy8vIEEgW2tleXdvcmRdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgIGRlZmluaXRpb25LZXl3b3JkOiB0KGtleXdvcmQpLFxuICAgIC8vLyBBIFtrZXl3b3JkXSgjaGlnaGxpZ2h0LnRhZ3Mua2V5d29yZCkgcmVsYXRlZCB0byBkZWZpbmluZyBvclxuICAgIC8vLyBpbnRlcmZhY2luZyB3aXRoIG1vZHVsZXMuXG4gICAgbW9kdWxlS2V5d29yZDogdChrZXl3b3JkKSxcbiAgICAvLy8gQW4gb3BlcmF0b3IuXG4gICAgb3BlcmF0b3IsXG4gICAgLy8vIEFuIFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IGRlcmVmZXJlbmNlcyBzb21ldGhpbmcuXG4gICAgZGVyZWZPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLy8vIEFyaXRobWV0aWMtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgYXJpdGhtZXRpY09wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvLy8gTG9naWNhbCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgbG9naWNPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLy8vIEJpdCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgYml0d2lzZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvLy8gQ29tcGFyaXNvbiBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgY29tcGFyZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvLy8gW09wZXJhdG9yXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpIHRoYXQgdXBkYXRlcyBpdHMgb3BlcmFuZC5cbiAgICB1cGRhdGVPcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLy8vIFtPcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKSB0aGF0IGRlZmluZXMgc29tZXRoaW5nLlxuICAgIGRlZmluaXRpb25PcGVyYXRvcjogdChvcGVyYXRvciksXG4gICAgLy8vIFR5cGUtcmVsYXRlZCBbb3BlcmF0b3JdKCNoaWdobGlnaHQudGFncy5vcGVyYXRvcikuXG4gICAgdHlwZU9wZXJhdG9yOiB0KG9wZXJhdG9yKSxcbiAgICAvLy8gQ29udHJvbC1mbG93IFtvcGVyYXRvcl0oI2hpZ2hsaWdodC50YWdzLm9wZXJhdG9yKS5cbiAgICBjb250cm9sT3BlcmF0b3I6IHQob3BlcmF0b3IpLFxuICAgIC8vLyBQcm9ncmFtIG9yIG1hcmt1cCBwdW5jdHVhdGlvbi5cbiAgICBwdW5jdHVhdGlvbixcbiAgICAvLy8gW1B1bmN0dWF0aW9uXSgjaGlnaGxpZ2h0LnRhZ3MucHVuY3R1YXRpb24pIHRoYXQgc2VwYXJhdGVzXG4gICAgLy8vIHRoaW5ncy5cbiAgICBzZXBhcmF0b3I6IHQocHVuY3R1YXRpb24pLFxuICAgIC8vLyBCcmFja2V0LXN0eWxlIFtwdW5jdHVhdGlvbl0oI2hpZ2hsaWdodC50YWdzLnB1bmN0dWF0aW9uKS5cbiAgICBicmFja2V0LFxuICAgIC8vLyBBbmdsZSBbYnJhY2tldHNdKCNoaWdobGlnaHQudGFncy5icmFja2V0KSAodXN1YWxseSBgPGAgYW5kIGA+YFxuICAgIC8vLyB0b2tlbnMpLlxuICAgIGFuZ2xlQnJhY2tldDogdChicmFja2V0KSxcbiAgICAvLy8gU3F1YXJlIFticmFja2V0c10oI2hpZ2hsaWdodC50YWdzLmJyYWNrZXQpICh1c3VhbGx5IGBbYCBhbmQgYF1gXG4gICAgLy8vIHRva2VucykuXG4gICAgc3F1YXJlQnJhY2tldDogdChicmFja2V0KSxcbiAgICAvLy8gUGFyZW50aGVzZXMgKHVzdWFsbHkgYChgIGFuZCBgKWAgdG9rZW5zKS4gU3VidGFnIG9mXG4gICAgLy8vIFticmFja2V0XSgjaGlnaGxpZ2h0LnRhZ3MuYnJhY2tldCkuXG4gICAgcGFyZW46IHQoYnJhY2tldCksXG4gICAgLy8vIEJyYWNlcyAodXN1YWxseSBge2AgYW5kIGB9YCB0b2tlbnMpLiBTdWJ0YWcgb2ZcbiAgICAvLy8gW2JyYWNrZXRdKCNoaWdobGlnaHQudGFncy5icmFja2V0KS5cbiAgICBicmFjZTogdChicmFja2V0KSxcbiAgICAvLy8gQ29udGVudCwgZm9yIGV4YW1wbGUgcGxhaW4gdGV4dCBpbiBYTUwgb3IgbWFya3VwIGRvY3VtZW50cy5cbiAgICBjb250ZW50LFxuICAgIC8vLyBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIGhlYWRpbmcuXG4gICAgaGVhZGluZyxcbiAgICAvLy8gQSBsZXZlbCAxIFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgaGVhZGluZzE6IHQoaGVhZGluZyksXG4gICAgLy8vIEEgbGV2ZWwgMiBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgIGhlYWRpbmcyOiB0KGhlYWRpbmcpLFxuICAgIC8vLyBBIGxldmVsIDMgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICBoZWFkaW5nMzogdChoZWFkaW5nKSxcbiAgICAvLy8gQSBsZXZlbCA0IFtoZWFkaW5nXSgjaGlnaGxpZ2h0LnRhZ3MuaGVhZGluZykuXG4gICAgaGVhZGluZzQ6IHQoaGVhZGluZyksXG4gICAgLy8vIEEgbGV2ZWwgNSBbaGVhZGluZ10oI2hpZ2hsaWdodC50YWdzLmhlYWRpbmcpLlxuICAgIGhlYWRpbmc1OiB0KGhlYWRpbmcpLFxuICAgIC8vLyBBIGxldmVsIDYgW2hlYWRpbmddKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKS5cbiAgICBoZWFkaW5nNjogdChoZWFkaW5nKSxcbiAgICAvLy8gQSBwcm9zZSBzZXBhcmF0b3IgKHN1Y2ggYXMgYSBob3Jpem9udGFsIHJ1bGUpLlxuICAgIGNvbnRlbnRTZXBhcmF0b3I6IHQoY29udGVudCksXG4gICAgLy8vIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCByZXByZXNlbnRzIGEgbGlzdC5cbiAgICBsaXN0OiB0KGNvbnRlbnQpLFxuICAgIC8vLyBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgcmVwcmVzZW50cyBhIHF1b3RlLlxuICAgIHF1b3RlOiB0KGNvbnRlbnQpLFxuICAgIC8vLyBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgZW1waGFzaXplZC5cbiAgICBlbXBoYXNpczogdChjb250ZW50KSxcbiAgICAvLy8gW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBzdHJvbmcuXG4gICAgc3Ryb25nOiB0KGNvbnRlbnQpLFxuICAgIC8vLyBbQ29udGVudF0oI2hpZ2hsaWdodC50YWdzLmNvbnRlbnQpIHRoYXQgaXMgcGFydCBvZiBhIGxpbmsuXG4gICAgbGluazogdChjb250ZW50KSxcbiAgICAvLy8gW0NvbnRlbnRdKCNoaWdobGlnaHQudGFncy5jb250ZW50KSB0aGF0IGlzIHN0eWxlZCBhcyBjb2RlIG9yXG4gICAgLy8vIG1vbm9zcGFjZS5cbiAgICBtb25vc3BhY2U6IHQoY29udGVudCksXG4gICAgLy8vIFtDb250ZW50XSgjaGlnaGxpZ2h0LnRhZ3MuY29udGVudCkgdGhhdCBoYXMgYSBzdHJpa2UtdGhyb3VnaFxuICAgIC8vLyBzdHlsZS5cbiAgICBzdHJpa2V0aHJvdWdoOiB0KGNvbnRlbnQpLFxuICAgIC8vLyBJbnNlcnRlZCB0ZXh0IGluIGEgY2hhbmdlLXRyYWNraW5nIGZvcm1hdC5cbiAgICBpbnNlcnRlZDogdCgpLFxuICAgIC8vLyBEZWxldGVkIHRleHQuXG4gICAgZGVsZXRlZDogdCgpLFxuICAgIC8vLyBDaGFuZ2VkIHRleHQuXG4gICAgY2hhbmdlZDogdCgpLFxuICAgIC8vLyBBbiBpbnZhbGlkIG9yIHVuc3ludGFjdGljIGVsZW1lbnQuXG4gICAgaW52YWxpZDogdCgpLFxuICAgIC8vLyBNZXRhZGF0YSBvciBtZXRhLWluc3RydWN0aW9uLlxuICAgIG1ldGEsXG4gICAgLy8vIFtNZXRhZGF0YV0oI2hpZ2hsaWdodC50YWdzLm1ldGEpIHRoYXQgYXBwbGllcyB0byB0aGUgZW50aXJlXG4gICAgLy8vIGRvY3VtZW50LlxuICAgIGRvY3VtZW50TWV0YTogdChtZXRhKSxcbiAgICAvLy8gW01ldGFkYXRhXSgjaGlnaGxpZ2h0LnRhZ3MubWV0YSkgdGhhdCBhbm5vdGF0ZXMgb3IgYWRkc1xuICAgIC8vLyBhdHRyaWJ1dGVzIHRvIGEgZ2l2ZW4gc3ludGFjdGljIGVsZW1lbnQuXG4gICAgYW5ub3RhdGlvbjogdChtZXRhKSxcbiAgICAvLy8gUHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBvciBwcmVwcm9jZXNzb3IgZGlyZWN0aXZlLiBTdWJ0YWcgb2ZcbiAgICAvLy8gW21ldGFdKCNoaWdobGlnaHQudGFncy5tZXRhKS5cbiAgICBwcm9jZXNzaW5nSW5zdHJ1Y3Rpb246IHQobWV0YSksXG4gICAgLy8vIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIHRoYXQgYVxuICAgIC8vLyBnaXZlbiBlbGVtZW50IGlzIGJlaW5nIGRlZmluZWQuIEV4cGVjdGVkIHRvIGJlIHVzZWQgd2l0aCB0aGVcbiAgICAvLy8gdmFyaW91cyBbbmFtZV0oI2hpZ2hsaWdodC50YWdzLm5hbWUpIHRhZ3MuXG4gICAgZGVmaW5pdGlvbjogVGFnLmRlZmluZU1vZGlmaWVyKCksXG4gICAgLy8vIFtNb2RpZmllcl0oI2hpZ2hsaWdodC5UYWdeZGVmaW5lTW9kaWZpZXIpIHRoYXQgaW5kaWNhdGVzIHRoYXRcbiAgICAvLy8gc29tZXRoaW5nIGlzIGNvbnN0YW50LiBNb3N0bHkgZXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoXG4gICAgLy8vIFt2YXJpYWJsZSBuYW1lc10oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSkuXG4gICAgY29uc3RhbnQ6IFRhZy5kZWZpbmVNb2RpZmllcigpLFxuICAgIC8vLyBbTW9kaWZpZXJdKCNoaWdobGlnaHQuVGFnXmRlZmluZU1vZGlmaWVyKSB1c2VkIHRvIGluZGljYXRlIHRoYXRcbiAgICAvLy8gYSBbdmFyaWFibGVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIG9yIFtwcm9wZXJ0eVxuICAgIC8vLyBuYW1lXSgjaGlnaGxpZ2h0LnRhZ3MucHJvcGVydHlOYW1lKSBpcyBiZWluZyBjYWxsZWQgb3IgZGVmaW5lZFxuICAgIC8vLyBhcyBhIGZ1bmN0aW9uLlxuICAgIGZ1bmN0aW9uOiBUYWcuZGVmaW5lTW9kaWZpZXIoKSxcbiAgICAvLy8gW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBjYW4gYmUgYXBwbGllZCB0b1xuICAgIC8vLyBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSB0byBpbmRpY2F0ZSB0aGF0IHRoZXkgYmVsb25nIHRvXG4gICAgLy8vIHRoZSBsYW5ndWFnZSdzIHN0YW5kYXJkIGVudmlyb25tZW50LlxuICAgIHN0YW5kYXJkOiBUYWcuZGVmaW5lTW9kaWZpZXIoKSxcbiAgICAvLy8gW01vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdCBpbmRpY2F0ZXMgYSBnaXZlblxuICAgIC8vLyBbbmFtZXNdKCNoaWdobGlnaHQudGFncy5uYW1lKSBpcyBsb2NhbCB0byBzb21lIHNjb3BlLlxuICAgIGxvY2FsOiBUYWcuZGVmaW5lTW9kaWZpZXIoKSxcbiAgICAvLy8gQSBnZW5lcmljIHZhcmlhbnQgW21vZGlmaWVyXSgjaGlnaGxpZ2h0LlRhZ15kZWZpbmVNb2RpZmllcikgdGhhdFxuICAgIC8vLyBjYW4gYmUgdXNlZCB0byB0YWcgbGFuZ3VhZ2Utc3BlY2lmaWMgYWx0ZXJuYXRpdmUgdmFyaWFudHMgb2ZcbiAgICAvLy8gc29tZSBjb21tb24gdGFnLiBJdCBpcyByZWNvbW1lbmRlZCBmb3IgdGhlbWVzIHRvIGRlZmluZSBzcGVjaWFsXG4gICAgLy8vIGZvcm1zIG9mIGF0IGxlYXN0IHRoZSBbc3RyaW5nXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKSBhbmRcbiAgICAvLy8gW3ZhcmlhYmxlIG5hbWVdKCNoaWdobGlnaHQudGFncy52YXJpYWJsZU5hbWUpIHRhZ3MsIHNpbmNlIHRob3NlXG4gICAgLy8vIGNvbWUgdXAgYSBsb3QuXG4gICAgc3BlY2lhbDogVGFnLmRlZmluZU1vZGlmaWVyKClcbn07XG4vLy8gVGhpcyBpcyBhIGhpZ2hsaWdodGVyIHRoYXQgYWRkcyBzdGFibGUsIHByZWRpY3RhYmxlIGNsYXNzZXMgdG9cbi8vLyB0b2tlbnMsIGZvciBzdHlsaW5nIHdpdGggZXh0ZXJuYWwgQ1NTLlxuLy8vXG4vLy8gVGhlIGZvbGxvd2luZyB0YWdzIGFyZSBtYXBwZWQgdG8gdGhlaXIgbmFtZSBwcmVmaXhlZCB3aXRoIGBcInRvay1cImBcbi8vLyAoZm9yIGV4YW1wbGUgYFwidG9rLWNvbW1lbnRcImApOlxuLy8vXG4vLy8gKiBbYGxpbmtgXSgjaGlnaGxpZ2h0LnRhZ3MubGluaylcbi8vLyAqIFtgaGVhZGluZ2BdKCNoaWdobGlnaHQudGFncy5oZWFkaW5nKVxuLy8vICogW2BlbXBoYXNpc2BdKCNoaWdobGlnaHQudGFncy5lbXBoYXNpcylcbi8vLyAqIFtgc3Ryb25nYF0oI2hpZ2hsaWdodC50YWdzLnN0cm9uZylcbi8vLyAqIFtga2V5d29yZGBdKCNoaWdobGlnaHQudGFncy5rZXl3b3JkKVxuLy8vICogW2BhdG9tYF0oI2hpZ2hsaWdodC50YWdzLmF0b20pXG4vLy8gKiBbYGJvb2xgXSgjaGlnaGxpZ2h0LnRhZ3MuYm9vbClcbi8vLyAqIFtgdXJsYF0oI2hpZ2hsaWdodC50YWdzLnVybClcbi8vLyAqIFtgbGFiZWxOYW1lYF0oI2hpZ2hsaWdodC50YWdzLmxhYmVsTmFtZSlcbi8vLyAqIFtgaW5zZXJ0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuaW5zZXJ0ZWQpXG4vLy8gKiBbYGRlbGV0ZWRgXSgjaGlnaGxpZ2h0LnRhZ3MuZGVsZXRlZClcbi8vLyAqIFtgbGl0ZXJhbGBdKCNoaWdobGlnaHQudGFncy5saXRlcmFsKVxuLy8vICogW2BzdHJpbmdgXSgjaGlnaGxpZ2h0LnRhZ3Muc3RyaW5nKVxuLy8vICogW2BudW1iZXJgXSgjaGlnaGxpZ2h0LnRhZ3MubnVtYmVyKVxuLy8vICogW2B2YXJpYWJsZU5hbWVgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuLy8vICogW2B0eXBlTmFtZWBdKCNoaWdobGlnaHQudGFncy50eXBlTmFtZSlcbi8vLyAqIFtgbmFtZXNwYWNlYF0oI2hpZ2hsaWdodC50YWdzLm5hbWVzcGFjZSlcbi8vLyAqIFtgY2xhc3NOYW1lYF0oI2hpZ2hsaWdodC50YWdzLmNsYXNzTmFtZSlcbi8vLyAqIFtgbWFjcm9OYW1lYF0oI2hpZ2hsaWdodC50YWdzLm1hY3JvTmFtZSlcbi8vLyAqIFtgcHJvcGVydHlOYW1lYF0oI2hpZ2hsaWdodC50YWdzLnByb3BlcnR5TmFtZSlcbi8vLyAqIFtgb3BlcmF0b3JgXSgjaGlnaGxpZ2h0LnRhZ3Mub3BlcmF0b3IpXG4vLy8gKiBbYGNvbW1lbnRgXSgjaGlnaGxpZ2h0LnRhZ3MuY29tbWVudClcbi8vLyAqIFtgbWV0YWBdKCNoaWdobGlnaHQudGFncy5tZXRhKVxuLy8vICogW2BwdW5jdHVhdGlvbmBdKCNoaWdobGlnaHQudGFncy5wdW5jdHVhdGlvbilcbi8vLyAqIFtgaW52YWxpZGBdKCNoaWdobGlnaHQudGFncy5pbnZhbGlkKVxuLy8vXG4vLy8gSW4gYWRkaXRpb24sIHRoZXNlIG1hcHBpbmdzIGFyZSBwcm92aWRlZDpcbi8vL1xuLy8vICogW2ByZWdleHBgXSgjaGlnaGxpZ2h0LnRhZ3MucmVnZXhwKSxcbi8vLyAgIFtgZXNjYXBlYF0oI2hpZ2hsaWdodC50YWdzLmVzY2FwZSksIGFuZFxuLy8vICAgW2BzcGVjaWFsYF0oI2hpZ2hsaWdodC50YWdzLnNwZWNpYWwpW2Aoc3RyaW5nKWBdKCNoaWdobGlnaHQudGFncy5zdHJpbmcpXG4vLy8gICBhcmUgbWFwcGVkIHRvIGBcInRvay1zdHJpbmcyXCJgXG4vLy8gKiBbYHNwZWNpYWxgXSgjaGlnaGxpZ2h0LnRhZ3Muc3BlY2lhbClbYCh2YXJpYWJsZU5hbWUpYF0oI2hpZ2hsaWdodC50YWdzLnZhcmlhYmxlTmFtZSlcbi8vLyAgIHRvIGBcInRvay12YXJpYWJsZU5hbWUyXCJgXG4vLy8gKiBbYGxvY2FsYF0oI2hpZ2hsaWdodC50YWdzLmxvY2FsKVtgKHZhcmlhYmxlTmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuLy8vICAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stbG9jYWxcImBcbi8vLyAqIFtgZGVmaW5pdGlvbmBdKCNoaWdobGlnaHQudGFncy5kZWZpbml0aW9uKVtgKHZhcmlhYmxlTmFtZSlgXSgjaGlnaGxpZ2h0LnRhZ3MudmFyaWFibGVOYW1lKVxuLy8vICAgdG8gYFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiYFxuLy8vICogW2BkZWZpbml0aW9uYF0oI2hpZ2hsaWdodC50YWdzLmRlZmluaXRpb24pW2AocHJvcGVydHlOYW1lKWBdKCNoaWdobGlnaHQudGFncy5wcm9wZXJ0eU5hbWUpXG4vLy8gICB0byBgXCJ0b2stcHJvcGVydHlOYW1lIHRvay1kZWZpbml0aW9uXCJgXG5jb25zdCBjbGFzc0hpZ2hsaWdodGVyID0gdGFnSGlnaGxpZ2h0ZXIoW1xuICAgIHsgdGFnOiB0YWdzLmxpbmssIGNsYXNzOiBcInRvay1saW5rXCIgfSxcbiAgICB7IHRhZzogdGFncy5oZWFkaW5nLCBjbGFzczogXCJ0b2staGVhZGluZ1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZW1waGFzaXMsIGNsYXNzOiBcInRvay1lbXBoYXNpc1wiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3Ryb25nLCBjbGFzczogXCJ0b2stc3Ryb25nXCIgfSxcbiAgICB7IHRhZzogdGFncy5rZXl3b3JkLCBjbGFzczogXCJ0b2sta2V5d29yZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuYXRvbSwgY2xhc3M6IFwidG9rLWF0b21cIiB9LFxuICAgIHsgdGFnOiB0YWdzLmJvb2wsIGNsYXNzOiBcInRvay1ib29sXCIgfSxcbiAgICB7IHRhZzogdGFncy51cmwsIGNsYXNzOiBcInRvay11cmxcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxhYmVsTmFtZSwgY2xhc3M6IFwidG9rLWxhYmVsTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW5zZXJ0ZWQsIGNsYXNzOiBcInRvay1pbnNlcnRlZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuZGVsZXRlZCwgY2xhc3M6IFwidG9rLWRlbGV0ZWRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmxpdGVyYWwsIGNsYXNzOiBcInRvay1saXRlcmFsXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJpbmcsIGNsYXNzOiBcInRvay1zdHJpbmdcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm51bWJlciwgY2xhc3M6IFwidG9rLW51bWJlclwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnJlZ2V4cCwgdGFncy5lc2NhcGUsIHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyldLCBjbGFzczogXCJ0b2stc3RyaW5nMlwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudmFyaWFibGVOYW1lLCBjbGFzczogXCJ0b2stdmFyaWFibGVOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5sb2NhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUgdG9rLWxvY2FsXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MudmFyaWFibGVOYW1lKSwgY2xhc3M6IFwidG9rLXZhcmlhYmxlTmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3BlY2lhbCh0YWdzLnZhcmlhYmxlTmFtZSksIGNsYXNzOiBcInRvay12YXJpYWJsZU5hbWUyXCIgfSxcbiAgICB7IHRhZzogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSwgY2xhc3M6IFwidG9rLXByb3BlcnR5TmFtZSB0b2stZGVmaW5pdGlvblwiIH0sXG4gICAgeyB0YWc6IHRhZ3MudHlwZU5hbWUsIGNsYXNzOiBcInRvay10eXBlTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubmFtZXNwYWNlLCBjbGFzczogXCJ0b2stbmFtZXNwYWNlXCIgfSxcbiAgICB7IHRhZzogdGFncy5jbGFzc05hbWUsIGNsYXNzOiBcInRvay1jbGFzc05hbWVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLm1hY3JvTmFtZSwgY2xhc3M6IFwidG9rLW1hY3JvTmFtZVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MucHJvcGVydHlOYW1lLCBjbGFzczogXCJ0b2stcHJvcGVydHlOYW1lXCIgfSxcbiAgICB7IHRhZzogdGFncy5vcGVyYXRvciwgY2xhc3M6IFwidG9rLW9wZXJhdG9yXCIgfSxcbiAgICB7IHRhZzogdGFncy5jb21tZW50LCBjbGFzczogXCJ0b2stY29tbWVudFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MubWV0YSwgY2xhc3M6IFwidG9rLW1ldGFcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmludmFsaWQsIGNsYXNzOiBcInRvay1pbnZhbGlkXCIgfSxcbiAgICB7IHRhZzogdGFncy5wdW5jdHVhdGlvbiwgY2xhc3M6IFwidG9rLXB1bmN0dWF0aW9uXCIgfVxuXSk7XG5cbmV4cG9ydCB7IFRhZywgY2xhc3NIaWdobGlnaHRlciwgZ2V0U3R5bGVUYWdzLCBoaWdobGlnaHRUcmVlLCBzdHlsZVRhZ3MsIHRhZ0hpZ2hsaWdodGVyLCB0YWdzIH07XG4iLCAiaW1wb3J0IHsgTm9kZVByb3AsIEl0ZXJNb2RlLCBUcmVlLCBUcmVlRnJhZ21lbnQsIFBhcnNlciwgTm9kZVR5cGUsIE5vZGVTZXQgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcbmltcG9ydCB7IFN0YXRlRWZmZWN0LCBTdGF0ZUZpZWxkLCBGYWNldCwgRWRpdG9yU3RhdGUsIGNvdW50Q29sdW1uLCBjb21iaW5lQ29uZmlnLCBSYW5nZVNldCwgUmFuZ2VTZXRCdWlsZGVyLCBQcmVjIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgVmlld1BsdWdpbiwgbG9nRXhjZXB0aW9uLCBFZGl0b3JWaWV3LCBEZWNvcmF0aW9uLCBXaWRnZXRUeXBlLCBndXR0ZXIsIEd1dHRlck1hcmtlciB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgdGFncywgdGFnSGlnaGxpZ2h0ZXIsIGhpZ2hsaWdodFRyZWUsIHN0eWxlVGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuaW1wb3J0IHsgU3R5bGVNb2R1bGUgfSBmcm9tICdzdHlsZS1tb2QnO1xuXG52YXIgX2E7XG4vKipcbk5vZGUgcHJvcCBzdG9yZWQgaW4gYSBwYXJzZXIncyB0b3Agc3ludGF4IG5vZGUgdG8gcHJvdmlkZSB0aGVcbmZhY2V0IHRoYXQgc3RvcmVzIGxhbmd1YWdlLXNwZWNpZmljIGRhdGEgZm9yIHRoYXQgbGFuZ3VhZ2UuXG4qL1xuY29uc3QgbGFuZ3VhZ2VEYXRhUHJvcCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbi8qKlxuSGVscGVyIGZ1bmN0aW9uIHRvIGRlZmluZSBhIGZhY2V0ICh0byBiZSBhZGRlZCB0byB0aGUgdG9wIHN5bnRheFxubm9kZShzKSBmb3IgYSBsYW5ndWFnZSB2aWFcbltgbGFuZ3VhZ2VEYXRhUHJvcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UubGFuZ3VhZ2VEYXRhUHJvcCkpLCB0aGF0IHdpbGwgYmVcbnVzZWQgdG8gYXNzb2NpYXRlIGxhbmd1YWdlIGRhdGEgd2l0aCB0aGUgbGFuZ3VhZ2UuIFlvdVxucHJvYmFibHkgb25seSBuZWVkIHRoaXMgd2hlbiBzdWJjbGFzc2luZ1xuW2BMYW5ndWFnZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2UpLlxuKi9cbmZ1bmN0aW9uIGRlZmluZUxhbmd1YWdlRmFjZXQoYmFzZURhdGEpIHtcbiAgICByZXR1cm4gRmFjZXQuZGVmaW5lKHtcbiAgICAgICAgY29tYmluZTogYmFzZURhdGEgPyB2YWx1ZXMgPT4gdmFsdWVzLmNvbmNhdChiYXNlRGF0YSkgOiB1bmRlZmluZWRcbiAgICB9KTtcbn1cbi8qKlxuQSBsYW5ndWFnZSBvYmplY3QgbWFuYWdlcyBwYXJzaW5nIGFuZCBwZXItbGFuZ3VhZ2VcblttZXRhZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkuIFBhcnNlIGRhdGEgaXNcbm1hbmFnZWQgYXMgYSBbTGV6ZXJdKGh0dHBzOi8vbGV6ZXIuY29kZW1pcnJvci5uZXQpIHRyZWUuIFRoZSBjbGFzc1xuY2FuIGJlIHVzZWQgZGlyZWN0bHksIHZpYSB0aGUgW2BMUkxhbmd1YWdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5MUkxhbmd1YWdlKVxuc3ViY2xhc3MgZm9yIFtMZXplcl0oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC8pIExSIHBhcnNlcnMsIG9yXG52aWEgdGhlIFtgU3RyZWFtTGFuZ3VhZ2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLlN0cmVhbUxhbmd1YWdlKSBzdWJjbGFzc1xuZm9yIHN0cmVhbSBwYXJzZXJzLlxuKi9cbmNsYXNzIExhbmd1YWdlIHtcbiAgICAvKipcbiAgICBDb25zdHJ1Y3QgYSBsYW5ndWFnZSBvYmplY3QuIElmIHlvdSBuZWVkIHRvIGludm9rZSB0aGlzXG4gICAgZGlyZWN0bHksIGZpcnN0IGRlZmluZSBhIGRhdGEgZmFjZXQgd2l0aFxuICAgIFtgZGVmaW5lTGFuZ3VhZ2VGYWNldGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZGVmaW5lTGFuZ3VhZ2VGYWNldCksIGFuZCB0aGVuXG4gICAgY29uZmlndXJlIHlvdXIgcGFyc2VyIHRvIFthdHRhY2hdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UubGFuZ3VhZ2VEYXRhUHJvcCkgaXRcbiAgICB0byB0aGUgbGFuZ3VhZ2UncyBvdXRlciBzeW50YXggbm9kZS5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBbbGFuZ3VhZ2UgZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkgZmFjZXRcbiAgICB1c2VkIGZvciB0aGlzIGxhbmd1YWdlLlxuICAgICovXG4gICAgZGF0YSwgcGFyc2VyLCBleHRyYUV4dGVuc2lvbnMgPSBbXSwgXG4gICAgLyoqXG4gICAgQSBsYW5ndWFnZSBuYW1lLlxuICAgICovXG4gICAgbmFtZSA9IFwiXCIpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgLy8gS2x1ZGdlIHRvIGRlZmluZSBFZGl0b3JTdGF0ZS50cmVlIGFzIGEgZGVidWdnaW5nIGhlbHBlcixcbiAgICAgICAgLy8gd2l0aG91dCB0aGUgRWRpdG9yU3RhdGUgcGFja2FnZSBhY3R1YWxseSBrbm93aW5nIGFib3V0XG4gICAgICAgIC8vIGxhbmd1YWdlcyBhbmQgbGV6ZXIgdHJlZXMuXG4gICAgICAgIGlmICghRWRpdG9yU3RhdGUucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwidHJlZVwiKSlcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFZGl0b3JTdGF0ZS5wcm90b3R5cGUsIFwidHJlZVwiLCB7IGdldCgpIHsgcmV0dXJuIHN5bnRheFRyZWUodGhpcyk7IH0gfSk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IFtcbiAgICAgICAgICAgIGxhbmd1YWdlLm9mKHRoaXMpLFxuICAgICAgICAgICAgRWRpdG9yU3RhdGUubGFuZ3VhZ2VEYXRhLm9mKChzdGF0ZSwgcG9zLCBzaWRlKSA9PiBzdGF0ZS5mYWNldChsYW5ndWFnZURhdGFGYWNldEF0KHN0YXRlLCBwb3MsIHNpZGUpKSlcbiAgICAgICAgXS5jb25jYXQoZXh0cmFFeHRlbnNpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUXVlcnkgd2hldGhlciB0aGlzIGxhbmd1YWdlIGlzIGFjdGl2ZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgKi9cbiAgICBpc0FjdGl2ZUF0KHN0YXRlLCBwb3MsIHNpZGUgPSAtMSkge1xuICAgICAgICByZXR1cm4gbGFuZ3VhZ2VEYXRhRmFjZXRBdChzdGF0ZSwgcG9zLCBzaWRlKSA9PSB0aGlzLmRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGRvY3VtZW50IHJlZ2lvbnMgdGhhdCB3ZXJlIHBhcnNlZCB1c2luZyB0aGlzIGxhbmd1YWdlLlxuICAgIFRoZSByZXR1cm5lZCByZWdpb25zIHdpbGwgX2luY2x1ZGVfIGFueSBuZXN0ZWQgbGFuZ3VhZ2VzIHJvb3RlZFxuICAgIGluIHRoaXMgbGFuZ3VhZ2UsIHdoZW4gdGhvc2UgZXhpc3QuXG4gICAgKi9cbiAgICBmaW5kUmVnaW9ucyhzdGF0ZSkge1xuICAgICAgICBsZXQgbGFuZyA9IHN0YXRlLmZhY2V0KGxhbmd1YWdlKTtcbiAgICAgICAgaWYgKChsYW5nID09PSBudWxsIHx8IGxhbmcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxhbmcuZGF0YSkgPT0gdGhpcy5kYXRhKVxuICAgICAgICAgICAgcmV0dXJuIFt7IGZyb206IDAsIHRvOiBzdGF0ZS5kb2MubGVuZ3RoIH1dO1xuICAgICAgICBpZiAoIWxhbmcgfHwgIWxhbmcuYWxsb3dzTmVzdGluZylcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgZXhwbG9yZSA9ICh0cmVlLCBmcm9tKSA9PiB7XG4gICAgICAgICAgICBpZiAodHJlZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZnJvbSwgdG86IGZyb20gKyB0cmVlLmxlbmd0aCB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbW91bnQgPSB0cmVlLnByb3AoTm9kZVByb3AubW91bnRlZCk7XG4gICAgICAgICAgICBpZiAobW91bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAobW91bnQudHJlZS5wcm9wKGxhbmd1YWdlRGF0YVByb3ApID09IHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW91bnQub3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2YgbW91bnQub3ZlcmxheSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGZyb206IHIuZnJvbSArIGZyb20sIHRvOiByLnRvICsgZnJvbSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBmcm9tOiBmcm9tLCB0bzogZnJvbSArIHRyZWUubGVuZ3RoIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1vdW50Lm92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpemUgPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBleHBsb3JlKG1vdW50LnRyZWUsIG1vdW50Lm92ZXJsYXlbMF0uZnJvbSArIGZyb20pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IHNpemUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmVlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoID0gdHJlZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2ggaW5zdGFuY2VvZiBUcmVlKVxuICAgICAgICAgICAgICAgICAgICBleHBsb3JlKGNoLCB0cmVlLnBvc2l0aW9uc1tpXSArIGZyb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBleHBsb3JlKHN5bnRheFRyZWUoc3RhdGUpLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBsYW5ndWFnZSBhbGxvd3MgbmVzdGVkIGxhbmd1YWdlcy4gVGhlXG4gICAgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIHRydWUuXG4gICAgKi9cbiAgICBnZXQgYWxsb3dzTmVzdGluZygpIHsgcmV0dXJuIHRydWU7IH1cbn1cbi8qKlxuQGludGVybmFsXG4qL1xuTGFuZ3VhZ2Uuc2V0U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKCk7XG5mdW5jdGlvbiBsYW5ndWFnZURhdGFGYWNldEF0KHN0YXRlLCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgdG9wTGFuZyA9IHN0YXRlLmZhY2V0KGxhbmd1YWdlKTtcbiAgICBpZiAoIXRvcExhbmcpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBmYWNldCA9IHRvcExhbmcuZGF0YTtcbiAgICBpZiAodG9wTGFuZy5hbGxvd3NOZXN0aW5nKSB7XG4gICAgICAgIGZvciAobGV0IG5vZGUgPSBzeW50YXhUcmVlKHN0YXRlKS50b3BOb2RlOyBub2RlOyBub2RlID0gbm9kZS5lbnRlcihwb3MsIHNpZGUsIEl0ZXJNb2RlLkV4Y2x1ZGVCdWZmZXJzKSlcbiAgICAgICAgICAgIGZhY2V0ID0gbm9kZS50eXBlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgfHwgZmFjZXQ7XG4gICAgfVxuICAgIHJldHVybiBmYWNldDtcbn1cbi8qKlxuQSBzdWJjbGFzcyBvZiBbYExhbmd1YWdlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5MYW5ndWFnZSkgZm9yIHVzZSB3aXRoIExlemVyXG5bTFIgcGFyc2Vyc10oaHR0cHM6Ly9sZXplci5jb2RlbWlycm9yLm5ldC9kb2NzL3JlZiNsci5MUlBhcnNlcilcbnBhcnNlcnMuXG4qL1xuY2xhc3MgTFJMYW5ndWFnZSBleHRlbmRzIExhbmd1YWdlIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBwYXJzZXIsIG5hbWUpIHtcbiAgICAgICAgc3VwZXIoZGF0YSwgcGFyc2VyLCBbXSwgbmFtZSk7XG4gICAgICAgIHRoaXMucGFyc2VyID0gcGFyc2VyO1xuICAgIH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBsYW5ndWFnZSBmcm9tIGEgcGFyc2VyLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjKSB7XG4gICAgICAgIGxldCBkYXRhID0gZGVmaW5lTGFuZ3VhZ2VGYWNldChzcGVjLmxhbmd1YWdlRGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgTFJMYW5ndWFnZShkYXRhLCBzcGVjLnBhcnNlci5jb25maWd1cmUoe1xuICAgICAgICAgICAgcHJvcHM6IFtsYW5ndWFnZURhdGFQcm9wLmFkZCh0eXBlID0+IHR5cGUuaXNUb3AgPyBkYXRhIDogdW5kZWZpbmVkKV1cbiAgICAgICAgfSksIHNwZWMubmFtZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGlzIGxhbmd1YWdlIHdpdGggYSByZWNvbmZpZ3VyZWRcbiAgICB2ZXJzaW9uIG9mIGl0cyBwYXJzZXIgYW5kIG9wdGlvbmFsbHkgYSBuZXcgbmFtZS5cbiAgICAqL1xuICAgIGNvbmZpZ3VyZShvcHRpb25zLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgTFJMYW5ndWFnZSh0aGlzLmRhdGEsIHRoaXMucGFyc2VyLmNvbmZpZ3VyZShvcHRpb25zKSwgbmFtZSB8fCB0aGlzLm5hbWUpO1xuICAgIH1cbiAgICBnZXQgYWxsb3dzTmVzdGluZygpIHsgcmV0dXJuIHRoaXMucGFyc2VyLmhhc1dyYXBwZXJzKCk7IH1cbn1cbi8qKlxuR2V0IHRoZSBzeW50YXggdHJlZSBmb3IgYSBzdGF0ZSwgd2hpY2ggaXMgdGhlIGN1cnJlbnQgKHBvc3NpYmx5XG5pbmNvbXBsZXRlKSBwYXJzZSB0cmVlIG9mIHRoZSBhY3RpdmVcbltsYW5ndWFnZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5MYW5ndWFnZSksIG9yIHRoZSBlbXB0eSB0cmVlIGlmIHRoZXJlIGlzIG5vXG5sYW5ndWFnZSBhdmFpbGFibGUuXG4qL1xuZnVuY3Rpb24gc3ludGF4VHJlZShzdGF0ZSkge1xuICAgIGxldCBmaWVsZCA9IHN0YXRlLmZpZWxkKExhbmd1YWdlLnN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuIGZpZWxkID8gZmllbGQudHJlZSA6IFRyZWUuZW1wdHk7XG59XG4vKipcblRyeSB0byBnZXQgYSBwYXJzZSB0cmVlIHRoYXQgc3BhbnMgYXQgbGVhc3QgdXAgdG8gYHVwdG9gLiBUaGVcbm1ldGhvZCB3aWxsIGRvIGF0IG1vc3QgYHRpbWVvdXRgIG1pbGxpc2Vjb25kcyBvZiB3b3JrIHRvIHBhcnNlXG51cCB0byB0aGF0IHBvaW50IGlmIHRoZSB0cmVlIGlzbid0IGFscmVhZHkgYXZhaWxhYmxlLlxuKi9cbmZ1bmN0aW9uIGVuc3VyZVN5bnRheFRyZWUoc3RhdGUsIHVwdG8sIHRpbWVvdXQgPSA1MCkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgcGFyc2UgPSAoX2EgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGV4dDtcbiAgICByZXR1cm4gIXBhcnNlID8gbnVsbCA6IHBhcnNlLmlzRG9uZSh1cHRvKSB8fCBwYXJzZS53b3JrKHRpbWVvdXQsIHVwdG8pID8gcGFyc2UudHJlZSA6IG51bGw7XG59XG4vKipcblF1ZXJpZXMgd2hldGhlciB0aGVyZSBpcyBhIGZ1bGwgc3ludGF4IHRyZWUgYXZhaWxhYmxlIHVwIHRvIHRoZVxuZ2l2ZW4gZG9jdW1lbnQgcG9zaXRpb24uIElmIHRoZXJlIGlzbid0LCB0aGUgYmFja2dyb3VuZCBwYXJzZVxucHJvY2VzcyBfbWlnaHRfIHN0aWxsIGJlIHdvcmtpbmcgYW5kIHVwZGF0ZSB0aGUgdHJlZSBmdXJ0aGVyLCBidXRcbnRoZXJlIGlzIG5vIGd1YXJhbnRlZSBvZiB0aGF0XHUyMDE0dGhlIHBhcnNlciB3aWxsIFtzdG9wXG53b3JraW5nXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLnN5bnRheFBhcnNlclJ1bm5pbmcpIHdoZW4gaXQgaGFzIHNwZW50IGFcbmNlcnRhaW4gYW1vdW50IG9mIHRpbWUgb3IgaGFzIG1vdmVkIGJleW9uZCB0aGUgdmlzaWJsZSB2aWV3cG9ydC5cbkFsd2F5cyByZXR1cm5zIGZhbHNlIGlmIG5vIGxhbmd1YWdlIGhhcyBiZWVuIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4VHJlZUF2YWlsYWJsZShzdGF0ZSwgdXB0byA9IHN0YXRlLmRvYy5sZW5ndGgpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29udGV4dC5pc0RvbmUodXB0bykpIHx8IGZhbHNlO1xufVxuLyoqXG5Nb3ZlIHBhcnNpbmcgZm9yd2FyZCwgYW5kIHVwZGF0ZSB0aGUgZWRpdG9yIHN0YXRlIGFmdGVyd2FyZHMgdG9cbnJlZmxlY3QgdGhlIG5ldyB0cmVlLiBXaWxsIHdvcmsgZm9yIGF0IG1vc3QgYHRpbWVvdXRgXG5taWxsaXNlY29uZHMuIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFyc2VyIG1hbmFnZWQgZ2V0IHRvIHRoZSBnaXZlblxucG9zaXRpb24gaW4gdGhhdCB0aW1lLlxuKi9cbmZ1bmN0aW9uIGZvcmNlUGFyc2luZyh2aWV3LCB1cHRvID0gdmlldy52aWV3cG9ydC50bywgdGltZW91dCA9IDEwMCkge1xuICAgIGxldCBzdWNjZXNzID0gZW5zdXJlU3ludGF4VHJlZSh2aWV3LnN0YXRlLCB1cHRvLCB0aW1lb3V0KTtcbiAgICBpZiAoc3VjY2VzcyAhPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKHt9KTtcbiAgICByZXR1cm4gISFzdWNjZXNzO1xufVxuLyoqXG5UZWxscyB5b3Ugd2hldGhlciB0aGUgbGFuZ3VhZ2UgcGFyc2VyIGlzIHBsYW5uaW5nIHRvIGRvIG1vcmVcbnBhcnNpbmcgd29yayAoaW4gYSBgcmVxdWVzdElkbGVDYWxsYmFja2AgcHNldWRvLXRocmVhZCkgb3IgaGFzXG5zdG9wcGVkIHJ1bm5pbmcsIGVpdGhlciBiZWNhdXNlIGl0IHBhcnNlZCB0aGUgZW50aXJlIGRvY3VtZW50LFxuYmVjYXVzZSBpdCBzcGVudCB0b28gbXVjaCB0aW1lIGFuZCB3YXMgY3V0IG9mZiwgb3IgYmVjYXVzZSB0aGVyZVxuaXMgbm8gbGFuZ3VhZ2UgcGFyc2VyIGVuYWJsZWQuXG4qL1xuZnVuY3Rpb24gc3ludGF4UGFyc2VyUnVubmluZyh2aWV3KSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKF9hID0gdmlldy5wbHVnaW4ocGFyc2VXb3JrZXIpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNXb3JraW5nKCkpIHx8IGZhbHNlO1xufVxuLy8gTGV6ZXItc3R5bGUgSW5wdXQgb2JqZWN0IGZvciBhIFRleHQgZG9jdW1lbnQuXG5jbGFzcyBEb2NJbnB1dCB7XG4gICAgY29uc3RydWN0b3IoZG9jLCBsZW5ndGggPSBkb2MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZG9jID0gZG9jO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAgICAgdGhpcy5jdXJzb3JQb3MgPSAwO1xuICAgICAgICB0aGlzLnN0cmluZyA9IFwiXCI7XG4gICAgICAgIHRoaXMuY3Vyc29yID0gZG9jLml0ZXIoKTtcbiAgICB9XG4gICAgc3luY1RvKHBvcykge1xuICAgICAgICB0aGlzLnN0cmluZyA9IHRoaXMuY3Vyc29yLm5leHQocG9zIC0gdGhpcy5jdXJzb3JQb3MpLnZhbHVlO1xuICAgICAgICB0aGlzLmN1cnNvclBvcyA9IHBvcyArIHRoaXMuc3RyaW5nLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yUG9zIC0gdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgIH1cbiAgICBjaHVuayhwb3MpIHtcbiAgICAgICAgdGhpcy5zeW5jVG8ocG9zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nO1xuICAgIH1cbiAgICBnZXQgbGluZUNodW5rcygpIHsgcmV0dXJuIHRydWU7IH1cbiAgICByZWFkKGZyb20sIHRvKSB7XG4gICAgICAgIGxldCBzdHJpbmdTdGFydCA9IHRoaXMuY3Vyc29yUG9zIC0gdGhpcy5zdHJpbmcubGVuZ3RoO1xuICAgICAgICBpZiAoZnJvbSA8IHN0cmluZ1N0YXJ0IHx8IHRvID49IHRoaXMuY3Vyc29yUG9zKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9jLnNsaWNlU3RyaW5nKGZyb20sIHRvKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKGZyb20gLSBzdHJpbmdTdGFydCwgdG8gLSBzdHJpbmdTdGFydCk7XG4gICAgfVxufVxubGV0IGN1cnJlbnRDb250ZXh0ID0gbnVsbDtcbi8qKlxuQSBwYXJzZSBjb250ZXh0IHByb3ZpZGVkIHRvIHBhcnNlcnMgd29ya2luZyBvbiB0aGUgZWRpdG9yIGNvbnRlbnQuXG4qL1xuY2xhc3MgUGFyc2VDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIsIFxuICAgIC8qKlxuICAgIFRoZSBjdXJyZW50IGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBUcmVlIGZyYWdtZW50cyB0aGF0IGNhbiBiZSByZXVzZWQgYnkgaW5jcmVtZW50YWwgcmUtcGFyc2VzLlxuICAgICovXG4gICAgZnJhZ21lbnRzID0gW10sIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdHJlZSwgXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB0cmVlTGVuLCBcbiAgICAvKipcbiAgICBUaGUgY3VycmVudCBlZGl0b3Igdmlld3BvcnQgKG9yIHNvbWUgb3ZlcmFwcHJveGltYXRpb25cbiAgICB0aGVyZW9mKS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBmb3Igb3Bwb3J0dW5pc3RpY2FsbHkgYXZvaWRpbmdcbiAgICB3b3JrIChpbiB3aGljaCBjYXNlXG4gICAgW2Bza2lwVW50aWxJblZpZXdgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLlBhcnNlQ29udGV4dC5za2lwVW50aWxJblZpZXcpXG4gICAgc2hvdWxkIGJlIGNhbGxlZCB0byBtYWtlIHN1cmUgdGhlIHBhcnNlciBpcyByZXN0YXJ0ZWQgd2hlbiB0aGVcbiAgICBza2lwcGVkIHJlZ2lvbiBiZWNvbWVzIHZpc2libGUpLlxuICAgICovXG4gICAgdmlld3BvcnQsIFxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgc2tpcHBlZCwgXG4gICAgLyoqXG4gICAgVGhpcyBpcyB3aGVyZSBza2lwcGluZyBwYXJzZXJzIGNhbiByZWdpc3RlciBhIHByb21pc2UgdGhhdCxcbiAgICB3aGVuIHJlc29sdmVkLCB3aWxsIHNjaGVkdWxlIGEgbmV3IHBhcnNlLiBJdCBpcyBjbGVhcmVkIHdoZW5cbiAgICB0aGUgcGFyc2Ugd29ya2VyIHBpY2tzIHVwIHRoZSBwcm9taXNlLiBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHNjaGVkdWxlT24pIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgIHRoaXMudHJlZUxlbiA9IHRyZWVMZW47XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAgICAgdGhpcy5za2lwcGVkID0gc2tpcHBlZDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uID0gc2NoZWR1bGVPbjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZW1wU2tpcHBlZCA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUocGFyc2VyLCBzdGF0ZSwgdmlld3BvcnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZUNvbnRleHQocGFyc2VyLCBzdGF0ZSwgW10sIFRyZWUuZW1wdHksIDAsIHZpZXdwb3J0LCBbXSwgbnVsbCk7XG4gICAgfVxuICAgIHN0YXJ0UGFyc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlci5zdGFydFBhcnNlKG5ldyBEb2NJbnB1dCh0aGlzLnN0YXRlLmRvYyksIHRoaXMuZnJhZ21lbnRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICB3b3JrKHVudGlsLCB1cHRvKSB7XG4gICAgICAgIGlmICh1cHRvICE9IG51bGwgJiYgdXB0byA+PSB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpXG4gICAgICAgICAgICB1cHRvID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy50cmVlICE9IFRyZWUuZW1wdHkgJiYgdGhpcy5pc0RvbmUodXB0byAhPT0gbnVsbCAmJiB1cHRvICE9PSB2b2lkIDAgPyB1cHRvIDogdGhpcy5zdGF0ZS5kb2MubGVuZ3RoKSkge1xuICAgICAgICAgICAgdGhpcy50YWtlVHJlZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aENvbnRleHQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1bnRpbCA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVuZFRpbWUgPSBEYXRlLm5vdygpICsgdW50aWw7XG4gICAgICAgICAgICAgICAgdW50aWwgPSAoKSA9PiBEYXRlLm5vdygpID4gZW5kVGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJzZSlcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5zdGFydFBhcnNlKCk7XG4gICAgICAgICAgICBpZiAodXB0byAhPSBudWxsICYmICh0aGlzLnBhcnNlLnN0b3BwZWRBdCA9PSBudWxsIHx8IHRoaXMucGFyc2Uuc3RvcHBlZEF0ID4gdXB0bykgJiZcbiAgICAgICAgICAgICAgICB1cHRvIDwgdGhpcy5zdGF0ZS5kb2MubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2Uuc3RvcEF0KHVwdG8pO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGxldCBkb25lID0gdGhpcy5wYXJzZS5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnbWVudHMgPSB0aGlzLndpdGhvdXRUZW1wU2tpcHBlZChUcmVlRnJhZ21lbnQuYWRkVHJlZShkb25lLCB0aGlzLmZyYWdtZW50cywgdGhpcy5wYXJzZS5zdG9wcGVkQXQgIT0gbnVsbCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVMZW4gPSAoX2EgPSB0aGlzLnBhcnNlLnN0b3BwZWRBdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5zdGF0ZS5kb2MubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWUgPSBkb25lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHJlZUxlbiA8ICh1cHRvICE9PSBudWxsICYmIHVwdG8gIT09IHZvaWQgMCA/IHVwdG8gOiB0aGlzLnN0YXRlLmRvYy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMuc3RhcnRQYXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVudGlsKCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgdGFrZVRyZWUoKSB7XG4gICAgICAgIGxldCBwb3MsIHRyZWU7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlICYmIChwb3MgPSB0aGlzLnBhcnNlLnBhcnNlZFBvcykgPj0gdGhpcy50cmVlTGVuKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJzZS5zdG9wcGVkQXQgPT0gbnVsbCB8fCB0aGlzLnBhcnNlLnN0b3BwZWRBdCA+IHBvcylcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlLnN0b3BBdChwb3MpO1xuICAgICAgICAgICAgdGhpcy53aXRoQ29udGV4dCgoKSA9PiB7IHdoaWxlICghKHRyZWUgPSB0aGlzLnBhcnNlLmFkdmFuY2UoKSkpIHsgfSB9KTtcbiAgICAgICAgICAgIHRoaXMudHJlZUxlbiA9IHBvcztcbiAgICAgICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50cyA9IHRoaXMud2l0aG91dFRlbXBTa2lwcGVkKFRyZWVGcmFnbWVudC5hZGRUcmVlKHRoaXMudHJlZSwgdGhpcy5mcmFnbWVudHMsIHRydWUpKTtcbiAgICAgICAgICAgIHRoaXMucGFyc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdpdGhDb250ZXh0KGYpIHtcbiAgICAgICAgbGV0IHByZXYgPSBjdXJyZW50Q29udGV4dDtcbiAgICAgICAgY3VycmVudENvbnRleHQgPSB0aGlzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGN1cnJlbnRDb250ZXh0ID0gcHJldjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aXRob3V0VGVtcFNraXBwZWQoZnJhZ21lbnRzKSB7XG4gICAgICAgIGZvciAobGV0IHI7IHIgPSB0aGlzLnRlbXBTa2lwcGVkLnBvcCgpOylcbiAgICAgICAgICAgIGZyYWdtZW50cyA9IGN1dEZyYWdtZW50cyhmcmFnbWVudHMsIHIuZnJvbSwgci50byk7XG4gICAgICAgIHJldHVybiBmcmFnbWVudHM7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgY2hhbmdlcyhjaGFuZ2VzLCBuZXdTdGF0ZSkge1xuICAgICAgICBsZXQgeyBmcmFnbWVudHMsIHRyZWUsIHRyZWVMZW4sIHZpZXdwb3J0LCBza2lwcGVkIH0gPSB0aGlzO1xuICAgICAgICB0aGlzLnRha2VUcmVlKCk7XG4gICAgICAgIGlmICghY2hhbmdlcy5lbXB0eSkge1xuICAgICAgICAgICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgICAgICAgICAgY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoZnJvbUEsIHRvQSwgZnJvbUIsIHRvQikgPT4gcmFuZ2VzLnB1c2goeyBmcm9tQSwgdG9BLCBmcm9tQiwgdG9CIH0pKTtcbiAgICAgICAgICAgIGZyYWdtZW50cyA9IFRyZWVGcmFnbWVudC5hcHBseUNoYW5nZXMoZnJhZ21lbnRzLCByYW5nZXMpO1xuICAgICAgICAgICAgdHJlZSA9IFRyZWUuZW1wdHk7XG4gICAgICAgICAgICB0cmVlTGVuID0gMDtcbiAgICAgICAgICAgIHZpZXdwb3J0ID0geyBmcm9tOiBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC5mcm9tLCAtMSksIHRvOiBjaGFuZ2VzLm1hcFBvcyh2aWV3cG9ydC50bywgMSkgfTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNraXBwZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2tpcHBlZCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2YgdGhpcy5za2lwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmcm9tID0gY2hhbmdlcy5tYXBQb3Moci5mcm9tLCAxKSwgdG8gPSBjaGFuZ2VzLm1hcFBvcyhyLnRvLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9tIDwgdG8pXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkLnB1c2goeyBmcm9tLCB0byB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZUNvbnRleHQodGhpcy5wYXJzZXIsIG5ld1N0YXRlLCBmcmFnbWVudHMsIHRyZWUsIHRyZWVMZW4sIHZpZXdwb3J0LCBza2lwcGVkLCB0aGlzLnNjaGVkdWxlT24pO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHVwZGF0ZVZpZXdwb3J0KHZpZXdwb3J0KSB7XG4gICAgICAgIGlmICh0aGlzLnZpZXdwb3J0LmZyb20gPT0gdmlld3BvcnQuZnJvbSAmJiB0aGlzLnZpZXdwb3J0LnRvID09IHZpZXdwb3J0LnRvKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XG4gICAgICAgIGxldCBzdGFydExlbiA9IHRoaXMuc2tpcHBlZC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5za2lwcGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgeyBmcm9tLCB0byB9ID0gdGhpcy5za2lwcGVkW2ldO1xuICAgICAgICAgICAgaWYgKGZyb20gPCB2aWV3cG9ydC50byAmJiB0byA+IHZpZXdwb3J0LmZyb20pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGN1dEZyYWdtZW50cyh0aGlzLmZyYWdtZW50cywgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcHBlZC5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5za2lwcGVkLmxlbmd0aCA+PSBzdGFydExlbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMudGFrZVRyZWUoKTtcbiAgICAgICAgICAgIHRoaXMucGFyc2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIE5vdGlmeSB0aGUgcGFyc2Ugc2NoZWR1bGVyIHRoYXQgdGhlIGdpdmVuIHJlZ2lvbiB3YXMgc2tpcHBlZFxuICAgIGJlY2F1c2UgaXQgd2Fzbid0IGluIHZpZXcsIGFuZCB0aGUgcGFyc2Ugc2hvdWxkIGJlIHJlc3RhcnRlZFxuICAgIHdoZW4gaXQgY29tZXMgaW50byB2aWV3LlxuICAgICovXG4gICAgc2tpcFVudGlsSW5WaWV3KGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuc2tpcHBlZC5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgYSBwYXJzZXIgaW50ZW5kZWQgdG8gYmUgdXNlZCBhcyBwbGFjZWhvbGRlciB3aGVuXG4gICAgYXN5bmNocm9ub3VzbHkgbG9hZGluZyBhIG5lc3RlZCBwYXJzZXIuIEl0J2xsIHNraXAgaXRzIGlucHV0IGFuZFxuICAgIG1hcmsgaXQgYXMgbm90LXJlYWxseS1wYXJzZWQsIHNvIHRoYXQgdGhlIG5leHQgdXBkYXRlIHdpbGwgcGFyc2VcbiAgICBpdCBhZ2Fpbi5cbiAgICBcbiAgICBXaGVuIGB1bnRpbGAgaXMgZ2l2ZW4sIGEgcmVwYXJzZSB3aWxsIGJlIHNjaGVkdWxlZCB3aGVuIHRoYXRcbiAgICBwcm9taXNlIHJlc29sdmVzLlxuICAgICovXG4gICAgc3RhdGljIGdldFNraXBwaW5nUGFyc2VyKHVudGlsKSB7XG4gICAgICAgIHJldHVybiBuZXcgY2xhc3MgZXh0ZW5kcyBQYXJzZXIge1xuICAgICAgICAgICAgY3JlYXRlUGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSByYW5nZXNbMF0uZnJvbSwgdG8gPSByYW5nZXNbcmFuZ2VzLmxlbmd0aCAtIDFdLnRvO1xuICAgICAgICAgICAgICAgIGxldCBwYXJzZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZFBvczogZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjeCA9IGN1cnJlbnRDb250ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiByYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4LnRlbXBTa2lwcGVkLnB1c2gocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVudGlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjeC5zY2hlZHVsZU9uID0gY3guc2NoZWR1bGVPbiA/IFByb21pc2UuYWxsKFtjeC5zY2hlZHVsZU9uLCB1bnRpbF0pIDogdW50aWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnNlZFBvcyA9IHRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmVlKE5vZGVUeXBlLm5vbmUsIFtdLCBbXSwgdG8gLSBmcm9tKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZEF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdG9wQXQoKSB7IH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgaXNEb25lKHVwdG8pIHtcbiAgICAgICAgdXB0byA9IE1hdGgubWluKHVwdG8sIHRoaXMuc3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgICAgIGxldCBmcmFncyA9IHRoaXMuZnJhZ21lbnRzO1xuICAgICAgICByZXR1cm4gdGhpcy50cmVlTGVuID49IHVwdG8gJiYgZnJhZ3MubGVuZ3RoICYmIGZyYWdzWzBdLmZyb20gPT0gMCAmJiBmcmFnc1swXS50byA+PSB1cHRvO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGNvbnRleHQgZm9yIHRoZSBjdXJyZW50IHBhcnNlLCBvciBgbnVsbGAgaWYgbm8gZWRpdG9yXG4gICAgcGFyc2UgaXMgaW4gcHJvZ3Jlc3MuXG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0KCkgeyByZXR1cm4gY3VycmVudENvbnRleHQ7IH1cbn1cbmZ1bmN0aW9uIGN1dEZyYWdtZW50cyhmcmFnbWVudHMsIGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIFRyZWVGcmFnbWVudC5hcHBseUNoYW5nZXMoZnJhZ21lbnRzLCBbeyBmcm9tQTogZnJvbSwgdG9BOiB0bywgZnJvbUI6IGZyb20sIHRvQjogdG8gfV0pO1xufVxuY2xhc3MgTGFuZ3VhZ2VTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gQSBtdXRhYmxlIHBhcnNlIHN0YXRlIHRoYXQgaXMgdXNlZCB0byBwcmVzZXJ2ZSB3b3JrIGRvbmUgZHVyaW5nXG4gICAgLy8gdGhlIGxpZmV0aW1lIG9mIGEgc3RhdGUgd2hlbiBtb3ZpbmcgdG8gdGhlIG5leHQgc3RhdGUuXG4gICAgY29udGV4dCkge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnRyZWUgPSBjb250ZXh0LnRyZWU7XG4gICAgfVxuICAgIGFwcGx5KHRyKSB7XG4gICAgICAgIGlmICghdHIuZG9jQ2hhbmdlZCAmJiB0aGlzLnRyZWUgPT0gdGhpcy5jb250ZXh0LnRyZWUpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgbGV0IG5ld0N4ID0gdGhpcy5jb250ZXh0LmNoYW5nZXModHIuY2hhbmdlcywgdHIuc3RhdGUpO1xuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgcGFyc2Ugd2Fzbid0IGRvbmUsIGdvIGZvcndhcmQgb25seSB1cCB0byBpdHNcbiAgICAgICAgLy8gZW5kIHBvc2l0aW9uIG9yIHRoZSBlbmQgb2YgdGhlIHZpZXdwb3J0LCB0byBhdm9pZCBzbG93aW5nIGRvd25cbiAgICAgICAgLy8gc3RhdGUgdXBkYXRlcyB3aXRoIHBhcnNlIHdvcmsgYmV5b25kIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgbGV0IHVwdG8gPSB0aGlzLmNvbnRleHQudHJlZUxlbiA9PSB0ci5zdGFydFN0YXRlLmRvYy5sZW5ndGggPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogTWF0aC5tYXgodHIuY2hhbmdlcy5tYXBQb3ModGhpcy5jb250ZXh0LnRyZWVMZW4pLCBuZXdDeC52aWV3cG9ydC50byk7XG4gICAgICAgIGlmICghbmV3Q3gud29yaygyMCAvKiBXb3JrLkFwcGx5ICovLCB1cHRvKSlcbiAgICAgICAgICAgIG5ld0N4LnRha2VUcmVlKCk7XG4gICAgICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdGF0ZShuZXdDeCk7XG4gICAgfVxuICAgIHN0YXRpYyBpbml0KHN0YXRlKSB7XG4gICAgICAgIGxldCB2cFRvID0gTWF0aC5taW4oMzAwMCAvKiBXb3JrLkluaXRWaWV3cG9ydCAqLywgc3RhdGUuZG9jLmxlbmd0aCk7XG4gICAgICAgIGxldCBwYXJzZVN0YXRlID0gUGFyc2VDb250ZXh0LmNyZWF0ZShzdGF0ZS5mYWNldChsYW5ndWFnZSkucGFyc2VyLCBzdGF0ZSwgeyBmcm9tOiAwLCB0bzogdnBUbyB9KTtcbiAgICAgICAgaWYgKCFwYXJzZVN0YXRlLndvcmsoMjAgLyogV29yay5BcHBseSAqLywgdnBUbykpXG4gICAgICAgICAgICBwYXJzZVN0YXRlLnRha2VUcmVlKCk7XG4gICAgICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdGF0ZShwYXJzZVN0YXRlKTtcbiAgICB9XG59XG5MYW5ndWFnZS5zdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlOiBMYW5ndWFnZVN0YXRlLmluaXQsXG4gICAgdXBkYXRlKHZhbHVlLCB0cikge1xuICAgICAgICBmb3IgKGxldCBlIG9mIHRyLmVmZmVjdHMpXG4gICAgICAgICAgICBpZiAoZS5pcyhMYW5ndWFnZS5zZXRTdGF0ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUudmFsdWU7XG4gICAgICAgIGlmICh0ci5zdGFydFN0YXRlLmZhY2V0KGxhbmd1YWdlKSAhPSB0ci5zdGF0ZS5mYWNldChsYW5ndWFnZSkpXG4gICAgICAgICAgICByZXR1cm4gTGFuZ3VhZ2VTdGF0ZS5pbml0KHRyLnN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRyKTtcbiAgICB9XG59KTtcbmxldCByZXF1ZXN0SWRsZSA9IChjYWxsYmFjaykgPT4ge1xuICAgIGxldCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjaygpLCA1MDAgLyogV29yay5NYXhQYXVzZSAqLyk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn07XG5pZiAodHlwZW9mIHJlcXVlc3RJZGxlQ2FsbGJhY2sgIT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXF1ZXN0SWRsZSA9IChjYWxsYmFjaykgPT4ge1xuICAgICAgICBsZXQgaWRsZSA9IC0xLCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZGxlID0gcmVxdWVzdElkbGVDYWxsYmFjayhjYWxsYmFjaywgeyB0aW1lb3V0OiA1MDAgLyogV29yay5NYXhQYXVzZSAqLyAtIDEwMCAvKiBXb3JrLk1pblBhdXNlICovIH0pO1xuICAgICAgICB9LCAxMDAgLyogV29yay5NaW5QYXVzZSAqLyk7XG4gICAgICAgIHJldHVybiAoKSA9PiBpZGxlIDwgMCA/IGNsZWFyVGltZW91dCh0aW1lb3V0KSA6IGNhbmNlbElkbGVDYWxsYmFjayhpZGxlKTtcbiAgICB9O1xuY29uc3QgaXNJbnB1dFBlbmRpbmcgPSB0eXBlb2YgbmF2aWdhdG9yICE9IFwidW5kZWZpbmVkXCIgJiYgKChfYSA9IG5hdmlnYXRvci5zY2hlZHVsaW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaXNJbnB1dFBlbmRpbmcpXG4gICAgPyAoKSA9PiBuYXZpZ2F0b3Iuc2NoZWR1bGluZy5pc0lucHV0UGVuZGluZygpIDogbnVsbDtcbmNvbnN0IHBhcnNlV29ya2VyID0gLypAX19QVVJFX18qL1ZpZXdQbHVnaW4uZnJvbUNsYXNzKGNsYXNzIFBhcnNlV29ya2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3KSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMud29ya2luZyA9IG51bGw7XG4gICAgICAgIHRoaXMud29ya1NjaGVkdWxlZCA9IDA7XG4gICAgICAgIC8vIEVuZCBvZiB0aGUgY3VycmVudCB0aW1lIGNodW5rXG4gICAgICAgIHRoaXMuY2h1bmtFbmQgPSAtMTtcbiAgICAgICAgLy8gTWlsbGlzZWNvbmRzIG9mIGJ1ZGdldCBsZWZ0IGZvciB0aGlzIGNodW5rXG4gICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgPSAtMTtcbiAgICAgICAgdGhpcy53b3JrID0gdGhpcy53b3JrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVXb3JrKCk7XG4gICAgfVxuICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgbGV0IGN4ID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKExhbmd1YWdlLnN0YXRlKS5jb250ZXh0O1xuICAgICAgICBpZiAoY3gudXBkYXRlVmlld3BvcnQodXBkYXRlLnZpZXcudmlld3BvcnQpIHx8IHRoaXMudmlldy52aWV3cG9ydC50byA+IGN4LnRyZWVMZW4pXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlV29yaygpO1xuICAgICAgICBpZiAodXBkYXRlLmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcuaGFzRm9jdXMpXG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua0J1ZGdldCArPSA1MCAvKiBXb3JrLkNoYW5nZUJvbnVzICovO1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVdvcmsoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQXN5bmNTY2hlZHVsZShjeCk7XG4gICAgfVxuICAgIHNjaGVkdWxlV29yaygpIHtcbiAgICAgICAgaWYgKHRoaXMud29ya2luZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHRoaXMudmlldywgZmllbGQgPSBzdGF0ZS5maWVsZChMYW5ndWFnZS5zdGF0ZSk7XG4gICAgICAgIGlmIChmaWVsZC50cmVlICE9IGZpZWxkLmNvbnRleHQudHJlZSB8fCAhZmllbGQuY29udGV4dC5pc0RvbmUoc3RhdGUuZG9jLmxlbmd0aCkpXG4gICAgICAgICAgICB0aGlzLndvcmtpbmcgPSByZXF1ZXN0SWRsZSh0aGlzLndvcmspO1xuICAgIH1cbiAgICB3b3JrKGRlYWRsaW5lKSB7XG4gICAgICAgIHRoaXMud29ya2luZyA9IG51bGw7XG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAodGhpcy5jaHVua0VuZCA8IG5vdyAmJiAodGhpcy5jaHVua0VuZCA8IDAgfHwgdGhpcy52aWV3Lmhhc0ZvY3VzKSkgeyAvLyBTdGFydCBhIG5ldyBjaHVua1xuICAgICAgICAgICAgdGhpcy5jaHVua0VuZCA9IG5vdyArIDMwMDAwIC8qIFdvcmsuQ2h1bmtUaW1lICovO1xuICAgICAgICAgICAgdGhpcy5jaHVua0J1ZGdldCA9IDMwMDAgLyogV29yay5DaHVua0J1ZGdldCAqLztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaHVua0J1ZGdldCA8PSAwKVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBObyBtb3JlIGJ1ZGdldFxuICAgICAgICBsZXQgeyBzdGF0ZSwgdmlld3BvcnQ6IHsgdG86IHZwVG8gfSB9ID0gdGhpcy52aWV3LCBmaWVsZCA9IHN0YXRlLmZpZWxkKExhbmd1YWdlLnN0YXRlKTtcbiAgICAgICAgaWYgKGZpZWxkLnRyZWUgPT0gZmllbGQuY29udGV4dC50cmVlICYmIGZpZWxkLmNvbnRleHQuaXNEb25lKHZwVG8gKyAxMDAwMDAgLyogV29yay5NYXhQYXJzZUFoZWFkICovKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBEYXRlLm5vdygpICsgTWF0aC5taW4odGhpcy5jaHVua0J1ZGdldCwgMTAwIC8qIFdvcmsuU2xpY2UgKi8sIGRlYWRsaW5lICYmICFpc0lucHV0UGVuZGluZyA/IE1hdGgubWF4KDI1IC8qIFdvcmsuTWluU2xpY2UgKi8sIGRlYWRsaW5lLnRpbWVSZW1haW5pbmcoKSAtIDUpIDogMWU5KTtcbiAgICAgICAgbGV0IHZpZXdwb3J0Rmlyc3QgPSBmaWVsZC5jb250ZXh0LnRyZWVMZW4gPCB2cFRvICYmIHN0YXRlLmRvYy5sZW5ndGggPiB2cFRvICsgMTAwMDtcbiAgICAgICAgbGV0IGRvbmUgPSBmaWVsZC5jb250ZXh0LndvcmsoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGlzSW5wdXRQZW5kaW5nICYmIGlzSW5wdXRQZW5kaW5nKCkgfHwgRGF0ZS5ub3coKSA+IGVuZFRpbWU7XG4gICAgICAgIH0sIHZwVG8gKyAodmlld3BvcnRGaXJzdCA/IDAgOiAxMDAwMDAgLyogV29yay5NYXhQYXJzZUFoZWFkICovKSk7XG4gICAgICAgIHRoaXMuY2h1bmtCdWRnZXQgLT0gRGF0ZS5ub3coKSAtIG5vdztcbiAgICAgICAgaWYgKGRvbmUgfHwgdGhpcy5jaHVua0J1ZGdldCA8PSAwKSB7XG4gICAgICAgICAgICBmaWVsZC5jb250ZXh0LnRha2VUcmVlKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBMYW5ndWFnZS5zZXRTdGF0ZS5vZihuZXcgTGFuZ3VhZ2VTdGF0ZShmaWVsZC5jb250ZXh0KSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2h1bmtCdWRnZXQgPiAwICYmICEoZG9uZSAmJiAhdmlld3BvcnRGaXJzdCkpXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlV29yaygpO1xuICAgICAgICB0aGlzLmNoZWNrQXN5bmNTY2hlZHVsZShmaWVsZC5jb250ZXh0KTtcbiAgICB9XG4gICAgY2hlY2tBc3luY1NjaGVkdWxlKGN4KSB7XG4gICAgICAgIGlmIChjeC5zY2hlZHVsZU9uKSB7XG4gICAgICAgICAgICB0aGlzLndvcmtTY2hlZHVsZWQrKztcbiAgICAgICAgICAgIGN4LnNjaGVkdWxlT25cbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLnNjaGVkdWxlV29yaygpKVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gbG9nRXhjZXB0aW9uKHRoaXMudmlldy5zdGF0ZSwgZXJyKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLndvcmtTY2hlZHVsZWQtLSk7XG4gICAgICAgICAgICBjeC5zY2hlZHVsZU9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy53b3JraW5nKVxuICAgICAgICAgICAgdGhpcy53b3JraW5nKCk7XG4gICAgfVxuICAgIGlzV29ya2luZygpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMud29ya2luZyB8fCB0aGlzLndvcmtTY2hlZHVsZWQgPiAwKTtcbiAgICB9XG59LCB7XG4gICAgZXZlbnRIYW5kbGVyczogeyBmb2N1cygpIHsgdGhpcy5zY2hlZHVsZVdvcmsoKTsgfSB9XG59KTtcbi8qKlxuVGhlIGZhY2V0IHVzZWQgdG8gYXNzb2NpYXRlIGEgbGFuZ3VhZ2Ugd2l0aCBhbiBlZGl0b3Igc3RhdGUuIFVzZWRcbmJ5IGBMYW5ndWFnZWAgb2JqZWN0J3MgYGV4dGVuc2lvbmAgcHJvcGVydHkgKHNvIHlvdSBkb24ndCBuZWVkIHRvXG5tYW51YWxseSB3cmFwIHlvdXIgbGFuZ3VhZ2VzIGluIHRoaXMpLiBDYW4gYmUgdXNlZCB0byBhY2Nlc3MgdGhlXG5jdXJyZW50IGxhbmd1YWdlIG9uIGEgc3RhdGUuXG4qL1xuY29uc3QgbGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGxhbmd1YWdlcykgeyByZXR1cm4gbGFuZ3VhZ2VzLmxlbmd0aCA/IGxhbmd1YWdlc1swXSA6IG51bGw7IH0sXG4gICAgZW5hYmxlczogbGFuZ3VhZ2UgPT4gW1xuICAgICAgICBMYW5ndWFnZS5zdGF0ZSxcbiAgICAgICAgcGFyc2VXb3JrZXIsXG4gICAgICAgIEVkaXRvclZpZXcuY29udGVudEF0dHJpYnV0ZXMuY29tcHV0ZShbbGFuZ3VhZ2VdLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICBsZXQgbGFuZyA9IHN0YXRlLmZhY2V0KGxhbmd1YWdlKTtcbiAgICAgICAgICAgIHJldHVybiBsYW5nICYmIGxhbmcubmFtZSA/IHsgXCJkYXRhLWxhbmd1YWdlXCI6IGxhbmcubmFtZSB9IDoge307XG4gICAgICAgIH0pXG4gICAgXVxufSk7XG4vKipcblRoaXMgY2xhc3MgYnVuZGxlcyBhIFtsYW5ndWFnZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5MYW5ndWFnZSkgd2l0aCBhblxub3B0aW9uYWwgc2V0IG9mIHN1cHBvcnRpbmcgZXh0ZW5zaW9ucy4gTGFuZ3VhZ2UgcGFja2FnZXMgYXJlXG5lbmNvdXJhZ2VkIHRvIGV4cG9ydCBhIGZ1bmN0aW9uIHRoYXQgb3B0aW9uYWxseSB0YWtlcyBhXG5jb25maWd1cmF0aW9uIG9iamVjdCBhbmQgcmV0dXJucyBhIGBMYW5ndWFnZVN1cHBvcnRgIGluc3RhbmNlLCBhc1xudGhlIG1haW4gd2F5IGZvciBjbGllbnQgY29kZSB0byB1c2UgdGhlIHBhY2thZ2UuXG4qL1xuY2xhc3MgTGFuZ3VhZ2VTdXBwb3J0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBsYW5ndWFnZSBzdXBwb3J0IG9iamVjdC5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBsYW5ndWFnZSBvYmplY3QuXG4gICAgKi9cbiAgICBsYW5ndWFnZSwgXG4gICAgLyoqXG4gICAgQW4gb3B0aW9uYWwgc2V0IG9mIHN1cHBvcnRpbmcgZXh0ZW5zaW9ucy4gV2hlbiBuZXN0aW5nIGFcbiAgICBsYW5ndWFnZSBpbiBhbm90aGVyIGxhbmd1YWdlLCB0aGUgb3V0ZXIgbGFuZ3VhZ2UgaXMgZW5jb3VyYWdlZFxuICAgIHRvIGluY2x1ZGUgdGhlIHN1cHBvcnRpbmcgZXh0ZW5zaW9ucyBmb3IgaXRzIGlubmVyIGxhbmd1YWdlc1xuICAgIGluIGl0cyBvd24gc2V0IG9mIHN1cHBvcnQgZXh0ZW5zaW9ucy5cbiAgICAqL1xuICAgIHN1cHBvcnQgPSBbXSkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgIHRoaXMuc3VwcG9ydCA9IHN1cHBvcnQ7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gW2xhbmd1YWdlLCBzdXBwb3J0XTtcbiAgICB9XG59XG4vKipcbkxhbmd1YWdlIGRlc2NyaXB0aW9ucyBhcmUgdXNlZCB0byBzdG9yZSBtZXRhZGF0YSBhYm91dCBsYW5ndWFnZXNcbmFuZCB0byBkeW5hbWljYWxseSBsb2FkIHRoZW0uIFRoZWlyIG1haW4gcm9sZSBpcyBmaW5kaW5nIHRoZVxuYXBwcm9wcmlhdGUgbGFuZ3VhZ2UgZm9yIGEgZmlsZW5hbWUgb3IgZHluYW1pY2FsbHkgbG9hZGluZyBuZXN0ZWRcbnBhcnNlcnMuXG4qL1xuY2xhc3MgTGFuZ3VhZ2VEZXNjcmlwdGlvbiB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIG5hbWUgb2YgdGhpcyBsYW5ndWFnZS5cbiAgICAqL1xuICAgIG5hbWUsIFxuICAgIC8qKlxuICAgIEFsdGVybmF0aXZlIG5hbWVzIGZvciB0aGUgbW9kZSAobG93ZXJjYXNlZCwgaW5jbHVkZXMgYHRoaXMubmFtZWApLlxuICAgICovXG4gICAgYWxpYXMsIFxuICAgIC8qKlxuICAgIEZpbGUgZXh0ZW5zaW9ucyBhc3NvY2lhdGVkIHdpdGggdGhpcyBsYW5ndWFnZS5cbiAgICAqL1xuICAgIGV4dGVuc2lvbnMsIFxuICAgIC8qKlxuICAgIE9wdGlvbmFsIGZpbGVuYW1lIHBhdHRlcm4gdGhhdCBzaG91bGQgYmUgYXNzb2NpYXRlZCB3aXRoIHRoaXNcbiAgICBsYW5ndWFnZS5cbiAgICAqL1xuICAgIGZpbGVuYW1lLCBsb2FkRnVuYywgXG4gICAgLyoqXG4gICAgSWYgdGhlIGxhbmd1YWdlIGhhcyBiZWVuIGxvYWRlZCwgdGhpcyB3aWxsIGhvbGQgaXRzIHZhbHVlLlxuICAgICovXG4gICAgc3VwcG9ydCA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgdGhpcy5sb2FkRnVuYyA9IGxvYWRGdW5jO1xuICAgICAgICB0aGlzLnN1cHBvcnQgPSBzdXBwb3J0O1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBTdGFydCBsb2FkaW5nIHRoZSB0aGUgbGFuZ3VhZ2UuIFdpbGwgcmV0dXJuIGEgcHJvbWlzZSB0aGF0XG4gICAgcmVzb2x2ZXMgdG8gYSBbYExhbmd1YWdlU3VwcG9ydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2VTdXBwb3J0KVxuICAgIG9iamVjdCB3aGVuIHRoZSBsYW5ndWFnZSBzdWNjZXNzZnVsbHkgbG9hZHMuXG4gICAgKi9cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkaW5nIHx8ICh0aGlzLmxvYWRpbmcgPSB0aGlzLmxvYWRGdW5jKCkudGhlbihzdXBwb3J0ID0+IHRoaXMuc3VwcG9ydCA9IHN1cHBvcnQsIGVyciA9PiB7IHRoaXMubG9hZGluZyA9IG51bGw7IHRocm93IGVycjsgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGUgYSBsYW5ndWFnZSBkZXNjcmlwdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyBvZihzcGVjKSB7XG4gICAgICAgIGxldCB7IGxvYWQsIHN1cHBvcnQgfSA9IHNwZWM7XG4gICAgICAgIGlmICghbG9hZCkge1xuICAgICAgICAgICAgaWYgKCFzdXBwb3J0KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTXVzdCBwYXNzIGVpdGhlciAnbG9hZCcgb3IgJ3N1cHBvcnQnIHRvIExhbmd1YWdlRGVzY3JpcHRpb24ub2ZcIik7XG4gICAgICAgICAgICBsb2FkID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHN1cHBvcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VEZXNjcmlwdGlvbihzcGVjLm5hbWUsIChzcGVjLmFsaWFzIHx8IFtdKS5jb25jYXQoc3BlYy5uYW1lKS5tYXAocyA9PiBzLnRvTG93ZXJDYXNlKCkpLCBzcGVjLmV4dGVuc2lvbnMgfHwgW10sIHNwZWMuZmlsZW5hbWUsIGxvYWQsIHN1cHBvcnQpO1xuICAgIH1cbiAgICAvKipcbiAgICBMb29rIGZvciBhIGxhbmd1YWdlIGluIHRoZSBnaXZlbiBhcnJheSBvZiBkZXNjcmlwdGlvbnMgdGhhdFxuICAgIG1hdGNoZXMgdGhlIGZpbGVuYW1lLiBXaWxsIGZpcnN0IG1hdGNoXG4gICAgW2BmaWxlbmFtZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2VEZXNjcmlwdGlvbi5maWxlbmFtZSkgcGF0dGVybnMsXG4gICAgYW5kIHRoZW4gW2V4dGVuc2lvbnNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuTGFuZ3VhZ2VEZXNjcmlwdGlvbi5leHRlbnNpb25zKSxcbiAgICBhbmQgcmV0dXJuIHRoZSBmaXJzdCBsYW5ndWFnZSB0aGF0IG1hdGNoZXMuXG4gICAgKi9cbiAgICBzdGF0aWMgbWF0Y2hGaWxlbmFtZShkZXNjcywgZmlsZW5hbWUpIHtcbiAgICAgICAgZm9yIChsZXQgZCBvZiBkZXNjcylcbiAgICAgICAgICAgIGlmIChkLmZpbGVuYW1lICYmIGQuZmlsZW5hbWUudGVzdChmaWxlbmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIGxldCBleHQgPSAvXFwuKFteLl0rKSQvLmV4ZWMoZmlsZW5hbWUpO1xuICAgICAgICBpZiAoZXh0KVxuICAgICAgICAgICAgZm9yIChsZXQgZCBvZiBkZXNjcylcbiAgICAgICAgICAgICAgICBpZiAoZC5leHRlbnNpb25zLmluZGV4T2YoZXh0WzFdKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIExvb2sgZm9yIGEgbGFuZ3VhZ2Ugd2hvc2UgbmFtZSBvciBhbGlhcyBtYXRjaGVzIHRoZSB0aGUgZ2l2ZW5cbiAgICBuYW1lIChjYXNlLWluc2Vuc2l0aXZlbHkpLiBJZiBgZnV6enlgIGlzIHRydWUsIGFuZCBubyBkaXJlY3RcbiAgICBtYXRjaHMgaXMgZm91bmQsIHRoaXMnbGwgYWxzbyBzZWFyY2ggZm9yIGEgbGFuZ3VhZ2Ugd2hvc2UgbmFtZVxuICAgIG9yIGFsaWFzIG9jY3VycyBpbiB0aGUgc3RyaW5nIChmb3IgbmFtZXMgc2hvcnRlciB0aGFuIHRocmVlXG4gICAgY2hhcmFjdGVycywgb25seSB3aGVuIHN1cnJvdW5kZWQgYnkgbm9uLXdvcmQgY2hhcmFjdGVycykuXG4gICAgKi9cbiAgICBzdGF0aWMgbWF0Y2hMYW5ndWFnZU5hbWUoZGVzY3MsIG5hbWUsIGZ1enp5ID0gdHJ1ZSkge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBmb3IgKGxldCBkIG9mIGRlc2NzKVxuICAgICAgICAgICAgaWYgKGQuYWxpYXMuc29tZShhID0+IGEgPT0gbmFtZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIGlmIChmdXp6eSlcbiAgICAgICAgICAgIGZvciAobGV0IGQgb2YgZGVzY3MpXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYSBvZiBkLmFsaWFzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IG5hbWUuaW5kZXhPZihhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kID4gLTEgJiYgKGEubGVuZ3RoID4gMiB8fCAhL1xcdy8udGVzdChuYW1lW2ZvdW5kIC0gMV0pICYmICEvXFx3Ly50ZXN0KG5hbWVbZm91bmQgKyBhLmxlbmd0aF0pKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbkZhY2V0IHRoYXQgZGVmaW5lcyBhIHdheSB0byBwcm92aWRlIGEgZnVuY3Rpb24gdGhhdCBjb21wdXRlcyB0aGVcbmFwcHJvcHJpYXRlIGluZGVudGF0aW9uIGRlcHRoLCBhcyBhIGNvbHVtbiBudW1iZXIgKHNlZVxuW2BpbmRlbnRTdHJpbmdgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFN0cmluZykpLCBhdCB0aGUgc3RhcnQgb2YgYSBnaXZlblxubGluZS4gQSByZXR1cm4gdmFsdWUgb2YgYG51bGxgIGluZGljYXRlcyBubyBpbmRlbnRhdGlvbiBjYW4gYmVcbmRldGVybWluZWQsIGFuZCB0aGUgbGluZSBzaG91bGQgaW5oZXJpdCB0aGUgaW5kZW50YXRpb24gb2YgdGhlIG9uZVxuYWJvdmUgaXQuIEEgcmV0dXJuIHZhbHVlIG9mIGB1bmRlZmluZWRgIGRlZmVycyB0byB0aGUgbmV4dCBpbmRlbnRcbnNlcnZpY2UuXG4qL1xuY29uc3QgaW5kZW50U2VydmljZSA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoKTtcbi8qKlxuRmFjZXQgZm9yIG92ZXJyaWRpbmcgdGhlIHVuaXQgYnkgd2hpY2ggaW5kZW50YXRpb24gaGFwcGVucy5cblNob3VsZCBiZSBhIHN0cmluZyBjb25zaXN0aW5nIGVpdGhlciBlbnRpcmVseSBvZiBzcGFjZXMgb3JcbmVudGlyZWx5IG9mIHRhYnMuIFdoZW4gbm90IHNldCwgdGhpcyBkZWZhdWx0cyB0byAyIHNwYWNlcy5cbiovXG5jb25zdCBpbmRlbnRVbml0ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZTogdmFsdWVzID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIFwiICBcIjtcbiAgICAgICAgaWYgKCEvXig/OiArfFxcdCspJC8udGVzdCh2YWx1ZXNbMF0pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbmRlbnQgdW5pdDogXCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZXNbMF0pKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9XG59KTtcbi8qKlxuUmV0dXJuIHRoZSBfY29sdW1uIHdpZHRoXyBvZiBhbiBpbmRlbnQgdW5pdCBpbiB0aGUgc3RhdGUuXG5EZXRlcm1pbmVkIGJ5IHRoZSBbYGluZGVudFVuaXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpXG5mYWNldCwgYW5kIFtgdGFiU2l6ZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGVedGFiU2l6ZSkgd2hlbiB0aGF0XG5jb250YWlucyB0YWJzLlxuKi9cbmZ1bmN0aW9uIGdldEluZGVudFVuaXQoc3RhdGUpIHtcbiAgICBsZXQgdW5pdCA9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpO1xuICAgIHJldHVybiB1bml0LmNoYXJDb2RlQXQoMCkgPT0gOSA/IHN0YXRlLnRhYlNpemUgKiB1bml0Lmxlbmd0aCA6IHVuaXQubGVuZ3RoO1xufVxuLyoqXG5DcmVhdGUgYW4gaW5kZW50YXRpb24gc3RyaW5nIHRoYXQgY292ZXJzIGNvbHVtbnMgMCB0byBgY29sc2AuXG5XaWxsIHVzZSB0YWJzIGZvciBhcyBtdWNoIG9mIHRoZSBjb2x1bW5zIGFzIHBvc3NpYmxlIHdoZW4gdGhlXG5bYGluZGVudFVuaXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIGZhY2V0IGNvbnRhaW5zXG50YWJzLlxuKi9cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdGF0ZSwgY29scykge1xuICAgIGxldCByZXN1bHQgPSBcIlwiLCB0cyA9IHN0YXRlLnRhYlNpemU7XG4gICAgaWYgKHN0YXRlLmZhY2V0KGluZGVudFVuaXQpLmNoYXJDb2RlQXQoMCkgPT0gOSlcbiAgICAgICAgd2hpbGUgKGNvbHMgPj0gdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcdFwiO1xuICAgICAgICAgICAgY29scyAtPSB0cztcbiAgICAgICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sczsgaSsrKVxuICAgICAgICByZXN1bHQgKz0gXCIgXCI7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuR2V0IHRoZSBpbmRlbnRhdGlvbiwgYXMgYSBjb2x1bW4gbnVtYmVyLCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG5XaWxsIGZpcnN0IGNvbnN1bHQgYW55IFtpbmRlbnQgc2VydmljZXNdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50U2VydmljZSlcbnRoYXQgYXJlIHJlZ2lzdGVyZWQsIGFuZCBpZiBub25lIG9mIHRob3NlIHJldHVybiBhbiBpbmRlbnRhdGlvbixcbnRoaXMgd2lsbCBjaGVjayB0aGUgc3ludGF4IHRyZWUgZm9yIHRoZSBbaW5kZW50IG5vZGVcbnByb3BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50Tm9kZVByb3ApIGFuZCB1c2UgdGhhdCBpZiBmb3VuZC4gUmV0dXJucyBhXG5udW1iZXIgd2hlbiBhbiBpbmRlbnRhdGlvbiBjb3VsZCBiZSBkZXRlcm1pbmVkLCBhbmQgbnVsbFxub3RoZXJ3aXNlLlxuKi9cbmZ1bmN0aW9uIGdldEluZGVudGF0aW9uKGNvbnRleHQsIHBvcykge1xuICAgIGlmIChjb250ZXh0IGluc3RhbmNlb2YgRWRpdG9yU3RhdGUpXG4gICAgICAgIGNvbnRleHQgPSBuZXcgSW5kZW50Q29udGV4dChjb250ZXh0KTtcbiAgICBmb3IgKGxldCBzZXJ2aWNlIG9mIGNvbnRleHQuc3RhdGUuZmFjZXQoaW5kZW50U2VydmljZSkpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHNlcnZpY2UoY29udGV4dCwgcG9zKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpO1xuICAgIHJldHVybiB0cmVlID8gc3ludGF4SW5kZW50YXRpb24oY29udGV4dCwgdHJlZSwgcG9zKSA6IG51bGw7XG59XG4vKipcbkNyZWF0ZSBhIGNoYW5nZSBzZXQgdGhhdCBhdXRvLWluZGVudHMgYWxsIGxpbmVzIHRvdWNoZWQgYnkgdGhlXG5naXZlbiBkb2N1bWVudCByYW5nZS5cbiovXG5mdW5jdGlvbiBpbmRlbnRSYW5nZShzdGF0ZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgdXBkYXRlZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGV0IGNvbnRleHQgPSBuZXcgSW5kZW50Q29udGV4dChzdGF0ZSwgeyBvdmVycmlkZUluZGVudGF0aW9uOiBzdGFydCA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHVwZGF0ZWRbc3RhcnRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAtMTsgfSB9KTtcbiAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IGZyb207IHBvcyA8PSB0bzspIHtcbiAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIHBvcyA9IGxpbmUudG8gKyAxO1xuICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oY29udGV4dCwgbGluZS5mcm9tKTtcbiAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmICghL1xcUy8udGVzdChsaW5lLnRleHQpKVxuICAgICAgICAgICAgaW5kZW50ID0gMDtcbiAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgaWYgKGN1ciAhPSBub3JtKSB7XG4gICAgICAgICAgICB1cGRhdGVkW2xpbmUuZnJvbV0gPSBpbmRlbnQ7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZXMoY2hhbmdlcyk7XG59XG4vKipcbkluZGVudGF0aW9uIGNvbnRleHRzIGFyZSB1c2VkIHdoZW4gY2FsbGluZyBbaW5kZW50YXRpb25cbnNlcnZpY2VzXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFNlcnZpY2UpLiBUaGV5IHByb3ZpZGUgaGVscGVyIHV0aWxpdGllc1xudXNlZnVsIGluIGluZGVudGF0aW9uIGxvZ2ljLCBhbmQgY2FuIHNlbGVjdGl2ZWx5IG92ZXJyaWRlIHRoZVxuaW5kZW50YXRpb24gcmVwb3J0ZWQgZm9yIHNvbWUgbGluZXMuXG4qL1xuY2xhc3MgSW5kZW50Q29udGV4dCB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGFuIGluZGVudCBjb250ZXh0LlxuICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgVGhlIGVkaXRvciBzdGF0ZS5cbiAgICAqL1xuICAgIHN0YXRlLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMudW5pdCA9IGdldEluZGVudFVuaXQoc3RhdGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgYSBkZXNjcmlwdGlvbiBvZiB0aGUgbGluZSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24sIHRha2luZ1xuICAgIFtzaW11bGF0ZWQgbGluZVxuICAgIGJyZWFrc10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5JbmRlbnRDb250ZXh0LmNvbnN0cnVjdG9yXm9wdGlvbnMuc2ltdWxhdGVCcmVhaylcbiAgICBpbnRvIGFjY291bnQuIElmIHRoZXJlIGlzIHN1Y2ggYSBicmVhayBhdCBgcG9zYCwgdGhlIGBiaWFzYFxuICAgIGFyZ3VtZW50IGRldGVybWluZXMgd2hldGhlciB0aGUgcGFydCBvZiB0aGUgbGluZSBsaW5lIGJlZm9yZSBvclxuICAgIGFmdGVyIHRoZSBicmVhayBpcyB1c2VkLlxuICAgICovXG4gICAgbGluZUF0KHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgbGV0IGxpbmUgPSB0aGlzLnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgbGV0IHsgc2ltdWxhdGVCcmVhaywgc2ltdWxhdGVEb3VibGVCcmVhayB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoc2ltdWxhdGVCcmVhayAhPSBudWxsICYmIHNpbXVsYXRlQnJlYWsgPj0gbGluZS5mcm9tICYmIHNpbXVsYXRlQnJlYWsgPD0gbGluZS50bykge1xuICAgICAgICAgICAgaWYgKHNpbXVsYXRlRG91YmxlQnJlYWsgJiYgc2ltdWxhdGVCcmVhayA9PSBwb3MpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogXCJcIiwgZnJvbTogcG9zIH07XG4gICAgICAgICAgICBlbHNlIGlmIChiaWFzIDwgMCA/IHNpbXVsYXRlQnJlYWsgPCBwb3MgOiBzaW11bGF0ZUJyZWFrIDw9IHBvcylcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBsaW5lLnRleHQuc2xpY2Uoc2ltdWxhdGVCcmVhayAtIGxpbmUuZnJvbSksIGZyb206IHNpbXVsYXRlQnJlYWsgfTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0ZXh0OiBsaW5lLnRleHQuc2xpY2UoMCwgc2ltdWxhdGVCcmVhayAtIGxpbmUuZnJvbSksIGZyb206IGxpbmUuZnJvbSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIHRleHQgZGlyZWN0bHkgYWZ0ZXIgYHBvc2AsIGVpdGhlciB0aGUgZW50aXJlIGxpbmVcbiAgICBvciB0aGUgbmV4dCAxMDAgY2hhcmFjdGVycywgd2hpY2hldmVyIGlzIHNob3J0ZXIuXG4gICAgKi9cbiAgICB0ZXh0QWZ0ZXJQb3MocG9zLCBiaWFzID0gMSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpbXVsYXRlRG91YmxlQnJlYWsgJiYgcG9zID09IHRoaXMub3B0aW9ucy5zaW11bGF0ZUJyZWFrKVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIHJldHVybiB0ZXh0LnNsaWNlKHBvcyAtIGZyb20sIE1hdGgubWluKHRleHQubGVuZ3RoLCBwb3MgKyAxMDAgLSBmcm9tKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIGNvbHVtbiBmb3IgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICovXG4gICAgY29sdW1uKHBvcywgYmlhcyA9IDEpIHtcbiAgICAgICAgbGV0IHsgdGV4dCwgZnJvbSB9ID0gdGhpcy5saW5lQXQocG9zLCBiaWFzKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY291bnRDb2x1bW4odGV4dCwgcG9zIC0gZnJvbSk7XG4gICAgICAgIGxldCBvdmVycmlkZSA9IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uID8gdGhpcy5vcHRpb25zLm92ZXJyaWRlSW5kZW50YXRpb24oZnJvbSkgOiAtMTtcbiAgICAgICAgaWYgKG92ZXJyaWRlID4gLTEpXG4gICAgICAgICAgICByZXN1bHQgKz0gb3ZlcnJpZGUgLSB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHRleHQuc2VhcmNoKC9cXFN8JC8pKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgY29sdW1uIHBvc2l0aW9uICh0YWtpbmcgdGFicyBpbnRvIGFjY291bnQpIG9mIHRoZSBnaXZlblxuICAgIHBvc2l0aW9uIGluIHRoZSBnaXZlbiBzdHJpbmcuXG4gICAgKi9cbiAgICBjb3VudENvbHVtbihsaW5lLCBwb3MgPSBsaW5lLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY291bnRDb2x1bW4obGluZSwgdGhpcy5zdGF0ZS50YWJTaXplLCBwb3MpO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBpbmRlbnRhdGlvbiBjb2x1bW4gb2YgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHBvaW50LlxuICAgICovXG4gICAgbGluZUluZGVudChwb3MsIGJpYXMgPSAxKSB7XG4gICAgICAgIGxldCB7IHRleHQsIGZyb20gfSA9IHRoaXMubGluZUF0KHBvcywgYmlhcyk7XG4gICAgICAgIGxldCBvdmVycmlkZSA9IHRoaXMub3B0aW9ucy5vdmVycmlkZUluZGVudGF0aW9uO1xuICAgICAgICBpZiAob3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGxldCBvdmVycmlkZW4gPSBvdmVycmlkZShmcm9tKTtcbiAgICAgICAgICAgIGlmIChvdmVycmlkZW4gPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50Q29sdW1uKHRleHQsIHRleHQuc2VhcmNoKC9cXFN8JC8pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgW3NpbXVsYXRlZCBsaW5lXG4gICAgYnJlYWtdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuSW5kZW50Q29udGV4dC5jb25zdHJ1Y3Rvcl5vcHRpb25zLnNpbXVsYXRlQnJlYWspXG4gICAgZm9yIHRoaXMgY29udGV4dCwgaWYgYW55LlxuICAgICovXG4gICAgZ2V0IHNpbXVsYXRlZEJyZWFrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnNpbXVsYXRlQnJlYWsgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbkEgc3ludGF4IHRyZWUgbm9kZSBwcm9wIHVzZWQgdG8gYXNzb2NpYXRlIGluZGVudGF0aW9uIHN0cmF0ZWdpZXNcbndpdGggbm9kZSB0eXBlcy4gU3VjaCBhIHN0cmF0ZWd5IGlzIGEgZnVuY3Rpb24gZnJvbSBhbiBpbmRlbnRhdGlvblxuY29udGV4dCB0byBhIGNvbHVtbiBudW1iZXIgKHNlZSBhbHNvXG5bYGluZGVudFN0cmluZ2BdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50U3RyaW5nKSkgb3IgbnVsbCwgd2hlcmUgbnVsbFxuaW5kaWNhdGVzIHRoYXQgbm8gZGVmaW5pdGl2ZSBpbmRlbnRhdGlvbiBjYW4gYmUgZGV0ZXJtaW5lZC5cbiovXG5jb25zdCBpbmRlbnROb2RlUHJvcCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVByb3AoKTtcbi8vIENvbXB1dGUgdGhlIGluZGVudGF0aW9uIGZvciBhIGdpdmVuIHBvc2l0aW9uIGZyb20gdGhlIHN5bnRheCB0cmVlLlxuZnVuY3Rpb24gc3ludGF4SW5kZW50YXRpb24oY3gsIGFzdCwgcG9zKSB7XG4gICAgcmV0dXJuIGluZGVudEZyb20oYXN0LnJlc29sdmVJbm5lcihwb3MpLmVudGVyVW5maW5pc2hlZE5vZGVzQmVmb3JlKHBvcyksIHBvcywgY3gpO1xufVxuZnVuY3Rpb24gaWdub3JlQ2xvc2VkKGN4KSB7XG4gICAgcmV0dXJuIGN4LnBvcyA9PSBjeC5vcHRpb25zLnNpbXVsYXRlQnJlYWsgJiYgY3gub3B0aW9ucy5zaW11bGF0ZURvdWJsZUJyZWFrO1xufVxuZnVuY3Rpb24gaW5kZW50U3RyYXRlZ3kodHJlZSkge1xuICAgIGxldCBzdHJhdGVneSA9IHRyZWUudHlwZS5wcm9wKGluZGVudE5vZGVQcm9wKTtcbiAgICBpZiAoc3RyYXRlZ3kpXG4gICAgICAgIHJldHVybiBzdHJhdGVneTtcbiAgICBsZXQgZmlyc3QgPSB0cmVlLmZpcnN0Q2hpbGQsIGNsb3NlO1xuICAgIGlmIChmaXJzdCAmJiAoY2xvc2UgPSBmaXJzdC50eXBlLnByb3AoTm9kZVByb3AuY2xvc2VkQnkpKSkge1xuICAgICAgICBsZXQgbGFzdCA9IHRyZWUubGFzdENoaWxkLCBjbG9zZWQgPSBsYXN0ICYmIGNsb3NlLmluZGV4T2YobGFzdC5uYW1lKSA+IC0xO1xuICAgICAgICByZXR1cm4gY3ggPT4gZGVsaW1pdGVkU3RyYXRlZ3koY3gsIHRydWUsIDEsIHVuZGVmaW5lZCwgY2xvc2VkICYmICFpZ25vcmVDbG9zZWQoY3gpID8gbGFzdC5mcm9tIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyZWUucGFyZW50ID09IG51bGwgPyB0b3BJbmRlbnQgOiBudWxsO1xufVxuZnVuY3Rpb24gaW5kZW50RnJvbShub2RlLCBwb3MsIGJhc2UpIHtcbiAgICBmb3IgKDsgbm9kZTsgbm9kZSA9IG5vZGUucGFyZW50KSB7XG4gICAgICAgIGxldCBzdHJhdGVneSA9IGluZGVudFN0cmF0ZWd5KG5vZGUpO1xuICAgICAgICBpZiAoc3RyYXRlZ3kpXG4gICAgICAgICAgICByZXR1cm4gc3RyYXRlZ3koVHJlZUluZGVudENvbnRleHQuY3JlYXRlKGJhc2UsIHBvcywgbm9kZSkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHRvcEluZGVudCgpIHsgcmV0dXJuIDA7IH1cbi8qKlxuT2JqZWN0cyBvZiB0aGlzIHR5cGUgcHJvdmlkZSBjb250ZXh0IGluZm9ybWF0aW9uIGFuZCBoZWxwZXJcbm1ldGhvZHMgdG8gaW5kZW50YXRpb24gZnVuY3Rpb25zIHJlZ2lzdGVyZWQgb24gc3ludGF4IG5vZGVzLlxuKi9cbmNsYXNzIFRyZWVJbmRlbnRDb250ZXh0IGV4dGVuZHMgSW5kZW50Q29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoYmFzZSwgXG4gICAgLyoqXG4gICAgVGhlIHBvc2l0aW9uIGF0IHdoaWNoIGluZGVudGF0aW9uIGlzIGJlaW5nIGNvbXB1dGVkLlxuICAgICovXG4gICAgcG9zLCBcbiAgICAvKipcbiAgICBUaGUgc3ludGF4IHRyZWUgbm9kZSB0byB3aGljaCB0aGUgaW5kZW50YXRpb24gc3RyYXRlZ3lcbiAgICBhcHBsaWVzLlxuICAgICovXG4gICAgbm9kZSkge1xuICAgICAgICBzdXBlcihiYXNlLnN0YXRlLCBiYXNlLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhc2UgPSBiYXNlO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGJhc2UsIHBvcywgbm9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRyZWVJbmRlbnRDb250ZXh0KGJhc2UsIHBvcywgbm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgdGV4dCBkaXJlY3RseSBhZnRlciBgdGhpcy5wb3NgLCBlaXRoZXIgdGhlIGVudGlyZSBsaW5lXG4gICAgb3IgdGhlIG5leHQgMTAwIGNoYXJhY3RlcnMsIHdoaWNoZXZlciBpcyBzaG9ydGVyLlxuICAgICovXG4gICAgZ2V0IHRleHRBZnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEFmdGVyUG9zKHRoaXMucG9zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBpbmRlbnRhdGlvbiBhdCB0aGUgcmVmZXJlbmNlIGxpbmUgZm9yIGB0aGlzLm5vZGVgLCB3aGljaFxuICAgIGlzIHRoZSBsaW5lIG9uIHdoaWNoIGl0IHN0YXJ0cywgdW5sZXNzIHRoZXJlIGlzIGEgbm9kZSB0aGF0IGlzXG4gICAgX25vdF8gYSBwYXJlbnQgb2YgdGhpcyBub2RlIGNvdmVyaW5nIHRoZSBzdGFydCBvZiB0aGF0IGxpbmUuIElmXG4gICAgc28sIHRoZSBsaW5lIGF0IHRoZSBzdGFydCBvZiB0aGF0IG5vZGUgaXMgdHJpZWQsIGFnYWluIHNraXBwaW5nXG4gICAgb24gaWYgaXQgaXMgY292ZXJlZCBieSBhbm90aGVyIHN1Y2ggbm9kZS5cbiAgICAqL1xuICAgIGdldCBiYXNlSW5kZW50KCkge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdCh0aGlzLm5vZGUuZnJvbSk7XG4gICAgICAgIC8vIFNraXAgbGluZSBzdGFydHMgdGhhdCBhcmUgY292ZXJlZCBieSBhIHNpYmxpbmcgKG9yIGNvdXNpbiwgZXRjKVxuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgYXRCcmVhayA9IHRoaXMubm9kZS5yZXNvbHZlKGxpbmUuZnJvbSk7XG4gICAgICAgICAgICB3aGlsZSAoYXRCcmVhay5wYXJlbnQgJiYgYXRCcmVhay5wYXJlbnQuZnJvbSA9PSBhdEJyZWFrLmZyb20pXG4gICAgICAgICAgICAgICAgYXRCcmVhayA9IGF0QnJlYWsucGFyZW50O1xuICAgICAgICAgICAgaWYgKGlzUGFyZW50KGF0QnJlYWssIHRoaXMubm9kZSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsaW5lID0gdGhpcy5zdGF0ZS5kb2MubGluZUF0KGF0QnJlYWsuZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGluZUluZGVudChsaW5lLmZyb20pO1xuICAgIH1cbiAgICAvKipcbiAgICBDb250aW51ZSBsb29raW5nIGZvciBpbmRlbnRhdGlvbnMgaW4gdGhlIG5vZGUncyBwYXJlbnQgbm9kZXMsXG4gICAgYW5kIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoYXQuXG4gICAgKi9cbiAgICBjb250aW51ZSgpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMubm9kZS5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBwYXJlbnQgPyBpbmRlbnRGcm9tKHBhcmVudCwgdGhpcy5wb3MsIHRoaXMuYmFzZSkgOiAwO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUGFyZW50KHBhcmVudCwgb2YpIHtcbiAgICBmb3IgKGxldCBjdXIgPSBvZjsgY3VyOyBjdXIgPSBjdXIucGFyZW50KVxuICAgICAgICBpZiAocGFyZW50ID09IGN1cilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIENoZWNrIHdoZXRoZXIgYSBkZWxpbWl0ZWQgbm9kZSBpcyBhbGlnbmVkIChtZWFuaW5nIHRoZXJlIGFyZVxuLy8gbm9uLXNraXBwZWQgbm9kZXMgb24gdGhlIHNhbWUgbGluZSBhcyB0aGUgb3BlbmluZyBkZWxpbWl0ZXIpLiBBbmRcbi8vIGlmIHNvLCByZXR1cm4gdGhlIG9wZW5pbmcgdG9rZW4uXG5mdW5jdGlvbiBicmFja2V0ZWRBbGlnbmVkKGNvbnRleHQpIHtcbiAgICBsZXQgdHJlZSA9IGNvbnRleHQubm9kZTtcbiAgICBsZXQgb3BlblRva2VuID0gdHJlZS5jaGlsZEFmdGVyKHRyZWUuZnJvbSksIGxhc3QgPSB0cmVlLmxhc3RDaGlsZDtcbiAgICBpZiAoIW9wZW5Ub2tlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IHNpbSA9IGNvbnRleHQub3B0aW9ucy5zaW11bGF0ZUJyZWFrO1xuICAgIGxldCBvcGVuTGluZSA9IGNvbnRleHQuc3RhdGUuZG9jLmxpbmVBdChvcGVuVG9rZW4uZnJvbSk7XG4gICAgbGV0IGxpbmVFbmQgPSBzaW0gPT0gbnVsbCB8fCBzaW0gPD0gb3BlbkxpbmUuZnJvbSA/IG9wZW5MaW5lLnRvIDogTWF0aC5taW4ob3BlbkxpbmUudG8sIHNpbSk7XG4gICAgZm9yIChsZXQgcG9zID0gb3BlblRva2VuLnRvOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSB0cmVlLmNoaWxkQWZ0ZXIocG9zKTtcbiAgICAgICAgaWYgKCFuZXh0IHx8IG5leHQgPT0gbGFzdClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIW5leHQudHlwZS5pc1NraXBwZWQpXG4gICAgICAgICAgICByZXR1cm4gbmV4dC5mcm9tIDwgbGluZUVuZCA/IG9wZW5Ub2tlbiA6IG51bGw7XG4gICAgICAgIHBvcyA9IG5leHQudG87XG4gICAgfVxufVxuLyoqXG5BbiBpbmRlbnRhdGlvbiBzdHJhdGVneSBmb3IgZGVsaW1pdGVkICh1c3VhbGx5IGJyYWNrZXRlZCkgbm9kZXMuXG5XaWxsLCBieSBkZWZhdWx0LCBpbmRlbnQgb25lIHVuaXQgbW9yZSB0aGFuIHRoZSBwYXJlbnQncyBiYXNlXG5pbmRlbnQgdW5sZXNzIHRoZSBsaW5lIHN0YXJ0cyB3aXRoIGEgY2xvc2luZyB0b2tlbi4gV2hlbiBgYWxpZ25gXG5pcyB0cnVlIGFuZCB0aGVyZSBhcmUgbm9uLXNraXBwZWQgbm9kZXMgb24gdGhlIG5vZGUncyBvcGVuaW5nXG5saW5lLCB0aGUgY29udGVudCBvZiB0aGUgbm9kZSB3aWxsIGJlIGFsaWduZWQgd2l0aCB0aGUgZW5kIG9mIHRoZVxub3BlbmluZyBub2RlLCBsaWtlIHRoaXM6XG5cbiAgICBmb28oYmFyLFxuICAgICAgICBiYXopXG4qL1xuZnVuY3Rpb24gZGVsaW1pdGVkSW5kZW50KHsgY2xvc2luZywgYWxpZ24gPSB0cnVlLCB1bml0cyA9IDEgfSkge1xuICAgIHJldHVybiAoY29udGV4dCkgPT4gZGVsaW1pdGVkU3RyYXRlZ3koY29udGV4dCwgYWxpZ24sIHVuaXRzLCBjbG9zaW5nKTtcbn1cbmZ1bmN0aW9uIGRlbGltaXRlZFN0cmF0ZWd5KGNvbnRleHQsIGFsaWduLCB1bml0cywgY2xvc2luZywgY2xvc2VkQXQpIHtcbiAgICBsZXQgYWZ0ZXIgPSBjb250ZXh0LnRleHRBZnRlciwgc3BhY2UgPSBhZnRlci5tYXRjaCgvXlxccyovKVswXS5sZW5ndGg7XG4gICAgbGV0IGNsb3NlZCA9IGNsb3NpbmcgJiYgYWZ0ZXIuc2xpY2Uoc3BhY2UsIHNwYWNlICsgY2xvc2luZy5sZW5ndGgpID09IGNsb3NpbmcgfHwgY2xvc2VkQXQgPT0gY29udGV4dC5wb3MgKyBzcGFjZTtcbiAgICBsZXQgYWxpZ25lZCA9IGFsaWduID8gYnJhY2tldGVkQWxpZ25lZChjb250ZXh0KSA6IG51bGw7XG4gICAgaWYgKGFsaWduZWQpXG4gICAgICAgIHJldHVybiBjbG9zZWQgPyBjb250ZXh0LmNvbHVtbihhbGlnbmVkLmZyb20pIDogY29udGV4dC5jb2x1bW4oYWxpZ25lZC50byk7XG4gICAgcmV0dXJuIGNvbnRleHQuYmFzZUluZGVudCArIChjbG9zZWQgPyAwIDogY29udGV4dC51bml0ICogdW5pdHMpO1xufVxuLyoqXG5BbiBpbmRlbnRhdGlvbiBzdHJhdGVneSB0aGF0IGFsaWducyBhIG5vZGUncyBjb250ZW50IHRvIGl0cyBiYXNlXG5pbmRlbnRhdGlvbi5cbiovXG5jb25zdCBmbGF0SW5kZW50ID0gKGNvbnRleHQpID0+IGNvbnRleHQuYmFzZUluZGVudDtcbi8qKlxuQ3JlYXRlcyBhbiBpbmRlbnRhdGlvbiBzdHJhdGVneSB0aGF0LCBieSBkZWZhdWx0LCBpbmRlbnRzXG5jb250aW51ZWQgbGluZXMgb25lIHVuaXQgbW9yZSB0aGFuIHRoZSBub2RlJ3MgYmFzZSBpbmRlbnRhdGlvbi5cbllvdSBjYW4gcHJvdmlkZSBgZXhjZXB0YCB0byBwcmV2ZW50IGluZGVudGF0aW9uIG9mIGxpbmVzIHRoYXRcbm1hdGNoIGEgcGF0dGVybiAoZm9yIGV4YW1wbGUgYC9eZWxzZVxcYi9gIGluIGBpZmAvYGVsc2VgXG5jb25zdHJ1Y3RzKSwgYW5kIHlvdSBjYW4gY2hhbmdlIHRoZSBhbW91bnQgb2YgdW5pdHMgdXNlZCB3aXRoIHRoZVxuYHVuaXRzYCBvcHRpb24uXG4qL1xuZnVuY3Rpb24gY29udGludWVkSW5kZW50KHsgZXhjZXB0LCB1bml0cyA9IDEgfSA9IHt9KSB7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGxldCBtYXRjaEV4Y2VwdCA9IGV4Y2VwdCAmJiBleGNlcHQudGVzdChjb250ZXh0LnRleHRBZnRlcik7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmJhc2VJbmRlbnQgKyAobWF0Y2hFeGNlcHQgPyAwIDogdW5pdHMgKiBjb250ZXh0LnVuaXQpO1xuICAgIH07XG59XG5jb25zdCBEb250SW5kZW50QmV5b25kID0gMjAwO1xuLyoqXG5FbmFibGVzIHJlaW5kZW50YXRpb24gb24gaW5wdXQuIFdoZW4gYSBsYW5ndWFnZSBkZWZpbmVzIGFuXG5gaW5kZW50T25JbnB1dGAgZmllbGQgaW4gaXRzIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCksIHdoaWNoIG11c3QgaG9sZCBhIHJlZ3VsYXJcbmV4cHJlc3Npb24sIHRoZSBsaW5lIGF0IHRoZSBjdXJzb3Igd2lsbCBiZSByZWluZGVudGVkIHdoZW5ldmVyIG5ld1xudGV4dCBpcyB0eXBlZCBhbmQgdGhlIGlucHV0IGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBsaW5lIHVwIHRvIHRoZVxuY3Vyc29yIG1hdGNoZXMgdGhhdCByZWdleHAuXG5cblRvIGF2b2lkIHVubmVjY2VzYXJ5IHJlaW5kZW50cywgaXQgaXMgcmVjb21tZW5kZWQgdG8gc3RhcnQgdGhlXG5yZWdleHAgd2l0aCBgXmAgKHVzdWFsbHkgZm9sbG93ZWQgYnkgYFxccypgKSwgYW5kIGVuZCBpdCB3aXRoIGAkYC5cbkZvciBleGFtcGxlLCBgL15cXHMqXFx9JC9gIHdpbGwgcmVpbmRlbnQgd2hlbiBhIGNsb3NpbmcgYnJhY2UgaXNcbmFkZGVkIGF0IHRoZSBzdGFydCBvZiBhIGxpbmUuXG4qL1xuZnVuY3Rpb24gaW5kZW50T25JbnB1dCgpIHtcbiAgICByZXR1cm4gRWRpdG9yU3RhdGUudHJhbnNhY3Rpb25GaWx0ZXIub2YodHIgPT4ge1xuICAgICAgICBpZiAoIXRyLmRvY0NoYW5nZWQgfHwgIXRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKSAmJiAhdHIuaXNVc2VyRXZlbnQoXCJpbnB1dC5jb21wbGV0ZVwiKSlcbiAgICAgICAgICAgIHJldHVybiB0cjtcbiAgICAgICAgbGV0IHJ1bGVzID0gdHIuc3RhcnRTdGF0ZS5sYW5ndWFnZURhdGFBdChcImluZGVudE9uSW5wdXRcIiwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICAgICAgaWYgKCFydWxlcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCBkb2MgPSB0ci5uZXdEb2MsIHsgaGVhZCB9ID0gdHIubmV3U2VsZWN0aW9uLm1haW4sIGxpbmUgPSBkb2MubGluZUF0KGhlYWQpO1xuICAgICAgICBpZiAoaGVhZCA+IGxpbmUuZnJvbSArIERvbnRJbmRlbnRCZXlvbmQpXG4gICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgIGxldCBsaW5lU3RhcnQgPSBkb2Muc2xpY2VTdHJpbmcobGluZS5mcm9tLCBoZWFkKTtcbiAgICAgICAgaWYgKCFydWxlcy5zb21lKHIgPT4gci50ZXN0KGxpbmVTdGFydCkpKVxuICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdHIsIGxhc3QgPSAtMSwgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGhlYWQgfSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoaGVhZCk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID09IGxhc3QpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsYXN0ID0gbGluZS5mcm9tO1xuICAgICAgICAgICAgbGV0IGluZGVudCA9IGdldEluZGVudGF0aW9uKHN0YXRlLCBsaW5lLmZyb20pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICAgICAgbGV0IG5vcm0gPSBpbmRlbnRTdHJpbmcoc3RhdGUsIGluZGVudCk7XG4gICAgICAgICAgICBpZiAoY3VyICE9IG5vcm0pXG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tLCB0bzogbGluZS5mcm9tICsgY3VyLmxlbmd0aCwgaW5zZXJ0OiBub3JtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmxlbmd0aCA/IFt0ciwgeyBjaGFuZ2VzLCBzZXF1ZW50aWFsOiB0cnVlIH1dIDogdHI7XG4gICAgfSk7XG59XG5cbi8qKlxuQSBmYWNldCB0aGF0IHJlZ2lzdGVycyBhIGNvZGUgZm9sZGluZyBzZXJ2aWNlLiBXaGVuIGNhbGxlZCB3aXRoXG50aGUgZXh0ZW50IG9mIGEgbGluZSwgc3VjaCBhIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYSBmb2xkYWJsZVxucmFuZ2UgdGhhdCBzdGFydHMgb24gdGhhdCBsaW5lIChidXQgY29udGludWVzIGJleW9uZCBpdCksIGlmIG9uZVxuY2FuIGJlIGZvdW5kLlxuKi9cbmNvbnN0IGZvbGRTZXJ2aWNlID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuLyoqXG5UaGlzIG5vZGUgcHJvcCBpcyB1c2VkIHRvIGFzc29jaWF0ZSBmb2xkaW5nIGluZm9ybWF0aW9uIHdpdGhcbnN5bnRheCBub2RlIHR5cGVzLiBHaXZlbiBhIHN5bnRheCBub2RlLCBpdCBzaG91bGQgY2hlY2sgd2hldGhlclxudGhhdCB0cmVlIGlzIGZvbGRhYmxlIGFuZCByZXR1cm4gdGhlIHJhbmdlIHRoYXQgY2FuIGJlIGNvbGxhcHNlZFxud2hlbiBpdCBpcy5cbiovXG5jb25zdCBmb2xkTm9kZVByb3AgPSAvKkBfX1BVUkVfXyovbmV3IE5vZGVQcm9wKCk7XG4vKipcbltGb2xkXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGROb2RlUHJvcCkgZnVuY3Rpb24gdGhhdCBmb2xkcyBldmVyeXRoaW5nIGJ1dFxudGhlIGZpcnN0IGFuZCB0aGUgbGFzdCBjaGlsZCBvZiBhIHN5bnRheCBub2RlLiBVc2VmdWwgZm9yIG5vZGVzXG50aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCBkZWxpbWl0ZXJzLlxuKi9cbmZ1bmN0aW9uIGZvbGRJbnNpZGUobm9kZSkge1xuICAgIGxldCBmaXJzdCA9IG5vZGUuZmlyc3RDaGlsZCwgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgIHJldHVybiBmaXJzdCAmJiBmaXJzdC50byA8IGxhc3QuZnJvbSA/IHsgZnJvbTogZmlyc3QudG8sIHRvOiBsYXN0LnR5cGUuaXNFcnJvciA/IG5vZGUudG8gOiBsYXN0LmZyb20gfSA6IG51bGw7XG59XG5mdW5jdGlvbiBzeW50YXhGb2xkaW5nKHN0YXRlLCBzdGFydCwgZW5kKSB7XG4gICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKHN0YXRlKTtcbiAgICBpZiAodHJlZS5sZW5ndGggPCBlbmQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBpbm5lciA9IHRyZWUucmVzb2x2ZUlubmVyKGVuZCwgMSk7XG4gICAgbGV0IGZvdW5kID0gbnVsbDtcbiAgICBmb3IgKGxldCBjdXIgPSBpbm5lcjsgY3VyOyBjdXIgPSBjdXIucGFyZW50KSB7XG4gICAgICAgIGlmIChjdXIudG8gPD0gZW5kIHx8IGN1ci5mcm9tID4gZW5kKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChmb3VuZCAmJiBjdXIuZnJvbSA8IHN0YXJ0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGxldCBwcm9wID0gY3VyLnR5cGUucHJvcChmb2xkTm9kZVByb3ApO1xuICAgICAgICBpZiAocHJvcCAmJiAoY3VyLnRvIDwgdHJlZS5sZW5ndGggLSA1MCB8fCB0cmVlLmxlbmd0aCA9PSBzdGF0ZS5kb2MubGVuZ3RoIHx8ICFpc1VuZmluaXNoZWQoY3VyKSkpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHByb3AoY3VyLCBzdGF0ZSk7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuZnJvbSA8PSBlbmQgJiYgdmFsdWUuZnJvbSA+PSBzdGFydCAmJiB2YWx1ZS50byA+IGVuZClcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3VuZDtcbn1cbmZ1bmN0aW9uIGlzVW5maW5pc2hlZChub2RlKSB7XG4gICAgbGV0IGNoID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgcmV0dXJuIGNoICYmIGNoLnRvID09IG5vZGUudG8gJiYgY2gudHlwZS5pc0Vycm9yO1xufVxuLyoqXG5DaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBsaW5lIGlzIGZvbGRhYmxlLiBGaXJzdCBhc2tzIGFueSBmb2xkXG5zZXJ2aWNlcyByZWdpc3RlcmVkIHRocm91Z2hcbltgZm9sZFNlcnZpY2VgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRTZXJ2aWNlKSwgYW5kIGlmIG5vbmUgb2YgdGhlbSByZXR1cm5cbmEgcmVzdWx0LCB0cmllcyB0byBxdWVyeSB0aGUgW2ZvbGQgbm9kZVxucHJvcF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS5mb2xkTm9kZVByb3ApIG9mIHN5bnRheCBub2RlcyB0aGF0IGNvdmVyIHRoZSBlbmRcbm9mIHRoZSBsaW5lLlxuKi9cbmZ1bmN0aW9uIGZvbGRhYmxlKHN0YXRlLCBsaW5lU3RhcnQsIGxpbmVFbmQpIHtcbiAgICBmb3IgKGxldCBzZXJ2aWNlIG9mIHN0YXRlLmZhY2V0KGZvbGRTZXJ2aWNlKSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc2VydmljZShzdGF0ZSwgbGluZVN0YXJ0LCBsaW5lRW5kKTtcbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBzeW50YXhGb2xkaW5nKHN0YXRlLCBsaW5lU3RhcnQsIGxpbmVFbmQpO1xufVxuZnVuY3Rpb24gbWFwUmFuZ2UocmFuZ2UsIG1hcHBpbmcpIHtcbiAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUG9zKHJhbmdlLmZyb20sIDEpLCB0byA9IG1hcHBpbmcubWFwUG9zKHJhbmdlLnRvLCAtMSk7XG4gICAgcmV0dXJuIGZyb20gPj0gdG8gPyB1bmRlZmluZWQgOiB7IGZyb20sIHRvIH07XG59XG4vKipcblN0YXRlIGVmZmVjdCB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhIHRyYW5zYWN0aW9uIHRvIGZvbGQgdGhlXG5naXZlbiByYW5nZS4gKFlvdSBwcm9iYWJseSBvbmx5IG5lZWQgdGhpcyBpbiBleGNlcHRpb25hbFxuY2lyY3Vtc3RhbmNlc1x1MjAxNHVzdWFsbHkgeW91J2xsIGp1c3Qgd2FudCB0byBsZXRcbltgZm9sZENvZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRDb2RlKSBhbmQgdGhlIFtmb2xkXG5ndXR0ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZEd1dHRlcikgY3JlYXRlIHRoZSB0cmFuc2FjdGlvbnMuKVxuKi9cbmNvbnN0IGZvbGRFZmZlY3QgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHsgbWFwOiBtYXBSYW5nZSB9KTtcbi8qKlxuU3RhdGUgZWZmZWN0IHRoYXQgdW5mb2xkcyB0aGUgZ2l2ZW4gcmFuZ2UgKGlmIGl0IHdhcyBmb2xkZWQpLlxuKi9cbmNvbnN0IHVuZm9sZEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoeyBtYXA6IG1hcFJhbmdlIH0pO1xuZnVuY3Rpb24gc2VsZWN0ZWRMaW5lcyh2aWV3KSB7XG4gICAgbGV0IGxpbmVzID0gW107XG4gICAgZm9yIChsZXQgeyBoZWFkIH0gb2Ygdmlldy5zdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgIGlmIChsaW5lcy5zb21lKGwgPT4gbC5mcm9tIDw9IGhlYWQgJiYgbC50byA+PSBoZWFkKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsaW5lcy5wdXNoKHZpZXcubGluZUJsb2NrQXQoaGVhZCkpO1xuICAgIH1cbiAgICByZXR1cm4gbGluZXM7XG59XG4vKipcblRoZSBzdGF0ZSBmaWVsZCB0aGF0IHN0b3JlcyB0aGUgZm9sZGVkIHJhbmdlcyAoYXMgYSBbZGVjb3JhdGlvblxuc2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3ZpZXcuRGVjb3JhdGlvblNldCkpLiBDYW4gYmUgcGFzc2VkIHRvXG5bYEVkaXRvclN0YXRlLnRvSlNPTmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUudG9KU09OKSBhbmRcbltgZnJvbUpTT05gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlXmZyb21KU09OKSB0byBzZXJpYWxpemUgdGhlIGZvbGRcbnN0YXRlLlxuKi9cbmNvbnN0IGZvbGRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5ub25lO1xuICAgIH0sXG4gICAgdXBkYXRlKGZvbGRlZCwgdHIpIHtcbiAgICAgICAgZm9sZGVkID0gZm9sZGVkLm1hcCh0ci5jaGFuZ2VzKTtcbiAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZS5pcyhmb2xkRWZmZWN0KSAmJiAhZm9sZEV4aXN0cyhmb2xkZWQsIGUudmFsdWUuZnJvbSwgZS52YWx1ZS50bykpXG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7IGFkZDogW2ZvbGRXaWRnZXQucmFuZ2UoZS52YWx1ZS5mcm9tLCBlLnZhbHVlLnRvKV0gfSk7XG4gICAgICAgICAgICBlbHNlIGlmIChlLmlzKHVuZm9sZEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgZm9sZGVkID0gZm9sZGVkLnVwZGF0ZSh7IGZpbHRlcjogKGZyb20sIHRvKSA9PiBlLnZhbHVlLmZyb20gIT0gZnJvbSB8fCBlLnZhbHVlLnRvICE9IHRvLFxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcm9tOiBlLnZhbHVlLmZyb20sIGZpbHRlclRvOiBlLnZhbHVlLnRvIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIGZvbGRlZCByYW5nZXMgdGhhdCBjb3ZlciB0aGUgc2VsZWN0aW9uIGhlYWRcbiAgICAgICAgaWYgKHRyLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgbGV0IG9uU2VsZWN0aW9uID0gZmFsc2UsIHsgaGVhZCB9ID0gdHIuc2VsZWN0aW9uLm1haW47XG4gICAgICAgICAgICBmb2xkZWQuYmV0d2VlbihoZWFkLCBoZWFkLCAoYSwgYikgPT4geyBpZiAoYSA8IGhlYWQgJiYgYiA+IGhlYWQpXG4gICAgICAgICAgICAgICAgb25TZWxlY3Rpb24gPSB0cnVlOyB9KTtcbiAgICAgICAgICAgIGlmIChvblNlbGVjdGlvbilcbiAgICAgICAgICAgICAgICBmb2xkZWQgPSBmb2xkZWQudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJvbTogaGVhZCxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVG86IGhlYWQsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcjogKGEsIGIpID0+IGIgPD0gaGVhZCB8fCBhID49IGhlYWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9sZGVkO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZiA9PiBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZiksXG4gICAgdG9KU09OKGZvbGRlZCwgc3RhdGUpIHtcbiAgICAgICAgbGV0IHJhbmdlcyA9IFtdO1xuICAgICAgICBmb2xkZWQuYmV0d2VlbigwLCBzdGF0ZS5kb2MubGVuZ3RoLCAoZnJvbSwgdG8pID0+IHsgcmFuZ2VzLnB1c2goZnJvbSwgdG8pOyB9KTtcbiAgICAgICAgcmV0dXJuIHJhbmdlcztcbiAgICB9LFxuICAgIGZyb21KU09OKHZhbHVlKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoICUgMilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBKU09OIGZvciBmb2xkIHN0YXRlXCIpO1xuICAgICAgICBsZXQgcmFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSB2YWx1ZVtpKytdLCB0byA9IHZhbHVlW2krK107XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZyb20gIT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdG8gIT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgSlNPTiBmb3IgZm9sZCBzdGF0ZVwiKTtcbiAgICAgICAgICAgIHJhbmdlcy5wdXNoKGZvbGRXaWRnZXQucmFuZ2UoZnJvbSwgdG8pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQocmFuZ2VzLCB0cnVlKTtcbiAgICB9XG59KTtcbi8qKlxuR2V0IGEgW3JhbmdlIHNldF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5SYW5nZVNldCkgY29udGFpbmluZyB0aGUgZm9sZGVkIHJhbmdlc1xuaW4gdGhlIGdpdmVuIHN0YXRlLlxuKi9cbmZ1bmN0aW9uIGZvbGRlZFJhbmdlcyhzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSB8fCBSYW5nZVNldC5lbXB0eTtcbn1cbmZ1bmN0aW9uIGZpbmRGb2xkKHN0YXRlLCBmcm9tLCB0bykge1xuICAgIHZhciBfYTtcbiAgICBsZXQgZm91bmQgPSBudWxsO1xuICAgIChfYSA9IHN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmV0d2Vlbihmcm9tLCB0bywgKGZyb20sIHRvKSA9PiB7XG4gICAgICAgIGlmICghZm91bmQgfHwgZm91bmQuZnJvbSA+IGZyb20pXG4gICAgICAgICAgICBmb3VuZCA9IHsgZnJvbSwgdG8gfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBmb2xkRXhpc3RzKGZvbGRlZCwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICBmb2xkZWQuYmV0d2Vlbihmcm9tLCBmcm9tLCAoYSwgYikgPT4geyBpZiAoYSA9PSBmcm9tICYmIGIgPT0gdG8pXG4gICAgICAgIGZvdW5kID0gdHJ1ZTsgfSk7XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZnVuY3Rpb24gbWF5YmVFbmFibGUoc3RhdGUsIG90aGVyKSB7XG4gICAgcmV0dXJuIHN0YXRlLmZpZWxkKGZvbGRTdGF0ZSwgZmFsc2UpID8gb3RoZXIgOiBvdGhlci5jb25jYXQoU3RhdGVFZmZlY3QuYXBwZW5kQ29uZmlnLm9mKGNvZGVGb2xkaW5nKCkpKTtcbn1cbi8qKlxuRm9sZCB0aGUgbGluZXMgdGhhdCBhcmUgc2VsZWN0ZWQsIGlmIHBvc3NpYmxlLlxuKi9cbmNvbnN0IGZvbGRDb2RlID0gdmlldyA9PiB7XG4gICAgZm9yIChsZXQgbGluZSBvZiBzZWxlY3RlZExpbmVzKHZpZXcpKSB7XG4gICAgICAgIGxldCByYW5nZSA9IGZvbGRhYmxlKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IG1heWJlRW5hYmxlKHZpZXcuc3RhdGUsIFtmb2xkRWZmZWN0Lm9mKHJhbmdlKSwgYW5ub3VuY2VGb2xkKHZpZXcsIHJhbmdlKV0pIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbi8qKlxuVW5mb2xkIGZvbGRlZCByYW5nZXMgb24gc2VsZWN0ZWQgbGluZXMuXG4qL1xuY29uc3QgdW5mb2xkQ29kZSA9IHZpZXcgPT4ge1xuICAgIGlmICghdmlldy5zdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBlZmZlY3RzID0gW107XG4gICAgZm9yIChsZXQgbGluZSBvZiBzZWxlY3RlZExpbmVzKHZpZXcpKSB7XG4gICAgICAgIGxldCBmb2xkZWQgPSBmaW5kRm9sZCh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pO1xuICAgICAgICBpZiAoZm9sZGVkKVxuICAgICAgICAgICAgZWZmZWN0cy5wdXNoKHVuZm9sZEVmZmVjdC5vZihmb2xkZWQpLCBhbm5vdW5jZUZvbGQodmlldywgZm9sZGVkLCBmYWxzZSkpO1xuICAgIH1cbiAgICBpZiAoZWZmZWN0cy5sZW5ndGgpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzIH0pO1xuICAgIHJldHVybiBlZmZlY3RzLmxlbmd0aCA+IDA7XG59O1xuZnVuY3Rpb24gYW5ub3VuY2VGb2xkKHZpZXcsIHJhbmdlLCBmb2xkID0gdHJ1ZSkge1xuICAgIGxldCBsaW5lRnJvbSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChyYW5nZS5mcm9tKS5udW1iZXIsIGxpbmVUbyA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChyYW5nZS50bykubnVtYmVyO1xuICAgIHJldHVybiBFZGl0b3JWaWV3LmFubm91bmNlLm9mKGAke3ZpZXcuc3RhdGUucGhyYXNlKGZvbGQgPyBcIkZvbGRlZCBsaW5lc1wiIDogXCJVbmZvbGRlZCBsaW5lc1wiKX0gJHtsaW5lRnJvbX0gJHt2aWV3LnN0YXRlLnBocmFzZShcInRvXCIpfSAke2xpbmVUb30uYCk7XG59XG4vKipcbkZvbGQgYWxsIHRvcC1sZXZlbCBmb2xkYWJsZSByYW5nZXMuIE5vdGUgdGhhdCwgaW4gbW9zdCBjYXNlcyxcbmZvbGRpbmcgaW5mb3JtYXRpb24gd2lsbCBkZXBlbmQgb24gdGhlIFtzeW50YXhcbnRyZWVdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2Uuc3ludGF4VHJlZSksIGFuZCBmb2xkaW5nIGV2ZXJ5dGhpbmcgbWF5IG5vdCB3b3JrXG5yZWxpYWJseSB3aGVuIHRoZSBkb2N1bWVudCBoYXNuJ3QgYmVlbiBmdWxseSBwYXJzZWQgKGVpdGhlclxuYmVjYXVzZSB0aGUgZWRpdG9yIHN0YXRlIHdhcyBvbmx5IGp1c3QgaW5pdGlhbGl6ZWQsIG9yIGJlY2F1c2UgdGhlXG5kb2N1bWVudCBpcyBzbyBiaWcgdGhhdCB0aGUgcGFyc2VyIGRlY2lkZWQgbm90IHRvIHBhcnNlIGl0XG5lbnRpcmVseSkuXG4qL1xuY29uc3QgZm9sZEFsbCA9IHZpZXcgPT4ge1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBlZmZlY3RzID0gW107XG4gICAgZm9yIChsZXQgcG9zID0gMDsgcG9zIDwgc3RhdGUuZG9jLmxlbmd0aDspIHtcbiAgICAgICAgbGV0IGxpbmUgPSB2aWV3LmxpbmVCbG9ja0F0KHBvcyksIHJhbmdlID0gZm9sZGFibGUoc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50byk7XG4gICAgICAgIGlmIChyYW5nZSlcbiAgICAgICAgICAgIGVmZmVjdHMucHVzaChmb2xkRWZmZWN0Lm9mKHJhbmdlKSk7XG4gICAgICAgIHBvcyA9IChyYW5nZSA/IHZpZXcubGluZUJsb2NrQXQocmFuZ2UudG8pIDogbGluZSkudG8gKyAxO1xuICAgIH1cbiAgICBpZiAoZWZmZWN0cy5sZW5ndGgpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBtYXliZUVuYWJsZSh2aWV3LnN0YXRlLCBlZmZlY3RzKSB9KTtcbiAgICByZXR1cm4gISFlZmZlY3RzLmxlbmd0aDtcbn07XG4vKipcblVuZm9sZCBhbGwgZm9sZGVkIGNvZGUuXG4qL1xuY29uc3QgdW5mb2xkQWxsID0gdmlldyA9PiB7XG4gICAgbGV0IGZpZWxkID0gdmlldy5zdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoIWZpZWxkIHx8ICFmaWVsZC5zaXplKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGVmZmVjdHMgPSBbXTtcbiAgICBmaWVsZC5iZXR3ZWVuKDAsIHZpZXcuc3RhdGUuZG9jLmxlbmd0aCwgKGZyb20sIHRvKSA9PiB7IGVmZmVjdHMucHVzaCh1bmZvbGRFZmZlY3Qub2YoeyBmcm9tLCB0byB9KSk7IH0pO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzIH0pO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuRGVmYXVsdCBmb2xkLXJlbGF0ZWQga2V5IGJpbmRpbmdzLlxuXG4gLSBDdHJsLVNoaWZ0LVsgKENtZC1BbHQtWyBvbiBtYWNPUyk6IFtgZm9sZENvZGVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmZvbGRDb2RlKS5cbiAtIEN0cmwtU2hpZnQtXSAoQ21kLUFsdC1dIG9uIG1hY09TKTogW2B1bmZvbGRDb2RlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5ndWFnZS51bmZvbGRDb2RlKS5cbiAtIEN0cmwtQWx0LVs6IFtgZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuZm9sZEFsbCkuXG4gLSBDdHJsLUFsdC1dOiBbYHVuZm9sZEFsbGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UudW5mb2xkQWxsKS5cbiovXG5jb25zdCBmb2xkS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtU2hpZnQtW1wiLCBtYWM6IFwiQ21kLUFsdC1bXCIsIHJ1bjogZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLVNoaWZ0LV1cIiwgbWFjOiBcIkNtZC1BbHQtXVwiLCBydW46IHVuZm9sZENvZGUgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1bXCIsIHJ1bjogZm9sZEFsbCB9LFxuICAgIHsga2V5OiBcIkN0cmwtQWx0LV1cIiwgcnVuOiB1bmZvbGRBbGwgfVxuXTtcbmNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgcGxhY2Vob2xkZXJET006IG51bGwsXG4gICAgcGxhY2Vob2xkZXJUZXh0OiBcIlx1MjAyNlwiXG59O1xuY29uc3QgZm9sZENvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUodmFsdWVzKSB7IHJldHVybiBjb21iaW5lQ29uZmlnKHZhbHVlcywgZGVmYXVsdENvbmZpZyk7IH1cbn0pO1xuLyoqXG5DcmVhdGUgYW4gZXh0ZW5zaW9uIHRoYXQgY29uZmlndXJlcyBjb2RlIGZvbGRpbmcuXG4qL1xuZnVuY3Rpb24gY29kZUZvbGRpbmcoY29uZmlnKSB7XG4gICAgbGV0IHJlc3VsdCA9IFtmb2xkU3RhdGUsIGJhc2VUaGVtZSQxXTtcbiAgICBpZiAoY29uZmlnKVxuICAgICAgICByZXN1bHQucHVzaChmb2xkQ29uZmlnLm9mKGNvbmZpZykpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBmb2xkV2lkZ2V0ID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ucmVwbGFjZSh7IHdpZGdldDogLypAX19QVVJFX18qL25ldyBjbGFzcyBleHRlbmRzIFdpZGdldFR5cGUge1xuICAgICAgICB0b0RPTSh2aWV3KSB7XG4gICAgICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY29uZiA9IHN0YXRlLmZhY2V0KGZvbGRDb25maWcpO1xuICAgICAgICAgICAgbGV0IG9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IHZpZXcubGluZUJsb2NrQXQodmlldy5wb3NBdERPTShldmVudC50YXJnZXQpKTtcbiAgICAgICAgICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9sZGVkKVxuICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogdW5mb2xkRWZmZWN0Lm9mKGZvbGRlZCkgfSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29uZi5wbGFjZWhvbGRlckRPTSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uZi5wbGFjZWhvbGRlckRPTSh2aWV3LCBvbmNsaWNrKTtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gY29uZi5wbGFjZWhvbGRlclRleHQ7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgc3RhdGUucGhyYXNlKFwiZm9sZGVkIGNvZGVcIikpO1xuICAgICAgICAgICAgZWxlbWVudC50aXRsZSA9IHN0YXRlLnBocmFzZShcInVuZm9sZFwiKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gXCJjbS1mb2xkUGxhY2Vob2xkZXJcIjtcbiAgICAgICAgICAgIGVsZW1lbnQub25jbGljayA9IG9uY2xpY2s7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH0gfSk7XG5jb25zdCBmb2xkR3V0dGVyRGVmYXVsdHMgPSB7XG4gICAgb3BlblRleHQ6IFwiXHUyMzA0XCIsXG4gICAgY2xvc2VkVGV4dDogXCJcdTIwM0FcIixcbiAgICBtYXJrZXJET006IG51bGwsXG4gICAgZG9tRXZlbnRIYW5kbGVyczoge30sXG4gICAgZm9sZGluZ0NoYW5nZWQ6ICgpID0+IGZhbHNlXG59O1xuY2xhc3MgRm9sZE1hcmtlciBleHRlbmRzIEd1dHRlck1hcmtlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBvcGVuKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm9wZW4gPSBvcGVuO1xuICAgIH1cbiAgICBlcShvdGhlcikgeyByZXR1cm4gdGhpcy5jb25maWcgPT0gb3RoZXIuY29uZmlnICYmIHRoaXMub3BlbiA9PSBvdGhlci5vcGVuOyB9XG4gICAgdG9ET00odmlldykge1xuICAgICAgICBpZiAodGhpcy5jb25maWcubWFya2VyRE9NKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1hcmtlckRPTSh0aGlzLm9wZW4pO1xuICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdGhpcy5vcGVuID8gdGhpcy5jb25maWcub3BlblRleHQgOiB0aGlzLmNvbmZpZy5jbG9zZWRUZXh0O1xuICAgICAgICBzcGFuLnRpdGxlID0gdmlldy5zdGF0ZS5waHJhc2UodGhpcy5vcGVuID8gXCJGb2xkIGxpbmVcIiA6IFwiVW5mb2xkIGxpbmVcIik7XG4gICAgICAgIHJldHVybiBzcGFuO1xuICAgIH1cbn1cbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IHJlZ2lzdGVycyBhIGZvbGQgZ3V0dGVyLCB3aGljaCBzaG93cyBhXG5mb2xkIHN0YXR1cyBpbmRpY2F0b3IgYmVmb3JlIGZvbGRhYmxlIGxpbmVzICh3aGljaCBjYW4gYmUgY2xpY2tlZFxudG8gZm9sZCBvciB1bmZvbGQgdGhlIGxpbmUpLlxuKi9cbmZ1bmN0aW9uIGZvbGRHdXR0ZXIoY29uZmlnID0ge30pIHtcbiAgICBsZXQgZnVsbENvbmZpZyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZm9sZEd1dHRlckRlZmF1bHRzKSwgY29uZmlnKTtcbiAgICBsZXQgY2FuRm9sZCA9IG5ldyBGb2xkTWFya2VyKGZ1bGxDb25maWcsIHRydWUpLCBjYW5VbmZvbGQgPSBuZXcgRm9sZE1hcmtlcihmdWxsQ29uZmlnLCBmYWxzZSk7XG4gICAgbGV0IG1hcmtlcnMgPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhjbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgICAgIHRoaXMuZnJvbSA9IHZpZXcudmlld3BvcnQuZnJvbTtcbiAgICAgICAgICAgIHRoaXMubWFya2VycyA9IHRoaXMuYnVpbGRNYXJrZXJzKHZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZSh1cGRhdGUpIHtcbiAgICAgICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkIHx8XG4gICAgICAgICAgICAgICAgdXBkYXRlLnN0YXJ0U3RhdGUuZmFjZXQobGFuZ3VhZ2UpICE9IHVwZGF0ZS5zdGF0ZS5mYWNldChsYW5ndWFnZSkgfHxcbiAgICAgICAgICAgICAgICB1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChmb2xkU3RhdGUsIGZhbHNlKSAhPSB1cGRhdGUuc3RhdGUuZmllbGQoZm9sZFN0YXRlLCBmYWxzZSkgfHxcbiAgICAgICAgICAgICAgICBzeW50YXhUcmVlKHVwZGF0ZS5zdGFydFN0YXRlKSAhPSBzeW50YXhUcmVlKHVwZGF0ZS5zdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICBmdWxsQ29uZmlnLmZvbGRpbmdDaGFuZ2VkKHVwZGF0ZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzID0gdGhpcy5idWlsZE1hcmtlcnModXBkYXRlLnZpZXcpO1xuICAgICAgICB9XG4gICAgICAgIGJ1aWxkTWFya2Vycyh2aWV3KSB7XG4gICAgICAgICAgICBsZXQgYnVpbGRlciA9IG5ldyBSYW5nZVNldEJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGxpbmUgb2Ygdmlldy52aWV3cG9ydExpbmVCbG9ja3MpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFyayA9IGZpbmRGb2xkKHZpZXcuc3RhdGUsIGxpbmUuZnJvbSwgbGluZS50bykgPyBjYW5VbmZvbGRcbiAgICAgICAgICAgICAgICAgICAgOiBmb2xkYWJsZSh2aWV3LnN0YXRlLCBsaW5lLmZyb20sIGxpbmUudG8pID8gY2FuRm9sZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG1hcmspXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYWRkKGxpbmUuZnJvbSwgbGluZS5mcm9tLCBtYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHsgZG9tRXZlbnRIYW5kbGVycyB9ID0gZnVsbENvbmZpZztcbiAgICByZXR1cm4gW1xuICAgICAgICBtYXJrZXJzLFxuICAgICAgICBndXR0ZXIoe1xuICAgICAgICAgICAgY2xhc3M6IFwiY20tZm9sZEd1dHRlclwiLFxuICAgICAgICAgICAgbWFya2Vycyh2aWV3KSB7IHZhciBfYTsgcmV0dXJuICgoX2EgPSB2aWV3LnBsdWdpbihtYXJrZXJzKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcmtlcnMpIHx8IFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgICAgICAgICAgaW5pdGlhbFNwYWNlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZvbGRNYXJrZXIoZnVsbENvbmZpZywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvbUV2ZW50SGFuZGxlcnM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZG9tRXZlbnRIYW5kbGVycyksIHsgY2xpY2s6ICh2aWV3LCBsaW5lLCBldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9tRXZlbnRIYW5kbGVycy5jbGljayAmJiBkb21FdmVudEhhbmRsZXJzLmNsaWNrKHZpZXcsIGxpbmUsIGV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZm9sZGVkID0gZmluZEZvbGQodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvbGRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IHVuZm9sZEVmZmVjdC5vZihmb2xkZWQpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJhbmdlID0gZm9sZGFibGUodmlldy5zdGF0ZSwgbGluZS5mcm9tLCBsaW5lLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogZm9sZEVmZmVjdC5vZihyYW5nZSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSB9KVxuICAgICAgICB9KSxcbiAgICAgICAgY29kZUZvbGRpbmcoKVxuICAgIF07XG59XG5jb25zdCBiYXNlVGhlbWUkMSA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmJhc2VUaGVtZSh7XG4gICAgXCIuY20tZm9sZFBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlZWVcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZGRkXCIsXG4gICAgICAgIGNvbG9yOiBcIiM4ODhcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIi4yZW1cIixcbiAgICAgICAgbWFyZ2luOiBcIjAgMXB4XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMCAxcHhcIixcbiAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sXG4gICAgXCIuY20tZm9sZEd1dHRlciBzcGFuXCI6IHtcbiAgICAgICAgcGFkZGluZzogXCIwIDFweFwiLFxuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgfVxufSk7XG5cbi8qKlxuQSBoaWdobGlnaHQgc3R5bGUgYXNzb2NpYXRlcyBDU1Mgc3R5bGVzIHdpdGggaGlnbGlnaHRpbmdcblt0YWdzXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmI2hpZ2hsaWdodC5UYWcpLlxuKi9cbmNsYXNzIEhpZ2hsaWdodFN0eWxlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgdGFnIHN0eWxlcyB1c2VkIHRvIGNyZWF0ZSB0aGlzIGhpZ2hsaWdodCBzdHlsZS5cbiAgICAqL1xuICAgIHNwZWNzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3BlY3MgPSBzcGVjcztcbiAgICAgICAgbGV0IG1vZFNwZWM7XG4gICAgICAgIGZ1bmN0aW9uIGRlZihzcGVjKSB7XG4gICAgICAgICAgICBsZXQgY2xzID0gU3R5bGVNb2R1bGUubmV3TmFtZSgpO1xuICAgICAgICAgICAgKG1vZFNwZWMgfHwgKG1vZFNwZWMgPSBPYmplY3QuY3JlYXRlKG51bGwpKSlbXCIuXCIgKyBjbHNdID0gc3BlYztcbiAgICAgICAgICAgIHJldHVybiBjbHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxsID0gdHlwZW9mIG9wdGlvbnMuYWxsID09IFwic3RyaW5nXCIgPyBvcHRpb25zLmFsbCA6IG9wdGlvbnMuYWxsID8gZGVmKG9wdGlvbnMuYWxsKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc2NvcGVPcHQgPSBvcHRpb25zLnNjb3BlO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGVPcHQgaW5zdGFuY2VvZiBMYW5ndWFnZSA/ICh0eXBlKSA9PiB0eXBlLnByb3AobGFuZ3VhZ2VEYXRhUHJvcCkgPT0gc2NvcGVPcHQuZGF0YVxuICAgICAgICAgICAgOiBzY29wZU9wdCA/ICh0eXBlKSA9PiB0eXBlID09IHNjb3BlT3B0IDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0eWxlID0gdGFnSGlnaGxpZ2h0ZXIoc3BlY3MubWFwKHN0eWxlID0+ICh7XG4gICAgICAgICAgICB0YWc6IHN0eWxlLnRhZyxcbiAgICAgICAgICAgIGNsYXNzOiBzdHlsZS5jbGFzcyB8fCBkZWYoT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHsgdGFnOiBudWxsIH0pKVxuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIGFsbCxcbiAgICAgICAgfSkuc3R5bGU7XG4gICAgICAgIHRoaXMubW9kdWxlID0gbW9kU3BlYyA/IG5ldyBTdHlsZU1vZHVsZShtb2RTcGVjKSA6IG51bGw7XG4gICAgICAgIHRoaXMudGhlbWVUeXBlID0gb3B0aW9ucy50aGVtZVR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZSBhIGhpZ2hsaWdodGVyIHN0eWxlIHRoYXQgYXNzb2NpYXRlcyB0aGUgZ2l2ZW4gc3R5bGVzIHRvXG4gICAgdGhlIGdpdmVuIHRhZ3MuIFRoZSBzcGVjcyBtdXN0IGJlIG9iamVjdHMgdGhhdCBob2xkIGEgc3R5bGUgdGFnXG4gICAgb3IgYXJyYXkgb2YgdGFncyBpbiB0aGVpciBgdGFnYCBwcm9wZXJ0eSwgYW5kIGVpdGhlciBhIHNpbmdsZVxuICAgIGBjbGFzc2AgcHJvcGVydHkgcHJvdmlkaW5nIGEgc3RhdGljIENTUyBjbGFzcyAoZm9yIGhpZ2hsaWdodGVyXG4gICAgdGhhdCByZWx5IG9uIGV4dGVybmFsIHN0eWxpbmcpLCBvciBhXG4gICAgW2BzdHlsZS1tb2RgXShodHRwczovL2dpdGh1Yi5jb20vbWFyaWpuaC9zdHlsZS1tb2QjZG9jdW1lbnRhdGlvbiktc3R5bGVcbiAgICBzZXQgb2YgQ1NTIHByb3BlcnRpZXMgKHdoaWNoIGRlZmluZSB0aGUgc3R5bGluZyBmb3IgdGhvc2UgdGFncykuXG4gICAgXG4gICAgVGhlIENTUyBydWxlcyBjcmVhdGVkIGZvciBhIGhpZ2hsaWdodGVyIHdpbGwgYmUgZW1pdHRlZCBpbiB0aGVcbiAgICBvcmRlciBvZiB0aGUgc3BlYydzIHByb3BlcnRpZXMuIFRoYXQgbWVhbnMgdGhhdCBmb3IgZWxlbWVudHMgdGhhdFxuICAgIGhhdmUgbXVsdGlwbGUgdGFncyBhc3NvY2lhdGVkIHdpdGggdGhlbSwgc3R5bGVzIGRlZmluZWQgZnVydGhlclxuICAgIGRvd24gaW4gdGhlIGxpc3Qgd2lsbCBoYXZlIGEgaGlnaGVyIENTUyBwcmVjZWRlbmNlIHRoYW4gc3R5bGVzXG4gICAgZGVmaW5lZCBlYXJsaWVyLlxuICAgICovXG4gICAgc3RhdGljIGRlZmluZShzcGVjcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IEhpZ2hsaWdodFN0eWxlKHNwZWNzLCBvcHRpb25zIHx8IHt9KTtcbiAgICB9XG59XG5jb25zdCBoaWdobGlnaHRlckZhY2V0ID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgZmFsbGJhY2tIaWdobGlnaHRlciA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMubGVuZ3RoID8gW3ZhbHVlc1swXV0gOiBudWxsOyB9XG59KTtcbmZ1bmN0aW9uIGdldEhpZ2hsaWdodGVycyhzdGF0ZSkge1xuICAgIGxldCBtYWluID0gc3RhdGUuZmFjZXQoaGlnaGxpZ2h0ZXJGYWNldCk7XG4gICAgcmV0dXJuIG1haW4ubGVuZ3RoID8gbWFpbiA6IHN0YXRlLmZhY2V0KGZhbGxiYWNrSGlnaGxpZ2h0ZXIpO1xufVxuLyoqXG5XcmFwIGEgaGlnaGxpZ2h0ZXIgaW4gYW4gZWRpdG9yIGV4dGVuc2lvbiB0aGF0IHVzZXMgaXQgdG8gYXBwbHlcbnN5bnRheCBoaWdobGlnaHRpbmcgdG8gdGhlIGVkaXRvciBjb250ZW50LlxuXG5XaGVuIG11bHRpcGxlIChub24tZmFsbGJhY2spIHN0eWxlcyBhcmUgcHJvdmlkZWQsIHRoZSBzdHlsaW5nXG5hcHBsaWVkIGlzIHRoZSB1bmlvbiBvZiB0aGUgY2xhc3NlcyB0aGV5IGVtaXQuXG4qL1xuZnVuY3Rpb24gc3ludGF4SGlnaGxpZ2h0aW5nKGhpZ2hsaWdodGVyLCBvcHRpb25zKSB7XG4gICAgbGV0IGV4dCA9IFt0cmVlSGlnaGxpZ2h0ZXJdLCB0aGVtZVR5cGU7XG4gICAgaWYgKGhpZ2hsaWdodGVyIGluc3RhbmNlb2YgSGlnaGxpZ2h0U3R5bGUpIHtcbiAgICAgICAgaWYgKGhpZ2hsaWdodGVyLm1vZHVsZSlcbiAgICAgICAgICAgIGV4dC5wdXNoKEVkaXRvclZpZXcuc3R5bGVNb2R1bGUub2YoaGlnaGxpZ2h0ZXIubW9kdWxlKSk7XG4gICAgICAgIHRoZW1lVHlwZSA9IGhpZ2hsaWdodGVyLnRoZW1lVHlwZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFjaylcbiAgICAgICAgZXh0LnB1c2goZmFsbGJhY2tIaWdobGlnaHRlci5vZihoaWdobGlnaHRlcikpO1xuICAgIGVsc2UgaWYgKHRoZW1lVHlwZSlcbiAgICAgICAgZXh0LnB1c2goaGlnaGxpZ2h0ZXJGYWNldC5jb21wdXRlTihbRWRpdG9yVmlldy5kYXJrVGhlbWVdLCBzdGF0ZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUuZmFjZXQoRWRpdG9yVmlldy5kYXJrVGhlbWUpID09ICh0aGVtZVR5cGUgPT0gXCJkYXJrXCIpID8gW2hpZ2hsaWdodGVyXSA6IFtdO1xuICAgICAgICB9KSk7XG4gICAgZWxzZVxuICAgICAgICBleHQucHVzaChoaWdobGlnaHRlckZhY2V0Lm9mKGhpZ2hsaWdodGVyKSk7XG4gICAgcmV0dXJuIGV4dDtcbn1cbi8qKlxuUmV0dXJucyB0aGUgQ1NTIGNsYXNzZXMgKGlmIGFueSkgdGhhdCB0aGUgaGlnaGxpZ2h0ZXJzIGFjdGl2ZSBpblxudGhlIHN0YXRlIHdvdWxkIGFzc2lnbiB0byB0aGUgZ2l2ZW4gc3R5bGVcblt0YWdzXShodHRwczovL2xlemVyLmNvZGVtaXJyb3IubmV0L2RvY3MvcmVmI2hpZ2hsaWdodC5UYWcpIGFuZFxuKG9wdGlvbmFsKSBsYW5ndWFnZVxuW3Njb3BlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkhpZ2hsaWdodFN0eWxlXmRlZmluZV5vcHRpb25zLnNjb3BlKS5cbiovXG5mdW5jdGlvbiBoaWdobGlnaHRpbmdGb3Ioc3RhdGUsIHRhZ3MsIHNjb3BlKSB7XG4gICAgbGV0IGhpZ2hsaWdodGVycyA9IGdldEhpZ2hsaWdodGVycyhzdGF0ZSk7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgaWYgKGhpZ2hsaWdodGVycylcbiAgICAgICAgZm9yIChsZXQgaGlnaGxpZ2h0ZXIgb2YgaGlnaGxpZ2h0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWhpZ2hsaWdodGVyLnNjb3BlIHx8IHNjb3BlICYmIGhpZ2hsaWdodGVyLnNjb3BlKHNjb3BlKSkge1xuICAgICAgICAgICAgICAgIGxldCBjbHMgPSBoaWdobGlnaHRlci5zdHlsZSh0YWdzKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xzKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgPyByZXN1bHQgKyBcIiBcIiArIGNscyA6IGNscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBUcmVlSGlnaGxpZ2h0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy5tYXJrQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLnRyZWUgPSBzeW50YXhUcmVlKHZpZXcuc3RhdGUpO1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5idWlsZERlY28odmlldywgZ2V0SGlnaGxpZ2h0ZXJzKHZpZXcuc3RhdGUpKTtcbiAgICB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUodXBkYXRlLnN0YXRlKSwgaGlnaGxpZ2h0ZXJzID0gZ2V0SGlnaGxpZ2h0ZXJzKHVwZGF0ZS5zdGF0ZSk7XG4gICAgICAgIGxldCBzdHlsZUNoYW5nZSA9IGhpZ2hsaWdodGVycyAhPSBnZXRIaWdobGlnaHRlcnModXBkYXRlLnN0YXJ0U3RhdGUpO1xuICAgICAgICBpZiAodHJlZS5sZW5ndGggPCB1cGRhdGUudmlldy52aWV3cG9ydC50byAmJiAhc3R5bGVDaGFuZ2UgJiYgdHJlZS50eXBlID09IHRoaXMudHJlZS50eXBlKSB7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5kZWNvcmF0aW9ucy5tYXAodXBkYXRlLmNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyZWUgIT0gdGhpcy50cmVlIHx8IHVwZGF0ZS52aWV3cG9ydENoYW5nZWQgfHwgc3R5bGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJlZSA9IHRyZWU7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5idWlsZERlY28odXBkYXRlLnZpZXcsIGhpZ2hsaWdodGVycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYnVpbGREZWNvKHZpZXcsIGhpZ2hsaWdodGVycykge1xuICAgICAgICBpZiAoIWhpZ2hsaWdodGVycyB8fCAhdGhpcy50cmVlLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IFJhbmdlU2V0QnVpbGRlcigpO1xuICAgICAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBoaWdobGlnaHRUcmVlKHRoaXMudHJlZSwgaGlnaGxpZ2h0ZXJzLCAoZnJvbSwgdG8sIHN0eWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgYnVpbGRlci5hZGQoZnJvbSwgdG8sIHRoaXMubWFya0NhY2hlW3N0eWxlXSB8fCAodGhpcy5tYXJrQ2FjaGVbc3R5bGVdID0gRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IHN0eWxlIH0pKSk7XG4gICAgICAgICAgICB9LCBmcm9tLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZmluaXNoKCk7XG4gICAgfVxufVxuY29uc3QgdHJlZUhpZ2hsaWdodGVyID0gLypAX19QVVJFX18qL1ByZWMuaGlnaCgvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoVHJlZUhpZ2hsaWdodGVyLCB7XG4gICAgZGVjb3JhdGlvbnM6IHYgPT4gdi5kZWNvcmF0aW9uc1xufSkpO1xuLyoqXG5BIGRlZmF1bHQgaGlnaGxpZ2h0IHN0eWxlICh3b3JrcyB3ZWxsIHdpdGggbGlnaHQgdGhlbWVzKS5cbiovXG5jb25zdCBkZWZhdWx0SGlnaGxpZ2h0U3R5bGUgPSAvKkBfX1BVUkVfXyovSGlnaGxpZ2h0U3R5bGUuZGVmaW5lKFtcbiAgICB7IHRhZzogdGFncy5tZXRhLFxuICAgICAgICBjb2xvcjogXCIjN2E3NTdhXCIgfSxcbiAgICB7IHRhZzogdGFncy5saW5rLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJ1bmRlcmxpbmVcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmhlYWRpbmcsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiLFxuICAgICAgICBmb250V2VpZ2h0OiBcImJvbGRcIiB9LFxuICAgIHsgdGFnOiB0YWdzLmVtcGhhc2lzLFxuICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCIgfSxcbiAgICB7IHRhZzogdGFncy5zdHJvbmcsXG4gICAgICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiIH0sXG4gICAgeyB0YWc6IHRhZ3Muc3RyaWtldGhyb3VnaCxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwibGluZS10aHJvdWdoXCIgfSxcbiAgICB7IHRhZzogdGFncy5rZXl3b3JkLFxuICAgICAgICBjb2xvcjogXCIjNzA4XCIgfSxcbiAgICB7IHRhZzogW3RhZ3MuYXRvbSwgdGFncy5ib29sLCB0YWdzLnVybCwgdGFncy5jb250ZW50U2VwYXJhdG9yLCB0YWdzLmxhYmVsTmFtZV0sXG4gICAgICAgIGNvbG9yOiBcIiMyMTlcIiB9LFxuICAgIHsgdGFnOiBbdGFncy5saXRlcmFsLCB0YWdzLmluc2VydGVkXSxcbiAgICAgICAgY29sb3I6IFwiIzE2NFwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnN0cmluZywgdGFncy5kZWxldGVkXSxcbiAgICAgICAgY29sb3I6IFwiI2ExMVwiIH0sXG4gICAgeyB0YWc6IFt0YWdzLnJlZ2V4cCwgdGFncy5lc2NhcGUsIC8qQF9fUFVSRV9fKi90YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpXSxcbiAgICAgICAgY29sb3I6IFwiI2U0MFwiIH0sXG4gICAgeyB0YWc6IC8qQF9fUFVSRV9fKi90YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpLFxuICAgICAgICBjb2xvcjogXCIjMDBmXCIgfSxcbiAgICB7IHRhZzogLypAX19QVVJFX18qL3RhZ3MubG9jYWwodGFncy52YXJpYWJsZU5hbWUpLFxuICAgICAgICBjb2xvcjogXCIjMzBhXCIgfSxcbiAgICB7IHRhZzogW3RhZ3MudHlwZU5hbWUsIHRhZ3MubmFtZXNwYWNlXSxcbiAgICAgICAgY29sb3I6IFwiIzA4NVwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuY2xhc3NOYW1lLFxuICAgICAgICBjb2xvcjogXCIjMTY3XCIgfSxcbiAgICB7IHRhZzogWy8qQF9fUFVSRV9fKi90YWdzLnNwZWNpYWwodGFncy52YXJpYWJsZU5hbWUpLCB0YWdzLm1hY3JvTmFtZV0sXG4gICAgICAgIGNvbG9yOiBcIiMyNTZcIiB9LFxuICAgIHsgdGFnOiAvKkBfX1BVUkVfXyovdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgICAgICAgY29sb3I6IFwiIzAwY1wiIH0sXG4gICAgeyB0YWc6IHRhZ3MuY29tbWVudCxcbiAgICAgICAgY29sb3I6IFwiIzk0MFwiIH0sXG4gICAgeyB0YWc6IHRhZ3MuaW52YWxpZCxcbiAgICAgICAgY29sb3I6IFwiI2YwMFwiIH1cbl0pO1xuXG5jb25zdCBiYXNlVGhlbWUgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiJi5jbS1mb2N1c2VkIC5jbS1tYXRjaGluZ0JyYWNrZXRcIjogeyBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMyOGM4MjUyXCIgfSxcbiAgICBcIiYuY20tZm9jdXNlZCAuY20tbm9ubWF0Y2hpbmdCcmFja2V0XCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNiYjU1NTU0NFwiIH1cbn0pO1xuY29uc3QgRGVmYXVsdFNjYW5EaXN0ID0gMTAwMDAsIERlZmF1bHRCcmFja2V0cyA9IFwiKClbXXt9XCI7XG5jb25zdCBicmFja2V0TWF0Y2hpbmdDb25maWcgPSAvKkBfX1BVUkVfXyovRmFjZXQuZGVmaW5lKHtcbiAgICBjb21iaW5lKGNvbmZpZ3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVDb25maWcoY29uZmlncywge1xuICAgICAgICAgICAgYWZ0ZXJDdXJzb3I6IHRydWUsXG4gICAgICAgICAgICBicmFja2V0czogRGVmYXVsdEJyYWNrZXRzLFxuICAgICAgICAgICAgbWF4U2NhbkRpc3RhbmNlOiBEZWZhdWx0U2NhbkRpc3QsXG4gICAgICAgICAgICByZW5kZXJNYXRjaDogZGVmYXVsdFJlbmRlck1hdGNoXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuY29uc3QgbWF0Y2hpbmdNYXJrID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLW1hdGNoaW5nQnJhY2tldFwiIH0pLCBub25tYXRjaGluZ01hcmsgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi5tYXJrKHsgY2xhc3M6IFwiY20tbm9ubWF0Y2hpbmdCcmFja2V0XCIgfSk7XG5mdW5jdGlvbiBkZWZhdWx0UmVuZGVyTWF0Y2gobWF0Y2gpIHtcbiAgICBsZXQgZGVjb3JhdGlvbnMgPSBbXTtcbiAgICBsZXQgbWFyayA9IG1hdGNoLm1hdGNoZWQgPyBtYXRjaGluZ01hcmsgOiBub25tYXRjaGluZ01hcms7XG4gICAgZGVjb3JhdGlvbnMucHVzaChtYXJrLnJhbmdlKG1hdGNoLnN0YXJ0LmZyb20sIG1hdGNoLnN0YXJ0LnRvKSk7XG4gICAgaWYgKG1hdGNoLmVuZClcbiAgICAgICAgZGVjb3JhdGlvbnMucHVzaChtYXJrLnJhbmdlKG1hdGNoLmVuZC5mcm9tLCBtYXRjaC5lbmQudG8pKTtcbiAgICByZXR1cm4gZGVjb3JhdGlvbnM7XG59XG5jb25zdCBicmFja2V0TWF0Y2hpbmdTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gRGVjb3JhdGlvbi5ub25lOyB9LFxuICAgIHVwZGF0ZShkZWNvLCB0cikge1xuICAgICAgICBpZiAoIXRyLmRvY0NoYW5nZWQgJiYgIXRyLnNlbGVjdGlvbilcbiAgICAgICAgICAgIHJldHVybiBkZWNvO1xuICAgICAgICBsZXQgZGVjb3JhdGlvbnMgPSBbXTtcbiAgICAgICAgbGV0IGNvbmZpZyA9IHRyLnN0YXRlLmZhY2V0KGJyYWNrZXRNYXRjaGluZ0NvbmZpZyk7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHRyLnN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgICAgIGlmICghcmFuZ2UuZW1wdHkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgbWF0Y2ggPSBtYXRjaEJyYWNrZXRzKHRyLnN0YXRlLCByYW5nZS5oZWFkLCAtMSwgY29uZmlnKVxuICAgICAgICAgICAgICAgIHx8IChyYW5nZS5oZWFkID4gMCAmJiBtYXRjaEJyYWNrZXRzKHRyLnN0YXRlLCByYW5nZS5oZWFkIC0gMSwgMSwgY29uZmlnKSlcbiAgICAgICAgICAgICAgICB8fCAoY29uZmlnLmFmdGVyQ3Vyc29yICYmXG4gICAgICAgICAgICAgICAgICAgIChtYXRjaEJyYWNrZXRzKHRyLnN0YXRlLCByYW5nZS5oZWFkLCAxLCBjb25maWcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAocmFuZ2UuaGVhZCA8IHRyLnN0YXRlLmRvYy5sZW5ndGggJiYgbWF0Y2hCcmFja2V0cyh0ci5zdGF0ZSwgcmFuZ2UuaGVhZCArIDEsIC0xLCBjb25maWcpKSkpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKVxuICAgICAgICAgICAgICAgIGRlY29yYXRpb25zID0gZGVjb3JhdGlvbnMuY29uY2F0KGNvbmZpZy5yZW5kZXJNYXRjaChtYXRjaCwgdHIuc3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoZGVjb3JhdGlvbnMsIHRydWUpO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZiA9PiBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZilcbn0pO1xuY29uc3QgYnJhY2tldE1hdGNoaW5nVW5pcXVlID0gW1xuICAgIGJyYWNrZXRNYXRjaGluZ1N0YXRlLFxuICAgIGJhc2VUaGVtZVxuXTtcbi8qKlxuQ3JlYXRlIGFuIGV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgYnJhY2tldCBtYXRjaGluZy4gV2hlbmV2ZXIgdGhlXG5jdXJzb3IgaXMgbmV4dCB0byBhIGJyYWNrZXQsIHRoYXQgYnJhY2tldCBhbmQgdGhlIG9uZSBpdCBtYXRjaGVzXG5hcmUgaGlnaGxpZ2h0ZWQuIE9yLCB3aGVuIG5vIG1hdGNoaW5nIGJyYWNrZXQgaXMgZm91bmQsIGFub3RoZXJcbmhpZ2hsaWdodGluZyBzdHlsZSBpcyB1c2VkIHRvIGluZGljYXRlIHRoaXMuXG4qL1xuZnVuY3Rpb24gYnJhY2tldE1hdGNoaW5nKGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFticmFja2V0TWF0Y2hpbmdDb25maWcub2YoY29uZmlnKSwgYnJhY2tldE1hdGNoaW5nVW5pcXVlXTtcbn1cbmZ1bmN0aW9uIG1hdGNoaW5nTm9kZXMobm9kZSwgZGlyLCBicmFja2V0cykge1xuICAgIGxldCBieVByb3AgPSBub2RlLnByb3AoZGlyIDwgMCA/IE5vZGVQcm9wLm9wZW5lZEJ5IDogTm9kZVByb3AuY2xvc2VkQnkpO1xuICAgIGlmIChieVByb3ApXG4gICAgICAgIHJldHVybiBieVByb3A7XG4gICAgaWYgKG5vZGUubmFtZS5sZW5ndGggPT0gMSkge1xuICAgICAgICBsZXQgaW5kZXggPSBicmFja2V0cy5pbmRleE9mKG5vZGUubmFtZSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xICYmIGluZGV4ICUgMiA9PSAoZGlyIDwgMCA/IDEgOiAwKSlcbiAgICAgICAgICAgIHJldHVybiBbYnJhY2tldHNbaW5kZXggKyBkaXJdXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbkZpbmQgdGhlIG1hdGNoaW5nIGJyYWNrZXQgZm9yIHRoZSB0b2tlbiBhdCBgcG9zYCwgc2Nhbm5pbmdcbmRpcmVjdGlvbiBgZGlyYC4gT25seSB0aGUgYGJyYWNrZXRzYCBhbmQgYG1heFNjYW5EaXN0YW5jZWBcbnByb3BlcnRpZXMgYXJlIHVzZWQgZnJvbSBgY29uZmlnYCwgaWYgZ2l2ZW4uIFJldHVybnMgbnVsbCBpZiBub1xuYnJhY2tldCB3YXMgZm91bmQgYXQgYHBvc2AsIG9yIGEgbWF0Y2ggcmVzdWx0IG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBtYXRjaEJyYWNrZXRzKHN0YXRlLCBwb3MsIGRpciwgY29uZmlnID0ge30pIHtcbiAgICBsZXQgbWF4U2NhbkRpc3RhbmNlID0gY29uZmlnLm1heFNjYW5EaXN0YW5jZSB8fCBEZWZhdWx0U2NhbkRpc3QsIGJyYWNrZXRzID0gY29uZmlnLmJyYWNrZXRzIHx8IERlZmF1bHRCcmFja2V0cztcbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoc3RhdGUpLCBub2RlID0gdHJlZS5yZXNvbHZlSW5uZXIocG9zLCBkaXIpO1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7IGN1cjsgY3VyID0gY3VyLnBhcmVudCkge1xuICAgICAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoaW5nTm9kZXMoY3VyLnR5cGUsIGRpciwgYnJhY2tldHMpO1xuICAgICAgICBpZiAobWF0Y2hlcyAmJiBjdXIuZnJvbSA8IGN1ci50bylcbiAgICAgICAgICAgIHJldHVybiBtYXRjaE1hcmtlZEJyYWNrZXRzKHN0YXRlLCBwb3MsIGRpciwgY3VyLCBtYXRjaGVzLCBicmFja2V0cyk7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaFBsYWluQnJhY2tldHMoc3RhdGUsIHBvcywgZGlyLCB0cmVlLCBub2RlLnR5cGUsIG1heFNjYW5EaXN0YW5jZSwgYnJhY2tldHMpO1xufVxuZnVuY3Rpb24gbWF0Y2hNYXJrZWRCcmFja2V0cyhfc3RhdGUsIF9wb3MsIGRpciwgdG9rZW4sIG1hdGNoaW5nLCBicmFja2V0cykge1xuICAgIGxldCBwYXJlbnQgPSB0b2tlbi5wYXJlbnQsIGZpcnN0VG9rZW4gPSB7IGZyb206IHRva2VuLmZyb20sIHRvOiB0b2tlbi50byB9O1xuICAgIGxldCBkZXB0aCA9IDAsIGN1cnNvciA9IHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jdXJzb3IoKTtcbiAgICBpZiAoY3Vyc29yICYmIChkaXIgPCAwID8gY3Vyc29yLmNoaWxkQmVmb3JlKHRva2VuLmZyb20pIDogY3Vyc29yLmNoaWxkQWZ0ZXIodG9rZW4udG8pKSlcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGRpciA8IDAgPyBjdXJzb3IudG8gPD0gdG9rZW4uZnJvbSA6IGN1cnNvci5mcm9tID49IHRva2VuLnRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDAgJiYgbWF0Y2hpbmcuaW5kZXhPZihjdXJzb3IudHlwZS5uYW1lKSA+IC0xICYmIGN1cnNvci5mcm9tIDwgY3Vyc29yLnRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXJ0OiBmaXJzdFRva2VuLCBlbmQ6IHsgZnJvbTogY3Vyc29yLmZyb20sIHRvOiBjdXJzb3IudG8gfSwgbWF0Y2hlZDogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCBkaXIsIGJyYWNrZXRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaGluZ05vZGVzKGN1cnNvci50eXBlLCAtZGlyLCBicmFja2V0cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBmaXJzdFRva2VuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogY3Vyc29yLmZyb20gPT0gY3Vyc29yLnRvID8gdW5kZWZpbmVkIDogeyBmcm9tOiBjdXJzb3IuZnJvbSwgdG86IGN1cnNvci50byB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZGlyIDwgMCA/IGN1cnNvci5wcmV2U2libGluZygpIDogY3Vyc29yLm5leHRTaWJsaW5nKCkpO1xuICAgIHJldHVybiB7IHN0YXJ0OiBmaXJzdFRva2VuLCBtYXRjaGVkOiBmYWxzZSB9O1xufVxuZnVuY3Rpb24gbWF0Y2hQbGFpbkJyYWNrZXRzKHN0YXRlLCBwb3MsIGRpciwgdHJlZSwgdG9rZW5UeXBlLCBtYXhTY2FuRGlzdGFuY2UsIGJyYWNrZXRzKSB7XG4gICAgbGV0IHN0YXJ0Q2ggPSBkaXIgPCAwID8gc3RhdGUuc2xpY2VEb2MocG9zIC0gMSwgcG9zKSA6IHN0YXRlLnNsaWNlRG9jKHBvcywgcG9zICsgMSk7XG4gICAgbGV0IGJyYWNrZXQgPSBicmFja2V0cy5pbmRleE9mKHN0YXJ0Q2gpO1xuICAgIGlmIChicmFja2V0IDwgMCB8fCAoYnJhY2tldCAlIDIgPT0gMCkgIT0gKGRpciA+IDApKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgc3RhcnRUb2tlbiA9IHsgZnJvbTogZGlyIDwgMCA/IHBvcyAtIDEgOiBwb3MsIHRvOiBkaXIgPiAwID8gcG9zICsgMSA6IHBvcyB9O1xuICAgIGxldCBpdGVyID0gc3RhdGUuZG9jLml0ZXJSYW5nZShwb3MsIGRpciA+IDAgPyBzdGF0ZS5kb2MubGVuZ3RoIDogMCksIGRlcHRoID0gMDtcbiAgICBmb3IgKGxldCBkaXN0YW5jZSA9IDA7ICEoaXRlci5uZXh0KCkpLmRvbmUgJiYgZGlzdGFuY2UgPD0gbWF4U2NhbkRpc3RhbmNlOykge1xuICAgICAgICBsZXQgdGV4dCA9IGl0ZXIudmFsdWU7XG4gICAgICAgIGlmIChkaXIgPCAwKVxuICAgICAgICAgICAgZGlzdGFuY2UgKz0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGxldCBiYXNlUG9zID0gcG9zICsgZGlzdGFuY2UgKiBkaXI7XG4gICAgICAgIGZvciAobGV0IHBvcyA9IGRpciA+IDAgPyAwIDogdGV4dC5sZW5ndGggLSAxLCBlbmQgPSBkaXIgPiAwID8gdGV4dC5sZW5ndGggOiAtMTsgcG9zICE9IGVuZDsgcG9zICs9IGRpcikge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gYnJhY2tldHMuaW5kZXhPZih0ZXh0W3Bvc10pO1xuICAgICAgICAgICAgaWYgKGZvdW5kIDwgMCB8fCB0cmVlLnJlc29sdmVJbm5lcihiYXNlUG9zICsgcG9zLCAxKS50eXBlICE9IHRva2VuVHlwZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmICgoZm91bmQgJSAyID09IDApID09IChkaXIgPiAwKSkge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkZXB0aCA9PSAxKSB7IC8vIENsb3NpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGFydDogc3RhcnRUb2tlbiwgZW5kOiB7IGZyb206IGJhc2VQb3MgKyBwb3MsIHRvOiBiYXNlUG9zICsgcG9zICsgMSB9LCBtYXRjaGVkOiAoZm91bmQgPj4gMSkgPT0gKGJyYWNrZXQgPj4gMSkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpciA+IDApXG4gICAgICAgICAgICBkaXN0YW5jZSArPSB0ZXh0Lmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXIuZG9uZSA/IHsgc3RhcnQ6IHN0YXJ0VG9rZW4sIG1hdGNoZWQ6IGZhbHNlIH0gOiBudWxsO1xufVxuXG4vLyBDb3VudHMgdGhlIGNvbHVtbiBvZmZzZXQgaW4gYSBzdHJpbmcsIHRha2luZyB0YWJzIGludG8gYWNjb3VudC5cbi8vIFVzZWQgbW9zdGx5IHRvIGZpbmQgaW5kZW50YXRpb24uXG5mdW5jdGlvbiBjb3VudENvbChzdHJpbmcsIGVuZCwgdGFiU2l6ZSwgc3RhcnRJbmRleCA9IDAsIHN0YXJ0VmFsdWUgPSAwKSB7XG4gICAgaWYgKGVuZCA9PSBudWxsKSB7XG4gICAgICAgIGVuZCA9IHN0cmluZy5zZWFyY2goL1teXFxzXFx1MDBhMF0vKTtcbiAgICAgICAgaWYgKGVuZCA9PSAtMSlcbiAgICAgICAgICAgIGVuZCA9IHN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGxldCBuID0gc3RhcnRWYWx1ZTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdChpKSA9PSA5KVxuICAgICAgICAgICAgbiArPSB0YWJTaXplIC0gKG4gJSB0YWJTaXplKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbisrO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cbi8qKlxuRW5jYXBzdWxhdGVzIGEgc2luZ2xlIGxpbmUgb2YgaW5wdXQuIEdpdmVuIHRvIHN0cmVhbSBzeW50YXggY29kZSxcbndoaWNoIHVzZXMgaXQgdG8gdG9rZW5pemUgdGhlIGNvbnRlbnQuXG4qL1xuY2xhc3MgU3RyaW5nU3RyZWFtIHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBzdHJlYW0uXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICBUaGUgbGluZS5cbiAgICAqL1xuICAgIHN0cmluZywgdGFiU2l6ZSwgXG4gICAgLyoqXG4gICAgVGhlIGN1cnJlbnQgaW5kZW50IHVuaXQgc2l6ZS5cbiAgICAqL1xuICAgIGluZGVudFVuaXQpIHtcbiAgICAgICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG4gICAgICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemU7XG4gICAgICAgIHRoaXMuaW5kZW50VW5pdCA9IGluZGVudFVuaXQ7XG4gICAgICAgIC8qKlxuICAgICAgICBUaGUgY3VycmVudCBwb3NpdGlvbiBvbiB0aGUgbGluZS5cbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IHRva2VuLlxuICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gMDtcbiAgICAgICAgdGhpcy5sYXN0Q29sdW1uVmFsdWUgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICBUcnVlIGlmIHdlIGFyZSBhdCB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgZW9sKCkgeyByZXR1cm4gdGhpcy5wb3MgPj0gdGhpcy5zdHJpbmcubGVuZ3RoOyB9XG4gICAgLyoqXG4gICAgVHJ1ZSBpZiB3ZSBhcmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsaW5lLlxuICAgICovXG4gICAgc29sKCkgeyByZXR1cm4gdGhpcy5wb3MgPT0gMDsgfVxuICAgIC8qKlxuICAgIEdldCB0aGUgbmV4dCBjb2RlIHVuaXQgYWZ0ZXIgdGhlIGN1cnJlbnQgcG9zaXRpb24sIG9yIHVuZGVmaW5lZFxuICAgIGlmIHdlJ3JlIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBwZWVrKCkgeyByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSB8fCB1bmRlZmluZWQ7IH1cbiAgICAvKipcbiAgICBSZWFkIHRoZSBuZXh0IGNvZGUgdW5pdCBhbmQgYWR2YW5jZSBgdGhpcy5wb3NgLlxuICAgICovXG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zIDwgdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcysrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgTWF0Y2ggdGhlIG5leHQgY2hhcmFjdGVyIGFnYWluc3QgdGhlIGdpdmVuIHN0cmluZywgcmVndWxhclxuICAgIGV4cHJlc3Npb24sIG9yIHByZWRpY2F0ZS4gQ29uc3VtZSBhbmQgcmV0dXJuIGl0IGlmIGl0IG1hdGNoZXMuXG4gICAgKi9cbiAgICBlYXQobWF0Y2gpIHtcbiAgICAgICAgbGV0IGNoID0gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKTtcbiAgICAgICAgbGV0IG9rO1xuICAgICAgICBpZiAodHlwZW9mIG1hdGNoID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICBvayA9IGNoID09IG1hdGNoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBvayA9IGNoICYmIChtYXRjaCBpbnN0YW5jZW9mIFJlZ0V4cCA/IG1hdGNoLnRlc3QoY2gpIDogbWF0Y2goY2gpKTtcbiAgICAgICAgaWYgKG9rKSB7XG4gICAgICAgICAgICArK3RoaXMucG9zO1xuICAgICAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIENvbnRpbnVlIG1hdGNoaW5nIGNoYXJhY3RlcnMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gc3RyaW5nLFxuICAgIHJlZ3VsYXIgZXhwcmVzc2lvbiwgb3IgcHJlZGljYXRlIGZ1bmN0aW9uLiBSZXR1cm4gdHJ1ZSBpZiBhbnlcbiAgICBjaGFyYWN0ZXJzIHdlcmUgY29uc3VtZWQuXG4gICAgKi9cbiAgICBlYXRXaGlsZShtYXRjaCkge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgd2hpbGUgKHRoaXMuZWF0KG1hdGNoKSkgeyB9XG4gICAgICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0O1xuICAgIH1cbiAgICAvKipcbiAgICBDb25zdW1lIHdoaXRlc3BhY2UgYWhlYWQgb2YgYHRoaXMucG9zYC4gUmV0dXJuIHRydWUgaWYgYW55IHdhc1xuICAgIGZvdW5kLlxuICAgICovXG4gICAgZWF0U3BhY2UoKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICB3aGlsZSAoL1tcXHNcXHUwMGEwXS8udGVzdCh0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpKSlcbiAgICAgICAgICAgICsrdGhpcy5wb3M7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0O1xuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4gICAgKi9cbiAgICBza2lwVG9FbmQoKSB7IHRoaXMucG9zID0gdGhpcy5zdHJpbmcubGVuZ3RoOyB9XG4gICAgLyoqXG4gICAgTW92ZSB0byBkaXJlY3RseSBiZWZvcmUgdGhlIGdpdmVuIGNoYXJhY3RlciwgaWYgZm91bmQgb24gdGhlXG4gICAgY3VycmVudCBsaW5lLlxuICAgICovXG4gICAgc2tpcFRvKGNoKSB7XG4gICAgICAgIGxldCBmb3VuZCA9IHRoaXMuc3RyaW5nLmluZGV4T2YoY2gsIHRoaXMucG9zKTtcbiAgICAgICAgaWYgKGZvdW5kID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gZm91bmQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBNb3ZlIGJhY2sgYG5gIGNoYXJhY3RlcnMuXG4gICAgKi9cbiAgICBiYWNrVXAobikgeyB0aGlzLnBvcyAtPSBuOyB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjb2x1bW4gcG9zaXRpb24gYXQgYHRoaXMucG9zYC5cbiAgICAqL1xuICAgIGNvbHVtbigpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdENvbHVtblBvcyA8IHRoaXMuc3RhcnQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbHVtblZhbHVlID0gY291bnRDb2wodGhpcy5zdHJpbmcsIHRoaXMuc3RhcnQsIHRoaXMudGFiU2l6ZSwgdGhpcy5sYXN0Q29sdW1uUG9zLCB0aGlzLmxhc3RDb2x1bW5WYWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSB0aGlzLnN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDb2x1bW5WYWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBpbmRlbnRhdGlvbiBjb2x1bW4gb2YgdGhlIGN1cnJlbnQgbGluZS5cbiAgICAqL1xuICAgIGluZGVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gY291bnRDb2wodGhpcy5zdHJpbmcsIG51bGwsIHRoaXMudGFiU2l6ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIE1hdGNoIHRoZSBpbnB1dCBhZ2FpbnN0IHRoZSBnaXZlbiBzdHJpbmcgb3IgcmVndWxhciBleHByZXNzaW9uXG4gICAgKHdoaWNoIHNob3VsZCBzdGFydCB3aXRoIGEgYF5gKS4gUmV0dXJuIHRydWUgb3IgdGhlIHJlZ2V4cCBtYXRjaFxuICAgIGlmIGl0IG1hdGNoZXMuXG4gICAgXG4gICAgVW5sZXNzIGBjb25zdW1lYCBpcyBzZXQgdG8gYGZhbHNlYCwgdGhpcyB3aWxsIG1vdmUgYHRoaXMucG9zYFxuICAgIHBhc3QgdGhlIG1hdGNoZWQgdGV4dC5cbiAgICBcbiAgICBXaGVuIG1hdGNoaW5nIGEgc3RyaW5nIGBjYXNlSW5zZW5zaXRpdmVgIGNhbiBiZSBzZXQgdG8gdHJ1ZSB0b1xuICAgIG1ha2UgdGhlIG1hdGNoIGNhc2UtaW5zZW5zaXRpdmUuXG4gICAgKi9cbiAgICBtYXRjaChwYXR0ZXJuLCBjb25zdW1lLCBjYXNlSW5zZW5zaXRpdmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGxldCBjYXNlZCA9IChzdHIpID0+IGNhc2VJbnNlbnNpdGl2ZSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyO1xuICAgICAgICAgICAgbGV0IHN1YnN0ciA9IHRoaXMuc3RyaW5nLnN1YnN0cih0aGlzLnBvcywgcGF0dGVybi5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGNhc2VkKHN1YnN0cikgPT0gY2FzZWQocGF0dGVybikpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IHBhdHRlcm4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5wb3MpLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJiBjb25zdW1lICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBjdXJyZW50IHRva2VuLlxuICAgICovXG4gICAgY3VycmVudCgpIHsgcmV0dXJuIHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMucG9zKTsgfVxufVxuXG5mdW5jdGlvbiBmdWxsUGFyc2VyKHNwZWMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBzcGVjLm5hbWUgfHwgXCJcIixcbiAgICAgICAgdG9rZW46IHNwZWMudG9rZW4sXG4gICAgICAgIGJsYW5rTGluZTogc3BlYy5ibGFua0xpbmUgfHwgKCgpID0+IHsgfSksXG4gICAgICAgIHN0YXJ0U3RhdGU6IHNwZWMuc3RhcnRTdGF0ZSB8fCAoKCkgPT4gdHJ1ZSksXG4gICAgICAgIGNvcHlTdGF0ZTogc3BlYy5jb3B5U3RhdGUgfHwgZGVmYXVsdENvcHlTdGF0ZSxcbiAgICAgICAgaW5kZW50OiBzcGVjLmluZGVudCB8fCAoKCkgPT4gbnVsbCksXG4gICAgICAgIGxhbmd1YWdlRGF0YTogc3BlYy5sYW5ndWFnZURhdGEgfHwge30sXG4gICAgICAgIHRva2VuVGFibGU6IHNwZWMudG9rZW5UYWJsZSB8fCBub1Rva2Vuc1xuICAgIH07XG59XG5mdW5jdGlvbiBkZWZhdWx0Q29weVN0YXRlKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgbGV0IG5ld1N0YXRlID0ge307XG4gICAgZm9yIChsZXQgcHJvcCBpbiBzdGF0ZSkge1xuICAgICAgICBsZXQgdmFsID0gc3RhdGVbcHJvcF07XG4gICAgICAgIG5ld1N0YXRlW3Byb3BdID0gKHZhbCBpbnN0YW5jZW9mIEFycmF5ID8gdmFsLnNsaWNlKCkgOiB2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3U3RhdGU7XG59XG4vKipcbkEgW2xhbmd1YWdlXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLkxhbmd1YWdlKSBjbGFzcyBiYXNlZCBvbiBhIENvZGVNaXJyb3JcbjUtc3R5bGUgW3N0cmVhbWluZyBwYXJzZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuU3RyZWFtUGFyc2VyKS5cbiovXG5jbGFzcyBTdHJlYW1MYW5ndWFnZSBleHRlbmRzIExhbmd1YWdlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJzZXIpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBkZWZpbmVMYW5ndWFnZUZhY2V0KHBhcnNlci5sYW5ndWFnZURhdGEpO1xuICAgICAgICBsZXQgcCA9IGZ1bGxQYXJzZXIocGFyc2VyKSwgc2VsZjtcbiAgICAgICAgbGV0IGltcGwgPSBuZXcgY2xhc3MgZXh0ZW5kcyBQYXJzZXIge1xuICAgICAgICAgICAgY3JlYXRlUGFyc2UoaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJzZShzZWxmLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzdXBlcihkYXRhLCBpbXBsLCBbaW5kZW50U2VydmljZS5vZigoY3gsIHBvcykgPT4gdGhpcy5nZXRJbmRlbnQoY3gsIHBvcykpXSwgcGFyc2VyLm5hbWUpO1xuICAgICAgICB0aGlzLnRvcE5vZGUgPSBkb2NJRChkYXRhKTtcbiAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RyZWFtUGFyc2VyID0gcDtcbiAgICAgICAgdGhpcy5zdGF0ZUFmdGVyID0gbmV3IE5vZGVQcm9wKHsgcGVyTm9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy50b2tlblRhYmxlID0gcGFyc2VyLnRva2VuVGFibGUgPyBuZXcgVG9rZW5UYWJsZShwLnRva2VuVGFibGUpIDogZGVmYXVsdFRva2VuVGFibGU7XG4gICAgfVxuICAgIC8qKlxuICAgIERlZmluZSBhIHN0cmVhbSBsYW5ndWFnZS5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykgeyByZXR1cm4gbmV3IFN0cmVhbUxhbmd1YWdlKHNwZWMpOyB9XG4gICAgZ2V0SW5kZW50KGN4LCBwb3MpIHtcbiAgICAgICAgbGV0IHRyZWUgPSBzeW50YXhUcmVlKGN4LnN0YXRlKSwgYXQgPSB0cmVlLnJlc29sdmUocG9zKTtcbiAgICAgICAgd2hpbGUgKGF0ICYmIGF0LnR5cGUgIT0gdGhpcy50b3BOb2RlKVxuICAgICAgICAgICAgYXQgPSBhdC5wYXJlbnQ7XG4gICAgICAgIGlmICghYXQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHN0YXJ0ID0gZmluZFN0YXRlKHRoaXMsIHRyZWUsIDAsIGF0LmZyb20sIHBvcyksIHN0YXRlUG9zLCBzdGF0ZTtcbiAgICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXJ0LnN0YXRlO1xuICAgICAgICAgICAgc3RhdGVQb3MgPSBzdGFydC5wb3MgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUgPSB0aGlzLnN0cmVhbVBhcnNlci5zdGFydFN0YXRlKGN4LnVuaXQpO1xuICAgICAgICAgICAgc3RhdGVQb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgLSBzdGF0ZVBvcyA+IDEwMDAwIC8qIEMuTWF4SW5kZW50U2NhbkRpc3QgKi8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgd2hpbGUgKHN0YXRlUG9zIDwgcG9zKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGN4LnN0YXRlLmRvYy5saW5lQXQoc3RhdGVQb3MpLCBlbmQgPSBNYXRoLm1pbihwb3MsIGxpbmUudG8pO1xuICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0obGluZS50ZXh0LCBjeC5zdGF0ZS50YWJTaXplLCBjeC51bml0KTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3RyZWFtLnBvcyA8IGVuZCAtIGxpbmUuZnJvbSlcbiAgICAgICAgICAgICAgICAgICAgcmVhZFRva2VuKHRoaXMuc3RyZWFtUGFyc2VyLnRva2VuLCBzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtUGFyc2VyLmJsYW5rTGluZShzdGF0ZSwgY3gudW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID09IHBvcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHN0YXRlUG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHsgdGV4dCB9ID0gY3gubGluZUF0KHBvcyk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVhbVBhcnNlci5pbmRlbnQoc3RhdGUsIC9eXFxzKiguKikvLmV4ZWModGV4dClbMV0sIGN4KTtcbiAgICB9XG4gICAgZ2V0IGFsbG93c05lc3RpbmcoKSB7IHJldHVybiBmYWxzZTsgfVxufVxuZnVuY3Rpb24gZmluZFN0YXRlKGxhbmcsIHRyZWUsIG9mZiwgc3RhcnRQb3MsIGJlZm9yZSkge1xuICAgIGxldCBzdGF0ZSA9IG9mZiA+PSBzdGFydFBvcyAmJiBvZmYgKyB0cmVlLmxlbmd0aCA8PSBiZWZvcmUgJiYgdHJlZS5wcm9wKGxhbmcuc3RhdGVBZnRlcik7XG4gICAgaWYgKHN0YXRlKVxuICAgICAgICByZXR1cm4geyBzdGF0ZTogbGFuZy5zdHJlYW1QYXJzZXIuY29weVN0YXRlKHN0YXRlKSwgcG9zOiBvZmYgKyB0cmVlLmxlbmd0aCB9O1xuICAgIGZvciAobGV0IGkgPSB0cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBjaGlsZCA9IHRyZWUuY2hpbGRyZW5baV0sIHBvcyA9IG9mZiArIHRyZWUucG9zaXRpb25zW2ldO1xuICAgICAgICBsZXQgZm91bmQgPSBjaGlsZCBpbnN0YW5jZW9mIFRyZWUgJiYgcG9zIDwgYmVmb3JlICYmIGZpbmRTdGF0ZShsYW5nLCBjaGlsZCwgcG9zLCBzdGFydFBvcywgYmVmb3JlKTtcbiAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGN1dFRyZWUobGFuZywgdHJlZSwgZnJvbSwgdG8sIGluc2lkZSkge1xuICAgIGlmIChpbnNpZGUgJiYgZnJvbSA8PSAwICYmIHRvID49IHRyZWUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICBpZiAoIWluc2lkZSAmJiB0cmVlLnR5cGUgPT0gbGFuZy50b3BOb2RlKVxuICAgICAgICBpbnNpZGUgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSB0cmVlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBwb3MgPSB0cmVlLnBvc2l0aW9uc1tpXSwgY2hpbGQgPSB0cmVlLmNoaWxkcmVuW2ldLCBpbm5lcjtcbiAgICAgICAgaWYgKHBvcyA8IHRvICYmIGNoaWxkIGluc3RhbmNlb2YgVHJlZSkge1xuICAgICAgICAgICAgaWYgKCEoaW5uZXIgPSBjdXRUcmVlKGxhbmcsIGNoaWxkLCBmcm9tIC0gcG9zLCB0byAtIHBvcywgaW5zaWRlKSkpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICByZXR1cm4gIWluc2lkZSA/IGlubmVyXG4gICAgICAgICAgICAgICAgOiBuZXcgVHJlZSh0cmVlLnR5cGUsIHRyZWUuY2hpbGRyZW4uc2xpY2UoMCwgaSkuY29uY2F0KGlubmVyKSwgdHJlZS5wb3NpdGlvbnMuc2xpY2UoMCwgaSArIDEpLCBwb3MgKyBpbm5lci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZmluZFN0YXJ0SW5GcmFnbWVudHMobGFuZywgZnJhZ21lbnRzLCBzdGFydFBvcywgZWRpdG9yU3RhdGUpIHtcbiAgICBmb3IgKGxldCBmIG9mIGZyYWdtZW50cykge1xuICAgICAgICBsZXQgZnJvbSA9IGYuZnJvbSArIChmLm9wZW5TdGFydCA/IDI1IDogMCksIHRvID0gZi50byAtIChmLm9wZW5FbmQgPyAyNSA6IDApO1xuICAgICAgICBsZXQgZm91bmQgPSBmcm9tIDw9IHN0YXJ0UG9zICYmIHRvID4gc3RhcnRQb3MgJiYgZmluZFN0YXRlKGxhbmcsIGYudHJlZSwgMCAtIGYub2Zmc2V0LCBzdGFydFBvcywgdG8pLCB0cmVlO1xuICAgICAgICBpZiAoZm91bmQgJiYgKHRyZWUgPSBjdXRUcmVlKGxhbmcsIGYudHJlZSwgc3RhcnRQb3MgKyBmLm9mZnNldCwgZm91bmQucG9zICsgZi5vZmZzZXQsIGZhbHNlKSkpXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0ZTogZm91bmQuc3RhdGUsIHRyZWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhdGU6IGxhbmcuc3RyZWFtUGFyc2VyLnN0YXJ0U3RhdGUoZWRpdG9yU3RhdGUgPyBnZXRJbmRlbnRVbml0KGVkaXRvclN0YXRlKSA6IDQpLCB0cmVlOiBUcmVlLmVtcHR5IH07XG59XG5jbGFzcyBQYXJzZSB7XG4gICAgY29uc3RydWN0b3IobGFuZywgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmc7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHM7XG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2h1bmtzID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtQb3MgPSBbXTtcbiAgICAgICAgdGhpcy5jaHVuayA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rUmV1c2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJhbmdlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnRvID0gcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXS50bztcbiAgICAgICAgbGV0IGNvbnRleHQgPSBQYXJzZUNvbnRleHQuZ2V0KCksIGZyb20gPSByYW5nZXNbMF0uZnJvbTtcbiAgICAgICAgbGV0IHsgc3RhdGUsIHRyZWUgfSA9IGZpbmRTdGFydEluRnJhZ21lbnRzKGxhbmcsIGZyYWdtZW50cywgZnJvbSwgY29udGV4dCA9PT0gbnVsbCB8fCBjb250ZXh0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250ZXh0LnN0YXRlKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnBhcnNlZFBvcyA9IHRoaXMuY2h1bmtTdGFydCA9IGZyb20gKyB0cmVlLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmVlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rcy5wdXNoKHRyZWUuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgdGhpcy5jaHVua1Bvcy5wdXNoKHRyZWUucG9zaXRpb25zW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dCAmJiB0aGlzLnBhcnNlZFBvcyA8IGNvbnRleHQudmlld3BvcnQuZnJvbSAtIDEwMDAwMCAvKiBDLk1heERpc3RhbmNlQmVmb3JlVmlld3BvcnQgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmxhbmcuc3RyZWFtUGFyc2VyLnN0YXJ0U3RhdGUoZ2V0SW5kZW50VW5pdChjb250ZXh0LnN0YXRlKSk7XG4gICAgICAgICAgICBjb250ZXh0LnNraXBVbnRpbEluVmlldyh0aGlzLnBhcnNlZFBvcywgY29udGV4dC52aWV3cG9ydC5mcm9tKTtcbiAgICAgICAgICAgIHRoaXMucGFyc2VkUG9zID0gY29udGV4dC52aWV3cG9ydC5mcm9tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubW92ZVJhbmdlSW5kZXgoKTtcbiAgICB9XG4gICAgYWR2YW5jZSgpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBQYXJzZUNvbnRleHQuZ2V0KCk7XG4gICAgICAgIGxldCBwYXJzZUVuZCA9IHRoaXMuc3RvcHBlZEF0ID09IG51bGwgPyB0aGlzLnRvIDogTWF0aC5taW4odGhpcy50bywgdGhpcy5zdG9wcGVkQXQpO1xuICAgICAgICBsZXQgZW5kID0gTWF0aC5taW4ocGFyc2VFbmQsIHRoaXMuY2h1bmtTdGFydCArIDIwNDggLyogQy5DaHVua1NpemUgKi8pO1xuICAgICAgICBpZiAoY29udGV4dClcbiAgICAgICAgICAgIGVuZCA9IE1hdGgubWluKGVuZCwgY29udGV4dC52aWV3cG9ydC50byk7XG4gICAgICAgIHdoaWxlICh0aGlzLnBhcnNlZFBvcyA8IGVuZClcbiAgICAgICAgICAgIHRoaXMucGFyc2VMaW5lKGNvbnRleHQpO1xuICAgICAgICBpZiAodGhpcy5jaHVua1N0YXJ0IDwgdGhpcy5wYXJzZWRQb3MpXG4gICAgICAgICAgICB0aGlzLmZpbmlzaENodW5rKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZFBvcyA+PSBwYXJzZUVuZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmlzaCgpO1xuICAgICAgICBpZiAoY29udGV4dCAmJiB0aGlzLnBhcnNlZFBvcyA+PSBjb250ZXh0LnZpZXdwb3J0LnRvKSB7XG4gICAgICAgICAgICBjb250ZXh0LnNraXBVbnRpbEluVmlldyh0aGlzLnBhcnNlZFBvcywgcGFyc2VFbmQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0b3BBdChwb3MpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBwb3M7XG4gICAgfVxuICAgIGxpbmVBZnRlcihwb3MpIHtcbiAgICAgICAgbGV0IGNodW5rID0gdGhpcy5pbnB1dC5jaHVuayhwb3MpO1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQubGluZUNodW5rcykge1xuICAgICAgICAgICAgbGV0IGVvbCA9IGNodW5rLmluZGV4T2YoXCJcXG5cIik7XG4gICAgICAgICAgICBpZiAoZW9sID4gLTEpXG4gICAgICAgICAgICAgICAgY2h1bmsgPSBjaHVuay5zbGljZSgwLCBlb2wpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNodW5rID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgIGNodW5rID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zICsgY2h1bmsubGVuZ3RoIDw9IHRoaXMudG8gPyBjaHVuayA6IGNodW5rLnNsaWNlKDAsIHRoaXMudG8gLSBwb3MpO1xuICAgIH1cbiAgICBuZXh0TGluZSgpIHtcbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLnBhcnNlZFBvcywgbGluZSA9IHRoaXMubGluZUFmdGVyKGZyb20pLCBlbmQgPSBmcm9tICsgbGluZS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gdGhpcy5yYW5nZUluZGV4OzspIHtcbiAgICAgICAgICAgIGxldCByYW5nZUVuZCA9IHRoaXMucmFuZ2VzW2luZGV4XS50bztcbiAgICAgICAgICAgIGlmIChyYW5nZUVuZCA+PSBlbmQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsaW5lID0gbGluZS5zbGljZSgwLCByYW5nZUVuZCAtIChlbmQgLSBsaW5lLmxlbmd0aCkpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0aGlzLnJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBsZXQgcmFuZ2VTdGFydCA9IHRoaXMucmFuZ2VzW2luZGV4XS5mcm9tO1xuICAgICAgICAgICAgbGV0IGFmdGVyID0gdGhpcy5saW5lQWZ0ZXIocmFuZ2VTdGFydCk7XG4gICAgICAgICAgICBsaW5lICs9IGFmdGVyO1xuICAgICAgICAgICAgZW5kID0gcmFuZ2VTdGFydCArIGFmdGVyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBsaW5lLCBlbmQgfTtcbiAgICB9XG4gICAgc2tpcEdhcHNUbyhwb3MsIG9mZnNldCwgc2lkZSkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5yYW5nZXNbdGhpcy5yYW5nZUluZGV4XS50bywgb2ZmUG9zID0gcG9zICsgb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKHNpZGUgPiAwID8gZW5kID4gb2ZmUG9zIDogZW5kID49IG9mZlBvcylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucmFuZ2VzWysrdGhpcy5yYW5nZUluZGV4XS5mcm9tO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0YXJ0IC0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIG1vdmVSYW5nZUluZGV4KCkge1xuICAgICAgICB3aGlsZSAodGhpcy5yYW5nZXNbdGhpcy5yYW5nZUluZGV4XS50byA8IHRoaXMucGFyc2VkUG9zKVxuICAgICAgICAgICAgdGhpcy5yYW5nZUluZGV4Kys7XG4gICAgfVxuICAgIGVtaXRUb2tlbihpZCwgZnJvbSwgdG8sIHNpemUsIG9mZnNldCkge1xuICAgICAgICBpZiAodGhpcy5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5za2lwR2Fwc1RvKGZyb20sIG9mZnNldCwgMSk7XG4gICAgICAgICAgICBmcm9tICs9IG9mZnNldDtcbiAgICAgICAgICAgIGxldCBsZW4wID0gdGhpcy5jaHVuay5sZW5ndGg7XG4gICAgICAgICAgICBvZmZzZXQgPSB0aGlzLnNraXBHYXBzVG8odG8sIG9mZnNldCwgLTEpO1xuICAgICAgICAgICAgdG8gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgc2l6ZSArPSB0aGlzLmNodW5rLmxlbmd0aCAtIGxlbjA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVuay5wdXNoKGlkLCBmcm9tLCB0bywgc2l6ZSk7XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIHBhcnNlTGluZShjb250ZXh0KSB7XG4gICAgICAgIGxldCB7IGxpbmUsIGVuZCB9ID0gdGhpcy5uZXh0TGluZSgpLCBvZmZzZXQgPSAwLCB7IHN0cmVhbVBhcnNlciB9ID0gdGhpcy5sYW5nO1xuICAgICAgICBsZXQgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbShsaW5lLCBjb250ZXh0ID8gY29udGV4dC5zdGF0ZS50YWJTaXplIDogNCwgY29udGV4dCA/IGdldEluZGVudFVuaXQoY29udGV4dC5zdGF0ZSkgOiAyKTtcbiAgICAgICAgaWYgKHN0cmVhbS5lb2woKSkge1xuICAgICAgICAgICAgc3RyZWFtUGFyc2VyLmJsYW5rTGluZSh0aGlzLnN0YXRlLCBzdHJlYW0uaW5kZW50VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgICAgICAgICAgICAgIGxldCB0b2tlbiA9IHJlYWRUb2tlbihzdHJlYW1QYXJzZXIudG9rZW4sIHN0cmVhbSwgdGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuKVxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmVtaXRUb2tlbih0aGlzLmxhbmcudG9rZW5UYWJsZS5yZXNvbHZlKHRva2VuKSwgdGhpcy5wYXJzZWRQb3MgKyBzdHJlYW0uc3RhcnQsIHRoaXMucGFyc2VkUG9zICsgc3RyZWFtLnBvcywgNCwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyZWFtLnN0YXJ0ID4gMTAwMDAgLyogQy5NYXhMaW5lTGVuZ3RoICovKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnNlZFBvcyA9IGVuZDtcbiAgICAgICAgdGhpcy5tb3ZlUmFuZ2VJbmRleCgpO1xuICAgICAgICBpZiAodGhpcy5wYXJzZWRQb3MgPCB0aGlzLnRvKVxuICAgICAgICAgICAgdGhpcy5wYXJzZWRQb3MrKztcbiAgICB9XG4gICAgZmluaXNoQ2h1bmsoKSB7XG4gICAgICAgIGxldCB0cmVlID0gVHJlZS5idWlsZCh7XG4gICAgICAgICAgICBidWZmZXI6IHRoaXMuY2h1bmssXG4gICAgICAgICAgICBzdGFydDogdGhpcy5jaHVua1N0YXJ0LFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLnBhcnNlZFBvcyAtIHRoaXMuY2h1bmtTdGFydCxcbiAgICAgICAgICAgIG5vZGVTZXQsXG4gICAgICAgICAgICB0b3BJRDogMCxcbiAgICAgICAgICAgIG1heEJ1ZmZlckxlbmd0aDogMjA0OCAvKiBDLkNodW5rU2l6ZSAqLyxcbiAgICAgICAgICAgIHJldXNlZDogdGhpcy5jaHVua1JldXNlZFxuICAgICAgICB9KTtcbiAgICAgICAgdHJlZSA9IG5ldyBUcmVlKHRyZWUudHlwZSwgdHJlZS5jaGlsZHJlbiwgdHJlZS5wb3NpdGlvbnMsIHRyZWUubGVuZ3RoLCBbW3RoaXMubGFuZy5zdGF0ZUFmdGVyLCB0aGlzLmxhbmcuc3RyZWFtUGFyc2VyLmNvcHlTdGF0ZSh0aGlzLnN0YXRlKV1dKTtcbiAgICAgICAgdGhpcy5jaHVua3MucHVzaCh0cmVlKTtcbiAgICAgICAgdGhpcy5jaHVua1Bvcy5wdXNoKHRoaXMuY2h1bmtTdGFydCAtIHRoaXMucmFuZ2VzWzBdLmZyb20pO1xuICAgICAgICB0aGlzLmNodW5rID0gW107XG4gICAgICAgIHRoaXMuY2h1bmtSZXVzZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2h1bmtTdGFydCA9IHRoaXMucGFyc2VkUG9zO1xuICAgIH1cbiAgICBmaW5pc2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJlZSh0aGlzLmxhbmcudG9wTm9kZSwgdGhpcy5jaHVua3MsIHRoaXMuY2h1bmtQb3MsIHRoaXMucGFyc2VkUG9zIC0gdGhpcy5yYW5nZXNbMF0uZnJvbSkuYmFsYW5jZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRUb2tlbih0b2tlbiwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB0b2tlbihzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJlYW0gcGFyc2VyIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIik7XG59XG5jb25zdCBub1Rva2VucyA9IC8qQF9fUFVSRV9fKi9PYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3QgdHlwZUFycmF5ID0gW05vZGVUeXBlLm5vbmVdO1xuY29uc3Qgbm9kZVNldCA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVNldCh0eXBlQXJyYXkpO1xuY29uc3Qgd2FybmVkID0gW107XG5jb25zdCBkZWZhdWx0VGFibGUgPSAvKkBfX1BVUkVfXyovT2JqZWN0LmNyZWF0ZShudWxsKTtcbmZvciAobGV0IFtsZWdhY3lOYW1lLCBuYW1lXSBvZiBbXG4gICAgW1widmFyaWFibGVcIiwgXCJ2YXJpYWJsZU5hbWVcIl0sXG4gICAgW1widmFyaWFibGUtMlwiLCBcInZhcmlhYmxlTmFtZS5zcGVjaWFsXCJdLFxuICAgIFtcInN0cmluZy0yXCIsIFwic3RyaW5nLnNwZWNpYWxcIl0sXG4gICAgW1wiZGVmXCIsIFwidmFyaWFibGVOYW1lLmRlZmluaXRpb25cIl0sXG4gICAgW1widGFnXCIsIFwidGFnTmFtZVwiXSxcbiAgICBbXCJhdHRyaWJ1dGVcIiwgXCJhdHRyaWJ1dGVOYW1lXCJdLFxuICAgIFtcInR5cGVcIiwgXCJ0eXBlTmFtZVwiXSxcbiAgICBbXCJidWlsdGluXCIsIFwidmFyaWFibGVOYW1lLnN0YW5kYXJkXCJdLFxuICAgIFtcInF1YWxpZmllclwiLCBcIm1vZGlmaWVyXCJdLFxuICAgIFtcImVycm9yXCIsIFwiaW52YWxpZFwiXSxcbiAgICBbXCJoZWFkZXJcIiwgXCJoZWFkaW5nXCJdLFxuICAgIFtcInByb3BlcnR5XCIsIFwicHJvcGVydHlOYW1lXCJdXG5dKVxuICAgIGRlZmF1bHRUYWJsZVtsZWdhY3lOYW1lXSA9IC8qQF9fUFVSRV9fKi9jcmVhdGVUb2tlblR5cGUobm9Ub2tlbnMsIG5hbWUpO1xuY2xhc3MgVG9rZW5UYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZXh0cmEpIHtcbiAgICAgICAgdGhpcy5leHRyYSA9IGV4dHJhO1xuICAgICAgICB0aGlzLnRhYmxlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKG51bGwpLCBkZWZhdWx0VGFibGUpO1xuICAgIH1cbiAgICByZXNvbHZlKHRhZykge1xuICAgICAgICByZXR1cm4gIXRhZyA/IDAgOiB0aGlzLnRhYmxlW3RhZ10gfHwgKHRoaXMudGFibGVbdGFnXSA9IGNyZWF0ZVRva2VuVHlwZSh0aGlzLmV4dHJhLCB0YWcpKTtcbiAgICB9XG59XG5jb25zdCBkZWZhdWx0VG9rZW5UYWJsZSA9IC8qQF9fUFVSRV9fKi9uZXcgVG9rZW5UYWJsZShub1Rva2Vucyk7XG5mdW5jdGlvbiB3YXJuRm9yUGFydChwYXJ0LCBtc2cpIHtcbiAgICBpZiAod2FybmVkLmluZGV4T2YocGFydCkgPiAtMSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHdhcm5lZC5wdXNoKHBhcnQpO1xuICAgIGNvbnNvbGUud2Fybihtc2cpO1xufVxuZnVuY3Rpb24gY3JlYXRlVG9rZW5UeXBlKGV4dHJhLCB0YWdTdHIpIHtcbiAgICBsZXQgdGFnID0gbnVsbDtcbiAgICBmb3IgKGxldCBwYXJ0IG9mIHRhZ1N0ci5zcGxpdChcIi5cIikpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gKGV4dHJhW3BhcnRdIHx8IHRhZ3NbcGFydF0pO1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB3YXJuRm9yUGFydChwYXJ0LCBgVW5rbm93biBoaWdobGlnaHRpbmcgdGFnICR7cGFydH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBpZiAoIXRhZylcbiAgICAgICAgICAgICAgICB3YXJuRm9yUGFydChwYXJ0LCBgTW9kaWZpZXIgJHtwYXJ0fSB1c2VkIGF0IHN0YXJ0IG9mIHRhZ2ApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRhZyA9IHZhbHVlKHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGFnKVxuICAgICAgICAgICAgICAgIHdhcm5Gb3JQYXJ0KHBhcnQsIGBUYWcgJHtwYXJ0fSB1c2VkIGFzIG1vZGlmaWVyYCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGFnID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0YWcpXG4gICAgICAgIHJldHVybiAwO1xuICAgIGxldCBuYW1lID0gdGFnU3RyLnJlcGxhY2UoLyAvZywgXCJfXCIpLCB0eXBlID0gTm9kZVR5cGUuZGVmaW5lKHtcbiAgICAgICAgaWQ6IHR5cGVBcnJheS5sZW5ndGgsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHByb3BzOiBbc3R5bGVUYWdzKHsgW25hbWVdOiB0YWcgfSldXG4gICAgfSk7XG4gICAgdHlwZUFycmF5LnB1c2godHlwZSk7XG4gICAgcmV0dXJuIHR5cGUuaWQ7XG59XG5mdW5jdGlvbiBkb2NJRChkYXRhKSB7XG4gICAgbGV0IHR5cGUgPSBOb2RlVHlwZS5kZWZpbmUoeyBpZDogdHlwZUFycmF5Lmxlbmd0aCwgbmFtZTogXCJEb2N1bWVudFwiLCBwcm9wczogW2xhbmd1YWdlRGF0YVByb3AuYWRkKCgpID0+IGRhdGEpXSB9KTtcbiAgICB0eXBlQXJyYXkucHVzaCh0eXBlKTtcbiAgICByZXR1cm4gdHlwZTtcbn1cblxuZXhwb3J0IHsgSGlnaGxpZ2h0U3R5bGUsIEluZGVudENvbnRleHQsIExSTGFuZ3VhZ2UsIExhbmd1YWdlLCBMYW5ndWFnZURlc2NyaXB0aW9uLCBMYW5ndWFnZVN1cHBvcnQsIFBhcnNlQ29udGV4dCwgU3RyZWFtTGFuZ3VhZ2UsIFN0cmluZ1N0cmVhbSwgVHJlZUluZGVudENvbnRleHQsIGJyYWNrZXRNYXRjaGluZywgY29kZUZvbGRpbmcsIGNvbnRpbnVlZEluZGVudCwgZGVmYXVsdEhpZ2hsaWdodFN0eWxlLCBkZWZpbmVMYW5ndWFnZUZhY2V0LCBkZWxpbWl0ZWRJbmRlbnQsIGVuc3VyZVN5bnRheFRyZWUsIGZsYXRJbmRlbnQsIGZvbGRBbGwsIGZvbGRDb2RlLCBmb2xkRWZmZWN0LCBmb2xkR3V0dGVyLCBmb2xkSW5zaWRlLCBmb2xkS2V5bWFwLCBmb2xkTm9kZVByb3AsIGZvbGRTZXJ2aWNlLCBmb2xkU3RhdGUsIGZvbGRhYmxlLCBmb2xkZWRSYW5nZXMsIGZvcmNlUGFyc2luZywgZ2V0SW5kZW50VW5pdCwgZ2V0SW5kZW50YXRpb24sIGhpZ2hsaWdodGluZ0ZvciwgaW5kZW50Tm9kZVByb3AsIGluZGVudE9uSW5wdXQsIGluZGVudFJhbmdlLCBpbmRlbnRTZXJ2aWNlLCBpbmRlbnRTdHJpbmcsIGluZGVudFVuaXQsIGxhbmd1YWdlLCBsYW5ndWFnZURhdGFQcm9wLCBtYXRjaEJyYWNrZXRzLCBzeW50YXhIaWdobGlnaHRpbmcsIHN5bnRheFBhcnNlclJ1bm5pbmcsIHN5bnRheFRyZWUsIHN5bnRheFRyZWVBdmFpbGFibGUsIHVuZm9sZEFsbCwgdW5mb2xkQ29kZSwgdW5mb2xkRWZmZWN0IH07XG4iLCAiaW1wb3J0IHsgQW5ub3RhdGlvbiwgRmFjZXQsIGNvbWJpbmVDb25maWcsIFN0YXRlRmllbGQsIEVkaXRvclNlbGVjdGlvbiwgVHJhbnNhY3Rpb24sIENoYW5nZVNldCwgQ2hhbmdlRGVzYywgU3RhdGVFZmZlY3QsIFRleHQsIGZpbmRDbHVzdGVyQnJlYWssIGNvdW50Q29sdW1uLCBDaGFyQ2F0ZWdvcnkgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBFZGl0b3JWaWV3LCBEaXJlY3Rpb24gfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEluZGVudENvbnRleHQsIGdldEluZGVudGF0aW9uLCBpbmRlbnRTdHJpbmcsIGluZGVudFVuaXQsIGdldEluZGVudFVuaXQsIG1hdGNoQnJhY2tldHMsIHN5bnRheFRyZWUgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5pbXBvcnQgeyBOb2RlUHJvcCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vKipcbkNvbW1lbnQgb3IgdW5jb21tZW50IHRoZSBjdXJyZW50IHNlbGVjdGlvbi4gV2lsbCB1c2UgbGluZSBjb21tZW50c1xuaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgZmFsbGluZyBiYWNrIHRvIGJsb2NrIGNvbW1lbnRzLlxuKi9cbmNvbnN0IHRvZ2dsZUNvbW1lbnQgPSB0YXJnZXQgPT4ge1xuICAgIGxldCBjb25maWcgPSBnZXRDb25maWcodGFyZ2V0LnN0YXRlKTtcbiAgICByZXR1cm4gY29uZmlnLmxpbmUgPyB0b2dnbGVMaW5lQ29tbWVudCh0YXJnZXQpIDogY29uZmlnLmJsb2NrID8gdG9nZ2xlQmxvY2tDb21tZW50QnlMaW5lKHRhcmdldCkgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiBjb21tYW5kKGYsIG9wdGlvbikge1xuICAgIHJldHVybiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB0ciA9IGYob3B0aW9uLCBzdGF0ZSk7XG4gICAgICAgIGlmICghdHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZSh0cikpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgbGluZSBjb21tZW50cy5cblRoZSBsaW5lIGNvbW1lbnQgc3ludGF4IGlzIHRha2VuIGZyb20gdGhlXG5bYGNvbW1lbnRUb2tlbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLkNvbW1lbnRUb2tlbnMpIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkuXG4qL1xuY29uc3QgdG9nZ2xlTGluZUNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VMaW5lQ29tbWVudCwgMCAvKiBDb21tZW50T3B0aW9uLlRvZ2dsZSAqLyk7XG4vKipcbkNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGxpbmUgY29tbWVudHMuXG4qL1xuY29uc3QgbGluZUNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VMaW5lQ29tbWVudCwgMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8pO1xuLyoqXG5VbmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGxpbmUgY29tbWVudHMuXG4qL1xuY29uc3QgbGluZVVuY29tbWVudCA9IC8qQF9fUFVSRV9fKi9jb21tYW5kKGNoYW5nZUxpbmVDb21tZW50LCAyIC8qIENvbW1lbnRPcHRpb24uVW5jb21tZW50ICovKTtcbi8qKlxuQ29tbWVudCBvciB1bmNvbW1lbnQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHVzaW5nIGJsb2NrIGNvbW1lbnRzLlxuVGhlIGJsb2NrIGNvbW1lbnQgc3ludGF4IGlzIHRha2VuIGZyb20gdGhlXG5bYGNvbW1lbnRUb2tlbnNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLkNvbW1lbnRUb2tlbnMpIFtsYW5ndWFnZVxuZGF0YV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZS5sYW5ndWFnZURhdGFBdCkuXG4qL1xuY29uc3QgdG9nZ2xlQmxvY2tDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlQmxvY2tDb21tZW50LCAwIC8qIENvbW1lbnRPcHRpb24uVG9nZ2xlICovKTtcbi8qKlxuQ29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgYmxvY2tDb21tZW50ID0gLypAX19QVVJFX18qL2NvbW1hbmQoY2hhbmdlQmxvY2tDb21tZW50LCAxIC8qIENvbW1lbnRPcHRpb24uQ29tbWVudCAqLyk7XG4vKipcblVuY29tbWVudCB0aGUgY3VycmVudCBzZWxlY3Rpb24gdXNpbmcgYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgYmxvY2tVbmNvbW1lbnQgPSAvKkBfX1BVUkVfXyovY29tbWFuZChjaGFuZ2VCbG9ja0NvbW1lbnQsIDIgLyogQ29tbWVudE9wdGlvbi5VbmNvbW1lbnQgKi8pO1xuLyoqXG5Db21tZW50IG9yIHVuY29tbWVudCB0aGUgbGluZXMgYXJvdW5kIHRoZSBjdXJyZW50IHNlbGVjdGlvbiB1c2luZ1xuYmxvY2sgY29tbWVudHMuXG4qL1xuY29uc3QgdG9nZ2xlQmxvY2tDb21tZW50QnlMaW5lID0gLypAX19QVVJFX18qL2NvbW1hbmQoKG8sIHMpID0+IGNoYW5nZUJsb2NrQ29tbWVudChvLCBzLCBzZWxlY3RlZExpbmVSYW5nZXMocykpLCAwIC8qIENvbW1lbnRPcHRpb24uVG9nZ2xlICovKTtcbmZ1bmN0aW9uIGdldENvbmZpZyhzdGF0ZSwgcG9zID0gc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCkge1xuICAgIGxldCBkYXRhID0gc3RhdGUubGFuZ3VhZ2VEYXRhQXQoXCJjb21tZW50VG9rZW5zXCIsIHBvcyk7XG4gICAgcmV0dXJuIGRhdGEubGVuZ3RoID8gZGF0YVswXSA6IHt9O1xufVxuY29uc3QgU2VhcmNoTWFyZ2luID0gNTA7XG4vKipcbkRldGVybWluZXMgaWYgdGhlIGdpdmVuIHJhbmdlIGlzIGJsb2NrLWNvbW1lbnRlZCBpbiB0aGUgZ2l2ZW5cbnN0YXRlLlxuKi9cbmZ1bmN0aW9uIGZpbmRCbG9ja0NvbW1lbnQoc3RhdGUsIHsgb3BlbiwgY2xvc2UgfSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgdGV4dEJlZm9yZSA9IHN0YXRlLnNsaWNlRG9jKGZyb20gLSBTZWFyY2hNYXJnaW4sIGZyb20pO1xuICAgIGxldCB0ZXh0QWZ0ZXIgPSBzdGF0ZS5zbGljZURvYyh0bywgdG8gKyBTZWFyY2hNYXJnaW4pO1xuICAgIGxldCBzcGFjZUJlZm9yZSA9IC9cXHMqJC8uZXhlYyh0ZXh0QmVmb3JlKVswXS5sZW5ndGgsIHNwYWNlQWZ0ZXIgPSAvXlxccyovLmV4ZWModGV4dEFmdGVyKVswXS5sZW5ndGg7XG4gICAgbGV0IGJlZm9yZU9mZiA9IHRleHRCZWZvcmUubGVuZ3RoIC0gc3BhY2VCZWZvcmU7XG4gICAgaWYgKHRleHRCZWZvcmUuc2xpY2UoYmVmb3JlT2ZmIC0gb3Blbi5sZW5ndGgsIGJlZm9yZU9mZikgPT0gb3BlbiAmJlxuICAgICAgICB0ZXh0QWZ0ZXIuc2xpY2Uoc3BhY2VBZnRlciwgc3BhY2VBZnRlciArIGNsb3NlLmxlbmd0aCkgPT0gY2xvc2UpIHtcbiAgICAgICAgcmV0dXJuIHsgb3BlbjogeyBwb3M6IGZyb20gLSBzcGFjZUJlZm9yZSwgbWFyZ2luOiBzcGFjZUJlZm9yZSAmJiAxIH0sXG4gICAgICAgICAgICBjbG9zZTogeyBwb3M6IHRvICsgc3BhY2VBZnRlciwgbWFyZ2luOiBzcGFjZUFmdGVyICYmIDEgfSB9O1xuICAgIH1cbiAgICBsZXQgc3RhcnRUZXh0LCBlbmRUZXh0O1xuICAgIGlmICh0byAtIGZyb20gPD0gMiAqIFNlYXJjaE1hcmdpbikge1xuICAgICAgICBzdGFydFRleHQgPSBlbmRUZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhcnRUZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgZnJvbSArIFNlYXJjaE1hcmdpbik7XG4gICAgICAgIGVuZFRleHQgPSBzdGF0ZS5zbGljZURvYyh0byAtIFNlYXJjaE1hcmdpbiwgdG8pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRTcGFjZSA9IC9eXFxzKi8uZXhlYyhzdGFydFRleHQpWzBdLmxlbmd0aCwgZW5kU3BhY2UgPSAvXFxzKiQvLmV4ZWMoZW5kVGV4dClbMF0ubGVuZ3RoO1xuICAgIGxldCBlbmRPZmYgPSBlbmRUZXh0Lmxlbmd0aCAtIGVuZFNwYWNlIC0gY2xvc2UubGVuZ3RoO1xuICAgIGlmIChzdGFydFRleHQuc2xpY2Uoc3RhcnRTcGFjZSwgc3RhcnRTcGFjZSArIG9wZW4ubGVuZ3RoKSA9PSBvcGVuICYmXG4gICAgICAgIGVuZFRleHQuc2xpY2UoZW5kT2ZmLCBlbmRPZmYgKyBjbG9zZS5sZW5ndGgpID09IGNsb3NlKSB7XG4gICAgICAgIHJldHVybiB7IG9wZW46IHsgcG9zOiBmcm9tICsgc3RhcnRTcGFjZSArIG9wZW4ubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogL1xccy8udGVzdChzdGFydFRleHQuY2hhckF0KHN0YXJ0U3BhY2UgKyBvcGVuLmxlbmd0aCkpID8gMSA6IDAgfSxcbiAgICAgICAgICAgIGNsb3NlOiB7IHBvczogdG8gLSBlbmRTcGFjZSAtIGNsb3NlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBtYXJnaW46IC9cXHMvLnRlc3QoZW5kVGV4dC5jaGFyQXQoZW5kT2ZmIC0gMSkpID8gMSA6IDAgfSB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHNlbGVjdGVkTGluZVJhbmdlcyhzdGF0ZSkge1xuICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCByIG9mIHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICAgICAgbGV0IGZyb21MaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyLmZyb20pO1xuICAgICAgICBsZXQgdG9MaW5lID0gci50byA8PSBmcm9tTGluZS50byA/IGZyb21MaW5lIDogc3RhdGUuZG9jLmxpbmVBdChyLnRvKTtcbiAgICAgICAgbGV0IGxhc3QgPSByYW5nZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPj0gMCAmJiByYW5nZXNbbGFzdF0udG8gPiBmcm9tTGluZS5mcm9tKVxuICAgICAgICAgICAgcmFuZ2VzW2xhc3RdLnRvID0gdG9MaW5lLnRvO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByYW5nZXMucHVzaCh7IGZyb206IGZyb21MaW5lLmZyb20sIHRvOiB0b0xpbmUudG8gfSk7XG4gICAgfVxuICAgIHJldHVybiByYW5nZXM7XG59XG4vLyBQZXJmb3JtcyB0b2dnbGUsIGNvbW1lbnQgYW5kIHVuY29tbWVudCBvZiBibG9jayBjb21tZW50cyBpblxuLy8gbGFuZ3VhZ2VzIHRoYXQgc3VwcG9ydCB0aGVtLlxuZnVuY3Rpb24gY2hhbmdlQmxvY2tDb21tZW50KG9wdGlvbiwgc3RhdGUsIHJhbmdlcyA9IHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICBsZXQgdG9rZW5zID0gcmFuZ2VzLm1hcChyID0+IGdldENvbmZpZyhzdGF0ZSwgci5mcm9tKS5ibG9jayk7XG4gICAgaWYgKCF0b2tlbnMuZXZlcnkoYyA9PiBjKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGNvbW1lbnRzID0gcmFuZ2VzLm1hcCgociwgaSkgPT4gZmluZEJsb2NrQ29tbWVudChzdGF0ZSwgdG9rZW5zW2ldLCByLmZyb20sIHIudG8pKTtcbiAgICBpZiAob3B0aW9uICE9IDIgLyogQ29tbWVudE9wdGlvbi5VbmNvbW1lbnQgKi8gJiYgIWNvbW1lbnRzLmV2ZXJ5KGMgPT4gYykpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogc3RhdGUuY2hhbmdlcyhyYW5nZXMubWFwKChyYW5nZSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb21tZW50c1tpXSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiBbeyBmcm9tOiByYW5nZS5mcm9tLCBpbnNlcnQ6IHRva2Vuc1tpXS5vcGVuICsgXCIgXCIgfSwgeyBmcm9tOiByYW5nZS50bywgaW5zZXJ0OiBcIiBcIiArIHRva2Vuc1tpXS5jbG9zZSB9XTtcbiAgICAgICAgICAgIH0pKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb24gIT0gMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8gJiYgY29tbWVudHMuc29tZShjID0+IGMpKSB7XG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBjb21tZW50OyBpIDwgY29tbWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoY29tbWVudCA9IGNvbW1lbnRzW2ldKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gdG9rZW5zW2ldLCB7IG9wZW4sIGNsb3NlIH0gPSBjb21tZW50O1xuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IG9wZW4ucG9zIC0gdG9rZW4ub3Blbi5sZW5ndGgsIHRvOiBvcGVuLnBvcyArIG9wZW4ubWFyZ2luIH0sIHsgZnJvbTogY2xvc2UucG9zIC0gY2xvc2UubWFyZ2luLCB0bzogY2xvc2UucG9zICsgdG9rZW4uY2xvc2UubGVuZ3RoIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBjaGFuZ2VzIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8gUGVyZm9ybXMgdG9nZ2xlLCBjb21tZW50IGFuZCB1bmNvbW1lbnQgb2YgbGluZSBjb21tZW50cy5cbmZ1bmN0aW9uIGNoYW5nZUxpbmVDb21tZW50KG9wdGlvbiwgc3RhdGUsIHJhbmdlcyA9IHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMpIHtcbiAgICBsZXQgbGluZXMgPSBbXTtcbiAgICBsZXQgcHJldkxpbmUgPSAtMTtcbiAgICBmb3IgKGxldCB7IGZyb20sIHRvIH0gb2YgcmFuZ2VzKSB7XG4gICAgICAgIGxldCBzdGFydEkgPSBsaW5lcy5sZW5ndGgsIG1pbkluZGVudCA9IDFlOTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gZnJvbTsgcG9zIDw9IHRvOykge1xuICAgICAgICAgICAgbGV0IGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgICAgICBpZiAobGluZS5mcm9tID4gcHJldkxpbmUgJiYgKGZyb20gPT0gdG8gfHwgdG8gPiBsaW5lLmZyb20pKSB7XG4gICAgICAgICAgICAgICAgcHJldkxpbmUgPSBsaW5lLmZyb207XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuID0gZ2V0Q29uZmlnKHN0YXRlLCBwb3MpLmxpbmU7XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgbGV0IGluZGVudCA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgZW1wdHkgPSBpbmRlbnQgPT0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGNvbW1lbnQgPSBsaW5lLnRleHQuc2xpY2UoaW5kZW50LCBpbmRlbnQgKyB0b2tlbi5sZW5ndGgpID09IHRva2VuID8gaW5kZW50IDogLTE7XG4gICAgICAgICAgICAgICAgaWYgKGluZGVudCA8IGxpbmUudGV4dC5sZW5ndGggJiYgaW5kZW50IDwgbWluSW5kZW50KVxuICAgICAgICAgICAgICAgICAgICBtaW5JbmRlbnQgPSBpbmRlbnQ7XG4gICAgICAgICAgICAgICAgbGluZXMucHVzaCh7IGxpbmUsIGNvbW1lbnQsIHRva2VuLCBpbmRlbnQsIGVtcHR5LCBzaW5nbGU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zID0gbGluZS50byArIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pbkluZGVudCA8IDFlOSlcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydEk7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAobGluZXNbaV0uaW5kZW50IDwgbGluZXNbaV0ubGluZS50ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0uaW5kZW50ID0gbWluSW5kZW50O1xuICAgICAgICBpZiAobGluZXMubGVuZ3RoID09IHN0YXJ0SSArIDEpXG4gICAgICAgICAgICBsaW5lc1tzdGFydEldLnNpbmdsZSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRpb24gIT0gMiAvKiBDb21tZW50T3B0aW9uLlVuY29tbWVudCAqLyAmJiBsaW5lcy5zb21lKGwgPT4gbC5jb21tZW50IDwgMCAmJiAoIWwuZW1wdHkgfHwgbC5zaW5nbGUpKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGxpbmUsIHRva2VuLCBpbmRlbnQsIGVtcHR5LCBzaW5nbGUgfSBvZiBsaW5lcylcbiAgICAgICAgICAgIGlmIChzaW5nbGUgfHwgIWVtcHR5KVxuICAgICAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGxpbmUuZnJvbSArIGluZGVudCwgaW5zZXJ0OiB0b2tlbiArIFwiIFwiIH0pO1xuICAgICAgICBsZXQgY2hhbmdlU2V0ID0gc3RhdGUuY2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogY2hhbmdlU2V0LCBzZWxlY3Rpb246IHN0YXRlLnNlbGVjdGlvbi5tYXAoY2hhbmdlU2V0LCAxKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChvcHRpb24gIT0gMSAvKiBDb21tZW50T3B0aW9uLkNvbW1lbnQgKi8gJiYgbGluZXMuc29tZShsID0+IGwuY29tbWVudCA+PSAwKSkge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCB7IGxpbmUsIGNvbW1lbnQsIHRva2VuIH0gb2YgbGluZXMpXG4gICAgICAgICAgICBpZiAoY29tbWVudCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBsaW5lLmZyb20gKyBjb21tZW50LCB0byA9IGZyb20gKyB0b2tlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUudGV4dFt0byAtIGxpbmUuZnJvbV0gPT0gXCIgXCIpXG4gICAgICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbSwgdG8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGNoYW5nZXMgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IGZyb21IaXN0b3J5ID0gLypAX19QVVJFX18qL0Fubm90YXRpb24uZGVmaW5lKCk7XG4vKipcblRyYW5zYWN0aW9uIGFubm90YXRpb24gdGhhdCB3aWxsIHByZXZlbnQgdGhhdCB0cmFuc2FjdGlvbiBmcm9tXG5iZWluZyBjb21iaW5lZCB3aXRoIG90aGVyIHRyYW5zYWN0aW9ucyBpbiB0aGUgdW5kbyBoaXN0b3J5LiBHaXZlblxuYFwiYmVmb3JlXCJgLCBpdCdsbCBwcmV2ZW50IG1lcmdpbmcgd2l0aCBwcmV2aW91cyB0cmFuc2FjdGlvbnMuIFdpdGhcbmBcImFmdGVyXCJgLCBzdWJzZXF1ZW50IHRyYW5zYWN0aW9ucyB3b24ndCBiZSBjb21iaW5lZCB3aXRoIHRoaXNcbm9uZS4gV2l0aCBgXCJmdWxsXCJgLCB0aGUgdHJhbnNhY3Rpb24gaXMgaXNvbGF0ZWQgb24gYm90aCBzaWRlcy5cbiovXG5jb25zdCBpc29sYXRlSGlzdG9yeSA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5UaGlzIGZhY2V0IHByb3ZpZGVzIGEgd2F5IHRvIHJlZ2lzdGVyIGZ1bmN0aW9ucyB0aGF0LCBnaXZlbiBhXG50cmFuc2FjdGlvbiwgcHJvdmlkZSBhIHNldCBvZiBlZmZlY3RzIHRoYXQgdGhlIGhpc3Rvcnkgc2hvdWxkXG5zdG9yZSB3aGVuIGludmVydGluZyB0aGUgdHJhbnNhY3Rpb24uIFRoaXMgY2FuIGJlIHVzZWQgdG9cbmludGVncmF0ZSBzb21lIGtpbmRzIG9mIGVmZmVjdHMgaW4gdGhlIGhpc3RvcnksIHNvIHRoYXQgdGhleSBjYW5cbmJlIHVuZG9uZSAoYW5kIHJlZG9uZSBhZ2FpbikuXG4qL1xuY29uc3QgaW52ZXJ0ZWRFZmZlY3RzID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSgpO1xuY29uc3QgaGlzdG9yeUNvbmZpZyA9IC8qQF9fUFVSRV9fKi9GYWNldC5kZWZpbmUoe1xuICAgIGNvbWJpbmUoY29uZmlncykge1xuICAgICAgICByZXR1cm4gY29tYmluZUNvbmZpZyhjb25maWdzLCB7XG4gICAgICAgICAgICBtaW5EZXB0aDogMTAwLFxuICAgICAgICAgICAgbmV3R3JvdXBEZWxheTogNTAwXG4gICAgICAgIH0sIHsgbWluRGVwdGg6IE1hdGgubWF4LCBuZXdHcm91cERlbGF5OiBNYXRoLm1pbiB9KTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIGNoYW5nZUVuZChjaGFuZ2VzKSB7XG4gICAgbGV0IGVuZCA9IDA7XG4gICAgY2hhbmdlcy5pdGVyQ2hhbmdlZFJhbmdlcygoXywgdG8pID0+IGVuZCA9IHRvKTtcbiAgICByZXR1cm4gZW5kO1xufVxuY29uc3QgaGlzdG9yeUZpZWxkXyA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gSGlzdG9yeVN0YXRlLmVtcHR5O1xuICAgIH0sXG4gICAgdXBkYXRlKHN0YXRlLCB0cikge1xuICAgICAgICBsZXQgY29uZmlnID0gdHIuc3RhdGUuZmFjZXQoaGlzdG9yeUNvbmZpZyk7XG4gICAgICAgIGxldCBmcm9tSGlzdCA9IHRyLmFubm90YXRpb24oZnJvbUhpc3RvcnkpO1xuICAgICAgICBpZiAoZnJvbUhpc3QpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3Rpb24gPSB0ci5kb2NDaGFuZ2VkID8gRWRpdG9yU2VsZWN0aW9uLnNpbmdsZShjaGFuZ2VFbmQodHIuY2hhbmdlcykpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSBIaXN0RXZlbnQuZnJvbVRyYW5zYWN0aW9uKHRyLCBzZWxlY3Rpb24pLCBmcm9tID0gZnJvbUhpc3Quc2lkZTtcbiAgICAgICAgICAgIGxldCBvdGhlciA9IGZyb20gPT0gMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8gPyBzdGF0ZS51bmRvbmUgOiBzdGF0ZS5kb25lO1xuICAgICAgICAgICAgaWYgKGl0ZW0pXG4gICAgICAgICAgICAgICAgb3RoZXIgPSB1cGRhdGVCcmFuY2gob3RoZXIsIG90aGVyLmxlbmd0aCwgY29uZmlnLm1pbkRlcHRoLCBpdGVtKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvdGhlciA9IGFkZFNlbGVjdGlvbihvdGhlciwgdHIuc3RhcnRTdGF0ZS5zZWxlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBIaXN0b3J5U3RhdGUoZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IGZyb21IaXN0LnJlc3QgOiBvdGhlciwgZnJvbSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IG90aGVyIDogZnJvbUhpc3QucmVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlzb2xhdGUgPSB0ci5hbm5vdGF0aW9uKGlzb2xhdGVIaXN0b3J5KTtcbiAgICAgICAgaWYgKGlzb2xhdGUgPT0gXCJmdWxsXCIgfHwgaXNvbGF0ZSA9PSBcImJlZm9yZVwiKVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5pc29sYXRlKCk7XG4gICAgICAgIGlmICh0ci5hbm5vdGF0aW9uKFRyYW5zYWN0aW9uLmFkZFRvSGlzdG9yeSkgPT09IGZhbHNlKVxuICAgICAgICAgICAgcmV0dXJuICF0ci5jaGFuZ2VzLmVtcHR5ID8gc3RhdGUuYWRkTWFwcGluZyh0ci5jaGFuZ2VzLmRlc2MpIDogc3RhdGU7XG4gICAgICAgIGxldCBldmVudCA9IEhpc3RFdmVudC5mcm9tVHJhbnNhY3Rpb24odHIpO1xuICAgICAgICBsZXQgdGltZSA9IHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24udGltZSksIHVzZXJFdmVudCA9IHRyLmFubm90YXRpb24oVHJhbnNhY3Rpb24udXNlckV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50KVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5hZGRDaGFuZ2VzKGV2ZW50LCB0aW1lLCB1c2VyRXZlbnQsIGNvbmZpZy5uZXdHcm91cERlbGF5LCBjb25maWcubWluRGVwdGgpO1xuICAgICAgICBlbHNlIGlmICh0ci5zZWxlY3Rpb24pXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLmFkZFNlbGVjdGlvbih0ci5zdGFydFN0YXRlLnNlbGVjdGlvbiwgdGltZSwgdXNlckV2ZW50LCBjb25maWcubmV3R3JvdXBEZWxheSk7XG4gICAgICAgIGlmIChpc29sYXRlID09IFwiZnVsbFwiIHx8IGlzb2xhdGUgPT0gXCJhZnRlclwiKVxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5pc29sYXRlKCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIHRvSlNPTih2YWx1ZSkge1xuICAgICAgICByZXR1cm4geyBkb25lOiB2YWx1ZS5kb25lLm1hcChlID0+IGUudG9KU09OKCkpLCB1bmRvbmU6IHZhbHVlLnVuZG9uZS5tYXAoZSA9PiBlLnRvSlNPTigpKSB9O1xuICAgIH0sXG4gICAgZnJvbUpTT04oanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShqc29uLmRvbmUubWFwKEhpc3RFdmVudC5mcm9tSlNPTiksIGpzb24udW5kb25lLm1hcChIaXN0RXZlbnQuZnJvbUpTT04pKTtcbiAgICB9XG59KTtcbi8qKlxuQ3JlYXRlIGEgaGlzdG9yeSBleHRlbnNpb24gd2l0aCB0aGUgZ2l2ZW4gY29uZmlndXJhdGlvbi5cbiovXG5mdW5jdGlvbiBoaXN0b3J5KGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgaGlzdG9yeUZpZWxkXyxcbiAgICAgICAgaGlzdG9yeUNvbmZpZy5vZihjb25maWcpLFxuICAgICAgICBFZGl0b3JWaWV3LmRvbUV2ZW50SGFuZGxlcnMoe1xuICAgICAgICAgICAgYmVmb3JlaW5wdXQoZSwgdmlldykge1xuICAgICAgICAgICAgICAgIGxldCBjb21tYW5kID0gZS5pbnB1dFR5cGUgPT0gXCJoaXN0b3J5VW5kb1wiID8gdW5kbyA6IGUuaW5wdXRUeXBlID09IFwiaGlzdG9yeVJlZG9cIiA/IHJlZG8gOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZCh2aWV3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICBdO1xufVxuLyoqXG5UaGUgc3RhdGUgZmllbGQgdXNlZCB0byBzdG9yZSB0aGUgaGlzdG9yeSBkYXRhLiBTaG91bGQgcHJvYmFibHlcbm9ubHkgYmUgdXNlZCB3aGVuIHlvdSB3YW50IHRvXG5bc2VyaWFsaXplXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI3N0YXRlLkVkaXRvclN0YXRlLnRvSlNPTikgb3JcbltkZXNlcmlhbGl6ZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNzdGF0ZS5FZGl0b3JTdGF0ZV5mcm9tSlNPTikgc3RhdGUgb2JqZWN0cyBpbiBhIHdheVxudGhhdCBwcmVzZXJ2ZXMgaGlzdG9yeS5cbiovXG5jb25zdCBoaXN0b3J5RmllbGQgPSBoaXN0b3J5RmllbGRfO1xuZnVuY3Rpb24gY21kKHNpZGUsIHNlbGVjdGlvbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkge1xuICAgICAgICBpZiAoIXNlbGVjdGlvbiAmJiBzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGhpc3RvcnlTdGF0ZSA9IHN0YXRlLmZpZWxkKGhpc3RvcnlGaWVsZF8sIGZhbHNlKTtcbiAgICAgICAgaWYgKCFoaXN0b3J5U3RhdGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB0ciA9IGhpc3RvcnlTdGF0ZS5wb3Aoc2lkZSwgc3RhdGUsIHNlbGVjdGlvbik7XG4gICAgICAgIGlmICghdHIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGRpc3BhdGNoKHRyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbi8qKlxuVW5kbyBhIHNpbmdsZSBncm91cCBvZiBoaXN0b3J5IGV2ZW50cy4gUmV0dXJucyBmYWxzZSBpZiBubyBncm91cFxud2FzIGF2YWlsYWJsZS5cbiovXG5jb25zdCB1bmRvID0gLypAX19QVVJFX18qL2NtZCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLywgZmFsc2UpO1xuLyoqXG5SZWRvIGEgZ3JvdXAgb2YgaGlzdG9yeSBldmVudHMuIFJldHVybnMgZmFsc2UgaWYgbm8gZ3JvdXAgd2FzXG5hdmFpbGFibGUuXG4qL1xuY29uc3QgcmVkbyA9IC8qQF9fUFVSRV9fKi9jbWQoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLywgZmFsc2UpO1xuLyoqXG5VbmRvIGEgY2hhbmdlIG9yIHNlbGVjdGlvbiBjaGFuZ2UuXG4qL1xuY29uc3QgdW5kb1NlbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi9jbWQoMCAvKiBCcmFuY2hOYW1lLkRvbmUgKi8sIHRydWUpO1xuLyoqXG5SZWRvIGEgY2hhbmdlIG9yIHNlbGVjdGlvbiBjaGFuZ2UuXG4qL1xuY29uc3QgcmVkb1NlbGVjdGlvbiA9IC8qQF9fUFVSRV9fKi9jbWQoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLywgdHJ1ZSk7XG5mdW5jdGlvbiBkZXB0aChzaWRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBsZXQgaGlzdFN0YXRlID0gc3RhdGUuZmllbGQoaGlzdG9yeUZpZWxkXywgZmFsc2UpO1xuICAgICAgICBpZiAoIWhpc3RTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgYnJhbmNoID0gc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IGhpc3RTdGF0ZS5kb25lIDogaGlzdFN0YXRlLnVuZG9uZTtcbiAgICAgICAgcmV0dXJuIGJyYW5jaC5sZW5ndGggLSAoYnJhbmNoLmxlbmd0aCAmJiAhYnJhbmNoWzBdLmNoYW5nZXMgPyAxIDogMCk7XG4gICAgfTtcbn1cbi8qKlxuVGhlIGFtb3VudCBvZiB1bmRvYWJsZSBjaGFuZ2UgZXZlbnRzIGF2YWlsYWJsZSBpbiBhIGdpdmVuIHN0YXRlLlxuKi9cbmNvbnN0IHVuZG9EZXB0aCA9IC8qQF9fUFVSRV9fKi9kZXB0aCgwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyk7XG4vKipcblRoZSBhbW91bnQgb2YgcmVkb2FibGUgY2hhbmdlIGV2ZW50cyBhdmFpbGFibGUgaW4gYSBnaXZlbiBzdGF0ZS5cbiovXG5jb25zdCByZWRvRGVwdGggPSAvKkBfX1BVUkVfXyovZGVwdGgoMSAvKiBCcmFuY2hOYW1lLlVuZG9uZSAqLyk7XG4vLyBIaXN0b3J5IGV2ZW50cyBzdG9yZSBncm91cHMgb2YgY2hhbmdlcyBvciBlZmZlY3RzIHRoYXQgbmVlZCB0byBiZVxuLy8gdW5kb25lL3JlZG9uZSB0b2dldGhlci5cbmNsYXNzIEhpc3RFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhlIGNoYW5nZXMgaW4gdGhpcyBldmVudC4gTm9ybWFsIGV2ZW50cyBob2xkIGF0IGxlYXN0IG9uZVxuICAgIC8vIGNoYW5nZSBvciBlZmZlY3QuIEJ1dCBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHN0b3JlIHNlbGVjdGlvblxuICAgIC8vIGV2ZW50cyBiZWZvcmUgdGhlIGZpcnN0IGNoYW5nZSwgaW4gd2hpY2ggY2FzZSBhIHNwZWNpYWwgdHlwZSBvZlxuICAgIC8vIGluc3RhbmNlIGlzIGNyZWF0ZWQgd2hpY2ggZG9lc24ndCBob2xkIGFueSBjaGFuZ2VzLCB3aXRoXG4gICAgLy8gY2hhbmdlcyA9PSBzdGFydFNlbGVjdGlvbiA9PSB1bmRlZmluZWRcbiAgICBjaGFuZ2VzLCBcbiAgICAvLyBUaGUgZWZmZWN0cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBldmVudFxuICAgIGVmZmVjdHMsIFxuICAgIC8vIEFjY3VtdWxhdGVkIG1hcHBpbmcgKGZyb20gYWRkVG9IaXN0b3J5PT1mYWxzZSkgdGhhdCBzaG91bGQgYmVcbiAgICAvLyBhcHBsaWVkIHRvIGV2ZW50cyBiZWxvdyB0aGlzIG9uZS5cbiAgICBtYXBwZWQsIFxuICAgIC8vIFRoZSBzZWxlY3Rpb24gYmVmb3JlIHRoaXMgZXZlbnRcbiAgICBzdGFydFNlbGVjdGlvbiwgXG4gICAgLy8gU3RvcmVzIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIHRoaXMgZXZlbnQsIHRvIGJlIHVzZWQgZm9yXG4gICAgLy8gc2VsZWN0aW9uIHVuZG8vcmVkby5cbiAgICBzZWxlY3Rpb25zQWZ0ZXIpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gZWZmZWN0cztcbiAgICAgICAgdGhpcy5tYXBwZWQgPSBtYXBwZWQ7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3Rpb24gPSBzdGFydFNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25zQWZ0ZXIgPSBzZWxlY3Rpb25zQWZ0ZXI7XG4gICAgfVxuICAgIHNldFNlbEFmdGVyKGFmdGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHRoaXMuY2hhbmdlcywgdGhpcy5lZmZlY3RzLCB0aGlzLm1hcHBlZCwgdGhpcy5zdGFydFNlbGVjdGlvbiwgYWZ0ZXIpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogKF9hID0gdGhpcy5jaGFuZ2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9KU09OKCksXG4gICAgICAgICAgICBtYXBwZWQ6IChfYiA9IHRoaXMubWFwcGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudG9KU09OKCksXG4gICAgICAgICAgICBzdGFydFNlbGVjdGlvbjogKF9jID0gdGhpcy5zdGFydFNlbGVjdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvSlNPTigpLFxuICAgICAgICAgICAgc2VsZWN0aW9uc0FmdGVyOiB0aGlzLnNlbGVjdGlvbnNBZnRlci5tYXAocyA9PiBzLnRvSlNPTigpKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RFdmVudChqc29uLmNoYW5nZXMgJiYgQ2hhbmdlU2V0LmZyb21KU09OKGpzb24uY2hhbmdlcyksIFtdLCBqc29uLm1hcHBlZCAmJiBDaGFuZ2VEZXNjLmZyb21KU09OKGpzb24ubWFwcGVkKSwganNvbi5zdGFydFNlbGVjdGlvbiAmJiBFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04oanNvbi5zdGFydFNlbGVjdGlvbiksIGpzb24uc2VsZWN0aW9uc0FmdGVyLm1hcChFZGl0b3JTZWxlY3Rpb24uZnJvbUpTT04pKTtcbiAgICB9XG4gICAgLy8gVGhpcyBkb2VzIG5vdCBjaGVjayBgYWRkVG9IaXN0b3J5YCBhbmQgc3VjaCwgaXQgYXNzdW1lcyB0aGVcbiAgICAvLyB0cmFuc2FjdGlvbiBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgdG8gYW4gaXRlbS4gUmV0dXJucyBudWxsIHdoZW5cbiAgICAvLyB0aGVyZSBhcmUgbm8gY2hhbmdlcyBvciBlZmZlY3RzIGluIHRoZSB0cmFuc2FjdGlvbi5cbiAgICBzdGF0aWMgZnJvbVRyYW5zYWN0aW9uKHRyLCBzZWxlY3Rpb24pIHtcbiAgICAgICAgbGV0IGVmZmVjdHMgPSBub25lO1xuICAgICAgICBmb3IgKGxldCBpbnZlcnQgb2YgdHIuc3RhcnRTdGF0ZS5mYWNldChpbnZlcnRlZEVmZmVjdHMpKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gaW52ZXJ0KHRyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGVmZmVjdHMgPSBlZmZlY3RzLmNvbmNhdChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZWZmZWN0cy5sZW5ndGggJiYgdHIuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RFdmVudCh0ci5jaGFuZ2VzLmludmVydCh0ci5zdGFydFN0YXRlLmRvYyksIGVmZmVjdHMsIHVuZGVmaW5lZCwgc2VsZWN0aW9uIHx8IHRyLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLCBub25lKTtcbiAgICB9XG4gICAgc3RhdGljIHNlbGVjdGlvbihzZWxlY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdEV2ZW50KHVuZGVmaW5lZCwgbm9uZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHNlbGVjdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZUJyYW5jaChicmFuY2gsIHRvLCBtYXhMZW4sIG5ld0V2ZW50KSB7XG4gICAgbGV0IHN0YXJ0ID0gdG8gKyAxID4gbWF4TGVuICsgMjAgPyB0byAtIG1heExlbiAtIDEgOiAwO1xuICAgIGxldCBuZXdCcmFuY2ggPSBicmFuY2guc2xpY2Uoc3RhcnQsIHRvKTtcbiAgICBuZXdCcmFuY2gucHVzaChuZXdFdmVudCk7XG4gICAgcmV0dXJuIG5ld0JyYW5jaDtcbn1cbmZ1bmN0aW9uIGlzQWRqYWNlbnQoYSwgYikge1xuICAgIGxldCByYW5nZXMgPSBbXSwgaXNBZGphY2VudCA9IGZhbHNlO1xuICAgIGEuaXRlckNoYW5nZWRSYW5nZXMoKGYsIHQpID0+IHJhbmdlcy5wdXNoKGYsIHQpKTtcbiAgICBiLml0ZXJDaGFuZ2VkUmFuZ2VzKChfZiwgX3QsIGYsIHQpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSByYW5nZXNbaSsrXSwgdG8gPSByYW5nZXNbaSsrXTtcbiAgICAgICAgICAgIGlmICh0ID49IGZyb20gJiYgZiA8PSB0bylcbiAgICAgICAgICAgICAgICBpc0FkamFjZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpc0FkamFjZW50O1xufVxuZnVuY3Rpb24gZXFTZWxlY3Rpb25TaGFwZShhLCBiKSB7XG4gICAgcmV0dXJuIGEucmFuZ2VzLmxlbmd0aCA9PSBiLnJhbmdlcy5sZW5ndGggJiZcbiAgICAgICAgYS5yYW5nZXMuZmlsdGVyKChyLCBpKSA9PiByLmVtcHR5ICE9IGIucmFuZ2VzW2ldLmVtcHR5KS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiBjb25jKGEsIGIpIHtcbiAgICByZXR1cm4gIWEubGVuZ3RoID8gYiA6ICFiLmxlbmd0aCA/IGEgOiBhLmNvbmNhdChiKTtcbn1cbmNvbnN0IG5vbmUgPSBbXTtcbmNvbnN0IE1heFNlbGVjdGlvbnNQZXJFdmVudCA9IDIwMDtcbmZ1bmN0aW9uIGFkZFNlbGVjdGlvbihicmFuY2gsIHNlbGVjdGlvbikge1xuICAgIGlmICghYnJhbmNoLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW0hpc3RFdmVudC5zZWxlY3Rpb24oW3NlbGVjdGlvbl0pXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBsYXN0RXZlbnQgPSBicmFuY2hbYnJhbmNoLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgc2VscyA9IGxhc3RFdmVudC5zZWxlY3Rpb25zQWZ0ZXIuc2xpY2UoTWF0aC5tYXgoMCwgbGFzdEV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggLSBNYXhTZWxlY3Rpb25zUGVyRXZlbnQpKTtcbiAgICAgICAgaWYgKHNlbHMubGVuZ3RoICYmIHNlbHNbc2Vscy5sZW5ndGggLSAxXS5lcShzZWxlY3Rpb24pKVxuICAgICAgICAgICAgcmV0dXJuIGJyYW5jaDtcbiAgICAgICAgc2Vscy5wdXNoKHNlbGVjdGlvbik7XG4gICAgICAgIHJldHVybiB1cGRhdGVCcmFuY2goYnJhbmNoLCBicmFuY2gubGVuZ3RoIC0gMSwgMWU5LCBsYXN0RXZlbnQuc2V0U2VsQWZ0ZXIoc2VscykpO1xuICAgIH1cbn1cbi8vIEFzc3VtZXMgdGhlIHRvcCBpdGVtIGhhcyBvbmUgb3IgbW9yZSBzZWxlY3Rpb25BZnRlciB2YWx1ZXNcbmZ1bmN0aW9uIHBvcFNlbGVjdGlvbihicmFuY2gpIHtcbiAgICBsZXQgbGFzdCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV07XG4gICAgbGV0IG5ld0JyYW5jaCA9IGJyYW5jaC5zbGljZSgpO1xuICAgIG5ld0JyYW5jaFticmFuY2gubGVuZ3RoIC0gMV0gPSBsYXN0LnNldFNlbEFmdGVyKGxhc3Quc2VsZWN0aW9uc0FmdGVyLnNsaWNlKDAsIGxhc3Quc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAtIDEpKTtcbiAgICByZXR1cm4gbmV3QnJhbmNoO1xufVxuLy8gQWRkIGEgbWFwcGluZyB0byB0aGUgdG9wIGV2ZW50IGluIHRoZSBnaXZlbiBicmFuY2guIElmIHRoaXMgbWFwc1xuLy8gYXdheSBhbGwgdGhlIGNoYW5nZXMgYW5kIGVmZmVjdHMgaW4gdGhhdCBpdGVtLCBkcm9wIGl0IGFuZFxuLy8gcHJvcGFnYXRlIHRoZSBtYXBwaW5nIHRvIHRoZSBuZXh0IGl0ZW0uXG5mdW5jdGlvbiBhZGRNYXBwaW5nVG9CcmFuY2goYnJhbmNoLCBtYXBwaW5nKSB7XG4gICAgaWYgKCFicmFuY2gubGVuZ3RoKVxuICAgICAgICByZXR1cm4gYnJhbmNoO1xuICAgIGxldCBsZW5ndGggPSBicmFuY2gubGVuZ3RoLCBzZWxlY3Rpb25zID0gbm9uZTtcbiAgICB3aGlsZSAobGVuZ3RoKSB7XG4gICAgICAgIGxldCBldmVudCA9IG1hcEV2ZW50KGJyYW5jaFtsZW5ndGggLSAxXSwgbWFwcGluZywgc2VsZWN0aW9ucyk7XG4gICAgICAgIGlmIChldmVudC5jaGFuZ2VzICYmICFldmVudC5jaGFuZ2VzLmVtcHR5IHx8IGV2ZW50LmVmZmVjdHMubGVuZ3RoKSB7IC8vIEV2ZW50IHN1cnZpdmVkIG1hcHBpbmdcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBicmFuY2guc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHJlc3VsdFtsZW5ndGggLSAxXSA9IGV2ZW50O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gRHJvcCB0aGlzIGV2ZW50LCBzaW5jZSB0aGVyZSdzIG5vIGNoYW5nZXMgb3IgZWZmZWN0cyBsZWZ0XG4gICAgICAgICAgICBtYXBwaW5nID0gZXZlbnQubWFwcGVkO1xuICAgICAgICAgICAgbGVuZ3RoLS07XG4gICAgICAgICAgICBzZWxlY3Rpb25zID0gZXZlbnQuc2VsZWN0aW9uc0FmdGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rpb25zLmxlbmd0aCA/IFtIaXN0RXZlbnQuc2VsZWN0aW9uKHNlbGVjdGlvbnMpXSA6IG5vbmU7XG59XG5mdW5jdGlvbiBtYXBFdmVudChldmVudCwgbWFwcGluZywgZXh0cmFTZWxlY3Rpb25zKSB7XG4gICAgbGV0IHNlbGVjdGlvbnMgPSBjb25jKGV2ZW50LnNlbGVjdGlvbnNBZnRlci5sZW5ndGggPyBldmVudC5zZWxlY3Rpb25zQWZ0ZXIubWFwKHMgPT4gcy5tYXAobWFwcGluZykpIDogbm9uZSwgZXh0cmFTZWxlY3Rpb25zKTtcbiAgICAvLyBDaGFuZ2UtbGVzcyBldmVudHMgZG9uJ3Qgc3RvcmUgbWFwcGluZ3MgKHRoZXkgYXJlIGFsd2F5cyB0aGUgbGFzdCBldmVudCBpbiBhIGJyYW5jaClcbiAgICBpZiAoIWV2ZW50LmNoYW5nZXMpXG4gICAgICAgIHJldHVybiBIaXN0RXZlbnQuc2VsZWN0aW9uKHNlbGVjdGlvbnMpO1xuICAgIGxldCBtYXBwZWRDaGFuZ2VzID0gZXZlbnQuY2hhbmdlcy5tYXAobWFwcGluZyksIGJlZm9yZSA9IG1hcHBpbmcubWFwRGVzYyhldmVudC5jaGFuZ2VzLCB0cnVlKTtcbiAgICBsZXQgZnVsbE1hcHBpbmcgPSBldmVudC5tYXBwZWQgPyBldmVudC5tYXBwZWQuY29tcG9zZURlc2MoYmVmb3JlKSA6IGJlZm9yZTtcbiAgICByZXR1cm4gbmV3IEhpc3RFdmVudChtYXBwZWRDaGFuZ2VzLCBTdGF0ZUVmZmVjdC5tYXBFZmZlY3RzKGV2ZW50LmVmZmVjdHMsIG1hcHBpbmcpLCBmdWxsTWFwcGluZywgZXZlbnQuc3RhcnRTZWxlY3Rpb24ubWFwKGJlZm9yZSksIHNlbGVjdGlvbnMpO1xufVxuY29uc3Qgam9pbmFibGVVc2VyRXZlbnQgPSAvXihpbnB1dFxcLnR5cGV8ZGVsZXRlKSgkfFxcLikvO1xuY2xhc3MgSGlzdG9yeVN0YXRlIHtcbiAgICBjb25zdHJ1Y3Rvcihkb25lLCB1bmRvbmUsIHByZXZUaW1lID0gMCwgcHJldlVzZXJFdmVudCA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmRvbmUgPSBkb25lO1xuICAgICAgICB0aGlzLnVuZG9uZSA9IHVuZG9uZTtcbiAgICAgICAgdGhpcy5wcmV2VGltZSA9IHByZXZUaW1lO1xuICAgICAgICB0aGlzLnByZXZVc2VyRXZlbnQgPSBwcmV2VXNlckV2ZW50O1xuICAgIH1cbiAgICBpc29sYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2VGltZSA/IG5ldyBIaXN0b3J5U3RhdGUodGhpcy5kb25lLCB0aGlzLnVuZG9uZSkgOiB0aGlzO1xuICAgIH1cbiAgICBhZGRDaGFuZ2VzKGV2ZW50LCB0aW1lLCB1c2VyRXZlbnQsIG5ld0dyb3VwRGVsYXksIG1heExlbikge1xuICAgICAgICBsZXQgZG9uZSA9IHRoaXMuZG9uZSwgbGFzdEV2ZW50ID0gZG9uZVtkb25lLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdEV2ZW50ICYmIGxhc3RFdmVudC5jaGFuZ2VzICYmICFsYXN0RXZlbnQuY2hhbmdlcy5lbXB0eSAmJiBldmVudC5jaGFuZ2VzICYmXG4gICAgICAgICAgICAoIXVzZXJFdmVudCB8fCBqb2luYWJsZVVzZXJFdmVudC50ZXN0KHVzZXJFdmVudCkpICYmXG4gICAgICAgICAgICAoKCFsYXN0RXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHRpbWUgLSB0aGlzLnByZXZUaW1lIDwgbmV3R3JvdXBEZWxheSAmJlxuICAgICAgICAgICAgICAgIGlzQWRqYWNlbnQobGFzdEV2ZW50LmNoYW5nZXMsIGV2ZW50LmNoYW5nZXMpKSB8fFxuICAgICAgICAgICAgICAgIC8vIEZvciBjb21wb3NlIChidXQgbm90IGNvbXBvc2Uuc3RhcnQpIGV2ZW50cywgYWx3YXlzIGpvaW4gd2l0aCBwcmV2aW91cyBldmVudFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudCA9PSBcImlucHV0LnR5cGUuY29tcG9zZVwiKSkge1xuICAgICAgICAgICAgZG9uZSA9IHVwZGF0ZUJyYW5jaChkb25lLCBkb25lLmxlbmd0aCAtIDEsIG1heExlbiwgbmV3IEhpc3RFdmVudChldmVudC5jaGFuZ2VzLmNvbXBvc2UobGFzdEV2ZW50LmNoYW5nZXMpLCBjb25jKGV2ZW50LmVmZmVjdHMsIGxhc3RFdmVudC5lZmZlY3RzKSwgbGFzdEV2ZW50Lm1hcHBlZCwgbGFzdEV2ZW50LnN0YXJ0U2VsZWN0aW9uLCBub25lKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb25lID0gdXBkYXRlQnJhbmNoKGRvbmUsIGRvbmUubGVuZ3RoLCBtYXhMZW4sIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShkb25lLCBub25lLCB0aW1lLCB1c2VyRXZlbnQpO1xuICAgIH1cbiAgICBhZGRTZWxlY3Rpb24oc2VsZWN0aW9uLCB0aW1lLCB1c2VyRXZlbnQsIG5ld0dyb3VwRGVsYXkpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmRvbmUubGVuZ3RoID8gdGhpcy5kb25lW3RoaXMuZG9uZS5sZW5ndGggLSAxXS5zZWxlY3Rpb25zQWZ0ZXIgOiBub25lO1xuICAgICAgICBpZiAobGFzdC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICB0aW1lIC0gdGhpcy5wcmV2VGltZSA8IG5ld0dyb3VwRGVsYXkgJiZcbiAgICAgICAgICAgIHVzZXJFdmVudCA9PSB0aGlzLnByZXZVc2VyRXZlbnQgJiYgdXNlckV2ZW50ICYmIC9ec2VsZWN0KCR8XFwuKS8udGVzdCh1c2VyRXZlbnQpICYmXG4gICAgICAgICAgICBlcVNlbGVjdGlvblNoYXBlKGxhc3RbbGFzdC5sZW5ndGggLSAxXSwgc2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IEhpc3RvcnlTdGF0ZShhZGRTZWxlY3Rpb24odGhpcy5kb25lLCBzZWxlY3Rpb24pLCB0aGlzLnVuZG9uZSwgdGltZSwgdXNlckV2ZW50KTtcbiAgICB9XG4gICAgYWRkTWFwcGluZyhtYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgSGlzdG9yeVN0YXRlKGFkZE1hcHBpbmdUb0JyYW5jaCh0aGlzLmRvbmUsIG1hcHBpbmcpLCBhZGRNYXBwaW5nVG9CcmFuY2godGhpcy51bmRvbmUsIG1hcHBpbmcpLCB0aGlzLnByZXZUaW1lLCB0aGlzLnByZXZVc2VyRXZlbnQpO1xuICAgIH1cbiAgICBwb3Aoc2lkZSwgc3RhdGUsIHNlbGVjdGlvbikge1xuICAgICAgICBsZXQgYnJhbmNoID0gc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IHRoaXMuZG9uZSA6IHRoaXMudW5kb25lO1xuICAgICAgICBpZiAoYnJhbmNoLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBldmVudCA9IGJyYW5jaFticmFuY2gubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChzZWxlY3Rpb24gJiYgZXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBldmVudC5zZWxlY3Rpb25zQWZ0ZXJbZXZlbnQuc2VsZWN0aW9uc0FmdGVyLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb25zOiBmcm9tSGlzdG9yeS5vZih7IHNpZGUsIHJlc3Q6IHBvcFNlbGVjdGlvbihicmFuY2gpIH0pLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IFwic2VsZWN0LnVuZG9cIiA6IFwic2VsZWN0LnJlZG9cIixcbiAgICAgICAgICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWV2ZW50LmNoYW5nZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSBicmFuY2gubGVuZ3RoID09IDEgPyBub25lIDogYnJhbmNoLnNsaWNlKDAsIGJyYW5jaC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmIChldmVudC5tYXBwZWQpXG4gICAgICAgICAgICAgICAgcmVzdCA9IGFkZE1hcHBpbmdUb0JyYW5jaChyZXN0LCBldmVudC5tYXBwZWQpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogZXZlbnQuY2hhbmdlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGV2ZW50LnN0YXJ0U2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGVmZmVjdHM6IGV2ZW50LmVmZmVjdHMsXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6IGZyb21IaXN0b3J5Lm9mKHsgc2lkZSwgcmVzdCB9KSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHVzZXJFdmVudDogc2lkZSA9PSAwIC8qIEJyYW5jaE5hbWUuRG9uZSAqLyA/IFwidW5kb1wiIDogXCJyZWRvXCIsXG4gICAgICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuSGlzdG9yeVN0YXRlLmVtcHR5ID0gLypAX19QVVJFX18qL25ldyBIaXN0b3J5U3RhdGUobm9uZSwgbm9uZSk7XG4vKipcbkRlZmF1bHQga2V5IGJpbmRpbmdzIGZvciB0aGUgdW5kbyBoaXN0b3J5LlxuXG4tIE1vZC16OiBbYHVuZG9gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnVuZG8pLlxuLSBNb2QteSAoTW9kLVNoaWZ0LXogb24gbWFjT1MpICsgQ3RybC1TaGlmdC16IG9uIExpbnV4OiBbYHJlZG9gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnJlZG8pLlxuLSBNb2QtdTogW2B1bmRvU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy51bmRvU2VsZWN0aW9uKS5cbi0gQWx0LXUgKE1vZC1TaGlmdC11IG9uIG1hY09TKTogW2ByZWRvU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5yZWRvU2VsZWN0aW9uKS5cbiovXG5jb25zdCBoaXN0b3J5S2V5bWFwID0gW1xuICAgIHsga2V5OiBcIk1vZC16XCIsIHJ1bjogdW5kbywgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QteVwiLCBtYWM6IFwiTW9kLVNoaWZ0LXpcIiwgcnVuOiByZWRvLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbGludXg6IFwiQ3RybC1TaGlmdC16XCIsIHJ1bjogcmVkbywgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtdVwiLCBydW46IHVuZG9TZWxlY3Rpb24sIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQWx0LXVcIiwgbWFjOiBcIk1vZC1TaGlmdC11XCIsIHJ1bjogcmVkb1NlbGVjdGlvbiwgcHJldmVudERlZmF1bHQ6IHRydWUgfVxuXTtcblxuZnVuY3Rpb24gdXBkYXRlU2VsKHNlbCwgYnkpIHtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShzZWwucmFuZ2VzLm1hcChieSksIHNlbC5tYWluSW5kZXgpO1xufVxuZnVuY3Rpb24gc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcInNlbGVjdFwiIH0pO1xufVxuZnVuY3Rpb24gbW92ZVNlbCh7IHN0YXRlLCBkaXNwYXRjaCB9LCBob3cpIHtcbiAgICBsZXQgc2VsZWN0aW9uID0gdXBkYXRlU2VsKHN0YXRlLnNlbGVjdGlvbiwgaG93KTtcbiAgICBpZiAoc2VsZWN0aW9uLmVxKHN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmb3J3YXJkID8gcmFuZ2UudG8gOiByYW5nZS5mcm9tKTtcbn1cbmZ1bmN0aW9uIGN1cnNvckJ5Q2hhcih2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIG1vdmVTZWwodmlldywgcmFuZ2UgPT4gcmFuZ2UuZW1wdHkgPyB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbmZ1bmN0aW9uIGx0ckF0Q3Vyc29yKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldy50ZXh0RGlyZWN0aW9uQXQodmlldy5zdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKSA9PSBEaXJlY3Rpb24uTFRSO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciB0byB0aGUgbGVmdCAod2hpY2ggaXMgYmFja3dhcmQgaW5cbmxlZnQtdG8tcmlnaHQgdGV4dCwgZm9yd2FyZCBpbiByaWdodC10by1sZWZ0IHRleHQpLlxuKi9cbmNvbnN0IGN1cnNvckNoYXJMZWZ0ID0gdmlldyA9PiBjdXJzb3JCeUNoYXIodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IGN1cnNvckNoYXJSaWdodCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgZm9yd2FyZC5cbiovXG5jb25zdCBjdXJzb3JDaGFyRm9yd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlDaGFyKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBiYWNrd2FyZC5cbiovXG5jb25zdCBjdXJzb3JDaGFyQmFja3dhcmQgPSB2aWV3ID0+IGN1cnNvckJ5Q2hhcih2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBjdXJzb3JCeUdyb3VwKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZUJ5R3JvdXAocmFuZ2UsIGZvcndhcmQpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBsZWZ0IGFjcm9zcyBvbmUgZ3JvdXAgb2Ygd29yZCBvclxubm9uLXdvcmQgKGJ1dCBhbHNvIG5vbi1zcGFjZSkgY2hhcmFjdGVycy5cbiovXG5jb25zdCBjdXJzb3JHcm91cExlZnQgPSB2aWV3ID0+IGN1cnNvckJ5R3JvdXAodmlldywgIWx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBncm91cCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yR3JvdXBSaWdodCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCBsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgZm9yd2FyZC5cbiovXG5jb25zdCBjdXJzb3JHcm91cEZvcndhcmQgPSB2aWV3ID0+IGN1cnNvckJ5R3JvdXAodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgYmFja3dhcmQuXG4qL1xuY29uc3QgY3Vyc29yR3JvdXBCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlHcm91cCh2aWV3LCBmYWxzZSk7XG5mdW5jdGlvbiBtb3ZlQnlTdWJ3b3JkKHZpZXcsIHJhbmdlLCBmb3J3YXJkKSB7XG4gICAgbGV0IGNhdGVnb3JpemUgPSB2aWV3LnN0YXRlLmNoYXJDYXRlZ29yaXplcihyYW5nZS5mcm9tKTtcbiAgICByZXR1cm4gdmlldy5tb3ZlQnlDaGFyKHJhbmdlLCBmb3J3YXJkLCBzdGFydCA9PiB7XG4gICAgICAgIGxldCBjYXQgPSBDaGFyQ2F0ZWdvcnkuU3BhY2UsIHBvcyA9IHJhbmdlLmZyb207XG4gICAgICAgIGxldCBkb25lID0gZmFsc2UsIHNhd1VwcGVyID0gZmFsc2UsIHNhd0xvd2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBzdGVwID0gKG5leHQpID0+IHtcbiAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHBvcyArPSBmb3J3YXJkID8gbmV4dC5sZW5ndGggOiAtbmV4dC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbmV4dENhdCA9IGNhdGVnb3JpemUobmV4dCksIGFoZWFkO1xuICAgICAgICAgICAgaWYgKGNhdCA9PSBDaGFyQ2F0ZWdvcnkuU3BhY2UpXG4gICAgICAgICAgICAgICAgY2F0ID0gbmV4dENhdDtcbiAgICAgICAgICAgIGlmIChjYXQgIT0gbmV4dENhdClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2F0ID09IENoYXJDYXRlZ29yeS5Xb3JkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHQudG9Mb3dlckNhc2UoKSA9PSBuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9yd2FyZCAmJiBzYXdVcHBlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2F3TG93ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzYXdMb3dlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2F3VXBwZXIgJiYgZm9yd2FyZCAmJiBjYXRlZ29yaXplKGFoZWFkID0gdmlldy5zdGF0ZS5zbGljZURvYyhwb3MsIHBvcyArIDEpKSA9PSBDaGFyQ2F0ZWdvcnkuV29yZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYWhlYWQudG9Mb3dlckNhc2UoKSA9PSBhaGVhZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2F3VXBwZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBzdGVwKHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBjdXJzb3JCeVN1YndvcmQodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IHJhbmdlLmVtcHR5ID8gbW92ZUJ5U3Vid29yZCh2aWV3LCByYW5nZSwgZm9yd2FyZCkgOiByYW5nZUVuZChyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGdyb3VwIG9yIGNhbWVsLWNhc2Ugc3Vid29yZCBmb3J3YXJkLlxuKi9cbmNvbnN0IGN1cnNvclN1YndvcmRGb3J3YXJkID0gdmlldyA9PiBjdXJzb3JCeVN1YndvcmQodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgZ3JvdXAgb3IgY2FtZWwtY2FzZSBzdWJ3b3JkIGJhY2t3YXJkLlxuKi9cbmNvbnN0IGN1cnNvclN1YndvcmRCYWNrd2FyZCA9IHZpZXcgPT4gY3Vyc29yQnlTdWJ3b3JkKHZpZXcsIGZhbHNlKTtcbmZ1bmN0aW9uIGludGVyZXN0aW5nTm9kZShzdGF0ZSwgbm9kZSwgYnJhY2tldFByb3ApIHtcbiAgICBpZiAobm9kZS50eXBlLnByb3AoYnJhY2tldFByb3ApKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgbGVuID0gbm9kZS50byAtIG5vZGUuZnJvbTtcbiAgICByZXR1cm4gbGVuICYmIChsZW4gPiAyIHx8IC9bXlxccywuOzpdLy50ZXN0KHN0YXRlLnNsaWNlRG9jKG5vZGUuZnJvbSwgbm9kZS50bykpKSB8fCBub2RlLmZpcnN0Q2hpbGQ7XG59XG5mdW5jdGlvbiBtb3ZlQnlTeW50YXgoc3RhdGUsIHN0YXJ0LCBmb3J3YXJkKSB7XG4gICAgbGV0IHBvcyA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihzdGFydC5oZWFkKTtcbiAgICBsZXQgYnJhY2tldFByb3AgPSBmb3J3YXJkID8gTm9kZVByb3AuY2xvc2VkQnkgOiBOb2RlUHJvcC5vcGVuZWRCeTtcbiAgICAvLyBTY2FuIGZvcndhcmQgdGhyb3VnaCBjaGlsZCBub2RlcyB0byBzZWUgaWYgdGhlcmUncyBhbiBpbnRlcmVzdGluZ1xuICAgIC8vIG5vZGUgYWhlYWQuXG4gICAgZm9yIChsZXQgYXQgPSBzdGFydC5oZWFkOzspIHtcbiAgICAgICAgbGV0IG5leHQgPSBmb3J3YXJkID8gcG9zLmNoaWxkQWZ0ZXIoYXQpIDogcG9zLmNoaWxkQmVmb3JlKGF0KTtcbiAgICAgICAgaWYgKCFuZXh0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChpbnRlcmVzdGluZ05vZGUoc3RhdGUsIG5leHQsIGJyYWNrZXRQcm9wKSlcbiAgICAgICAgICAgIHBvcyA9IG5leHQ7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGF0ID0gZm9yd2FyZCA/IG5leHQudG8gOiBuZXh0LmZyb207XG4gICAgfVxuICAgIGxldCBicmFja2V0ID0gcG9zLnR5cGUucHJvcChicmFja2V0UHJvcCksIG1hdGNoLCBuZXdQb3M7XG4gICAgaWYgKGJyYWNrZXQgJiYgKG1hdGNoID0gZm9yd2FyZCA/IG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcy5mcm9tLCAxKSA6IG1hdGNoQnJhY2tldHMoc3RhdGUsIHBvcy50bywgLTEpKSAmJiBtYXRjaC5tYXRjaGVkKVxuICAgICAgICBuZXdQb3MgPSBmb3J3YXJkID8gbWF0Y2guZW5kLnRvIDogbWF0Y2guZW5kLmZyb207XG4gICAgZWxzZVxuICAgICAgICBuZXdQb3MgPSBmb3J3YXJkID8gcG9zLnRvIDogcG9zLmZyb207XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IobmV3UG9zLCBmb3J3YXJkID8gLTEgOiAxKTtcbn1cbi8qKlxuTW92ZSB0aGUgY3Vyc29yIG92ZXIgdGhlIG5leHQgc3ludGFjdGljIGVsZW1lbnQgdG8gdGhlIGxlZnQuXG4qL1xuY29uc3QgY3Vyc29yU3ludGF4TGVmdCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBjdXJzb3Igb3ZlciB0aGUgbmV4dCBzeW50YWN0aWMgZWxlbWVudCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3QgY3Vyc29yU3ludGF4UmlnaHQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3ludGF4KHZpZXcuc3RhdGUsIHJhbmdlLCBsdHJBdEN1cnNvcih2aWV3KSkpO1xuZnVuY3Rpb24gY3Vyc29yQnlMaW5lKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiB7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpO1xuICAgICAgICBsZXQgbW92ZWQgPSB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkKTtcbiAgICAgICAgcmV0dXJuIG1vdmVkLmhlYWQgIT0gcmFuZ2UuaGVhZCA/IG1vdmVkIDogdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkocmFuZ2UsIGZvcndhcmQpO1xuICAgIH0pO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgdXAuXG4qL1xuY29uc3QgY3Vyc29yTGluZVVwID0gdmlldyA9PiBjdXJzb3JCeUxpbmUodmlldywgZmFsc2UpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gb25lIGxpbmUgZG93bi5cbiovXG5jb25zdCBjdXJzb3JMaW5lRG93biA9IHZpZXcgPT4gY3Vyc29yQnlMaW5lKHZpZXcsIHRydWUpO1xuZnVuY3Rpb24gcGFnZUhlaWdodCh2aWV3KSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHZpZXcuZGVmYXVsdExpbmVIZWlnaHQsIE1hdGgubWluKHZpZXcuZG9tLmNsaWVudEhlaWdodCwgaW5uZXJIZWlnaHQpIC0gNSk7XG59XG5mdW5jdGlvbiBjdXJzb3JCeVBhZ2UodmlldywgZm9yd2FyZCkge1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3LCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIHJldHVybiByYW5nZS5lbXB0eSA/IHZpZXcubW92ZVZlcnRpY2FsbHkocmFuZ2UsIGZvcndhcmQsIHBhZ2VIZWlnaHQodmlldykpIDogcmFuZ2VFbmQocmFuZ2UsIGZvcndhcmQpO1xuICAgIH0pO1xuICAgIGlmIChzZWxlY3Rpb24uZXEoc3RhdGUuc2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBzdGFydFBvcyA9IHZpZXcuY29vcmRzQXRQb3Moc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCk7XG4gICAgbGV0IHNjcm9sbFJlY3QgPSB2aWV3LnNjcm9sbERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgZWZmZWN0O1xuICAgIGlmIChzdGFydFBvcyAmJiBzdGFydFBvcy50b3AgPiBzY3JvbGxSZWN0LnRvcCAmJiBzdGFydFBvcy5ib3R0b20gPCBzY3JvbGxSZWN0LmJvdHRvbSAmJlxuICAgICAgICBzdGFydFBvcy50b3AgLSBzY3JvbGxSZWN0LnRvcCA8PSB2aWV3LnNjcm9sbERPTS5zY3JvbGxIZWlnaHQgLSB2aWV3LnNjcm9sbERPTS5zY3JvbGxUb3AgLSB2aWV3LnNjcm9sbERPTS5jbGllbnRIZWlnaHQpXG4gICAgICAgIGVmZmVjdCA9IEVkaXRvclZpZXcuc2Nyb2xsSW50b1ZpZXcoc2VsZWN0aW9uLm1haW4uaGVhZCwgeyB5OiBcInN0YXJ0XCIsIHlNYXJnaW46IHN0YXJ0UG9zLnRvcCAtIHNjcm9sbFJlY3QudG9wIH0pO1xuICAgIHZpZXcuZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pLCB7IGVmZmVjdHM6IGVmZmVjdCB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBwYWdlIHVwLlxuKi9cbmNvbnN0IGN1cnNvclBhZ2VVcCA9IHZpZXcgPT4gY3Vyc29yQnlQYWdlKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBwYWdlIGRvd24uXG4qL1xuY29uc3QgY3Vyc29yUGFnZURvd24gPSB2aWV3ID0+IGN1cnNvckJ5UGFnZSh2aWV3LCB0cnVlKTtcbmZ1bmN0aW9uIG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCBzdGFydCwgZm9yd2FyZCkge1xuICAgIGxldCBsaW5lID0gdmlldy5saW5lQmxvY2tBdChzdGFydC5oZWFkKSwgbW92ZWQgPSB2aWV3Lm1vdmVUb0xpbmVCb3VuZGFyeShzdGFydCwgZm9yd2FyZCk7XG4gICAgaWYgKG1vdmVkLmhlYWQgPT0gc3RhcnQuaGVhZCAmJiBtb3ZlZC5oZWFkICE9IChmb3J3YXJkID8gbGluZS50byA6IGxpbmUuZnJvbSkpXG4gICAgICAgIG1vdmVkID0gdmlldy5tb3ZlVG9MaW5lQm91bmRhcnkoc3RhcnQsIGZvcndhcmQsIGZhbHNlKTtcbiAgICBpZiAoIWZvcndhcmQgJiYgbW92ZWQuaGVhZCA9PSBsaW5lLmZyb20gJiYgbGluZS5sZW5ndGgpIHtcbiAgICAgICAgbGV0IHNwYWNlID0gL15cXHMqLy5leGVjKHZpZXcuc3RhdGUuc2xpY2VEb2MobGluZS5mcm9tLCBNYXRoLm1pbihsaW5lLmZyb20gKyAxMDAsIGxpbmUudG8pKSlbMF0ubGVuZ3RoO1xuICAgICAgICBpZiAoc3BhY2UgJiYgc3RhcnQuaGVhZCAhPSBsaW5lLmZyb20gKyBzcGFjZSlcbiAgICAgICAgICAgIG1vdmVkID0gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihsaW5lLmZyb20gKyBzcGFjZSk7XG4gICAgfVxuICAgIHJldHVybiBtb3ZlZDtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBuZXh0IGxpbmUgd3JhcCBwb2ludCwgb3IgdG8gdGhlIGVuZCBvZlxudGhlIGxpbmUgaWYgdGhlcmUgaXNuJ3Qgb25lIGxlZnQgb24gdGhpcyBsaW5lLlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCB0cnVlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiB0byBwcmV2aW91cyBsaW5lIHdyYXAgcG9pbnQsIG9yIGZhaWxpbmcgdGhhdCB0b1xudGhlIHN0YXJ0IG9mIHRoZSBsaW5lLiBJZiB0aGUgbGluZSBpcyBpbmRlbnRlZCwgYW5kIHRoZSBjdXJzb3Jcbmlzbid0IGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgaW5kZW50YXRpb24sIHRoaXMgd2lsbCBtb3ZlIHRvIHRoZVxuZW5kIG9mIHRoZSBpbmRlbnRhdGlvbiBpbnN0ZWFkIG9mIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGZhbHNlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBvbmUgbGluZSB3cmFwIHBvaW50IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeUxlZnQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5TGluZUJvdW5kYXJ5KHZpZXcsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIG9uZSBsaW5lIHdyYXAgcG9pbnQgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IGN1cnNvckxpbmVCb3VuZGFyeVJpZ2h0ID0gdmlldyA9PiBtb3ZlU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeUxpbmVCb3VuZGFyeSh2aWV3LCByYW5nZSwgbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBjdXJzb3JMaW5lU3RhcnQgPSB2aWV3ID0+IG1vdmVTZWwodmlldywgcmFuZ2UgPT4gRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih2aWV3LmxpbmVCbG9ja0F0KHJhbmdlLmhlYWQpLmZyb20sIDEpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpbmUuXG4qL1xuY29uc3QgY3Vyc29yTGluZUVuZCA9IHZpZXcgPT4gbW92ZVNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkudG8sIC0xKSk7XG5mdW5jdGlvbiB0b01hdGNoaW5nQnJhY2tldChzdGF0ZSwgZGlzcGF0Y2gsIGV4dGVuZCkge1xuICAgIGxldCBmb3VuZCA9IGZhbHNlLCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB7XG4gICAgICAgIGxldCBtYXRjaGluZyA9IG1hdGNoQnJhY2tldHMoc3RhdGUsIHJhbmdlLmhlYWQsIC0xKVxuICAgICAgICAgICAgfHwgbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCwgMSlcbiAgICAgICAgICAgIHx8IChyYW5nZS5oZWFkID4gMCAmJiBtYXRjaEJyYWNrZXRzKHN0YXRlLCByYW5nZS5oZWFkIC0gMSwgMSkpXG4gICAgICAgICAgICB8fCAocmFuZ2UuaGVhZCA8IHN0YXRlLmRvYy5sZW5ndGggJiYgbWF0Y2hCcmFja2V0cyhzdGF0ZSwgcmFuZ2UuaGVhZCArIDEsIC0xKSk7XG4gICAgICAgIGlmICghbWF0Y2hpbmcgfHwgIW1hdGNoaW5nLmVuZClcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICBsZXQgaGVhZCA9IG1hdGNoaW5nLnN0YXJ0LmZyb20gPT0gcmFuZ2UuaGVhZCA/IG1hdGNoaW5nLmVuZC50byA6IG1hdGNoaW5nLmVuZC5mcm9tO1xuICAgICAgICByZXR1cm4gZXh0ZW5kID8gRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHJhbmdlLmFuY2hvciwgaGVhZCkgOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGhlYWQpO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGJyYWNrZXQgbWF0Y2hpbmcgdGhlIG9uZSBpdCBpcyBjdXJyZW50bHlcbm9uLCBpZiBhbnkuXG4qL1xuY29uc3QgY3Vyc29yTWF0Y2hpbmdCcmFja2V0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHRvTWF0Y2hpbmdCcmFja2V0KHN0YXRlLCBkaXNwYXRjaCwgZmFsc2UpO1xuLyoqXG5FeHRlbmQgdGhlIHNlbGVjdGlvbiB0byB0aGUgYnJhY2tldCBtYXRjaGluZyB0aGUgb25lIHRoZSBzZWxlY3Rpb25cbmhlYWQgaXMgY3VycmVudGx5IG9uLCBpZiBhbnkuXG4qL1xuY29uc3Qgc2VsZWN0TWF0Y2hpbmdCcmFja2V0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHRvTWF0Y2hpbmdCcmFja2V0KHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7XG5mdW5jdGlvbiBleHRlbmRTZWwodmlldywgaG93KSB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbCh2aWV3LnN0YXRlLnNlbGVjdGlvbiwgcmFuZ2UgPT4ge1xuICAgICAgICBsZXQgaGVhZCA9IGhvdyhyYW5nZSk7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yLCBoZWFkLmhlYWQsIGhlYWQuZ29hbENvbHVtbik7XG4gICAgfSk7XG4gICAgaWYgKHNlbGVjdGlvbi5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKHNldFNlbCh2aWV3LnN0YXRlLCBzZWxlY3Rpb24pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdEJ5Q2hhcih2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVCeUNoYXIocmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciB0byB0aGUgbGVmdCwgd2hpbGUgbGVhdmluZ1xudGhlIGFuY2hvciBpbiBwbGFjZS5cbiovXG5jb25zdCBzZWxlY3RDaGFyTGVmdCA9IHZpZXcgPT4gc2VsZWN0QnlDaGFyKHZpZXcsICFsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBjaGFyYWN0ZXIgdG8gdGhlIHJpZ2h0LlxuKi9cbmNvbnN0IHNlbGVjdENoYXJSaWdodCA9IHZpZXcgPT4gc2VsZWN0QnlDaGFyKHZpZXcsIGx0ckF0Q3Vyc29yKHZpZXcpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGNoYXJhY3RlciBmb3J3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdENoYXJGb3J3YXJkID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBjaGFyYWN0ZXIgYmFja3dhcmQuXG4qL1xuY29uc3Qgc2VsZWN0Q2hhckJhY2t3YXJkID0gdmlldyA9PiBzZWxlY3RCeUNoYXIodmlldywgZmFsc2UpO1xuZnVuY3Rpb24gc2VsZWN0QnlHcm91cCh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVCeUdyb3VwKHJhbmdlLCBmb3J3YXJkKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBbZ3JvdXBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yR3JvdXBMZWZ0KSB0b1xudGhlIGxlZnQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBMZWZ0ID0gdmlldyA9PiBzZWxlY3RCeUdyb3VwKHZpZXcsICFsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0R3JvdXBSaWdodCA9IHZpZXcgPT4gc2VsZWN0QnlHcm91cCh2aWV3LCBsdHJBdEN1cnNvcih2aWV3KSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCBmb3J3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdEdyb3VwRm9yd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlHcm91cCh2aWV3LCB0cnVlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIGJhY2t3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdEdyb3VwQmFja3dhcmQgPSB2aWV3ID0+IHNlbGVjdEJ5R3JvdXAodmlldywgZmFsc2UpO1xuZnVuY3Rpb24gc2VsZWN0QnlTdWJ3b3JkKHZpZXcsIGZvcndhcmQpIHtcbiAgICByZXR1cm4gZXh0ZW5kU2VsKHZpZXcsIHJhbmdlID0+IG1vdmVCeVN1YndvcmQodmlldywgcmFuZ2UsIGZvcndhcmQpKTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIGdyb3VwIG9yIGNhbWVsLWNhc2Ugc3Vid29yZCBmb3J3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdFN1YndvcmRGb3J3YXJkID0gdmlldyA9PiBzZWxlY3RCeVN1YndvcmQodmlldywgdHJ1ZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBncm91cCBvciBzdWJ3b3JkIGJhY2t3YXJkLlxuKi9cbmNvbnN0IHNlbGVjdFN1YndvcmRCYWNrd2FyZCA9IHZpZXcgPT4gc2VsZWN0QnlTdWJ3b3JkKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb3ZlciB0aGUgbmV4dCBzeW50YWN0aWMgZWxlbWVudCB0byB0aGUgbGVmdC5cbiovXG5jb25zdCBzZWxlY3RTeW50YXhMZWZ0ID0gdmlldyA9PiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gbW92ZUJ5U3ludGF4KHZpZXcuc3RhdGUsIHJhbmdlLCAhbHRyQXRDdXJzb3IodmlldykpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb3ZlciB0aGUgbmV4dCBzeW50YWN0aWMgZWxlbWVudCB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0U3ludGF4UmlnaHQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlTeW50YXgodmlldy5zdGF0ZSwgcmFuZ2UsIGx0ckF0Q3Vyc29yKHZpZXcpKSk7XG5mdW5jdGlvbiBzZWxlY3RCeUxpbmUodmlldywgZm9yd2FyZCkge1xuICAgIHJldHVybiBleHRlbmRTZWwodmlldywgcmFuZ2UgPT4gdmlldy5tb3ZlVmVydGljYWxseShyYW5nZSwgZm9yd2FyZCkpO1xufVxuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSB1cC5cbiovXG5jb25zdCBzZWxlY3RMaW5lVXAgPSB2aWV3ID0+IHNlbGVjdEJ5TGluZSh2aWV3LCBmYWxzZSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBsaW5lIGRvd24uXG4qL1xuY29uc3Qgc2VsZWN0TGluZURvd24gPSB2aWV3ID0+IHNlbGVjdEJ5TGluZSh2aWV3LCB0cnVlKTtcbmZ1bmN0aW9uIHNlbGVjdEJ5UGFnZSh2aWV3LCBmb3J3YXJkKSB7XG4gICAgcmV0dXJuIGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCBmb3J3YXJkLCBwYWdlSGVpZ2h0KHZpZXcpKSk7XG59XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBwYWdlIHVwLlxuKi9cbmNvbnN0IHNlbGVjdFBhZ2VVcCA9IHZpZXcgPT4gc2VsZWN0QnlQYWdlKHZpZXcsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgb25lIHBhZ2UgZG93bi5cbiovXG5jb25zdCBzZWxlY3RQYWdlRG93biA9IHZpZXcgPT4gc2VsZWN0QnlQYWdlKHZpZXcsIHRydWUpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgbmV4dCBsaW5lIGJvdW5kYXJ5LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUZvcndhcmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIHRydWUpKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIHByZXZpb3VzIGxpbmUgYm91bmRhcnkuXG4qL1xuY29uc3Qgc2VsZWN0TGluZUJvdW5kYXJ5QmFja3dhcmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGZhbHNlKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIG9uZSBsaW5lIGJvdW5kYXJ5IHRvIHRoZSBsZWZ0LlxuKi9cbmNvbnN0IHNlbGVjdExpbmVCb3VuZGFyeUxlZnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsICFsdHJBdEN1cnNvcih2aWV3KSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCBvbmUgbGluZSBib3VuZGFyeSB0byB0aGUgcmlnaHQuXG4qL1xuY29uc3Qgc2VsZWN0TGluZUJvdW5kYXJ5UmlnaHQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBtb3ZlQnlMaW5lQm91bmRhcnkodmlldywgcmFuZ2UsIGx0ckF0Q3Vyc29yKHZpZXcpKSk7XG4vKipcbk1vdmUgdGhlIHNlbGVjdGlvbiBoZWFkIHRvIHRoZSBzdGFydCBvZiB0aGUgbGluZS5cbiovXG5jb25zdCBzZWxlY3RMaW5lU3RhcnQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkuZnJvbSkpO1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuKi9cbmNvbnN0IHNlbGVjdExpbmVFbmQgPSB2aWV3ID0+IGV4dGVuZFNlbCh2aWV3LCByYW5nZSA9PiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHZpZXcubGluZUJsb2NrQXQocmFuZ2UuaGVhZCkudG8pKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBzdGFydCBvZiB0aGUgZG9jdW1lbnQuXG4qL1xuY29uc3QgY3Vyc29yRG9jU3RhcnQgPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4ge1xuICAgIGRpc3BhdGNoKHNldFNlbChzdGF0ZSwgeyBhbmNob3I6IDAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IGN1cnNvckRvY0VuZCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCB7IGFuY2hvcjogc3RhdGUuZG9jLmxlbmd0aCB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5Nb3ZlIHRoZSBzZWxlY3Rpb24gaGVhZCB0byB0aGUgc3RhcnQgb2YgdGhlIGRvY3VtZW50LlxuKi9cbmNvbnN0IHNlbGVjdERvY1N0YXJ0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3IsIGhlYWQ6IDAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0aW9uIGhlYWQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4qL1xuY29uc3Qgc2VsZWN0RG9jRW5kID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHsgYW5jaG9yOiBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5hbmNob3IsIGhlYWQ6IHN0YXRlLmRvYy5sZW5ndGggfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2VsZWN0IHRoZSBlbnRpcmUgZG9jdW1lbnQuXG4qL1xuY29uc3Qgc2VsZWN0QWxsID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBzZWxlY3Rpb246IHsgYW5jaG9yOiAwLCBoZWFkOiBzdGF0ZS5kb2MubGVuZ3RoIH0sIHVzZXJFdmVudDogXCJzZWxlY3RcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5FeHBhbmQgdGhlIHNlbGVjdGlvbiB0byBjb3ZlciBlbnRpcmUgbGluZXMuXG4qL1xuY29uc3Qgc2VsZWN0TGluZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHJhbmdlcyA9IHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkubWFwKCh7IGZyb20sIHRvIH0pID0+IEVkaXRvclNlbGVjdGlvbi5yYW5nZShmcm9tLCBNYXRoLm1pbih0byArIDEsIHN0YXRlLmRvYy5sZW5ndGgpKSk7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcyksIHVzZXJFdmVudDogXCJzZWxlY3RcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5TZWxlY3QgdGhlIG5leHQgc3ludGFjdGljIGNvbnN0cnVjdCB0aGF0IGlzIGxhcmdlciB0aGFuIHRoZVxuc2VsZWN0aW9uLiBOb3RlIHRoYXQgdGhpcyB3aWxsIG9ubHkgd29yayBpbnNvZmFyIGFzIHRoZSBsYW5ndWFnZVxuW3Byb3ZpZGVyXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmxhbmd1YWdlKSB5b3UgdXNlIGJ1aWxkcyB1cCBhIGZ1bGxcbnN5bnRheCB0cmVlLlxuKi9cbmNvbnN0IHNlbGVjdFBhcmVudFN5bnRheCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IHNlbGVjdGlvbiA9IHVwZGF0ZVNlbChzdGF0ZS5zZWxlY3Rpb24sIHJhbmdlID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgY29udGV4dCA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihyYW5nZS5oZWFkLCAxKTtcbiAgICAgICAgd2hpbGUgKCEoKGNvbnRleHQuZnJvbSA8IHJhbmdlLmZyb20gJiYgY29udGV4dC50byA+PSByYW5nZS50bykgfHxcbiAgICAgICAgICAgIChjb250ZXh0LnRvID4gcmFuZ2UudG8gJiYgY29udGV4dC5mcm9tIDw9IHJhbmdlLmZyb20pIHx8XG4gICAgICAgICAgICAhKChfYSA9IGNvbnRleHQucGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFyZW50KSkpXG4gICAgICAgICAgICBjb250ZXh0ID0gY29udGV4dC5wYXJlbnQ7XG4gICAgICAgIHJldHVybiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoY29udGV4dC50bywgY29udGV4dC5mcm9tKTtcbiAgICB9KTtcbiAgICBkaXNwYXRjaChzZXRTZWwoc3RhdGUsIHNlbGVjdGlvbikpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuU2ltcGxpZnkgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLiBXaGVuIG11bHRpcGxlIHJhbmdlcyBhcmUgc2VsZWN0ZWQsXG5yZWR1Y2UgaXQgdG8gaXRzIG1haW4gcmFuZ2UuIE90aGVyd2lzZSwgaWYgdGhlIHNlbGVjdGlvbiBpc1xubm9uLWVtcHR5LCBjb252ZXJ0IGl0IHRvIGEgY3Vyc29yIHNlbGVjdGlvbi5cbiovXG5jb25zdCBzaW1wbGlmeVNlbGVjdGlvbiA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgbGV0IGN1ciA9IHN0YXRlLnNlbGVjdGlvbiwgc2VsZWN0aW9uID0gbnVsbDtcbiAgICBpZiAoY3VyLnJhbmdlcy5sZW5ndGggPiAxKVxuICAgICAgICBzZWxlY3Rpb24gPSBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKFtjdXIubWFpbl0pO1xuICAgIGVsc2UgaWYgKCFjdXIubWFpbi5lbXB0eSlcbiAgICAgICAgc2VsZWN0aW9uID0gRWRpdG9yU2VsZWN0aW9uLmNyZWF0ZShbRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihjdXIubWFpbi5oZWFkKV0pO1xuICAgIGlmICghc2VsZWN0aW9uKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc2V0U2VsKHN0YXRlLCBzZWxlY3Rpb24pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBkZWxldGVCeSh0YXJnZXQsIGJ5KSB7XG4gICAgaWYgKHRhcmdldC5zdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBldmVudCA9IFwiZGVsZXRlLnNlbGVjdGlvblwiLCB7IHN0YXRlIH0gPSB0YXJnZXQ7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgbGV0IHsgZnJvbSwgdG8gfSA9IHJhbmdlO1xuICAgICAgICBpZiAoZnJvbSA9PSB0bykge1xuICAgICAgICAgICAgbGV0IHRvd2FyZHMgPSBieShmcm9tKTtcbiAgICAgICAgICAgIGlmICh0b3dhcmRzIDwgZnJvbSkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gXCJkZWxldGUuYmFja3dhcmRcIjtcbiAgICAgICAgICAgICAgICB0b3dhcmRzID0gc2tpcEF0b21pYyh0YXJnZXQsIHRvd2FyZHMsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvd2FyZHMgPiBmcm9tKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBcImRlbGV0ZS5mb3J3YXJkXCI7XG4gICAgICAgICAgICAgICAgdG93YXJkcyA9IHNraXBBdG9taWModGFyZ2V0LCB0b3dhcmRzLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyb20gPSBNYXRoLm1pbihmcm9tLCB0b3dhcmRzKTtcbiAgICAgICAgICAgIHRvID0gTWF0aC5tYXgodG8sIHRvd2FyZHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJvbSA9IHNraXBBdG9taWModGFyZ2V0LCBmcm9tLCBmYWxzZSk7XG4gICAgICAgICAgICB0byA9IHNraXBBdG9taWModGFyZ2V0LCB0bywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20gPT0gdG8gPyB7IHJhbmdlIH0gOiB7IGNoYW5nZXM6IHsgZnJvbSwgdG8gfSwgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoZnJvbSkgfTtcbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlcy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdGFyZ2V0LmRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7XG4gICAgICAgIHNjcm9sbEludG9WaWV3OiB0cnVlLFxuICAgICAgICB1c2VyRXZlbnQ6IGV2ZW50LFxuICAgICAgICBlZmZlY3RzOiBldmVudCA9PSBcImRlbGV0ZS5zZWxlY3Rpb25cIiA/IEVkaXRvclZpZXcuYW5ub3VuY2Uub2Yoc3RhdGUucGhyYXNlKFwiU2VsZWN0aW9uIGRlbGV0ZWRcIikpIDogdW5kZWZpbmVkXG4gICAgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gc2tpcEF0b21pYyh0YXJnZXQsIHBvcywgZm9yd2FyZCkge1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBFZGl0b3JWaWV3KVxuICAgICAgICBmb3IgKGxldCByYW5nZXMgb2YgdGFyZ2V0LnN0YXRlLmZhY2V0KEVkaXRvclZpZXcuYXRvbWljUmFuZ2VzKS5tYXAoZiA9PiBmKHRhcmdldCkpKVxuICAgICAgICAgICAgcmFuZ2VzLmJldHdlZW4ocG9zLCBwb3MsIChmcm9tLCB0bykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmcm9tIDwgcG9zICYmIHRvID4gcG9zKVxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBmb3J3YXJkID8gdG8gOiBmcm9tO1xuICAgICAgICAgICAgfSk7XG4gICAgcmV0dXJuIHBvcztcbn1cbmNvbnN0IGRlbGV0ZUJ5Q2hhciA9ICh0YXJnZXQsIGZvcndhcmQpID0+IGRlbGV0ZUJ5KHRhcmdldCwgcG9zID0+IHtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdGFyZ2V0LCBsaW5lID0gc3RhdGUuZG9jLmxpbmVBdChwb3MpLCBiZWZvcmUsIHRhcmdldFBvcztcbiAgICBpZiAoIWZvcndhcmQgJiYgcG9zID4gbGluZS5mcm9tICYmIHBvcyA8IGxpbmUuZnJvbSArIDIwMCAmJlxuICAgICAgICAhL1teIFxcdF0vLnRlc3QoYmVmb3JlID0gbGluZS50ZXh0LnNsaWNlKDAsIHBvcyAtIGxpbmUuZnJvbSkpKSB7XG4gICAgICAgIGlmIChiZWZvcmVbYmVmb3JlLmxlbmd0aCAtIDFdID09IFwiXFx0XCIpXG4gICAgICAgICAgICByZXR1cm4gcG9zIC0gMTtcbiAgICAgICAgbGV0IGNvbCA9IGNvdW50Q29sdW1uKGJlZm9yZSwgc3RhdGUudGFiU2l6ZSksIGRyb3AgPSBjb2wgJSBnZXRJbmRlbnRVbml0KHN0YXRlKSB8fCBnZXRJbmRlbnRVbml0KHN0YXRlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcm9wICYmIGJlZm9yZVtiZWZvcmUubGVuZ3RoIC0gMSAtIGldID09IFwiIFwiOyBpKyspXG4gICAgICAgICAgICBwb3MtLTtcbiAgICAgICAgdGFyZ2V0UG9zID0gcG9zO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGFyZ2V0UG9zID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZm9yd2FyZCwgZm9yd2FyZCkgKyBsaW5lLmZyb207XG4gICAgICAgIGlmICh0YXJnZXRQb3MgPT0gcG9zICYmIGxpbmUubnVtYmVyICE9IChmb3J3YXJkID8gc3RhdGUuZG9jLmxpbmVzIDogMSkpXG4gICAgICAgICAgICB0YXJnZXRQb3MgKz0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFBvcztcbn0pO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGZvciBjdXJzb3Igc2VsZWN0aW9ucywgdGhlIGNoYXJhY3RlclxuYmVmb3JlIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlQ2hhckJhY2t3YXJkID0gdmlldyA9PiBkZWxldGVCeUNoYXIodmlldywgZmFsc2UpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiBvciB0aGUgY2hhcmFjdGVyIGFmdGVyIHRoZSBjdXJzb3IuXG4qL1xuY29uc3QgZGVsZXRlQ2hhckZvcndhcmQgPSB2aWV3ID0+IGRlbGV0ZUJ5Q2hhcih2aWV3LCB0cnVlKTtcbmNvbnN0IGRlbGV0ZUJ5R3JvdXAgPSAodGFyZ2V0LCBmb3J3YXJkKSA9PiBkZWxldGVCeSh0YXJnZXQsIHN0YXJ0ID0+IHtcbiAgICBsZXQgcG9zID0gc3RhcnQsIHsgc3RhdGUgfSA9IHRhcmdldCwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICBsZXQgY2F0ZWdvcml6ZSA9IHN0YXRlLmNoYXJDYXRlZ29yaXplcihwb3MpO1xuICAgIGZvciAobGV0IGNhdCA9IG51bGw7Oykge1xuICAgICAgICBpZiAocG9zID09IChmb3J3YXJkID8gbGluZS50byA6IGxpbmUuZnJvbSkpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT0gc3RhcnQgJiYgbGluZS5udW1iZXIgIT0gKGZvcndhcmQgPyBzdGF0ZS5kb2MubGluZXMgOiAxKSlcbiAgICAgICAgICAgICAgICBwb3MgKz0gZm9yd2FyZCA/IDEgOiAtMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gZmluZENsdXN0ZXJCcmVhayhsaW5lLnRleHQsIHBvcyAtIGxpbmUuZnJvbSwgZm9yd2FyZCkgKyBsaW5lLmZyb207XG4gICAgICAgIGxldCBuZXh0Q2hhciA9IGxpbmUudGV4dC5zbGljZShNYXRoLm1pbihwb3MsIG5leHQpIC0gbGluZS5mcm9tLCBNYXRoLm1heChwb3MsIG5leHQpIC0gbGluZS5mcm9tKTtcbiAgICAgICAgbGV0IG5leHRDYXQgPSBjYXRlZ29yaXplKG5leHRDaGFyKTtcbiAgICAgICAgaWYgKGNhdCAhPSBudWxsICYmIG5leHRDYXQgIT0gY2F0KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChuZXh0Q2hhciAhPSBcIiBcIiB8fCBwb3MgIT0gc3RhcnQpXG4gICAgICAgICAgICBjYXQgPSBuZXh0Q2F0O1xuICAgICAgICBwb3MgPSBuZXh0O1xuICAgIH1cbiAgICByZXR1cm4gcG9zO1xufSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIGJhY2t3YXJkIHVudGlsIHRoZSBlbmQgb2YgdGhlIG5leHRcbltncm91cF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyN2aWV3LkVkaXRvclZpZXcubW92ZUJ5R3JvdXApLCBvbmx5IHNraXBwaW5nIGdyb3VwcyBvZlxud2hpdGVzcGFjZSB3aGVuIHRoZXkgY29uc2lzdCBvZiBhIHNpbmdsZSBzcGFjZS5cbiovXG5jb25zdCBkZWxldGVHcm91cEJhY2t3YXJkID0gdGFyZ2V0ID0+IGRlbGV0ZUJ5R3JvdXAodGFyZ2V0LCBmYWxzZSk7XG4vKipcbkRlbGV0ZSB0aGUgc2VsZWN0aW9uIG9yIGZvcndhcmQgdW50aWwgdGhlIGVuZCBvZiB0aGUgbmV4dCBncm91cC5cbiovXG5jb25zdCBkZWxldGVHcm91cEZvcndhcmQgPSB0YXJnZXQgPT4gZGVsZXRlQnlHcm91cCh0YXJnZXQsIHRydWUpO1xuLyoqXG5EZWxldGUgdGhlIHNlbGVjdGlvbiwgb3IsIGlmIGl0IGlzIGEgY3Vyc29yIHNlbGVjdGlvbiwgZGVsZXRlIHRvXG50aGUgZW5kIG9mIHRoZSBsaW5lLiBJZiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IGF0IHRoZSBlbmQgb2YgdGhlXG5saW5lLCBkZWxldGUgdGhlIGxpbmUgYnJlYWsgYWZ0ZXIgaXQuXG4qL1xuY29uc3QgZGVsZXRlVG9MaW5lRW5kID0gdmlldyA9PiBkZWxldGVCeSh2aWV3LCBwb3MgPT4ge1xuICAgIGxldCBsaW5lRW5kID0gdmlldy5saW5lQmxvY2tBdChwb3MpLnRvO1xuICAgIHJldHVybiBwb3MgPCBsaW5lRW5kID8gbGluZUVuZCA6IE1hdGgubWluKHZpZXcuc3RhdGUuZG9jLmxlbmd0aCwgcG9zICsgMSk7XG59KTtcbi8qKlxuRGVsZXRlIHRoZSBzZWxlY3Rpb24sIG9yLCBpZiBpdCBpcyBhIGN1cnNvciBzZWxlY3Rpb24sIGRlbGV0ZSB0b1xudGhlIHN0YXJ0IG9mIHRoZSBsaW5lLiBJZiB0aGUgY3Vyc29yIGlzIGRpcmVjdGx5IGF0IHRoZSBzdGFydCBvZiB0aGVcbmxpbmUsIGRlbGV0ZSB0aGUgbGluZSBicmVhayBiZWZvcmUgaXQuXG4qL1xuY29uc3QgZGVsZXRlVG9MaW5lU3RhcnQgPSB2aWV3ID0+IGRlbGV0ZUJ5KHZpZXcsIHBvcyA9PiB7XG4gICAgbGV0IGxpbmVTdGFydCA9IHZpZXcubGluZUJsb2NrQXQocG9zKS5mcm9tO1xuICAgIHJldHVybiBwb3MgPiBsaW5lU3RhcnQgPyBsaW5lU3RhcnQgOiBNYXRoLm1heCgwLCBwb3MgLSAxKTtcbn0pO1xuLyoqXG5EZWxldGUgYWxsIHdoaXRlc3BhY2UgZGlyZWN0bHkgYmVmb3JlIGEgbGluZSBlbmQgZnJvbSB0aGVcbmRvY3VtZW50LlxuKi9cbmNvbnN0IGRlbGV0ZVRyYWlsaW5nV2hpdGVzcGFjZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBbXTtcbiAgICBmb3IgKGxldCBwb3MgPSAwLCBwcmV2ID0gXCJcIiwgaXRlciA9IHN0YXRlLmRvYy5pdGVyKCk7Oykge1xuICAgICAgICBpdGVyLm5leHQoKTtcbiAgICAgICAgaWYgKGl0ZXIubGluZUJyZWFrIHx8IGl0ZXIuZG9uZSkge1xuICAgICAgICAgICAgbGV0IHRyYWlsaW5nID0gcHJldi5zZWFyY2goL1xccyskLyk7XG4gICAgICAgICAgICBpZiAodHJhaWxpbmcgPiAtMSlcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBwb3MgLSAocHJldi5sZW5ndGggLSB0cmFpbGluZyksIHRvOiBwb3MgfSk7XG4gICAgICAgICAgICBpZiAoaXRlci5kb25lKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgcHJldiA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmV2ID0gaXRlci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBwb3MgKz0gaXRlci52YWx1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGlmICghY2hhbmdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBjaGFuZ2VzLCB1c2VyRXZlbnQ6IFwiZGVsZXRlXCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuUmVwbGFjZSBlYWNoIHNlbGVjdGlvbiByYW5nZSB3aXRoIGEgbGluZSBicmVhaywgbGVhdmluZyB0aGUgY3Vyc29yXG5vbiB0aGUgbGluZSBiZWZvcmUgdGhlIGJyZWFrLlxuKi9cbmNvbnN0IHNwbGl0TGluZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tLCB0bzogcmFuZ2UudG8sIGluc2VydDogVGV4dC5vZihbXCJcIiwgXCJcIl0pIH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tKSB9O1xuICAgIH0pO1xuICAgIGRpc3BhdGNoKHN0YXRlLnVwZGF0ZShjaGFuZ2VzLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5GbGlwIHRoZSBjaGFyYWN0ZXJzIGJlZm9yZSBhbmQgYWZ0ZXIgdGhlIGN1cnNvcihzKS5cbiovXG5jb25zdCB0cmFuc3Bvc2VDaGFycyA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSB8fCByYW5nZS5mcm9tID09IDAgfHwgcmFuZ2UuZnJvbSA9PSBzdGF0ZS5kb2MubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2UgfTtcbiAgICAgICAgbGV0IHBvcyA9IHJhbmdlLmZyb20sIGxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCBmcm9tID0gcG9zID09IGxpbmUuZnJvbSA/IHBvcyAtIDEgOiBmaW5kQ2x1c3RlckJyZWFrKGxpbmUudGV4dCwgcG9zIC0gbGluZS5mcm9tLCBmYWxzZSkgKyBsaW5lLmZyb207XG4gICAgICAgIGxldCB0byA9IHBvcyA9PSBsaW5lLnRvID8gcG9zICsgMSA6IGZpbmRDbHVzdGVyQnJlYWsobGluZS50ZXh0LCBwb3MgLSBsaW5lLmZyb20sIHRydWUpICsgbGluZS5mcm9tO1xuICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiB7IGZyb20sIHRvLCBpbnNlcnQ6IHN0YXRlLmRvYy5zbGljZShwb3MsIHRvKS5hcHBlbmQoc3RhdGUuZG9jLnNsaWNlKGZyb20sIHBvcykpIH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcih0bykgfTtcbiAgICB9KTtcbiAgICBpZiAoY2hhbmdlcy5jaGFuZ2VzLmVtcHR5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJtb3ZlLmNoYXJhY3RlclwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5mdW5jdGlvbiBzZWxlY3RlZExpbmVCbG9ja3Moc3RhdGUpIHtcbiAgICBsZXQgYmxvY2tzID0gW10sIHVwdG8gPSAtMTtcbiAgICBmb3IgKGxldCByYW5nZSBvZiBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzKSB7XG4gICAgICAgIGxldCBzdGFydExpbmUgPSBzdGF0ZS5kb2MubGluZUF0KHJhbmdlLmZyb20pLCBlbmRMaW5lID0gc3RhdGUuZG9jLmxpbmVBdChyYW5nZS50byk7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgJiYgcmFuZ2UudG8gPT0gZW5kTGluZS5mcm9tKVxuICAgICAgICAgICAgZW5kTGluZSA9IHN0YXRlLmRvYy5saW5lQXQocmFuZ2UudG8gLSAxKTtcbiAgICAgICAgaWYgKHVwdG8gPj0gc3RhcnRMaW5lLm51bWJlcikge1xuICAgICAgICAgICAgbGV0IHByZXYgPSBibG9ja3NbYmxvY2tzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgcHJldi50byA9IGVuZExpbmUudG87XG4gICAgICAgICAgICBwcmV2LnJhbmdlcy5wdXNoKHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKHsgZnJvbTogc3RhcnRMaW5lLmZyb20sIHRvOiBlbmRMaW5lLnRvLCByYW5nZXM6IFtyYW5nZV0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXB0byA9IGVuZExpbmUubnVtYmVyICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2Nrcztcbn1cbmZ1bmN0aW9uIG1vdmVMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZm9yd2FyZCkge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gW10sIHJhbmdlcyA9IFtdO1xuICAgIGZvciAobGV0IGJsb2NrIG9mIHNlbGVjdGVkTGluZUJsb2NrcyhzdGF0ZSkpIHtcbiAgICAgICAgaWYgKGZvcndhcmQgPyBibG9jay50byA9PSBzdGF0ZS5kb2MubGVuZ3RoIDogYmxvY2suZnJvbSA9PSAwKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGxldCBuZXh0TGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZm9yd2FyZCA/IGJsb2NrLnRvICsgMSA6IGJsb2NrLmZyb20gLSAxKTtcbiAgICAgICAgbGV0IHNpemUgPSBuZXh0TGluZS5sZW5ndGggKyAxO1xuICAgICAgICBpZiAoZm9yd2FyZCkge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogYmxvY2sudG8sIHRvOiBuZXh0TGluZS50byB9LCB7IGZyb206IGJsb2NrLmZyb20sIGluc2VydDogbmV4dExpbmUudGV4dCArIHN0YXRlLmxpbmVCcmVhayB9KTtcbiAgICAgICAgICAgIGZvciAobGV0IHIgb2YgYmxvY2sucmFuZ2VzKVxuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKEVkaXRvclNlbGVjdGlvbi5yYW5nZShNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCByLmFuY2hvciArIHNpemUpLCBNYXRoLm1pbihzdGF0ZS5kb2MubGVuZ3RoLCByLmhlYWQgKyBzaXplKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbmV4dExpbmUuZnJvbSwgdG86IGJsb2NrLmZyb20gfSwgeyBmcm9tOiBibG9jay50bywgaW5zZXJ0OiBzdGF0ZS5saW5lQnJlYWsgKyBuZXh0TGluZS50ZXh0IH0pO1xuICAgICAgICAgICAgZm9yIChsZXQgciBvZiBibG9jay5yYW5nZXMpXG4gICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2goRWRpdG9yU2VsZWN0aW9uLnJhbmdlKHIuYW5jaG9yIC0gc2l6ZSwgci5oZWFkIC0gc2l6ZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghY2hhbmdlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoe1xuICAgICAgICBjaGFuZ2VzLFxuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKHJhbmdlcywgc3RhdGUuc2VsZWN0aW9uLm1haW5JbmRleCksXG4gICAgICAgIHVzZXJFdmVudDogXCJtb3ZlLmxpbmVcIlxuICAgIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuTW92ZSB0aGUgc2VsZWN0ZWQgbGluZXMgdXAgb25lIGxpbmUuXG4qL1xuY29uc3QgbW92ZUxpbmVVcCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBtb3ZlTGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKTtcbi8qKlxuTW92ZSB0aGUgc2VsZWN0ZWQgbGluZXMgZG93biBvbmUgbGluZS5cbiovXG5jb25zdCBtb3ZlTGluZURvd24gPSAoeyBzdGF0ZSwgZGlzcGF0Y2ggfSkgPT4gbW92ZUxpbmUoc3RhdGUsIGRpc3BhdGNoLCB0cnVlKTtcbmZ1bmN0aW9uIGNvcHlMaW5lKHN0YXRlLCBkaXNwYXRjaCwgZm9yd2FyZCkge1xuICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgZm9yIChsZXQgYmxvY2sgb2Ygc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKSkge1xuICAgICAgICBpZiAoZm9yd2FyZClcbiAgICAgICAgICAgIGNoYW5nZXMucHVzaCh7IGZyb206IGJsb2NrLmZyb20sIGluc2VydDogc3RhdGUuZG9jLnNsaWNlKGJsb2NrLmZyb20sIGJsb2NrLnRvKSArIHN0YXRlLmxpbmVCcmVhayB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogYmxvY2sudG8sIGluc2VydDogc3RhdGUubGluZUJyZWFrICsgc3RhdGUuZG9jLnNsaWNlKGJsb2NrLmZyb20sIGJsb2NrLnRvKSB9KTtcbiAgICB9XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHsgY2hhbmdlcywgc2Nyb2xsSW50b1ZpZXc6IHRydWUsIHVzZXJFdmVudDogXCJpbnB1dC5jb3B5bGluZVwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuQ3JlYXRlIGEgY29weSBvZiB0aGUgc2VsZWN0ZWQgbGluZXMuIEtlZXAgdGhlIHNlbGVjdGlvbiBpbiB0aGUgdG9wIGNvcHkuXG4qL1xuY29uc3QgY29weUxpbmVVcCA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiBjb3B5TGluZShzdGF0ZSwgZGlzcGF0Y2gsIGZhbHNlKTtcbi8qKlxuQ3JlYXRlIGEgY29weSBvZiB0aGUgc2VsZWN0ZWQgbGluZXMuIEtlZXAgdGhlIHNlbGVjdGlvbiBpbiB0aGUgYm90dG9tIGNvcHkuXG4qL1xuY29uc3QgY29weUxpbmVEb3duID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IGNvcHlMaW5lKHN0YXRlLCBkaXNwYXRjaCwgdHJ1ZSk7XG4vKipcbkRlbGV0ZSBzZWxlY3RlZCBsaW5lcy5cbiovXG5jb25zdCBkZWxldGVMaW5lID0gdmlldyA9PiB7XG4gICAgaWYgKHZpZXcuc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgeyBzdGF0ZSB9ID0gdmlldywgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZXMoc2VsZWN0ZWRMaW5lQmxvY2tzKHN0YXRlKS5tYXAoKHsgZnJvbSwgdG8gfSkgPT4ge1xuICAgICAgICBpZiAoZnJvbSA+IDApXG4gICAgICAgICAgICBmcm9tLS07XG4gICAgICAgIGVsc2UgaWYgKHRvIDwgc3RhdGUuZG9jLmxlbmd0aClcbiAgICAgICAgICAgIHRvKys7XG4gICAgICAgIHJldHVybiB7IGZyb20sIHRvIH07XG4gICAgfSkpO1xuICAgIGxldCBzZWxlY3Rpb24gPSB1cGRhdGVTZWwoc3RhdGUuc2VsZWN0aW9uLCByYW5nZSA9PiB2aWV3Lm1vdmVWZXJ0aWNhbGx5KHJhbmdlLCB0cnVlKSkubWFwKGNoYW5nZXMpO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBjaGFuZ2VzLCBzZWxlY3Rpb24sIHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiZGVsZXRlLmxpbmVcIiB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlcGxhY2UgdGhlIHNlbGVjdGlvbiB3aXRoIGEgbmV3bGluZS5cbiovXG5jb25zdCBpbnNlcnROZXdsaW5lID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoc3RhdGUucmVwbGFjZVNlbGVjdGlvbihzdGF0ZS5saW5lQnJlYWspLCB7IHNjcm9sbEludG9WaWV3OiB0cnVlLCB1c2VyRXZlbnQ6IFwiaW5wdXRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZnVuY3Rpb24gaXNCZXR3ZWVuQnJhY2tldHMoc3RhdGUsIHBvcykge1xuICAgIGlmICgvXFwoXFwpfFxcW1xcXXxcXHtcXH0vLnRlc3Qoc3RhdGUuc2xpY2VEb2MocG9zIC0gMSwgcG9zICsgMSkpKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MsIHRvOiBwb3MgfTtcbiAgICBsZXQgY29udGV4dCA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MpO1xuICAgIGxldCBiZWZvcmUgPSBjb250ZXh0LmNoaWxkQmVmb3JlKHBvcyksIGFmdGVyID0gY29udGV4dC5jaGlsZEFmdGVyKHBvcyksIGNsb3NlZEJ5O1xuICAgIGlmIChiZWZvcmUgJiYgYWZ0ZXIgJiYgYmVmb3JlLnRvIDw9IHBvcyAmJiBhZnRlci5mcm9tID49IHBvcyAmJlxuICAgICAgICAoY2xvc2VkQnkgPSBiZWZvcmUudHlwZS5wcm9wKE5vZGVQcm9wLmNsb3NlZEJ5KSkgJiYgY2xvc2VkQnkuaW5kZXhPZihhZnRlci5uYW1lKSA+IC0xICYmXG4gICAgICAgIHN0YXRlLmRvYy5saW5lQXQoYmVmb3JlLnRvKS5mcm9tID09IHN0YXRlLmRvYy5saW5lQXQoYWZ0ZXIuZnJvbSkuZnJvbSlcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogYmVmb3JlLnRvLCB0bzogYWZ0ZXIuZnJvbSB9O1xuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG5SZXBsYWNlIHRoZSBzZWxlY3Rpb24gd2l0aCBhIG5ld2xpbmUgYW5kIGluZGVudCB0aGUgbmV3bHkgY3JlYXRlZFxubGluZShzKS4gSWYgdGhlIGN1cnJlbnQgbGluZSBjb25zaXN0cyBvbmx5IG9mIHdoaXRlc3BhY2UsIHRoaXNcbndpbGwgYWxzbyBkZWxldGUgdGhhdCB3aGl0ZXNwYWNlLiBXaGVuIHRoZSBjdXJzb3IgaXMgYmV0d2VlblxubWF0Y2hpbmcgYnJhY2tldHMsIGFuIGFkZGl0aW9uYWwgbmV3bGluZSB3aWxsIGJlIGluc2VydGVkIGFmdGVyXG50aGUgY3Vyc29yLlxuKi9cbmNvbnN0IGluc2VydE5ld2xpbmVBbmRJbmRlbnQgPSAvKkBfX1BVUkVfXyovbmV3bGluZUFuZEluZGVudChmYWxzZSk7XG4vKipcbkNyZWF0ZSBhIGJsYW5rLCBpbmRlbnRlZCBsaW5lIGJlbG93IHRoZSBjdXJyZW50IGxpbmUuXG4qL1xuY29uc3QgaW5zZXJ0QmxhbmtMaW5lID0gLypAX19QVVJFX18qL25ld2xpbmVBbmRJbmRlbnQodHJ1ZSk7XG5mdW5jdGlvbiBuZXdsaW5lQW5kSW5kZW50KGF0RW9mKSB7XG4gICAgcmV0dXJuICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5yZWFkT25seSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSByYW5nZSwgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQoZnJvbSk7XG4gICAgICAgICAgICBsZXQgZXhwbG9kZSA9ICFhdEVvZiAmJiBmcm9tID09IHRvICYmIGlzQmV0d2VlbkJyYWNrZXRzKHN0YXRlLCBmcm9tKTtcbiAgICAgICAgICAgIGlmIChhdEVvZilcbiAgICAgICAgICAgICAgICBmcm9tID0gdG8gPSAodG8gPD0gbGluZS50byA/IGxpbmUgOiBzdGF0ZS5kb2MubGluZUF0KHRvKSkudG87XG4gICAgICAgICAgICBsZXQgY3ggPSBuZXcgSW5kZW50Q29udGV4dChzdGF0ZSwgeyBzaW11bGF0ZUJyZWFrOiBmcm9tLCBzaW11bGF0ZURvdWJsZUJyZWFrOiAhIWV4cGxvZGUgfSk7XG4gICAgICAgICAgICBsZXQgaW5kZW50ID0gZ2V0SW5kZW50YXRpb24oY3gsIGZyb20pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGluZGVudCA9IC9eXFxzKi8uZXhlYyhzdGF0ZS5kb2MubGluZUF0KGZyb20pLnRleHQpWzBdLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICh0byA8IGxpbmUudG8gJiYgL1xccy8udGVzdChsaW5lLnRleHRbdG8gLSBsaW5lLmZyb21dKSlcbiAgICAgICAgICAgICAgICB0bysrO1xuICAgICAgICAgICAgaWYgKGV4cGxvZGUpXG4gICAgICAgICAgICAgICAgKHsgZnJvbSwgdG8gfSA9IGV4cGxvZGUpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZnJvbSA+IGxpbmUuZnJvbSAmJiBmcm9tIDwgbGluZS5mcm9tICsgMTAwICYmICEvXFxTLy50ZXN0KGxpbmUudGV4dC5zbGljZSgwLCBmcm9tKSkpXG4gICAgICAgICAgICAgICAgZnJvbSA9IGxpbmUuZnJvbTtcbiAgICAgICAgICAgIGxldCBpbnNlcnQgPSBbXCJcIiwgaW5kZW50U3RyaW5nKHN0YXRlLCBpbmRlbnQpXTtcbiAgICAgICAgICAgIGlmIChleHBsb2RlKVxuICAgICAgICAgICAgICAgIGluc2VydC5wdXNoKGluZGVudFN0cmluZyhzdGF0ZSwgY3gubGluZUluZGVudChsaW5lLmZyb20sIC0xKSkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tLCB0bywgaW5zZXJ0OiBUZXh0Lm9mKGluc2VydCkgfSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihmcm9tICsgMSArIGluc2VydFsxXS5sZW5ndGgpIH07XG4gICAgICAgIH0pO1xuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIGYpIHtcbiAgICBsZXQgYXRMaW5lID0gLTE7XG4gICAgcmV0dXJuIHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBsZXQgY2hhbmdlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwb3MgPSByYW5nZS5mcm9tOyBwb3MgPD0gcmFuZ2UudG87KSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IHN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgIGlmIChsaW5lLm51bWJlciA+IGF0TGluZSAmJiAocmFuZ2UuZW1wdHkgfHwgcmFuZ2UudG8gPiBsaW5lLmZyb20pKSB7XG4gICAgICAgICAgICAgICAgZihsaW5lLCBjaGFuZ2VzLCByYW5nZSk7XG4gICAgICAgICAgICAgICAgYXRMaW5lID0gbGluZS5udW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MgPSBsaW5lLnRvICsgMTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hhbmdlU2V0ID0gc3RhdGUuY2hhbmdlcyhjaGFuZ2VzKTtcbiAgICAgICAgcmV0dXJuIHsgY2hhbmdlcyxcbiAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UoY2hhbmdlU2V0Lm1hcFBvcyhyYW5nZS5hbmNob3IsIDEpLCBjaGFuZ2VTZXQubWFwUG9zKHJhbmdlLmhlYWQsIDEpKSB9O1xuICAgIH0pO1xufVxuLyoqXG5BdXRvLWluZGVudCB0aGUgc2VsZWN0ZWQgbGluZXMuIFRoaXMgdXNlcyB0aGUgW2luZGVudGF0aW9uIHNlcnZpY2VcbmZhY2V0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFNlcnZpY2UpIGFzIHNvdXJjZSBmb3IgYXV0by1pbmRlbnRcbmluZm9ybWF0aW9uLlxuKi9cbmNvbnN0IGluZGVudFNlbGVjdGlvbiA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHVwZGF0ZWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxldCBjb250ZXh0ID0gbmV3IEluZGVudENvbnRleHQoc3RhdGUsIHsgb3ZlcnJpZGVJbmRlbnRhdGlvbjogc3RhcnQgPT4ge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gdXBkYXRlZFtzdGFydF07XG4gICAgICAgICAgICByZXR1cm4gZm91bmQgPT0gbnVsbCA/IC0xIDogZm91bmQ7XG4gICAgICAgIH0gfSk7XG4gICAgbGV0IGNoYW5nZXMgPSBjaGFuZ2VCeVNlbGVjdGVkTGluZShzdGF0ZSwgKGxpbmUsIGNoYW5nZXMsIHJhbmdlKSA9PiB7XG4gICAgICAgIGxldCBpbmRlbnQgPSBnZXRJbmRlbnRhdGlvbihjb250ZXh0LCBsaW5lLmZyb20pO1xuICAgICAgICBpZiAoaW5kZW50ID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghL1xcUy8udGVzdChsaW5lLnRleHQpKVxuICAgICAgICAgICAgaW5kZW50ID0gMDtcbiAgICAgICAgbGV0IGN1ciA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBsZXQgbm9ybSA9IGluZGVudFN0cmluZyhzdGF0ZSwgaW5kZW50KTtcbiAgICAgICAgaWYgKGN1ciAhPSBub3JtIHx8IHJhbmdlLmZyb20gPCBsaW5lLmZyb20gKyBjdXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB1cGRhdGVkW2xpbmUuZnJvbV0gPSBpbmRlbnQ7XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIHRvOiBsaW5lLmZyb20gKyBjdXIubGVuZ3RoLCBpbnNlcnQ6IG5vcm0gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWNoYW5nZXMuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZXMsIHsgdXNlckV2ZW50OiBcImluZGVudFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkFkZCBhIFt1bml0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIG9mIGluZGVudGF0aW9uIHRvIGFsbCBzZWxlY3RlZFxubGluZXMuXG4qL1xuY29uc3QgaW5kZW50TW9yZSA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKGNoYW5nZUJ5U2VsZWN0ZWRMaW5lKHN0YXRlLCAobGluZSwgY2hhbmdlcykgPT4ge1xuICAgICAgICBjaGFuZ2VzLnB1c2goeyBmcm9tOiBsaW5lLmZyb20sIGluc2VydDogc3RhdGUuZmFjZXQoaW5kZW50VW5pdCkgfSk7XG4gICAgfSksIHsgdXNlckV2ZW50OiBcImlucHV0LmluZGVudFwiIH0pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcblJlbW92ZSBhIFt1bml0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmd1YWdlLmluZGVudFVuaXQpIG9mIGluZGVudGF0aW9uIGZyb20gYWxsXG5zZWxlY3RlZCBsaW5lcy5cbiovXG5jb25zdCBpbmRlbnRMZXNzID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUucmVhZE9ubHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlQnlTZWxlY3RlZExpbmUoc3RhdGUsIChsaW5lLCBjaGFuZ2VzKSA9PiB7XG4gICAgICAgIGxldCBzcGFjZSA9IC9eXFxzKi8uZXhlYyhsaW5lLnRleHQpWzBdO1xuICAgICAgICBpZiAoIXNwYWNlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY29sID0gY291bnRDb2x1bW4oc3BhY2UsIHN0YXRlLnRhYlNpemUpLCBrZWVwID0gMDtcbiAgICAgICAgbGV0IGluc2VydCA9IGluZGVudFN0cmluZyhzdGF0ZSwgTWF0aC5tYXgoMCwgY29sIC0gZ2V0SW5kZW50VW5pdChzdGF0ZSkpKTtcbiAgICAgICAgd2hpbGUgKGtlZXAgPCBzcGFjZS5sZW5ndGggJiYga2VlcCA8IGluc2VydC5sZW5ndGggJiYgc3BhY2UuY2hhckNvZGVBdChrZWVwKSA9PSBpbnNlcnQuY2hhckNvZGVBdChrZWVwKSlcbiAgICAgICAgICAgIGtlZXArKztcbiAgICAgICAgY2hhbmdlcy5wdXNoKHsgZnJvbTogbGluZS5mcm9tICsga2VlcCwgdG86IGxpbmUuZnJvbSArIHNwYWNlLmxlbmd0aCwgaW5zZXJ0OiBpbnNlcnQuc2xpY2Uoa2VlcCkgfSk7XG4gICAgfSksIHsgdXNlckV2ZW50OiBcImRlbGV0ZS5kZWRlbnRcIiB9KSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5JbnNlcnQgYSB0YWIgY2hhcmFjdGVyIGF0IHRoZSBjdXJzb3Igb3IsIGlmIHNvbWV0aGluZyBpcyBzZWxlY3RlZCxcbnVzZSBbYGluZGVudE1vcmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluZGVudE1vcmUpIHRvIGluZGVudCB0aGUgZW50aXJlXG5zZWxlY3Rpb24uXG4qL1xuY29uc3QgaW5zZXJ0VGFiID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBpZiAoc3RhdGUuc2VsZWN0aW9uLnJhbmdlcy5zb21lKHIgPT4gIXIuZW1wdHkpKVxuICAgICAgICByZXR1cm4gaW5kZW50TW9yZSh7IHN0YXRlLCBkaXNwYXRjaCB9KTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoc3RhdGUucmVwbGFjZVNlbGVjdGlvbihcIlxcdFwiKSwgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImlucHV0XCIgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuQXJyYXkgb2Yga2V5IGJpbmRpbmdzIGNvbnRhaW5pbmcgdGhlIEVtYWNzLXN0eWxlIGJpbmRpbmdzIHRoYXQgYXJlXG5hdmFpbGFibGUgb24gbWFjT1MgYnkgZGVmYXVsdC5cblxuIC0gQ3RybC1iOiBbYGN1cnNvckNoYXJMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JDaGFyTGVmdCkgKFtgc2VsZWN0Q2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJMZWZ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1mOiBbYGN1cnNvckNoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhclJpZ2h0KSAoW2BzZWxlY3RDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJSaWdodCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtcDogW2BjdXJzb3JMaW5lVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVVcCkgKFtgc2VsZWN0TGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lVXApIHdpdGggU2hpZnQpXG4gLSBDdHJsLW46IFtgY3Vyc29yTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVEb3duKSAoW2BzZWxlY3RMaW5lRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZURvd24pIHdpdGggU2hpZnQpXG4gLSBDdHJsLWE6IFtgY3Vyc29yTGluZVN0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lU3RhcnQpIChbYHNlbGVjdExpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVN0YXJ0KSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1lOiBbYGN1cnNvckxpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckxpbmVFbmQpIChbYHNlbGVjdExpbmVFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVFbmQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLWQ6IFtgZGVsZXRlQ2hhckZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJGb3J3YXJkKVxuIC0gQ3RybC1oOiBbYGRlbGV0ZUNoYXJCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckJhY2t3YXJkKVxuIC0gQ3RybC1rOiBbYGRlbGV0ZVRvTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlVG9MaW5lRW5kKVxuIC0gQ3RybC1BbHQtaDogW2BkZWxldGVHcm91cEJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVHcm91cEJhY2t3YXJkKVxuIC0gQ3RybC1vOiBbYHNwbGl0TGluZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc3BsaXRMaW5lKVxuIC0gQ3RybC10OiBbYHRyYW5zcG9zZUNoYXJzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy50cmFuc3Bvc2VDaGFycylcbiAtIEN0cmwtdjogW2BjdXJzb3JQYWdlRG93bmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZURvd24pXG4gLSBBbHQtdjogW2BjdXJzb3JQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VVcClcbiovXG5jb25zdCBlbWFjc1N0eWxlS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtYlwiLCBydW46IGN1cnNvckNoYXJMZWZ0LCBzaGlmdDogc2VsZWN0Q2hhckxlZnQsIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1mXCIsIHJ1bjogY3Vyc29yQ2hhclJpZ2h0LCBzaGlmdDogc2VsZWN0Q2hhclJpZ2h0IH0sXG4gICAgeyBrZXk6IFwiQ3RybC1wXCIsIHJ1bjogY3Vyc29yTGluZVVwLCBzaGlmdDogc2VsZWN0TGluZVVwIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1uXCIsIHJ1bjogY3Vyc29yTGluZURvd24sIHNoaWZ0OiBzZWxlY3RMaW5lRG93biB9LFxuICAgIHsga2V5OiBcIkN0cmwtYVwiLCBydW46IGN1cnNvckxpbmVTdGFydCwgc2hpZnQ6IHNlbGVjdExpbmVTdGFydCB9LFxuICAgIHsga2V5OiBcIkN0cmwtZVwiLCBydW46IGN1cnNvckxpbmVFbmQsIHNoaWZ0OiBzZWxlY3RMaW5lRW5kIH0sXG4gICAgeyBrZXk6IFwiQ3RybC1kXCIsIHJ1bjogZGVsZXRlQ2hhckZvcndhcmQgfSxcbiAgICB7IGtleTogXCJDdHJsLWhcIiwgcnVuOiBkZWxldGVDaGFyQmFja3dhcmQgfSxcbiAgICB7IGtleTogXCJDdHJsLWtcIiwgcnVuOiBkZWxldGVUb0xpbmVFbmQgfSxcbiAgICB7IGtleTogXCJDdHJsLUFsdC1oXCIsIHJ1bjogZGVsZXRlR3JvdXBCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIkN0cmwtb1wiLCBydW46IHNwbGl0TGluZSB9LFxuICAgIHsga2V5OiBcIkN0cmwtdFwiLCBydW46IHRyYW5zcG9zZUNoYXJzIH0sXG4gICAgeyBrZXk6IFwiQ3RybC12XCIsIHJ1bjogY3Vyc29yUGFnZURvd24gfSxcbl07XG4vKipcbkFuIGFycmF5IG9mIGtleSBiaW5kaW5ncyBjbG9zZWx5IHN0aWNraW5nIHRvIHBsYXRmb3JtLXN0YW5kYXJkIG9yXG53aWRlbHkgdXNlZCBiaW5kaW5ncy4gKFRoaXMgaW5jbHVkZXMgdGhlIGJpbmRpbmdzIGZyb21cbltgZW1hY3NTdHlsZUtleW1hcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZW1hY3NTdHlsZUtleW1hcCksIHdpdGggdGhlaXIgYGtleWBcbnByb3BlcnR5IGNoYW5nZWQgdG8gYG1hY2AuKVxuXG4gLSBBcnJvd0xlZnQ6IFtgY3Vyc29yQ2hhckxlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckNoYXJMZWZ0KSAoW2BzZWxlY3RDaGFyTGVmdGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0Q2hhckxlZnQpIHdpdGggU2hpZnQpXG4gLSBBcnJvd1JpZ2h0OiBbYGN1cnNvckNoYXJSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yQ2hhclJpZ2h0KSAoW2BzZWxlY3RDaGFyUmlnaHRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdENoYXJSaWdodCkgd2l0aCBTaGlmdClcbiAtIEN0cmwtQXJyb3dMZWZ0IChBbHQtQXJyb3dMZWZ0IG9uIG1hY09TKTogW2BjdXJzb3JHcm91cExlZnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckdyb3VwTGVmdCkgKFtgc2VsZWN0R3JvdXBMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RHcm91cExlZnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93UmlnaHQgKEFsdC1BcnJvd1JpZ2h0IG9uIG1hY09TKTogW2BjdXJzb3JHcm91cFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JHcm91cFJpZ2h0KSAoW2BzZWxlY3RHcm91cFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RHcm91cFJpZ2h0KSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93TGVmdCAob24gbWFjT1MpOiBbYGN1cnNvckxpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZVN0YXJ0KSAoW2BzZWxlY3RMaW5lU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVTdGFydCkgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd1JpZ2h0IChvbiBtYWNPUyk6IFtgY3Vyc29yTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUVuZCkgKFtgc2VsZWN0TGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZUVuZCkgd2l0aCBTaGlmdClcbiAtIEFycm93VXA6IFtgY3Vyc29yTGluZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lVXApIChbYHNlbGVjdExpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0TGluZVVwKSB3aXRoIFNoaWZ0KVxuIC0gQXJyb3dEb3duOiBbYGN1cnNvckxpbmVEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lRG93bikgKFtgc2VsZWN0TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmVEb3duKSB3aXRoIFNoaWZ0KVxuIC0gQ21kLUFycm93VXAgKG9uIG1hY09TKTogW2BjdXJzb3JEb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jU3RhcnQpIChbYHNlbGVjdERvY1N0YXJ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NTdGFydCkgd2l0aCBTaGlmdClcbiAtIENtZC1BcnJvd0Rvd24gKG9uIG1hY09TKTogW2BjdXJzb3JEb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY0VuZCkgKFtgc2VsZWN0RG9jRW5kYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3REb2NFbmQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93VXAgKG9uIG1hY09TKTogW2BjdXJzb3JQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvclBhZ2VVcCkgKFtgc2VsZWN0UGFnZVVwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RQYWdlVXApIHdpdGggU2hpZnQpXG4gLSBDdHJsLUFycm93RG93biAob24gbWFjT1MpOiBbYGN1cnNvclBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlRG93bikgKFtgc2VsZWN0UGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VEb3duKSB3aXRoIFNoaWZ0KVxuIC0gUGFnZVVwOiBbYGN1cnNvclBhZ2VVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yUGFnZVVwKSAoW2BzZWxlY3RQYWdlVXBgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VVcCkgd2l0aCBTaGlmdClcbiAtIFBhZ2VEb3duOiBbYGN1cnNvclBhZ2VEb3duYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JQYWdlRG93bikgKFtgc2VsZWN0UGFnZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdFBhZ2VEb3duKSB3aXRoIFNoaWZ0KVxuIC0gSG9tZTogW2BjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yTGluZUJvdW5kYXJ5QmFja3dhcmQpIChbYHNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZCkgd2l0aCBTaGlmdClcbiAtIEVuZDogW2BjdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JMaW5lQm91bmRhcnlGb3J3YXJkKSAoW2BzZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkKSB3aXRoIFNoaWZ0KVxuIC0gQ3RybC1Ib21lIChDbWQtSG9tZSBvbiBtYWNPUyk6IFtgY3Vyc29yRG9jU3RhcnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvckRvY1N0YXJ0KSAoW2BzZWxlY3REb2NTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0RG9jU3RhcnQpIHdpdGggU2hpZnQpXG4gLSBDdHJsLUVuZCAoQ21kLUhvbWUgb24gbWFjT1MpOiBbYGN1cnNvckRvY0VuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yRG9jRW5kKSAoW2BzZWxlY3REb2NFbmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdERvY0VuZCkgd2l0aCBTaGlmdClcbiAtIEVudGVyOiBbYGluc2VydE5ld2xpbmVBbmRJbmRlbnRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmluc2VydE5ld2xpbmVBbmRJbmRlbnQpXG4gLSBDdHJsLWEgKENtZC1hIG9uIG1hY09TKTogW2BzZWxlY3RBbGxgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdEFsbClcbiAtIEJhY2tzcGFjZTogW2BkZWxldGVDaGFyQmFja3dhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUNoYXJCYWNrd2FyZClcbiAtIERlbGV0ZTogW2BkZWxldGVDaGFyRm9yd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlQ2hhckZvcndhcmQpXG4gLSBDdHJsLUJhY2tzcGFjZSAoQWx0LUJhY2tzcGFjZSBvbiBtYWNPUyk6IFtgZGVsZXRlR3JvdXBCYWNrd2FyZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlR3JvdXBCYWNrd2FyZClcbiAtIEN0cmwtRGVsZXRlIChBbHQtRGVsZXRlIG9uIG1hY09TKTogW2BkZWxldGVHcm91cEZvcndhcmRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmRlbGV0ZUdyb3VwRm9yd2FyZClcbiAtIENtZC1CYWNrc3BhY2UgKG1hY09TKTogW2BkZWxldGVUb0xpbmVTdGFydGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlVG9MaW5lU3RhcnQpLlxuIC0gQ21kLURlbGV0ZSAobWFjT1MpOiBbYGRlbGV0ZVRvTGluZUVuZGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuZGVsZXRlVG9MaW5lRW5kKS5cbiovXG5jb25zdCBzdGFuZGFyZEtleW1hcCA9IC8qQF9fUFVSRV9fKi9bXG4gICAgeyBrZXk6IFwiQXJyb3dMZWZ0XCIsIHJ1bjogY3Vyc29yQ2hhckxlZnQsIHNoaWZ0OiBzZWxlY3RDaGFyTGVmdCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtQXJyb3dMZWZ0XCIsIG1hYzogXCJBbHQtQXJyb3dMZWZ0XCIsIHJ1bjogY3Vyc29yR3JvdXBMZWZ0LCBzaGlmdDogc2VsZWN0R3JvdXBMZWZ0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbWFjOiBcIkNtZC1BcnJvd0xlZnRcIiwgcnVuOiBjdXJzb3JMaW5lQm91bmRhcnlMZWZ0LCBzaGlmdDogc2VsZWN0TGluZUJvdW5kYXJ5TGVmdCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJBcnJvd1JpZ2h0XCIsIHJ1bjogY3Vyc29yQ2hhclJpZ2h0LCBzaGlmdDogc2VsZWN0Q2hhclJpZ2h0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1BcnJvd1JpZ2h0XCIsIG1hYzogXCJBbHQtQXJyb3dSaWdodFwiLCBydW46IGN1cnNvckdyb3VwUmlnaHQsIHNoaWZ0OiBzZWxlY3RHcm91cFJpZ2h0LCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbWFjOiBcIkNtZC1BcnJvd1JpZ2h0XCIsIHJ1bjogY3Vyc29yTGluZUJvdW5kYXJ5UmlnaHQsIHNoaWZ0OiBzZWxlY3RMaW5lQm91bmRhcnlSaWdodCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJBcnJvd1VwXCIsIHJ1bjogY3Vyc29yTGluZVVwLCBzaGlmdDogc2VsZWN0TGluZVVwLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsgbWFjOiBcIkNtZC1BcnJvd1VwXCIsIHJ1bjogY3Vyc29yRG9jU3RhcnQsIHNoaWZ0OiBzZWxlY3REb2NTdGFydCB9LFxuICAgIHsgbWFjOiBcIkN0cmwtQXJyb3dVcFwiLCBydW46IGN1cnNvclBhZ2VVcCwgc2hpZnQ6IHNlbGVjdFBhZ2VVcCB9LFxuICAgIHsga2V5OiBcIkFycm93RG93blwiLCBydW46IGN1cnNvckxpbmVEb3duLCBzaGlmdDogc2VsZWN0TGluZURvd24sIHByZXZlbnREZWZhdWx0OiB0cnVlIH0sXG4gICAgeyBtYWM6IFwiQ21kLUFycm93RG93blwiLCBydW46IGN1cnNvckRvY0VuZCwgc2hpZnQ6IHNlbGVjdERvY0VuZCB9LFxuICAgIHsgbWFjOiBcIkN0cmwtQXJyb3dEb3duXCIsIHJ1bjogY3Vyc29yUGFnZURvd24sIHNoaWZ0OiBzZWxlY3RQYWdlRG93biB9LFxuICAgIHsga2V5OiBcIlBhZ2VVcFwiLCBydW46IGN1cnNvclBhZ2VVcCwgc2hpZnQ6IHNlbGVjdFBhZ2VVcCB9LFxuICAgIHsga2V5OiBcIlBhZ2VEb3duXCIsIHJ1bjogY3Vyc29yUGFnZURvd24sIHNoaWZ0OiBzZWxlY3RQYWdlRG93biB9LFxuICAgIHsga2V5OiBcIkhvbWVcIiwgcnVuOiBjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCwgc2hpZnQ6IHNlbGVjdExpbmVCb3VuZGFyeUJhY2t3YXJkLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1Ib21lXCIsIHJ1bjogY3Vyc29yRG9jU3RhcnQsIHNoaWZ0OiBzZWxlY3REb2NTdGFydCB9LFxuICAgIHsga2V5OiBcIkVuZFwiLCBydW46IGN1cnNvckxpbmVCb3VuZGFyeUZvcndhcmQsIHNoaWZ0OiBzZWxlY3RMaW5lQm91bmRhcnlGb3J3YXJkLCBwcmV2ZW50RGVmYXVsdDogdHJ1ZSB9LFxuICAgIHsga2V5OiBcIk1vZC1FbmRcIiwgcnVuOiBjdXJzb3JEb2NFbmQsIHNoaWZ0OiBzZWxlY3REb2NFbmQgfSxcbiAgICB7IGtleTogXCJFbnRlclwiLCBydW46IGluc2VydE5ld2xpbmVBbmRJbmRlbnQgfSxcbiAgICB7IGtleTogXCJNb2QtYVwiLCBydW46IHNlbGVjdEFsbCB9LFxuICAgIHsga2V5OiBcIkJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZUNoYXJCYWNrd2FyZCwgc2hpZnQ6IGRlbGV0ZUNoYXJCYWNrd2FyZCB9LFxuICAgIHsga2V5OiBcIkRlbGV0ZVwiLCBydW46IGRlbGV0ZUNoYXJGb3J3YXJkIH0sXG4gICAgeyBrZXk6IFwiTW9kLUJhY2tzcGFjZVwiLCBtYWM6IFwiQWx0LUJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZUdyb3VwQmFja3dhcmQgfSxcbiAgICB7IGtleTogXCJNb2QtRGVsZXRlXCIsIG1hYzogXCJBbHQtRGVsZXRlXCIsIHJ1bjogZGVsZXRlR3JvdXBGb3J3YXJkIH0sXG4gICAgeyBtYWM6IFwiTW9kLUJhY2tzcGFjZVwiLCBydW46IGRlbGV0ZVRvTGluZVN0YXJ0IH0sXG4gICAgeyBtYWM6IFwiTW9kLURlbGV0ZVwiLCBydW46IGRlbGV0ZVRvTGluZUVuZCB9XG5dLmNvbmNhdCgvKkBfX1BVUkVfXyovZW1hY3NTdHlsZUtleW1hcC5tYXAoYiA9PiAoeyBtYWM6IGIua2V5LCBydW46IGIucnVuLCBzaGlmdDogYi5zaGlmdCB9KSkpO1xuLyoqXG5UaGUgZGVmYXVsdCBrZXltYXAuIEluY2x1ZGVzIGFsbCBiaW5kaW5ncyBmcm9tXG5bYHN0YW5kYXJkS2V5bWFwYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zdGFuZGFyZEtleW1hcCkgcGx1cyB0aGUgZm9sbG93aW5nOlxuXG4tIEFsdC1BcnJvd0xlZnQgKEN0cmwtQXJyb3dMZWZ0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5jdXJzb3JTeW50YXhMZWZ0KSAoW2BzZWxlY3RTeW50YXhMZWZ0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhMZWZ0KSB3aXRoIFNoaWZ0KVxuLSBBbHQtQXJyb3dSaWdodCAoQ3RybC1BcnJvd1JpZ2h0IG9uIG1hY09TKTogW2BjdXJzb3JTeW50YXhSaWdodGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY3Vyc29yU3ludGF4UmlnaHQpIChbYHNlbGVjdFN5bnRheFJpZ2h0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zZWxlY3RTeW50YXhSaWdodCkgd2l0aCBTaGlmdClcbi0gQWx0LUFycm93VXA6IFtgbW92ZUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMubW92ZUxpbmVVcClcbi0gQWx0LUFycm93RG93bjogW2Btb3ZlTGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLm1vdmVMaW5lRG93bilcbi0gU2hpZnQtQWx0LUFycm93VXA6IFtgY29weUxpbmVVcGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuY29weUxpbmVVcClcbi0gU2hpZnQtQWx0LUFycm93RG93bjogW2Bjb3B5TGluZURvd25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmNvcHlMaW5lRG93bilcbi0gRXNjYXBlOiBbYHNpbXBsaWZ5U2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5zaW1wbGlmeVNlbGVjdGlvbilcbi0gQ3RybC1FbnRlciAoQ29tZC1FbnRlciBvbiBtYWNPUyk6IFtgaW5zZXJ0QmxhbmtMaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbnNlcnRCbGFua0xpbmUpXG4tIEFsdC1sIChDdHJsLWwgb24gbWFjT1MpOiBbYHNlbGVjdExpbmVgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLnNlbGVjdExpbmUpXG4tIEN0cmwtaSAoQ21kLWkgb24gbWFjT1MpOiBbYHNlbGVjdFBhcmVudFN5bnRheGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuc2VsZWN0UGFyZW50U3ludGF4KVxuLSBDdHJsLVsgKENtZC1bIG9uIG1hY09TKTogW2BpbmRlbnRMZXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRMZXNzKVxuLSBDdHJsLV0gKENtZC1dIG9uIG1hY09TKTogW2BpbmRlbnRNb3JlYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRNb3JlKVxuLSBDdHJsLUFsdC1cXFxcIChDbWQtQWx0LVxcXFwgb24gbWFjT1MpOiBbYGluZGVudFNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50U2VsZWN0aW9uKVxuLSBTaGlmdC1DdHJsLWsgKFNoaWZ0LUNtZC1rIG9uIG1hY09TKTogW2BkZWxldGVMaW5lYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5kZWxldGVMaW5lKVxuLSBTaGlmdC1DdHJsLVxcXFwgKFNoaWZ0LUNtZC1cXFxcIG9uIG1hY09TKTogW2BjdXJzb3JNYXRjaGluZ0JyYWNrZXRgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2NvbW1hbmRzLmN1cnNvck1hdGNoaW5nQnJhY2tldClcbi0gQ3RybC0vIChDbWQtLyBvbiBtYWNPUyk6IFtgdG9nZ2xlQ29tbWVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudG9nZ2xlQ29tbWVudCkuXG4tIFNoaWZ0LUFsdC1hOiBbYHRvZ2dsZUJsb2NrQ29tbWVudGBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMudG9nZ2xlQmxvY2tDb21tZW50KS5cbiovXG5jb25zdCBkZWZhdWx0S2V5bWFwID0gLypAX19QVVJFX18qL1tcbiAgICB7IGtleTogXCJBbHQtQXJyb3dMZWZ0XCIsIG1hYzogXCJDdHJsLUFycm93TGVmdFwiLCBydW46IGN1cnNvclN5bnRheExlZnQsIHNoaWZ0OiBzZWxlY3RTeW50YXhMZWZ0IH0sXG4gICAgeyBrZXk6IFwiQWx0LUFycm93UmlnaHRcIiwgbWFjOiBcIkN0cmwtQXJyb3dSaWdodFwiLCBydW46IGN1cnNvclN5bnRheFJpZ2h0LCBzaGlmdDogc2VsZWN0U3ludGF4UmlnaHQgfSxcbiAgICB7IGtleTogXCJBbHQtQXJyb3dVcFwiLCBydW46IG1vdmVMaW5lVXAgfSxcbiAgICB7IGtleTogXCJTaGlmdC1BbHQtQXJyb3dVcFwiLCBydW46IGNvcHlMaW5lVXAgfSxcbiAgICB7IGtleTogXCJBbHQtQXJyb3dEb3duXCIsIHJ1bjogbW92ZUxpbmVEb3duIH0sXG4gICAgeyBrZXk6IFwiU2hpZnQtQWx0LUFycm93RG93blwiLCBydW46IGNvcHlMaW5lRG93biB9LFxuICAgIHsga2V5OiBcIkVzY2FwZVwiLCBydW46IHNpbXBsaWZ5U2VsZWN0aW9uIH0sXG4gICAgeyBrZXk6IFwiTW9kLUVudGVyXCIsIHJ1bjogaW5zZXJ0QmxhbmtMaW5lIH0sXG4gICAgeyBrZXk6IFwiQWx0LWxcIiwgbWFjOiBcIkN0cmwtbFwiLCBydW46IHNlbGVjdExpbmUgfSxcbiAgICB7IGtleTogXCJNb2QtaVwiLCBydW46IHNlbGVjdFBhcmVudFN5bnRheCwgcHJldmVudERlZmF1bHQ6IHRydWUgfSxcbiAgICB7IGtleTogXCJNb2QtW1wiLCBydW46IGluZGVudExlc3MgfSxcbiAgICB7IGtleTogXCJNb2QtXVwiLCBydW46IGluZGVudE1vcmUgfSxcbiAgICB7IGtleTogXCJNb2QtQWx0LVxcXFxcIiwgcnVuOiBpbmRlbnRTZWxlY3Rpb24gfSxcbiAgICB7IGtleTogXCJTaGlmdC1Nb2Qta1wiLCBydW46IGRlbGV0ZUxpbmUgfSxcbiAgICB7IGtleTogXCJTaGlmdC1Nb2QtXFxcXFwiLCBydW46IGN1cnNvck1hdGNoaW5nQnJhY2tldCB9LFxuICAgIHsga2V5OiBcIk1vZC0vXCIsIHJ1bjogdG9nZ2xlQ29tbWVudCB9LFxuICAgIHsga2V5OiBcIkFsdC1BXCIsIHJ1bjogdG9nZ2xlQmxvY2tDb21tZW50IH1cbl0uY29uY2F0KHN0YW5kYXJkS2V5bWFwKTtcbi8qKlxuQSBiaW5kaW5nIHRoYXQgYmluZHMgVGFiIHRvIFtgaW5kZW50TW9yZWBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jY29tbWFuZHMuaW5kZW50TW9yZSkgYW5kXG5TaGlmdC1UYWIgdG8gW2BpbmRlbnRMZXNzYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNjb21tYW5kcy5pbmRlbnRMZXNzKS5cblBsZWFzZSBzZWUgdGhlIFtUYWIgZXhhbXBsZV0oLi4vLi4vZXhhbXBsZXMvdGFiLykgYmVmb3JlIHVzaW5nXG50aGlzLlxuKi9cbmNvbnN0IGluZGVudFdpdGhUYWIgPSB7IGtleTogXCJUYWJcIiwgcnVuOiBpbmRlbnRNb3JlLCBzaGlmdDogaW5kZW50TGVzcyB9O1xuXG5leHBvcnQgeyBibG9ja0NvbW1lbnQsIGJsb2NrVW5jb21tZW50LCBjb3B5TGluZURvd24sIGNvcHlMaW5lVXAsIGN1cnNvckNoYXJCYWNrd2FyZCwgY3Vyc29yQ2hhckZvcndhcmQsIGN1cnNvckNoYXJMZWZ0LCBjdXJzb3JDaGFyUmlnaHQsIGN1cnNvckRvY0VuZCwgY3Vyc29yRG9jU3RhcnQsIGN1cnNvckdyb3VwQmFja3dhcmQsIGN1cnNvckdyb3VwRm9yd2FyZCwgY3Vyc29yR3JvdXBMZWZ0LCBjdXJzb3JHcm91cFJpZ2h0LCBjdXJzb3JMaW5lQm91bmRhcnlCYWNrd2FyZCwgY3Vyc29yTGluZUJvdW5kYXJ5Rm9yd2FyZCwgY3Vyc29yTGluZUJvdW5kYXJ5TGVmdCwgY3Vyc29yTGluZUJvdW5kYXJ5UmlnaHQsIGN1cnNvckxpbmVEb3duLCBjdXJzb3JMaW5lRW5kLCBjdXJzb3JMaW5lU3RhcnQsIGN1cnNvckxpbmVVcCwgY3Vyc29yTWF0Y2hpbmdCcmFja2V0LCBjdXJzb3JQYWdlRG93biwgY3Vyc29yUGFnZVVwLCBjdXJzb3JTdWJ3b3JkQmFja3dhcmQsIGN1cnNvclN1YndvcmRGb3J3YXJkLCBjdXJzb3JTeW50YXhMZWZ0LCBjdXJzb3JTeW50YXhSaWdodCwgZGVmYXVsdEtleW1hcCwgZGVsZXRlQ2hhckJhY2t3YXJkLCBkZWxldGVDaGFyRm9yd2FyZCwgZGVsZXRlR3JvdXBCYWNrd2FyZCwgZGVsZXRlR3JvdXBGb3J3YXJkLCBkZWxldGVMaW5lLCBkZWxldGVUb0xpbmVFbmQsIGRlbGV0ZVRvTGluZVN0YXJ0LCBkZWxldGVUcmFpbGluZ1doaXRlc3BhY2UsIGVtYWNzU3R5bGVLZXltYXAsIGhpc3RvcnksIGhpc3RvcnlGaWVsZCwgaGlzdG9yeUtleW1hcCwgaW5kZW50TGVzcywgaW5kZW50TW9yZSwgaW5kZW50U2VsZWN0aW9uLCBpbmRlbnRXaXRoVGFiLCBpbnNlcnRCbGFua0xpbmUsIGluc2VydE5ld2xpbmUsIGluc2VydE5ld2xpbmVBbmRJbmRlbnQsIGluc2VydFRhYiwgaW52ZXJ0ZWRFZmZlY3RzLCBpc29sYXRlSGlzdG9yeSwgbGluZUNvbW1lbnQsIGxpbmVVbmNvbW1lbnQsIG1vdmVMaW5lRG93biwgbW92ZUxpbmVVcCwgcmVkbywgcmVkb0RlcHRoLCByZWRvU2VsZWN0aW9uLCBzZWxlY3RBbGwsIHNlbGVjdENoYXJCYWNrd2FyZCwgc2VsZWN0Q2hhckZvcndhcmQsIHNlbGVjdENoYXJMZWZ0LCBzZWxlY3RDaGFyUmlnaHQsIHNlbGVjdERvY0VuZCwgc2VsZWN0RG9jU3RhcnQsIHNlbGVjdEdyb3VwQmFja3dhcmQsIHNlbGVjdEdyb3VwRm9yd2FyZCwgc2VsZWN0R3JvdXBMZWZ0LCBzZWxlY3RHcm91cFJpZ2h0LCBzZWxlY3RMaW5lLCBzZWxlY3RMaW5lQm91bmRhcnlCYWNrd2FyZCwgc2VsZWN0TGluZUJvdW5kYXJ5Rm9yd2FyZCwgc2VsZWN0TGluZUJvdW5kYXJ5TGVmdCwgc2VsZWN0TGluZUJvdW5kYXJ5UmlnaHQsIHNlbGVjdExpbmVEb3duLCBzZWxlY3RMaW5lRW5kLCBzZWxlY3RMaW5lU3RhcnQsIHNlbGVjdExpbmVVcCwgc2VsZWN0TWF0Y2hpbmdCcmFja2V0LCBzZWxlY3RQYWdlRG93biwgc2VsZWN0UGFnZVVwLCBzZWxlY3RQYXJlbnRTeW50YXgsIHNlbGVjdFN1YndvcmRCYWNrd2FyZCwgc2VsZWN0U3Vid29yZEZvcndhcmQsIHNlbGVjdFN5bnRheExlZnQsIHNlbGVjdFN5bnRheFJpZ2h0LCBzaW1wbGlmeVNlbGVjdGlvbiwgc3BsaXRMaW5lLCBzdGFuZGFyZEtleW1hcCwgdG9nZ2xlQmxvY2tDb21tZW50LCB0b2dnbGVCbG9ja0NvbW1lbnRCeUxpbmUsIHRvZ2dsZUNvbW1lbnQsIHRvZ2dsZUxpbmVDb21tZW50LCB0cmFuc3Bvc2VDaGFycywgdW5kbywgdW5kb0RlcHRoLCB1bmRvU2VsZWN0aW9uIH07XG4iLCAiaW1wb3J0IHsgQW5ub3RhdGlvbiwgRWRpdG9yU2VsZWN0aW9uLCBjb2RlUG9pbnRBdCwgY29kZVBvaW50U2l6ZSwgZnJvbUNvZGVQb2ludCwgRmFjZXQsIGNvbWJpbmVDb25maWcsIFN0YXRlRWZmZWN0LCBTdGF0ZUZpZWxkLCBQcmVjLCBUZXh0LCBNYXBNb2RlLCBSYW5nZVZhbHVlLCBSYW5nZVNldCwgQ2hhckNhdGVnb3J5IH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgbG9nRXhjZXB0aW9uLCBEaXJlY3Rpb24sIHNob3dUb29sdGlwLCBFZGl0b3JWaWV3LCBWaWV3UGx1Z2luLCBnZXRUb29sdGlwLCBEZWNvcmF0aW9uLCBXaWRnZXRUeXBlLCBrZXltYXAgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHN5bnRheFRyZWUsIGluZGVudFVuaXQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5cbi8qKlxuQW4gaW5zdGFuY2Ugb2YgdGhpcyBpcyBwYXNzZWQgdG8gY29tcGxldGlvbiBzb3VyY2UgZnVuY3Rpb25zLlxuKi9cbmNsYXNzIENvbXBsZXRpb25Db250ZXh0IHtcbiAgICAvKipcbiAgICBDcmVhdGUgYSBuZXcgY29tcGxldGlvbiBjb250ZXh0LiAoTW9zdGx5IHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgIGNvbXBsZXRpb24gc291cmNlc1x1MjAxNGluIHRoZSBlZGl0b3IsIHRoZSBleHRlbnNpb24gd2lsbCBjcmVhdGVcbiAgICB0aGVzZSBmb3IgeW91LilcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBlZGl0b3Igc3RhdGUgdGhhdCB0aGUgY29tcGxldGlvbiBoYXBwZW5zIGluLlxuICAgICovXG4gICAgc3RhdGUsIFxuICAgIC8qKlxuICAgIFRoZSBwb3NpdGlvbiBhdCB3aGljaCB0aGUgY29tcGxldGlvbiBpcyBoYXBwZW5pbmcuXG4gICAgKi9cbiAgICBwb3MsIFxuICAgIC8qKlxuICAgIEluZGljYXRlcyB3aGV0aGVyIGNvbXBsZXRpb24gd2FzIGFjdGl2YXRlZCBleHBsaWNpdGx5LCBvclxuICAgIGltcGxpY2l0bHkgYnkgdHlwaW5nLiBUaGUgdXN1YWwgd2F5IHRvIHJlc3BvbmQgdG8gdGhpcyBpcyB0b1xuICAgIG9ubHkgcmV0dXJuIGNvbXBsZXRpb25zIHdoZW4gZWl0aGVyIHRoZXJlIGlzIHBhcnQgb2YgYVxuICAgIGNvbXBsZXRhYmxlIGVudGl0eSBiZWZvcmUgdGhlIGN1cnNvciwgb3IgYGV4cGxpY2l0YCBpcyB0cnVlLlxuICAgICovXG4gICAgZXhwbGljaXQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5leHBsaWNpdCA9IGV4cGxpY2l0O1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuYWJvcnRMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBleHRlbnQsIGNvbnRlbnQsIGFuZCAoaWYgdGhlcmUgaXMgYSB0b2tlbikgdHlwZSBvZiB0aGVcbiAgICB0b2tlbiBiZWZvcmUgYHRoaXMucG9zYC5cbiAgICAqL1xuICAgIHRva2VuQmVmb3JlKHR5cGVzKSB7XG4gICAgICAgIGxldCB0b2tlbiA9IHN5bnRheFRyZWUodGhpcy5zdGF0ZSkucmVzb2x2ZUlubmVyKHRoaXMucG9zLCAtMSk7XG4gICAgICAgIHdoaWxlICh0b2tlbiAmJiB0eXBlcy5pbmRleE9mKHRva2VuLm5hbWUpIDwgMClcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW4ucGFyZW50O1xuICAgICAgICByZXR1cm4gdG9rZW4gPyB7IGZyb206IHRva2VuLmZyb20sIHRvOiB0aGlzLnBvcyxcbiAgICAgICAgICAgIHRleHQ6IHRoaXMuc3RhdGUuc2xpY2VEb2ModG9rZW4uZnJvbSwgdGhpcy5wb3MpLFxuICAgICAgICAgICAgdHlwZTogdG9rZW4udHlwZSB9IDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgR2V0IHRoZSBtYXRjaCBvZiB0aGUgZ2l2ZW4gZXhwcmVzc2lvbiBkaXJlY3RseSBiZWZvcmUgdGhlXG4gICAgY3Vyc29yLlxuICAgICovXG4gICAgbWF0Y2hCZWZvcmUoZXhwcikge1xuICAgICAgICBsZXQgbGluZSA9IHRoaXMuc3RhdGUuZG9jLmxpbmVBdCh0aGlzLnBvcyk7XG4gICAgICAgIGxldCBzdGFydCA9IE1hdGgubWF4KGxpbmUuZnJvbSwgdGhpcy5wb3MgLSAyNTApO1xuICAgICAgICBsZXQgc3RyID0gbGluZS50ZXh0LnNsaWNlKHN0YXJ0IC0gbGluZS5mcm9tLCB0aGlzLnBvcyAtIGxpbmUuZnJvbSk7XG4gICAgICAgIGxldCBmb3VuZCA9IHN0ci5zZWFyY2goZW5zdXJlQW5jaG9yKGV4cHIsIGZhbHNlKSk7XG4gICAgICAgIHJldHVybiBmb3VuZCA8IDAgPyBudWxsIDogeyBmcm9tOiBzdGFydCArIGZvdW5kLCB0bzogdGhpcy5wb3MsIHRleHQ6IHN0ci5zbGljZShmb3VuZCkgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgWWllbGRzIHRydWUgd2hlbiB0aGUgcXVlcnkgaGFzIGJlZW4gYWJvcnRlZC4gQ2FuIGJlIHVzZWZ1bCBpblxuICAgIGFzeW5jaHJvbm91cyBxdWVyaWVzIHRvIGF2b2lkIGRvaW5nIHdvcmsgdGhhdCB3aWxsIGJlIGlnbm9yZWQuXG4gICAgKi9cbiAgICBnZXQgYWJvcnRlZCgpIHsgcmV0dXJuIHRoaXMuYWJvcnRMaXN0ZW5lcnMgPT0gbnVsbDsgfVxuICAgIC8qKlxuICAgIEFsbG93cyB5b3UgdG8gcmVnaXN0ZXIgYWJvcnQgaGFuZGxlcnMsIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdoZW5cbiAgICB0aGUgcXVlcnkgaXNcbiAgICBbYWJvcnRlZF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvbkNvbnRleHQuYWJvcnRlZCkuXG4gICAgKi9cbiAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICh0eXBlID09IFwiYWJvcnRcIiAmJiB0aGlzLmFib3J0TGlzdGVuZXJzKVxuICAgICAgICAgICAgdGhpcy5hYm9ydExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0b1NldChjaGFycykge1xuICAgIGxldCBmbGF0ID0gT2JqZWN0LmtleXMoY2hhcnMpLmpvaW4oXCJcIik7XG4gICAgbGV0IHdvcmRzID0gL1xcdy8udGVzdChmbGF0KTtcbiAgICBpZiAod29yZHMpXG4gICAgICAgIGZsYXQgPSBmbGF0LnJlcGxhY2UoL1xcdy9nLCBcIlwiKTtcbiAgICByZXR1cm4gYFske3dvcmRzID8gXCJcXFxcd1wiIDogXCJcIn0ke2ZsYXQucmVwbGFjZSgvW15cXHdcXHNdL2csIFwiXFxcXCQmXCIpfV1gO1xufVxuZnVuY3Rpb24gcHJlZml4TWF0Y2gob3B0aW9ucykge1xuICAgIGxldCBmaXJzdCA9IE9iamVjdC5jcmVhdGUobnVsbCksIHJlc3QgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZvciAobGV0IHsgbGFiZWwgfSBvZiBvcHRpb25zKSB7XG4gICAgICAgIGZpcnN0W2xhYmVsWzBdXSA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGFiZWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICByZXN0W2xhYmVsW2ldXSA9IHRydWU7XG4gICAgfVxuICAgIGxldCBzb3VyY2UgPSB0b1NldChmaXJzdCkgKyB0b1NldChyZXN0KSArIFwiKiRcIjtcbiAgICByZXR1cm4gW25ldyBSZWdFeHAoXCJeXCIgKyBzb3VyY2UpLCBuZXcgUmVnRXhwKHNvdXJjZSldO1xufVxuLyoqXG5HaXZlbiBhIGEgZml4ZWQgYXJyYXkgb2Ygb3B0aW9ucywgcmV0dXJuIGFuIGF1dG9jb21wbGV0ZXIgdGhhdFxuY29tcGxldGVzIHRoZW0uXG4qL1xuZnVuY3Rpb24gY29tcGxldGVGcm9tTGlzdChsaXN0KSB7XG4gICAgbGV0IG9wdGlvbnMgPSBsaXN0Lm1hcChvID0+IHR5cGVvZiBvID09IFwic3RyaW5nXCIgPyB7IGxhYmVsOiBvIH0gOiBvKTtcbiAgICBsZXQgW3ZhbGlkRm9yLCBtYXRjaF0gPSBvcHRpb25zLmV2ZXJ5KG8gPT4gL15cXHcrJC8udGVzdChvLmxhYmVsKSkgPyBbL1xcdyokLywgL1xcdyskL10gOiBwcmVmaXhNYXRjaChvcHRpb25zKTtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHRva2VuID0gY29udGV4dC5tYXRjaEJlZm9yZShtYXRjaCk7XG4gICAgICAgIHJldHVybiB0b2tlbiB8fCBjb250ZXh0LmV4cGxpY2l0ID8geyBmcm9tOiB0b2tlbiA/IHRva2VuLmZyb20gOiBjb250ZXh0LnBvcywgb3B0aW9ucywgdmFsaWRGb3IgfSA6IG51bGw7XG4gICAgfTtcbn1cbi8qKlxuV3JhcCB0aGUgZ2l2ZW4gY29tcGxldGlvbiBzb3VyY2Ugc28gdGhhdCBpdCB3aWxsIG9ubHkgZmlyZSB3aGVuIHRoZVxuY3Vyc29yIGlzIGluIGEgc3ludGF4IG5vZGUgd2l0aCBvbmUgb2YgdGhlIGdpdmVuIG5hbWVzLlxuKi9cbmZ1bmN0aW9uIGlmSW4obm9kZXMsIHNvdXJjZSkge1xuICAgIHJldHVybiAoY29udGV4dCkgPT4ge1xuICAgICAgICBmb3IgKGxldCBwb3MgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpXG4gICAgICAgICAgICBpZiAobm9kZXMuaW5kZXhPZihwb3MubmFtZSkgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlKGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xufVxuLyoqXG5XcmFwIHRoZSBnaXZlbiBjb21wbGV0aW9uIHNvdXJjZSBzbyB0aGF0IGl0IHdpbGwgbm90IGZpcmUgd2hlbiB0aGVcbmN1cnNvciBpcyBpbiBhIHN5bnRheCBub2RlIHdpdGggb25lIG9mIHRoZSBnaXZlbiBuYW1lcy5cbiovXG5mdW5jdGlvbiBpZk5vdEluKG5vZGVzLCBzb3VyY2UpIHtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gc3ludGF4VHJlZShjb250ZXh0LnN0YXRlKS5yZXNvbHZlSW5uZXIoY29udGV4dC5wb3MsIC0xKTsgcG9zOyBwb3MgPSBwb3MucGFyZW50KVxuICAgICAgICAgICAgaWYgKG5vZGVzLmluZGV4T2YocG9zLm5hbWUpID4gLTEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBzb3VyY2UoY29udGV4dCk7XG4gICAgfTtcbn1cbmNsYXNzIE9wdGlvbiB7XG4gICAgY29uc3RydWN0b3IoY29tcGxldGlvbiwgc291cmNlLCBtYXRjaCkge1xuICAgICAgICB0aGlzLmNvbXBsZXRpb24gPSBjb21wbGV0aW9uO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgdGhpcy5tYXRjaCA9IG1hdGNoO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGN1cihzdGF0ZSkgeyByZXR1cm4gc3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZDsgfVxuLy8gTWFrZSBzdXJlIHRoZSBnaXZlbiByZWdleHAgaGFzIGEgJCBhdCBpdHMgZW5kIGFuZCwgaWYgYHN0YXJ0YCBpc1xuLy8gdHJ1ZSwgYSBeIGF0IGl0cyBzdGFydC5cbmZ1bmN0aW9uIGVuc3VyZUFuY2hvcihleHByLCBzdGFydCkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgeyBzb3VyY2UgfSA9IGV4cHI7XG4gICAgbGV0IGFkZFN0YXJ0ID0gc3RhcnQgJiYgc291cmNlWzBdICE9IFwiXlwiLCBhZGRFbmQgPSBzb3VyY2Vbc291cmNlLmxlbmd0aCAtIDFdICE9IFwiJFwiO1xuICAgIGlmICghYWRkU3RhcnQgJiYgIWFkZEVuZClcbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYCR7YWRkU3RhcnQgPyBcIl5cIiA6IFwiXCJ9KD86JHtzb3VyY2V9KSR7YWRkRW5kID8gXCIkXCIgOiBcIlwifWAsIChfYSA9IGV4cHIuZmxhZ3MpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IChleHByLmlnbm9yZUNhc2UgPyBcImlcIiA6IFwiXCIpKTtcbn1cbi8qKlxuVGhpcyBhbm5vdGF0aW9uIGlzIGFkZGVkIHRvIHRyYW5zYWN0aW9ucyB0aGF0IGFyZSBwcm9kdWNlZCBieVxucGlja2luZyBhIGNvbXBsZXRpb24uXG4qL1xuY29uc3QgcGlja2VkQ29tcGxldGlvbiA9IC8qQF9fUFVSRV9fKi9Bbm5vdGF0aW9uLmRlZmluZSgpO1xuLyoqXG5IZWxwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdHJhbnNhY3Rpb24gc3BlYyB3aGljaCBpbnNlcnRzIGFcbmNvbXBsZXRpb24ncyB0ZXh0IGluIHRoZSBtYWluIHNlbGVjdGlvbiByYW5nZSwgYW5kIGFueSBvdGhlclxuc2VsZWN0aW9uIHJhbmdlIHRoYXQgaGFzIHRoZSBzYW1lIHRleHQgaW4gZnJvbnQgb2YgaXQuXG4qL1xuZnVuY3Rpb24gaW5zZXJ0Q29tcGxldGlvblRleHQoc3RhdGUsIHRleHQsIGZyb20sIHRvKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZSA9PSBzdGF0ZS5zZWxlY3Rpb24ubWFpbilcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiBmcm9tLCB0bzogdG8sIGluc2VydDogdGV4dCB9LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGZyb20gKyB0ZXh0Lmxlbmd0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIGxldCBsZW4gPSB0byAtIGZyb207XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkgfHxcbiAgICAgICAgICAgIGxlbiAmJiBzdGF0ZS5zbGljZURvYyhyYW5nZS5mcm9tIC0gbGVuLCByYW5nZS5mcm9tKSAhPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0bykpXG4gICAgICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhbmdlczogeyBmcm9tOiByYW5nZS5mcm9tIC0gbGVuLCB0bzogcmFuZ2UuZnJvbSwgaW5zZXJ0OiB0ZXh0IH0sXG4gICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5mcm9tIC0gbGVuICsgdGV4dC5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgfSkpLCB7IHVzZXJFdmVudDogXCJpbnB1dC5jb21wbGV0ZVwiIH0pO1xufVxuZnVuY3Rpb24gYXBwbHlDb21wbGV0aW9uKHZpZXcsIG9wdGlvbikge1xuICAgIGNvbnN0IGFwcGx5ID0gb3B0aW9uLmNvbXBsZXRpb24uYXBwbHkgfHwgb3B0aW9uLmNvbXBsZXRpb24ubGFiZWw7XG4gICAgbGV0IHJlc3VsdCA9IG9wdGlvbi5zb3VyY2U7XG4gICAgaWYgKHR5cGVvZiBhcHBseSA9PSBcInN0cmluZ1wiKVxuICAgICAgICB2aWV3LmRpc3BhdGNoKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgaW5zZXJ0Q29tcGxldGlvblRleHQodmlldy5zdGF0ZSwgYXBwbHksIHJlc3VsdC5mcm9tLCByZXN1bHQudG8pKSwgeyBhbm5vdGF0aW9uczogcGlja2VkQ29tcGxldGlvbi5vZihvcHRpb24uY29tcGxldGlvbikgfSkpO1xuICAgIGVsc2VcbiAgICAgICAgYXBwbHkodmlldywgb3B0aW9uLmNvbXBsZXRpb24sIHJlc3VsdC5mcm9tLCByZXN1bHQudG8pO1xufVxuY29uc3QgU291cmNlQ2FjaGUgPSAvKkBfX1BVUkVfXyovbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGFzU291cmNlKHNvdXJjZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzb3VyY2UpKVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIGxldCBrbm93biA9IFNvdXJjZUNhY2hlLmdldChzb3VyY2UpO1xuICAgIGlmICgha25vd24pXG4gICAgICAgIFNvdXJjZUNhY2hlLnNldChzb3VyY2UsIGtub3duID0gY29tcGxldGVGcm9tTGlzdChzb3VyY2UpKTtcbiAgICByZXR1cm4ga25vd247XG59XG5cbi8vIEEgcGF0dGVybiBtYXRjaGVyIGZvciBmdXp6eSBjb21wbGV0aW9uIG1hdGNoaW5nLiBDcmVhdGUgYW4gaW5zdGFuY2Vcbi8vIG9uY2UgZm9yIGEgcGF0dGVybiwgYW5kIHRoZW4gdXNlIHRoYXQgdG8gbWF0Y2ggYW55IG51bWJlciBvZlxuLy8gY29tcGxldGlvbnMuXG5jbGFzcyBGdXp6eU1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhdHRlcm4pIHtcbiAgICAgICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgdGhpcy5jaGFycyA9IFtdO1xuICAgICAgICB0aGlzLmZvbGRlZCA9IFtdO1xuICAgICAgICAvLyBCdWZmZXJzIHJldXNlZCBieSBjYWxscyB0byBgbWF0Y2hgIHRvIHRyYWNrIG1hdGNoZWQgY2hhcmFjdGVyXG4gICAgICAgIC8vIHBvc2l0aW9ucy5cbiAgICAgICAgdGhpcy5hbnkgPSBbXTtcbiAgICAgICAgdGhpcy5wcmVjaXNlID0gW107XG4gICAgICAgIHRoaXMuYnlXb3JkID0gW107XG4gICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgcGF0dGVybi5sZW5ndGg7KSB7XG4gICAgICAgICAgICBsZXQgY2hhciA9IGNvZGVQb2ludEF0KHBhdHRlcm4sIHApLCBzaXplID0gY29kZVBvaW50U2l6ZShjaGFyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChjaGFyKTtcbiAgICAgICAgICAgIGxldCBwYXJ0ID0gcGF0dGVybi5zbGljZShwLCBwICsgc2l6ZSksIHVwcGVyID0gcGFydC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5mb2xkZWQucHVzaChjb2RlUG9pbnRBdCh1cHBlciA9PSBwYXJ0ID8gcGFydC50b0xvd2VyQ2FzZSgpIDogdXBwZXIsIDApKTtcbiAgICAgICAgICAgIHAgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFzdHJhbCA9IHBhdHRlcm4ubGVuZ3RoICE9IHRoaXMuY2hhcnMubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBNYXRjaGVzIGEgZ2l2ZW4gd29yZCAoY29tcGxldGlvbikgYWdhaW5zdCB0aGUgcGF0dGVybiAoaW5wdXQpLlxuICAgIC8vIFdpbGwgcmV0dXJuIG51bGwgZm9yIG5vIG1hdGNoLCBhbmQgb3RoZXJ3aXNlIGFuIGFycmF5IHRoYXQgc3RhcnRzXG4gICAgLy8gd2l0aCB0aGUgbWF0Y2ggc2NvcmUsIGZvbGxvd2VkIGJ5IGFueSBudW1iZXIgb2YgYGZyb20sIHRvYCBwYWlyc1xuICAgIC8vIGluZGljYXRpbmcgdGhlIG1hdGNoZWQgcGFydHMgb2YgYHdvcmRgLlxuICAgIC8vXG4gICAgLy8gVGhlIHNjb3JlIGlzIGEgbnVtYmVyIHRoYXQgaXMgbW9yZSBuZWdhdGl2ZSB0aGUgd29yc2UgdGhlIG1hdGNoXG4gICAgLy8gaXMuIFNlZSBgUGVuYWx0eWAgYWJvdmUuXG4gICAgbWF0Y2god29yZCkge1xuICAgICAgICBpZiAodGhpcy5wYXR0ZXJuLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFswXTtcbiAgICAgICAgaWYgKHdvcmQubGVuZ3RoIDwgdGhpcy5wYXR0ZXJuLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgeyBjaGFycywgZm9sZGVkLCBhbnksIHByZWNpc2UsIGJ5V29yZCB9ID0gdGhpcztcbiAgICAgICAgLy8gRm9yIHNpbmdsZS1jaGFyYWN0ZXIgcXVlcmllcywgb25seSBtYXRjaCB3aGVuIHRoZXkgb2NjdXIgcmlnaHRcbiAgICAgICAgLy8gYXQgdGhlIHN0YXJ0XG4gICAgICAgIGlmIChjaGFycy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgbGV0IGZpcnN0ID0gY29kZVBvaW50QXQod29yZCwgMCk7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QgPT0gY2hhcnNbMF0gPyBbMCwgMCwgY29kZVBvaW50U2l6ZShmaXJzdCldXG4gICAgICAgICAgICAgICAgOiBmaXJzdCA9PSBmb2xkZWRbMF0gPyBbLTIwMCAvKiBQZW5hbHR5LkNhc2VGb2xkICovLCAwLCBjb2RlUG9pbnRTaXplKGZpcnN0KV0gOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXJlY3QgPSB3b3JkLmluZGV4T2YodGhpcy5wYXR0ZXJuKTtcbiAgICAgICAgaWYgKGRpcmVjdCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFswLCAwLCB0aGlzLnBhdHRlcm4ubGVuZ3RoXTtcbiAgICAgICAgbGV0IGxlbiA9IGNoYXJzLmxlbmd0aCwgYW55VG8gPSAwO1xuICAgICAgICBpZiAoZGlyZWN0IDwgMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGUgPSBNYXRoLm1pbih3b3JkLmxlbmd0aCwgMjAwKTsgaSA8IGUgJiYgYW55VG8gPCBsZW47KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBjb2RlUG9pbnRBdCh3b3JkLCBpKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dCA9PSBjaGFyc1thbnlUb10gfHwgbmV4dCA9PSBmb2xkZWRbYW55VG9dKVxuICAgICAgICAgICAgICAgICAgICBhbnlbYW55VG8rK10gPSBpO1xuICAgICAgICAgICAgICAgIGkgKz0gY29kZVBvaW50U2l6ZShuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vIG1hdGNoLCBleGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoYW55VG8gPCBsZW4pXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyB0cmFja3MgdGhlIGV4dGVudCBvZiB0aGUgcHJlY2lzZSAobm9uLWZvbGRlZCwgbm90XG4gICAgICAgIC8vIG5lY2Vzc2FyaWx5IGFkamFjZW50KSBtYXRjaFxuICAgICAgICBsZXQgcHJlY2lzZVRvID0gMDtcbiAgICAgICAgLy8gVHJhY2tzIHdoZXRoZXIgdGhlcmUgaXMgYSBtYXRjaCB0aGF0IGhpdHMgb25seSBjaGFyYWN0ZXJzIHRoYXRcbiAgICAgICAgLy8gYXBwZWFyIHRvIGJlIHN0YXJ0aW5nIHdvcmRzLiBgYnlXb3JkRm9sZGVkYCBpcyBzZXQgdG8gdHJ1ZSB3aGVuXG4gICAgICAgIC8vIGEgY2FzZSBmb2xkZWQgY2hhcmFjdGVyIGlzIGVuY291bnRlcmVkIGluIHN1Y2ggYSBtYXRjaFxuICAgICAgICBsZXQgYnlXb3JkVG8gPSAwLCBieVdvcmRGb2xkZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gSWYgd2UndmUgZm91bmQgYSBwYXJ0aWFsIGFkamFjZW50IG1hdGNoLCB0aGVzZSB0cmFjayBpdHMgc3RhdGVcbiAgICAgICAgbGV0IGFkamFjZW50VG8gPSAwLCBhZGphY2VudFN0YXJ0ID0gLTEsIGFkamFjZW50RW5kID0gLTE7XG4gICAgICAgIGxldCBoYXNMb3dlciA9IC9bYS16XS8udGVzdCh3b3JkKSwgd29yZEFkamFjZW50ID0gdHJ1ZTtcbiAgICAgICAgLy8gR28gb3ZlciB0aGUgb3B0aW9uJ3MgdGV4dCwgc2Nhbm5pbmcgZm9yIHRoZSB2YXJpb3VzIGtpbmRzIG9mIG1hdGNoZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGUgPSBNYXRoLm1pbih3b3JkLmxlbmd0aCwgMjAwKSwgcHJldlR5cGUgPSAwIC8qIFRwLk5vbldvcmQgKi87IGkgPCBlICYmIGJ5V29yZFRvIDwgbGVuOykge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBjb2RlUG9pbnRBdCh3b3JkLCBpKTtcbiAgICAgICAgICAgIGlmIChkaXJlY3QgPCAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZWNpc2VUbyA8IGxlbiAmJiBuZXh0ID09IGNoYXJzW3ByZWNpc2VUb10pXG4gICAgICAgICAgICAgICAgICAgIHByZWNpc2VbcHJlY2lzZVRvKytdID0gaTtcbiAgICAgICAgICAgICAgICBpZiAoYWRqYWNlbnRUbyA8IGxlbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA9PSBjaGFyc1thZGphY2VudFRvXSB8fCBuZXh0ID09IGZvbGRlZFthZGphY2VudFRvXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkamFjZW50VG8gPT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudFN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkamFjZW50RW5kID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudFRvKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VudFRvID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaCwgdHlwZSA9IG5leHQgPCAweGZmXG4gICAgICAgICAgICAgICAgPyAobmV4dCA+PSA0OCAmJiBuZXh0IDw9IDU3IHx8IG5leHQgPj0gOTcgJiYgbmV4dCA8PSAxMjIgPyAyIC8qIFRwLkxvd2VyICovIDogbmV4dCA+PSA2NSAmJiBuZXh0IDw9IDkwID8gMSAvKiBUcC5VcHBlciAqLyA6IDAgLyogVHAuTm9uV29yZCAqLylcbiAgICAgICAgICAgICAgICA6ICgoY2ggPSBmcm9tQ29kZVBvaW50KG5leHQpKSAhPSBjaC50b0xvd2VyQ2FzZSgpID8gMSAvKiBUcC5VcHBlciAqLyA6IGNoICE9IGNoLnRvVXBwZXJDYXNlKCkgPyAyIC8qIFRwLkxvd2VyICovIDogMCAvKiBUcC5Ob25Xb3JkICovKTtcbiAgICAgICAgICAgIGlmICghaSB8fCB0eXBlID09IDEgLyogVHAuVXBwZXIgKi8gJiYgaGFzTG93ZXIgfHwgcHJldlR5cGUgPT0gMCAvKiBUcC5Ob25Xb3JkICovICYmIHR5cGUgIT0gMCAvKiBUcC5Ob25Xb3JkICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJzW2J5V29yZFRvXSA9PSBuZXh0IHx8IChmb2xkZWRbYnlXb3JkVG9dID09IG5leHQgJiYgKGJ5V29yZEZvbGRlZCA9IHRydWUpKSlcbiAgICAgICAgICAgICAgICAgICAgYnlXb3JkW2J5V29yZFRvKytdID0gaTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChieVdvcmQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB3b3JkQWRqYWNlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIGkgKz0gY29kZVBvaW50U2l6ZShuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnlXb3JkVG8gPT0gbGVuICYmIGJ5V29yZFswXSA9PSAwICYmIHdvcmRBZGphY2VudClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdCgtMTAwIC8qIFBlbmFsdHkuQnlXb3JkICovICsgKGJ5V29yZEZvbGRlZCA/IC0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLyA6IDApLCBieVdvcmQsIHdvcmQpO1xuICAgICAgICBpZiAoYWRqYWNlbnRUbyA9PSBsZW4gJiYgYWRqYWNlbnRTdGFydCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFstMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gLSB3b3JkLmxlbmd0aCwgMCwgYWRqYWNlbnRFbmRdO1xuICAgICAgICBpZiAoZGlyZWN0ID4gLTEpXG4gICAgICAgICAgICByZXR1cm4gWy03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyAtIHdvcmQubGVuZ3RoLCBkaXJlY3QsIGRpcmVjdCArIHRoaXMucGF0dGVybi5sZW5ndGhdO1xuICAgICAgICBpZiAoYWRqYWNlbnRUbyA9PSBsZW4pXG4gICAgICAgICAgICByZXR1cm4gWy0yMDAgLyogUGVuYWx0eS5DYXNlRm9sZCAqLyArIC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyAtIHdvcmQubGVuZ3RoLCBhZGphY2VudFN0YXJ0LCBhZGphY2VudEVuZF07XG4gICAgICAgIGlmIChieVdvcmRUbyA9PSBsZW4pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHQoLTEwMCAvKiBQZW5hbHR5LkJ5V29yZCAqLyArIChieVdvcmRGb2xkZWQgPyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gOiAwKSArIC03MDAgLyogUGVuYWx0eS5Ob3RTdGFydCAqLyArXG4gICAgICAgICAgICAgICAgKHdvcmRBZGphY2VudCA/IDAgOiAtMTEwMCAvKiBQZW5hbHR5LkdhcCAqLyksIGJ5V29yZCwgd29yZCk7XG4gICAgICAgIHJldHVybiBjaGFycy5sZW5ndGggPT0gMiA/IG51bGwgOiB0aGlzLnJlc3VsdCgoYW55WzBdID8gLTcwMCAvKiBQZW5hbHR5Lk5vdFN0YXJ0ICovIDogMCkgKyAtMjAwIC8qIFBlbmFsdHkuQ2FzZUZvbGQgKi8gKyAtMTEwMCAvKiBQZW5hbHR5LkdhcCAqLywgYW55LCB3b3JkKTtcbiAgICB9XG4gICAgcmVzdWx0KHNjb3JlLCBwb3NpdGlvbnMsIHdvcmQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtzY29yZSAtIHdvcmQubGVuZ3RoXSwgaSA9IDE7XG4gICAgICAgIGZvciAobGV0IHBvcyBvZiBwb3NpdGlvbnMpIHtcbiAgICAgICAgICAgIGxldCB0byA9IHBvcyArICh0aGlzLmFzdHJhbCA/IGNvZGVQb2ludFNpemUoY29kZVBvaW50QXQod29yZCwgcG9zKSkgOiAxKTtcbiAgICAgICAgICAgIGlmIChpID4gMSAmJiByZXN1bHRbaSAtIDFdID09IHBvcylcbiAgICAgICAgICAgICAgICByZXN1bHRbaSAtIDFdID0gdG87XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaSsrXSA9IHBvcztcbiAgICAgICAgICAgICAgICByZXN1bHRbaSsrXSA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuXG5jb25zdCBjb21wbGV0aW9uQ29uZmlnID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShjb25maWdzKSB7XG4gICAgICAgIHJldHVybiBjb21iaW5lQ29uZmlnKGNvbmZpZ3MsIHtcbiAgICAgICAgICAgIGFjdGl2YXRlT25UeXBpbmc6IHRydWUsXG4gICAgICAgICAgICBzZWxlY3RPbk9wZW46IHRydWUsXG4gICAgICAgICAgICBvdmVycmlkZTogbnVsbCxcbiAgICAgICAgICAgIGNsb3NlT25CbHVyOiB0cnVlLFxuICAgICAgICAgICAgbWF4UmVuZGVyZWRPcHRpb25zOiAxMDAsXG4gICAgICAgICAgICBkZWZhdWx0S2V5bWFwOiB0cnVlLFxuICAgICAgICAgICAgb3B0aW9uQ2xhc3M6ICgpID0+IFwiXCIsXG4gICAgICAgICAgICBhYm92ZUN1cnNvcjogZmFsc2UsXG4gICAgICAgICAgICBpY29uczogdHJ1ZSxcbiAgICAgICAgICAgIGFkZFRvT3B0aW9uczogW10sXG4gICAgICAgICAgICBjb21wYXJlQ29tcGxldGlvbnM6IChhLCBiKSA9PiBhLmxhYmVsLmxvY2FsZUNvbXBhcmUoYi5sYWJlbCksXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRlbGF5OiA3NVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0S2V5bWFwOiAoYSwgYikgPT4gYSAmJiBiLFxuICAgICAgICAgICAgY2xvc2VPbkJsdXI6IChhLCBiKSA9PiBhICYmIGIsXG4gICAgICAgICAgICBpY29uczogKGEsIGIpID0+IGEgJiYgYixcbiAgICAgICAgICAgIG9wdGlvbkNsYXNzOiAoYSwgYikgPT4gYyA9PiBqb2luQ2xhc3MoYShjKSwgYihjKSksXG4gICAgICAgICAgICBhZGRUb09wdGlvbnM6IChhLCBiKSA9PiBhLmNvbmNhdChiKVxuICAgICAgICB9KTtcbiAgICB9XG59KTtcbmZ1bmN0aW9uIGpvaW5DbGFzcyhhLCBiKSB7XG4gICAgcmV0dXJuIGEgPyBiID8gYSArIFwiIFwiICsgYiA6IGEgOiBiO1xufVxuXG5mdW5jdGlvbiBvcHRpb25Db250ZW50KGNvbmZpZykge1xuICAgIGxldCBjb250ZW50ID0gY29uZmlnLmFkZFRvT3B0aW9ucy5zbGljZSgpO1xuICAgIGlmIChjb25maWcuaWNvbnMpXG4gICAgICAgIGNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICByZW5kZXIoY29tcGxldGlvbikge1xuICAgICAgICAgICAgICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoXCJjbS1jb21wbGV0aW9uSWNvblwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGlvbi50eXBlKVxuICAgICAgICAgICAgICAgICAgICBpY29uLmNsYXNzTGlzdC5hZGQoLi4uY29tcGxldGlvbi50eXBlLnNwbGl0KC9cXHMrL2cpLm1hcChjbHMgPT4gXCJjbS1jb21wbGV0aW9uSWNvbi1cIiArIGNscykpO1xuICAgICAgICAgICAgICAgIGljb24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpY29uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiAyMFxuICAgICAgICB9KTtcbiAgICBjb250ZW50LnB1c2goe1xuICAgICAgICByZW5kZXIoY29tcGxldGlvbiwgX3MsIG1hdGNoKSB7XG4gICAgICAgICAgICBsZXQgbGFiZWxFbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGxhYmVsRWx0LmNsYXNzTmFtZSA9IFwiY20tY29tcGxldGlvbkxhYmVsXCI7XG4gICAgICAgICAgICBsZXQgeyBsYWJlbCB9ID0gY29tcGxldGlvbiwgb2ZmID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgbWF0Y2gubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgIGxldCBmcm9tID0gbWF0Y2hbaisrXSwgdG8gPSBtYXRjaFtqKytdO1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID4gb2ZmKVxuICAgICAgICAgICAgICAgICAgICBsYWJlbEVsdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsYWJlbC5zbGljZShvZmYsIGZyb20pKSk7XG4gICAgICAgICAgICAgICAgbGV0IHNwYW4gPSBsYWJlbEVsdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSk7XG4gICAgICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsYWJlbC5zbGljZShmcm9tLCB0bykpKTtcbiAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tY29tcGxldGlvbk1hdGNoZWRUZXh0XCI7XG4gICAgICAgICAgICAgICAgb2ZmID0gdG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2ZmIDwgbGFiZWwubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGxhYmVsRWx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGxhYmVsLnNsaWNlKG9mZikpKTtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbEVsdDtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IDUwXG4gICAgfSwge1xuICAgICAgICByZW5kZXIoY29tcGxldGlvbikge1xuICAgICAgICAgICAgaWYgKCFjb21wbGV0aW9uLmRldGFpbClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGxldCBkZXRhaWxFbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIGRldGFpbEVsdC5jbGFzc05hbWUgPSBcImNtLWNvbXBsZXRpb25EZXRhaWxcIjtcbiAgICAgICAgICAgIGRldGFpbEVsdC50ZXh0Q29udGVudCA9IGNvbXBsZXRpb24uZGV0YWlsO1xuICAgICAgICAgICAgcmV0dXJuIGRldGFpbEVsdDtcbiAgICAgICAgfSxcbiAgICAgICAgcG9zaXRpb246IDgwXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnQuc29ydCgoYSwgYikgPT4gYS5wb3NpdGlvbiAtIGIucG9zaXRpb24pLm1hcChhID0+IGEucmVuZGVyKTtcbn1cbmZ1bmN0aW9uIHJhbmdlQXJvdW5kU2VsZWN0ZWQodG90YWwsIHNlbGVjdGVkLCBtYXgpIHtcbiAgICBpZiAodG90YWwgPD0gbWF4KVxuICAgICAgICByZXR1cm4geyBmcm9tOiAwLCB0bzogdG90YWwgfTtcbiAgICBpZiAoc2VsZWN0ZWQgPCAwKVxuICAgICAgICBzZWxlY3RlZCA9IDA7XG4gICAgaWYgKHNlbGVjdGVkIDw9ICh0b3RhbCA+PiAxKSkge1xuICAgICAgICBsZXQgb2ZmID0gTWF0aC5mbG9vcihzZWxlY3RlZCAvIG1heCk7XG4gICAgICAgIHJldHVybiB7IGZyb206IG9mZiAqIG1heCwgdG86IChvZmYgKyAxKSAqIG1heCB9O1xuICAgIH1cbiAgICBsZXQgb2ZmID0gTWF0aC5mbG9vcigodG90YWwgLSBzZWxlY3RlZCkgLyBtYXgpO1xuICAgIHJldHVybiB7IGZyb206IHRvdGFsIC0gKG9mZiArIDEpICogbWF4LCB0bzogdG90YWwgLSBvZmYgKiBtYXggfTtcbn1cbmNsYXNzIENvbXBsZXRpb25Ub29sdGlwIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3LCBzdGF0ZUZpZWxkKSB7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuc3RhdGVGaWVsZCA9IHN0YXRlRmllbGQ7XG4gICAgICAgIHRoaXMuaW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMucGxhY2VJbmZvID0ge1xuICAgICAgICAgICAgcmVhZDogKCkgPT4gdGhpcy5tZWFzdXJlSW5mbygpLFxuICAgICAgICAgICAgd3JpdGU6IChwb3MpID0+IHRoaXMucG9zaXRpb25JbmZvKHBvcyksXG4gICAgICAgICAgICBrZXk6IHRoaXNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zcGFjZSA9IG51bGw7XG4gICAgICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKHN0YXRlRmllbGQpO1xuICAgICAgICBsZXQgeyBvcHRpb25zLCBzZWxlY3RlZCB9ID0gY1N0YXRlLm9wZW47XG4gICAgICAgIGxldCBjb25maWcgPSB2aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpO1xuICAgICAgICB0aGlzLm9wdGlvbkNvbnRlbnQgPSBvcHRpb25Db250ZW50KGNvbmZpZyk7XG4gICAgICAgIHRoaXMub3B0aW9uQ2xhc3MgPSBjb25maWcub3B0aW9uQ2xhc3M7XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZUFyb3VuZFNlbGVjdGVkKG9wdGlvbnMubGVuZ3RoLCBzZWxlY3RlZCwgY29uZmlnLm1heFJlbmRlcmVkT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kb20uY2xhc3NOYW1lID0gXCJjbS10b29sdGlwLWF1dG9jb21wbGV0ZVwiO1xuICAgICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGxldCBkb20gPSBlLnRhcmdldCwgbWF0Y2g7IGRvbSAmJiBkb20gIT0gdGhpcy5kb207IGRvbSA9IGRvbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvbS5ub2RlTmFtZSA9PSBcIkxJXCIgJiYgKG1hdGNoID0gLy0oXFxkKykkLy5leGVjKGRvbS5pZCkpICYmICttYXRjaFsxXSA8IG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5Q29tcGxldGlvbih2aWV3LCBvcHRpb25zWyttYXRjaFsxXV0pO1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxpc3RCb3gob3B0aW9ucywgY1N0YXRlLmlkLCB0aGlzLnJhbmdlKSk7XG4gICAgICAgIHRoaXMubGlzdC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZm8pXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMucGxhY2VJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1vdW50KCkgeyB0aGlzLnVwZGF0ZVNlbCgpOyB9XG4gICAgdXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHVwZGF0ZS5zdGF0ZS5maWVsZCh0aGlzLnN0YXRlRmllbGQpO1xuICAgICAgICBsZXQgcHJldlN0YXRlID0gdXBkYXRlLnN0YXJ0U3RhdGUuZmllbGQodGhpcy5zdGF0ZUZpZWxkKTtcbiAgICAgICAgaWYgKGNTdGF0ZSAhPSBwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsKCk7XG4gICAgICAgICAgICBpZiAoKChfYSA9IGNTdGF0ZS5vcGVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzYWJsZWQpICE9ICgoX2IgPSBwcmV2U3RhdGUub3BlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRpc2FibGVkKSlcbiAgICAgICAgICAgICAgICB0aGlzLmRvbS5jbGFzc0xpc3QudG9nZ2xlKFwiY20tdG9vbHRpcC1hdXRvY29tcGxldGUtZGlzYWJsZWRcIiwgISEoKF9jID0gY1N0YXRlLm9wZW4pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5kaXNhYmxlZCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvc2l0aW9uZWQoc3BhY2UpIHtcbiAgICAgICAgdGhpcy5zcGFjZSA9IHNwYWNlO1xuICAgICAgICBpZiAodGhpcy5pbmZvKVxuICAgICAgICAgICAgdGhpcy52aWV3LnJlcXVlc3RNZWFzdXJlKHRoaXMucGxhY2VJbmZvKTtcbiAgICB9XG4gICAgdXBkYXRlU2VsKCkge1xuICAgICAgICBsZXQgY1N0YXRlID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKHRoaXMuc3RhdGVGaWVsZCksIG9wZW4gPSBjU3RhdGUub3BlbjtcbiAgICAgICAgaWYgKG9wZW4uc2VsZWN0ZWQgPiAtMSAmJiBvcGVuLnNlbGVjdGVkIDwgdGhpcy5yYW5nZS5mcm9tIHx8IG9wZW4uc2VsZWN0ZWQgPj0gdGhpcy5yYW5nZS50bykge1xuICAgICAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlQXJvdW5kU2VsZWN0ZWQob3Blbi5vcHRpb25zLmxlbmd0aCwgb3Blbi5zZWxlY3RlZCwgdGhpcy52aWV3LnN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLm1heFJlbmRlcmVkT3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmxpc3QucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmRvbS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUxpc3RCb3gob3Blbi5vcHRpb25zLCBjU3RhdGUuaWQsIHRoaXMucmFuZ2UpKTtcbiAgICAgICAgICAgIHRoaXMubGlzdC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbmZvKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXcucmVxdWVzdE1lYXN1cmUodGhpcy5wbGFjZUluZm8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlU2VsZWN0ZWRPcHRpb24ob3Blbi5zZWxlY3RlZCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZm8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZm8ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZvID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB7IGNvbXBsZXRpb24gfSA9IG9wZW4ub3B0aW9uc1tvcGVuLnNlbGVjdGVkXTtcbiAgICAgICAgICAgIGxldCB7IGluZm8gfSA9IGNvbXBsZXRpb247XG4gICAgICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IGluZm9SZXN1bHQgPSB0eXBlb2YgaW5mbyA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpbmZvKSA6IGluZm8oY29tcGxldGlvbik7XG4gICAgICAgICAgICBpZiAoIWluZm9SZXN1bHQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCd0aGVuJyBpbiBpbmZvUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaW5mb1Jlc3VsdC50aGVuKG5vZGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiB0aGlzLnZpZXcuc3RhdGUuZmllbGQodGhpcy5zdGF0ZUZpZWxkLCBmYWxzZSkgPT0gY1N0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRJbmZvUGFuZShub2RlKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGUsIFwiY29tcGxldGlvbiBpbmZvXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkSW5mb1BhbmUoaW5mb1Jlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkSW5mb1BhbmUoY29udGVudCkge1xuICAgICAgICBsZXQgZG9tID0gdGhpcy5pbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiY20tdG9vbHRpcCBjbS1jb21wbGV0aW9uSW5mb1wiO1xuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgIHRoaXMuZG9tLmFwcGVuZENoaWxkKGRvbSk7XG4gICAgICAgIHRoaXMudmlldy5yZXF1ZXN0TWVhc3VyZSh0aGlzLnBsYWNlSW5mbyk7XG4gICAgfVxuICAgIHVwZGF0ZVNlbGVjdGVkT3B0aW9uKHNlbGVjdGVkKSB7XG4gICAgICAgIGxldCBzZXQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBvcHQgPSB0aGlzLmxpc3QuZmlyc3RDaGlsZCwgaSA9IHRoaXMucmFuZ2UuZnJvbTsgb3B0OyBvcHQgPSBvcHQubmV4dFNpYmxpbmcsIGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdC5oYXNBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0ID0gb3B0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChvcHQuaGFzQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKSlcbiAgICAgICAgICAgICAgICAgICAgb3B0LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNldClcbiAgICAgICAgICAgIHNjcm9sbEludG9WaWV3KHRoaXMubGlzdCwgc2V0KTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgbWVhc3VyZUluZm8oKSB7XG4gICAgICAgIGxldCBzZWwgPSB0aGlzLmRvbS5xdWVyeVNlbGVjdG9yKFwiW2FyaWEtc2VsZWN0ZWRdXCIpO1xuICAgICAgICBpZiAoIXNlbCB8fCAhdGhpcy5pbmZvKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBsaXN0UmVjdCA9IHRoaXMuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgaW5mb1JlY3QgPSB0aGlzLmluZm8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCBzZWxSZWN0ID0gc2VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgc3BhY2UgPSB0aGlzLnNwYWNlO1xuICAgICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgICAgICBsZXQgd2luID0gdGhpcy5kb20ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyB8fCB3aW5kb3c7XG4gICAgICAgICAgICBzcGFjZSA9IHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogd2luLmlubmVyV2lkdGgsIGJvdHRvbTogd2luLmlubmVySGVpZ2h0IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbFJlY3QudG9wID4gTWF0aC5taW4oc3BhY2UuYm90dG9tLCBsaXN0UmVjdC5ib3R0b20pIC0gMTAgfHxcbiAgICAgICAgICAgIHNlbFJlY3QuYm90dG9tIDwgTWF0aC5tYXgoc3BhY2UudG9wLCBsaXN0UmVjdC50b3ApICsgMTApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHJ0bCA9IHRoaXMudmlldy50ZXh0RGlyZWN0aW9uID09IERpcmVjdGlvbi5SVEwsIGxlZnQgPSBydGwsIG5hcnJvdyA9IGZhbHNlLCBtYXhXaWR0aDtcbiAgICAgICAgbGV0IHRvcCA9IFwiXCIsIGJvdHRvbSA9IFwiXCI7XG4gICAgICAgIGxldCBzcGFjZUxlZnQgPSBsaXN0UmVjdC5sZWZ0IC0gc3BhY2UubGVmdCwgc3BhY2VSaWdodCA9IHNwYWNlLnJpZ2h0IC0gbGlzdFJlY3QucmlnaHQ7XG4gICAgICAgIGlmIChsZWZ0ICYmIHNwYWNlTGVmdCA8IE1hdGgubWluKGluZm9SZWN0LndpZHRoLCBzcGFjZVJpZ2h0KSlcbiAgICAgICAgICAgIGxlZnQgPSBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAoIWxlZnQgJiYgc3BhY2VSaWdodCA8IE1hdGgubWluKGluZm9SZWN0LndpZHRoLCBzcGFjZUxlZnQpKVxuICAgICAgICAgICAgbGVmdCA9IHRydWU7XG4gICAgICAgIGlmIChpbmZvUmVjdC53aWR0aCA8PSAobGVmdCA/IHNwYWNlTGVmdCA6IHNwYWNlUmlnaHQpKSB7XG4gICAgICAgICAgICB0b3AgPSAoTWF0aC5tYXgoc3BhY2UudG9wLCBNYXRoLm1pbihzZWxSZWN0LnRvcCwgc3BhY2UuYm90dG9tIC0gaW5mb1JlY3QuaGVpZ2h0KSkgLSBsaXN0UmVjdC50b3ApICsgXCJweFwiO1xuICAgICAgICAgICAgbWF4V2lkdGggPSBNYXRoLm1pbig0MDAgLyogSW5mby5XaWR0aCAqLywgbGVmdCA/IHNwYWNlTGVmdCA6IHNwYWNlUmlnaHQpICsgXCJweFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmFycm93ID0gdHJ1ZTtcbiAgICAgICAgICAgIG1heFdpZHRoID0gTWF0aC5taW4oNDAwIC8qIEluZm8uV2lkdGggKi8sIChydGwgPyBsaXN0UmVjdC5yaWdodCA6IHNwYWNlLnJpZ2h0IC0gbGlzdFJlY3QubGVmdCkgLSAzMCAvKiBJbmZvLk1hcmdpbiAqLykgKyBcInB4XCI7XG4gICAgICAgICAgICBsZXQgc3BhY2VCZWxvdyA9IHNwYWNlLmJvdHRvbSAtIGxpc3RSZWN0LmJvdHRvbTtcbiAgICAgICAgICAgIGlmIChzcGFjZUJlbG93ID49IGluZm9SZWN0LmhlaWdodCB8fCBzcGFjZUJlbG93ID4gbGlzdFJlY3QudG9wKSAvLyBCZWxvdyB0aGUgY29tcGxldGlvblxuICAgICAgICAgICAgICAgIHRvcCA9IChzZWxSZWN0LmJvdHRvbSAtIGxpc3RSZWN0LnRvcCkgKyBcInB4XCI7XG4gICAgICAgICAgICBlbHNlIC8vIEFib3ZlIGl0XG4gICAgICAgICAgICAgICAgYm90dG9tID0gKGxpc3RSZWN0LmJvdHRvbSAtIHNlbFJlY3QudG9wKSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wLCBib3R0b20sIG1heFdpZHRoLFxuICAgICAgICAgICAgY2xhc3M6IG5hcnJvdyA/IChydGwgPyBcImxlZnQtbmFycm93XCIgOiBcInJpZ2h0LW5hcnJvd1wiKSA6IGxlZnQgPyBcImxlZnRcIiA6IFwicmlnaHRcIixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcG9zaXRpb25JbmZvKHBvcykge1xuICAgICAgICBpZiAodGhpcy5pbmZvKSB7XG4gICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZvLnN0eWxlLnRvcCA9IHBvcy50b3A7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZvLnN0eWxlLmJvdHRvbSA9IHBvcy5ib3R0b207XG4gICAgICAgICAgICAgICAgdGhpcy5pbmZvLnN0eWxlLm1heFdpZHRoID0gcG9zLm1heFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5mby5jbGFzc05hbWUgPSBcImNtLXRvb2x0aXAgY20tY29tcGxldGlvbkluZm8gY20tY29tcGxldGlvbkluZm8tXCIgKyBwb3MuY2xhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZm8uc3R5bGUudG9wID0gXCItMWU2cHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVMaXN0Qm94KG9wdGlvbnMsIGlkLCByYW5nZSkge1xuICAgICAgICBjb25zdCB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgICAgICAgdWwuaWQgPSBpZDtcbiAgICAgICAgdWwuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImxpc3Rib3hcIik7XG4gICAgICAgIHVsLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICB1bC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHRoaXMudmlldy5zdGF0ZS5waHJhc2UoXCJDb21wbGV0aW9uc1wiKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSByYW5nZS5mcm9tOyBpIDwgcmFuZ2UudG87IGkrKykge1xuICAgICAgICAgICAgbGV0IHsgY29tcGxldGlvbiwgbWF0Y2ggfSA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICBjb25zdCBsaSA9IHVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSk7XG4gICAgICAgICAgICBsaS5pZCA9IGlkICsgXCItXCIgKyBpO1xuICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICAgICAgICAgIGxldCBjbHMgPSB0aGlzLm9wdGlvbkNsYXNzKGNvbXBsZXRpb24pO1xuICAgICAgICAgICAgaWYgKGNscylcbiAgICAgICAgICAgICAgICBsaS5jbGFzc05hbWUgPSBjbHM7XG4gICAgICAgICAgICBmb3IgKGxldCBzb3VyY2Ugb2YgdGhpcy5vcHRpb25Db250ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGUgPSBzb3VyY2UoY29tcGxldGlvbiwgdGhpcy52aWV3LnN0YXRlLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUpXG4gICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZS5mcm9tKVxuICAgICAgICAgICAgdWwuY2xhc3NMaXN0LmFkZChcImNtLWNvbXBsZXRpb25MaXN0SW5jb21wbGV0ZVRvcFwiKTtcbiAgICAgICAgaWYgKHJhbmdlLnRvIDwgb3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICB1bC5jbGFzc0xpc3QuYWRkKFwiY20tY29tcGxldGlvbkxpc3RJbmNvbXBsZXRlQm90dG9tXCIpO1xuICAgICAgICByZXR1cm4gdWw7XG4gICAgfVxufVxuLy8gV2UgYWxsb2NhdGUgYSBuZXcgZnVuY3Rpb24gaW5zdGFuY2UgZXZlcnkgdGltZSB0aGUgY29tcGxldGlvblxuLy8gY2hhbmdlcyB0byBmb3JjZSByZWRyYXdpbmcvcmVwb3NpdGlvbmluZyBvZiB0aGUgdG9vbHRpcFxuZnVuY3Rpb24gY29tcGxldGlvblRvb2x0aXAoc3RhdGVGaWVsZCkge1xuICAgIHJldHVybiAodmlldykgPT4gbmV3IENvbXBsZXRpb25Ub29sdGlwKHZpZXcsIHN0YXRlRmllbGQpO1xufVxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY29udGFpbmVyLCBlbGVtZW50KSB7XG4gICAgbGV0IHBhcmVudCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgc2VsZiA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKHNlbGYudG9wIDwgcGFyZW50LnRvcClcbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCAtPSBwYXJlbnQudG9wIC0gc2VsZi50b3A7XG4gICAgZWxzZSBpZiAoc2VsZi5ib3R0b20gPiBwYXJlbnQuYm90dG9tKVxuICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wICs9IHNlbGYuYm90dG9tIC0gcGFyZW50LmJvdHRvbTtcbn1cblxuLy8gVXNlZCB0byBwaWNrIGEgcHJlZmVycmVkIG9wdGlvbiB3aGVuIHR3byBvcHRpb25zIHdpdGggdGhlIHNhbWVcbi8vIGxhYmVsIG9jY3VyIGluIHRoZSByZXN1bHQuXG5mdW5jdGlvbiBzY29yZShvcHRpb24pIHtcbiAgICByZXR1cm4gKG9wdGlvbi5ib29zdCB8fCAwKSAqIDEwMCArIChvcHRpb24uYXBwbHkgPyAxMCA6IDApICsgKG9wdGlvbi5pbmZvID8gNSA6IDApICtcbiAgICAgICAgKG9wdGlvbi50eXBlID8gMSA6IDApO1xufVxuZnVuY3Rpb24gc29ydE9wdGlvbnMoYWN0aXZlLCBzdGF0ZSkge1xuICAgIGxldCBvcHRpb25zID0gW10sIGkgPSAwO1xuICAgIGZvciAobGV0IGEgb2YgYWN0aXZlKVxuICAgICAgICBpZiAoYS5oYXNSZXN1bHQoKSkge1xuICAgICAgICAgICAgaWYgKGEucmVzdWx0LmZpbHRlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBsZXQgZ2V0TWF0Y2ggPSBhLnJlc3VsdC5nZXRNYXRjaDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBvcHRpb24gb2YgYS5yZXN1bHQub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSBbMWU5IC0gaSsrXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hdGNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbiBvZiBnZXRNYXRjaChvcHRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLnB1c2gobik7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaChuZXcgT3B0aW9uKG9wdGlvbiwgYSwgbWF0Y2gpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlciA9IG5ldyBGdXp6eU1hdGNoZXIoc3RhdGUuc2xpY2VEb2MoYS5mcm9tLCBhLnRvKSksIG1hdGNoO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG9wdGlvbiBvZiBhLnJlc3VsdC5vcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPSBtYXRjaGVyLm1hdGNoKG9wdGlvbi5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uYm9vc3QgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFswXSArPSBvcHRpb24uYm9vc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2gobmV3IE9wdGlvbihvcHRpb24sIGEsIG1hdGNoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIGxldCByZXN1bHQgPSBbXSwgcHJldiA9IG51bGw7XG4gICAgbGV0IGNvbXBhcmUgPSBzdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5jb21wYXJlQ29tcGxldGlvbnM7XG4gICAgZm9yIChsZXQgb3B0IG9mIG9wdGlvbnMuc29ydCgoYSwgYikgPT4gKGIubWF0Y2hbMF0gLSBhLm1hdGNoWzBdKSB8fCBjb21wYXJlKGEuY29tcGxldGlvbiwgYi5jb21wbGV0aW9uKSkpIHtcbiAgICAgICAgaWYgKCFwcmV2IHx8IHByZXYubGFiZWwgIT0gb3B0LmNvbXBsZXRpb24ubGFiZWwgfHwgcHJldi5kZXRhaWwgIT0gb3B0LmNvbXBsZXRpb24uZGV0YWlsIHx8XG4gICAgICAgICAgICAocHJldi50eXBlICE9IG51bGwgJiYgb3B0LmNvbXBsZXRpb24udHlwZSAhPSBudWxsICYmIHByZXYudHlwZSAhPSBvcHQuY29tcGxldGlvbi50eXBlKSB8fFxuICAgICAgICAgICAgcHJldi5hcHBseSAhPSBvcHQuY29tcGxldGlvbi5hcHBseSlcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdCk7XG4gICAgICAgIGVsc2UgaWYgKHNjb3JlKG9wdC5jb21wbGV0aW9uKSA+IHNjb3JlKHByZXYpKVxuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IG9wdDtcbiAgICAgICAgcHJldiA9IG9wdC5jb21wbGV0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgQ29tcGxldGlvbkRpYWxvZyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgYXR0cnMsIHRvb2x0aXAsIHRpbWVzdGFtcCwgc2VsZWN0ZWQsIGRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgICAgICAgdGhpcy50b29sdGlwID0gdG9vbHRpcDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZChzZWxlY3RlZCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkID09IHRoaXMuc2VsZWN0ZWQgfHwgc2VsZWN0ZWQgPj0gdGhpcy5vcHRpb25zLmxlbmd0aCA/IHRoaXNcbiAgICAgICAgICAgIDogbmV3IENvbXBsZXRpb25EaWFsb2codGhpcy5vcHRpb25zLCBtYWtlQXR0cnMoaWQsIHNlbGVjdGVkKSwgdGhpcy50b29sdGlwLCB0aGlzLnRpbWVzdGFtcCwgc2VsZWN0ZWQsIHRoaXMuZGlzYWJsZWQpO1xuICAgIH1cbiAgICBzdGF0aWMgYnVpbGQoYWN0aXZlLCBzdGF0ZSwgaWQsIHByZXYsIGNvbmYpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBzb3J0T3B0aW9ucyhhY3RpdmUsIHN0YXRlKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHByZXYgJiYgYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlID09IDEgLyogU3RhdGUuUGVuZGluZyAqLykgP1xuICAgICAgICAgICAgICAgIG5ldyBDb21wbGV0aW9uRGlhbG9nKHByZXYub3B0aW9ucywgcHJldi5hdHRycywgcHJldi50b29sdGlwLCBwcmV2LnRpbWVzdGFtcCwgcHJldi5zZWxlY3RlZCwgdHJ1ZSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWxlY3RlZCA9IHN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpLnNlbGVjdE9uT3BlbiA/IDAgOiAtMTtcbiAgICAgICAgaWYgKHByZXYgJiYgcHJldi5zZWxlY3RlZCAhPSBzZWxlY3RlZCAmJiBwcmV2LnNlbGVjdGVkICE9IC0xKSB7XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHByZXYub3B0aW9uc1twcmV2LnNlbGVjdGVkXS5jb21wbGV0aW9uO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zW2ldLmNvbXBsZXRpb24gPT0gc2VsZWN0ZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXRpb25EaWFsb2cob3B0aW9ucywgbWFrZUF0dHJzKGlkLCBzZWxlY3RlZCksIHtcbiAgICAgICAgICAgIHBvczogYWN0aXZlLnJlZHVjZSgoYSwgYikgPT4gYi5oYXNSZXN1bHQoKSA/IE1hdGgubWluKGEsIGIuZnJvbSkgOiBhLCAxZTgpLFxuICAgICAgICAgICAgY3JlYXRlOiBjb21wbGV0aW9uVG9vbHRpcChjb21wbGV0aW9uU3RhdGUpLFxuICAgICAgICAgICAgYWJvdmU6IGNvbmYuYWJvdmVDdXJzb3IsXG4gICAgICAgIH0sIHByZXYgPyBwcmV2LnRpbWVzdGFtcCA6IERhdGUubm93KCksIHNlbGVjdGVkLCBmYWxzZSk7XG4gICAgfVxuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxldGlvbkRpYWxvZyh0aGlzLm9wdGlvbnMsIHRoaXMuYXR0cnMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy50b29sdGlwKSwgeyBwb3M6IGNoYW5nZXMubWFwUG9zKHRoaXMudG9vbHRpcC5wb3MpIH0pLCB0aGlzLnRpbWVzdGFtcCwgdGhpcy5zZWxlY3RlZCwgdGhpcy5kaXNhYmxlZCk7XG4gICAgfVxufVxuY2xhc3MgQ29tcGxldGlvblN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihhY3RpdmUsIGlkLCBvcGVuKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3BlbiA9IG9wZW47XG4gICAgfVxuICAgIHN0YXRpYyBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0aW9uU3RhdGUobm9uZSwgXCJjbS1hYy1cIiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDJlNikudG9TdHJpbmcoMzYpLCBudWxsKTtcbiAgICB9XG4gICAgdXBkYXRlKHRyKSB7XG4gICAgICAgIGxldCB7IHN0YXRlIH0gPSB0ciwgY29uZiA9IHN0YXRlLmZhY2V0KGNvbXBsZXRpb25Db25maWcpO1xuICAgICAgICBsZXQgc291cmNlcyA9IGNvbmYub3ZlcnJpZGUgfHxcbiAgICAgICAgICAgIHN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiYXV0b2NvbXBsZXRlXCIsIGN1cihzdGF0ZSkpLm1hcChhc1NvdXJjZSk7XG4gICAgICAgIGxldCBhY3RpdmUgPSBzb3VyY2VzLm1hcChzb3VyY2UgPT4ge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5hY3RpdmUuZmluZChzID0+IHMuc291cmNlID09IHNvdXJjZSkgfHxcbiAgICAgICAgICAgICAgICBuZXcgQWN0aXZlU291cmNlKHNvdXJjZSwgdGhpcy5hY3RpdmUuc29tZShhID0+IGEuc3RhdGUgIT0gMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLykgPyAxIC8qIFN0YXRlLlBlbmRpbmcgKi8gOiAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGFjdGl2ZS5sZW5ndGggPT0gdGhpcy5hY3RpdmUubGVuZ3RoICYmIGFjdGl2ZS5ldmVyeSgoYSwgaSkgPT4gYSA9PSB0aGlzLmFjdGl2ZVtpXSkpXG4gICAgICAgICAgICBhY3RpdmUgPSB0aGlzLmFjdGl2ZTtcbiAgICAgICAgbGV0IG9wZW4gPSB0aGlzLm9wZW47XG4gICAgICAgIGlmICh0ci5zZWxlY3Rpb24gfHwgYWN0aXZlLnNvbWUoYSA9PiBhLmhhc1Jlc3VsdCgpICYmIHRyLmNoYW5nZXMudG91Y2hlc1JhbmdlKGEuZnJvbSwgYS50bykpIHx8XG4gICAgICAgICAgICAhc2FtZVJlc3VsdHMoYWN0aXZlLCB0aGlzLmFjdGl2ZSkpXG4gICAgICAgICAgICBvcGVuID0gQ29tcGxldGlvbkRpYWxvZy5idWlsZChhY3RpdmUsIHN0YXRlLCB0aGlzLmlkLCB0aGlzLm9wZW4sIGNvbmYpO1xuICAgICAgICBlbHNlIGlmIChvcGVuICYmIG9wZW4uZGlzYWJsZWQgJiYgIWFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSA9PSAxIC8qIFN0YXRlLlBlbmRpbmcgKi8pKVxuICAgICAgICAgICAgb3BlbiA9IG51bGw7XG4gICAgICAgIGVsc2UgaWYgKG9wZW4gJiYgdHIuZG9jQ2hhbmdlZClcbiAgICAgICAgICAgIG9wZW4gPSBvcGVuLm1hcCh0ci5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKCFvcGVuICYmIGFjdGl2ZS5ldmVyeShhID0+IGEuc3RhdGUgIT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKSAmJiBhY3RpdmUuc29tZShhID0+IGEuaGFzUmVzdWx0KCkpKVxuICAgICAgICAgICAgYWN0aXZlID0gYWN0aXZlLm1hcChhID0+IGEuaGFzUmVzdWx0KCkgPyBuZXcgQWN0aXZlU291cmNlKGEuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKSA6IGEpO1xuICAgICAgICBmb3IgKGxldCBlZmZlY3Qgb2YgdHIuZWZmZWN0cylcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMoc2V0U2VsZWN0ZWRFZmZlY3QpKVxuICAgICAgICAgICAgICAgIG9wZW4gPSBvcGVuICYmIG9wZW4uc2V0U2VsZWN0ZWQoZWZmZWN0LnZhbHVlLCB0aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIGFjdGl2ZSA9PSB0aGlzLmFjdGl2ZSAmJiBvcGVuID09IHRoaXMub3BlbiA/IHRoaXMgOiBuZXcgQ29tcGxldGlvblN0YXRlKGFjdGl2ZSwgdGhpcy5pZCwgb3Blbik7XG4gICAgfVxuICAgIGdldCB0b29sdGlwKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLnRvb2x0aXAgOiBudWxsOyB9XG4gICAgZ2V0IGF0dHJzKCkgeyByZXR1cm4gdGhpcy5vcGVuID8gdGhpcy5vcGVuLmF0dHJzIDogYmFzZUF0dHJzOyB9XG59XG5mdW5jdGlvbiBzYW1lUmVzdWx0cyhhLCBiKSB7XG4gICAgaWYgKGEgPT0gYilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgZm9yIChsZXQgaUEgPSAwLCBpQiA9IDA7Oykge1xuICAgICAgICB3aGlsZSAoaUEgPCBhLmxlbmd0aCAmJiAhYVtpQV0uaGFzUmVzdWx0KVxuICAgICAgICAgICAgaUErKztcbiAgICAgICAgd2hpbGUgKGlCIDwgYi5sZW5ndGggJiYgIWJbaUJdLmhhc1Jlc3VsdClcbiAgICAgICAgICAgIGlCKys7XG4gICAgICAgIGxldCBlbmRBID0gaUEgPT0gYS5sZW5ndGgsIGVuZEIgPSBpQiA9PSBiLmxlbmd0aDtcbiAgICAgICAgaWYgKGVuZEEgfHwgZW5kQilcbiAgICAgICAgICAgIHJldHVybiBlbmRBID09IGVuZEI7XG4gICAgICAgIGlmIChhW2lBKytdLnJlc3VsdCAhPSBiW2lCKytdLnJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5jb25zdCBiYXNlQXR0cnMgPSB7XG4gICAgXCJhcmlhLWF1dG9jb21wbGV0ZVwiOiBcImxpc3RcIlxufTtcbmZ1bmN0aW9uIG1ha2VBdHRycyhpZCwgc2VsZWN0ZWQpIHtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IFwibGlzdFwiLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCIsXG4gICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBpZFxuICAgIH07XG4gICAgaWYgKHNlbGVjdGVkID4gLTEpXG4gICAgICAgIHJlc3VsdFtcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiXSA9IGlkICsgXCItXCIgKyBzZWxlY3RlZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3Qgbm9uZSA9IFtdO1xuZnVuY3Rpb24gZ2V0VXNlckV2ZW50KHRyKSB7XG4gICAgcmV0dXJuIHRyLmlzVXNlckV2ZW50KFwiaW5wdXQudHlwZVwiKSA/IFwiaW5wdXRcIiA6IHRyLmlzVXNlckV2ZW50KFwiZGVsZXRlLmJhY2t3YXJkXCIpID8gXCJkZWxldGVcIiA6IG51bGw7XG59XG5jbGFzcyBBY3RpdmVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgc3RhdGUsIGV4cGxpY2l0UG9zID0gLTEpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5leHBsaWNpdFBvcyA9IGV4cGxpY2l0UG9zO1xuICAgIH1cbiAgICBoYXNSZXN1bHQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIHVwZGF0ZSh0ciwgY29uZikge1xuICAgICAgICBsZXQgZXZlbnQgPSBnZXRVc2VyRXZlbnQodHIpLCB2YWx1ZSA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudClcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuaGFuZGxlVXNlckV2ZW50KHRyLCBldmVudCwgY29uZik7XG4gICAgICAgIGVsc2UgaWYgKHRyLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmhhbmRsZUNoYW5nZSh0cik7XG4gICAgICAgIGVsc2UgaWYgKHRyLnNlbGVjdGlvbiAmJiB2YWx1ZS5zdGF0ZSAhPSAwIC8qIFN0YXRlLkluYWN0aXZlICovKVxuICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLyk7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHN0YXJ0Q29tcGxldGlvbkVmZmVjdCkpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMSAvKiBTdGF0ZS5QZW5kaW5nICovLCBlZmZlY3QudmFsdWUgPyBjdXIodHIuc3RhdGUpIDogLTEpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKGNsb3NlQ29tcGxldGlvbkVmZmVjdCkpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgQWN0aXZlU291cmNlKHZhbHVlLnNvdXJjZSwgMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLyk7XG4gICAgICAgICAgICBlbHNlIGlmIChlZmZlY3QuaXMoc2V0QWN0aXZlRWZmZWN0KSlcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBhY3RpdmUgb2YgZWZmZWN0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlLnNvdXJjZSA9PSB2YWx1ZS5zb3VyY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGhhbmRsZVVzZXJFdmVudCh0ciwgdHlwZSwgY29uZikge1xuICAgICAgICByZXR1cm4gdHlwZSA9PSBcImRlbGV0ZVwiIHx8ICFjb25mLmFjdGl2YXRlT25UeXBpbmcgPyB0aGlzLm1hcCh0ci5jaGFuZ2VzKSA6IG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDEgLyogU3RhdGUuUGVuZGluZyAqLyk7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSh0cikge1xuICAgICAgICByZXR1cm4gdHIuY2hhbmdlcy50b3VjaGVzUmFuZ2UoY3VyKHRyLnN0YXJ0U3RhdGUpKSA/IG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pIDogdGhpcy5tYXAodHIuY2hhbmdlcyk7XG4gICAgfVxuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VzLmVtcHR5IHx8IHRoaXMuZXhwbGljaXRQb3MgPCAwID8gdGhpcyA6IG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIHRoaXMuc3RhdGUsIGNoYW5nZXMubWFwUG9zKHRoaXMuZXhwbGljaXRQb3MpKTtcbiAgICB9XG59XG5jbGFzcyBBY3RpdmVSZXN1bHQgZXh0ZW5kcyBBY3RpdmVTb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgZXhwbGljaXRQb3MsIHJlc3VsdCwgZnJvbSwgdG8pIHtcbiAgICAgICAgc3VwZXIoc291cmNlLCAyIC8qIFN0YXRlLlJlc3VsdCAqLywgZXhwbGljaXRQb3MpO1xuICAgICAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbiAgICBoYXNSZXN1bHQoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgaGFuZGxlVXNlckV2ZW50KHRyLCB0eXBlLCBjb25mKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IGZyb20gPSB0ci5jaGFuZ2VzLm1hcFBvcyh0aGlzLmZyb20pLCB0byA9IHRyLmNoYW5nZXMubWFwUG9zKHRoaXMudG8sIDEpO1xuICAgICAgICBsZXQgcG9zID0gY3VyKHRyLnN0YXRlKTtcbiAgICAgICAgaWYgKCh0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IHBvcyA8PSBmcm9tIDogcG9zIDwgdGhpcy5mcm9tKSB8fFxuICAgICAgICAgICAgcG9zID4gdG8gfHxcbiAgICAgICAgICAgIHR5cGUgPT0gXCJkZWxldGVcIiAmJiBjdXIodHIuc3RhcnRTdGF0ZSkgPT0gdGhpcy5mcm9tKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIHR5cGUgPT0gXCJpbnB1dFwiICYmIGNvbmYuYWN0aXZhdGVPblR5cGluZyA/IDEgLyogU3RhdGUuUGVuZGluZyAqLyA6IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pO1xuICAgICAgICBsZXQgZXhwbGljaXRQb3MgPSB0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IC0xIDogdHIuY2hhbmdlcy5tYXBQb3ModGhpcy5leHBsaWNpdFBvcyksIHVwZGF0ZWQ7XG4gICAgICAgIGlmIChjaGVja1ZhbGlkKHRoaXMucmVzdWx0LnZhbGlkRm9yLCB0ci5zdGF0ZSwgZnJvbSwgdG8pKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVSZXN1bHQodGhpcy5zb3VyY2UsIGV4cGxpY2l0UG9zLCB0aGlzLnJlc3VsdCwgZnJvbSwgdG8pO1xuICAgICAgICBpZiAodGhpcy5yZXN1bHQudXBkYXRlICYmXG4gICAgICAgICAgICAodXBkYXRlZCA9IHRoaXMucmVzdWx0LnVwZGF0ZSh0aGlzLnJlc3VsdCwgZnJvbSwgdG8sIG5ldyBDb21wbGV0aW9uQ29udGV4dCh0ci5zdGF0ZSwgcG9zLCBleHBsaWNpdFBvcyA+PSAwKSkpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVSZXN1bHQodGhpcy5zb3VyY2UsIGV4cGxpY2l0UG9zLCB1cGRhdGVkLCB1cGRhdGVkLmZyb20sIChfYSA9IHVwZGF0ZWQudG8pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGN1cih0ci5zdGF0ZSkpO1xuICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVNvdXJjZSh0aGlzLnNvdXJjZSwgMSAvKiBTdGF0ZS5QZW5kaW5nICovLCBleHBsaWNpdFBvcyk7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZSh0cikge1xuICAgICAgICByZXR1cm4gdHIuY2hhbmdlcy50b3VjaGVzUmFuZ2UodGhpcy5mcm9tLCB0aGlzLnRvKSA/IG5ldyBBY3RpdmVTb3VyY2UodGhpcy5zb3VyY2UsIDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pIDogdGhpcy5tYXAodHIuY2hhbmdlcyk7XG4gICAgfVxuICAgIG1hcChtYXBwaW5nKSB7XG4gICAgICAgIHJldHVybiBtYXBwaW5nLmVtcHR5ID8gdGhpcyA6XG4gICAgICAgICAgICBuZXcgQWN0aXZlUmVzdWx0KHRoaXMuc291cmNlLCB0aGlzLmV4cGxpY2l0UG9zIDwgMCA/IC0xIDogbWFwcGluZy5tYXBQb3ModGhpcy5leHBsaWNpdFBvcyksIHRoaXMucmVzdWx0LCBtYXBwaW5nLm1hcFBvcyh0aGlzLmZyb20pLCBtYXBwaW5nLm1hcFBvcyh0aGlzLnRvLCAxKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tWYWxpZCh2YWxpZEZvciwgc3RhdGUsIGZyb20sIHRvKSB7XG4gICAgaWYgKCF2YWxpZEZvcilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB0ZXh0ID0gc3RhdGUuc2xpY2VEb2MoZnJvbSwgdG8pO1xuICAgIHJldHVybiB0eXBlb2YgdmFsaWRGb3IgPT0gXCJmdW5jdGlvblwiID8gdmFsaWRGb3IodGV4dCwgZnJvbSwgdG8sIHN0YXRlKSA6IGVuc3VyZUFuY2hvcih2YWxpZEZvciwgdHJ1ZSkudGVzdCh0ZXh0KTtcbn1cbmNvbnN0IHN0YXJ0Q29tcGxldGlvbkVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGNsb3NlQ29tcGxldGlvbkVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IHNldEFjdGl2ZUVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcChzb3VyY2VzLCBtYXBwaW5nKSB7IHJldHVybiBzb3VyY2VzLm1hcChzID0+IHMubWFwKG1hcHBpbmcpKTsgfVxufSk7XG5jb25zdCBzZXRTZWxlY3RlZEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IGNvbXBsZXRpb25TdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gQ29tcGxldGlvblN0YXRlLnN0YXJ0KCk7IH0sXG4gICAgdXBkYXRlKHZhbHVlLCB0cikgeyByZXR1cm4gdmFsdWUudXBkYXRlKHRyKTsgfSxcbiAgICBwcm92aWRlOiBmID0+IFtcbiAgICAgICAgc2hvd1Rvb2x0aXAuZnJvbShmLCB2YWwgPT4gdmFsLnRvb2x0aXApLFxuICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLmZyb20oZiwgc3RhdGUgPT4gc3RhdGUuYXR0cnMpXG4gICAgXVxufSk7XG5cbi8qKlxuUmV0dXJucyBhIGNvbW1hbmQgdGhhdCBtb3ZlcyB0aGUgY29tcGxldGlvbiBzZWxlY3Rpb24gZm9yd2FyZCBvclxuYmFja3dhcmQgYnkgdGhlIGdpdmVuIGFtb3VudC5cbiovXG5mdW5jdGlvbiBtb3ZlQ29tcGxldGlvblNlbGVjdGlvbihmb3J3YXJkLCBieSA9IFwib3B0aW9uXCIpIHtcbiAgICByZXR1cm4gKHZpZXcpID0+IHtcbiAgICAgICAgbGV0IGNTdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSk7XG4gICAgICAgIGlmICghY1N0YXRlIHx8ICFjU3RhdGUub3BlbiB8fCBjU3RhdGUub3Blbi5kaXNhYmxlZCB8fFxuICAgICAgICAgICAgRGF0ZS5ub3coKSAtIGNTdGF0ZS5vcGVuLnRpbWVzdGFtcCA8IHZpZXcuc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykuaW50ZXJhY3Rpb25EZWxheSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHN0ZXAgPSAxLCB0b29sdGlwO1xuICAgICAgICBpZiAoYnkgPT0gXCJwYWdlXCIgJiYgKHRvb2x0aXAgPSBnZXRUb29sdGlwKHZpZXcsIGNTdGF0ZS5vcGVuLnRvb2x0aXApKSlcbiAgICAgICAgICAgIHN0ZXAgPSBNYXRoLm1heCgyLCBNYXRoLmZsb29yKHRvb2x0aXAuZG9tLm9mZnNldEhlaWdodCAvXG4gICAgICAgICAgICAgICAgdG9vbHRpcC5kb20ucXVlcnlTZWxlY3RvcihcImxpXCIpLm9mZnNldEhlaWdodCkgLSAxKTtcbiAgICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBjU3RhdGUub3Blbi5vcHRpb25zO1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBjU3RhdGUub3Blbi5zZWxlY3RlZCA+IC0xID8gY1N0YXRlLm9wZW4uc2VsZWN0ZWQgKyBzdGVwICogKGZvcndhcmQgPyAxIDogLTEpIDogZm9yd2FyZCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCAwKVxuICAgICAgICAgICAgc2VsZWN0ZWQgPSBieSA9PSBcInBhZ2VcIiA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgICBlbHNlIGlmIChzZWxlY3RlZCA+PSBsZW5ndGgpXG4gICAgICAgICAgICBzZWxlY3RlZCA9IGJ5ID09IFwicGFnZVwiID8gbGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRTZWxlY3RlZEVmZmVjdC5vZihzZWxlY3RlZCkgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vKipcbkFjY2VwdCB0aGUgY3VycmVudCBjb21wbGV0aW9uLlxuKi9cbmNvbnN0IGFjY2VwdENvbXBsZXRpb24gPSAodmlldykgPT4ge1xuICAgIGxldCBjU3RhdGUgPSB2aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpO1xuICAgIGlmICh2aWV3LnN0YXRlLnJlYWRPbmx5IHx8ICFjU3RhdGUgfHwgIWNTdGF0ZS5vcGVuIHx8IGNTdGF0ZS5vcGVuLnNlbGVjdGVkIDwgMCB8fFxuICAgICAgICBEYXRlLm5vdygpIC0gY1N0YXRlLm9wZW4udGltZXN0YW1wIDwgdmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5pbnRlcmFjdGlvbkRlbGF5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFjU3RhdGUub3Blbi5kaXNhYmxlZClcbiAgICAgICAgYXBwbHlDb21wbGV0aW9uKHZpZXcsIGNTdGF0ZS5vcGVuLm9wdGlvbnNbY1N0YXRlLm9wZW4uc2VsZWN0ZWRdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbkV4cGxpY2l0bHkgc3RhcnQgYXV0b2NvbXBsZXRpb24uXG4qL1xuY29uc3Qgc3RhcnRDb21wbGV0aW9uID0gKHZpZXcpID0+IHtcbiAgICBsZXQgY1N0YXRlID0gdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICBpZiAoIWNTdGF0ZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzdGFydENvbXBsZXRpb25FZmZlY3Qub2YodHJ1ZSkgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLyoqXG5DbG9zZSB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb21wbGV0aW9uLlxuKi9cbmNvbnN0IGNsb3NlQ29tcGxldGlvbiA9ICh2aWV3KSA9PiB7XG4gICAgbGV0IGNTdGF0ZSA9IHZpZXcuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFjU3RhdGUgfHwgIWNTdGF0ZS5hY3RpdmUuc29tZShhID0+IGEuc3RhdGUgIT0gMCAvKiBTdGF0ZS5JbmFjdGl2ZSAqLykpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogY2xvc2VDb21wbGV0aW9uRWZmZWN0Lm9mKG51bGwpIH0pO1xuICAgIHJldHVybiB0cnVlO1xufTtcbmNsYXNzIFJ1bm5pbmdRdWVyeSB7XG4gICAgY29uc3RydWN0b3IoYWN0aXZlLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLnVwZGF0ZXMgPSBbXTtcbiAgICAgICAgLy8gTm90ZSB0aGF0ICd1bmRlZmluZWQnIG1lYW5zICdub3QgZG9uZSB5ZXQnLCB3aGVyZWFzICdudWxsJyBtZWFuc1xuICAgICAgICAvLyAncXVlcnkgcmV0dXJuZWQgbnVsbCcuXG4gICAgICAgIHRoaXMuZG9uZSA9IHVuZGVmaW5lZDtcbiAgICB9XG59XG5jb25zdCBEZWJvdW5jZVRpbWUgPSA1MCwgTWF4VXBkYXRlQ291bnQgPSA1MCwgTWluQWJvcnRUaW1lID0gMTAwMDtcbmNvbnN0IGNvbXBsZXRpb25QbHVnaW4gPSAvKkBfX1BVUkVfXyovVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcpIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5kZWJvdW5jZVVwZGF0ZSA9IC0xO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBbXTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IC0xO1xuICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDAgLyogQ29tcG9zaXRpb25TdGF0ZS5Ob25lICovO1xuICAgICAgICBmb3IgKGxldCBhY3RpdmUgb2Ygdmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUpLmFjdGl2ZSlcbiAgICAgICAgICAgIGlmIChhY3RpdmUuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRRdWVyeShhY3RpdmUpO1xuICAgIH1cbiAgICB1cGRhdGUodXBkYXRlKSB7XG4gICAgICAgIGxldCBjU3RhdGUgPSB1cGRhdGUuc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKTtcbiAgICAgICAgaWYgKCF1cGRhdGUuc2VsZWN0aW9uU2V0ICYmICF1cGRhdGUuZG9jQ2hhbmdlZCAmJiB1cGRhdGUuc3RhcnRTdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUpID09IGNTdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGRvZXNSZXNldCA9IHVwZGF0ZS50cmFuc2FjdGlvbnMuc29tZSh0ciA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHRyLnNlbGVjdGlvbiB8fCB0ci5kb2NDaGFuZ2VkKSAmJiAhZ2V0VXNlckV2ZW50KHRyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ydW5uaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcXVlcnkgPSB0aGlzLnJ1bm5pbmdbaV07XG4gICAgICAgICAgICBpZiAoZG9lc1Jlc2V0IHx8XG4gICAgICAgICAgICAgICAgcXVlcnkudXBkYXRlcy5sZW5ndGggKyB1cGRhdGUudHJhbnNhY3Rpb25zLmxlbmd0aCA+IE1heFVwZGF0ZUNvdW50ICYmIERhdGUubm93KCkgLSBxdWVyeS50aW1lID4gTWluQWJvcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaGFuZGxlciBvZiBxdWVyeS5jb250ZXh0LmFib3J0TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXJ5LmNvbnRleHQuYWJvcnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnVwZGF0ZXMucHVzaCguLi51cGRhdGUudHJhbnNhY3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJvdW5jZVVwZGF0ZSA+IC0xKVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVib3VuY2VVcGRhdGUpO1xuICAgICAgICB0aGlzLmRlYm91bmNlVXBkYXRlID0gY1N0YXRlLmFjdGl2ZS5zb21lKGEgPT4gYS5zdGF0ZSA9PSAxIC8qIFN0YXRlLlBlbmRpbmcgKi8gJiYgIXRoaXMucnVubmluZy5zb21lKHEgPT4gcS5hY3RpdmUuc291cmNlID09IGEuc291cmNlKSlcbiAgICAgICAgICAgID8gc2V0VGltZW91dCgoKSA9PiB0aGlzLnN0YXJ0VXBkYXRlKCksIERlYm91bmNlVGltZSkgOiAtMTtcbiAgICAgICAgaWYgKHRoaXMuY29tcG9zaW5nICE9IDAgLyogQ29tcG9zaXRpb25TdGF0ZS5Ob25lICovKVxuICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgdXBkYXRlLnRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmIChnZXRVc2VyRXZlbnQodHIpID09IFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAyIC8qIENvbXBvc2l0aW9uU3RhdGUuQ2hhbmdlZCAqLztcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNvbXBvc2luZyA9PSAyIC8qIENvbXBvc2l0aW9uU3RhdGUuQ2hhbmdlZCAqLyAmJiB0ci5zZWxlY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9zaW5nID0gMyAvKiBDb21wb3NpdGlvblN0YXRlLkNoYW5nZWRBbmRNb3ZlZCAqLztcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMuZGVib3VuY2VVcGRhdGUgPSAtMTtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHRoaXMudmlldywgY1N0YXRlID0gc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlKTtcbiAgICAgICAgZm9yIChsZXQgYWN0aXZlIG9mIGNTdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmUuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovICYmICF0aGlzLnJ1bm5pbmcuc29tZShyID0+IHIuYWN0aXZlLnNvdXJjZSA9PSBhY3RpdmUuc291cmNlKSlcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UXVlcnkoYWN0aXZlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFF1ZXJ5KGFjdGl2ZSkge1xuICAgICAgICBsZXQgeyBzdGF0ZSB9ID0gdGhpcy52aWV3LCBwb3MgPSBjdXIoc3RhdGUpO1xuICAgICAgICBsZXQgY29udGV4dCA9IG5ldyBDb21wbGV0aW9uQ29udGV4dChzdGF0ZSwgcG9zLCBhY3RpdmUuZXhwbGljaXRQb3MgPT0gcG9zKTtcbiAgICAgICAgbGV0IHBlbmRpbmcgPSBuZXcgUnVubmluZ1F1ZXJ5KGFjdGl2ZSwgY29udGV4dCk7XG4gICAgICAgIHRoaXMucnVubmluZy5wdXNoKHBlbmRpbmcpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoYWN0aXZlLnNvdXJjZShjb250ZXh0KSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKCFwZW5kaW5nLmNvbnRleHQuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHBlbmRpbmcuZG9uZSA9IHJlc3VsdCB8fCBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVBY2NlcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlldy5kaXNwYXRjaCh7IGVmZmVjdHM6IGNsb3NlQ29tcGxldGlvbkVmZmVjdC5vZihudWxsKSB9KTtcbiAgICAgICAgICAgIGxvZ0V4Y2VwdGlvbih0aGlzLnZpZXcuc3RhdGUsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzY2hlZHVsZUFjY2VwdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZy5ldmVyeShxID0+IHEuZG9uZSAhPT0gdW5kZWZpbmVkKSlcbiAgICAgICAgICAgIHRoaXMuYWNjZXB0KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGVib3VuY2VBY2NlcHQgPCAwKVxuICAgICAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5hY2NlcHQoKSwgRGVib3VuY2VUaW1lKTtcbiAgICB9XG4gICAgLy8gRm9yIGVhY2ggZmluaXNoZWQgcXVlcnkgaW4gdGhpcy5ydW5uaW5nLCB0cnkgdG8gY3JlYXRlIGEgcmVzdWx0XG4gICAgLy8gb3IsIGlmIGFwcHJvcHJpYXRlLCByZXN0YXJ0IHRoZSBxdWVyeS5cbiAgICBhY2NlcHQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZGVib3VuY2VBY2NlcHQgPiAtMSlcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlQWNjZXB0KTtcbiAgICAgICAgdGhpcy5kZWJvdW5jZUFjY2VwdCA9IC0xO1xuICAgICAgICBsZXQgdXBkYXRlZCA9IFtdO1xuICAgICAgICBsZXQgY29uZiA9IHRoaXMudmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBxdWVyeSA9IHRoaXMucnVubmluZ1tpXTtcbiAgICAgICAgICAgIGlmIChxdWVyeS5kb25lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICBpZiAocXVlcnkuZG9uZSkge1xuICAgICAgICAgICAgICAgIGxldCBhY3RpdmUgPSBuZXcgQWN0aXZlUmVzdWx0KHF1ZXJ5LmFjdGl2ZS5zb3VyY2UsIHF1ZXJ5LmFjdGl2ZS5leHBsaWNpdFBvcywgcXVlcnkuZG9uZSwgcXVlcnkuZG9uZS5mcm9tLCAoX2EgPSBxdWVyeS5kb25lLnRvKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjdXIocXVlcnkudXBkYXRlcy5sZW5ndGggPyBxdWVyeS51cGRhdGVzWzBdLnN0YXJ0U3RhdGUgOiB0aGlzLnZpZXcuc3RhdGUpKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYXkgdGhlIHRyYW5zYWN0aW9ucyB0aGF0IGhhcHBlbmVkIHNpbmNlIHRoZSBzdGFydCBvZlxuICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGFuZCBzZWUgaWYgdGhhdCBwcmVzZXJ2ZXMgdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgIGZvciAobGV0IHRyIG9mIHF1ZXJ5LnVwZGF0ZXMpXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGFjdGl2ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmUuaGFzUmVzdWx0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZC5wdXNoKGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy52aWV3LnN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSkuYWN0aXZlLmZpbmQoYSA9PiBhLnNvdXJjZSA9PSBxdWVyeS5hY3RpdmUuc291cmNlKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQuc3RhdGUgPT0gMSAvKiBTdGF0ZS5QZW5kaW5nICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LmRvbmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHBsaWNpdGx5IGZhaWxlZC4gU2hvdWxkIGNsZWFyIHRoZSBwZW5kaW5nIHN0YXR1cyBpZiBpdFxuICAgICAgICAgICAgICAgICAgICAvLyBoYXNuJ3QgYmVlbiByZS1zZXQgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aXZlID0gbmV3IEFjdGl2ZVNvdXJjZShxdWVyeS5hY3RpdmUuc291cmNlLCAwIC8qIFN0YXRlLkluYWN0aXZlICovKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdHIgb2YgcXVlcnkudXBkYXRlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZSA9IGFjdGl2ZS51cGRhdGUodHIsIGNvbmYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlLnN0YXRlICE9IDEgLyogU3RhdGUuUGVuZGluZyAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQucHVzaChhY3RpdmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXJlZCBieSBzdWJzZXF1ZW50IHRyYW5zYWN0aW9ucy4gUmVzdGFydC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFF1ZXJ5KGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZC5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBzZXRBY3RpdmVFZmZlY3Qub2YodXBkYXRlZCkgfSk7XG4gICAgfVxufSwge1xuICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgYmx1cigpIHtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IHRoaXMudmlldy5zdGF0ZS5maWVsZChjb21wbGV0aW9uU3RhdGUsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZSAmJiBzdGF0ZS50b29sdGlwICYmIHRoaXMudmlldy5zdGF0ZS5mYWNldChjb21wbGV0aW9uQ29uZmlnKS5jbG9zZU9uQmx1cilcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuZGlzcGF0Y2goeyBlZmZlY3RzOiBjbG9zZUNvbXBsZXRpb25FZmZlY3Qub2YobnVsbCkgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBvc2l0aW9uc3RhcnQoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvc2luZyA9IDEgLyogQ29tcG9zaXRpb25TdGF0ZS5TdGFydGVkICovO1xuICAgICAgICB9LFxuICAgICAgICBjb21wb3NpdGlvbmVuZCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvc2luZyA9PSAzIC8qIENvbXBvc2l0aW9uU3RhdGUuQ2hhbmdlZEFuZE1vdmVkICovKSB7XG4gICAgICAgICAgICAgICAgLy8gU2FmYXJpIGZpcmVzIGNvbXBvc2l0aW9uZW5kIGV2ZW50cyBzeW5jaHJvbm91c2x5LCBwb3NzaWJseVxuICAgICAgICAgICAgICAgIC8vIGZyb20gaW5zaWRlIGFuIHVwZGF0ZSwgc28gZGlzcGF0Y2ggYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgcmVlbnRyYW5jeVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy52aWV3LmRpc3BhdGNoKHsgZWZmZWN0czogc3RhcnRDb21wbGV0aW9uRWZmZWN0Lm9mKGZhbHNlKSB9KSwgMjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb21wb3NpbmcgPSAwIC8qIENvbXBvc2l0aW9uU3RhdGUuTm9uZSAqLztcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb25zdCBiYXNlVGhlbWUgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5iYXNlVGhlbWUoe1xuICAgIFwiLmNtLXRvb2x0aXAuY20tdG9vbHRpcC1hdXRvY29tcGxldGVcIjoge1xuICAgICAgICBcIiYgPiB1bFwiOiB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLFxuICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlbiBhdXRvXCIsXG4gICAgICAgICAgICBtYXhXaWR0aF9mYWxsYmFjazogXCI3MDBweFwiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFwibWluKDcwMHB4LCA5NXZ3KVwiLFxuICAgICAgICAgICAgbWluV2lkdGg6IFwiMjUwcHhcIixcbiAgICAgICAgICAgIG1heEhlaWdodDogXCIxMGVtXCIsXG4gICAgICAgICAgICBsaXN0U3R5bGU6IFwibm9uZVwiLFxuICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgICAgIFwiJiA+IGxpXCI6IHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgdGV4dE92ZXJmbG93OiBcImVsbGlwc2lzXCIsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjFweCAzcHhcIixcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAxLjJcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9LFxuICAgIFwiJmxpZ2h0IC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZSB1bCBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzE3Y1wiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgIH0sXG4gICAgXCImbGlnaHQgLmNtLXRvb2x0aXAtYXV0b2NvbXBsZXRlLWRpc2FibGVkIHVsIGxpW2FyaWEtc2VsZWN0ZWRdXCI6IHtcbiAgICAgICAgYmFja2dyb3VuZDogXCIjNzc3XCIsXG4gICAgfSxcbiAgICBcIiZkYXJrIC5jbS10b29sdGlwLWF1dG9jb21wbGV0ZSB1bCBsaVthcmlhLXNlbGVjdGVkXVwiOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzM0N1wiLFxuICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgIH0sXG4gICAgXCImZGFyayAuY20tdG9vbHRpcC1hdXRvY29tcGxldGUtZGlzYWJsZWQgdWwgbGlbYXJpYS1zZWxlY3RlZF1cIjoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0NDRcIixcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25MaXN0SW5jb21wbGV0ZVRvcDpiZWZvcmUsIC5jbS1jb21wbGV0aW9uTGlzdEluY29tcGxldGVCb3R0b206YWZ0ZXJcIjoge1xuICAgICAgICBjb250ZW50OiAnXCJcdTAwQjdcdTAwQjdcdTAwQjdcIicsXG4gICAgICAgIG9wYWNpdHk6IDAuNSxcbiAgICAgICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbiAgICB9LFxuICAgIFwiLmNtLXRvb2x0aXAuY20tY29tcGxldGlvbkluZm9cIjoge1xuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBwYWRkaW5nOiBcIjNweCA5cHhcIixcbiAgICAgICAgd2lkdGg6IFwibWF4LWNvbnRlbnRcIixcbiAgICAgICAgbWF4V2lkdGg6IGAkezQwMCAvKiBJbmZvLldpZHRoICovfXB4YCxcbiAgICAgICAgYm94U2l6aW5nOiBcImJvcmRlci1ib3hcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkluZm8uY20tY29tcGxldGlvbkluZm8tbGVmdFwiOiB7IHJpZ2h0OiBcIjEwMCVcIiB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JbmZvLmNtLWNvbXBsZXRpb25JbmZvLXJpZ2h0XCI6IHsgbGVmdDogXCIxMDAlXCIgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSW5mby5jbS1jb21wbGV0aW9uSW5mby1sZWZ0LW5hcnJvd1wiOiB7IHJpZ2h0OiBgJHszMCAvKiBJbmZvLk1hcmdpbiAqL31weGAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSW5mby5jbS1jb21wbGV0aW9uSW5mby1yaWdodC1uYXJyb3dcIjogeyBsZWZ0OiBgJHszMCAvKiBJbmZvLk1hcmdpbiAqL31weGAgfSxcbiAgICBcIiZsaWdodCAuY20tc25pcHBldEZpZWxkXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiMwMDAwMDAyMlwiIH0sXG4gICAgXCImZGFyayAuY20tc25pcHBldEZpZWxkXCI6IHsgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZmZmYyMlwiIH0sXG4gICAgXCIuY20tc25pcHBldEZpZWxkUG9zaXRpb25cIjoge1xuICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcInRleHQtdG9wXCIsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IFwiMS4xNWVtXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIG1hcmdpbjogXCIwIC0wLjdweCAtLjdlbVwiLFxuICAgICAgICBib3JkZXJMZWZ0OiBcIjEuNHB4IGRvdHRlZCAjODg4XCJcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25NYXRjaGVkVGV4dFwiOiB7XG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uRGV0YWlsXCI6IHtcbiAgICAgICAgbWFyZ2luTGVmdDogXCIwLjVlbVwiLFxuICAgICAgICBmb250U3R5bGU6IFwiaXRhbGljXCJcbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uXCI6IHtcbiAgICAgICAgZm9udFNpemU6IFwiOTAlXCIsXG4gICAgICAgIHdpZHRoOiBcIi44ZW1cIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiLjZlbVwiLFxuICAgICAgICBvcGFjaXR5OiBcIjAuNlwiLFxuICAgICAgICBib3hTaXppbmc6IFwiY29udGVudC1ib3hcIlxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tZnVuY3Rpb24sIC5jbS1jb21wbGV0aW9uSWNvbi1tZXRob2RcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTAxOTInXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tY2xhc3NcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTI1Q0InXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24taW50ZXJmYWNlXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHUyNUNDJ1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLXZhcmlhYmxlXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODM1XHVEQzY1J1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLWNvbnN0YW50XCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODM1XHVEQzM2J1wiIH1cbiAgICB9LFxuICAgIFwiLmNtLWNvbXBsZXRpb25JY29uLXR5cGVcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdUQ4MzVcdURDNjEnXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tZW51bVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ1x1MjIyQSdcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1wcm9wZXJ0eVwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ1x1MjVBMSdcIiB9XG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1rZXl3b3JkXCI6IHtcbiAgICAgICAgXCImOmFmdGVyXCI6IHsgY29udGVudDogXCInXHVEODNEXHVERDExXFx1RkUwRSdcIiB9IC8vIERpc2FibGUgZW1vamkgcmVuZGVyaW5nXG4gICAgfSxcbiAgICBcIi5jbS1jb21wbGV0aW9uSWNvbi1uYW1lc3BhY2VcIjoge1xuICAgICAgICBcIiY6YWZ0ZXJcIjogeyBjb250ZW50OiBcIidcdTI1QTInXCIgfVxuICAgIH0sXG4gICAgXCIuY20tY29tcGxldGlvbkljb24tdGV4dFwiOiB7XG4gICAgICAgIFwiJjphZnRlclwiOiB7IGNvbnRlbnQ6IFwiJ2FiYydcIiwgZm9udFNpemU6IFwiNTAlXCIsIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIgfVxuICAgIH1cbn0pO1xuXG5jbGFzcyBGaWVsZFBvcyB7XG4gICAgY29uc3RydWN0b3IoZmllbGQsIGxpbmUsIGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgIH1cbn1cbmNsYXNzIEZpZWxkUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGZpZWxkLCBmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG4gICAgbWFwKGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGZyb20gPSBjaGFuZ2VzLm1hcFBvcyh0aGlzLmZyb20sIC0xLCBNYXBNb2RlLlRyYWNrRGVsKTtcbiAgICAgICAgbGV0IHRvID0gY2hhbmdlcy5tYXBQb3ModGhpcy50bywgMSwgTWFwTW9kZS5UcmFja0RlbCk7XG4gICAgICAgIHJldHVybiBmcm9tID09IG51bGwgfHwgdG8gPT0gbnVsbCA/IG51bGwgOiBuZXcgRmllbGRSYW5nZSh0aGlzLmZpZWxkLCBmcm9tLCB0byk7XG4gICAgfVxufVxuY2xhc3MgU25pcHBldCB7XG4gICAgY29uc3RydWN0b3IobGluZXMsIGZpZWxkUG9zaXRpb25zKSB7XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5maWVsZFBvc2l0aW9ucyA9IGZpZWxkUG9zaXRpb25zO1xuICAgIH1cbiAgICBpbnN0YW50aWF0ZShzdGF0ZSwgcG9zKSB7XG4gICAgICAgIGxldCB0ZXh0ID0gW10sIGxpbmVTdGFydCA9IFtwb3NdO1xuICAgICAgICBsZXQgbGluZU9iaiA9IHN0YXRlLmRvYy5saW5lQXQocG9zKSwgYmFzZUluZGVudCA9IC9eXFxzKi8uZXhlYyhsaW5lT2JqLnRleHQpWzBdO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMubGluZXMpIHtcbiAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRlbnQgPSBiYXNlSW5kZW50LCB0YWJzID0gL15cXHQqLy5leGVjKGxpbmUpWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYnM7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50ICs9IHN0YXRlLmZhY2V0KGluZGVudFVuaXQpO1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydC5wdXNoKHBvcyArIGluZGVudC5sZW5ndGggLSB0YWJzKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gaW5kZW50ICsgbGluZS5zbGljZSh0YWJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQucHVzaChsaW5lKTtcbiAgICAgICAgICAgIHBvcyArPSBsaW5lLmxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJhbmdlcyA9IHRoaXMuZmllbGRQb3NpdGlvbnMubWFwKHBvcyA9PiBuZXcgRmllbGRSYW5nZShwb3MuZmllbGQsIGxpbmVTdGFydFtwb3MubGluZV0gKyBwb3MuZnJvbSwgbGluZVN0YXJ0W3Bvcy5saW5lXSArIHBvcy50bykpO1xuICAgICAgICByZXR1cm4geyB0ZXh0LCByYW5nZXMgfTtcbiAgICB9XG4gICAgc3RhdGljIHBhcnNlKHRlbXBsYXRlKSB7XG4gICAgICAgIGxldCBmaWVsZHMgPSBbXTtcbiAgICAgICAgbGV0IGxpbmVzID0gW10sIHBvc2l0aW9ucyA9IFtdLCBtO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRlbXBsYXRlLnNwbGl0KC9cXHJcXG4/fFxcbi8pKSB7XG4gICAgICAgICAgICB3aGlsZSAobSA9IC9bIyRdXFx7KD86KFxcZCspKD86OihbXn1dKikpP3woW159XSopKVxcfS8uZXhlYyhsaW5lKSkge1xuICAgICAgICAgICAgICAgIGxldCBzZXEgPSBtWzFdID8gK21bMV0gOiBudWxsLCBuYW1lID0gbVsyXSB8fCBtWzNdIHx8IFwiXCIsIGZvdW5kID0gLTE7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcSAhPSBudWxsID8gZmllbGRzW2ldLnNlcSA9PSBzZXEgOiBuYW1lID8gZmllbGRzW2ldLm5hbWUgPT0gbmFtZSA6IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBmaWVsZHMubGVuZ3RoICYmIChzZXEgPT0gbnVsbCB8fCAoZmllbGRzW2ldLnNlcSAhPSBudWxsICYmIGZpZWxkc1tpXS5zZXEgPCBzZXEpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzLnNwbGljZShpLCAwLCB7IHNlcSwgbmFtZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBwb3Mgb2YgcG9zaXRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcy5maWVsZCA+PSBmb3VuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MuZmllbGQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gobmV3IEZpZWxkUG9zKGZvdW5kLCBsaW5lcy5sZW5ndGgsIG0uaW5kZXgsIG0uaW5kZXggKyBuYW1lLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIG0uaW5kZXgpICsgbmFtZSArIGxpbmUuc2xpY2UobS5pbmRleCArIG1bMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGVzYzsgZXNjID0gL1xcXFwoW3t9XSkvLmV4ZWMobGluZSk7KSB7XG4gICAgICAgICAgICAgICAgbGluZSA9IGxpbmUuc2xpY2UoMCwgZXNjLmluZGV4KSArIGVzY1sxXSArIGxpbmUuc2xpY2UoZXNjLmluZGV4ICsgZXNjWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcG9zIG9mIHBvc2l0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvcy5saW5lID09IGxpbmVzLmxlbmd0aCAmJiBwb3MuZnJvbSA+IGVzYy5pbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmZyb20tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcy50by0tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU25pcHBldChsaW5lcywgcG9zaXRpb25zKTtcbiAgICB9XG59XG5sZXQgZmllbGRNYXJrZXIgPSAvKkBfX1BVUkVfXyovRGVjb3JhdGlvbi53aWRnZXQoeyB3aWRnZXQ6IC8qQF9fUFVSRV9fKi9uZXcgY2xhc3MgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICAgICAgdG9ET00oKSB7XG4gICAgICAgICAgICBsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSBcImNtLXNuaXBwZXRGaWVsZFBvc2l0aW9uXCI7XG4gICAgICAgICAgICByZXR1cm4gc3BhbjtcbiAgICAgICAgfVxuICAgICAgICBpZ25vcmVFdmVudCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgfSB9KTtcbmxldCBmaWVsZFJhbmdlID0gLypAX19QVVJFX18qL0RlY29yYXRpb24ubWFyayh7IGNsYXNzOiBcImNtLXNuaXBwZXRGaWVsZFwiIH0pO1xuY2xhc3MgQWN0aXZlU25pcHBldCB7XG4gICAgY29uc3RydWN0b3IocmFuZ2VzLCBhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLmRlY28gPSBEZWNvcmF0aW9uLnNldChyYW5nZXMubWFwKHIgPT4gKHIuZnJvbSA9PSByLnRvID8gZmllbGRNYXJrZXIgOiBmaWVsZFJhbmdlKS5yYW5nZShyLmZyb20sIHIudG8pKSk7XG4gICAgfVxuICAgIG1hcChjaGFuZ2VzKSB7XG4gICAgICAgIGxldCByYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBvZiB0aGlzLnJhbmdlcykge1xuICAgICAgICAgICAgbGV0IG1hcHBlZCA9IHIubWFwKGNoYW5nZXMpO1xuICAgICAgICAgICAgaWYgKCFtYXBwZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByYW5nZXMucHVzaChtYXBwZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQWN0aXZlU25pcHBldChyYW5nZXMsIHRoaXMuYWN0aXZlKTtcbiAgICB9XG4gICAgc2VsZWN0aW9uSW5zaWRlRmllbGQoc2VsKSB7XG4gICAgICAgIHJldHVybiBzZWwucmFuZ2VzLmV2ZXJ5KHJhbmdlID0+IHRoaXMucmFuZ2VzLnNvbWUociA9PiByLmZpZWxkID09IHRoaXMuYWN0aXZlICYmIHIuZnJvbSA8PSByYW5nZS5mcm9tICYmIHIudG8gPj0gcmFuZ2UudG8pKTtcbiAgICB9XG59XG5jb25zdCBzZXRBY3RpdmUgPSAvKkBfX1BVUkVfXyovU3RhdGVFZmZlY3QuZGVmaW5lKHtcbiAgICBtYXAodmFsdWUsIGNoYW5nZXMpIHsgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm1hcChjaGFuZ2VzKTsgfVxufSk7XG5jb25zdCBtb3ZlVG9GaWVsZCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoKTtcbmNvbnN0IHNuaXBwZXRTdGF0ZSA9IC8qQF9fUFVSRV9fKi9TdGF0ZUZpZWxkLmRlZmluZSh7XG4gICAgY3JlYXRlKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICB1cGRhdGUodmFsdWUsIHRyKSB7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKHNldEFjdGl2ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVmZmVjdC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlZmZlY3QuaXMobW92ZVRvRmllbGQpICYmIHZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlU25pcHBldCh2YWx1ZS5yYW5nZXMsIGVmZmVjdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICYmIHRyLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcCh0ci5jaGFuZ2VzKTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHRyLnNlbGVjdGlvbiAmJiAhdmFsdWUuc2VsZWN0aW9uSW5zaWRlRmllbGQodHIuc2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZiA9PiBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZiwgdmFsID0+IHZhbCA/IHZhbC5kZWNvIDogRGVjb3JhdGlvbi5ub25lKVxufSk7XG5mdW5jdGlvbiBmaWVsZFNlbGVjdGlvbihyYW5nZXMsIGZpZWxkKSB7XG4gICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jcmVhdGUocmFuZ2VzLmZpbHRlcihyID0+IHIuZmllbGQgPT0gZmllbGQpLm1hcChyID0+IEVkaXRvclNlbGVjdGlvbi5yYW5nZShyLmZyb20sIHIudG8pKSk7XG59XG4vKipcbkNvbnZlcnQgYSBzbmlwcGV0IHRlbXBsYXRlIHRvIGEgZnVuY3Rpb24gdGhhdCBjYW5cblthcHBseV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvbi5hcHBseSkgaXQuIFNuaXBwZXRzIGFyZSB3cml0dGVuXG51c2luZyBzeW50YXggbGlrZSB0aGlzOlxuXG4gICAgXCJmb3IgKGxldCAke2luZGV4fSA9IDA7ICR7aW5kZXh9IDwgJHtlbmR9OyAke2luZGV4fSsrKSB7XFxuXFx0JHt9XFxufVwiXG5cbkVhY2ggYCR7fWAgcGxhY2Vob2xkZXIgKHlvdSBtYXkgYWxzbyB1c2UgYCN7fWApIGluZGljYXRlcyBhIGZpZWxkXG50aGF0IHRoZSB1c2VyIGNhbiBmaWxsIGluLiBJdHMgbmFtZSwgaWYgYW55LCB3aWxsIGJlIHRoZSBkZWZhdWx0XG5jb250ZW50IGZvciB0aGUgZmllbGQuXG5cbldoZW4gdGhlIHNuaXBwZXQgaXMgYWN0aXZhdGVkIGJ5IGNhbGxpbmcgdGhlIHJldHVybmVkIGZ1bmN0aW9uLFxudGhlIGNvZGUgaXMgaW5zZXJ0ZWQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLiBOZXdsaW5lcyBpbiB0aGVcbnRlbXBsYXRlIGFyZSBpbmRlbnRlZCBieSB0aGUgaW5kZW50YXRpb24gb2YgdGhlIHN0YXJ0IGxpbmUsIHBsdXNcbm9uZSBbaW5kZW50IHVuaXRdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZ3VhZ2UuaW5kZW50VW5pdCkgcGVyIHRhYiBjaGFyYWN0ZXIgYWZ0ZXJcbnRoZSBuZXdsaW5lLlxuXG5PbiBhY3RpdmF0aW9uLCAoYWxsIGluc3RhbmNlcyBvZikgdGhlIGZpcnN0IGZpZWxkIGFyZSBzZWxlY3RlZC5cblRoZSB1c2VyIGNhbiBtb3ZlIGJldHdlZW4gZmllbGRzIHdpdGggVGFiIGFuZCBTaGlmdC1UYWIgYXMgbG9uZyBhc1xudGhlIGZpZWxkcyBhcmUgYWN0aXZlLiBNb3ZpbmcgdG8gdGhlIGxhc3QgZmllbGQgb3IgbW92aW5nIHRoZVxuY3Vyc29yIG91dCBvZiB0aGUgY3VycmVudCBmaWVsZCBkZWFjdGl2YXRlcyB0aGUgZmllbGRzLlxuXG5UaGUgb3JkZXIgb2YgZmllbGRzIGRlZmF1bHRzIHRvIHRleHR1YWwgb3JkZXIsIGJ1dCB5b3UgY2FuIGFkZFxubnVtYmVycyB0byBwbGFjZWhvbGRlcnMgKGAkezF9YCBvciBgJHsxOmRlZmF1bHRUZXh0fWApIHRvIHByb3ZpZGVcbmEgY3VzdG9tIG9yZGVyLlxuXG5UbyBpbmNsdWRlIGEgbGl0ZXJhbCBge2Agb3IgYH1gIGluIHlvdXIgdGVtcGxhdGUsIHB1dCBhIGJhY2tzbGFzaFxuaW4gZnJvbnQgb2YgaXQuIFRoaXMgd2lsbCBiZSByZW1vdmVkIGFuZCB0aGUgYnJhY2Ugd2lsbCBub3QgYmVcbmludGVycHJldGVkIGFzIGluZGljYXRpbmcgYSBwbGFjZWhvbGRlci5cbiovXG5mdW5jdGlvbiBzbmlwcGV0KHRlbXBsYXRlKSB7XG4gICAgbGV0IHNuaXBwZXQgPSBTbmlwcGV0LnBhcnNlKHRlbXBsYXRlKTtcbiAgICByZXR1cm4gKGVkaXRvciwgX2NvbXBsZXRpb24sIGZyb20sIHRvKSA9PiB7XG4gICAgICAgIGxldCB7IHRleHQsIHJhbmdlcyB9ID0gc25pcHBldC5pbnN0YW50aWF0ZShlZGl0b3Iuc3RhdGUsIGZyb20pO1xuICAgICAgICBsZXQgc3BlYyA9IHtcbiAgICAgICAgICAgIGNoYW5nZXM6IHsgZnJvbSwgdG8sIGluc2VydDogVGV4dC5vZih0ZXh0KSB9LFxuICAgICAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGgpXG4gICAgICAgICAgICBzcGVjLnNlbGVjdGlvbiA9IGZpZWxkU2VsZWN0aW9uKHJhbmdlcywgMCk7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGV0IGFjdGl2ZSA9IG5ldyBBY3RpdmVTbmlwcGV0KHJhbmdlcywgMCk7XG4gICAgICAgICAgICBsZXQgZWZmZWN0cyA9IHNwZWMuZWZmZWN0cyA9IFtzZXRBY3RpdmUub2YoYWN0aXZlKV07XG4gICAgICAgICAgICBpZiAoZWRpdG9yLnN0YXRlLmZpZWxkKHNuaXBwZXRTdGF0ZSwgZmFsc2UpID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKFN0YXRlRWZmZWN0LmFwcGVuZENvbmZpZy5vZihbc25pcHBldFN0YXRlLCBhZGRTbmlwcGV0S2V5bWFwLCBzbmlwcGV0UG9pbnRlckhhbmRsZXIsIGJhc2VUaGVtZV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlZGl0b3IuZGlzcGF0Y2goZWRpdG9yLnN0YXRlLnVwZGF0ZShzcGVjKSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1vdmVGaWVsZChkaXIpIHtcbiAgICByZXR1cm4gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICAgICAgbGV0IGFjdGl2ZSA9IHN0YXRlLmZpZWxkKHNuaXBwZXRTdGF0ZSwgZmFsc2UpO1xuICAgICAgICBpZiAoIWFjdGl2ZSB8fCBkaXIgPCAwICYmIGFjdGl2ZS5hY3RpdmUgPT0gMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IG5leHQgPSBhY3RpdmUuYWN0aXZlICsgZGlyLCBsYXN0ID0gZGlyID4gMCAmJiAhYWN0aXZlLnJhbmdlcy5zb21lKHIgPT4gci5maWVsZCA9PSBuZXh0ICsgZGlyKTtcbiAgICAgICAgZGlzcGF0Y2goc3RhdGUudXBkYXRlKHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZmllbGRTZWxlY3Rpb24oYWN0aXZlLnJhbmdlcywgbmV4dCksXG4gICAgICAgICAgICBlZmZlY3RzOiBzZXRBY3RpdmUub2YobGFzdCA/IG51bGwgOiBuZXcgQWN0aXZlU25pcHBldChhY3RpdmUucmFuZ2VzLCBuZXh0KSlcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuLyoqXG5BIGNvbW1hbmQgdGhhdCBjbGVhcnMgdGhlIGFjdGl2ZSBzbmlwcGV0LCBpZiBhbnkuXG4qL1xuY29uc3QgY2xlYXJTbmlwcGV0ID0gKHsgc3RhdGUsIGRpc3BhdGNoIH0pID0+IHtcbiAgICBsZXQgYWN0aXZlID0gc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSk7XG4gICAgaWYgKCFhY3RpdmUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoeyBlZmZlY3RzOiBzZXRBY3RpdmUub2YobnVsbCkgfSkpO1xuICAgIHJldHVybiB0cnVlO1xufTtcbi8qKlxuTW92ZSB0byB0aGUgbmV4dCBzbmlwcGV0IGZpZWxkLCBpZiBhdmFpbGFibGUuXG4qL1xuY29uc3QgbmV4dFNuaXBwZXRGaWVsZCA9IC8qQF9fUFVSRV9fKi9tb3ZlRmllbGQoMSk7XG4vKipcbk1vdmUgdG8gdGhlIHByZXZpb3VzIHNuaXBwZXQgZmllbGQsIGlmIGF2YWlsYWJsZS5cbiovXG5jb25zdCBwcmV2U25pcHBldEZpZWxkID0gLypAX19QVVJFX18qL21vdmVGaWVsZCgtMSk7XG5jb25zdCBkZWZhdWx0U25pcHBldEtleW1hcCA9IFtcbiAgICB7IGtleTogXCJUYWJcIiwgcnVuOiBuZXh0U25pcHBldEZpZWxkLCBzaGlmdDogcHJldlNuaXBwZXRGaWVsZCB9LFxuICAgIHsga2V5OiBcIkVzY2FwZVwiLCBydW46IGNsZWFyU25pcHBldCB9XG5dO1xuLyoqXG5BIGZhY2V0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBrZXkgYmluZGluZ3MgdXNlZCBieVxuc25pcHBldHMuIFRoZSBkZWZhdWx0IGJpbmRzIFRhYiB0b1xuW2BuZXh0U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubmV4dFNuaXBwZXRGaWVsZCksIFNoaWZ0LVRhYiB0b1xuW2BwcmV2U25pcHBldEZpZWxkYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUucHJldlNuaXBwZXRGaWVsZCksIGFuZCBFc2NhcGVcbnRvIFtgY2xlYXJTbmlwcGV0YF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuY2xlYXJTbmlwcGV0KS5cbiovXG5jb25zdCBzbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL0ZhY2V0LmRlZmluZSh7XG4gICAgY29tYmluZShtYXBzKSB7IHJldHVybiBtYXBzLmxlbmd0aCA/IG1hcHNbMF0gOiBkZWZhdWx0U25pcHBldEtleW1hcDsgfVxufSk7XG5jb25zdCBhZGRTbmlwcGV0S2V5bWFwID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyova2V5bWFwLmNvbXB1dGUoW3NuaXBwZXRLZXltYXBdLCBzdGF0ZSA9PiBzdGF0ZS5mYWNldChzbmlwcGV0S2V5bWFwKSkpO1xuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIGZyb20gYSBzbmlwcGV0LiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZVxucHJvcGVydGllcyBmcm9tIGBjb21wbGV0aW9uYCwgcGx1cyBhbiBgYXBwbHlgIGZ1bmN0aW9uIHRoYXRcbmFwcGxpZXMgdGhlIHNuaXBwZXQuXG4qL1xuZnVuY3Rpb24gc25pcHBldENvbXBsZXRpb24odGVtcGxhdGUsIGNvbXBsZXRpb24pIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21wbGV0aW9uKSwgeyBhcHBseTogc25pcHBldCh0ZW1wbGF0ZSkgfSk7XG59XG5jb25zdCBzbmlwcGV0UG9pbnRlckhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5kb21FdmVudEhhbmRsZXJzKHtcbiAgICBtb3VzZWRvd24oZXZlbnQsIHZpZXcpIHtcbiAgICAgICAgbGV0IGFjdGl2ZSA9IHZpZXcuc3RhdGUuZmllbGQoc25pcHBldFN0YXRlLCBmYWxzZSksIHBvcztcbiAgICAgICAgaWYgKCFhY3RpdmUgfHwgKHBvcyA9IHZpZXcucG9zQXRDb29yZHMoeyB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZIH0pKSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgbWF0Y2ggPSBhY3RpdmUucmFuZ2VzLmZpbmQociA9PiByLmZyb20gPD0gcG9zICYmIHIudG8gPj0gcG9zKTtcbiAgICAgICAgaWYgKCFtYXRjaCB8fCBtYXRjaC5maWVsZCA9PSBhY3RpdmUuYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZmllbGRTZWxlY3Rpb24oYWN0aXZlLnJhbmdlcywgbWF0Y2guZmllbGQpLFxuICAgICAgICAgICAgZWZmZWN0czogc2V0QWN0aXZlLm9mKGFjdGl2ZS5yYW5nZXMuc29tZShyID0+IHIuZmllbGQgPiBtYXRjaC5maWVsZCkgPyBuZXcgQWN0aXZlU25pcHBldChhY3RpdmUucmFuZ2VzLCBtYXRjaC5maWVsZCkgOiBudWxsKVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIHdvcmRSRSh3b3JkQ2hhcnMpIHtcbiAgICBsZXQgZXNjYXBlZCA9IHdvcmRDaGFycy5yZXBsYWNlKC9bXFxcXFsuKyo/KCl7fF4kXS9nLCBcIlxcXFwkJlwiKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgW1xcXFxwe0FscGhhYmV0aWN9XFxcXHB7TnVtYmVyfV8ke2VzY2FwZWR9XStgLCBcInVnXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYFtcXHcke2VzY2FwZWR9XWAsIFwiZ1wiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYXBSRShyZSwgZikge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGYocmUuc291cmNlKSwgcmUudW5pY29kZSA/IFwidVwiIDogXCJcIik7XG59XG5jb25zdCB3b3JkQ2FjaGVzID0gLypAX19QVVJFX18qL09iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiB3b3JkQ2FjaGUod29yZENoYXJzKSB7XG4gICAgcmV0dXJuIHdvcmRDYWNoZXNbd29yZENoYXJzXSB8fCAod29yZENhY2hlc1t3b3JkQ2hhcnNdID0gbmV3IFdlYWtNYXApO1xufVxuZnVuY3Rpb24gc3RvcmVXb3Jkcyhkb2MsIHdvcmRSRSwgcmVzdWx0LCBzZWVuLCBpZ25vcmVBdCkge1xuICAgIGZvciAobGV0IGxpbmVzID0gZG9jLml0ZXJMaW5lcygpLCBwb3MgPSAwOyAhbGluZXMubmV4dCgpLmRvbmU7KSB7XG4gICAgICAgIGxldCB7IHZhbHVlIH0gPSBsaW5lcywgbTtcbiAgICAgICAgd29yZFJFLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlIChtID0gd29yZFJFLmV4ZWModmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoIXNlZW5bbVswXV0gJiYgcG9zICsgbS5pbmRleCAhPSBpZ25vcmVBdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgdHlwZTogXCJ0ZXh0XCIsIGxhYmVsOiBtWzBdIH0pO1xuICAgICAgICAgICAgICAgIHNlZW5bbVswXV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID49IDIwMDAgLyogQy5NYXhMaXN0ICovKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcG9zICs9IHZhbHVlLmxlbmd0aCArIDE7XG4gICAgfVxufVxuZnVuY3Rpb24gY29sbGVjdFdvcmRzKGRvYywgY2FjaGUsIHdvcmRSRSwgdG8sIGlnbm9yZUF0KSB7XG4gICAgbGV0IGJpZyA9IGRvYy5sZW5ndGggPj0gMTAwMCAvKiBDLk1pbkNhY2hlTGVuICovO1xuICAgIGxldCBjYWNoZWQgPSBiaWcgJiYgY2FjaGUuZ2V0KGRvYyk7XG4gICAgaWYgKGNhY2hlZClcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICBsZXQgcmVzdWx0ID0gW10sIHNlZW4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChkb2MuY2hpbGRyZW4pIHtcbiAgICAgICAgbGV0IHBvcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGNoIG9mIGRvYy5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGNoLmxlbmd0aCA+PSAxMDAwIC8qIEMuTWluQ2FjaGVMZW4gKi8pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjIG9mIGNvbGxlY3RXb3JkcyhjaCwgY2FjaGUsIHdvcmRSRSwgdG8gLSBwb3MsIGlnbm9yZUF0IC0gcG9zKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlZW5bYy5sYWJlbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW5bYy5sYWJlbF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9yZVdvcmRzKGNoLCB3b3JkUkUsIHJlc3VsdCwgc2VlbiwgaWdub3JlQXQgLSBwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zICs9IGNoLmxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0b3JlV29yZHMoZG9jLCB3b3JkUkUsIHJlc3VsdCwgc2VlbiwgaWdub3JlQXQpO1xuICAgIH1cbiAgICBpZiAoYmlnICYmIHJlc3VsdC5sZW5ndGggPCAyMDAwIC8qIEMuTWF4TGlzdCAqLylcbiAgICAgICAgY2FjaGUuc2V0KGRvYywgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG5BIGNvbXBsZXRpb24gc291cmNlIHRoYXQgd2lsbCBzY2FuIHRoZSBkb2N1bWVudCBmb3Igd29yZHMgKHVzaW5nIGFcbltjaGFyYWN0ZXIgY2F0ZWdvcml6ZXJdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jc3RhdGUuRWRpdG9yU3RhdGUuY2hhckNhdGVnb3JpemVyKSksIGFuZFxucmV0dXJuIHRob3NlIGFzIGNvbXBsZXRpb25zLlxuKi9cbmNvbnN0IGNvbXBsZXRlQW55V29yZCA9IGNvbnRleHQgPT4ge1xuICAgIGxldCB3b3JkQ2hhcnMgPSBjb250ZXh0LnN0YXRlLmxhbmd1YWdlRGF0YUF0KFwid29yZENoYXJzXCIsIGNvbnRleHQucG9zKS5qb2luKFwiXCIpO1xuICAgIGxldCByZSA9IHdvcmRSRSh3b3JkQ2hhcnMpO1xuICAgIGxldCB0b2tlbiA9IGNvbnRleHQubWF0Y2hCZWZvcmUobWFwUkUocmUsIHMgPT4gcyArIFwiJFwiKSk7XG4gICAgaWYgKCF0b2tlbiAmJiAhY29udGV4dC5leHBsaWNpdClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGZyb20gPSB0b2tlbiA/IHRva2VuLmZyb20gOiBjb250ZXh0LnBvcztcbiAgICBsZXQgb3B0aW9ucyA9IGNvbGxlY3RXb3Jkcyhjb250ZXh0LnN0YXRlLmRvYywgd29yZENhY2hlKHdvcmRDaGFycyksIHJlLCA1MDAwMCAvKiBDLlJhbmdlICovLCBmcm9tKTtcbiAgICByZXR1cm4geyBmcm9tLCBvcHRpb25zLCB2YWxpZEZvcjogbWFwUkUocmUsIHMgPT4gXCJeXCIgKyBzKSB9O1xufTtcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgYnJhY2tldHM6IFtcIihcIiwgXCJbXCIsIFwie1wiLCBcIidcIiwgJ1wiJ10sXG4gICAgYmVmb3JlOiBcIildfTo7PlwiLFxuICAgIHN0cmluZ1ByZWZpeGVzOiBbXVxufTtcbmNvbnN0IGNsb3NlQnJhY2tldEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcCh2YWx1ZSwgbWFwcGluZykge1xuICAgICAgICBsZXQgbWFwcGVkID0gbWFwcGluZy5tYXBQb3ModmFsdWUsIC0xLCBNYXBNb2RlLlRyYWNrQWZ0ZXIpO1xuICAgICAgICByZXR1cm4gbWFwcGVkID09IG51bGwgPyB1bmRlZmluZWQgOiBtYXBwZWQ7XG4gICAgfVxufSk7XG5jb25zdCBza2lwQnJhY2tldEVmZmVjdCA9IC8qQF9fUFVSRV9fKi9TdGF0ZUVmZmVjdC5kZWZpbmUoe1xuICAgIG1hcCh2YWx1ZSwgbWFwcGluZykgeyByZXR1cm4gbWFwcGluZy5tYXBQb3ModmFsdWUpOyB9XG59KTtcbmNvbnN0IGNsb3NlZEJyYWNrZXQgPSAvKkBfX1BVUkVfXyovbmV3IGNsYXNzIGV4dGVuZHMgUmFuZ2VWYWx1ZSB7XG59O1xuY2xvc2VkQnJhY2tldC5zdGFydFNpZGUgPSAxO1xuY2xvc2VkQnJhY2tldC5lbmRTaWRlID0gLTE7XG5jb25zdCBicmFja2V0U3RhdGUgPSAvKkBfX1BVUkVfXyovU3RhdGVGaWVsZC5kZWZpbmUoe1xuICAgIGNyZWF0ZSgpIHsgcmV0dXJuIFJhbmdlU2V0LmVtcHR5OyB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgaWYgKHRyLnNlbGVjdGlvbikge1xuICAgICAgICAgICAgbGV0IGxpbmVTdGFydCA9IHRyLnN0YXRlLmRvYy5saW5lQXQodHIuc2VsZWN0aW9uLm1haW4uaGVhZCkuZnJvbTtcbiAgICAgICAgICAgIGxldCBwcmV2TGluZVN0YXJ0ID0gdHIuc3RhcnRTdGF0ZS5kb2MubGluZUF0KHRyLnN0YXJ0U3RhdGUuc2VsZWN0aW9uLm1haW4uaGVhZCkuZnJvbTtcbiAgICAgICAgICAgIGlmIChsaW5lU3RhcnQgIT0gdHIuY2hhbmdlcy5tYXBQb3MocHJldkxpbmVTdGFydCwgLTEpKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gUmFuZ2VTZXQuZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5tYXAodHIuY2hhbmdlcyk7XG4gICAgICAgIGZvciAobGV0IGVmZmVjdCBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0LmlzKGNsb3NlQnJhY2tldEVmZmVjdCkpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS51cGRhdGUoeyBhZGQ6IFtjbG9zZWRCcmFja2V0LnJhbmdlKGVmZmVjdC52YWx1ZSwgZWZmZWN0LnZhbHVlICsgMSldIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoZWZmZWN0LmlzKHNraXBCcmFja2V0RWZmZWN0KSlcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnVwZGF0ZSh7IGZpbHRlcjogZnJvbSA9PiBmcm9tICE9IGVmZmVjdC52YWx1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufSk7XG4vKipcbkV4dGVuc2lvbiB0byBlbmFibGUgYnJhY2tldC1jbG9zaW5nIGJlaGF2aW9yLiBXaGVuIGEgY2xvc2VhYmxlXG5icmFja2V0IGlzIHR5cGVkLCBpdHMgY2xvc2luZyBicmFja2V0IGlzIGltbWVkaWF0ZWx5IGluc2VydGVkXG5hZnRlciB0aGUgY3Vyc29yLiBXaGVuIGNsb3NpbmcgYSBicmFja2V0IGRpcmVjdGx5IGluIGZyb250IG9mIGFcbmNsb3NpbmcgYnJhY2tldCBpbnNlcnRlZCBieSB0aGUgZXh0ZW5zaW9uLCB0aGUgY3Vyc29yIG1vdmVzIG92ZXJcbnRoYXQgYnJhY2tldC5cbiovXG5mdW5jdGlvbiBjbG9zZUJyYWNrZXRzKCkge1xuICAgIHJldHVybiBbaW5wdXRIYW5kbGVyLCBicmFja2V0U3RhdGVdO1xufVxuY29uc3QgZGVmaW5lZENsb3NpbmcgPSBcIigpW117fTw+XCI7XG5mdW5jdGlvbiBjbG9zaW5nKGNoKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZpbmVkQ2xvc2luZy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAgaWYgKGRlZmluZWRDbG9zaW5nLmNoYXJDb2RlQXQoaSkgPT0gY2gpXG4gICAgICAgICAgICByZXR1cm4gZGVmaW5lZENsb3NpbmcuY2hhckF0KGkgKyAxKTtcbiAgICByZXR1cm4gZnJvbUNvZGVQb2ludChjaCA8IDEyOCA/IGNoIDogY2ggKyAxKTtcbn1cbmZ1bmN0aW9uIGNvbmZpZyhzdGF0ZSwgcG9zKSB7XG4gICAgcmV0dXJuIHN0YXRlLmxhbmd1YWdlRGF0YUF0KFwiY2xvc2VCcmFja2V0c1wiLCBwb3MpWzBdIHx8IGRlZmF1bHRzO1xufVxuY29uc3QgYW5kcm9pZCA9IHR5cGVvZiBuYXZpZ2F0b3IgPT0gXCJvYmplY3RcIiAmJiAvKkBfX1BVUkVfXyovL0FuZHJvaWRcXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5jb25zdCBpbnB1dEhhbmRsZXIgPSAvKkBfX1BVUkVfXyovRWRpdG9yVmlldy5pbnB1dEhhbmRsZXIub2YoKHZpZXcsIGZyb20sIHRvLCBpbnNlcnQpID0+IHtcbiAgICBpZiAoKGFuZHJvaWQgPyB2aWV3LmNvbXBvc2luZyA6IHZpZXcuY29tcG9zaXRpb25TdGFydGVkKSB8fCB2aWV3LnN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLm1haW47XG4gICAgaWYgKGluc2VydC5sZW5ndGggPiAyIHx8IGluc2VydC5sZW5ndGggPT0gMiAmJiBjb2RlUG9pbnRTaXplKGNvZGVQb2ludEF0KGluc2VydCwgMCkpID09IDEgfHxcbiAgICAgICAgZnJvbSAhPSBzZWwuZnJvbSB8fCB0byAhPSBzZWwudG8pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgdHIgPSBpbnNlcnRCcmFja2V0KHZpZXcuc3RhdGUsIGluc2VydCk7XG4gICAgaWYgKCF0cilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG4vKipcbkNvbW1hbmQgdGhhdCBpbXBsZW1lbnRzIGRlbGV0aW5nIGEgcGFpciBvZiBtYXRjaGluZyBicmFja2V0cyB3aGVuXG50aGUgY3Vyc29yIGlzIGJldHdlZW4gdGhlbS5cbiovXG5jb25zdCBkZWxldGVCcmFja2V0UGFpciA9ICh7IHN0YXRlLCBkaXNwYXRjaCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLnJlYWRPbmx5KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGNvbmYgPSBjb25maWcoc3RhdGUsIHN0YXRlLnNlbGVjdGlvbi5tYWluLmhlYWQpO1xuICAgIGxldCB0b2tlbnMgPSBjb25mLmJyYWNrZXRzIHx8IGRlZmF1bHRzLmJyYWNrZXRzO1xuICAgIGxldCBkb250ID0gbnVsbCwgY2hhbmdlcyA9IHN0YXRlLmNoYW5nZUJ5UmFuZ2UocmFuZ2UgPT4ge1xuICAgICAgICBpZiAocmFuZ2UuZW1wdHkpIHtcbiAgICAgICAgICAgIGxldCBiZWZvcmUgPSBwcmV2Q2hhcihzdGF0ZS5kb2MsIHJhbmdlLmhlYWQpO1xuICAgICAgICAgICAgZm9yIChsZXQgdG9rZW4gb2YgdG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuID09IGJlZm9yZSAmJiBuZXh0Q2hhcihzdGF0ZS5kb2MsIHJhbmdlLmhlYWQpID09IGNsb3NpbmcoY29kZVBvaW50QXQodG9rZW4sIDApKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBmcm9tOiByYW5nZS5oZWFkIC0gdG9rZW4ubGVuZ3RoLCB0bzogcmFuZ2UuaGVhZCArIHRva2VuLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuaGVhZCAtIHRva2VuLmxlbmd0aCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYW5nZTogZG9udCA9IHJhbmdlIH07XG4gICAgfSk7XG4gICAgaWYgKCFkb250KVxuICAgICAgICBkaXNwYXRjaChzdGF0ZS51cGRhdGUoY2hhbmdlcywgeyBzY3JvbGxJbnRvVmlldzogdHJ1ZSwgdXNlckV2ZW50OiBcImRlbGV0ZS5iYWNrd2FyZFwiIH0pKTtcbiAgICByZXR1cm4gIWRvbnQ7XG59O1xuLyoqXG5DbG9zZS1icmFja2V0cyByZWxhdGVkIGtleSBiaW5kaW5ncy4gQmluZHMgQmFja3NwYWNlIHRvXG5bYGRlbGV0ZUJyYWNrZXRQYWlyYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuZGVsZXRlQnJhY2tldFBhaXIpLlxuKi9cbmNvbnN0IGNsb3NlQnJhY2tldHNLZXltYXAgPSBbXG4gICAgeyBrZXk6IFwiQmFja3NwYWNlXCIsIHJ1bjogZGVsZXRlQnJhY2tldFBhaXIgfVxuXTtcbi8qKlxuSW1wbGVtZW50cyB0aGUgZXh0ZW5zaW9uJ3MgYmVoYXZpb3Igb24gdGV4dCBpbnNlcnRpb24uIElmIHRoZVxuZ2l2ZW4gc3RyaW5nIGNvdW50cyBhcyBhIGJyYWNrZXQgaW4gdGhlIGxhbmd1YWdlIGFyb3VuZCB0aGVcbnNlbGVjdGlvbiwgYW5kIHJlcGxhY2luZyB0aGUgc2VsZWN0aW9uIHdpdGggaXQgcmVxdWlyZXMgY3VzdG9tXG5iZWhhdmlvciAoaW5zZXJ0aW5nIGEgY2xvc2luZyB2ZXJzaW9uIG9yIHNraXBwaW5nIHBhc3QgYVxucHJldmlvdXNseS1jbG9zZWQgYnJhY2tldCksIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHRyYW5zYWN0aW9uXG5yZXByZXNlbnRpbmcgdGhhdCBjdXN0b20gYmVoYXZpb3IuIChZb3Ugb25seSBuZWVkIHRoaXMgaWYgeW91IHdhbnRcbnRvIHByb2dyYW1tYXRpY2FsbHkgaW5zZXJ0IGJyYWNrZXRzXHUyMDE0dGhlXG5bYGNsb3NlQnJhY2tldHNgXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5jbG9zZUJyYWNrZXRzKSBleHRlbnNpb24gd2lsbFxudGFrZSBjYXJlIG9mIHJ1bm5pbmcgdGhpcyBmb3IgdXNlciBpbnB1dC4pXG4qL1xuZnVuY3Rpb24gaW5zZXJ0QnJhY2tldChzdGF0ZSwgYnJhY2tldCkge1xuICAgIGxldCBjb25mID0gY29uZmlnKHN0YXRlLCBzdGF0ZS5zZWxlY3Rpb24ubWFpbi5oZWFkKTtcbiAgICBsZXQgdG9rZW5zID0gY29uZi5icmFja2V0cyB8fCBkZWZhdWx0cy5icmFja2V0cztcbiAgICBmb3IgKGxldCB0b2sgb2YgdG9rZW5zKSB7XG4gICAgICAgIGxldCBjbG9zZWQgPSBjbG9zaW5nKGNvZGVQb2ludEF0KHRvaywgMCkpO1xuICAgICAgICBpZiAoYnJhY2tldCA9PSB0b2spXG4gICAgICAgICAgICByZXR1cm4gY2xvc2VkID09IHRvayA/IGhhbmRsZVNhbWUoc3RhdGUsIHRvaywgdG9rZW5zLmluZGV4T2YodG9rICsgdG9rICsgdG9rKSA+IC0xLCBjb25mKVxuICAgICAgICAgICAgICAgIDogaGFuZGxlT3BlbihzdGF0ZSwgdG9rLCBjbG9zZWQsIGNvbmYuYmVmb3JlIHx8IGRlZmF1bHRzLmJlZm9yZSk7XG4gICAgICAgIGlmIChicmFja2V0ID09IGNsb3NlZCAmJiBjbG9zZWRCcmFja2V0QXQoc3RhdGUsIHN0YXRlLnNlbGVjdGlvbi5tYWluLmZyb20pKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUNsb3NlKHN0YXRlLCB0b2ssIGNsb3NlZCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY2xvc2VkQnJhY2tldEF0KHN0YXRlLCBwb3MpIHtcbiAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICBzdGF0ZS5maWVsZChicmFja2V0U3RhdGUpLmJldHdlZW4oMCwgc3RhdGUuZG9jLmxlbmd0aCwgZnJvbSA9PiB7XG4gICAgICAgIGlmIChmcm9tID09IHBvcylcbiAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm91bmQ7XG59XG5mdW5jdGlvbiBuZXh0Q2hhcihkb2MsIHBvcykge1xuICAgIGxldCBuZXh0ID0gZG9jLnNsaWNlU3RyaW5nKHBvcywgcG9zICsgMik7XG4gICAgcmV0dXJuIG5leHQuc2xpY2UoMCwgY29kZVBvaW50U2l6ZShjb2RlUG9pbnRBdChuZXh0LCAwKSkpO1xufVxuZnVuY3Rpb24gcHJldkNoYXIoZG9jLCBwb3MpIHtcbiAgICBsZXQgcHJldiA9IGRvYy5zbGljZVN0cmluZyhwb3MgLSAyLCBwb3MpO1xuICAgIHJldHVybiBjb2RlUG9pbnRTaXplKGNvZGVQb2ludEF0KHByZXYsIDApKSA9PSBwcmV2Lmxlbmd0aCA/IHByZXYgOiBwcmV2LnNsaWNlKDEpO1xufVxuZnVuY3Rpb24gaGFuZGxlT3BlbihzdGF0ZSwgb3BlbiwgY2xvc2UsIGNsb3NlQmVmb3JlKSB7XG4gICAgbGV0IGRvbnQgPSBudWxsLCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkpXG4gICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VzOiBbeyBpbnNlcnQ6IG9wZW4sIGZyb206IHJhbmdlLmZyb20gfSwgeyBpbnNlcnQ6IGNsb3NlLCBmcm9tOiByYW5nZS50byB9XSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocmFuZ2UudG8gKyBvcGVuLmxlbmd0aCksXG4gICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5yYW5nZShyYW5nZS5hbmNob3IgKyBvcGVuLmxlbmd0aCwgcmFuZ2UuaGVhZCArIG9wZW4ubGVuZ3RoKSB9O1xuICAgICAgICBsZXQgbmV4dCA9IG5leHRDaGFyKHN0YXRlLmRvYywgcmFuZ2UuaGVhZCk7XG4gICAgICAgIGlmICghbmV4dCB8fCAvXFxzLy50ZXN0KG5leHQpIHx8IGNsb3NlQmVmb3JlLmluZGV4T2YobmV4dCkgPiAtMSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IHsgaW5zZXJ0OiBvcGVuICsgY2xvc2UsIGZyb206IHJhbmdlLmhlYWQgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocmFuZ2UuaGVhZCArIG9wZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihyYW5nZS5oZWFkICsgb3Blbi5sZW5ndGgpIH07XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiBkb250ID0gcmFuZ2UgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9udCA/IG51bGwgOiBzdGF0ZS51cGRhdGUoY2hhbmdlcywge1xuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnR5cGVcIlxuICAgIH0pO1xufVxuZnVuY3Rpb24gaGFuZGxlQ2xvc2Uoc3RhdGUsIF9vcGVuLCBjbG9zZSkge1xuICAgIGxldCBkb250ID0gbnVsbCwgbW92ZWQgPSBzdGF0ZS5zZWxlY3Rpb24ucmFuZ2VzLm1hcChyYW5nZSA9PiB7XG4gICAgICAgIGlmIChyYW5nZS5lbXB0eSAmJiBuZXh0Q2hhcihzdGF0ZS5kb2MsIHJhbmdlLmhlYWQpID09IGNsb3NlKVxuICAgICAgICAgICAgcmV0dXJuIEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocmFuZ2UuaGVhZCArIGNsb3NlLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBkb250ID0gcmFuZ2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvbnQgPyBudWxsIDogc3RhdGUudXBkYXRlKHtcbiAgICAgICAgc2VsZWN0aW9uOiBFZGl0b3JTZWxlY3Rpb24uY3JlYXRlKG1vdmVkLCBzdGF0ZS5zZWxlY3Rpb24ubWFpbkluZGV4KSxcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXc6IHRydWUsXG4gICAgICAgIGVmZmVjdHM6IHN0YXRlLnNlbGVjdGlvbi5yYW5nZXMubWFwKCh7IGZyb20gfSkgPT4gc2tpcEJyYWNrZXRFZmZlY3Qub2YoZnJvbSkpXG4gICAgfSk7XG59XG4vLyBIYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSBvcGVuIGFuZCBjbG9zZSB0b2tlbiBhcmUgdGhlIHNhbWUsIGFuZFxuLy8gcG9zc2libHkgdHJpcGxlIHF1b3RlcyAoYXMgaW4gYFwiXCJcImFiY1wiXCJcImAtc3R5bGUgcXVvdGluZykuXG5mdW5jdGlvbiBoYW5kbGVTYW1lKHN0YXRlLCB0b2tlbiwgYWxsb3dUcmlwbGUsIGNvbmZpZykge1xuICAgIGxldCBzdHJpbmdQcmVmaXhlcyA9IGNvbmZpZy5zdHJpbmdQcmVmaXhlcyB8fCBkZWZhdWx0cy5zdHJpbmdQcmVmaXhlcztcbiAgICBsZXQgZG9udCA9IG51bGwsIGNoYW5nZXMgPSBzdGF0ZS5jaGFuZ2VCeVJhbmdlKHJhbmdlID0+IHtcbiAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB7IGNoYW5nZXM6IFt7IGluc2VydDogdG9rZW4sIGZyb206IHJhbmdlLmZyb20gfSwgeyBpbnNlcnQ6IHRva2VuLCBmcm9tOiByYW5nZS50byB9XSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocmFuZ2UudG8gKyB0b2tlbi5sZW5ndGgpLFxuICAgICAgICAgICAgICAgIHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24ucmFuZ2UocmFuZ2UuYW5jaG9yICsgdG9rZW4ubGVuZ3RoLCByYW5nZS5oZWFkICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICBsZXQgcG9zID0gcmFuZ2UuaGVhZCwgbmV4dCA9IG5leHRDaGFyKHN0YXRlLmRvYywgcG9zKSwgc3RhcnQ7XG4gICAgICAgIGlmIChuZXh0ID09IHRva2VuKSB7XG4gICAgICAgICAgICBpZiAobm9kZVN0YXJ0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IHRva2VuICsgdG9rZW4sIGZyb206IHBvcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocG9zICsgdG9rZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2xvc2VkQnJhY2tldEF0KHN0YXRlLCBwb3MpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzVHJpcGxlID0gYWxsb3dUcmlwbGUgJiYgc3RhdGUuc2xpY2VEb2MocG9zLCBwb3MgKyB0b2tlbi5sZW5ndGggKiAzKSA9PSB0b2tlbiArIHRva2VuICsgdG9rZW47XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoICogKGlzVHJpcGxlID8gMyA6IDEpKSxcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogc2tpcEJyYWNrZXRFZmZlY3Qub2YocG9zKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFsbG93VHJpcGxlICYmIHN0YXRlLnNsaWNlRG9jKHBvcyAtIDIgKiB0b2tlbi5sZW5ndGgsIHBvcykgPT0gdG9rZW4gKyB0b2tlbiAmJlxuICAgICAgICAgICAgKHN0YXJ0ID0gY2FuU3RhcnRTdHJpbmdBdChzdGF0ZSwgcG9zIC0gMiAqIHRva2VuLmxlbmd0aCwgc3RyaW5nUHJlZml4ZXMpKSA+IC0xICYmXG4gICAgICAgICAgICBub2RlU3RhcnQoc3RhdGUsIHN0YXJ0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IHRva2VuICsgdG9rZW4gKyB0b2tlbiArIHRva2VuLCBmcm9tOiBwb3MgfSxcbiAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocG9zICsgdG9rZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihwb3MgKyB0b2tlbi5sZW5ndGgpIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcykobmV4dCkgIT0gQ2hhckNhdGVnb3J5LldvcmQpIHtcbiAgICAgICAgICAgIGlmIChjYW5TdGFydFN0cmluZ0F0KHN0YXRlLCBwb3MsIHN0cmluZ1ByZWZpeGVzKSA+IC0xICYmICFwcm9iYWJseUluU3RyaW5nKHN0YXRlLCBwb3MsIHRva2VuLCBzdHJpbmdQcmVmaXhlcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlczogeyBpbnNlcnQ6IHRva2VuICsgdG9rZW4sIGZyb206IHBvcyB9LFxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzOiBjbG9zZUJyYWNrZXRFZmZlY3Qub2YocG9zICsgdG9rZW4ubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IocG9zICsgdG9rZW4ubGVuZ3RoKSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlOiBkb250ID0gcmFuZ2UgfTtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9udCA/IG51bGwgOiBzdGF0ZS51cGRhdGUoY2hhbmdlcywge1xuICAgICAgICBzY3JvbGxJbnRvVmlldzogdHJ1ZSxcbiAgICAgICAgdXNlckV2ZW50OiBcImlucHV0LnR5cGVcIlxuICAgIH0pO1xufVxuZnVuY3Rpb24gbm9kZVN0YXJ0KHN0YXRlLCBwb3MpIHtcbiAgICBsZXQgdHJlZSA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MgKyAxKTtcbiAgICByZXR1cm4gdHJlZS5wYXJlbnQgJiYgdHJlZS5mcm9tID09IHBvcztcbn1cbmZ1bmN0aW9uIHByb2JhYmx5SW5TdHJpbmcoc3RhdGUsIHBvcywgcXVvdGVUb2tlbiwgcHJlZml4ZXMpIHtcbiAgICBsZXQgbm9kZSA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MsIC0xKTtcbiAgICBsZXQgbWF4UHJlZml4ID0gcHJlZml4ZXMucmVkdWNlKChtLCBwKSA9PiBNYXRoLm1heChtLCBwLmxlbmd0aCksIDApO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHN0YXRlLnNsaWNlRG9jKG5vZGUuZnJvbSwgTWF0aC5taW4obm9kZS50bywgbm9kZS5mcm9tICsgcXVvdGVUb2tlbi5sZW5ndGggKyBtYXhQcmVmaXgpKTtcbiAgICAgICAgbGV0IHF1b3RlUG9zID0gc3RhcnQuaW5kZXhPZihxdW90ZVRva2VuKTtcbiAgICAgICAgaWYgKCFxdW90ZVBvcyB8fCBxdW90ZVBvcyA+IC0xICYmIHByZWZpeGVzLmluZGV4T2Yoc3RhcnQuc2xpY2UoMCwgcXVvdGVQb3MpKSA+IC0xKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICB3aGlsZSAoZmlyc3QgJiYgZmlyc3QuZnJvbSA9PSBub2RlLmZyb20gJiYgZmlyc3QudG8gLSBmaXJzdC5mcm9tID4gcXVvdGVUb2tlbi5sZW5ndGggKyBxdW90ZVBvcykge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zbGljZURvYyhmaXJzdC50byAtIHF1b3RlVG9rZW4ubGVuZ3RoLCBmaXJzdC50bykgPT0gcXVvdGVUb2tlbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGZpcnN0ID0gZmlyc3QuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXJlbnQgPSBub2RlLnRvID09IHBvcyAmJiBub2RlLnBhcmVudDtcbiAgICAgICAgaWYgKCFwYXJlbnQpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgbm9kZSA9IHBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gY2FuU3RhcnRTdHJpbmdBdChzdGF0ZSwgcG9zLCBwcmVmaXhlcykge1xuICAgIGxldCBjaGFyQ2F0ID0gc3RhdGUuY2hhckNhdGVnb3JpemVyKHBvcyk7XG4gICAgaWYgKGNoYXJDYXQoc3RhdGUuc2xpY2VEb2MocG9zIC0gMSwgcG9zKSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgZm9yIChsZXQgcHJlZml4IG9mIHByZWZpeGVzKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHBvcyAtIHByZWZpeC5sZW5ndGg7XG4gICAgICAgIGlmIChzdGF0ZS5zbGljZURvYyhzdGFydCwgcG9zKSA9PSBwcmVmaXggJiYgY2hhckNhdChzdGF0ZS5zbGljZURvYyhzdGFydCAtIDEsIHN0YXJ0KSkgIT0gQ2hhckNhdGVnb3J5LldvcmQpXG4gICAgICAgICAgICByZXR1cm4gc3RhcnQ7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuLyoqXG5SZXR1cm5zIGFuIGV4dGVuc2lvbiB0aGF0IGVuYWJsZXMgYXV0b2NvbXBsZXRpb24uXG4qL1xuZnVuY3Rpb24gYXV0b2NvbXBsZXRpb24oY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBjb21wbGV0aW9uU3RhdGUsXG4gICAgICAgIGNvbXBsZXRpb25Db25maWcub2YoY29uZmlnKSxcbiAgICAgICAgY29tcGxldGlvblBsdWdpbixcbiAgICAgICAgY29tcGxldGlvbktleW1hcEV4dCxcbiAgICAgICAgYmFzZVRoZW1lXG4gICAgXTtcbn1cbi8qKlxuQmFzaWMga2V5YmluZGluZ3MgZm9yIGF1dG9jb21wbGV0aW9uLlxuXG4gLSBDdHJsLVNwYWNlOiBbYHN0YXJ0Q29tcGxldGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLnN0YXJ0Q29tcGxldGlvbilcbiAtIEVzY2FwZTogW2BjbG9zZUNvbXBsZXRpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5jbG9zZUNvbXBsZXRpb24pXG4gLSBBcnJvd0Rvd246IFtgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5tb3ZlQ29tcGxldGlvblNlbGVjdGlvbilgKHRydWUpYFxuIC0gQXJyb3dVcDogW2Btb3ZlQ29tcGxldGlvblNlbGVjdGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jYXV0b2NvbXBsZXRlLm1vdmVDb21wbGV0aW9uU2VsZWN0aW9uKWAoZmFsc2UpYFxuIC0gUGFnZURvd246IFtgbW92ZUNvbXBsZXRpb25TZWxlY3Rpb25gXShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2F1dG9jb21wbGV0ZS5tb3ZlQ29tcGxldGlvblNlbGVjdGlvbilgKHRydWUsIFwicGFnZVwiKWBcbiAtIFBhZ2VEb3duOiBbYG1vdmVDb21wbGV0aW9uU2VsZWN0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUubW92ZUNvbXBsZXRpb25TZWxlY3Rpb24pYCh0cnVlLCBcInBhZ2VcIilgXG4gLSBFbnRlcjogW2BhY2NlcHRDb21wbGV0aW9uYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuYWNjZXB0Q29tcGxldGlvbilcbiovXG5jb25zdCBjb21wbGV0aW9uS2V5bWFwID0gW1xuICAgIHsga2V5OiBcIkN0cmwtU3BhY2VcIiwgcnVuOiBzdGFydENvbXBsZXRpb24gfSxcbiAgICB7IGtleTogXCJFc2NhcGVcIiwgcnVuOiBjbG9zZUNvbXBsZXRpb24gfSxcbiAgICB7IGtleTogXCJBcnJvd0Rvd25cIiwgcnVuOiAvKkBfX1BVUkVfXyovbW92ZUNvbXBsZXRpb25TZWxlY3Rpb24odHJ1ZSkgfSxcbiAgICB7IGtleTogXCJBcnJvd1VwXCIsIHJ1bjogLypAX19QVVJFX18qL21vdmVDb21wbGV0aW9uU2VsZWN0aW9uKGZhbHNlKSB9LFxuICAgIHsga2V5OiBcIlBhZ2VEb3duXCIsIHJ1bjogLypAX19QVVJFX18qL21vdmVDb21wbGV0aW9uU2VsZWN0aW9uKHRydWUsIFwicGFnZVwiKSB9LFxuICAgIHsga2V5OiBcIlBhZ2VVcFwiLCBydW46IC8qQF9fUFVSRV9fKi9tb3ZlQ29tcGxldGlvblNlbGVjdGlvbihmYWxzZSwgXCJwYWdlXCIpIH0sXG4gICAgeyBrZXk6IFwiRW50ZXJcIiwgcnVuOiBhY2NlcHRDb21wbGV0aW9uIH1cbl07XG5jb25zdCBjb21wbGV0aW9uS2V5bWFwRXh0ID0gLypAX19QVVJFX18qL1ByZWMuaGlnaGVzdCgvKkBfX1BVUkVfXyova2V5bWFwLmNvbXB1dGVOKFtjb21wbGV0aW9uQ29uZmlnXSwgc3RhdGUgPT4gc3RhdGUuZmFjZXQoY29tcGxldGlvbkNvbmZpZykuZGVmYXVsdEtleW1hcCA/IFtjb21wbGV0aW9uS2V5bWFwXSA6IFtdKSk7XG4vKipcbkdldCB0aGUgY3VycmVudCBjb21wbGV0aW9uIHN0YXR1cy4gV2hlbiBjb21wbGV0aW9ucyBhcmUgYXZhaWxhYmxlLFxudGhpcyB3aWxsIHJldHVybiBgXCJhY3RpdmVcImAuIFdoZW4gY29tcGxldGlvbnMgYXJlIHBlbmRpbmcgKGluIHRoZVxucHJvY2VzcyBvZiBiZWluZyBxdWVyaWVkKSwgdGhpcyByZXR1cm5zIGBcInBlbmRpbmdcImAuIE90aGVyd2lzZSwgaXRcbnJldHVybnMgYG51bGxgLlxuKi9cbmZ1bmN0aW9uIGNvbXBsZXRpb25TdGF0dXMoc3RhdGUpIHtcbiAgICBsZXQgY1N0YXRlID0gc3RhdGUuZmllbGQoY29tcGxldGlvblN0YXRlLCBmYWxzZSk7XG4gICAgcmV0dXJuIGNTdGF0ZSAmJiBjU3RhdGUuYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlID09IDEgLyogU3RhdGUuUGVuZGluZyAqLykgPyBcInBlbmRpbmdcIlxuICAgICAgICA6IGNTdGF0ZSAmJiBjU3RhdGUuYWN0aXZlLnNvbWUoYSA9PiBhLnN0YXRlICE9IDAgLyogU3RhdGUuSW5hY3RpdmUgKi8pID8gXCJhY3RpdmVcIiA6IG51bGw7XG59XG5jb25zdCBjb21wbGV0aW9uQXJyYXlDYWNoZSA9IC8qQF9fUFVSRV9fKi9uZXcgV2Vha01hcDtcbi8qKlxuUmV0dXJucyB0aGUgYXZhaWxhYmxlIGNvbXBsZXRpb25zIGFzIGFuIGFycmF5LlxuKi9cbmZ1bmN0aW9uIGN1cnJlbnRDb21wbGV0aW9ucyhzdGF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgb3BlbiA9IChfYSA9IHN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3BlbjtcbiAgICBpZiAoIW9wZW4gfHwgb3Blbi5kaXNhYmxlZClcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIGxldCBjb21wbGV0aW9ucyA9IGNvbXBsZXRpb25BcnJheUNhY2hlLmdldChvcGVuLm9wdGlvbnMpO1xuICAgIGlmICghY29tcGxldGlvbnMpXG4gICAgICAgIGNvbXBsZXRpb25BcnJheUNhY2hlLnNldChvcGVuLm9wdGlvbnMsIGNvbXBsZXRpb25zID0gb3Blbi5vcHRpb25zLm1hcChvID0+IG8uY29tcGxldGlvbikpO1xuICAgIHJldHVybiBjb21wbGV0aW9ucztcbn1cbi8qKlxuUmV0dXJuIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgY29tcGxldGlvbiwgaWYgYW55LlxuKi9cbmZ1bmN0aW9uIHNlbGVjdGVkQ29tcGxldGlvbihzdGF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgb3BlbiA9IChfYSA9IHN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3BlbjtcbiAgICByZXR1cm4gb3BlbiAmJiAhb3Blbi5kaXNhYmxlZCAmJiBvcGVuLnNlbGVjdGVkID49IDAgPyBvcGVuLm9wdGlvbnNbb3Blbi5zZWxlY3RlZF0uY29tcGxldGlvbiA6IG51bGw7XG59XG4vKipcblJldHVybnMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwb3NpdGlvbiBpbiB0aGUgYWN0aXZlIGNvbXBsZXRpb25cbmxpc3QsIG9yIG51bGwgaWYgbm8gY29tcGxldGlvbnMgYXJlIGFjdGl2ZS5cbiovXG5mdW5jdGlvbiBzZWxlY3RlZENvbXBsZXRpb25JbmRleChzdGF0ZSkge1xuICAgIHZhciBfYTtcbiAgICBsZXQgb3BlbiA9IChfYSA9IHN0YXRlLmZpZWxkKGNvbXBsZXRpb25TdGF0ZSwgZmFsc2UpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3BlbjtcbiAgICByZXR1cm4gb3BlbiAmJiAhb3Blbi5kaXNhYmxlZCAmJiBvcGVuLnNlbGVjdGVkID49IDAgPyBvcGVuLnNlbGVjdGVkIDogbnVsbDtcbn1cbi8qKlxuQ3JlYXRlIGFuIGVmZmVjdCB0aGF0IGNhbiBiZSBhdHRhY2hlZCB0byBhIHRyYW5zYWN0aW9uIHRvIGNoYW5nZVxudGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb21wbGV0aW9uLlxuKi9cbmZ1bmN0aW9uIHNldFNlbGVjdGVkQ29tcGxldGlvbihpbmRleCkge1xuICAgIHJldHVybiBzZXRTZWxlY3RlZEVmZmVjdC5vZihpbmRleCk7XG59XG5cbmV4cG9ydCB7IENvbXBsZXRpb25Db250ZXh0LCBhY2NlcHRDb21wbGV0aW9uLCBhdXRvY29tcGxldGlvbiwgY2xlYXJTbmlwcGV0LCBjbG9zZUJyYWNrZXRzLCBjbG9zZUJyYWNrZXRzS2V5bWFwLCBjbG9zZUNvbXBsZXRpb24sIGNvbXBsZXRlQW55V29yZCwgY29tcGxldGVGcm9tTGlzdCwgY29tcGxldGlvbktleW1hcCwgY29tcGxldGlvblN0YXR1cywgY3VycmVudENvbXBsZXRpb25zLCBkZWxldGVCcmFja2V0UGFpciwgaWZJbiwgaWZOb3RJbiwgaW5zZXJ0QnJhY2tldCwgaW5zZXJ0Q29tcGxldGlvblRleHQsIG1vdmVDb21wbGV0aW9uU2VsZWN0aW9uLCBuZXh0U25pcHBldEZpZWxkLCBwaWNrZWRDb21wbGV0aW9uLCBwcmV2U25pcHBldEZpZWxkLCBzZWxlY3RlZENvbXBsZXRpb24sIHNlbGVjdGVkQ29tcGxldGlvbkluZGV4LCBzZXRTZWxlY3RlZENvbXBsZXRpb24sIHNuaXBwZXQsIHNuaXBwZXRDb21wbGV0aW9uLCBzbmlwcGV0S2V5bWFwLCBzdGFydENvbXBsZXRpb24gfTtcbiIsICJpbXBvcnQgeyBQYXJzZXIsIE5vZGVTZXQsIE5vZGVUeXBlLCBEZWZhdWx0QnVmZmVyTGVuZ3RoLCBOb2RlUHJvcCwgVHJlZSwgSXRlck1vZGUgfSBmcm9tICdAbGV6ZXIvY29tbW9uJztcblxuLy8vIEEgcGFyc2Ugc3RhY2suIFRoZXNlIGFyZSB1c2VkIGludGVybmFsbHkgYnkgdGhlIHBhcnNlciB0byB0cmFja1xuLy8vIHBhcnNpbmcgcHJvZ3Jlc3MuIFRoZXkgYWxzbyBwcm92aWRlIHNvbWUgcHJvcGVydGllcyBhbmQgbWV0aG9kc1xuLy8vIHRoYXQgZXh0ZXJuYWwgY29kZSBzdWNoIGFzIGEgdG9rZW5pemVyIGNhbiB1c2UgdG8gZ2V0IGluZm9ybWF0aW9uXG4vLy8gYWJvdXQgdGhlIHBhcnNlIHN0YXRlLlxuY2xhc3MgU3RhY2sge1xuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvLy8gVGhlIHBhcnNlIHRoYXQgdGhpcyBzdGFjayBpcyBwYXJ0IG9mIEBpbnRlcm5hbFxuICAgIHAsIFxuICAgIC8vLyBIb2xkcyBzdGF0ZSwgaW5wdXQgcG9zLCBidWZmZXIgaW5kZXggdHJpcGxldHMgZm9yIGFsbCBidXQgdGhlXG4gICAgLy8vIHRvcCBzdGF0ZSBAaW50ZXJuYWxcbiAgICBzdGFjaywgXG4gICAgLy8vIFRoZSBjdXJyZW50IHBhcnNlIHN0YXRlIEBpbnRlcm5hbFxuICAgIHN0YXRlLCBcbiAgICAvLyBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIG5leHQgcmVkdWNlIHNob3VsZCB0YWtlIHBsYWNlLiBUaGlzXG4gICAgLy8gY2FuIGJlIGxlc3MgdGhhbiBgdGhpcy5wb3NgIHdoZW4gc2tpcHBlZCBleHByZXNzaW9ucyBoYXZlIGJlZW5cbiAgICAvLyBhZGRlZCB0byB0aGUgc3RhY2sgKHdoaWNoIHNob3VsZCBiZSBtb3ZlZCBvdXRzaWRlIG9mIHRoZSBuZXh0XG4gICAgLy8gcmVkdWN0aW9uKVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICByZWR1Y2VQb3MsIFxuICAgIC8vLyBUaGUgaW5wdXQgcG9zaXRpb24gdXAgdG8gd2hpY2ggdGhpcyBzdGFjayBoYXMgcGFyc2VkLlxuICAgIHBvcywgXG4gICAgLy8vIFRoZSBkeW5hbWljIHNjb3JlIG9mIHRoZSBzdGFjaywgaW5jbHVkaW5nIGR5bmFtaWMgcHJlY2VkZW5jZVxuICAgIC8vLyBhbmQgZXJyb3ItcmVjb3ZlcnkgcGVuYWx0aWVzXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHNjb3JlLCBcbiAgICAvLyBUaGUgb3V0cHV0IGJ1ZmZlci4gSG9sZHMgKHR5cGUsIHN0YXJ0LCBlbmQsIHNpemUpIHF1YWRzXG4gICAgLy8gcmVwcmVzZW50aW5nIG5vZGVzIGNyZWF0ZWQgYnkgdGhlIHBhcnNlciwgd2hlcmUgYHNpemVgIGlzXG4gICAgLy8gYW1vdW50IG9mIGJ1ZmZlciBhcnJheSBlbnRyaWVzIGNvdmVyZWQgYnkgdGhpcyBub2RlLlxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBidWZmZXIsIFxuICAgIC8vIFRoZSBiYXNlIG9mZnNldCBvZiB0aGUgYnVmZmVyLiBXaGVuIHN0YWNrcyBhcmUgc3BsaXQsIHRoZSBzcGxpdFxuICAgIC8vIGluc3RhbmNlIHNoYXJlZCB0aGUgYnVmZmVyIGhpc3Rvcnkgd2l0aCBpdHMgcGFyZW50IHVwIHRvXG4gICAgLy8gYGJ1ZmZlckJhc2VgLCB3aGljaCBpcyB0aGUgYWJzb2x1dGUgb2Zmc2V0IChpbmNsdWRpbmcgdGhlXG4gICAgLy8gb2Zmc2V0IG9mIHByZXZpb3VzIHNwbGl0cykgaW50byB0aGUgYnVmZmVyIGF0IHdoaWNoIHRoaXMgc3RhY2tcbiAgICAvLyBzdGFydHMgd3JpdGluZy5cbiAgICAvLy8gQGludGVybmFsXG4gICAgYnVmZmVyQmFzZSwgXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGN1ckNvbnRleHQsIFxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBsb29rQWhlYWQgPSAwLCBcbiAgICAvLyBBIHBhcmVudCBzdGFjayBmcm9tIHdoaWNoIHRoaXMgd2FzIHNwbGl0IG9mZiwgaWYgYW55LiBUaGlzIGlzXG4gICAgLy8gc2V0IHVwIHNvIHRoYXQgaXQgYWx3YXlzIHBvaW50cyB0byBhIHN0YWNrIHRoYXQgaGFzIHNvbWVcbiAgICAvLyBhZGRpdGlvbmFsIGJ1ZmZlciBjb250ZW50LCBuZXZlciB0byBhIHN0YWNrIHdpdGggYW4gZXF1YWxcbiAgICAvLyBgYnVmZmVyQmFzZWAuXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHBhcmVudCkge1xuICAgICAgICB0aGlzLnAgPSBwO1xuICAgICAgICB0aGlzLnN0YWNrID0gc3RhY2s7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSByZWR1Y2VQb3M7XG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICB0aGlzLnNjb3JlID0gc2NvcmU7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLmJ1ZmZlckJhc2UgPSBidWZmZXJCYXNlO1xuICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBjdXJDb250ZXh0O1xuICAgICAgICB0aGlzLmxvb2tBaGVhZCA9IGxvb2tBaGVhZDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBbJHt0aGlzLnN0YWNrLmZpbHRlcigoXywgaSkgPT4gaSAlIDMgPT0gMCkuY29uY2F0KHRoaXMuc3RhdGUpfV1AJHt0aGlzLnBvc30ke3RoaXMuc2NvcmUgPyBcIiFcIiArIHRoaXMuc2NvcmUgOiBcIlwifWA7XG4gICAgfVxuICAgIC8vIFN0YXJ0IGFuIGVtcHR5IHN0YWNrXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHN0YXRpYyBzdGFydChwLCBzdGF0ZSwgcG9zID0gMCkge1xuICAgICAgICBsZXQgY3ggPSBwLnBhcnNlci5jb250ZXh0O1xuICAgICAgICByZXR1cm4gbmV3IFN0YWNrKHAsIFtdLCBzdGF0ZSwgcG9zLCBwb3MsIDAsIFtdLCAwLCBjeCA/IG5ldyBTdGFja0NvbnRleHQoY3gsIGN4LnN0YXJ0KSA6IG51bGwsIDAsIG51bGwpO1xuICAgIH1cbiAgICAvLy8gVGhlIHN0YWNrJ3MgY3VycmVudCBbY29udGV4dF0oI2xyLkNvbnRleHRUcmFja2VyKSB2YWx1ZSwgaWZcbiAgICAvLy8gYW55LiBJdHMgdHlwZSB3aWxsIGRlcGVuZCBvbiB0aGUgY29udGV4dCB0cmFja2VyJ3MgdHlwZVxuICAgIC8vLyBwYXJhbWV0ZXIsIG9yIGl0IHdpbGwgYmUgYG51bGxgIGlmIHRoZXJlIGlzIG5vIGNvbnRleHRcbiAgICAvLy8gdHJhY2tlci5cbiAgICBnZXQgY29udGV4dCgpIHsgcmV0dXJuIHRoaXMuY3VyQ29udGV4dCA/IHRoaXMuY3VyQ29udGV4dC5jb250ZXh0IDogbnVsbDsgfVxuICAgIC8vIFB1c2ggYSBzdGF0ZSBvbnRvIHRoZSBzdGFjaywgdHJhY2tpbmcgaXRzIHN0YXJ0IHBvc2l0aW9uIGFzIHdlbGxcbiAgICAvLyBhcyB0aGUgYnVmZmVyIGJhc2UgYXQgdGhhdCBwb2ludC5cbiAgICAvLy8gQGludGVybmFsXG4gICAgcHVzaFN0YXRlKHN0YXRlLCBzdGFydCkge1xuICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5zdGF0ZSwgc3RhcnQsIHRoaXMuYnVmZmVyQmFzZSArIHRoaXMuYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLy8gQXBwbHkgYSByZWR1Y2UgYWN0aW9uXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHJlZHVjZShhY3Rpb24pIHtcbiAgICAgICAgbGV0IGRlcHRoID0gYWN0aW9uID4+IDE5IC8qIFJlZHVjZURlcHRoU2hpZnQgKi8sIHR5cGUgPSBhY3Rpb24gJiA2NTUzNSAvKiBWYWx1ZU1hc2sgKi87XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICBsZXQgZFByZWMgPSBwYXJzZXIuZHluYW1pY1ByZWNlZGVuY2UodHlwZSk7XG4gICAgICAgIGlmIChkUHJlYylcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgKz0gZFByZWM7XG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShwYXJzZXIuZ2V0R290byh0aGlzLnN0YXRlLCB0eXBlLCB0cnVlKSwgdGhpcy5yZWR1Y2VQb3MpO1xuICAgICAgICAgICAgLy8gWmVyby1kZXB0aCByZWR1Y3Rpb25zIGFyZSBhIHNwZWNpYWwgY2FzZVx1MjAxNHRoZXkgYWRkIHN0dWZmIHRvXG4gICAgICAgICAgICAvLyB0aGUgc3RhY2sgd2l0aG91dCBwb3BwaW5nIGFueXRoaW5nIG9mZi5cbiAgICAgICAgICAgIGlmICh0eXBlIDwgcGFyc2VyLm1pblJlcGVhdFRlcm0pXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUodHlwZSwgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucmVkdWNlUG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVkdWNlQ29udGV4dCh0eXBlLCB0aGlzLnJlZHVjZVBvcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCB0aGUgYmFzZSBpbmRleCBpbnRvIGB0aGlzLnN0YWNrYCwgY29udGVudCBhZnRlciB3aGljaCB3aWxsXG4gICAgICAgIC8vIGJlIGRyb3BwZWQuIE5vdGUgdGhhdCB3aXRoIGBTdGF5RmxhZ2AgcmVkdWN0aW9ucyB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGNvbnN1bWUgdHdvIGV4dHJhIGZyYW1lcyAodGhlIGR1bW15IHBhcmVudCBub2RlIGZvciB0aGUgc2tpcHBlZFxuICAgICAgICAvLyBleHByZXNzaW9uIGFuZCB0aGUgc3RhdGUgdGhhdCB3ZSdsbCBiZSBzdGF5aW5nIGluLCB3aGljaCBzaG91bGRcbiAgICAgICAgLy8gYmUgbW92ZWQgdG8gYHRoaXMuc3RhdGVgKS5cbiAgICAgICAgbGV0IGJhc2UgPSB0aGlzLnN0YWNrLmxlbmd0aCAtICgoZGVwdGggLSAxKSAqIDMpIC0gKGFjdGlvbiAmIDI2MjE0NCAvKiBTdGF5RmxhZyAqLyA/IDYgOiAwKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zdGFja1tiYXNlIC0gMl07XG4gICAgICAgIGxldCBidWZmZXJCYXNlID0gdGhpcy5zdGFja1tiYXNlIC0gMV0sIGNvdW50ID0gdGhpcy5idWZmZXJCYXNlICsgdGhpcy5idWZmZXIubGVuZ3RoIC0gYnVmZmVyQmFzZTtcbiAgICAgICAgLy8gU3RvcmUgbm9ybWFsIHRlcm1zIG9yIGBSIC0+IFIgUmAgcmVwZWF0IHJlZHVjdGlvbnNcbiAgICAgICAgaWYgKHR5cGUgPCBwYXJzZXIubWluUmVwZWF0VGVybSB8fCAoYWN0aW9uICYgMTMxMDcyIC8qIFJlcGVhdEZsYWcgKi8pKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gcGFyc2VyLnN0YXRlRmxhZyh0aGlzLnN0YXRlLCAxIC8qIFNraXBwZWQgKi8pID8gdGhpcy5wb3MgOiB0aGlzLnJlZHVjZVBvcztcbiAgICAgICAgICAgIHRoaXMuc3RvcmVOb2RlKHR5cGUsIHN0YXJ0LCBwb3MsIGNvdW50ICsgNCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGlvbiAmIDI2MjE0NCAvKiBTdGF5RmxhZyAqLykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhY2tbYmFzZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYmFzZVN0YXRlSUQgPSB0aGlzLnN0YWNrW2Jhc2UgLSAzXTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBwYXJzZXIuZ2V0R290byhiYXNlU3RhdGVJRCwgdHlwZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuc3RhY2subGVuZ3RoID4gYmFzZSlcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgIHRoaXMucmVkdWNlQ29udGV4dCh0eXBlLCBzdGFydCk7XG4gICAgfVxuICAgIC8vIFNoaWZ0IGEgdmFsdWUgaW50byB0aGUgYnVmZmVyXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHN0b3JlTm9kZSh0ZXJtLCBzdGFydCwgZW5kLCBzaXplID0gNCwgaXNSZWR1Y2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAodGVybSA9PSAwIC8qIEVyciAqLyAmJlxuICAgICAgICAgICAgKCF0aGlzLnN0YWNrLmxlbmd0aCB8fCB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0gPCB0aGlzLmJ1ZmZlci5sZW5ndGggKyB0aGlzLmJ1ZmZlckJhc2UpKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gb21pdC9tZXJnZSBhZGphY2VudCBlcnJvciBub2Rlc1xuICAgICAgICAgICAgbGV0IGN1ciA9IHRoaXMsIHRvcCA9IHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmICh0b3AgPT0gMCAmJiBjdXIucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdG9wID0gY3VyLmJ1ZmZlckJhc2UgLSBjdXIucGFyZW50LmJ1ZmZlckJhc2U7XG4gICAgICAgICAgICAgICAgY3VyID0gY3VyLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3AgPiAwICYmIGN1ci5idWZmZXJbdG9wIC0gNF0gPT0gMCAvKiBFcnIgKi8gJiYgY3VyLmJ1ZmZlclt0b3AgLSAxXSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09IGVuZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChjdXIuYnVmZmVyW3RvcCAtIDJdID49IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ci5idWZmZXJbdG9wIC0gMl0gPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1JlZHVjZSB8fCB0aGlzLnBvcyA9PSBlbmQpIHsgLy8gU2ltcGxlIGNhc2UsIGp1c3QgYXBwZW5kXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHRlcm0sIHN0YXJ0LCBlbmQsIHNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBUaGVyZSBtYXkgYmUgc2tpcHBlZCBub2RlcyB0aGF0IGhhdmUgdG8gYmUgbW92ZWQgZm9yd2FyZFxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5idWZmZXIubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCAmJiB0aGlzLmJ1ZmZlcltpbmRleCAtIDRdICE9IDAgLyogRXJyICovKVxuICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleCA+IDAgJiYgdGhpcy5idWZmZXJbaW5kZXggLSAyXSA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoaXMgcmVjb3JkIGZvcndhcmRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXhdID0gdGhpcy5idWZmZXJbaW5kZXggLSA0XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAxXSA9IHRoaXMuYnVmZmVyW2luZGV4IC0gM107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4ICsgMl0gPSB0aGlzLmJ1ZmZlcltpbmRleCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDNdID0gdGhpcy5idWZmZXJbaW5kZXggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggLT0gNDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUgPiA0KVxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSAtPSA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyW2luZGV4XSA9IHRlcm07XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDFdID0gc3RhcnQ7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcltpbmRleCArIDJdID0gZW5kO1xuICAgICAgICAgICAgdGhpcy5idWZmZXJbaW5kZXggKyAzXSA9IHNpemU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXBwbHkgYSBzaGlmdCBhY3Rpb25cbiAgICAvLy8gQGludGVybmFsXG4gICAgc2hpZnQoYWN0aW9uLCBuZXh0LCBuZXh0RW5kKSB7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMucG9zO1xuICAgICAgICBpZiAoYWN0aW9uICYgMTMxMDcyIC8qIEdvdG9GbGFnICovKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShhY3Rpb24gJiA2NTUzNSAvKiBWYWx1ZU1hc2sgKi8sIHRoaXMucG9zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYWN0aW9uICYgMjYyMTQ0IC8qIFN0YXlGbGFnICovKSA9PSAwKSB7IC8vIFJlZ3VsYXIgc2hpZnRcbiAgICAgICAgICAgIGxldCBuZXh0U3RhdGUgPSBhY3Rpb24sIHsgcGFyc2VyIH0gPSB0aGlzLnA7XG4gICAgICAgICAgICBpZiAobmV4dEVuZCA+IHRoaXMucG9zIHx8IG5leHQgPD0gcGFyc2VyLm1heE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IG5leHRFbmQ7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZXIuc3RhdGVGbGFnKG5leHRTdGF0ZSwgMSAvKiBTa2lwcGVkICovKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSBuZXh0RW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUobmV4dFN0YXRlLCBzdGFydCk7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q29udGV4dChuZXh0LCBzdGFydCk7XG4gICAgICAgICAgICBpZiAobmV4dCA8PSBwYXJzZXIubWF4Tm9kZSlcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKG5leHQsIHN0YXJ0LCBuZXh0RW5kLCA0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLy8gU2hpZnQtYW5kLXN0YXksIHdoaWNoIG1lYW5zIHRoaXMgaXMgYSBza2lwcGVkIHRva2VuXG4gICAgICAgICAgICB0aGlzLnBvcyA9IG5leHRFbmQ7XG4gICAgICAgICAgICB0aGlzLnNoaWZ0Q29udGV4dChuZXh0LCBzdGFydCk7XG4gICAgICAgICAgICBpZiAobmV4dCA8PSB0aGlzLnAucGFyc2VyLm1heE5vZGUpXG4gICAgICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaChuZXh0LCBzdGFydCwgbmV4dEVuZCwgNCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXBwbHkgYW4gYWN0aW9uXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGFwcGx5KGFjdGlvbiwgbmV4dCwgbmV4dEVuZCkge1xuICAgICAgICBpZiAoYWN0aW9uICYgNjU1MzYgLyogUmVkdWNlRmxhZyAqLylcbiAgICAgICAgICAgIHRoaXMucmVkdWNlKGFjdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuc2hpZnQoYWN0aW9uLCBuZXh0LCBuZXh0RW5kKTtcbiAgICB9XG4gICAgLy8gQWRkIGEgcHJlYnVpbHQgKHJldXNlZCkgbm9kZSBpbnRvIHRoZSBidWZmZXIuXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHVzZU5vZGUodmFsdWUsIG5leHQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5wLnJldXNlZC5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMucC5yZXVzZWRbaW5kZXhdICE9IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnAucmV1c2VkLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBvcztcbiAgICAgICAgdGhpcy5yZWR1Y2VQb3MgPSB0aGlzLnBvcyA9IHN0YXJ0ICsgdmFsdWUubGVuZ3RoO1xuICAgICAgICB0aGlzLnB1c2hTdGF0ZShuZXh0LCBzdGFydCk7XG4gICAgICAgIHRoaXMuYnVmZmVyLnB1c2goaW5kZXgsIHN0YXJ0LCB0aGlzLnJlZHVjZVBvcywgLTEgLyogc2l6ZSA9PSAtMSBtZWFucyB0aGlzIGlzIGEgcmV1c2VkIHZhbHVlICovKTtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlci5yZXVzZSh0aGlzLmN1ckNvbnRleHQuY29udGV4dCwgdmFsdWUsIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQodGhpcy5wb3MgLSB2YWx1ZS5sZW5ndGgpKSk7XG4gICAgfVxuICAgIC8vIFNwbGl0IHRoZSBzdGFjay4gRHVlIHRvIHRoZSBidWZmZXIgc2hhcmluZyBhbmQgdGhlIGZhY3RcbiAgICAvLyB0aGF0IGB0aGlzLnN0YWNrYCB0ZW5kcyB0byBzdGF5IHF1aXRlIHNoYWxsb3csIHRoaXMgaXNuJ3QgdmVyeVxuICAgIC8vIGV4cGVuc2l2ZS5cbiAgICAvLy8gQGludGVybmFsXG4gICAgc3BsaXQoKSB7XG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgICAgICBsZXQgb2ZmID0gcGFyZW50LmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIHRvcCBvZiB0aGUgYnVmZmVyIChhZnRlciB0aGlzLnBvcykgbWF5IGJlIG11dGF0ZWRcbiAgICAgICAgLy8gdG8gcmVvcmRlciByZWR1Y3Rpb25zIGFuZCBza2lwcGVkIHRva2VucywgYW5kIHNoYXJlZCBidWZmZXJzXG4gICAgICAgIC8vIHNob3VsZCBiZSBpbW11dGFibGUsIHRoaXMgY29waWVzIGFueSBvdXRzdGFuZGluZyBza2lwcGVkIHRva2Vuc1xuICAgICAgICAvLyB0byB0aGUgbmV3IGJ1ZmZlciwgYW5kIHB1dHMgdGhlIGJhc2UgcG9pbnRlciBiZWZvcmUgdGhlbS5cbiAgICAgICAgd2hpbGUgKG9mZiA+IDAgJiYgcGFyZW50LmJ1ZmZlcltvZmYgLSAyXSA+IHBhcmVudC5yZWR1Y2VQb3MpXG4gICAgICAgICAgICBvZmYgLT0gNDtcbiAgICAgICAgbGV0IGJ1ZmZlciA9IHBhcmVudC5idWZmZXIuc2xpY2Uob2ZmKSwgYmFzZSA9IHBhcmVudC5idWZmZXJCYXNlICsgb2ZmO1xuICAgICAgICAvLyBNYWtlIHN1cmUgcGFyZW50IHBvaW50cyB0byBhbiBhY3R1YWwgcGFyZW50IHdpdGggY29udGVudCwgaWYgdGhlcmUgaXMgc3VjaCBhIHBhcmVudC5cbiAgICAgICAgd2hpbGUgKHBhcmVudCAmJiBiYXNlID09IHBhcmVudC5idWZmZXJCYXNlKVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFjayh0aGlzLnAsIHRoaXMuc3RhY2suc2xpY2UoKSwgdGhpcy5zdGF0ZSwgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucG9zLCB0aGlzLnNjb3JlLCBidWZmZXIsIGJhc2UsIHRoaXMuY3VyQ29udGV4dCwgdGhpcy5sb29rQWhlYWQsIHBhcmVudCk7XG4gICAgfVxuICAgIC8vIFRyeSB0byByZWNvdmVyIGZyb20gYW4gZXJyb3IgYnkgJ2RlbGV0aW5nJyAoaWdub3JpbmcpIG9uZSB0b2tlbi5cbiAgICAvLy8gQGludGVybmFsXG4gICAgcmVjb3ZlckJ5RGVsZXRlKG5leHQsIG5leHRFbmQpIHtcbiAgICAgICAgbGV0IGlzTm9kZSA9IG5leHQgPD0gdGhpcy5wLnBhcnNlci5tYXhOb2RlO1xuICAgICAgICBpZiAoaXNOb2RlKVxuICAgICAgICAgICAgdGhpcy5zdG9yZU5vZGUobmV4dCwgdGhpcy5wb3MsIG5leHRFbmQsIDQpO1xuICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIEVyciAqLywgdGhpcy5wb3MsIG5leHRFbmQsIGlzTm9kZSA/IDggOiA0KTtcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLnJlZHVjZVBvcyA9IG5leHRFbmQ7XG4gICAgICAgIHRoaXMuc2NvcmUgLT0gMTkwIC8qIERlbGV0ZSAqLztcbiAgICB9XG4gICAgLy8vIENoZWNrIGlmIHRoZSBnaXZlbiB0ZXJtIHdvdWxkIGJlIGFibGUgdG8gYmUgc2hpZnRlZCAob3B0aW9uYWxseVxuICAgIC8vLyBhZnRlciBzb21lIHJlZHVjdGlvbnMpIG9uIHRoaXMgc3RhY2suIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3JcbiAgICAvLy8gZXh0ZXJuYWwgdG9rZW5pemVycyB0aGF0IHdhbnQgdG8gbWFrZSBzdXJlIHRoZXkgb25seSBwcm92aWRlIGFcbiAgICAvLy8gZ2l2ZW4gdG9rZW4gd2hlbiBpdCBhcHBsaWVzLlxuICAgIGNhblNoaWZ0KHRlcm0pIHtcbiAgICAgICAgZm9yIChsZXQgc2ltID0gbmV3IFNpbXVsYXRlZFN0YWNrKHRoaXMpOzspIHtcbiAgICAgICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLnAucGFyc2VyLnN0YXRlU2xvdChzaW0uc3RhdGUsIDQgLyogRGVmYXVsdFJlZHVjZSAqLykgfHwgdGhpcy5wLnBhcnNlci5oYXNBY3Rpb24oc2ltLnN0YXRlLCB0ZXJtKTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoKGFjdGlvbiAmIDY1NTM2IC8qIFJlZHVjZUZsYWcgKi8pID09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBzaW0ucmVkdWNlKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQXBwbHkgdXAgdG8gUmVjb3Zlci5NYXhOZXh0IHJlY292ZXJ5IGFjdGlvbnMgdGhhdCBjb25jZXB0dWFsbHlcbiAgICAvLyBpbnNlcnRzIHNvbWUgbWlzc2luZyB0b2tlbiBvciBydWxlLlxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICByZWNvdmVyQnlJbnNlcnQobmV4dCkge1xuICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPj0gMzAwIC8qIE1heEluc2VydFN0YWNrRGVwdGggKi8pXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGxldCBuZXh0U3RhdGVzID0gdGhpcy5wLnBhcnNlci5uZXh0U3RhdGVzKHRoaXMuc3RhdGUpO1xuICAgICAgICBpZiAobmV4dFN0YXRlcy5sZW5ndGggPiA0IC8qIE1heE5leHQgKi8gPDwgMSB8fCB0aGlzLnN0YWNrLmxlbmd0aCA+PSAxMjAgLyogRGFtcGVuSW5zZXJ0U3RhY2tEZXB0aCAqLykge1xuICAgICAgICAgICAgbGV0IGJlc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBzOyBpIDwgbmV4dFN0YXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgIGlmICgocyA9IG5leHRTdGF0ZXNbaSArIDFdKSAhPSB0aGlzLnN0YXRlICYmIHRoaXMucC5wYXJzZXIuaGFzQWN0aW9uKHMsIG5leHQpKVxuICAgICAgICAgICAgICAgICAgICBiZXN0LnB1c2gobmV4dFN0YXRlc1tpXSwgcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPCAxMjAgLyogRGFtcGVuSW5zZXJ0U3RhY2tEZXB0aCAqLylcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgYmVzdC5sZW5ndGggPCA0IC8qIE1heE5leHQgKi8gPDwgMSAmJiBpIDwgbmV4dFN0YXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IG5leHRTdGF0ZXNbaSArIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWJlc3Quc29tZSgodiwgaSkgPT4gKGkgJiAxKSAmJiB2ID09IHMpKVxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdC5wdXNoKG5leHRTdGF0ZXNbaV0sIHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRTdGF0ZXMgPSBiZXN0O1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0U3RhdGVzLmxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgNCAvKiBNYXhOZXh0ICovOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGxldCBzID0gbmV4dFN0YXRlc1tpICsgMV07XG4gICAgICAgICAgICBpZiAocyA9PSB0aGlzLnN0YXRlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgbGV0IHN0YWNrID0gdGhpcy5zcGxpdCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaFN0YXRlKHMsIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHN0YWNrLnN0b3JlTm9kZSgwIC8qIEVyciAqLywgc3RhY2sucG9zLCBzdGFjay5wb3MsIDQsIHRydWUpO1xuICAgICAgICAgICAgc3RhY2suc2hpZnRDb250ZXh0KG5leHRTdGF0ZXNbaV0sIHRoaXMucG9zKTtcbiAgICAgICAgICAgIHN0YWNrLnNjb3JlIC09IDIwMCAvKiBJbnNlcnQgKi87XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gRm9yY2UgYSByZWR1Y2UsIGlmIHBvc3NpYmxlLiBSZXR1cm4gZmFsc2UgaWYgdGhhdCBjYW4ndFxuICAgIC8vIGJlIGRvbmUuXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGZvcmNlUmVkdWNlKCkge1xuICAgICAgICBsZXQgcmVkdWNlID0gdGhpcy5wLnBhcnNlci5zdGF0ZVNsb3QodGhpcy5zdGF0ZSwgNSAvKiBGb3JjZWRSZWR1Y2UgKi8pO1xuICAgICAgICBpZiAoKHJlZHVjZSAmIDY1NTM2IC8qIFJlZHVjZUZsYWcgKi8pID09IDApXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gdGhpcy5wO1xuICAgICAgICBpZiAoIXBhcnNlci52YWxpZEFjdGlvbih0aGlzLnN0YXRlLCByZWR1Y2UpKSB7XG4gICAgICAgICAgICBsZXQgZGVwdGggPSByZWR1Y2UgPj4gMTkgLyogUmVkdWNlRGVwdGhTaGlmdCAqLywgdGVybSA9IHJlZHVjZSAmIDY1NTM1IC8qIFZhbHVlTWFzayAqLztcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoICogMztcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPCAwIHx8IHBhcnNlci5nZXRHb3RvKHRoaXMuc3RhY2tbdGFyZ2V0XSwgdGVybSwgZmFsc2UpIDwgMClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIEVyciAqLywgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucmVkdWNlUG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgLT0gMTAwIC8qIFJlZHVjZSAqLztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlZHVjZVBvcyA9IHRoaXMucG9zO1xuICAgICAgICB0aGlzLnJlZHVjZShyZWR1Y2UpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGZvcmNlQWxsKCkge1xuICAgICAgICB3aGlsZSAoIXRoaXMucC5wYXJzZXIuc3RhdGVGbGFnKHRoaXMuc3RhdGUsIDIgLyogQWNjZXB0aW5nICovKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcmNlUmVkdWNlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlTm9kZSgwIC8qIEVyciAqLywgdGhpcy5wb3MsIHRoaXMucG9zLCA0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8vIENoZWNrIHdoZXRoZXIgdGhpcyBzdGF0ZSBoYXMgbm8gZnVydGhlciBhY3Rpb25zIChhc3N1bWVkIHRvIGJlIGEgZGlyZWN0IGRlc2NlbmRhbnQgb2YgdGhlXG4gICAgLy8vIHRvcCBzdGF0ZSwgc2luY2UgYW55IG90aGVyIHN0YXRlcyBtdXN0IGJlIGFibGUgdG8gY29udGludWVcbiAgICAvLy8gc29tZWhvdykuIEBpbnRlcm5hbFxuICAgIGdldCBkZWFkRW5kKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggIT0gMylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSB0aGlzLnA7XG4gICAgICAgIHJldHVybiBwYXJzZXIuZGF0YVtwYXJzZXIuc3RhdGVTbG90KHRoaXMuc3RhdGUsIDEgLyogQWN0aW9ucyAqLyldID09IDY1NTM1IC8qIEVuZCAqLyAmJlxuICAgICAgICAgICAgIXBhcnNlci5zdGF0ZVNsb3QodGhpcy5zdGF0ZSwgNCAvKiBEZWZhdWx0UmVkdWNlICovKTtcbiAgICB9XG4gICAgLy8vIFJlc3RhcnQgdGhlIHN0YWNrIChwdXQgaXQgYmFjayBpbiBpdHMgc3RhcnQgc3RhdGUpLiBPbmx5IHNhZmVcbiAgICAvLy8gd2hlbiB0aGlzLnN0YWNrLmxlbmd0aCA9PSAzIChzdGF0ZSBpcyBkaXJlY3RseSBiZWxvdyB0aGUgdG9wXG4gICAgLy8vIHN0YXRlKS4gQGludGVybmFsXG4gICAgcmVzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuc3RhY2tbMF07XG4gICAgICAgIHRoaXMuc3RhY2subGVuZ3RoID0gMDtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHNhbWVTdGF0ZShvdGhlcikge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPSBvdGhlci5zdGF0ZSB8fCB0aGlzLnN0YWNrLmxlbmd0aCAhPSBvdGhlci5zdGFjay5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGFjay5sZW5ndGg7IGkgKz0gMylcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YWNrW2ldICE9IG90aGVyLnN0YWNrW2ldKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vLyBHZXQgdGhlIHBhcnNlciB1c2VkIGJ5IHRoaXMgc3RhY2suXG4gICAgZ2V0IHBhcnNlcigpIHsgcmV0dXJuIHRoaXMucC5wYXJzZXI7IH1cbiAgICAvLy8gVGVzdCB3aGV0aGVyIGEgZ2l2ZW4gZGlhbGVjdCAoYnkgbnVtZXJpYyBJRCwgYXMgZXhwb3J0ZWQgZnJvbVxuICAgIC8vLyB0aGUgdGVybXMgZmlsZSkgaXMgZW5hYmxlZC5cbiAgICBkaWFsZWN0RW5hYmxlZChkaWFsZWN0SUQpIHsgcmV0dXJuIHRoaXMucC5wYXJzZXIuZGlhbGVjdC5mbGFnc1tkaWFsZWN0SURdOyB9XG4gICAgc2hpZnRDb250ZXh0KHRlcm0sIHN0YXJ0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1ckNvbnRleHQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRleHQodGhpcy5jdXJDb250ZXh0LnRyYWNrZXIuc2hpZnQodGhpcy5jdXJDb250ZXh0LmNvbnRleHQsIHRlcm0sIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQoc3RhcnQpKSk7XG4gICAgfVxuICAgIHJlZHVjZUNvbnRleHQodGVybSwgc3RhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VyQ29udGV4dClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlci5yZWR1Y2UodGhpcy5jdXJDb250ZXh0LmNvbnRleHQsIHRlcm0sIHRoaXMsIHRoaXMucC5zdHJlYW0ucmVzZXQoc3RhcnQpKSk7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBlbWl0Q29udGV4dCgpIHtcbiAgICAgICAgbGV0IGxhc3QgPSB0aGlzLmJ1ZmZlci5sZW5ndGggLSAxO1xuICAgICAgICBpZiAobGFzdCA8IDAgfHwgdGhpcy5idWZmZXJbbGFzdF0gIT0gLTMpXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHRoaXMuY3VyQ29udGV4dC5oYXNoLCB0aGlzLnJlZHVjZVBvcywgdGhpcy5yZWR1Y2VQb3MsIC0zKTtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGVtaXRMb29rQWhlYWQoKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5idWZmZXIubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGxhc3QgPCAwIHx8IHRoaXMuYnVmZmVyW2xhc3RdICE9IC00KVxuICAgICAgICAgICAgdGhpcy5idWZmZXIucHVzaCh0aGlzLmxvb2tBaGVhZCwgdGhpcy5yZWR1Y2VQb3MsIHRoaXMucmVkdWNlUG9zLCAtNCk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbnRleHQoY29udGV4dCkge1xuICAgICAgICBpZiAoY29udGV4dCAhPSB0aGlzLmN1ckNvbnRleHQuY29udGV4dCkge1xuICAgICAgICAgICAgbGV0IG5ld0N4ID0gbmV3IFN0YWNrQ29udGV4dCh0aGlzLmN1ckNvbnRleHQudHJhY2tlciwgY29udGV4dCk7XG4gICAgICAgICAgICBpZiAobmV3Q3guaGFzaCAhPSB0aGlzLmN1ckNvbnRleHQuaGFzaClcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRDb250ZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmN1ckNvbnRleHQgPSBuZXdDeDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgc2V0TG9va0FoZWFkKGxvb2tBaGVhZCkge1xuICAgICAgICBpZiAobG9va0FoZWFkID4gdGhpcy5sb29rQWhlYWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdExvb2tBaGVhZCgpO1xuICAgICAgICAgICAgdGhpcy5sb29rQWhlYWQgPSBsb29rQWhlYWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJDb250ZXh0ICYmIHRoaXMuY3VyQ29udGV4dC50cmFja2VyLnN0cmljdClcbiAgICAgICAgICAgIHRoaXMuZW1pdENvbnRleHQoKTtcbiAgICAgICAgaWYgKHRoaXMubG9va0FoZWFkID4gMClcbiAgICAgICAgICAgIHRoaXMuZW1pdExvb2tBaGVhZCgpO1xuICAgIH1cbn1cbmNsYXNzIFN0YWNrQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IodHJhY2tlciwgY29udGV4dCkge1xuICAgICAgICB0aGlzLnRyYWNrZXIgPSB0cmFja2VyO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmhhc2ggPSB0cmFja2VyLnN0cmljdCA/IHRyYWNrZXIuaGFzaChjb250ZXh0KSA6IDA7XG4gICAgfVxufVxudmFyIFJlY292ZXI7XG4oZnVuY3Rpb24gKFJlY292ZXIpIHtcbiAgICBSZWNvdmVyW1JlY292ZXJbXCJJbnNlcnRcIl0gPSAyMDBdID0gXCJJbnNlcnRcIjtcbiAgICBSZWNvdmVyW1JlY292ZXJbXCJEZWxldGVcIl0gPSAxOTBdID0gXCJEZWxldGVcIjtcbiAgICBSZWNvdmVyW1JlY292ZXJbXCJSZWR1Y2VcIl0gPSAxMDBdID0gXCJSZWR1Y2VcIjtcbiAgICBSZWNvdmVyW1JlY292ZXJbXCJNYXhOZXh0XCJdID0gNF0gPSBcIk1heE5leHRcIjtcbiAgICBSZWNvdmVyW1JlY292ZXJbXCJNYXhJbnNlcnRTdGFja0RlcHRoXCJdID0gMzAwXSA9IFwiTWF4SW5zZXJ0U3RhY2tEZXB0aFwiO1xuICAgIFJlY292ZXJbUmVjb3ZlcltcIkRhbXBlbkluc2VydFN0YWNrRGVwdGhcIl0gPSAxMjBdID0gXCJEYW1wZW5JbnNlcnRTdGFja0RlcHRoXCI7XG59KShSZWNvdmVyIHx8IChSZWNvdmVyID0ge30pKTtcbi8vIFVzZWQgdG8gY2hlYXBseSBydW4gc29tZSByZWR1Y3Rpb25zIHRvIHNjYW4gYWhlYWQgd2l0aG91dCBtdXRhdGluZ1xuLy8gYW4gZW50aXJlIHN0YWNrXG5jbGFzcyBTaW11bGF0ZWRTdGFjayB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnQpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhcnQuc3RhdGU7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFydC5zdGFjaztcbiAgICAgICAgdGhpcy5iYXNlID0gdGhpcy5zdGFjay5sZW5ndGg7XG4gICAgfVxuICAgIHJlZHVjZShhY3Rpb24pIHtcbiAgICAgICAgbGV0IHRlcm0gPSBhY3Rpb24gJiA2NTUzNSAvKiBWYWx1ZU1hc2sgKi8sIGRlcHRoID0gYWN0aW9uID4+IDE5IC8qIFJlZHVjZURlcHRoU2hpZnQgKi87XG4gICAgICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFjayA9PSB0aGlzLnN0YXJ0LnN0YWNrKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhY2sgPSB0aGlzLnN0YWNrLnNsaWNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5zdGF0ZSwgMCwgMCk7XG4gICAgICAgICAgICB0aGlzLmJhc2UgKz0gMztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZSAtPSAoZGVwdGggLSAxKSAqIDM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdvdG8gPSB0aGlzLnN0YXJ0LnAucGFyc2VyLmdldEdvdG8odGhpcy5zdGFja1t0aGlzLmJhc2UgLSAzXSwgdGVybSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBnb3RvO1xuICAgIH1cbn1cbi8vIFRoaXMgaXMgZ2l2ZW4gdG8gYFRyZWUuYnVpbGRgIHRvIGJ1aWxkIGEgYnVmZmVyLCBhbmQgZW5jYXBzdWxhdGVzXG4vLyB0aGUgcGFyZW50LXN0YWNrLXdhbGtpbmcgbmVjZXNzYXJ5IHRvIHJlYWQgdGhlIG5vZGVzLlxuY2xhc3MgU3RhY2tCdWZmZXJDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YWNrLCBwb3MsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBzdGFjay5idWZmZXI7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApXG4gICAgICAgICAgICB0aGlzLm1heWJlTmV4dCgpO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHN0YWNrLCBwb3MgPSBzdGFjay5idWZmZXJCYXNlICsgc3RhY2suYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0YWNrQnVmZmVyQ3Vyc29yKHN0YWNrLCBwb3MsIHBvcyAtIHN0YWNrLmJ1ZmZlckJhc2UpO1xuICAgIH1cbiAgICBtYXliZU5leHQoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5zdGFjay5wYXJlbnQ7XG4gICAgICAgIGlmIChuZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLnN0YWNrLmJ1ZmZlckJhc2UgLSBuZXh0LmJ1ZmZlckJhc2U7XG4gICAgICAgICAgICB0aGlzLnN0YWNrID0gbmV4dDtcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gbmV4dC5idWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGlkKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDRdOyB9XG4gICAgZ2V0IHN0YXJ0KCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDNdOyB9XG4gICAgZ2V0IGVuZCgpIHsgcmV0dXJuIHRoaXMuYnVmZmVyW3RoaXMuaW5kZXggLSAyXTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5pbmRleCAtIDFdOyB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgdGhpcy5pbmRleCAtPSA0O1xuICAgICAgICB0aGlzLnBvcyAtPSA0O1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PSAwKVxuICAgICAgICAgICAgdGhpcy5tYXliZU5leHQoKTtcbiAgICB9XG4gICAgZm9yaygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGFja0J1ZmZlckN1cnNvcih0aGlzLnN0YWNrLCB0aGlzLnBvcywgdGhpcy5pbmRleCk7XG4gICAgfVxufVxuXG5jbGFzcyBDYWNoZWRUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAtMTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IC0xO1xuICAgICAgICB0aGlzLmVuZCA9IC0xO1xuICAgICAgICB0aGlzLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIHRoaXMubG9va0FoZWFkID0gMDtcbiAgICAgICAgdGhpcy5tYXNrID0gMDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gMDtcbiAgICB9XG59XG5jb25zdCBudWxsVG9rZW4gPSBuZXcgQ2FjaGVkVG9rZW47XG4vLy8gW1Rva2VuaXplcnNdKCNsci5FeHRlcm5hbFRva2VuaXplcikgaW50ZXJhY3Qgd2l0aCB0aGUgaW5wdXRcbi8vLyB0aHJvdWdoIHRoaXMgaW50ZXJmYWNlLiBJdCBwcmVzZW50cyB0aGUgaW5wdXQgYXMgYSBzdHJlYW0gb2Zcbi8vLyBjaGFyYWN0ZXJzLCB0cmFja2luZyBsb29rYWhlYWQgYW5kIGhpZGluZyB0aGUgY29tcGxleGl0eSBvZlxuLy8vIFtyYW5nZXNdKCNjb21tb24uUGFyc2VyLnBhcnNlXnJhbmdlcykgZnJvbSB0b2tlbml6ZXIgY29kZS5cbmNsYXNzIElucHV0U3RyZWFtIHtcbiAgICAvLy8gQGludGVybmFsXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGlucHV0LCBcbiAgICAvLy8gQGludGVybmFsXG4gICAgcmFuZ2VzKSB7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5jaHVuayA9IFwiXCI7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy5jaHVua09mZiA9IDA7XG4gICAgICAgIC8vLyBCYWNrdXAgY2h1bmtcbiAgICAgICAgdGhpcy5jaHVuazIgPSBcIlwiO1xuICAgICAgICB0aGlzLmNodW5rMlBvcyA9IDA7XG4gICAgICAgIC8vLyBUaGUgY2hhcmFjdGVyIGNvZGUgb2YgdGhlIG5leHQgY29kZSB1bml0IGluIHRoZSBpbnB1dCwgb3IgLTFcbiAgICAgICAgLy8vIHdoZW4gdGhlIHN0cmVhbSBpcyBhdCB0aGUgZW5kIG9mIHRoZSBpbnB1dC5cbiAgICAgICAgdGhpcy5uZXh0ID0gLTE7XG4gICAgICAgIC8vLyBAaW50ZXJuYWxcbiAgICAgICAgdGhpcy50b2tlbiA9IG51bGxUb2tlbjtcbiAgICAgICAgdGhpcy5yYW5nZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmNodW5rUG9zID0gcmFuZ2VzWzBdLmZyb207XG4gICAgICAgIHRoaXMucmFuZ2UgPSByYW5nZXNbMF07XG4gICAgICAgIHRoaXMuZW5kID0gcmFuZ2VzW3Jhbmdlcy5sZW5ndGggLSAxXS50bztcbiAgICAgICAgdGhpcy5yZWFkTmV4dCgpO1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgcmVzb2x2ZU9mZnNldChvZmZzZXQsIGFzc29jKSB7XG4gICAgICAgIGxldCByYW5nZSA9IHRoaXMucmFuZ2UsIGluZGV4ID0gdGhpcy5yYW5nZUluZGV4O1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5wb3MgKyBvZmZzZXQ7XG4gICAgICAgIHdoaWxlIChwb3MgPCByYW5nZS5mcm9tKSB7XG4gICAgICAgICAgICBpZiAoIWluZGV4KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLnJhbmdlc1stLWluZGV4XTtcbiAgICAgICAgICAgIHBvcyAtPSByYW5nZS5mcm9tIC0gbmV4dC50bztcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXNzb2MgPCAwID8gcG9zID4gcmFuZ2UudG8gOiBwb3MgPj0gcmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLnJhbmdlc1srK2luZGV4XTtcbiAgICAgICAgICAgIHBvcyArPSBuZXh0LmZyb20gLSByYW5nZS50bztcbiAgICAgICAgICAgIHJhbmdlID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgY2xpcFBvcyhwb3MpIHtcbiAgICAgICAgaWYgKHBvcyA+PSB0aGlzLnJhbmdlLmZyb20gJiYgcG9zIDwgdGhpcy5yYW5nZS50bylcbiAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgIGZvciAobGV0IHJhbmdlIG9mIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgaWYgKHJhbmdlLnRvID4gcG9zKVxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChwb3MsIHJhbmdlLmZyb20pO1xuICAgICAgICByZXR1cm4gdGhpcy5lbmQ7XG4gICAgfVxuICAgIC8vLyBMb29rIGF0IGEgY29kZSB1bml0IG5lYXIgdGhlIHN0cmVhbSBwb3NpdGlvbi4gYC5wZWVrKDApYCBlcXVhbHNcbiAgICAvLy8gYC5uZXh0YCwgYC5wZWVrKC0xKWAgZ2l2ZXMgeW91IHRoZSBwcmV2aW91cyBjaGFyYWN0ZXIsIGFuZCBzb1xuICAgIC8vLyBvbi5cbiAgICAvLy9cbiAgICAvLy8gTm90ZSB0aGF0IGxvb2tpbmcgYXJvdW5kIGR1cmluZyB0b2tlbml6aW5nIGNyZWF0ZXMgZGVwZW5kZW5jaWVzXG4gICAgLy8vIG9uIHBvdGVudGlhbGx5IGZhci1hd2F5IGNvbnRlbnQsIHdoaWNoIG1heSByZWR1Y2UgdGhlXG4gICAgLy8vIGVmZmVjdGl2ZW5lc3MgaW5jcmVtZW50YWwgcGFyc2luZ1x1MjAxNHdoZW4gbG9va2luZyBmb3J3YXJkXHUyMDE0b3IgZXZlblxuICAgIC8vLyBjYXVzZSBpbnZhbGlkIHJlcGFyc2VzIHdoZW4gbG9va2luZyBiYWNrd2FyZCBtb3JlIHRoYW4gMjUgY29kZVxuICAgIC8vLyB1bml0cywgc2luY2UgdGhlIGxpYnJhcnkgZG9lcyBub3QgdHJhY2sgbG9va2JlaGluZC5cbiAgICBwZWVrKG9mZnNldCkge1xuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jaHVua09mZiArIG9mZnNldCwgcG9zLCByZXN1bHQ7XG4gICAgICAgIGlmIChpZHggPj0gMCAmJiBpZHggPCB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgcG9zID0gdGhpcy5wb3MgKyBvZmZzZXQ7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNodW5rLmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCByZXNvbHZlZCA9IHRoaXMucmVzb2x2ZU9mZnNldChvZmZzZXQsIDEpO1xuICAgICAgICAgICAgaWYgKHJlc29sdmVkID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgcG9zID0gcmVzb2x2ZWQ7XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmsyUG9zICYmIHBvcyA8IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdChwb3MgLSB0aGlzLmNodW5rMlBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHRoaXMucmFuZ2VJbmRleCwgcmFuZ2UgPSB0aGlzLnJhbmdlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChyYW5nZS50byA8PSBwb3MpXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5yYW5nZXNbKytpXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rMiA9IHRoaXMuaW5wdXQuY2h1bmsodGhpcy5jaHVuazJQb3MgPSBwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChwb3MgKyB0aGlzLmNodW5rMi5sZW5ndGggPiByYW5nZS50bylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHVuazIgPSB0aGlzLmNodW5rMi5zbGljZSgwLCByYW5nZS50byAtIHBvcyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jaHVuazIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zID49IHRoaXMudG9rZW4ubG9va0FoZWFkKVxuICAgICAgICAgICAgdGhpcy50b2tlbi5sb29rQWhlYWQgPSBwb3MgKyAxO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLy8gQWNjZXB0IGEgdG9rZW4uIEJ5IGRlZmF1bHQsIHRoZSBlbmQgb2YgdGhlIHRva2VuIGlzIHNldCB0byB0aGVcbiAgICAvLy8gY3VycmVudCBzdHJlYW0gcG9zaXRpb24sIGJ1dCB5b3UgY2FuIHBhc3MgYW4gb2Zmc2V0IChyZWxhdGl2ZSB0b1xuICAgIC8vLyB0aGUgc3RyZWFtIHBvc2l0aW9uKSB0byBjaGFuZ2UgdGhhdC5cbiAgICBhY2NlcHRUb2tlbih0b2tlbiwgZW5kT2Zmc2V0ID0gMCkge1xuICAgICAgICBsZXQgZW5kID0gZW5kT2Zmc2V0ID8gdGhpcy5yZXNvbHZlT2Zmc2V0KGVuZE9mZnNldCwgLTEpIDogdGhpcy5wb3M7XG4gICAgICAgIGlmIChlbmQgPT0gbnVsbCB8fCBlbmQgPCB0aGlzLnRva2VuLnN0YXJ0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUb2tlbiBlbmQgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgdGhpcy50b2tlbi52YWx1ZSA9IHRva2VuO1xuICAgICAgICB0aGlzLnRva2VuLmVuZCA9IGVuZDtcbiAgICB9XG4gICAgZ2V0Q2h1bmsoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmNodW5rMlBvcyAmJiB0aGlzLnBvcyA8IHRoaXMuY2h1bmsyUG9zICsgdGhpcy5jaHVuazIubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgeyBjaHVuaywgY2h1bmtQb3MgfSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmNodW5rID0gdGhpcy5jaHVuazI7XG4gICAgICAgICAgICB0aGlzLmNodW5rUG9zID0gdGhpcy5jaHVuazJQb3M7XG4gICAgICAgICAgICB0aGlzLmNodW5rMiA9IGNodW5rO1xuICAgICAgICAgICAgdGhpcy5jaHVuazJQb3MgPSBjaHVua1BvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtPZmYgPSB0aGlzLnBvcyAtIHRoaXMuY2h1bmtQb3M7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNodW5rMiA9IHRoaXMuY2h1bms7XG4gICAgICAgICAgICB0aGlzLmNodW5rMlBvcyA9IHRoaXMuY2h1bmtQb3M7XG4gICAgICAgICAgICBsZXQgbmV4dENodW5rID0gdGhpcy5pbnB1dC5jaHVuayh0aGlzLnBvcyk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wb3MgKyBuZXh0Q2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5jaHVuayA9IGVuZCA+IHRoaXMucmFuZ2UudG8gPyBuZXh0Q2h1bmsuc2xpY2UoMCwgdGhpcy5yYW5nZS50byAtIHRoaXMucG9zKSA6IG5leHRDaHVuaztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtQb3MgPSB0aGlzLnBvcztcbiAgICAgICAgICAgIHRoaXMuY2h1bmtPZmYgPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlYWROZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5jaHVua09mZiA+PSB0aGlzLmNodW5rLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5nZXRDaHVuaygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2h1bmtPZmYgPT0gdGhpcy5jaHVuay5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQgPSB0aGlzLmNodW5rLmNoYXJDb2RlQXQodGhpcy5jaHVua09mZik7XG4gICAgfVxuICAgIC8vLyBNb3ZlIHRoZSBzdHJlYW0gZm9yd2FyZCBOIChkZWZhdWx0cyB0byAxKSBjb2RlIHVuaXRzLiBSZXR1cm5zXG4gICAgLy8vIHRoZSBuZXcgdmFsdWUgb2YgW2BuZXh0YF0oI2xyLklucHV0U3RyZWFtLm5leHQpLlxuICAgIGFkdmFuY2UobiA9IDEpIHtcbiAgICAgICAgdGhpcy5jaHVua09mZiArPSBuO1xuICAgICAgICB3aGlsZSAodGhpcy5wb3MgKyBuID49IHRoaXMucmFuZ2UudG8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlSW5kZXggPT0gdGhpcy5yYW5nZXMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXREb25lKCk7XG4gICAgICAgICAgICBuIC09IHRoaXMucmFuZ2UudG8gLSB0aGlzLnBvcztcbiAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMucmFuZ2UuZnJvbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcyArPSBuO1xuICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy50b2tlbi5sb29rQWhlYWQpXG4gICAgICAgICAgICB0aGlzLnRva2VuLmxvb2tBaGVhZCA9IHRoaXMucG9zICsgMTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZE5leHQoKTtcbiAgICB9XG4gICAgc2V0RG9uZSgpIHtcbiAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmNodW5rUG9zID0gdGhpcy5lbmQ7XG4gICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1t0aGlzLnJhbmdlSW5kZXggPSB0aGlzLnJhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdGhpcy5jaHVuayA9IFwiXCI7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQgPSAtMTtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHJlc2V0KHBvcywgdG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgICAgICB0b2tlbi5zdGFydCA9IHBvcztcbiAgICAgICAgICAgIHRva2VuLmxvb2tBaGVhZCA9IHBvcyArIDE7XG4gICAgICAgICAgICB0b2tlbi52YWx1ZSA9IHRva2VuLmV4dGVuZGVkID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gbnVsbFRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyAhPSBwb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gcG9zO1xuICAgICAgICAgICAgaWYgKHBvcyA9PSB0aGlzLmVuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RG9uZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IHRoaXMucmFuZ2UuZnJvbSlcbiAgICAgICAgICAgICAgICB0aGlzLnJhbmdlID0gdGhpcy5yYW5nZXNbLS10aGlzLnJhbmdlSW5kZXhdO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA+PSB0aGlzLnJhbmdlLnRvKVxuICAgICAgICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnJhbmdlc1srK3RoaXMucmFuZ2VJbmRleF07XG4gICAgICAgICAgICBpZiAocG9zID49IHRoaXMuY2h1bmtQb3MgJiYgcG9zIDwgdGhpcy5jaHVua1BvcyArIHRoaXMuY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHVua09mZiA9IHBvcyAtIHRoaXMuY2h1bmtQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rID0gXCJcIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rT2ZmID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVhZE5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHJlYWQoZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPj0gdGhpcy5jaHVua1BvcyAmJiB0byA8PSB0aGlzLmNodW5rUG9zICsgdGhpcy5jaHVuay5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaHVuay5zbGljZShmcm9tIC0gdGhpcy5jaHVua1BvcywgdG8gLSB0aGlzLmNodW5rUG9zKTtcbiAgICAgICAgaWYgKGZyb20gPj0gdGhpcy5jaHVuazJQb3MgJiYgdG8gPD0gdGhpcy5jaHVuazJQb3MgKyB0aGlzLmNodW5rMi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaHVuazIuc2xpY2UoZnJvbSAtIHRoaXMuY2h1bmsyUG9zLCB0byAtIHRoaXMuY2h1bmsyUG9zKTtcbiAgICAgICAgaWYgKGZyb20gPj0gdGhpcy5yYW5nZS5mcm9tICYmIHRvIDw9IHRoaXMucmFuZ2UudG8pXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5yZWFkKGZyb20sIHRvKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IHIgb2YgdGhpcy5yYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChyLmZyb20gPj0gdG8pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoci50byA+IGZyb20pXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuaW5wdXQucmVhZChNYXRoLm1heChyLmZyb20sIGZyb20pLCBNYXRoLm1pbihyLnRvLCB0bykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLy8vIEBpbnRlcm5hbFxuY2xhc3MgVG9rZW5Hcm91cCB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgaWQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICB0b2tlbihpbnB1dCwgc3RhY2spIHsgcmVhZFRva2VuKHRoaXMuZGF0YSwgaW5wdXQsIHN0YWNrLCB0aGlzLmlkKTsgfVxufVxuVG9rZW5Hcm91cC5wcm90b3R5cGUuY29udGV4dHVhbCA9IFRva2VuR3JvdXAucHJvdG90eXBlLmZhbGxiYWNrID0gVG9rZW5Hcm91cC5wcm90b3R5cGUuZXh0ZW5kID0gZmFsc2U7XG4vLy8gYEBleHRlcm5hbCB0b2tlbnNgIGRlY2xhcmF0aW9ucyBpbiB0aGUgZ3JhbW1hciBzaG91bGQgcmVzb2x2ZSB0b1xuLy8vIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuXG5jbGFzcyBFeHRlcm5hbFRva2VuaXplciB7XG4gICAgLy8vIENyZWF0ZSBhIHRva2VuaXplci4gVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBmdW5jdGlvbiB0aGF0LFxuICAgIC8vLyBnaXZlbiBhbiBpbnB1dCBzdHJlYW0sIHNjYW5zIGZvciB0aGUgdHlwZXMgb2YgdG9rZW5zIGl0XG4gICAgLy8vIHJlY29nbml6ZXMgYXQgdGhlIHN0cmVhbSdzIHBvc2l0aW9uLCBhbmQgY2FsbHNcbiAgICAvLy8gW2BhY2NlcHRUb2tlbmBdKCNsci5JbnB1dFN0cmVhbS5hY2NlcHRUb2tlbikgd2hlbiBpdCBmaW5kc1xuICAgIC8vLyBvbmUuXG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHRva2VuLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmNvbnRleHR1YWwgPSAhIW9wdGlvbnMuY29udGV4dHVhbDtcbiAgICAgICAgdGhpcy5mYWxsYmFjayA9ICEhb3B0aW9ucy5mYWxsYmFjaztcbiAgICAgICAgdGhpcy5leHRlbmQgPSAhIW9wdGlvbnMuZXh0ZW5kO1xuICAgIH1cbn1cbi8vIFRva2VuaXplciBkYXRhIGlzIHN0b3JlZCBhIGJpZyB1aW50MTYgYXJyYXkgY29udGFpbmluZywgZm9yIGVhY2hcbi8vIHN0YXRlOlxuLy9cbi8vICAtIEEgZ3JvdXAgYml0bWFzaywgaW5kaWNhdGluZyB3aGF0IHRva2VuIGdyb3VwcyBhcmUgcmVhY2hhYmxlIGZyb21cbi8vICAgIHRoaXMgc3RhdGUsIHNvIHRoYXQgcGF0aHMgdGhhdCBjYW4gb25seSBsZWFkIHRvIHRva2VucyBub3QgaW5cbi8vICAgIGFueSBvZiB0aGUgY3VycmVudCBncm91cHMgY2FuIGJlIGN1dCBvZmYgZWFybHkuXG4vL1xuLy8gIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBlbmQgb2YgdGhlIHN0YXRlJ3Mgc2VxdWVuY2Ugb2YgYWNjZXB0aW5nXG4vLyAgICB0b2tlbnNcbi8vXG4vLyAgLSBUaGUgbnVtYmVyIG9mIG91dGdvaW5nIGVkZ2VzIGZvciB0aGUgc3RhdGVcbi8vXG4vLyAgLSBUaGUgYWNjZXB0aW5nIHRva2VucywgYXMgKHRva2VuIGlkLCBncm91cCBtYXNrKSBwYWlyc1xuLy9cbi8vICAtIFRoZSBvdXRnb2luZyBlZGdlcywgYXMgKHN0YXJ0IGNoYXJhY3RlciwgZW5kIGNoYXJhY3Rlciwgc3RhdGVcbi8vICAgIGluZGV4KSB0cmlwbGVzLCB3aXRoIGVuZCBjaGFyYWN0ZXIgYmVpbmcgZXhjbHVzaXZlXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBpbnRlcnByZXRzIHRoYXQgZGF0YSwgcnVubmluZyB0aHJvdWdoIGEgc3RyZWFtIGFzXG4vLyBsb25nIGFzIG5ldyBzdGF0ZXMgd2l0aCB0aGUgYSBtYXRjaGluZyBncm91cCBtYXNrIGNhbiBiZSByZWFjaGVkLFxuLy8gYW5kIHVwZGF0aW5nIGBpbnB1dC50b2tlbmAgd2hlbiBpdCBtYXRjaGVzIGEgdG9rZW4uXG5mdW5jdGlvbiByZWFkVG9rZW4oZGF0YSwgaW5wdXQsIHN0YWNrLCBncm91cCkge1xuICAgIGxldCBzdGF0ZSA9IDAsIGdyb3VwTWFzayA9IDEgPDwgZ3JvdXAsIHsgcGFyc2VyIH0gPSBzdGFjay5wLCB7IGRpYWxlY3QgfSA9IHBhcnNlcjtcbiAgICBzY2FuOiBmb3IgKDs7KSB7XG4gICAgICAgIGlmICgoZ3JvdXBNYXNrICYgZGF0YVtzdGF0ZV0pID09IDApXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgbGV0IGFjY0VuZCA9IGRhdGFbc3RhdGUgKyAxXTtcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGlzIHN0YXRlIGNhbiBsZWFkIHRvIGEgdG9rZW4gaW4gdGhlIGN1cnJlbnQgZ3JvdXBcbiAgICAgICAgLy8gQWNjZXB0IHRva2VucyBpbiB0aGlzIHN0YXRlLCBwb3NzaWJseSBvdmVyd3JpdGluZ1xuICAgICAgICAvLyBsb3dlci1wcmVjZWRlbmNlIC8gc2hvcnRlciB0b2tlbnNcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXRlICsgMzsgaSA8IGFjY0VuZDsgaSArPSAyKVxuICAgICAgICAgICAgaWYgKChkYXRhW2kgKyAxXSAmIGdyb3VwTWFzaykgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlcm0gPSBkYXRhW2ldO1xuICAgICAgICAgICAgICAgIGlmIChkaWFsZWN0LmFsbG93cyh0ZXJtKSAmJlxuICAgICAgICAgICAgICAgICAgICAoaW5wdXQudG9rZW4udmFsdWUgPT0gLTEgfHwgaW5wdXQudG9rZW4udmFsdWUgPT0gdGVybSB8fCBwYXJzZXIub3ZlcnJpZGVzKHRlcm0sIGlucHV0LnRva2VuLnZhbHVlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4odGVybSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgbGV0IG5leHQgPSBpbnB1dC5uZXh0LCBsb3cgPSAwLCBoaWdoID0gZGF0YVtzdGF0ZSArIDJdO1xuICAgICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIEVPRlxuICAgICAgICBpZiAoaW5wdXQubmV4dCA8IDAgJiYgaGlnaCA+IGxvdyAmJiBkYXRhW2FjY0VuZCArIGhpZ2ggKiAzIC0gM10gPT0gNjU1MzUgLyogRW5kICovICYmIGRhdGFbYWNjRW5kICsgaGlnaCAqIDMgLSAzXSA9PSA2NTUzNSAvKiBFbmQgKi8pIHtcbiAgICAgICAgICAgIHN0YXRlID0gZGF0YVthY2NFbmQgKyBoaWdoICogMyAtIDFdO1xuICAgICAgICAgICAgY29udGludWUgc2NhbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyBhIGJpbmFyeSBzZWFyY2ggb24gdGhlIHN0YXRlJ3MgZWRnZXNcbiAgICAgICAgZm9yICg7IGxvdyA8IGhpZ2g7KSB7XG4gICAgICAgICAgICBsZXQgbWlkID0gKGxvdyArIGhpZ2gpID4+IDE7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBhY2NFbmQgKyBtaWQgKyAobWlkIDw8IDEpO1xuICAgICAgICAgICAgbGV0IGZyb20gPSBkYXRhW2luZGV4XSwgdG8gPSBkYXRhW2luZGV4ICsgMV0gfHwgMHgxMDAwMDtcbiAgICAgICAgICAgIGlmIChuZXh0IDwgZnJvbSlcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA+PSB0bylcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBkYXRhW2luZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIHNjYW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuXG4vLyBTZWUgbGV6ZXItZ2VuZXJhdG9yL3NyYy9lbmNvZGUudHMgZm9yIGNvbW1lbnRzIGFib3V0IHRoZSBlbmNvZGluZ1xuLy8gdXNlZCBoZXJlXG5mdW5jdGlvbiBkZWNvZGVBcnJheShpbnB1dCwgVHlwZSA9IFVpbnQxNkFycmF5KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgbGV0IGFycmF5ID0gbnVsbDtcbiAgICBmb3IgKGxldCBwb3MgPSAwLCBvdXQgPSAwOyBwb3MgPCBpbnB1dC5sZW5ndGg7KSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gaW5wdXQuY2hhckNvZGVBdChwb3MrKyksIHN0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChuZXh0ID09IDEyNiAvKiBCaWdWYWxDb2RlICovKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSA2NTUzNSAvKiBCaWdWYWwgKi87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCA+PSA5MiAvKiBHYXAyICovKVxuICAgICAgICAgICAgICAgIG5leHQtLTtcbiAgICAgICAgICAgIGlmIChuZXh0ID49IDM0IC8qIEdhcDEgKi8pXG4gICAgICAgICAgICAgICAgbmV4dC0tO1xuICAgICAgICAgICAgbGV0IGRpZ2l0ID0gbmV4dCAtIDMyIC8qIFN0YXJ0ICovO1xuICAgICAgICAgICAgaWYgKGRpZ2l0ID49IDQ2IC8qIEJhc2UgKi8pIHtcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA0NiAvKiBCYXNlICovO1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgKz0gZGlnaXQ7XG4gICAgICAgICAgICBpZiAoc3RvcClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHZhbHVlICo9IDQ2IC8qIEJhc2UgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFycmF5KVxuICAgICAgICAgICAgYXJyYXlbb3V0KytdID0gdmFsdWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFycmF5ID0gbmV3IFR5cGUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbi8vIEVudmlyb25tZW50IHZhcmlhYmxlIHVzZWQgdG8gY29udHJvbCBjb25zb2xlIG91dHB1dFxuY29uc3QgdmVyYm9zZSA9IHR5cGVvZiBwcm9jZXNzICE9IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy5lbnYgJiYgL1xcYnBhcnNlXFxiLy50ZXN0KHByb2Nlc3MuZW52LkxPRyk7XG5sZXQgc3RhY2tJRHMgPSBudWxsO1xudmFyIFNhZmV0eTtcbihmdW5jdGlvbiAoU2FmZXR5KSB7XG4gICAgU2FmZXR5W1NhZmV0eVtcIk1hcmdpblwiXSA9IDI1XSA9IFwiTWFyZ2luXCI7XG59KShTYWZldHkgfHwgKFNhZmV0eSA9IHt9KSk7XG5mdW5jdGlvbiBjdXRBdCh0cmVlLCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgY3Vyc29yID0gdHJlZS5jdXJzb3IoSXRlck1vZGUuSW5jbHVkZUFub255bW91cyk7XG4gICAgY3Vyc29yLm1vdmVUbyhwb3MpO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKCEoc2lkZSA8IDAgPyBjdXJzb3IuY2hpbGRCZWZvcmUocG9zKSA6IGN1cnNvci5jaGlsZEFmdGVyKHBvcykpKVxuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGlmICgoc2lkZSA8IDAgPyBjdXJzb3IudG8gPCBwb3MgOiBjdXJzb3IuZnJvbSA+IHBvcykgJiYgIWN1cnNvci50eXBlLmlzRXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWRlIDwgMCA/IE1hdGgubWF4KDAsIE1hdGgubWluKGN1cnNvci50byAtIDEsIHBvcyAtIDI1IC8qIE1hcmdpbiAqLykpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE1hdGgubWluKHRyZWUubGVuZ3RoLCBNYXRoLm1heChjdXJzb3IuZnJvbSArIDEsIHBvcyArIDI1IC8qIE1hcmdpbiAqLykpO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlIDwgMCA/IGN1cnNvci5wcmV2U2libGluZygpIDogY3Vyc29yLm5leHRTaWJsaW5nKCkpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yLnBhcmVudCgpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lkZSA8IDAgPyAwIDogdHJlZS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgRnJhZ21lbnRDdXJzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZyYWdtZW50cywgbm9kZVNldCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IGZyYWdtZW50cztcbiAgICAgICAgdGhpcy5ub2RlU2V0ID0gbm9kZVNldDtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FmZUZyb20gPSAtMTtcbiAgICAgICAgdGhpcy5zYWZlVG8gPSAtMTtcbiAgICAgICAgdGhpcy50cmVlcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gW107XG4gICAgICAgIHRoaXMuaW5kZXggPSBbXTtcbiAgICAgICAgdGhpcy5uZXh0RnJhZ21lbnQoKTtcbiAgICB9XG4gICAgbmV4dEZyYWdtZW50KCkge1xuICAgICAgICBsZXQgZnIgPSB0aGlzLmZyYWdtZW50ID0gdGhpcy5pID09IHRoaXMuZnJhZ21lbnRzLmxlbmd0aCA/IG51bGwgOiB0aGlzLmZyYWdtZW50c1t0aGlzLmkrK107XG4gICAgICAgIGlmIChmcikge1xuICAgICAgICAgICAgdGhpcy5zYWZlRnJvbSA9IGZyLm9wZW5TdGFydCA/IGN1dEF0KGZyLnRyZWUsIGZyLmZyb20gKyBmci5vZmZzZXQsIDEpIC0gZnIub2Zmc2V0IDogZnIuZnJvbTtcbiAgICAgICAgICAgIHRoaXMuc2FmZVRvID0gZnIub3BlbkVuZCA/IGN1dEF0KGZyLnRyZWUsIGZyLnRvICsgZnIub2Zmc2V0LCAtMSkgLSBmci5vZmZzZXQgOiBmci50bztcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnRyZWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJlZXMucG9wKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydC5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4LnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmVlcy5wdXNoKGZyLnRyZWUpO1xuICAgICAgICAgICAgdGhpcy5zdGFydC5wdXNoKC1mci5vZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy5pbmRleC5wdXNoKDApO1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSB0aGlzLnNhZmVGcm9tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSAxZTk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYHBvc2AgbXVzdCBiZSA+PSBhbnkgcHJldmlvdXNseSBnaXZlbiBgcG9zYCBmb3IgdGhpcyBjdXJzb3JcbiAgICBub2RlQXQocG9zKSB7XG4gICAgICAgIGlmIChwb3MgPCB0aGlzLm5leHRTdGFydClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB3aGlsZSAodGhpcy5mcmFnbWVudCAmJiB0aGlzLnNhZmVUbyA8PSBwb3MpXG4gICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICBpZiAoIXRoaXMuZnJhZ21lbnQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB0aGlzLnRyZWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBpZiAobGFzdCA8IDApIHsgLy8gRW5kIG9mIHRyZWVcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHRvcCA9IHRoaXMudHJlZXNbbGFzdF0sIGluZGV4ID0gdGhpcy5pbmRleFtsYXN0XTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0b3AuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmVlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0LnBvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRvcC5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0W2xhc3RdICsgdG9wLnBvc2l0aW9uc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc3RhcnQgPiBwb3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBUcmVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09IHBvcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgPCB0aGlzLnNhZmVGcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kIDw9IHRoaXMuc2FmZVRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbG9va0FoZWFkID0gbmV4dC5wcm9wKE5vZGVQcm9wLmxvb2tBaGVhZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxvb2tBaGVhZCB8fCBlbmQgKyBsb29rQWhlYWQgPCB0aGlzLmZyYWdtZW50LnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhbbGFzdF0rKztcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgKyBuZXh0Lmxlbmd0aCA+PSBNYXRoLm1heCh0aGlzLnNhZmVGcm9tLCBwb3MpKSB7IC8vIEVudGVyIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyZWVzLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQucHVzaChzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgucHVzaCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4W2xhc3RdKys7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0U3RhcnQgPSBzdGFydCArIG5leHQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgVG9rZW5DYWNoZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBzdHJlYW0pIHtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMudG9rZW5zID0gW107XG4gICAgICAgIHRoaXMubWFpblRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gW107XG4gICAgICAgIHRoaXMudG9rZW5zID0gcGFyc2VyLnRva2VuaXplcnMubWFwKF8gPT4gbmV3IENhY2hlZFRva2VuKTtcbiAgICB9XG4gICAgZ2V0QWN0aW9ucyhzdGFjaykge1xuICAgICAgICBsZXQgYWN0aW9uSW5kZXggPSAwO1xuICAgICAgICBsZXQgbWFpbiA9IG51bGw7XG4gICAgICAgIGxldCB7IHBhcnNlciB9ID0gc3RhY2sucCwgeyB0b2tlbml6ZXJzIH0gPSBwYXJzZXI7XG4gICAgICAgIGxldCBtYXNrID0gcGFyc2VyLnN0YXRlU2xvdChzdGFjay5zdGF0ZSwgMyAvKiBUb2tlbml6ZXJNYXNrICovKTtcbiAgICAgICAgbGV0IGNvbnRleHQgPSBzdGFjay5jdXJDb250ZXh0ID8gc3RhY2suY3VyQ29udGV4dC5oYXNoIDogMDtcbiAgICAgICAgbGV0IGxvb2tBaGVhZCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCgoMSA8PCBpKSAmIG1hc2spID09IDApXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgdG9rZW5pemVyID0gdG9rZW5pemVyc1tpXSwgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTtcbiAgICAgICAgICAgIGlmIChtYWluICYmICF0b2tlbml6ZXIuZmFsbGJhY2spXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAodG9rZW5pemVyLmNvbnRleHR1YWwgfHwgdG9rZW4uc3RhcnQgIT0gc3RhY2sucG9zIHx8IHRva2VuLm1hc2sgIT0gbWFzayB8fCB0b2tlbi5jb250ZXh0ICE9IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlZFRva2VuKHRva2VuLCB0b2tlbml6ZXIsIHN0YWNrKTtcbiAgICAgICAgICAgICAgICB0b2tlbi5tYXNrID0gbWFzaztcbiAgICAgICAgICAgICAgICB0b2tlbi5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi5sb29rQWhlYWQgPiB0b2tlbi5lbmQgKyAyNSAvKiBNYXJnaW4gKi8pXG4gICAgICAgICAgICAgICAgbG9va0FoZWFkID0gTWF0aC5tYXgodG9rZW4ubG9va0FoZWFkLCBsb29rQWhlYWQpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnZhbHVlICE9IDAgLyogRXJyICovKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBhY3Rpb25JbmRleDtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4uZXh0ZW5kZWQgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uSW5kZXggPSB0aGlzLmFkZEFjdGlvbnMoc3RhY2ssIHRva2VuLmV4dGVuZGVkLCB0b2tlbi5lbmQsIGFjdGlvbkluZGV4KTtcbiAgICAgICAgICAgICAgICBhY3Rpb25JbmRleCA9IHRoaXMuYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4udmFsdWUsIHRva2VuLmVuZCwgYWN0aW9uSW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmICghdG9rZW5pemVyLmV4dGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBtYWluID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25JbmRleCA+IHN0YXJ0SW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuYWN0aW9ucy5sZW5ndGggPiBhY3Rpb25JbmRleClcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucy5wb3AoKTtcbiAgICAgICAgaWYgKGxvb2tBaGVhZClcbiAgICAgICAgICAgIHN0YWNrLnNldExvb2tBaGVhZChsb29rQWhlYWQpO1xuICAgICAgICBpZiAoIW1haW4gJiYgc3RhY2sucG9zID09IHRoaXMuc3RyZWFtLmVuZCkge1xuICAgICAgICAgICAgbWFpbiA9IG5ldyBDYWNoZWRUb2tlbjtcbiAgICAgICAgICAgIG1haW4udmFsdWUgPSBzdGFjay5wLnBhcnNlci5lb2ZUZXJtO1xuICAgICAgICAgICAgbWFpbi5zdGFydCA9IG1haW4uZW5kID0gc3RhY2sucG9zO1xuICAgICAgICAgICAgYWN0aW9uSW5kZXggPSB0aGlzLmFkZEFjdGlvbnMoc3RhY2ssIG1haW4udmFsdWUsIG1haW4uZW5kLCBhY3Rpb25JbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYWluVG9rZW4gPSBtYWluO1xuICAgICAgICByZXR1cm4gdGhpcy5hY3Rpb25zO1xuICAgIH1cbiAgICBnZXRNYWluVG9rZW4oc3RhY2spIHtcbiAgICAgICAgaWYgKHRoaXMubWFpblRva2VuKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFpblRva2VuO1xuICAgICAgICBsZXQgbWFpbiA9IG5ldyBDYWNoZWRUb2tlbiwgeyBwb3MsIHAgfSA9IHN0YWNrO1xuICAgICAgICBtYWluLnN0YXJ0ID0gcG9zO1xuICAgICAgICBtYWluLmVuZCA9IE1hdGgubWluKHBvcyArIDEsIHAuc3RyZWFtLmVuZCk7XG4gICAgICAgIG1haW4udmFsdWUgPSBwb3MgPT0gcC5zdHJlYW0uZW5kID8gcC5wYXJzZXIuZW9mVGVybSA6IDAgLyogRXJyICovO1xuICAgICAgICByZXR1cm4gbWFpbjtcbiAgICB9XG4gICAgdXBkYXRlQ2FjaGVkVG9rZW4odG9rZW4sIHRva2VuaXplciwgc3RhY2spIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zdHJlYW0uY2xpcFBvcyhzdGFjay5wb3MpO1xuICAgICAgICB0b2tlbml6ZXIudG9rZW4odGhpcy5zdHJlYW0ucmVzZXQoc3RhcnQsIHRva2VuKSwgc3RhY2spO1xuICAgICAgICBpZiAodG9rZW4udmFsdWUgPiAtMSkge1xuICAgICAgICAgICAgbGV0IHsgcGFyc2VyIH0gPSBzdGFjay5wO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJzZXIuc3BlY2lhbGl6ZWQubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlci5zcGVjaWFsaXplZFtpXSA9PSB0b2tlbi52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcGFyc2VyLnNwZWNpYWxpemVyc1tpXSh0aGlzLnN0cmVhbS5yZWFkKHRva2VuLnN0YXJ0LCB0b2tlbi5lbmQpLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCAmJiBzdGFjay5wLnBhcnNlci5kaWFsZWN0LmFsbG93cyhyZXN1bHQgPj4gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgocmVzdWx0ICYgMSkgPT0gMCAvKiBTcGVjaWFsaXplICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuLnZhbHVlID0gcmVzdWx0ID4+IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4uZXh0ZW5kZWQgPSByZXN1bHQgPj4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9rZW4udmFsdWUgPSAwIC8qIEVyciAqLztcbiAgICAgICAgICAgIHRva2VuLmVuZCA9IHRoaXMuc3RyZWFtLmNsaXBQb3Moc3RhcnQgKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdXRBY3Rpb24oYWN0aW9uLCB0b2tlbiwgZW5kLCBpbmRleCkge1xuICAgICAgICAvLyBEb24ndCBhZGQgZHVwbGljYXRlIGFjdGlvbnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSArPSAzKVxuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aW9uc1tpXSA9PSBhY3Rpb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB0aGlzLmFjdGlvbnNbaW5kZXgrK10gPSBhY3Rpb247XG4gICAgICAgIHRoaXMuYWN0aW9uc1tpbmRleCsrXSA9IHRva2VuO1xuICAgICAgICB0aGlzLmFjdGlvbnNbaW5kZXgrK10gPSBlbmQ7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgYWRkQWN0aW9ucyhzdGFjaywgdG9rZW4sIGVuZCwgaW5kZXgpIHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHN0YWNrLCB7IHBhcnNlciB9ID0gc3RhY2sucCwgeyBkYXRhIH0gPSBwYXJzZXI7XG4gICAgICAgIGZvciAobGV0IHNldCA9IDA7IHNldCA8IDI7IHNldCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gcGFyc2VyLnN0YXRlU2xvdChzdGF0ZSwgc2V0ID8gMiAvKiBTa2lwICovIDogMSAvKiBBY3Rpb25zICovKTs7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IDY1NTM1IC8qIEVuZCAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtpICsgMV0gPT0gMSAvKiBOZXh0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gcGFpcihkYXRhLCBpICsgMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gMCAmJiBkYXRhW2kgKyAxXSA9PSAyIC8qIE90aGVyICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5wdXRBY3Rpb24ocGFpcihkYXRhLCBpICsgMiksIHRva2VuLCBlbmQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldID09IHRva2VuKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMucHV0QWN0aW9uKHBhaXIoZGF0YSwgaSArIDEpLCB0b2tlbiwgZW5kLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cbnZhciBSZWM7XG4oZnVuY3Rpb24gKFJlYykge1xuICAgIFJlY1tSZWNbXCJEaXN0YW5jZVwiXSA9IDVdID0gXCJEaXN0YW5jZVwiO1xuICAgIFJlY1tSZWNbXCJNYXhSZW1haW5pbmdQZXJTdGVwXCJdID0gM10gPSBcIk1heFJlbWFpbmluZ1BlclN0ZXBcIjtcbiAgICAvLyBXaGVuIHR3byBzdGFja3MgaGF2ZSBiZWVuIHJ1bm5pbmcgaW5kZXBlbmRlbnRseSBsb25nIGVub3VnaCB0b1xuICAgIC8vIGFkZCB0aGlzIG1hbnkgZWxlbWVudHMgdG8gdGhlaXIgYnVmZmVycywgcHJ1bmUgb25lLlxuICAgIFJlY1tSZWNbXCJNaW5CdWZmZXJMZW5ndGhQcnVuZVwiXSA9IDUwMF0gPSBcIk1pbkJ1ZmZlckxlbmd0aFBydW5lXCI7XG4gICAgUmVjW1JlY1tcIkZvcmNlUmVkdWNlTGltaXRcIl0gPSAxMF0gPSBcIkZvcmNlUmVkdWNlTGltaXRcIjtcbiAgICAvLyBPbmNlIGEgc3RhY2sgcmVhY2hlcyB0aGlzIGRlcHRoIChpbiAuc3RhY2subGVuZ3RoKSBmb3JjZS1yZWR1Y2VcbiAgICAvLyBpdCBiYWNrIHRvIEN1dFRvIHRvIGF2b2lkIGNyZWF0aW5nIHRyZWVzIHRoYXQgb3ZlcmZsb3cgdGhlIHN0YWNrXG4gICAgLy8gb24gcmVjdXJzaXZlIHRyYXZlcnNhbC5cbiAgICBSZWNbUmVjW1wiQ3V0RGVwdGhcIl0gPSAxNTAwMF0gPSBcIkN1dERlcHRoXCI7XG4gICAgUmVjW1JlY1tcIkN1dFRvXCJdID0gOTAwMF0gPSBcIkN1dFRvXCI7XG59KShSZWMgfHwgKFJlYyA9IHt9KSk7XG5jbGFzcyBQYXJzZSB7XG4gICAgY29uc3RydWN0b3IocGFyc2VyLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpIHtcbiAgICAgICAgdGhpcy5wYXJzZXIgPSBwYXJzZXI7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgICAgIHRoaXMucmVjb3ZlcmluZyA9IDA7XG4gICAgICAgIHRoaXMubmV4dFN0YWNrSUQgPSAweDI2NTQ7IC8vIFx1MjY1NCwgXHUyNjU1LCBcdTI2NTYsIFx1MjY1NywgXHUyNjU4LCBcdTI2NTksIFx1MjY2MCwgXHUyNjYxLCBcdTI2NjIsIFx1MjY2MywgXHUyNjY0LCBcdTI2NjUsIFx1MjY2NiwgXHUyNjY3XG4gICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSAwO1xuICAgICAgICB0aGlzLnJldXNlZCA9IFtdO1xuICAgICAgICB0aGlzLnN0b3BwZWRBdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gbmV3IElucHV0U3RyZWFtKGlucHV0LCByYW5nZXMpO1xuICAgICAgICB0aGlzLnRva2VucyA9IG5ldyBUb2tlbkNhY2hlKHBhcnNlciwgdGhpcy5zdHJlYW0pO1xuICAgICAgICB0aGlzLnRvcFRlcm0gPSBwYXJzZXIudG9wWzFdO1xuICAgICAgICBsZXQgeyBmcm9tIH0gPSByYW5nZXNbMF07XG4gICAgICAgIHRoaXMuc3RhY2tzID0gW1N0YWNrLnN0YXJ0KHRoaXMsIHBhcnNlci50b3BbMF0sIGZyb20pXTtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBmcmFnbWVudHMubGVuZ3RoICYmIHRoaXMuc3RyZWFtLmVuZCAtIGZyb20gPiBwYXJzZXIuYnVmZmVyTGVuZ3RoICogNFxuICAgICAgICAgICAgPyBuZXcgRnJhZ21lbnRDdXJzb3IoZnJhZ21lbnRzLCBwYXJzZXIubm9kZVNldCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgcGFyc2VkUG9zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW5TdGFja1BvcztcbiAgICB9XG4gICAgLy8gTW92ZSB0aGUgcGFyc2VyIGZvcndhcmQuIFRoaXMgd2lsbCBwcm9jZXNzIGFsbCBwYXJzZSBzdGFja3MgYXRcbiAgICAvLyBgdGhpcy5wb3NgIGFuZCB0cnkgdG8gYWR2YW5jZSB0aGVtIHRvIGEgZnVydGhlciBwb3NpdGlvbi4gSWYgbm9cbiAgICAvLyBzdGFjayBmb3Igc3VjaCBhIHBvc2l0aW9uIGlzIGZvdW5kLCBpdCdsbCBzdGFydCBlcnJvci1yZWNvdmVyeS5cbiAgICAvL1xuICAgIC8vIFdoZW4gdGhlIHBhcnNlIGlzIGZpbmlzaGVkLCB0aGlzIHdpbGwgcmV0dXJuIGEgc3ludGF4IHRyZWUuIFdoZW5cbiAgICAvLyBub3QsIGl0IHJldHVybnMgYG51bGxgLlxuICAgIGFkdmFuY2UoKSB7XG4gICAgICAgIGxldCBzdGFja3MgPSB0aGlzLnN0YWNrcywgcG9zID0gdGhpcy5taW5TdGFja1BvcztcbiAgICAgICAgLy8gVGhpcyB3aWxsIGhvbGQgc3RhY2tzIGJleW9uZCBgcG9zYC5cbiAgICAgICAgbGV0IG5ld1N0YWNrcyA9IHRoaXMuc3RhY2tzID0gW107XG4gICAgICAgIGxldCBzdG9wcGVkLCBzdG9wcGVkVG9rZW5zO1xuICAgICAgICAvLyBLZWVwIGFkdmFuY2luZyBhbnkgc3RhY2tzIGF0IGBwb3NgIHVudGlsIHRoZXkgZWl0aGVyIG1vdmVcbiAgICAgICAgLy8gZm9yd2FyZCBvciBjYW4ndCBiZSBhZHZhbmNlZC4gR2F0aGVyIHN0YWNrcyB0aGF0IGNhbid0IGJlXG4gICAgICAgIC8vIGFkdmFuY2VkIGZ1cnRoZXIgaW4gYHN0b3BwZWRgLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YWNrID0gc3RhY2tzW2ldO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9rZW5zLm1haW5Ub2tlbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLnBvcyA+IHBvcykge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3MucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYWR2YW5jZVN0YWNrKHN0YWNrLCBuZXdTdGFja3MsIHN0YWNrcykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BwZWQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BwZWRUb2tlbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdG9wcGVkLnB1c2goc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rID0gdGhpcy50b2tlbnMuZ2V0TWFpblRva2VuKHN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcHBlZFRva2Vucy5wdXNoKHRvay52YWx1ZSwgdG9rLmVuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghbmV3U3RhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGZpbmlzaGVkID0gc3RvcHBlZCAmJiBmaW5kRmluaXNoZWQoc3RvcHBlZCk7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyc2VyLnN0cmljdCkge1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlICYmIHN0b3BwZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3R1Y2sgd2l0aCB0b2tlbiBcIiArICh0aGlzLnRva2Vucy5tYWluVG9rZW4gPyB0aGlzLnBhcnNlci5nZXROYW1lKHRoaXMudG9rZW5zLm1haW5Ub2tlbi52YWx1ZSkgOiBcIm5vbmVcIikpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIk5vIHBhcnNlIGF0IFwiICsgcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5yZWNvdmVyaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcmluZyA9IDUgLyogRGlzdGFuY2UgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcmluZyAmJiBzdG9wcGVkKSB7XG4gICAgICAgICAgICBsZXQgZmluaXNoZWQgPSB0aGlzLnN0b3BwZWRBdCAhPSBudWxsICYmIHN0b3BwZWRbMF0ucG9zID4gdGhpcy5zdG9wcGVkQXQgPyBzdG9wcGVkWzBdXG4gICAgICAgICAgICAgICAgOiB0aGlzLnJ1blJlY292ZXJ5KHN0b3BwZWQsIHN0b3BwZWRUb2tlbnMsIG5ld1N0YWNrcyk7XG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tUb1RyZWUoZmluaXNoZWQuZm9yY2VBbGwoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVjb3ZlcmluZykge1xuICAgICAgICAgICAgbGV0IG1heFJlbWFpbmluZyA9IHRoaXMucmVjb3ZlcmluZyA9PSAxID8gMSA6IHRoaXMucmVjb3ZlcmluZyAqIDMgLyogTWF4UmVtYWluaW5nUGVyU3RlcCAqLztcbiAgICAgICAgICAgIGlmIChuZXdTdGFja3MubGVuZ3RoID4gbWF4UmVtYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhY2tzLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3U3RhY2tzLmxlbmd0aCA+IG1heFJlbWFpbmluZylcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhY2tzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1N0YWNrcy5zb21lKHMgPT4gcy5yZWR1Y2VQb3MgPiBwb3MpKVxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3ZlcmluZy0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5ld1N0YWNrcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBQcnVuZSBzdGFja3MgdGhhdCBhcmUgaW4gdGhlIHNhbWUgc3RhdGUsIG9yIHRoYXQgaGF2ZSBiZWVuXG4gICAgICAgICAgICAvLyBydW5uaW5nIHdpdGhvdXQgc3BsaXR0aW5nIGZvciBhIHdoaWxlLCB0byBhdm9pZCBnZXR0aW5nIHN0dWNrXG4gICAgICAgICAgICAvLyB3aXRoIG11bHRpcGxlIHN1Y2Nlc3NmdWwgc3RhY2tzIHJ1bm5pbmcgZW5kbGVzc2x5IG9uLlxuICAgICAgICAgICAgb3V0ZXI6IGZvciAobGV0IGkgPSAwOyBpIDwgbmV3U3RhY2tzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IG5ld1N0YWNrc1tpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBuZXdTdGFja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG90aGVyID0gbmV3U3RhY2tzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhY2suc2FtZVN0YXRlKG90aGVyKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2suYnVmZmVyLmxlbmd0aCA+IDUwMCAvKiBNaW5CdWZmZXJMZW5ndGhQcnVuZSAqLyAmJiBvdGhlci5idWZmZXIubGVuZ3RoID4gNTAwIC8qIE1pbkJ1ZmZlckxlbmd0aFBydW5lICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChzdGFjay5zY29yZSAtIG90aGVyLnNjb3JlKSB8fCAoc3RhY2suYnVmZmVyLmxlbmd0aCAtIG90aGVyLmJ1ZmZlci5sZW5ndGgpKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGFja3Muc3BsaWNlKGktLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW5TdGFja1BvcyA9IG5ld1N0YWNrc1swXS5wb3M7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbmV3U3RhY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKG5ld1N0YWNrc1tpXS5wb3MgPCB0aGlzLm1pblN0YWNrUG9zKVxuICAgICAgICAgICAgICAgIHRoaXMubWluU3RhY2tQb3MgPSBuZXdTdGFja3NbaV0ucG9zO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgc3RvcEF0KHBvcykge1xuICAgICAgICBpZiAodGhpcy5zdG9wcGVkQXQgIT0gbnVsbCAmJiB0aGlzLnN0b3BwZWRBdCA8IHBvcylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiQ2FuJ3QgbW92ZSBzdG9wcGVkQXQgZm9yd2FyZFwiKTtcbiAgICAgICAgdGhpcy5zdG9wcGVkQXQgPSBwb3M7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYW4gdXBkYXRlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBzdGFjaywgb3IgbnVsbCBpZiB0aGVcbiAgICAvLyBzdGFjayBjYW4ndCBhZHZhbmNlIG5vcm1hbGx5LiBXaGVuIGBzcGxpdGAgYW5kIGBzdGFja3NgIGFyZVxuICAgIC8vIGdpdmVuLCBzdGFja3Mgc3BsaXQgb2ZmIGJ5IGFtYmlndW91cyBvcGVyYXRpb25zIHdpbGwgYmUgcHVzaGVkIHRvXG4gICAgLy8gYHNwbGl0YCwgb3IgYWRkZWQgdG8gYHN0YWNrc2AgaWYgdGhleSBtb3ZlIGBwb3NgIGZvcndhcmQuXG4gICAgYWR2YW5jZVN0YWNrKHN0YWNrLCBzdGFja3MsIHNwbGl0KSB7XG4gICAgICAgIGxldCBzdGFydCA9IHN0YWNrLnBvcywgeyBwYXJzZXIgfSA9IHRoaXM7XG4gICAgICAgIGxldCBiYXNlID0gdmVyYm9zZSA/IHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAtPiBcIiA6IFwiXCI7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWRBdCAhPSBudWxsICYmIHN0YXJ0ID4gdGhpcy5zdG9wcGVkQXQpXG4gICAgICAgICAgICByZXR1cm4gc3RhY2suZm9yY2VSZWR1Y2UoKSA/IHN0YWNrIDogbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuZnJhZ21lbnRzKSB7XG4gICAgICAgICAgICBsZXQgc3RyaWN0Q3ggPSBzdGFjay5jdXJDb250ZXh0ICYmIHN0YWNrLmN1ckNvbnRleHQudHJhY2tlci5zdHJpY3QsIGN4SGFzaCA9IHN0cmljdEN4ID8gc3RhY2suY3VyQ29udGV4dC5oYXNoIDogMDtcbiAgICAgICAgICAgIGZvciAobGV0IGNhY2hlZCA9IHRoaXMuZnJhZ21lbnRzLm5vZGVBdChzdGFydCk7IGNhY2hlZDspIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPSB0aGlzLnBhcnNlci5ub2RlU2V0LnR5cGVzW2NhY2hlZC50eXBlLmlkXSA9PSBjYWNoZWQudHlwZSA/IHBhcnNlci5nZXRHb3RvKHN0YWNrLnN0YXRlLCBjYWNoZWQudHlwZS5pZCkgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPiAtMSAmJiBjYWNoZWQubGVuZ3RoICYmICghc3RyaWN0Q3ggfHwgKGNhY2hlZC5wcm9wKE5vZGVQcm9wLmNvbnRleHRIYXNoKSB8fCAwKSA9PSBjeEhhc2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnVzZU5vZGUoY2FjaGVkLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBgICh2aWEgcmV1c2Ugb2YgJHtwYXJzZXIuZ2V0TmFtZShjYWNoZWQudHlwZS5pZCl9KWApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCEoY2FjaGVkIGluc3RhbmNlb2YgVHJlZSkgfHwgY2FjaGVkLmNoaWxkcmVuLmxlbmd0aCA9PSAwIHx8IGNhY2hlZC5wb3NpdGlvbnNbMF0gPiAwKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBjYWNoZWQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyIGluc3RhbmNlb2YgVHJlZSAmJiBjYWNoZWQucG9zaXRpb25zWzBdID09IDApXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZCA9IGlubmVyO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRlZmF1bHRSZWR1Y2UgPSBwYXJzZXIuc3RhdGVTbG90KHN0YWNrLnN0YXRlLCA0IC8qIERlZmF1bHRSZWR1Y2UgKi8pO1xuICAgICAgICBpZiAoZGVmYXVsdFJlZHVjZSA+IDApIHtcbiAgICAgICAgICAgIHN0YWNrLnJlZHVjZShkZWZhdWx0UmVkdWNlKTtcbiAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoc3RhY2spICsgYCAodmlhIGFsd2F5cy1yZWR1Y2UgJHtwYXJzZXIuZ2V0TmFtZShkZWZhdWx0UmVkdWNlICYgNjU1MzUgLyogVmFsdWVNYXNrICovKX0pYCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhY2suc3RhY2subGVuZ3RoID49IDE1MDAwIC8qIEN1dERlcHRoICovKSB7XG4gICAgICAgICAgICB3aGlsZSAoc3RhY2suc3RhY2subGVuZ3RoID4gOTAwMCAvKiBDdXRUbyAqLyAmJiBzdGFjay5mb3JjZVJlZHVjZSgpKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYWN0aW9ucyA9IHRoaXMudG9rZW5zLmdldEFjdGlvbnMoc3RhY2spO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFjdGlvbnMubGVuZ3RoOykge1xuICAgICAgICAgICAgbGV0IGFjdGlvbiA9IGFjdGlvbnNbaSsrXSwgdGVybSA9IGFjdGlvbnNbaSsrXSwgZW5kID0gYWN0aW9uc1tpKytdO1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBpID09IGFjdGlvbnMubGVuZ3RoIHx8ICFzcGxpdDtcbiAgICAgICAgICAgIGxldCBsb2NhbFN0YWNrID0gbGFzdCA/IHN0YWNrIDogc3RhY2suc3BsaXQoKTtcbiAgICAgICAgICAgIGxvY2FsU3RhY2suYXBwbHkoYWN0aW9uLCB0ZXJtLCBlbmQpO1xuICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChsb2NhbFN0YWNrKSArIGAgKHZpYSAkeyhhY3Rpb24gJiA2NTUzNiAvKiBSZWR1Y2VGbGFnICovKSA9PSAwID8gXCJzaGlmdFwiXG4gICAgICAgICAgICAgICAgICAgIDogYHJlZHVjZSBvZiAke3BhcnNlci5nZXROYW1lKGFjdGlvbiAmIDY1NTM1IC8qIFZhbHVlTWFzayAqLyl9YH0gZm9yICR7cGFyc2VyLmdldE5hbWUodGVybSl9IEAgJHtzdGFydH0ke2xvY2FsU3RhY2sgPT0gc3RhY2sgPyBcIlwiIDogXCIsIHNwbGl0XCJ9KWApO1xuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmIChsb2NhbFN0YWNrLnBvcyA+IHN0YXJ0KVxuICAgICAgICAgICAgICAgIHN0YWNrcy5wdXNoKGxvY2FsU3RhY2spO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNwbGl0LnB1c2gobG9jYWxTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBBZHZhbmNlIGEgZ2l2ZW4gc3RhY2sgZm9yd2FyZCBhcyBmYXIgYXMgaXQgd2lsbCBnby4gUmV0dXJucyB0aGVcbiAgICAvLyAocG9zc2libHkgdXBkYXRlZCkgc3RhY2sgaWYgaXQgZ290IHN0dWNrLCBvciBudWxsIGlmIGl0IG1vdmVkXG4gICAgLy8gZm9yd2FyZCBhbmQgd2FzIGdpdmVuIHRvIGBwdXNoU3RhY2tEZWR1cGAuXG4gICAgYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IHBvcyA9IHN0YWNrLnBvcztcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFkdmFuY2VTdGFjayhzdGFjaywgbnVsbCwgbnVsbCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKHN0YWNrLnBvcyA+IHBvcykge1xuICAgICAgICAgICAgICAgIHB1c2hTdGFja0RlZHVwKHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJ1blJlY292ZXJ5KHN0YWNrcywgdG9rZW5zLCBuZXdTdGFja3MpIHtcbiAgICAgICAgbGV0IGZpbmlzaGVkID0gbnVsbCwgcmVzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3RhY2sgPSBzdGFja3NbaV0sIHRva2VuID0gdG9rZW5zW2kgPDwgMV0sIHRva2VuRW5kID0gdG9rZW5zWyhpIDw8IDEpICsgMV07XG4gICAgICAgICAgICBsZXQgYmFzZSA9IHZlcmJvc2UgPyB0aGlzLnN0YWNrSUQoc3RhY2spICsgXCIgLT4gXCIgOiBcIlwiO1xuICAgICAgICAgICAgaWYgKHN0YWNrLmRlYWRFbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICByZXN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YWNrLnJlc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodmVyYm9zZSlcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYmFzZSArIHRoaXMuc3RhY2tJRChzdGFjaykgKyBcIiAocmVzdGFydGVkKVwiKTtcbiAgICAgICAgICAgICAgICBsZXQgZG9uZSA9IHRoaXMuYWR2YW5jZUZ1bGx5KHN0YWNrLCBuZXdTdGFja3MpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBmb3JjZSA9IHN0YWNrLnNwbGl0KCksIGZvcmNlQmFzZSA9IGJhc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgZm9yY2UuZm9yY2VSZWR1Y2UoKSAmJiBqIDwgMTAgLyogRm9yY2VSZWR1Y2VMaW1pdCAqLzsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcmNlQmFzZSArIHRoaXMuc3RhY2tJRChmb3JjZSkgKyBcIiAodmlhIGZvcmNlLXJlZHVjZSlcIik7XG4gICAgICAgICAgICAgICAgbGV0IGRvbmUgPSB0aGlzLmFkdmFuY2VGdWxseShmb3JjZSwgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlQmFzZSA9IHRoaXMuc3RhY2tJRChmb3JjZSkgKyBcIiAtPiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGluc2VydCBvZiBzdGFjay5yZWNvdmVyQnlJbnNlcnQodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZlcmJvc2UpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGJhc2UgKyB0aGlzLnN0YWNrSUQoaW5zZXJ0KSArIFwiICh2aWEgcmVjb3Zlci1pbnNlcnQpXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZUZ1bGx5KGluc2VydCwgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0cmVhbS5lbmQgPiBzdGFjay5wb3MpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5FbmQgPT0gc3RhY2sucG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuRW5kKys7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gMCAvKiBFcnIgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YWNrLnJlY292ZXJCeURlbGV0ZSh0b2tlbiwgdG9rZW5FbmQpO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJib3NlKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhiYXNlICsgdGhpcy5zdGFja0lEKHN0YWNrKSArIGAgKHZpYSByZWNvdmVyLWRlbGV0ZSAke3RoaXMucGFyc2VyLmdldE5hbWUodG9rZW4pfSlgKTtcbiAgICAgICAgICAgICAgICBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFmaW5pc2hlZCB8fCBmaW5pc2hlZC5zY29yZSA8IHN0YWNrLnNjb3JlKSB7XG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSBzdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluaXNoZWQ7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgdGhlIHN0YWNrJ3MgYnVmZmVyIHRvIGEgc3ludGF4IHRyZWUuXG4gICAgc3RhY2tUb1RyZWUoc3RhY2spIHtcbiAgICAgICAgc3RhY2suY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIFRyZWUuYnVpbGQoeyBidWZmZXI6IFN0YWNrQnVmZmVyQ3Vyc29yLmNyZWF0ZShzdGFjayksXG4gICAgICAgICAgICBub2RlU2V0OiB0aGlzLnBhcnNlci5ub2RlU2V0LFxuICAgICAgICAgICAgdG9wSUQ6IHRoaXMudG9wVGVybSxcbiAgICAgICAgICAgIG1heEJ1ZmZlckxlbmd0aDogdGhpcy5wYXJzZXIuYnVmZmVyTGVuZ3RoLFxuICAgICAgICAgICAgcmV1c2VkOiB0aGlzLnJldXNlZCxcbiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbGVuZ3RoOiBzdGFjay5wb3MgLSB0aGlzLnJhbmdlc1swXS5mcm9tLFxuICAgICAgICAgICAgbWluUmVwZWF0VHlwZTogdGhpcy5wYXJzZXIubWluUmVwZWF0VGVybSB9KTtcbiAgICB9XG4gICAgc3RhY2tJRChzdGFjaykge1xuICAgICAgICBsZXQgaWQgPSAoc3RhY2tJRHMgfHwgKHN0YWNrSURzID0gbmV3IFdlYWtNYXApKS5nZXQoc3RhY2spO1xuICAgICAgICBpZiAoIWlkKVxuICAgICAgICAgICAgc3RhY2tJRHMuc2V0KHN0YWNrLCBpZCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KHRoaXMubmV4dFN0YWNrSUQrKykpO1xuICAgICAgICByZXR1cm4gaWQgKyBzdGFjaztcbiAgICB9XG59XG5mdW5jdGlvbiBwdXNoU3RhY2tEZWR1cChzdGFjaywgbmV3U3RhY2tzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTdGFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG90aGVyID0gbmV3U3RhY2tzW2ldO1xuICAgICAgICBpZiAob3RoZXIucG9zID09IHN0YWNrLnBvcyAmJiBvdGhlci5zYW1lU3RhdGUoc3RhY2spKSB7XG4gICAgICAgICAgICBpZiAobmV3U3RhY2tzW2ldLnNjb3JlIDwgc3RhY2suc2NvcmUpXG4gICAgICAgICAgICAgICAgbmV3U3RhY2tzW2ldID0gc3RhY2s7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3U3RhY2tzLnB1c2goc3RhY2spO1xufVxuY2xhc3MgRGlhbGVjdCB7XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBmbGFncywgZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBmbGFncztcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cbiAgICBhbGxvd3ModGVybSkgeyByZXR1cm4gIXRoaXMuZGlzYWJsZWQgfHwgdGhpcy5kaXNhYmxlZFt0ZXJtXSA9PSAwOyB9XG59XG5jb25zdCBpZCA9IHggPT4geDtcbi8vLyBDb250ZXh0IHRyYWNrZXJzIGFyZSB1c2VkIHRvIHRyYWNrIHN0YXRlZnVsIGNvbnRleHQgKHN1Y2ggYXNcbi8vLyBpbmRlbnRhdGlvbiBpbiB0aGUgUHl0aG9uIGdyYW1tYXIsIG9yIHBhcmVudCBlbGVtZW50cyBpbiB0aGUgWE1MXG4vLy8gZ3JhbW1hcikgbmVlZGVkIGJ5IGV4dGVybmFsIHRva2VuaXplcnMuIFlvdSBkZWNsYXJlIHRoZW0gaW4gYVxuLy8vIGdyYW1tYXIgZmlsZSBhcyBgQGNvbnRleHQgZXhwb3J0TmFtZSBmcm9tIFwibW9kdWxlXCJgLlxuLy8vXG4vLy8gQ29udGV4dCB2YWx1ZXMgc2hvdWxkIGJlIGltbXV0YWJsZSwgYW5kIGNhbiBiZSB1cGRhdGVkIChyZXBsYWNlZClcbi8vLyBvbiBzaGlmdCBvciByZWR1Y2UgYWN0aW9ucy5cbi8vL1xuLy8vIFRoZSBleHBvcnQgdXNlZCBpbiBhIGBAY29udGV4dGAgZGVjbGFyYXRpb24gc2hvdWxkIGJlIG9mIHRoaXNcbi8vLyB0eXBlLlxuY2xhc3MgQ29udGV4dFRyYWNrZXIge1xuICAgIC8vLyBEZWZpbmUgYSBjb250ZXh0IHRyYWNrZXIuXG4gICAgY29uc3RydWN0b3Ioc3BlYykge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3BlYy5zdGFydDtcbiAgICAgICAgdGhpcy5zaGlmdCA9IHNwZWMuc2hpZnQgfHwgaWQ7XG4gICAgICAgIHRoaXMucmVkdWNlID0gc3BlYy5yZWR1Y2UgfHwgaWQ7XG4gICAgICAgIHRoaXMucmV1c2UgPSBzcGVjLnJldXNlIHx8IGlkO1xuICAgICAgICB0aGlzLmhhc2ggPSBzcGVjLmhhc2ggfHwgKCgpID0+IDApO1xuICAgICAgICB0aGlzLnN0cmljdCA9IHNwZWMuc3RyaWN0ICE9PSBmYWxzZTtcbiAgICB9XG59XG4vLy8gSG9sZHMgdGhlIHBhcnNlIHRhYmxlcyBmb3IgYSBnaXZlbiBncmFtbWFyLCBhcyBnZW5lcmF0ZWQgYnlcbi8vLyBgbGV6ZXItZ2VuZXJhdG9yYCwgYW5kIHByb3ZpZGVzIFttZXRob2RzXSgjY29tbW9uLlBhcnNlcikgdG8gcGFyc2Vcbi8vLyBjb250ZW50IHdpdGguXG5jbGFzcyBMUlBhcnNlciBleHRlbmRzIFBhcnNlciB7XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGNvbnN0cnVjdG9yKHNwZWMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgLy8vIEBpbnRlcm5hbFxuICAgICAgICB0aGlzLndyYXBwZXJzID0gW107XG4gICAgICAgIGlmIChzcGVjLnZlcnNpb24gIT0gMTQgLyogVmVyc2lvbiAqLylcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKGBQYXJzZXIgdmVyc2lvbiAoJHtzcGVjLnZlcnNpb259KSBkb2Vzbid0IG1hdGNoIHJ1bnRpbWUgdmVyc2lvbiAoJHsxNCAvKiBWZXJzaW9uICovfSlgKTtcbiAgICAgICAgbGV0IG5vZGVOYW1lcyA9IHNwZWMubm9kZU5hbWVzLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgdGhpcy5taW5SZXBlYXRUZXJtID0gbm9kZU5hbWVzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGVjLnJlcGVhdE5vZGVDb3VudDsgaSsrKVxuICAgICAgICAgICAgbm9kZU5hbWVzLnB1c2goXCJcIik7XG4gICAgICAgIGxldCB0b3BUZXJtcyA9IE9iamVjdC5rZXlzKHNwZWMudG9wUnVsZXMpLm1hcChyID0+IHNwZWMudG9wUnVsZXNbcl1bMV0pO1xuICAgICAgICBsZXQgbm9kZVByb3BzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZU5hbWVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbm9kZVByb3BzLnB1c2goW10pO1xuICAgICAgICBmdW5jdGlvbiBzZXRQcm9wKG5vZGVJRCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIG5vZGVQcm9wc1tub2RlSURdLnB1c2goW3Byb3AsIHByb3AuZGVzZXJpYWxpemUoU3RyaW5nKHZhbHVlKSldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BlYy5ub2RlUHJvcHMpXG4gICAgICAgICAgICBmb3IgKGxldCBwcm9wU3BlYyBvZiBzcGVjLm5vZGVQcm9wcykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wID0gcHJvcFNwZWNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSBOb2RlUHJvcFtwcm9wXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb3BTcGVjLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHQgPSBwcm9wU3BlY1tpKytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKG5leHQsIHByb3AsIHByb3BTcGVjW2krK10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcHJvcFNwZWNbaSArIC1uZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAtbmV4dDsgaiA+IDA7IGotLSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKHByb3BTcGVjW2krK10sIHByb3AsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhpcy5ub2RlU2V0ID0gbmV3IE5vZGVTZXQobm9kZU5hbWVzLm1hcCgobmFtZSwgaSkgPT4gTm9kZVR5cGUuZGVmaW5lKHtcbiAgICAgICAgICAgIG5hbWU6IGkgPj0gdGhpcy5taW5SZXBlYXRUZXJtID8gdW5kZWZpbmVkIDogbmFtZSxcbiAgICAgICAgICAgIGlkOiBpLFxuICAgICAgICAgICAgcHJvcHM6IG5vZGVQcm9wc1tpXSxcbiAgICAgICAgICAgIHRvcDogdG9wVGVybXMuaW5kZXhPZihpKSA+IC0xLFxuICAgICAgICAgICAgZXJyb3I6IGkgPT0gMCxcbiAgICAgICAgICAgIHNraXBwZWQ6IHNwZWMuc2tpcHBlZE5vZGVzICYmIHNwZWMuc2tpcHBlZE5vZGVzLmluZGV4T2YoaSkgPiAtMVxuICAgICAgICB9KSkpO1xuICAgICAgICBpZiAoc3BlYy5wcm9wU291cmNlcylcbiAgICAgICAgICAgIHRoaXMubm9kZVNldCA9IHRoaXMubm9kZVNldC5leHRlbmQoLi4uc3BlYy5wcm9wU291cmNlcyk7XG4gICAgICAgIHRoaXMuc3RyaWN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gRGVmYXVsdEJ1ZmZlckxlbmd0aDtcbiAgICAgICAgbGV0IHRva2VuQXJyYXkgPSBkZWNvZGVBcnJheShzcGVjLnRva2VuRGF0YSk7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IHNwZWMuY29udGV4dDtcbiAgICAgICAgdGhpcy5zcGVjaWFsaXplclNwZWNzID0gc3BlYy5zcGVjaWFsaXplZCB8fCBbXTtcbiAgICAgICAgdGhpcy5zcGVjaWFsaXplZCA9IG5ldyBVaW50MTZBcnJheSh0aGlzLnNwZWNpYWxpemVyU3BlY3MubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNwZWNpYWxpemVyU3BlY3MubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB0aGlzLnNwZWNpYWxpemVkW2ldID0gdGhpcy5zcGVjaWFsaXplclNwZWNzW2ldLnRlcm07XG4gICAgICAgIHRoaXMuc3BlY2lhbGl6ZXJzID0gdGhpcy5zcGVjaWFsaXplclNwZWNzLm1hcChnZXRTcGVjaWFsaXplcik7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gZGVjb2RlQXJyYXkoc3BlYy5zdGF0ZXMsIFVpbnQzMkFycmF5KTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGVjb2RlQXJyYXkoc3BlYy5zdGF0ZURhdGEpO1xuICAgICAgICB0aGlzLmdvdG8gPSBkZWNvZGVBcnJheShzcGVjLmdvdG8pO1xuICAgICAgICB0aGlzLm1heFRlcm0gPSBzcGVjLm1heFRlcm07XG4gICAgICAgIHRoaXMudG9rZW5pemVycyA9IHNwZWMudG9rZW5pemVycy5tYXAodmFsdWUgPT4gdHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIgPyBuZXcgVG9rZW5Hcm91cCh0b2tlbkFycmF5LCB2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgIHRoaXMudG9wUnVsZXMgPSBzcGVjLnRvcFJ1bGVzO1xuICAgICAgICB0aGlzLmRpYWxlY3RzID0gc3BlYy5kaWFsZWN0cyB8fCB7fTtcbiAgICAgICAgdGhpcy5keW5hbWljUHJlY2VkZW5jZXMgPSBzcGVjLmR5bmFtaWNQcmVjZWRlbmNlcyB8fCBudWxsO1xuICAgICAgICB0aGlzLnRva2VuUHJlY1RhYmxlID0gc3BlYy50b2tlblByZWM7XG4gICAgICAgIHRoaXMudGVybU5hbWVzID0gc3BlYy50ZXJtTmFtZXMgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5tYXhOb2RlID0gdGhpcy5ub2RlU2V0LnR5cGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IHRoaXMucGFyc2VEaWFsZWN0KCk7XG4gICAgICAgIHRoaXMudG9wID0gdGhpcy50b3BSdWxlc1tPYmplY3Qua2V5cyh0aGlzLnRvcFJ1bGVzKVswXV07XG4gICAgfVxuICAgIGNyZWF0ZVBhcnNlKGlucHV0LCBmcmFnbWVudHMsIHJhbmdlcykge1xuICAgICAgICBsZXQgcGFyc2UgPSBuZXcgUGFyc2UodGhpcywgaW5wdXQsIGZyYWdtZW50cywgcmFuZ2VzKTtcbiAgICAgICAgZm9yIChsZXQgdyBvZiB0aGlzLndyYXBwZXJzKVxuICAgICAgICAgICAgcGFyc2UgPSB3KHBhcnNlLCBpbnB1dCwgZnJhZ21lbnRzLCByYW5nZXMpO1xuICAgICAgICByZXR1cm4gcGFyc2U7XG4gICAgfVxuICAgIC8vLyBHZXQgYSBnb3RvIHRhYmxlIGVudHJ5IEBpbnRlcm5hbFxuICAgIGdldEdvdG8oc3RhdGUsIHRlcm0sIGxvb3NlID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHRhYmxlID0gdGhpcy5nb3RvO1xuICAgICAgICBpZiAodGVybSA+PSB0YWJsZVswXSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgZm9yIChsZXQgcG9zID0gdGFibGVbdGVybSArIDFdOzspIHtcbiAgICAgICAgICAgIGxldCBncm91cFRhZyA9IHRhYmxlW3BvcysrXSwgbGFzdCA9IGdyb3VwVGFnICYgMTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0YWJsZVtwb3MrK107XG4gICAgICAgICAgICBpZiAobGFzdCAmJiBsb29zZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgZm9yIChsZXQgZW5kID0gcG9zICsgKGdyb3VwVGFnID4+IDEpOyBwb3MgPCBlbmQ7IHBvcysrKVxuICAgICAgICAgICAgICAgIGlmICh0YWJsZVtwb3NdID09IHN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgaWYgKGxhc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLyBDaGVjayBpZiB0aGlzIHN0YXRlIGhhcyBhbiBhY3Rpb24gZm9yIGEgZ2l2ZW4gdGVybWluYWwgQGludGVybmFsXG4gICAgaGFzQWN0aW9uKHN0YXRlLCB0ZXJtaW5hbCkge1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgZm9yIChsZXQgc2V0ID0gMDsgc2V0IDwgMjsgc2V0KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgc2V0ID8gMiAvKiBTa2lwICovIDogMSAvKiBBY3Rpb25zICovKSwgbmV4dDs7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgIGlmICgobmV4dCA9IGRhdGFbaV0pID09IDY1NTM1IC8qIEVuZCAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtpICsgMV0gPT0gMSAvKiBOZXh0ICovKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGRhdGFbaSA9IHBhaXIoZGF0YSwgaSArIDIpXTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVtpICsgMV0gPT0gMiAvKiBPdGhlciAqLylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyKGRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXh0ID09IHRlcm1pbmFsIHx8IG5leHQgPT0gMCAvKiBFcnIgKi8pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWlyKGRhdGEsIGkgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIHN0YXRlU2xvdChzdGF0ZSwgc2xvdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZXNbKHN0YXRlICogNiAvKiBTaXplICovKSArIHNsb3RdO1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgc3RhdGVGbGFnKHN0YXRlLCBmbGFnKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDAgLyogRmxhZ3MgKi8pICYgZmxhZykgPiAwO1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgdmFsaWRBY3Rpb24oc3RhdGUsIGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uID09IHRoaXMuc3RhdGVTbG90KHN0YXRlLCA0IC8qIERlZmF1bHRSZWR1Y2UgKi8pKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnN0YXRlU2xvdChzdGF0ZSwgMSAvKiBBY3Rpb25zICovKTs7IGkgKz0gMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA9PSA2NTUzNSAvKiBFbmQgKi8pIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhW2kgKyAxXSA9PSAxIC8qIE5leHQgKi8pXG4gICAgICAgICAgICAgICAgICAgIGkgPSBwYWlyKHRoaXMuZGF0YSwgaSArIDIpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PSBwYWlyKHRoaXMuZGF0YSwgaSArIDEpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLyBHZXQgdGhlIHN0YXRlcyB0aGF0IGNhbiBmb2xsb3cgdGhpcyBvbmUgdGhyb3VnaCBzaGlmdCBhY3Rpb25zIG9yXG4gICAgLy8vIGdvdG8ganVtcHMuIEBpbnRlcm5hbFxuICAgIG5leHRTdGF0ZXMoc3RhdGUpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGF0ZVNsb3Qoc3RhdGUsIDEgLyogQWN0aW9ucyAqLyk7OyBpICs9IDMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFbaV0gPT0gNjU1MzUgLyogRW5kICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpICsgMV0gPT0gMSAvKiBOZXh0ICovKVxuICAgICAgICAgICAgICAgICAgICBpID0gcGFpcih0aGlzLmRhdGEsIGkgKyAyKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0aGlzLmRhdGFbaSArIDJdICYgKDY1NTM2IC8qIFJlZHVjZUZsYWcgKi8gPj4gMTYpKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5kYXRhW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5zb21lKCh2LCBpKSA9PiAoaSAmIDEpICYmIHYgPT0gdmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmRhdGFbaV0sIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLy8gQGludGVybmFsXG4gICAgb3ZlcnJpZGVzKHRva2VuLCBwcmV2KSB7XG4gICAgICAgIGxldCBpUHJldiA9IGZpbmRPZmZzZXQodGhpcy5kYXRhLCB0aGlzLnRva2VuUHJlY1RhYmxlLCBwcmV2KTtcbiAgICAgICAgcmV0dXJuIGlQcmV2IDwgMCB8fCBmaW5kT2Zmc2V0KHRoaXMuZGF0YSwgdGhpcy50b2tlblByZWNUYWJsZSwgdG9rZW4pIDwgaVByZXY7XG4gICAgfVxuICAgIC8vLyBDb25maWd1cmUgdGhlIHBhcnNlci4gUmV0dXJucyBhIG5ldyBwYXJzZXIgaW5zdGFuY2UgdGhhdCBoYXMgdGhlXG4gICAgLy8vIGdpdmVuIHNldHRpbmdzIG1vZGlmaWVkLiBTZXR0aW5ncyBub3QgcHJvdmlkZWQgaW4gYGNvbmZpZ2AgYXJlXG4gICAgLy8vIGtlcHQgZnJvbSB0aGUgb3JpZ2luYWwgcGFyc2VyLlxuICAgIGNvbmZpZ3VyZShjb25maWcpIHtcbiAgICAgICAgLy8gSGlkZW91cyByZWZsZWN0aW9uLWJhc2VkIGtsdWRnZSB0byBtYWtlIGl0IGVhc3kgdG8gY3JlYXRlIGFcbiAgICAgICAgLy8gc2xpZ2h0bHkgbW9kaWZpZWQgY29weSBvZiBhIHBhcnNlci5cbiAgICAgICAgbGV0IGNvcHkgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoTFJQYXJzZXIucHJvdG90eXBlKSwgdGhpcyk7XG4gICAgICAgIGlmIChjb25maWcucHJvcHMpXG4gICAgICAgICAgICBjb3B5Lm5vZGVTZXQgPSB0aGlzLm5vZGVTZXQuZXh0ZW5kKC4uLmNvbmZpZy5wcm9wcyk7XG4gICAgICAgIGlmIChjb25maWcudG9wKSB7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IHRoaXMudG9wUnVsZXNbY29uZmlnLnRvcF07XG4gICAgICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYEludmFsaWQgdG9wIHJ1bGUgbmFtZSAke2NvbmZpZy50b3B9YCk7XG4gICAgICAgICAgICBjb3B5LnRvcCA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy50b2tlbml6ZXJzKVxuICAgICAgICAgICAgY29weS50b2tlbml6ZXJzID0gdGhpcy50b2tlbml6ZXJzLm1hcCh0ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZm91bmQgPSBjb25maWcudG9rZW5pemVycy5maW5kKHIgPT4gci5mcm9tID09IHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZCA/IGZvdW5kLnRvIDogdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoY29uZmlnLnNwZWNpYWxpemVycykge1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplcnMgPSB0aGlzLnNwZWNpYWxpemVycy5zbGljZSgpO1xuICAgICAgICAgICAgY29weS5zcGVjaWFsaXplclNwZWNzID0gdGhpcy5zcGVjaWFsaXplclNwZWNzLm1hcCgocywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGNvbmZpZy5zcGVjaWFsaXplcnMuZmluZChyID0+IHIuZnJvbSA9PSBzLmV4dGVybmFsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICAgICAgICBsZXQgc3BlYyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcyksIHsgZXh0ZXJuYWw6IGZvdW5kLnRvIH0pO1xuICAgICAgICAgICAgICAgIGNvcHkuc3BlY2lhbGl6ZXJzW2ldID0gZ2V0U3BlY2lhbGl6ZXIoc3BlYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwZWM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmNvbnRleHRUcmFja2VyKVxuICAgICAgICAgICAgY29weS5jb250ZXh0ID0gY29uZmlnLmNvbnRleHRUcmFja2VyO1xuICAgICAgICBpZiAoY29uZmlnLmRpYWxlY3QpXG4gICAgICAgICAgICBjb3B5LmRpYWxlY3QgPSB0aGlzLnBhcnNlRGlhbGVjdChjb25maWcuZGlhbGVjdCk7XG4gICAgICAgIGlmIChjb25maWcuc3RyaWN0ICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LnN0cmljdCA9IGNvbmZpZy5zdHJpY3Q7XG4gICAgICAgIGlmIChjb25maWcud3JhcClcbiAgICAgICAgICAgIGNvcHkud3JhcHBlcnMgPSBjb3B5LndyYXBwZXJzLmNvbmNhdChjb25maWcud3JhcCk7XG4gICAgICAgIGlmIChjb25maWcuYnVmZmVyTGVuZ3RoICE9IG51bGwpXG4gICAgICAgICAgICBjb3B5LmJ1ZmZlckxlbmd0aCA9IGNvbmZpZy5idWZmZXJMZW5ndGg7XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cbiAgICAvLy8gVGVsbHMgeW91IHdoZXRoZXIgYW55IFtwYXJzZSB3cmFwcGVyc10oI2xyLlBhcnNlckNvbmZpZy53cmFwKVxuICAgIC8vLyBhcmUgcmVnaXN0ZXJlZCBmb3IgdGhpcyBwYXJzZXIuXG4gICAgaGFzV3JhcHBlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndyYXBwZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIC8vLyBSZXR1cm5zIHRoZSBuYW1lIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIHRlcm0uIFRoaXMgd2lsbCBvbmx5XG4gICAgLy8vIHdvcmsgZm9yIGFsbCB0ZXJtcyB3aGVuIHRoZSBwYXJzZXIgd2FzIGdlbmVyYXRlZCB3aXRoIHRoZVxuICAgIC8vLyBgLS1uYW1lc2Agb3B0aW9uLiBCeSBkZWZhdWx0LCBvbmx5IHRoZSBuYW1lcyBvZiB0YWdnZWQgdGVybXMgYXJlXG4gICAgLy8vIHN0b3JlZC5cbiAgICBnZXROYW1lKHRlcm0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVybU5hbWVzID8gdGhpcy50ZXJtTmFtZXNbdGVybV0gOiBTdHJpbmcodGVybSA8PSB0aGlzLm1heE5vZGUgJiYgdGhpcy5ub2RlU2V0LnR5cGVzW3Rlcm1dLm5hbWUgfHwgdGVybSk7XG4gICAgfVxuICAgIC8vLyBUaGUgZW9mIHRlcm0gaWQgaXMgYWx3YXlzIGFsbG9jYXRlZCBkaXJlY3RseSBhZnRlciB0aGUgbm9kZVxuICAgIC8vLyB0eXBlcy4gQGludGVybmFsXG4gICAgZ2V0IGVvZlRlcm0oKSB7IHJldHVybiB0aGlzLm1heE5vZGUgKyAxOyB9XG4gICAgLy8vIFRoZSB0eXBlIG9mIHRvcCBub2RlIHByb2R1Y2VkIGJ5IHRoZSBwYXJzZXIuXG4gICAgZ2V0IHRvcE5vZGUoKSB7IHJldHVybiB0aGlzLm5vZGVTZXQudHlwZXNbdGhpcy50b3BbMV1dOyB9XG4gICAgLy8vIEBpbnRlcm5hbFxuICAgIGR5bmFtaWNQcmVjZWRlbmNlKHRlcm0pIHtcbiAgICAgICAgbGV0IHByZWMgPSB0aGlzLmR5bmFtaWNQcmVjZWRlbmNlcztcbiAgICAgICAgcmV0dXJuIHByZWMgPT0gbnVsbCA/IDAgOiBwcmVjW3Rlcm1dIHx8IDA7XG4gICAgfVxuICAgIC8vLyBAaW50ZXJuYWxcbiAgICBwYXJzZURpYWxlY3QoZGlhbGVjdCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gT2JqZWN0LmtleXModGhpcy5kaWFsZWN0cyksIGZsYWdzID0gdmFsdWVzLm1hcCgoKSA9PiBmYWxzZSk7XG4gICAgICAgIGlmIChkaWFsZWN0KVxuICAgICAgICAgICAgZm9yIChsZXQgcGFydCBvZiBkaWFsZWN0LnNwbGl0KFwiIFwiKSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IHZhbHVlcy5pbmRleE9mKHBhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChpZCA+PSAwKVxuICAgICAgICAgICAgICAgICAgICBmbGFnc1tpZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBsZXQgZGlzYWJsZWQgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICghZmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5kaWFsZWN0c1t2YWx1ZXNbaV1dLCBpZDsgKGlkID0gdGhpcy5kYXRhW2orK10pICE9IDY1NTM1IC8qIEVuZCAqLzspXG4gICAgICAgICAgICAgICAgICAgIChkaXNhYmxlZCB8fCAoZGlzYWJsZWQgPSBuZXcgVWludDhBcnJheSh0aGlzLm1heFRlcm0gKyAxKSkpW2lkXSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGlhbGVjdChkaWFsZWN0LCBmbGFncywgZGlzYWJsZWQpO1xuICAgIH1cbiAgICAvLy8gVXNlZCBieSB0aGUgb3V0cHV0IG9mIHRoZSBwYXJzZXIgZ2VuZXJhdG9yLiBOb3QgYXZhaWxhYmxlIHRvXG4gICAgLy8vIHVzZXIgY29kZS5cbiAgICBzdGF0aWMgZGVzZXJpYWxpemUoc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IExSUGFyc2VyKHNwZWMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhaXIoZGF0YSwgb2ZmKSB7IHJldHVybiBkYXRhW29mZl0gfCAoZGF0YVtvZmYgKyAxXSA8PCAxNik7IH1cbmZ1bmN0aW9uIGZpbmRPZmZzZXQoZGF0YSwgc3RhcnQsIHRlcm0pIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQsIG5leHQ7IChuZXh0ID0gZGF0YVtpXSkgIT0gNjU1MzUgLyogRW5kICovOyBpKyspXG4gICAgICAgIGlmIChuZXh0ID09IHRlcm0pXG4gICAgICAgICAgICByZXR1cm4gaSAtIHN0YXJ0O1xuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGZpbmRGaW5pc2hlZChzdGFja3MpIHtcbiAgICBsZXQgYmVzdCA9IG51bGw7XG4gICAgZm9yIChsZXQgc3RhY2sgb2Ygc3RhY2tzKSB7XG4gICAgICAgIGxldCBzdG9wcGVkID0gc3RhY2sucC5zdG9wcGVkQXQ7XG4gICAgICAgIGlmICgoc3RhY2sucG9zID09IHN0YWNrLnAuc3RyZWFtLmVuZCB8fCBzdG9wcGVkICE9IG51bGwgJiYgc3RhY2sucG9zID4gc3RvcHBlZCkgJiZcbiAgICAgICAgICAgIHN0YWNrLnAucGFyc2VyLnN0YXRlRmxhZyhzdGFjay5zdGF0ZSwgMiAvKiBBY2NlcHRpbmcgKi8pICYmXG4gICAgICAgICAgICAoIWJlc3QgfHwgYmVzdC5zY29yZSA8IHN0YWNrLnNjb3JlKSlcbiAgICAgICAgICAgIGJlc3QgPSBzdGFjaztcbiAgICB9XG4gICAgcmV0dXJuIGJlc3Q7XG59XG5mdW5jdGlvbiBnZXRTcGVjaWFsaXplcihzcGVjKSB7XG4gICAgaWYgKHNwZWMuZXh0ZXJuYWwpIHtcbiAgICAgICAgbGV0IG1hc2sgPSBzcGVjLmV4dGVuZCA/IDEgLyogRXh0ZW5kICovIDogMCAvKiBTcGVjaWFsaXplICovO1xuICAgICAgICByZXR1cm4gKHZhbHVlLCBzdGFjaykgPT4gKHNwZWMuZXh0ZXJuYWwodmFsdWUsIHN0YWNrKSA8PCAxKSB8IG1hc2s7XG4gICAgfVxuICAgIHJldHVybiBzcGVjLmdldDtcbn1cblxuZXhwb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBJbnB1dFN0cmVhbSwgTFJQYXJzZXIsIFN0YWNrIH07XG4iLCAiaW1wb3J0IHsgRXh0ZXJuYWxUb2tlbml6ZXIsIExSUGFyc2VyIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IGNhc3RPcGVuID0gMSxcbiAgSGVyZWRvY1N0cmluZyA9IDIsXG4gIGludGVycG9sYXRlZFN0cmluZ0NvbnRlbnQgPSAyNjMsXG4gIEVzY2FwZVNlcXVlbmNlID0gMyxcbiAgYWZ0ZXJJbnRlcnBvbGF0aW9uID0gMjY0LFxuICBhdXRvbWF0aWNTZW1pY29sb24gPSAyNjUsXG4gIGVvZiA9IDI2NixcbiAgYWJzdHJhY3QgPSA0LFxuICBhbmQgPSA1LFxuICBhcnJheSA9IDYsXG4gIGFzID0gNyxcbiAgQm9vbGVhbiA9IDgsXG4gIF9icmVhayA9IDksXG4gIF9jYXNlID0gMTAsXG4gIF9jYXRjaCA9IDExLFxuICBjbG9uZSA9IDEyLFxuICBfY29uc3QgPSAxMyxcbiAgX2NvbnRpbnVlID0gMTQsXG4gIF9kZWZhdWx0ID0gMTUsXG4gIGRlY2xhcmUgPSAxNixcbiAgX2RvID0gMTcsXG4gIGVjaG8gPSAxOCxcbiAgX2Vsc2UgPSAxOSxcbiAgZWxzZWlmID0gMjAsXG4gIGVuZGRlY2xhcmUgPSAyMSxcbiAgZW5kZm9yID0gMjIsXG4gIGVuZGZvcmVhY2ggPSAyMyxcbiAgZW5kaWYgPSAyNCxcbiAgZW5kc3dpdGNoID0gMjUsXG4gIGVuZHdoaWxlID0gMjYsXG4gIF9lbnVtID0gMjcsXG4gIF9leHRlbmRzID0gMjgsXG4gIGZpbmFsID0gMjksXG4gIF9maW5hbGx5ID0gMzAsXG4gIGZuID0gMzEsXG4gIF9mb3IgPSAzMixcbiAgZm9yZWFjaCA9IDMzLFxuICBmcm9tID0gMzQsXG4gIF9mdW5jdGlvbiA9IDM1LFxuICBnbG9iYWwgPSAzNixcbiAgZ290byA9IDM3LFxuICBfaWYgPSAzOCxcbiAgX2ltcGxlbWVudHMgPSAzOSxcbiAgaW5jbHVkZSA9IDQwLFxuICBpbmNsdWRlX29uY2UgPSA0MSxcbiAgX2luc3RhbmNlb2YgPSA0MixcbiAgaW5zdGVhZG9mID0gNDMsXG4gIF9pbnRlcmZhY2UgPSA0NCxcbiAgbGlzdCA9IDQ1LFxuICBtYXRjaCA9IDQ2LFxuICBuYW1lc3BhY2UgPSA0NyxcbiAgX25ldyA9IDQ4LFxuICBfbnVsbCA9IDQ5LFxuICBvciA9IDUwLFxuICBwcmludCA9IDUxLFxuICByZXF1aXJlID0gNTIsXG4gIHJlcXVpcmVfb25jZSA9IDUzLFxuICBfcmV0dXJuID0gNTQsXG4gIF9zd2l0Y2ggPSA1NSxcbiAgX3Rocm93ID0gNTYsXG4gIHRyYWl0ID0gNTcsXG4gIF90cnkgPSA1OCxcbiAgdW5zZXQgPSA1OSxcbiAgdXNlID0gNjAsXG4gIF92YXIgPSA2MSxcbiAgVmlzaWJpbGl0eSA9IDYyLFxuICBfd2hpbGUgPSA2MyxcbiAgeG9yID0gNjQsXG4gIF95aWVsZCA9IDY1O1xuXG5jb25zdCBrZXl3b3JkTWFwID0ge1xuICBhYnN0cmFjdCxcbiAgYW5kLFxuICBhcnJheSxcbiAgYXMsXG4gIHRydWU6IEJvb2xlYW4sXG4gIGZhbHNlOiBCb29sZWFuLFxuICBicmVhazogX2JyZWFrLFxuICBjYXNlOiBfY2FzZSxcbiAgY2F0Y2g6IF9jYXRjaCxcbiAgY2xvbmUsXG4gIGNvbnN0OiBfY29uc3QsXG4gIGNvbnRpbnVlOiBfY29udGludWUsXG4gIGRlY2xhcmUsXG4gIGRlZmF1bHQ6IF9kZWZhdWx0LFxuICBkbzogX2RvLFxuICBlY2hvLFxuICBlbHNlOiBfZWxzZSxcbiAgZWxzZWlmLFxuICBlbmRkZWNsYXJlLFxuICBlbmRmb3IsXG4gIGVuZGZvcmVhY2gsXG4gIGVuZGlmLFxuICBlbmRzd2l0Y2gsXG4gIGVuZHdoaWxlLFxuICBlbnVtOiBfZW51bSxcbiAgZXh0ZW5kczogX2V4dGVuZHMsXG4gIGZpbmFsLFxuICBmaW5hbGx5OiBfZmluYWxseSxcbiAgZm4sXG4gIGZvcjogX2ZvcixcbiAgZm9yZWFjaCxcbiAgZnJvbSxcbiAgZnVuY3Rpb246IF9mdW5jdGlvbixcbiAgZ2xvYmFsLFxuICBnb3RvLFxuICBpZjogX2lmLFxuICBpbXBsZW1lbnRzOiBfaW1wbGVtZW50cyxcbiAgaW5jbHVkZSxcbiAgaW5jbHVkZV9vbmNlLFxuICBpbnN0YW5jZW9mOiBfaW5zdGFuY2VvZixcbiAgaW5zdGVhZG9mLFxuICBpbnRlcmZhY2U6IF9pbnRlcmZhY2UsXG4gIGxpc3QsXG4gIG1hdGNoLFxuICBuYW1lc3BhY2UsXG4gIG5ldzogX25ldyxcbiAgbnVsbDogX251bGwsXG4gIG9yLFxuICBwcmludCxcbiAgcmVxdWlyZSxcbiAgcmVxdWlyZV9vbmNlLFxuICByZXR1cm46IF9yZXR1cm4sXG4gIHN3aXRjaDogX3N3aXRjaCxcbiAgdGhyb3c6IF90aHJvdyxcbiAgdHJhaXQsXG4gIHRyeTogX3RyeSxcbiAgdW5zZXQsXG4gIHVzZSxcbiAgdmFyOiBfdmFyLFxuICBwdWJsaWM6IFZpc2liaWxpdHksXG4gIHByaXZhdGU6IFZpc2liaWxpdHksXG4gIHByb3RlY3RlZDogVmlzaWJpbGl0eSxcbiAgd2hpbGU6IF93aGlsZSxcbiAgeG9yLFxuICB5aWVsZDogX3lpZWxkLFxuICBfX3Byb3RvX186IG51bGwsXG59O1xuXG5mdW5jdGlvbiBrZXl3b3JkcyhuYW1lKSB7XG4gIGxldCBmb3VuZCA9IGtleXdvcmRNYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgcmV0dXJuIGZvdW5kID09IG51bGwgPyAtMSA6IGZvdW5kXG59XG5cbmZ1bmN0aW9uIGlzU3BhY2UoY2gpIHtcbiAgcmV0dXJuIGNoID09IDkgfHwgY2ggPT0gMTAgfHwgY2ggPT0gMTMgfHwgY2ggPT0gMzJcbn1cblxuZnVuY3Rpb24gaXNBU0NJSUxldHRlcihjaCkge1xuICByZXR1cm4gY2ggPj0gOTcgJiYgY2ggPD0gMTIyIHx8IGNoID49IDY1ICYmIGNoIDw9IDkwXG59XG5cbmZ1bmN0aW9uIGlzSWRlbnRpZmllclN0YXJ0KGNoKSB7XG4gIHJldHVybiBjaCA9PSA5NSB8fCBjaCA+PSAweDgwIHx8IGlzQVNDSUlMZXR0ZXIoY2gpXG59XG5cbmZ1bmN0aW9uIGlzSGV4KGNoKSB7XG4gIHJldHVybiBjaCA+PSA0OCAmJiBjaCA8PSA1NSB8fCBjaCA+PSA5NyAmJiBjaCA8PSAxMDIgfHwgY2ggPj0gNjUgJiYgY2ggPD0gNzAgLyogMC05LCBhLWYsIEEtRiAqL1xufVxuXG5jb25zdCBjYXN0VHlwZXMgPSB7XG4gIGludDogdHJ1ZSwgaW50ZWdlcjogdHJ1ZSwgYm9vbDogdHJ1ZSwgYm9vbGVhbjogdHJ1ZSxcbiAgZmxvYXQ6IHRydWUsIGRvdWJsZTogdHJ1ZSwgcmVhbDogdHJ1ZSwgc3RyaW5nOiB0cnVlLFxuICBhcnJheTogdHJ1ZSwgb2JqZWN0OiB0cnVlLCB1bnNldDogdHJ1ZSxcbiAgX19wcm90b19fOiBudWxsXG59O1xuXG5jb25zdCBleHByZXNzaW9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgaWYgKGlucHV0Lm5leHQgPT0gNDAgLyogJygnICovKSB7XG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGxldCBwZWVrID0gMDtcbiAgICB3aGlsZSAoaXNTcGFjZShpbnB1dC5wZWVrKHBlZWspKSkgcGVlaysrO1xuICAgIGxldCBuYW1lID0gXCJcIiwgbmV4dDtcbiAgICB3aGlsZSAoaXNBU0NJSUxldHRlcihuZXh0ID0gaW5wdXQucGVlayhwZWVrKSkpIHtcbiAgICAgIG5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0KTtcbiAgICAgIHBlZWsrKztcbiAgICB9XG4gICAgd2hpbGUgKGlzU3BhY2UoaW5wdXQucGVlayhwZWVrKSkpIHBlZWsrKztcbiAgICBpZiAoaW5wdXQucGVlayhwZWVrKSA9PSA0MSAvKiAnKScgKi8gJiYgY2FzdFR5cGVzW25hbWUudG9Mb3dlckNhc2UoKV0pXG4gICAgICBpbnB1dC5hY2NlcHRUb2tlbihjYXN0T3Blbik7XG4gIH0gZWxzZSBpZiAoaW5wdXQubmV4dCA9PSA2MCAvKiAnPCcgKi8gJiYgaW5wdXQucGVlaygxKSA9PSA2MCAmJiBpbnB1dC5wZWVrKDIpID09IDYwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIGlucHV0LmFkdmFuY2UoKTtcbiAgICB3aGlsZSAoaW5wdXQubmV4dCA9PSAzMiAvKiAnICcgKi8gfHwgaW5wdXQubmV4dCA9PSA5IC8qICdcXHQnICovKSBpbnB1dC5hZHZhbmNlKCk7XG4gICAgbGV0IHF1b3RlZCA9IGlucHV0Lm5leHQgPT0gMzk7IC8qIFwiJ1wiICovXG4gICAgaWYgKHF1b3RlZCkgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGlmICghaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQubmV4dCkpIHJldHVyblxuICAgIGxldCB0YWcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGlucHV0Lm5leHQpO1xuICAgIGZvciAoOzspIHtcbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGlmICghaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQubmV4dCkgJiYgIShpbnB1dC5uZXh0ID49IDQ4ICYmIGlucHV0Lm5leHQgPD0gNTUpIC8qIDAtOSAqLykgYnJlYWtcbiAgICAgIHRhZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGlucHV0Lm5leHQpO1xuICAgIH1cbiAgICBpZiAocXVvdGVkKSB7XG4gICAgICBpZiAoaW5wdXQubmV4dCAhPSAzOSkgcmV0dXJuXG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfVxuICAgIGlmIChpbnB1dC5uZXh0ICE9IDEwIC8qICdcXG4nICovICYmIGlucHV0Lm5leHQgIT0gMTMgLyogJ1xccicgKi8pIHJldHVyblxuICAgIGZvciAoOzspIHtcbiAgICAgIGxldCBsaW5lU3RhcnQgPSBpbnB1dC5uZXh0ID09IDEwIHx8IGlucHV0Lm5leHQgPT0gMTM7XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICBpZiAoaW5wdXQubmV4dCA8IDApIHJldHVyblxuICAgICAgaWYgKGxpbmVTdGFydCkge1xuICAgICAgICB3aGlsZSAoaW5wdXQubmV4dCA9PSAzMiAvKiAnICcgKi8gfHwgaW5wdXQubmV4dCA9PSA5IC8qICdcXHQnICovKSBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgIGxldCBtYXRjaCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGlucHV0Lm5leHQgIT0gdGFnLmNoYXJDb2RlQXQoaSkpIHsgbWF0Y2ggPSBmYWxzZTsgYnJlYWsgfVxuICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2gpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihIZXJlZG9jU3RyaW5nKVxuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGVvZlRva2VuID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgaWYgKGlucHV0Lm5leHQgPCAwKSBpbnB1dC5hY2NlcHRUb2tlbihlb2YpO1xufSk7XG5cbmNvbnN0IHNlbWljb2xvbiA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGlmIChpbnB1dC5uZXh0ID09IDYzIC8qICc/JyAqLyAmJiBzdGFjay5jYW5TaGlmdChhdXRvbWF0aWNTZW1pY29sb24pICYmIGlucHV0LnBlZWsoMSkgPT0gNjIgLyogJz4nICovKVxuICAgIGlucHV0LmFjY2VwdFRva2VuKGF1dG9tYXRpY1NlbWljb2xvbik7XG59KTtcblxuZnVuY3Rpb24gc2NhbkVzY2FwZShpbnB1dCkge1xuICBsZXQgYWZ0ZXIgPSBpbnB1dC5wZWVrKDEpO1xuICBpZiAoYWZ0ZXIgPT0gMTEwIC8qICduJyAqLyB8fCBhZnRlciA9PSAxMTQgLyogJ3InICovIHx8IGFmdGVyID09IDExNiAvKiAndCcgKi8gfHxcbiAgICAgIGFmdGVyID09IDExOCAvKiAndicgKi8gfHwgYWZ0ZXIgPT0gMTAxIC8qICdlJyAqLyB8fCBhZnRlciA9PSAxMDIgLyogJ2YnICovIHx8XG4gICAgICBhZnRlciA9PSA5MiAvKiAnXFxcXCcgKi8gfHwgYWZ0ZXIgPT0gMzYgLyogJ1wiJyAqLyB8fCBhZnRlciA9PSAzNCAvKiAnJCcgKi8gfHxcbiAgICAgIGFmdGVyID09IDEyMyAvKiAneycgKi8pXG4gICAgcmV0dXJuIDJcblxuICBpZiAoYWZ0ZXIgPj0gNDggJiYgYWZ0ZXIgPD0gNTUgLyogJzAnLSc3JyAqLykge1xuICAgIGxldCBzaXplID0gMiwgbmV4dDtcbiAgICB3aGlsZSAoc2l6ZSA8IDUgJiYgKG5leHQgPSBpbnB1dC5wZWVrKHNpemUpKSA+PSA0OCAmJiBuZXh0IDw9IDU1KSBzaXplKys7XG4gICAgcmV0dXJuIHNpemVcbiAgfVxuXG4gIGlmIChhZnRlciA9PSAxMjAgLyogJ3gnICovICYmIGlzSGV4KGlucHV0LnBlZWsoMikpKSB7XG4gICAgcmV0dXJuIGlzSGV4KGlucHV0LnBlZWsoMykpID8gNCA6IDNcbiAgfVxuXG4gIGlmIChhZnRlciA9PSAxMTcgLyogJ3UnICovICYmIGlucHV0LnBlZWsoMikgPT0gMTIzIC8qICd7JyAqLykge1xuICAgIGZvciAobGV0IHNpemUgPSAzOzsgc2l6ZSsrKSB7XG4gICAgICBsZXQgbmV4dCA9IGlucHV0LnBlZWsoc2l6ZSk7XG4gICAgICBpZiAobmV4dCA9PSAxMjUgLyogJ30nICovKSByZXR1cm4gc2l6ZSA9PSAyID8gMCA6IHNpemUgKyAxXG4gICAgICBpZiAoIWlzSGV4KG5leHQpKSBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwXG59XG5cbmNvbnN0IGludGVycG9sYXRlZCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGxldCBjb250ZW50ID0gZmFsc2U7XG4gIGZvciAoOzsgY29udGVudCA9IHRydWUpIHtcbiAgICBpZiAoaW5wdXQubmV4dCA9PSAzNCAvKiAnXCInICovIHx8IGlucHV0Lm5leHQgPCAwIHx8XG4gICAgICAgIGlucHV0Lm5leHQgPT0gMzYgLyogJyQnICovICYmIChpc0lkZW50aWZpZXJTdGFydChpbnB1dC5wZWVrKDEpKSB8fCBpbnB1dC5wZWVrKDEpID09IDEyMyAvKiAneycgKi8pIHx8XG4gICAgICAgIGlucHV0Lm5leHQgPT0gMTIzIC8qICd7JyAqLyAmJiBpbnB1dC5wZWVrKDEpID09IDM2IC8qICckJyAqLykge1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gOTIgLyogJ1xcXFwnICovKSB7XG4gICAgICBsZXQgZXNjYXBlZCA9IHNjYW5Fc2NhcGUoaW5wdXQpO1xuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgaWYgKGNvbnRlbnQpIGJyZWFrXG4gICAgICAgIGVsc2UgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKEVzY2FwZVNlcXVlbmNlLCBlc2NhcGVkKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWNvbnRlbnQgJiYgKFxuICAgICAgaW5wdXQubmV4dCA9PSA5MSAvKiAnWycgKi8gfHxcbiAgICAgIGlucHV0Lm5leHQgPT0gNDUgLyogJy0nICovICYmIGlucHV0LnBlZWsoMSkgPT0gNjIgLyogJz4nICovICYmIGlzSWRlbnRpZmllclN0YXJ0KGlucHV0LnBlZWsoMikpIHx8XG4gICAgICBpbnB1dC5uZXh0ID09IDYzIC8qICc/JyAqLyAmJiBpbnB1dC5wZWVrKDEpID09IDQ1ICYmIGlucHV0LnBlZWsoMikgPT0gNjIgJiYgaXNJZGVudGlmaWVyU3RhcnQoaW5wdXQucGVlaygzKSlcbiAgICApICYmIHN0YWNrLmNhblNoaWZ0KGFmdGVySW50ZXJwb2xhdGlvbikpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgfVxuICBpZiAoY29udGVudCkgaW5wdXQuYWNjZXB0VG9rZW4oaW50ZXJwb2xhdGVkU3RyaW5nQ29udGVudCk7XG59KTtcblxuY29uc3QgcGhwSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgXCJWaXNpYmlsaXR5IGFic3RyYWN0IGZpbmFsIHN0YXRpY1wiOiB0YWdzLm1vZGlmaWVyLFxuICBcImZvciBmb3JlYWNoIHdoaWxlIGRvIGlmIGVsc2UgZWxzZWlmIHN3aXRjaCB0cnkgY2F0Y2ggZmluYWxseSByZXR1cm4gdGhyb3cgYnJlYWsgY29udGludWUgZGVmYXVsdCBjYXNlXCI6IHRhZ3MuY29udHJvbEtleXdvcmQsXG4gIFwiZW5kaWYgZW5kZm9yIGVuZGZvcmVhY2ggZW5kc3dpdGNoIGVuZHdoaWxlIGRlY2xhcmUgZW5kZGVjbGFyZSBnb3RvIG1hdGNoXCI6IHRhZ3MuY29udHJvbEtleXdvcmQsXG4gIFwiYW5kIG9yIHhvciB5aWVsZCB1bnNldCBjbG9uZSBpbnN0YW5jZW9mIGluc3RlYWRvZlwiOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgXCJmdW5jdGlvbiBmbiBjbGFzcyB0cmFpdCBpbXBsZW1lbnRzIGV4dGVuZHMgY29uc3QgZW51bSBnbG9iYWwgaW50ZXJmYWNlIHVzZSB2YXJcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJpbmNsdWRlIGluY2x1ZGVfb25jZSByZXF1aXJlIHJlcXVpcmVfb25jZSBuYW1lc3BhY2VcIjogdGFncy5tb2R1bGVLZXl3b3JkLFxuICBcIm5ldyBmcm9tIGVjaG8gcHJpbnQgYXJyYXkgbGlzdCBhc1wiOiB0YWdzLmtleXdvcmQsXG4gIG51bGw6IHRhZ3MubnVsbCxcbiAgQm9vbGVhbjogdGFncy5ib29sLFxuICBWYXJpYWJsZU5hbWU6IHRhZ3MudmFyaWFibGVOYW1lLFxuICBcIk5hbWVzcGFjZU5hbWUvLi4uXCI6IHRhZ3MubmFtZXNwYWNlLFxuICBcIk5hbWVkVHlwZS8uLi5cIjogdGFncy50eXBlTmFtZSxcbiAgTmFtZTogdGFncy5uYW1lLFxuICBcIkNhbGxFeHByZXNzaW9uL05hbWVcIjogdGFncy5mdW5jdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksXG4gIFwiTGFiZWxTdGF0ZW1lbnQvTmFtZVwiOiB0YWdzLmxhYmVsTmFtZSxcbiAgXCJNZW1iZXJFeHByZXNzaW9uL05hbWVcIjogdGFncy5wcm9wZXJ0eU5hbWUsXG4gIFwiTWVtYmVyRXhwcmVzc2lvbi9WYXJpYWJsZU5hbWVcIjogdGFncy5zcGVjaWFsKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJTY29wZWRFeHByZXNzaW9uL0NsYXNzTWVtYmVyTmFtZS9OYW1lXCI6IHRhZ3MucHJvcGVydHlOYW1lLFxuICBcIlNjb3BlZEV4cHJlc3Npb24vQ2xhc3NNZW1iZXJOYW1lL1ZhcmlhYmxlTmFtZVwiOiB0YWdzLnNwZWNpYWwodGFncy5wcm9wZXJ0eU5hbWUpLFxuICBcIkNhbGxFeHByZXNzaW9uL01lbWJlckV4cHJlc3Npb24vTmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9TY29wZWRFeHByZXNzaW9uL0NsYXNzTWVtYmVyTmFtZS9OYW1lXCI6IHRhZ3MuZnVuY3Rpb24odGFncy5wcm9wZXJ0eU5hbWUpLFxuICBcIk1ldGhvZERlY2xhcmF0aW9uL05hbWVcIjogdGFncy5mdW5jdGlvbih0YWdzLmRlZmluaXRpb24odGFncy52YXJpYWJsZU5hbWUpKSxcbiAgXCJGdW5jdGlvbkRlZmluaXRpb24vTmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSkpLFxuICBcIkNsYXNzRGVjbGFyYXRpb24vTmFtZVwiOiB0YWdzLmRlZmluaXRpb24odGFncy5jbGFzc05hbWUpLFxuICBVcGRhdGVPcDogdGFncy51cGRhdGVPcGVyYXRvcixcbiAgQXJpdGhPcDogdGFncy5hcml0aG1ldGljT3BlcmF0b3IsXG4gIExvZ2ljT3A6IHRhZ3MubG9naWNPcGVyYXRvcixcbiAgQml0T3A6IHRhZ3MuYml0d2lzZU9wZXJhdG9yLFxuICBDb21wYXJlT3A6IHRhZ3MuY29tcGFyZU9wZXJhdG9yLFxuICBDb250cm9sT3A6IHRhZ3MuY29udHJvbE9wZXJhdG9yLFxuICBBc3NpZ25PcDogdGFncy5kZWZpbml0aW9uT3BlcmF0b3IsXG4gIFwiJCBDb25jYXRPcFwiOiB0YWdzLm9wZXJhdG9yLFxuICBMaW5lQ29tbWVudDogdGFncy5saW5lQ29tbWVudCxcbiAgQmxvY2tDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgSW50ZWdlcjogdGFncy5pbnRlZ2VyLFxuICBGbG9hdDogdGFncy5mbG9hdCxcbiAgU3RyaW5nOiB0YWdzLnN0cmluZyxcbiAgU2hlbGxFeHByZXNzaW9uOiB0YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpLFxuICBcIj0+IC0+XCI6IHRhZ3MucHVuY3R1YXRpb24sXG4gIFwiKCApXCI6IHRhZ3MucGFyZW4sXG4gIFwiI1sgWyBdXCI6IHRhZ3Muc3F1YXJlQnJhY2tldCxcbiAgXCIkeyB7IH1cIjogdGFncy5icmFjZSxcbiAgXCItPiA/LT5cIjogdGFncy5kZXJlZk9wZXJhdG9yLFxuICBcIiwgOyA6OiA6IFxcXFxcIjogdGFncy5zZXBhcmF0b3IsXG4gIFwiUGhwT3BlbiBQaHBDbG9zZVwiOiB0YWdzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbixcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHNwZWNfTmFtZSA9IHtfX3Byb3RvX186bnVsbCxzdGF0aWM6MzExLCBTVEFUSUM6MzExLCBjbGFzczozMzMsIENMQVNTOjMzM307XG5jb25zdCBwYXJzZXIgPSBMUlBhcnNlci5kZXNlcmlhbGl6ZSh7XG4gIHZlcnNpb246IDE0LFxuICBzdGF0ZXM6IFwiJEdTUWBPV09PUWhRYU9PUCVvT2BPT09PTyN0JyNIXycjSF9PJXRPI3xPJyNEdE9PTyN1JyNEdycjRHdRJlNPV08nI0R3TyZYTyRWT09PT1EjdScjRHgnI0R4TyZsUWFPJyNEfE8obVFkTycjRX1PKHRRZE8nI0VRTyprUWFPJyNFV08selFgTycjRVRPLVBRYE8nI0VeTy9uUWFPJyNFXk8vdVFgTycjRWZPL3pRYE8nI0VvTyprUWFPJyNFb08wVlFgTycjSGhPMFtRYE8nI0V7TzBbUWBPJyNFe09PUVMnI0ljJyNJY08wYVFgTycjRXZPT1FTJyNJWicjSVpPMm9RZE8nI0lXTzZ0UWVPJyNGVU8qa1FhTycjRmVPKmtRYU8nI0ZmTyprUWFPJyNGZ08qa1FhTycjRmhPKmtRYU8nI0ZoTyprUWFPJyNGa09PUU8nI0lkJyNJZE83UlFgTycjRnFPT1FPJyNIaScjSGlPN1pRYE8nI0hPTzd1UWBPJyNGbE84UVFgTycjSF1POF1RYE8nI0Z2TzhlUWFPJyNGd08qa1FhTycjR1ZPKmtRYU8nI0dZTzh9T3JPJyNHXU9PUVMnI0lxJyNJcU9PUVMnI0lwJyNJcE9PUVMnI0lXJyNJV08selFgTycjR2RPLHpRYE8nI0dmTyx6UWBPJyNHa09oUWFPJyNHbU85VVFgTycjR25POVpRYE8nI0dxTzlgUWBPJyNHdE85ZVFlTycjR3VPOWVRZU8nI0d2TzllUWVPJyNHd085b1FgTycjR3hPOXRRYE8nI0d6Tzl5UWFPJyNHe088WVFgTycjR3xPPF9RYE8nI0d9TzxkUWBPJyNHfU85b1FgTycjSE9PPGlRYE8nI0hRTzxuUWBPJyNIUk88c1FgTycjSFNPPHhRYE8nI0hWTz1UUWBPJyNIV085eVFhTycjSFtPT1EjdScjSVYnI0lWT09RI3UnI0hhJyNIYVFoUWFPT089ZlFgTycjSFBPN3BRYE8nI0hQTz1rTyN8TycjRHJQT09PKUNDdylDQ3dPT08jdC1FO10tRTtdT09PI3UsNTpjLDU6Y09PTyN1JyNIYCcjSGBPJlhPJFZPT089dlEkVk8nI0lVT09PTycjSVUnI0lVUU9PT09PT09RI3ksNTpoLDU6aE89fVFhTyw1OmhPT1EjdSw1OmosNTpqT0BlUWFPLDU6bU9AbFFhTyw1O1VPKmtRYU8sNTtVT0BzUWBPLDU7Vk9DYlFhTycjRXNPT1FTLDU7Xiw1O15PQ2lRYE8sNTtqT09RUCcjRl0nI0ZdTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU8qa1FhTyw1O3FPKmtRYU8sNTtxTyprUWFPLDU7cU9PUSN1JyNJbScjSW1PT1FTLDU8cSw1PHFPT1EjdSw1OmwsNTpsT0ViUWBPLDU6ck9FaVFkTycjRX1PRl1RYE8nI0ZsT0ZlUWBPJyNGbE9GbVFgTyw1Om9PRnJRYU8nI0VfT09RUyw1OngsNTp4T0h5UWBPJyNJXU85eVFhTycjRWFPOXlRYU8nI0ldT09RUycjSV0nI0ldT0lRUWBPJyNJW09JWVFgTyw1OnhPLVVRYU8sNTp4T0lfUWFPJyNFZ09PUVMsNTtRLDU7UU9PUVMsNTtaLDU7Wk9JaVFgTyw1O1pPT1FPLDU+Uyw1PlNPSltRZE8sNTtnT09RTy1FO2YtRTtmT0xeUWBPLDU7Z09MY1FwTyw1O2JPMGFRYE8nI0V5T0xrUXRPJyNFfU9PUVMnI0V6JyNFek9PUVMnI0liJyNJYk9NYFFhTyw1OndPKmtRYU8sNTtuT09RUyw1O3AsNTtwTyprUWFPLDU7cE9NZ1FkTyw1PFBPTXdRZE8sNTxRT05YUWRPLDU8Uk9OaVFkTyw1PFNPISFzUWRPLDU8U08hIXpRZE8sNTxWTyEjW1FgTycjRnJPISNnUWBPJyNJZ08hI29RYE8sNTxdT09RTy1FO2ctRTtnTyEjdFFgTycjSW9PPF9RYE8sNT1pTyEjfFFgTyw1PWlPOW9RYE8sNT1qTyEkUlFgTyw1PW5PISRXUWBPLDU9a08hJF1RYE8sNT1rTyEkYlFgTycjRm5PISR4UWBPLDU8V08hJVRRYE8sNTxXTyElV1FgTyw1P1pPISVdUWBPLDU8V08hJWVRYE8sNTxiTyElbVFkTycjR1BPISV7UWRPJyNJbk8hJldRZE8sNT13TyEmYFFgTyw1PGJPISVXUWBPLDU8Yk8hJmhRZE8sNTxjTyEmeFFgTyw1PGNPISdsUWRPLDU8cU8hKW5RZE8sNTx0TyEqT09yTycjSHNPT09RJyNJdCcjSXRPKmtRYU8nI0diT09PUScjSHMnI0hzTyEqcE9yTyw1PHdPT1FTLDU8dyw1PHdPISp3UWFPLDU9T08hK09RYE8sNT1RTyErV1FlTyw1PVZPIStiUWBPLDU9WE8hK2dRYU8nI0dvTyErV1FlTyw1PVlPOXlRYU8nI0dyTyErV1FlTyw1PV1PISZXUWRPLDU9YE8odFFkTyw1PWFPT1EjdSw1PWEsNT1hTyh0UWRPLDU9Yk9PUSN1LDU9Yiw1PWJPKHRRZE8sNT1jT09RI3UsNT1jLDU9Y08hK25RYE8sNT1kTyErdlFgTyw1PWZPISt7UWRPJyNJdk9PUVMnI0l2JyNJdk8hJldRZE8sNT1nTz5VUWFPLDU9aE8hLWVRYE8nI0Z9TyEtalFkTycjSWxPISZXUWRPLDU9aU9PUSN1LDU9aiw1PWpPIS11UWBPLDU9bE8hLXhRYE8sNT1tTyEtfVFgTyw1PW5PIS5ZUWRPLDU9cU9PUSN1LDU9cSw1PXFPIS5lUWBPLDU9ck8hLmVRYE8sNT1yTyEubVFkTycjSXdPIS57UWBPJyNIWE8hJldRZE8sNT1yTyEvWlFgTyw1PXJPIS9mUWRPJyNJWU8hJldRZE8sNT12T09RI3UtRTtfLUU7X08hMVJRYE8sNT1rT09PI3UsNTpeLDU6Xk8hMV5PI3xPLDU6Xk9PTyN1LUU7Xi1FO15PT09PLDU+cCw1PnBPT1EjeTFHMFMxRzBTTyExZlFgTzFHMFhPKmtRYU8xRzBYTyEyeFFgTzFHMHBPT1FTMUcwcDFHMHBPITRbUWBPMUcwcE9PUVMnI0lfJyNJX08qa1FhTycjSV9PT1FTMUcwcTFHMHFPITRjUWBPJyNJYU8hN2xRYE8nI0V9TyE3eVFhTycjRXVPT1FPJyNJYScjSWFPIThUUWBPJyNJYE8hOF1RYE8sNTtfT09RUycjRlEnI0ZRT09RUzFHMVUxRzFVTyE4YlFkTzFHMV1PITpkUWRPMUcxXU8hPFBRZE8xRzFdTyE9bFFkTzFHMV1PIT9YUWRPMUcxXU8hQHRRZE8xRzFdTyFCYVFkTzFHMV1PIUN8UWRPMUcxXU8hRWlRZE8xRzFdTyFHVVFkTzFHMV1PIUhxUWRPMUcxXU8hSl5RZE8xRzFdTyFLeVFkTzFHMV1PIU1mUWRPMUcxXU8jIFJRZE8xRzFdTyMhblFkTzFHMV1PT1FUMUcwXjFHMF5PISVXUWBPLDU8V08jJFpRYU8nI0VYT09RUzFHMFoxRzBaTyMkYlFgTyw1OnlPRnVRYU8sNTp5TyMkZ1FhTyw1On1PIyRuUWRPLDU6e08jJmpRZE8sNT53TyMoZlFhTycjSGRPIyh2UWBPLDU+dk9PUVMxRzBkMUcwZE8jKU9RYE8xRzBkTyMpVFFgTycjSV5PIyptUWBPJyNJXk8jKnVRYE8sNTtST0liUWFPLDU7Uk9PUVMxRzB1MUcwdVBPUU8nI0V9JyNFfU8jK2ZRZE8xRzFSTzBhUWBPJyNIZ08jLWhRdE8sNTtjTyMuWVFhTzFHMHxPT1FTLDU7ZSw1O2VPIzBpUXRPLDU7Z08jMHZRZE8xRzBjTyprUWFPMUcwY08jMmNRZE8xRzFZTyM0T1FkTzFHMVtPT1FPLDU8Xiw1PF5PIzRgUWBPJyNIak8jNG5RYE8sNT9ST09RTzFHMXcxRzF3TyM0dlFgTyw1P1pPISZXUWRPMUczVE88X1FgTzFHM1RPT1EjdTFHM1UxRzNVTyM0e1FgTzFHM1lPITFSUWBPMUczVk8jNVdRYE8xRzNWTyM1XVFwTycjRm9PIzVrUWBPJyNGb08jNXtRYE8nI0ZvTyM2V1FgTycjRm9PIzZgUWBPJyNGc08jNmVRYE8nI0Z0T09RTycjSWYnI0lmTyM2bFFgTycjSWVPIzZ0UWBPLDU8WU9PUVMxRzFyMUcxck8wYVFgTzFHMXJPIzZ5UWBPMUcxck8jN09RYE8xRzFyTyElV1FgTzFHNHVPIzdaUWRPMUc0dU8hJVdRYE8xRzFyTyM3aVFgTzFHMXxPISVXUWBPMUcxfE85eVFhTyw1PGtPIzdxUWRPJyNIcU8jOFBRZE8sNT9ZT09RI3UxRzNjMUczY08qa1FhTzFHMXxPMGFRYE8xRzF8TyM4W1FkTzFHMX1PN1JRYE8nI0Z5TzdSUWBPJyNGek8jOm5RYE8nI0Z7T09RUzFHMX0xRzF9TyEteFFgTzFHMX1PITFVUWBPMUcxfU8hMVJRYE8xRzF9TyM7ZU9gTyw1PHhPIztqT2BPLDU8eE8jO3VPIWJPLDU8eU8jPFRRYE8sNTx8T09PUS1FO3EtRTtxT09RUzFHMmMxRzJjTyM8W1FhTycjR2VPIzx1USRWTzFHMmpPI0F1UWBPMUcyak8jQlFRYE8nI0dnTyNCXVFgTycjR2pPT1EjdTFHMmwxRzJsTyNCaFFgTzFHMmxPT1EjdScjR2wnI0dsT09RI3UnI0l1JyNJdU9PUSN1MUcycTFHMnFPI0JtUWBPMUcycU8selFgTzFHMnNPI0JyUWFPLDU9Wk8jQnlRYE8sNT1aT09RI3UxRzJ0MUcydE8jQ09RYE8xRzJ0TyNDVFFgTyw1PV5PT1EjdTFHMncxRzJ3TyNEZ1FgTzFHMndPT1EjdTFHMnoxRzJ6T09RI3UxRzJ7MUcye09PUSN1MUcyfDFHMnxPT1EjdTFHMn0xRzJ9TyNEbFFgTycjSHhPOW9RYE8nI0h4TyNEcVEkVk8xRzNPTyNJd1FgTzFHM1FPOXlRYU8nI0h3TyNJfFFkTyw1PVtPT1EjdTFHM1IxRzNSTyNKWFFgTzFHM1NPOXlRYU8sNTxpTyNKXlFkTycjSHBPI0psUWRPLDU/V09PUSN1MUczVDFHM1RPT1EjdTFHM1cxRzNXTyEteFFgTzFHM1dPT1EjdTFHM1gxRzNYTyNLZlFgTycjSFRPT1EjdTFHM1kxRzNZTyNLbVFgTzFHM1lPMGFRYE8xRzNZT09RI3UxRzNdMUczXU8hJldRZE8xRzNeTyNLclFgTzFHM15PI0t6UWRPJyNIek8jTF1RZE8sNT9jTyNMaFFgTyw1P2NPI0xtUWBPJyNIWU83UlFgTycjSFlPI0x4UWBPJyNJeE8jTVFRYE8sNT1zT09RI3UxRzNeMUczXk8hLmVRYE8xRzNeTyEuZVFgTzFHM15PI01WUWVPJyNIYk8jTWdRZE8sNT50T09RI3UxRzNiMUczYk9PUSN1MUczVjFHM1ZPIS14UWBPMUczVk8hMVVRYE8xRzNWT09PI3UxRy94MUcveE8qa1FhTzcrJXNPI011UWRPNyslc09PUVM3KyZbNysmW08kIGJRYE8sNT55Tz5VUWFPLDU7YE8kIGlRYE8sNTthTyQjT1FhTycjSGZPJCNZUWBPLDU+ek9PUVMxRzB5MUcweU8kI2JRYE8nI0VZTyQjZ1FgTycjSVhPJCNvUWBPLDU6c09PUVMxRzBlMUcwZU8kI3RRYE8xRzBlTyQjeVFgTzFHMGlPOXlRYU8xRzBpT09RTyw1Pk8sNT5PT09RTy1FO2ItRTtiT09RUzcrJk83KyZPTz5VUWFPLDU7U08kJWBRYU8nI0hlTyQlalFgTyw1PnhPT1FTMUcwbTFHMG1PJCVyUWBPMUcwbU9PUVMsNT5SLDU+Uk9PUVMtRTtlLUU7ZU8kJXdRZE83KyZoTyQneVF0TzFHMVJPJChXUWRPNyslfU9PUVMxRzBpMUcwaU9PUU8sNT5VLDU+VU9PUU8tRTtoLUU7aE9PUSN1NysobzcrKG9PISZXUWRPNysob09PUSN1NysodDcrKHRPI0ttUWBPNysodE8wYVFgTzcrKHRPT1EjdTcrKHE3KyhxTyEteFFgTzcrKHFPITFVUWBPNysocU8hMVJRYE83KyhxTyQpc1FgTyw1PFpPJCpPUWBPLDU8Wk8kKldRYE8sNTxfTyQqXVFwTyw1PFpPPlVRYU8sNTxaT09RTyw1PF8sNTxfTyQqa1FwTyw1PGBPJCpzUWBPLDU8YE8kK09RYE8nI0hrTyQraVFgTyw1P1BPT1FTMUcxdDFHMXRPJCtxUXBPNysnXk8kK3lRYE8nI0Z1TyQsVVFgTzcrJ15PT1FTNysnXjcrJ15PMGFRYE83KydeTyM2eVFgTzcrJ15PJCxeUWRPNysqYU8wYVFgTzcrKmFPJCxsUWBPNysnXk8qa1FhTzcrJ2hPMGFRYE83KydoTyQsd1FgTzcrJ2hPJC1QUWRPMUcyVk9PUVMsNT5dLDU+XU9PUVMtRTtvLUU7b08kLmlRZE83KydoTyQueVFwTzcrJ2hPJC9SUWRPJyNJaU9PUU8sNTxlLDU8ZU9PUU8sNTxmLDU8Zk8kL2RRcE8nI0dPTyQvbFFgTycjR09PT1FPJyNJaycjSWtPT1FPJyNIbycjSG9PJDBdUWBPJyNHT088X1FgTycjRnxPISZXUWRPJyNHT08hLllRZE8nI0dRTzdSUWBPJyNHUk9PUU8nI0lqJyNJak9PUU8nI0huJyNIbk8kMHlRYE8sNTxnT09RI3ksNTxnLDU8Z09PUVM3KydpNysnaU8hLXhRYE83KydpTyExVVFgTzcrJ2lPT09RMUcyZDFHMmRPJDFwT2BPMUcyZE8kMXVPIWJPMUcyZU8kMlRPYE8nI0dgTyQyWU9gTzFHMmVPT09RMUcyaDFHMmhPJDJfUWFPLDU9UE8selFgTycjSHRPJDJ4USRWTzcrKFVPaFFhTzcrKFVPLHpRYE8nI0h1TyQ3eFFgTzcrKFVPISZXUWRPNysoVU8kOFRRYE83KyhVTyQ4WVFhTycjR2hPJDppUWBPJyNHaU9PUU8nI0h2JyNIdk8kOnFRYE8sNT1ST09RI3UsNT1SLDU9Uk8kOnxRYE8sNT1VTyEmV1FkTzcrKFdPISZXUWRPNysoXU8hJldRZE83KyhfTyQ7WFFhTzFHMnVPJDtgUWBPMUcydU8kO2VRYU8xRzJ1TyEmV1FkTzcrKGBPOXlRYU8xRzJ4TyEmV1FkTzcrKGNPMGFRYE8nI0d5TzlvUWBPLDU+ZE9PUSN1LDU+ZCw1PmRPT1EjdS1FO3YtRTt2TyQ7bFFhTzcrKGxPJDxUUWRPLDU+Y09PUVMtRTt1LUU7dU8hJldRZE83KyhuTyQ9bVFkTzFHMlRPT1FTLDU+Wyw1PltPT1FTLUU7bi1FO25PT1EjdTcrKHI3KyhyTyQ/blFgTycjR1FPJD91UWBPJyNHUU8kQFpRYE8nI0hVT09RTycjSHknI0h5TyRAYFFgTyw1PW9PT1EjdSw1PW8sNT1vTyRAZ1FwTzcrKHRPT1EjdTcrKHg3Kyh4TyEmV1FkTzcrKHhPJEByUWRPLDU+Zk9PUVMtRTt4LUU7eE8kQVFRZE8xRzR9TyRBXVFgTyw1PXRPJEFiUWBPLDU9dE8kQW1RYE8nI0h7TyRCUlFgTyw1P2RPT1FTMUczXzFHM19PI0tyUWBPNysoeE8kQlpRZE8sNT18T09RUy1FO2AtRTtgTyRDdlFkTzw8SV9PT1FTMUc0ZTFHNGVPJEVjUWBPMUcwek9PUU8sNT5RLDU+UU9PUU8tRTtkLUU7ZE8kOFlRYU8sNTp0TyRGeFFhTycjSGNPJEdWUWBPLDU+c09PUVMxRzBfMUcwX09PUVM3KyZQNysmUE8kR19RYE83KyZUTyRIdFFgTzFHMG5PJEpaUWBPLDU+UE9PUU8sNT5QLDU+UE9PUU8tRTtjLUU7Y09PUVM3KyZYNysmWE9PUVM3KyZUNysmVE9PUSN1PDxMWjw8TFpPT1EjdTw8TGA8PExgTyRAZ1FwTzw8TGBPT1EjdTw8TF08PExdTyEteFFgTzw8TF1PITFVUWBPPDxMXU8+VVFhTzFHMXVPJEtzUWBPMUcxdU8kTE9RYE8xRzF5T09RTzFHMXkxRzF5TyRMVFFgTzFHMXVPJExdUWBPMUcxdU8kTXJRYE8xRzF6Tz5VUWFPMUcxek9PUU8sNT5WLDU+Vk9PUU8tRTtpLUU7aU9PUVM8PEp4PDxKeE8kTX1RYE8nI0loTyROVlFgTycjSWhPJE5bUWBPLDU8YU8wYVFgTzw8SnhPJCtxUXBPPDxKeE8kTmFRYE88PEp4TzBhUWBPPDxNe08kTmlRdE88PE17TyM2eVFgTzw8SnhPJE53UWRPPDxLU08lIFhRcE88PEtTTyprUWFPPDxLU08wYVFgTzw8S1NPJSBhUWRPJyNIbU8lIHhRZE8sNT9UTyEmV1FkTyw1PGpPJC9kUXBPLDU8ak8lIVpRYE8sNTxqTzxfUWBPLDU8aE8hLllRZE8sNTxsT09RTy1FO20tRTttTyEmV1FkTyw1PGhPT1FPLDU8aiw1PGpPT1FPLDU8bCw1PGxPJSF0UWRPLDU8bU9PUU8tRTtsLUU7bE9PUSN5MUcyUjFHMlJPT1FTPDxLVDw8S1RPIS14UWBPPDxLVE9PT1E3KyhPNysoT08lI1BPYE83KyhQT09PTyw1PHosNTx6T09PUTcrKFA3KyhQT2hRYU8sNT5gT09RI3UtRTtyLUU7ck9oUWFPPDxLcE9PUSN1PDxLcDw8S3BPJDhUUWBPLDU+YU9PUU8tRTtzLUU7c08hJldRZE88PEtwTyQ4VFFgTzw8S3BPJSNVUWBPPDxLcE8lI1pRYE8sNT1TTyUkcFFhTyw1PVRPT1FPLUU7dC1FO3RPT1EjdTFHMm0xRzJtT09RI3U8PEtyPDxLck9PUSN1PDxLdzw8S3dPT1EjdTw8S3k8PEt5T09RVDcrKGE3KyhhTyUlUVFgTzcrKGFPJSVWUWFPNysoYU8lJV5RYE83KyhhT09RI3U8PEt6PDxLek8lJWNRYE83KyhkTyUmeFFgTzcrKGRPT1EjdTw8S308PEt9TyUmfVFwTyw1PWVPT1EjdTFHNE8xRzRPTyUnWVFgTzw8TFdPT1EjdTw8TFk8PExZTyQ/dVFgTyw1PGxPJSdfUWBPLDU9cE8lJ2RRZE8sNT1wT09RTy1FO3ctRTt3T09RI3UxRzNaMUczWk8jS21RYE88PExgT09RI3U8PExkPDxMZE8lJ29RYE8xRzRRTyUndFFkTzcrKmlPT1FPMUczYDFHM2BPJShQUWBPMUczYE8lKFVRYE8nI0haTzdSUWBPJyNIWk9PUU8sNT5nLDU+Z09PUU8tRTt5LUU7eU8hJldRZE88PExkTyUoYVFgTzFHMGBPT1FPLDU9fSw1PX1PT1FPLUU7YS1FO2FPPlVRYU8sNTtUT09RI3VBTkF6QU5Bek8jS21RYE9BTkF6T09RI3VBTkF3QU5Bd08hLXhRYE9BTkF3TyUpdlFgTzcrJ2FPPlVRYU83KydhT09RTzcrJ2U3KydlTyUrXVFgTzcrJ2FPJStoUWBPNysnZU8+VVFhTzcrJ2ZPJSttUWBPNysnZk8lLVNRYE8nI0hsTyUtYlFgTyw1P1NPJS1iUWBPLDU/U09PUU8xRzF7MUcxe08kK3FRcE9BTkBkT09RU0FOQGRBTkBkTzBhUWBPQU5AZE8lLWpRdE9BTkNnTyUteFFgT0FOQGRPKmtRYU9BTkBuTyUuUVFkT0FOQG5PJS5iUXBPQU5Abk9PUVMsNT5YLDU+WE9PUVMtRTtrLUU7a09PUU8xRzJVMUcyVU8hJldRZE8xRzJVTyQvZFFwTzFHMlVPPF9RYE8xRzJTTyEuWVFkTzFHMldPISZXUWRPMUcyU09PUU8xRzJXMUcyV09PUU8xRzJTMUcyU08lLmpRYU8nI0dTT09RTzFHMlgxRzJYT09RU0FOQG9BTkBvT09PUTw8S2s8PEtrT09RI3UxRzN6MUczek9PUSN1QU5BW0FOQVtPT1FPMUczezFHM3tPJTBpUWBPQU5BW08hJldRZE9BTkFbTyUwblFhTzFHMm5PJTFPUWFPMUcyb09PUVQ8PEt7PDxLe08lMWBRYE88PEt7TyUxZVFhTzw8S3tPKmtRYU8sNT1fT09RVDw8TE88PExPT09RTzFHM1AxRzNQTyUxbFFgTzFHM1BPIStXUWVPQU5Bck8lMXFRZE8xRzNbT09RTzFHM1sxRzNbTyUxfFFgTzFHM1tPT1FTNyspbDcrKWxPT1FPNysoejcrKHpPJTJVUWBPLDU9dU8lMlpRYE8sNT11T09RI3VBTkJPQU5CT08lMmZRYE8xRzBvT09RI3VHMjdmRzI3Zk9PUSN1RzI3Y0cyN2NPJTN7UWBPPDxKe08+VVFhTzw8SntPT1FPPDxLUDw8S1BPJTViUWBPPDxLUU9PUU8sNT5XLDU+V08lNndRYE8sNT5XT09RTy1FO2otRTtqTyU2fFFgTzFHNG5PT1FTRzI2T0cyNk9PJCtxUXBPRzI2T08wYVFgT0cyNk9PJTdVUWRPRzI2WU8qa1FhT0cyNllPT1FPNysncDcrJ3BPISZXUWRPNysncE8hJldRZE83KyduT09RTzcrJ3I3KydyT09RTzcrJ243KyduTyU3ZlFgT0xEK3RPJTh1UWBPJyNFfU8lOVBRYE8nI0laTyEmV1FkTycjSHJPJTp8UWFPLDU8bk9PUU8sNTxuLDU8bk8hJldRZE9HMjZ2T09RI3VHMjZ2RzI2dk8lPHtRYU83KyhZT09RVEFOQWdBTkFnTyU9XVFgT0FOQWdPJT1iUWBPMUcyeU9PUU83KyhrNysoa09PUSN1RzI3XkcyN15PJT1pUWBPRzI3Xk9PUU83Kyh2Nysodk8lPW5RYE83Kyh2TyEmV1FkTzcrKHZPT1FPMUczYTFHM2FPJT12UWBPMUczYU8lPXtRYE9BTkBnT09RTzFHM3IxRzNyT09RU0xEK2pMRCtqTyQrcVFwT0xEK2pPJT9iUWRPTEQrdE9PUU88PEtbPDxLW09PUU88PEtZPDxLWU8lP3JRYE8sNTxvTyU/d1FgTyw1PHBPT1FQLDU+Xiw1Pl5PT1FQLUU7cC1FO3BPT1FPMUcyWTFHMllPT1EjdUxELGJMRCxiT09RVEcyN1JHMjdSTyEmV1FkT0xELHhPISZXUWRPPDxMYk9PUU88PExiPDxMYk9PUU83Kyh7Nysoe09PUVMhJCggVSEkKCBVT09RUzFHMloxRzJaT09RUzFHMlsxRzJbTyVAUFFkTzFHMltPT1EjdSEkKCFkISQoIWRPT1FPQU5BfEFOQXxPT1FTNysndjcrJ3ZPJUBbUWBPJyNFe08lQFtRYE8nI0V7TyVAYVFgTyw1O2dPJUBmUWRPLDU8Y08lQmJRYU8sNTp9TyprUWFPMUcwaU8lQmlRYU8nI0Z3TyMuWVFhTycjR1ZPIy5ZUWFPJyNHWU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyMuWVFhTyw1O3FPIy5ZUWFPLDU7cU8jLllRYU8sNTtxTyVCcFFkTycjSV1PJURgUWRPJyNJXU8jLllRYU8nI0VhTyMuWVFhTycjSV1PJUZiUWFPLDU6d08jLllRYU8sNTtuTyMuWVFhTyw1O3BPJUZpUWRPLDU8UE8lSGVRZE8sNTxRTyVKYVFkTyw1PFJPJUxdUWRPLDU8U08lTlhRZE8sNTxTTyVOb1FkTyw1PFZPJiFrUWRPLDU8dE8jLllRYU8xRzBYTyYkZ1FkTzFHMV1PJiZjUWRPMUcxXU8mKF9RZE8xRzFdTyYqWlFkTzFHMV1PJixWUWRPMUcxXU8mLlJRZE8xRzFdTyYvfVFkTzFHMV1PJjF5UWRPMUcxXU8mM3VRZE8xRzFdTyY1cVFkTzFHMV1PJjdtUWRPMUcxXU8mOWlRZE8xRzFdTyY7ZVFkTzFHMV1PJj1hUWRPMUcxXU8mP11RZE8xRzFdTyZBWFFkTyw1OntPJkNUUWRPLDU+d08mRVBRZE8xRzBjTyMuWVFhTzFHMGNPJkZ7UWRPMUcxWU8mSHdRZE8xRzFbTyMuWVFhTzFHMXxPIy5ZUWFPNyslc08mSnNRZE83KyVzTyZMb1FkTzcrJX1PIy5ZUWFPNysnaE8mTmtRZE83KydoTychZ1FkTzw8SV9PJyRjUWRPPDxLU08jLllRYU88PEtTTyMuWVFhT0FOQG5PJyZfUWRPQU5Abk8nKFpRZE9HMjZZTyMuWVFhT0cyNllPJypWUWRPTEQrdE8nLFJRYU8sNTp9TycuUVFhTzFHMGlPJy98UWRPJyNJV08nMGFRZU8nI0ZVTyc0YVFlTycjRlVPIy5ZUWFPJyNGZU8nLlFRYU8nI0ZlTyMuWVFhTycjRmZPJy5RUWFPJyNGZk8jLllRYU8nI0ZnTycuUVFhTycjRmdPIy5ZUWFPJyNGaE8nLlFRYU8nI0ZoTyMuWVFhTycjRmhPJy5RUWFPJyNGaE8jLllRYU8nI0ZrTycuUVFhTycjRmtPJzhnUWFPLDU6bU8nOG5RYE8sNTxiTyc4dlFgTzFHMFhPJy5RUWFPMUcwfE8nOllRYE8xRzF8Tyc6YlFgTzcrJ2hPJzpqUXBPNysnaE8nOnJRcE88PEtTTyc6elFwT0FOQG5PJztTUWFPJyNGd08nLlFRYU8nI0dWTycuUVFhTycjR1lPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8sNTtxTycuUVFhTyw1O3FPJy5RUWFPLDU7cU8nLlFRYU8nI0VhTycuUVFhTycjSV1PJz1SUWFPLDU6d08nLlFRYU8sNTtuTycuUVFhTyw1O3BPJz9RUWRPLDU8UE8nQVNRZE8sNTxRTydDVVFkTyw1PFJPJ0VXUWRPLDU8U08nR1lRZE8sNTxTTydHdlFkTyw1PFZPJ0l4UWRPLDU8dE8nLlFRYU8xRzBYTydLelFkTzFHMV1PJ018UWRPMUcxXU8oIU9RZE8xRzFdTygkUVFkTzFHMV1PKCZTUWRPMUcxXU8oKFVRZE8xRzFdTygqV1FkTzFHMV1PKCxZUWRPMUcxXU8oLltRZE8xRzFdTygwXlFkTzFHMV1PKDJgUWRPMUcxXU8oNGJRZE8xRzFdTyg2ZFFkTzFHMV1PKDhmUWRPMUcxXU8oOmhRZE8xRzFdTyg8alFkTyw1OntPKD5sUWRPLDU+d08oQG5RZE8xRzBjTycuUVFhTzFHMGNPKEJwUWRPMUcxWU8oRHJRZE8xRzFbTycuUVFhTzFHMXxPJy5RUWFPNyslc08oRnRRZE83KyVzTyhIdlFkTzcrJX1PJy5RUWFPNysnaE8oSnhRZE83KydoTyhMelFkTzw8SV9PKE58UWRPPDxLU08nLlFRYU88PEtTTycuUVFhT0FOQG5PKSNPUWRPQU5Abk8pJVFRZE9HMjZZTycuUVFhT0cyNllPKSdTUWRPTEQrdE8pKVVRYU8sNTp9TyMuWVFhTzFHMGlPKSldUWBPJyNGdk8pKWVRcE8sNTtiTykpbVFgTyw1PGJPISVXUWBPLDU8Yk8hJVdRYE8xRzF8TzBhUWBPMUcxfE8wYVFgTzcrJ2hPMGFRYE88PEtTTykpdVFkTyw1PGNPKSt3UWRPJyNJXU8pLXZRZE8nI0lXTykuYVFhTyw1Om1PKS5oUWBPLDU8Yk8pLnBRYE8xRzBYTykwU1FgTzFHMXxPKTBbUWBPNysnaE8pMGRRcE83KydoTykwbFFwTzw8S1NPKTB0UXBPQU5Abk8wYVFgTycjRXZPOXlRYU8nI0ZlTzl5UWFPJyNGZk85eVFhTycjRmdPOXlRYU8nI0ZoTzl5UWFPJyNGaE85eVFhTycjRmtPKTB8UWFPJyNGd085eVFhTycjR1ZPOXlRYU8nI0dZTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU85eVFhTyw1O3FPOXlRYU8sNTtxTzl5UWFPLDU7cU8pMVRRYE8nI0ZsTyprUWFPJyNFYU8qa1FhTycjSV1PKTFdUWFPLDU6d085eVFhTyw1O25POXlRYU8sNTtwTykxZFFkTyw1PFBPKTNgUWRPLDU8UU8pNVtRZE8sNTxSTyk3V1FkTyw1PFNPKTlTUWRPLDU8U08pOWpRZE8sNTxWTyk7ZlFkTyw1PGNPKT1iUWRPLDU8dE8pP15RYE8nI0l2TylAc1FgTycjSVlPOXlRYU8xRzBYTylCWVFkTzFHMV1PKURVUWRPMUcxXU8pRlFRZE8xRzFdTylHfFFkTzFHMV1PKUl4UWRPMUcxXU8pS3RRZE8xRzFdTylNcFFkTzFHMV1PKiBsUWRPMUcxXU8qI2hRZE8xRzFdTyolZFFkTzFHMV1PKidgUWRPMUcxXU8qKVtRZE8xRzFdTyorV1FkTzFHMV1PKi1TUWRPMUcxXU8qL09RZE8xRzFdTyowelFhTyw1On1PKjFSUWRPLDU6e08qMWNRZE8sNT53Tyoxc1FhTycjSGRPKjJUUWBPLDU+dk8qMl1RZE8xRzBjTzl5UWFPMUcwY08qNFhRZE8xRzFZTyo2VFFkTzFHMVtPOXlRYU8xRzF8Tz5VUWFPJyNId08qOFBRYE8sNT1bTyo4WFFhTycjSGJPKjhjUWBPLDU+dE85eVFhTzcrJXNPKjhrUWRPNyslc08qOmdRYE8xRzBpTz5VUWFPMUcwaU8qO3xRZE83KyV9Tzl5UWFPNysnaE8qPXhRZE83KydoTyo/dFFgTyw1PmNPKkFaUWBPLDU9fE8qQnBRZE88PElfTypEbFFgTzcrJlRPKkZSUWRPPDxLU085eVFhTzw8S1NPOXlRYU9BTkBuTypHfVFkT0FOQG5PKkl5UWRPRzI2WU85eVFhT0cyNllPKkt1UWRPTEQrdE8qTXFRYU8sNTp9Tzl5UWFPMUcwaU8qTXhRZE8nI0ldTypOY1FgTycjRnZPKk5rUWBPLDU8Yk8hJVdRYE8sNTxiTyElV1FgTzFHMXxPMGFRYE8xRzF8TzBhUWBPNysnaE8wYVFgTzw8S1NPKk5zUWRPJyNJV08rIF5RZU8nI0ZVTysgelFhTycjRlVPKyNzUWFPJyNGVU8rJWBRYU8nI0ZVTz5VUWFPJyNGZU8+VVFhTycjRmZPPlVRYU8nI0ZnTz5VUWFPJyNGaE8+VVFhTycjRmhPPlVRYU8nI0ZrTysnWFFhTycjRndPPlVRYU8nI0dWTz5VUWFPJyNHWU8rJ2BRYU8sNTptTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8+VVFhTyw1O3FPPlVRYU8sNTtxTz5VUWFPLDU7cU8rJ2dRYE8nI0ldTyQ4WVFhTycjRWFPKylQUWFPRzI2WU8kOFlRYU8nI0ldTysqe1FgTycjSVtPKytUUWFPLDU6d08+VVFhTyw1O25PPlVRYU8sNTtwTysrW1FgTyw1PFBPKyx3UWBPLDU8UU8rLmRRYE8sNTxSTyswUFFgTyw1PFNPKzFsUWBPLDU8U08rM1hRYE8sNTxWTys0dFFgTyw1PGJPKzR8UWBPLDU8Y08rNmlRYE8sNTx0Tys4VVFgTzFHMFhPPlVRYU8xRzBYTys5aFFgTzFHMV1PKztUUWBPMUcxXU8rPHBRYE8xRzFdTys+XVFgTzFHMV1PKz94UWBPMUcxXU8rQWVRYE8xRzFdTytDUVFgTzFHMV1PK0RtUWBPMUcxXU8rRllRYE8xRzFdTytHdVFgTzFHMV1PK0liUWBPMUcxXU8rSn1RYE8xRzFdTytMalFgTzFHMV1PK05WUWBPMUcxXU8sIHJRYE8xRzFdTywjX1FgTzFHMGNPPlVRYU8xRzBjTywkelFgTzFHMVlPLCZnUWBPMUcxW08sKFNRYE8xRzF8Tz5VUWFPMUcxfE8+VVFhTzcrJXNPLChbUWBPNyslc08sKXdRYE83KyV9Tz5VUWFPNysnaE8sK2RRYE83KydoTywrbFFgTzcrJ2hPLC1YUXBPNysnaE8sLWFRYE88PElfTywufFFgTzw8S1NPLDBpUXBPPDxLU08+VVFhTzw8S1NPPlVRYU9BTkBuTywwcVFgT0FOQG5PLDJeUXBPQU5Abk8sMmZRYE9HMjZZTz5VUWFPRzI2WU8sNFJRYE9MRCt0Tyw1blFhTyw1On1PPlVRYU8xRzBpTyw1dVFgTycjSV1PJDhZUWFPJyNGZU8kOFlRYU8nI0ZmTyQ4WVFhTycjRmdPJDhZUWFPJyNGaE8kOFlRYU8nI0ZoTyspUFFhTycjRmhPJDhZUWFPJyNGa08sNlNRYU8nI0Z3Tyw2WlFhTycjRndPJDhZUWFPJyNHVk8rKVBRYU8nI0dWTyQ4WVFhTycjR1lPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyQ4WVFhTyw1O3FPKylQUWFPLDU7cU8kOFlRYU8sNTtxTyspUFFhTyw1O3FPJDhZUWFPLDU7cU8rKVBRYU8sNTtxTyw4WVFgTycjRmxPPlVRYU8nI0VhTz5VUWFPJyNJXU8sOGJRYU8sNTp3Tyw4aVFhTyw1OndPJDhZUWFPLDU7bk8rKVBRYU8sNTtuTyQ4WVFhTyw1O3BPLDpoUWBPLDU8UE8sPFRRYE8sNTxRTyw9cFFgTyw1PFJPLD9dUWBPLDU8U08sQHhRYE8sNTxTTyxCZVFgTyw1PFNPLEN0UWBPLDU8Vk8sRWFRYE8sNTxjTyU3ZlFgTyw1PGNPLEZ8UWBPLDU8dE8kOFlRYU8xRzBYTyspUFFhTzFHMFhPLEhpUWBPMUcxXU8sSlVRYE8xRzFdTyxLZVFgTzFHMV1PLE1RUWBPMUcxXU8sTmFRYE8xRzFdTy0gfFFgTzFHMV1PLSNdUWBPMUcxXU8tJHhRYE8xRzFdTy0mWFFgTzFHMV1PLSd0UWBPMUcxXU8tKVRRYE8xRzFdTy0qcFFgTzFHMV1PLSxQUWBPMUcxXU8tLWxRYE8xRzFdTy0ue1FgTzFHMV1PLTBoUWBPMUcxXU8tMXdRYE8xRzFdTy0zZFFgTzFHMV1PLTRzUWBPMUcxXU8tNmBRYE8xRzFdTy03b1FgTzFHMV1PLTlbUWBPMUcxXU8tOmtRYE8xRzFdTy08V1FgTzFHMV1PLT1nUWBPMUcxXU8tP1NRYE8xRzFdTy1AY1FgTzFHMV1PLUJPUWBPMUcxXU8tQ19RYE8xRzFdTy1EelFgTzFHMV1PLUZaUWBPLDU6e08tR3ZRYE8sNT53Ty1JY1FgTzFHMGNPLUtPUWBPMUcwY08kOFlRYU8xRzBjTyspUFFhTzFHMGNPLUxfUWBPMUcxWU8tTXpRYE8xRzFZTy4gWlFgTzFHMVtPJDhZUWFPMUcxfE8kOFlRYU83KyVzTyspUFFhTzcrJXNPLiF2UWBPNyslc08uJGNRYE83KyVzTy4lclFgTzcrJX1PLidfUWBPNyslfU8kOFlRYU83KydoTy4oblFgTzcrJ2hPLipaUWBPPDxJX08uK3ZRYE88PElfTy4tVlFgTzw8S1NPJDhZUWFPPDxLU08kOFlRYU9BTkBuTy4uclFgT0FOQG5PLjBfUWBPRzI2WU8kOFlRYU9HMjZZTy4xelFgT0xEK3RPLjNnUWFPLDU6fU8uM25RYU8sNTp9TyQ4WVFhTzFHMGlPKylQUWFPMUcwaU8uNW1RYE8nI0ldTy43UFFgTycjSV1PLjpmUWBPJyNJV08uOnZRYE8nI0Z2Ty47T1FhTyw1Om1PLjtWUWBPLDU8Yk8uO19RYE8sNTxiTyElV1FgTyw1PGJPLjtnUWBPMUcwWE8uPHlRYE8sNTp7Ty4+ZlFgTyw1PndPLkBSUWBPMUcxfE8hJVdRYE8xRzF8TzBhUWBPMUcxfE8wYVFgTzcrJ2hPLkBaUWBPNysnaE8uQGNRcE83KydoTy5Aa1FwTzw8S1NPMGFRYE88PEtTTy5Ac1FwT0FOQG5PLkB7UWBPJyNJV08uQV1RYE8nI0lXTy5DU1FhTyw1Om1PLkNaUWFPLDU6bU8uQ2JRYE8sNTxiTy5DalFgTzcrJ2hPLkNyUWBPMUcwWE8uRVVRYE8xRzBYTy5GaFFgTzFHMXxPLkZwUWBPNysnaE8uRnhRcE83KydoTy5HUVFwT0FOQG5PLkdZUXBPPDxLU08uR2JRcE9BTkBuTy5HalFgTycjRnZPLkdyUWBPJyNGbE8uR3pRYE8sNTxiTyElV1FgTyw1PGJPISVXUWBPMUcxfE8wYVFgTzFHMXxPMGFRYE83KydoTzBhUWBPPDxLU08uSFNRYE8nI0Z2Ty5IW1FgTyw1PGJPLkhkUWBPLDU8Yk8hJVdRYE8sNTxiTyElV1FgTzFHMXxPISVXUWBPMUcxfE8wYVFgTzFHMXxPMGFRYE88PEtTTzBhUWBPNysnaE8wYVFgTzw8S1NPLkhsUWBPJyNGbE8uSHRRYE8nI0ZsTy5IfFFgTycjRmxcIixcbiAgc3RhdGVEYXRhOiBcIi5JY35PIWRPUyFlT1Mmdk9TIWdRUX5PIWlUTyZ3Uk9+T1BnT1F8T1MhbE9VXk9XfU9YIVhPW21PXSFfT14hV09gIVtPYSFTT2IhXU9rIWRPbSFsT293T3AhVE9xIVVPc3VPdCFnT3UhVk92IVBPeGtPeWtPfCFiT31gTyFPXU8hUCFlTyFReE8hUn1PIVRwTyFVbE8hVmxPIVchWU8hWCFRTyFZek8hWiFjTyFbIVpPIV0hXk8hXiFmTyFgIWBPIWEhUk8hY2pPIW1XTyFvWE8hc1lPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFRvTyRdbk8kXm9PJGFxTyRkck8kbCFrTyR6eU8keyFPTyR9fU8lT31PJVZ8Tydne09+TyFnIW1Pfk8md1JPIWkhaFgmcCFoWCZ0IWhYfk8haSFwT35PIWQhcU8hZSFxTyFnIW1PJnQhdE8mdiFxT35QaE8hbiF2T35QaE9UJ1ZYeidWWCFTJ1ZYIWInVlghbSdWWCFvJ1ZYIXYnVlgheSdWWCNTJ1ZYI1cnVlgjYCdWWCNhJ1ZYI3AjcVgjcydWWCN6J1ZYI3snVlgjfCdWWCN9J1ZYJE8nVlgkUSdWWCRSJ1ZYJFMnVlgkVCdWWCRVJ1ZYJFYnVlgkVydWWCR6J1ZYJnMnVlh+TyFxIXhPflAmc09UI1RPeiNSTyFTI1VPIWIjVk8hbSNjTyFvIXtPIXYheU8heSF9TyNTI1FPI1chek8jYCF8TyNhIXxPI3MjUE8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkTyZzI2NPfk9QZ09RfE9VXk9XfU9bbU9vd09zI2hPeGtPeWtPfWBPIU9dTyFReE8hUn1PIVRwTyFVbE8hVmxPIVl6TyFjak8hcyNnTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUb08kXW5PJF5vTyRhcU8kenlPJHshT08kfX1PJU99TyVWfE8nZ3tPfk8heVtPfk8heSNrT35PUDZdT1F8T1VeT1d9T1s2YE9vPVlPcyNoT3g2Xk95Nl5PfWBPIU9dTyFRNmRPIVJ9TyFUNmNPIVU2X08hVjZfTyFZNmZPIWM4Zk8hcyNnTyF5W08jUyNvTyNVI25PI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDZiTyRdNmFPJF42Yk8kYXFPJHo2ZU8keyFPTyR9fU8lT31PJVZ8Tydne08jWCdPUH5PIX0jc09+UC1VTyF5I3RPfk8jYiN2TyNkYU8jZWJPfk8jcCN4T35PIXMjeU9+T1UkUE8hUiRQTyFzJE9PIXYjfU8jcDJYT35PVCZ6WHomelghUyZ6WCFiJnpYIW0melghbyZ6WCF2JnpYIXkmelgjUyZ6WCNXJnpYI2AmelgjYSZ6WCNzJnpYI3omelgjeyZ6WCN8JnpYI30melgkTyZ6WCRRJnpYJFImelgkUyZ6WCRUJnpYJFUmelgkViZ6WCRXJnpYJHomelgmcyZ6WCF4JnpYIW4melh+TyN1JFJPI3ckU09+UDByT1A2XU9RfE9VXk9XfU9bNmBPbz1ZT3MjaE94Nl5PeTZeT31gTyFPXU8hUTZkTyFSfU8hVDZjTyFVNl9PIVY2X08hWTZmTyFjOGZPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDZiTyRdNmFPJF42Yk8kYXFPJHo2ZU8keyFPTyR9fU8lT31PJVZ8Tydne09UI3hYeiN4WCFTI3hYIWIjeFghbSN4WCFvI3hYIXYjeFgjYCN4WCNhI3hYI3MjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYJnMjeFgheCN4WCFuI3hYfk9yJFVPI1M2eU8jVTZ4T35QMnlPIXMjZ08jcGVPfk9TJGdPXSRiT2skZU9tJGdPcyRhTyFgJGNPJGRyTyRsJGZPfk8hcyRrTyF5JGhPI1Mkak9+T28kbU9zJGxPI2Ikbk9+TyF5JGhPI1Mkck9+TyRsJHRPflAqa09SJHpPIW8keU8jYiR4TyNlJHlPJnEkek9+TydmJHxPflA4bE8heSVST35PIXklVE9+TyFzJVZPfk8hbSNjTyZzI2NPflAqa08hb1hPfk8heSVfT35PUDZdT1F8T1VeT1d9T1s2YE9vPVlPcyNoT3g2Xk95Nl5PfWBPIU9dTyFRNmRPIVJ9TyFUNmNPIVU2X08hVjZfTyFZNmZPIWM4Zk8hcyNnTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUNmJPJF02YU8kXjZiTyRhcU8kejZlTyR7IU9PJH19TyVPfU8lVnxPJ2d7T35PIXklY09+TyFzJWRPfk9dJGJPfk8hcyVoT35PIXMlaU9+TyFzJWpPfk8hb1hPIXMjZ08jcGVPfk9dJXJPcyVyTyFvJXBPIXMjZ08jcCVuT35PIXMldk9+TyFpJXdPJnQld08md1JPfk8mdCV6T35QaE8hbiV7T35QaE9QZ09RfE9VXk9XfU9bOGxPbz15T3MjaE94OGpPeThqT31gTyFPXU8hUThwTyFSfU8hVDhvTyFVOGtPIVY4a08hWThyTyFjOGlPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDhuTyRdOG1PJF44bk8kYXFPJHo4cU8keyFPTyR9fU8lT31PJVZ8Tydne09+TyFxJX1PflA+VU8jWCZQT35QPlVPIW8mU08hcyZSTyNiJlJPfk9QZ09RfE9VXk9XfU9bOGxPbz15T3MjaE94OGpPeThqT31gTyFPXU8hUThwTyFSfU8hVDhvTyFVOGtPIVY4a08hWThyTyFjOGlPIXMmVk8heVtPI1UmV08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOG5PJF04bU8kXjhuTyRhcU8kejhxTyR7IU9PJH19TyVPfU8lVnxPJ2d7T35PIXgnU1B+UEFPTyFzJltPI2ImW09+T1QjVE96I1JPIVMjVU8hYiNWTyFvIXtPIXYheU8heSF9TyNTI1FPI1chek8jYCF8TyNhIXxPI3MjUE8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT35PIXgmbk9+UENxTyF4J1ZYIX0nVlgjTydWWCNYJ1ZYIW4nVlhWJ1ZYIXEnVlgjdSdWWCN3J1ZYdydWWH5QJnNPIXkkaE8jUyZvT35PbyRtT3MkbE9+TyFvJnBPfk8hfSZzTyNTO2RPI1U7Y08heCdPUH5QOXlPVDZpT3o2Z08hUzZqTyFiNmtPIW8he08hdjhzTyF5IX1PI1MjUU8jVyF6TyNgIXxPI2EhfE8jcyNQTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0nUFgjWCdQWH5PI08mdE9+UEdTTyF9JndPI1gnT1h+TyNYJnlPfk8hfSdPTyF4J1FQflA5eU8hbidQT35QQ3FPIW0jb2EhbyNvYSNTI29hI3AjcVgmcyNvYSF4I29hI08jb2F3I29hfk9UI29heiNvYSFTI29hIWIjb2EhdiNvYSF5I29hI1cjb2EjYCNvYSNhI29hI3Mjb2EjeiNvYSN7I29hI3wjb2EjfSNvYSRPI29hJFEjb2EkUiNvYSRTI29hJFQjb2EkVSNvYSRWI29hJFcjb2EkeiNvYSF9I29hI1gjb2EhbiNvYVYjb2EhcSNvYSN1I29hI3cjb2F+UElwTyFzJ1JPfk8heCdVTyNsJ1NPfk8heCdWWCNsJ1ZYI3AjcVgjUydWWCNVJ1ZYI2InVlghbydWWCNPJ1ZYdydWWCFtJ1ZYJnMnVlh+TyNTJ1lPflAqa08hbSRYYSZzJFhhIXgkWGEhbiRYYX5QQ3FPIW0kWWEmcyRZYSF4JFlhIW4kWWF+UENxTyFtJFphJnMkWmEheCRaYSFuJFphflBDcU8hbSRbYSZzJFthIXgkW2EhbiRbYX5QQ3FPIW8he08heSF9TyNXIXpPI2AhfE8jYSF8TyNzI1BPJHojZE9UJFthIVMkW2EhYiRbYSFtJFthIXYkW2EjUyRbYSN6JFthI3skW2EjfCRbYSN9JFthJE8kW2EkUSRbYSRSJFthJFMkW2EkVCRbYSRVJFthJFYkW2EkVyRbYSZzJFthIXgkW2EhbiRbYX5PeiNST35QTnlPIW0kX2EmcyRfYSF4JF9hIW4kX2F+UENxTyF5IX1PIX0kZlgjWCRmWH5PIX0nXk8jWCdaWH5PI1gnYE9+TyFzJGtPI1MnYU9+T10nY09+TyFzJ2VPfk8hcydmT35PJGwnZ09+TyFgJ21PI1Mna08jVSdsTyNiJ2pPJGRyTyF4J1hQflAwYU8hXidzTyFvWE8hcSdyT35PIXMndU8heSRoT35PIXkkaE8jUyd3T35PIXkkaE8jUyd5T35PI3Unek8hbSRzWCF9JHNYJnMkc1h+TyF9J3tPIW0nYlgmcydiWH5PIW0jY08mcyNjT35PIXEoUE8jTyhPT35PIW0ka2EmcyRrYSF4JGthIW4ka2F+UENxT2woUk93KFNPIW8oVE8heSF9T35PIW8he08heSF9TyNXIXpPI2AhfE8jYSF8TyNzI1BPfk9UJHlheiR5YSFTJHlhIWIkeWEhbSR5YSF2JHlhI1MkeWEjeiR5YSN7JHlhI3wkeWEjfSR5YSRPJHlhJFEkeWEkUiR5YSRTJHlhJFQkeWEkVSR5YSRWJHlhJFckeWEkeiR5YSZzJHlhIXgkeWEhfSR5YSNPJHlhI1gkeWEhbiR5YSFxJHlhViR5YSN1JHlhI3ckeWF+UCEnV08hbSR8YSZzJHxhIXgkfGEhbiR8YX5QQ3FPI1coW08jYChZTyNhKFlPJnIoWk9SJmdYIW8mZ1gjYiZnWCNlJmdYJnEmZ1gnZiZnWH5PJ2YoX09+UDhsTyFxKGBPflBoTyFvKGNPIXEoZE9+TyFxKGBPJnMoZ09+UGhPIWEoa09+TyFtKGxPflA5eU9aKHdPbih4T35PIXMoek9+T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPIX0oe08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIW0nalgmcydqWH5QISdXTyN1KVBPfk8hfSlRTyFtJ2BYJnMnYFh+T2woUk8hbyhUT35PdyhTTyFvKVdPIXEpWk9+TyFtI2NPIW9YTyZzI2NPfk8hbyVwTyFzI3lPfk9WKWFPIX0pX08hbSdrWCZzJ2tYfk9dKWNPcyljTyFzI2dPI3BlT35PIW8lcE8hcyNnTyNwKWhPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyF9KWlPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJnxYJnMmfFgjTyZ8WH5QISdXT2woUk93KFNPIW8oVE9+TyFpKW9PJnQpb09+T1Q4dk96OHRPIVM4d08hYjh4TyFxKXBPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyNYKXJPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9+UCEnV08hbilyT35QQ3FPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgnVFghfSdUWH5QISdXT1QnVlh6J1ZYIVMnVlghYidWWCFvJ1ZYIXYnVlgheSdWWCNTJ1ZYI1cnVlgjYCdWWCNhJ1ZYI3AjcVgjcydWWCN6J1ZYI3snVlgjfCdWWCN9J1ZYJE8nVlgkUSdWWCRSJ1ZYJFMnVlgkVCdWWCRVJ1ZYJFYnVlgkVydWWCR6J1ZYfk8hcSl0TyF4J1ZYIX0nVlh+UCE1eE8heCNpWCF9I2lYflA+VU8hfSl2TyF4J1NYfk8heCl4T35PJHojZE9UI3lpeiN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpJFcjeWkmcyN5aSF4I3lpIX0jeWkjTyN5aSNYI3lpIW4jeWkhcSN5aVYjeWkjdSN5aSN3I3lpflAhJ1dPeiNSTyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPIXYheU8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT1QjVE96I1JPIWIjVk8hdiF5TyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE8hUyN5aSFtI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPVCNUT3ojUk8hdiF5TyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE8hUyN5aSFiI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPI1MjUU8jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3ojeWkjeyN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8jUyNRTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyNTI1FPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPI1MjUU8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8kVCNgTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPeiNSTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkmcyN5aSF4I3lpIW4jeWl+UCEnV096I1JPJFMjX08kVCNgTyRWI2JPJFcjYk8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aSZzI3lpIXgjeWkhbiN5aX5QISdXT3ojUk8kVyNiTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpJnMjeWkheCN5aSFuI3lpflAhJ1dPXyl5T35QOXlPIXgpfE9+TyNTKlBPflA5eU9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSNUYSNYI1RhI08jVGEhbSNUYSZzI1RhIXgjVGEhbiNUYVYjVGEhcSNUYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9J1BhI1gnUGEjTydQYSFtJ1BhJnMnUGEheCdQYSFuJ1BhVidQYSFxJ1BhflAhJ1dPI1Mjb08jVSNuTyF9JldYI1gmV1h+UDl5TyF9JndPI1gnT2F+TyNYKlNPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyF9KlVPI08qVE8jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIXgnUVh+UCEnV08hfSpVTyF4J1FYfk8heCpXT35PIW0jb2khbyNvaSNTI29pI3AjcVgmcyNvaSF4I29pI08jb2l3I29pfk9UI29peiNvaSFTI29pIWIjb2khdiNvaSF5I29pI1cjb2kjYCNvaSNhI29pI3Mjb2kjeiNvaSN7I29pI3wjb2kjfSNvaSRPI29pJFEjb2kkUiNvaSRTI29pJFQjb2kkVSNvaSRWI29pJFcjb2kkeiNvaSF9I29pI1gjb2khbiNvaVYjb2khcSNvaSN1I29pI3cjb2l+UCMqek8jbCdTTyF4I2thI1Mja2EjVSNrYSNiI2thIW8ja2EjTyNrYXcja2EhbSNrYSZzI2thfk9QZ09RfE9VXk9XfU9bNE9PbzV4T3MjaE94M3pPeTN6T31gTyFPXU8hUTJeTyFSfU8hVDRVTyFVM3xPIVYzfE8hWTJgTyFjM3hPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRTTyRdNFFPJF40U08kYXFPJHoyX08keyFPTyR9fU8lT31PJVZ8Tydne09+TyNsI29hI1Ujb2EjYiNvYX5QSXBPeiNSTyF2IXlPI1MjUU8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QjUGkhUyNQaSFiI1BpIW0jUGkmcyNQaSF4I1BpIW4jUGl+UCEnV096I1JPIXYheU8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCN2aSFTI3ZpIWIjdmkhbSN2aSZzI3ZpIXgjdmkhbiN2aX5QISdXTyFtI3hpJnMjeGkheCN4aSFuI3hpflBDcU8hcyNnTyNwZU8hfSZeWCNYJl5Yfk8hfSdeTyNYJ1phfk8hcyd1T35PdyhTTyFvKVdPIXEqZk9+TyFzKmpPfk8jUypsTyNVKm1PI2Iqa08jbCdTT35PI1MqbE8jVSptTyNiKmtPJGRyT35QMGFPI3Uqb08heCRjWCF9JGNYfk8jVSptTyNiKmtPfk8jYipwT35PI2Iqck9+UDBhTyF9KnNPIXgnWFh+TyF4KnVPfk8heSp3T35PIV4qe08hb1hPIXEqek9+TyFxKn1PIW8nY2khbSdjaSZzJ2Npfk8hcStRTyNPK1BPfk8jYiRuTyFtJmVYIX0mZVgmcyZlWH5PIX0ne08hbSdiYSZzJ2Jhfk9UJGtpeiRraSFTJGtpIWIka2khbSRraSFvJGtpIXYka2kheSRraSNTJGtpI1cka2kjYCRraSNhJGtpI3Mka2kjdSNmYSN3I2ZhI3oka2kjeyRraSN8JGtpI30ka2kkTyRraSRRJGtpJFIka2kkUyRraSRUJGtpJFUka2kkViRraSRXJGtpJHoka2kmcyRraSF4JGtpIX0ka2kjTyRraSNYJGtpIW4ka2khcSRraVYka2l+T1MrXk9dK2FPbSteT3MkYU8hXitkTyFfK15PIWArXk8hbitoTyNiJG5PJGFxTyRkck9+UDBhTyFzK2xPfk8jVytuTyNgK21PI2ErbU9+TyFzK3BPI2IrcE8kfStwTyVUK29Pfk8hbitxT35QQ3FPYyVYWGQlWFhoJVhYaiVYWGYlWFhnJVhYZSVYWH5QaE9jK3VPZCtzT1AlV2lRJVdpUyVXaVUlV2lXJVdpWCVXaVslV2ldJVdpXiVXaWAlV2lhJVdpYiVXaWslV2ltJVdpbyVXaXAlV2lxJVdpcyVXaXQlV2l1JVdpdiVXaXglV2l5JVdpfCVXaX0lV2khTyVXaSFQJVdpIVElV2khUiVXaSFUJVdpIVUlV2khViVXaSFXJVdpIVglV2khWSVXaSFaJVdpIVslV2khXSVXaSFeJVdpIWAlV2khYSVXaSFjJVdpIW0lV2khbyVXaSFzJVdpIXklV2kjVyVXaSNiJVdpI2QlV2kjZSVXaSNwJVdpJFQlV2kkXSVXaSReJVdpJGElV2kkZCVXaSRsJVdpJHolV2kkeyVXaSR9JVdpJU8lV2klViVXaSZwJVdpJ2clV2kmdCVXaSFuJVdpaCVXaWolV2lmJVdpZyVXaVklV2lfJVdpaSVXaWUlV2l+T2MreU9kK3ZPaCt4T35PWSt6T18re08hbixPT35PWSt6T18re09pJV5Yfk9pLFFPfk9qLFJPfk8hbSxUT35QOXlPIW0sVk9+T2YsV09+T1Q2aU9WLFhPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9+UCEnV09nLFlPfk8heSxaT35PWih3T24oeE9QJWxpUSVsaVMlbGlVJWxpVyVsaVglbGlbJWxpXSVsaV4lbGlgJWxpYSVsaWIlbGlrJWxpbSVsaW8lbGlwJWxpcSVsaXMlbGl0JWxpdSVsaXYlbGl4JWxpeSVsaXwlbGl9JWxpIU8lbGkhUCVsaSFRJWxpIVIlbGkhVCVsaSFVJWxpIVYlbGkhVyVsaSFYJWxpIVklbGkhWiVsaSFbJWxpIV0lbGkhXiVsaSFgJWxpIWElbGkhYyVsaSFtJWxpIW8lbGkhcyVsaSF5JWxpI1clbGkjYiVsaSNkJWxpI2UlbGkjcCVsaSRUJWxpJF0lbGkkXiVsaSRhJWxpJGQlbGkkbCVsaSR6JWxpJHslbGkkfSVsaSVPJWxpJVYlbGkmcCVsaSdnJWxpJnQlbGkhbiVsaWMlbGlkJWxpaCVsaWolbGlmJWxpZyVsaVklbGlfJWxpaSVsaWUlbGl+TyN1LF9Pfk8hfSh7TyFtJWRhJnMlZGF+TyF4LGJPfk8hcyVkTyFtJmRYIX0mZFgmcyZkWH5PIX0pUU8hbSdgYSZzJ2Bhfk9TK15PWSxpT20rXk9zJGFPIV4rZE8hXyteTyFgK15PJGFxTyRkck9+TyFuLGxPflAjSndPIW8pV09+TyFvJXBPIXMnUk9+TyFzI2dPI3BlTyFtJm5YIX0mblgmcyZuWH5PIX0pX08hbSdrYSZzJ2thfk8hcyxyT35PVixzTyFuJXxYIX0lfFh+TyF9LHVPIW4nbFh+TyFuLHdPfk8hbSZVWCF9JlVYJnMmVVgjTyZVWH5QOXlPIX0paU8hbSZ8YSZzJnxhI08mfGF+T3ojUk8jUyNRTyN6I1NPI3sjV08jfCNYTyN9I1lPJE8jWk8kUSNdTyRSI15PJFMjX08kVCNgTyRVI2FPJFYjYk8kVyNiTyR6I2RPVCF1cSFTIXVxIWIhdXEhbSF1cSF2IXVxJnMhdXEheCF1cSFuIXVxflAhJ1dPIW4sfE9+UENxT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I2lhIX0jaWF+UCEnV08heCZZWCF9JllYflBBT08hfSl2TyF4J1Nhfk8jTy1RT35PIX0tUk8hbiZ7WH5PIW4tVE9+TyF4LVVPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSNWaSNYI1ZpflAhJ1dPIXgmWFghfSZYWH5QOXlPIX0qVU8heCdRYX5PIXgtW09+T1QjanF6I2pxIVMjanEhYiNqcSFtI2pxIXYjanEjUyNqcSN1I2pxI3cjanEjeiNqcSN7I2pxI3wjanEjfSNqcSRPI2pxJFEjanEkUiNqcSRTI2pxJFQjanEkVSNqcSRWI2pxJFcjanEkeiNqcSZzI2pxIXgjanEhfSNqcSNPI2pxI1gjanEhbiNqcSFxI2pxViNqcX5QISdXTyNsI29pI1Ujb2kjYiNvaX5QIyp6T3ojUk8hdiF5TyNTI1FPI3ojU08jeyNXTyN8I1hPI30jWU8kTyNaTyRRI11PJFIjXk8kUyNfTyRUI2BPJFUjYU8kViNiTyRXI2JPJHojZE9UI1BxIVMjUHEhYiNQcSFtI1BxJnMjUHEheCNQcSFuI1BxflAhJ1dPI3UtZE8heCRjYSF9JGNhfk8jVS1mTyNiLWVPfk8jYi1nT35PI1MtaE8jVS1mTyNiLWVPI2wnU09+TyNiLWpPI2wnU09+TyN1LWtPIXgkaGEhfSRoYX5PIWAnbU8jUydrTyNVJ2xPI2Inak8kZHJPIXgmX1ghfSZfWH5QMGFPIX0qc08heCdYYX5PIW9YTyNsJ1NPfk8jUy1wTyNiLW9PIXgnW1B+TyFvWE8hcS1yT35PIXEtdU8hbydjcSFtJ2NxJnMnY3F+TyFeLXdPIW9YTyFxLXJPfk8hcS17TyNPLXpPfk9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hbSRzaSF9JHNpJnMkc2l+UCEnV08hbSRqcSZzJGpxIXgkanEhbiRqcX5QQ3FPI08tek8jbCdTT35PIX0tfE93J11YIW8nXVghbSddWCZzJ11Yfk8jYiRuTyNsJ1NPfk9TK15PXS5ST20rXk9zJGFPIV8rXk8hYCteTyNiJG5PJGFxTyRkck9+UDBhT1MrXk9dLlJPbSteT3MkYU8hXyteTyFgK15PI2Ikbk8kYXFPflAwYU9TK15PXSthT20rXk9zJGFPIV4rZE8hXyteTyFgK15PIW4uWk8jYiRuTyRhcU8kZHJPflAwYU8hcy5eT35PIXMuX08jYi5fTyR9Ll9PJVQrb09+TyR9LmBPfk8jWC5hT35PYyVYYWQlWGFoJVhhaiVYYWYlWGFnJVhhZSVYYX5QaE9jLmRPZCtzT1AlV3FRJVdxUyVXcVUlV3FXJVdxWCVXcVslV3FdJVdxXiVXcWAlV3FhJVdxYiVXcWslV3FtJVdxbyVXcXAlV3FxJVdxcyVXcXQlV3F1JVdxdiVXcXglV3F5JVdxfCVXcX0lV3EhTyVXcSFQJVdxIVElV3EhUiVXcSFUJVdxIVUlV3EhViVXcSFXJVdxIVglV3EhWSVXcSFaJVdxIVslV3EhXSVXcSFeJVdxIWAlV3EhYSVXcSFjJVdxIW0lV3EhbyVXcSFzJVdxIXklV3EjVyVXcSNiJVdxI2QlV3EjZSVXcSNwJVdxJFQlV3EkXSVXcSReJVdxJGElV3EkZCVXcSRsJVdxJHolV3EkeyVXcSR9JVdxJU8lV3ElViVXcSZwJVdxJ2clV3EmdCVXcSFuJVdxaCVXcWolV3FmJVdxZyVXcVklV3FfJVdxaSVXcWUlV3F+T2MuaU9kK3ZPaC5oT35PIXEoYE9+T1A2XU9RfE9VXk9XfU9bOmZPbz5ST3MjaE94OmRPeTpkT31gTyFPXU8hUTprTyFSfU8hVDpqTyFVOmVPIVY6ZU8hWTpvTyFjOGdPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDpoTyRdOmdPJF46aE8kYXFPJHo6bU8keyFPTyR9fU8lT31PJVZ8Tydne09+TyFtLmxPIXEubE9+T1krek9fK3tPIW4ubk9+T1krek9fK3tPaSVeYX5PIXguck9+UD5VTyFtLnRPfk8hbS50T35QOXlPUXxPV31PIVJ9TyR9fU8lT31PJVZ8Tydne09+T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJmthIX0ma2EmcyZrYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyFtJHFpIX0kcWkmcyRxaX5QISdXT1MrXk9tK15PcyRhTyFfK15PIWArXk8kYXFPJGRyT35PWS9QT35QJD9WT1MrXk9tK15PcyRhTyFfK15PIWArXk8kYXFPfk8hcy9RT35PIW4vU09+UCNKd093KFNPIW8pV08jbCdTT35PVi9WTyFtJm5hIX0mbmEmcyZuYX5PIX0pX08hbSdraSZzJ2tpfk8hcy9YT35PVi9ZTyFuJXxhIX0lfGF+T10vW09zL1tPIXMjZ08jcGVPIW4mb1ghfSZvWH5PIX0sdU8hbidsYX5PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIW0mVWEhfSZVYSZzJlVhI08mVWF+UCEnV096I1JPI1MjUU8jeiNTTyN7I1dPI3wjWE8jfSNZTyRPI1pPJFEjXU8kUiNeTyRTI19PJFQjYE8kVSNhTyRWI2JPJFcjYk8keiNkT1QhdXkhUyF1eSFiIXV5IW0hdXkhdiF1eSZzIXV5IXghdXkhbiF1eX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I2hpIX0jaGl+UCEnV09fKXlPIW4mVlghfSZWWH5QOXlPIX0tUk8hbiZ7YX5PVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0jVnEjWCNWcX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I1tpIX0jW2l+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNPL2NPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF4JlhhIX0mWGF+UCEnV08jdS9pTyF4JGNpIX0kY2l+TyNiL2pPfk8jVS9sTyNiL2tPfk9UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCRjaSF9JGNpflAhJ1dPI3UvbU8heCRoaSF9JGhpfk8hfS9vTyF4J1tYfk8jYi9xT35PIXgvck9+TyFvWE8hcS91T35PI2wnU08hbydjeSFtJ2N5JnMnY3l+TyFtJGp5JnMkankheCRqeSFuJGp5flBDcU8jTy94TyNsJ1NPfk8hcyNnTyNwZU93JmFYIW8mYVghfSZhWCFtJmFYJnMmYVh+TyF9LXxPdyddYSFvJ11hIW0nXWEmcyddYX5PVSRQT10wUU8hUiRQTyFzJE9PIXYjfU8jYiRuTyNwMlhPflAkP3VPIW0jY08hbzBWTyZzI2NPfk8jWDBZT35PaDBfT35PVDp0T3o6cE8hUzp2TyFiOnhPIW0wYE8hcTBgTyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT35QISdXT1klXWFfJV1hIW4lXWFpJV1hflBoTyF4MGJPfk8heDBiT35QPlVPIW0wZE9+T1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPIXgwZk8jTzBlTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9+UCEnV08heDBmT35PIXgwZ08jYjBoTyNsJ1NPfk8heDBpT35PIXMwak9+TyFtI2NPI3UwbE8mcyNjT35PIXMwbU9+TyF9KV9PIW0na3EmcydrcX5PIXMwbk9+T1Ywb08hbiV9WCF9JX1Yfk9UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbiF8aSF9IXxpflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgkY3EhfSRjcX5QISdXTyN1MHZPIXgkY3EhfSRjcX5PI2Iwd09+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JGhxIX0kaHF+UCEnV08jUzB6TyNiMHlPIXgmYFghfSZgWH5PIX0vb08heCdbYX5PI2wnU08hbydjIVIhbSdjIVImcydjIVJ+TyFvWE8hcTFQT35PIW0kaiFSJnMkaiFSIXgkaiFSIW4kaiFSflBDcU8jTzFSTyNsJ1NPfk9QNl1PVV5PWzlXT28+U09zI2hPeDlXT3k5V099YE8hT11PIVE6bE8hVDlXTyFVOVdPIVY5V08hWTlXTyFjOGhPIW4xXk8hczFZTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kejpuTyR7IU9PflAkO2xPaDFfT35PWSVbaV8lW2khbiVbaWklW2l+UGhPWSVdaV8lXWkhbiVdaWklXWl+UGhPIXgxYk9+TyF4MWJPflA+VU8heDFlT35PIW0jY08jdTFpTyZzI2NPfk8kfTFqTyVWMWpPfk8hczFrT35PVjFsTyFuJX1hIX0lfWF+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I11pIX0jXWl+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCRjeSF9JGN5flAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgkaHkhfSRoeX5QISdXTyNiMW5Pfk8hfS9vTyF4J1tpfk8hbSRqIVomcyRqIVoheCRqIVohbiRqIVp+UENxT1Q6dU96OnFPIVM6d08hYjp5TyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkT35QISdXT1YxdU97MXRPflAhNXhPVjF1T3sxdE9UJn1YeiZ9WCFTJn1YIWImfVghbyZ9WCF2Jn1YIXkmfVgjUyZ9WCNXJn1YI2AmfVgjYSZ9WCNzJn1YI3UmfVgjdyZ9WCN6Jn1YI3smfVgjfCZ9WCN9Jn1YJE8mfVgkUSZ9WCRSJn1YJFMmfVgkVCZ9WCRVJn1YJFYmfVgkVyZ9WCR6Jn1Yfk9QNl1PVV5PWzlXT28+U09zI2hPeDlXT3k5V099YE8hT11PIVE6bE8hVDlXTyFVOVdPIVY5V08hWTlXTyFjOGhPIW4xeE8hczFZTyF5W08jV19PI2JoTyNkYU8jZWJPI3BlTyRUOmlPJF05V08kXjppTyRhcU8kejpuTyR7IU9PflAkO2xPWSVbcV8lW3EhbiVbcWklW3F+UGhPIXgxek9+TyF4JWdpflBDcU9lMXtPfk8kfTF8TyVWMXxPfk8hczJPT35PVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgkYyFSIX0kYyFSflAhJ1dPIW0kaiFjJnMkaiFjIXgkaiFjIW4kaiFjflBDcU8hczJRT35PIWAyU08hczJST35PIXMyVk8hbSR4aSZzJHhpfk8hcydXT35PIXMqXU9+T1QyY096MmFPIVMyZE8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFtJGthI3Uka2EjdyRrYSZzJGthIXgka2EhbiRrYSFxJGthI1gka2EhfSRrYX5QISdXTyNTMl1PflAqa08kbCR0T35QIy5ZT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI08yW08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIW0nUFgmcydQWCF4J1BYIW4nUFh+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNPM3VPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9J1BYI1gnUFgjdSdQWCN3J1BYIW0nUFgmcydQWCF4J1BYIW4nUFhWJ1BYIXEnUFh+UCEnV08jUzNkT35QIy5ZT1QyY096MmFPIVMyZE8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFtJFhhI3UkWGEjdyRYYSZzJFhhIXgkWGEhbiRYYSFxJFhhI1gkWGEhfSRYYX5QISdXT1QyY096MmFPIVMyZE8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFtJFlhI3UkWWEjdyRZYSZzJFlhIXgkWWEhbiRZYSFxJFlhI1gkWWEhfSRZYX5QISdXT1QyY096MmFPIVMyZE8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFtJFphI3UkWmEjdyRaYSZzJFphIXgkWmEhbiRaYSFxJFphI1gkWmEhfSRaYX5QISdXT1QyY096MmFPIVMyZE8hYjJlTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFtJFthI3UkW2EjdyRbYSZzJFthIXgkW2EhbiRbYSFxJFthI1gkW2EhfSRbYX5QISdXT3oyYU8jdSRbYSN3JFthIXEkW2EjWCRbYSF9JFthflBOeU9UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRfYSN1JF9hI3ckX2EmcyRfYSF4JF9hIW4kX2EhcSRfYSNYJF9hIX0kX2F+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSR8YSN1JHxhI3ckfGEmcyR8YSF4JHxhIW4kfGEhcSR8YSNYJHxhIX0kfGF+UCEnV096MmFPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN1I3lpI3cjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSN1I3lpI3cjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV09UMmNPejJhTyFiMmVPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPIVMjeWkhbSN5aSN1I3lpI3cjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV09UMmNPejJhTyF2NFdPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkTyFTI3lpIWIjeWkhbSN5aSN1I3lpI3cjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPI1MjUU8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPI1MjUU8jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPI1MjUU8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPI1MjUU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFQybk8kVjJwTyRXMnBPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXYjeWkjUyN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFUjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFYycE8kVzJwTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSF2I3lpI1MjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFMybU8kVDJuTyRWMnBPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFUjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV096MmFPJFcycE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhdiN5aSNTI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpJFYjeWkmcyN5aSF4I3lpIW4jeWkhcSN5aSNYI3lpIX0jeWl+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSNUYSN1I1RhI3cjVGEmcyNUYSF4I1RhIW4jVGEhcSNUYSNYI1RhIX0jVGF+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSdQYSN1J1BhI3cnUGEmcydQYSF4J1BhIW4nUGEhcSdQYSNYJ1BhIX0nUGF+UCEnV096MmFPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCNQaSFTI1BpIWIjUGkhbSNQaSN1I1BpI3cjUGkmcyNQaSF4I1BpIW4jUGkhcSNQaSNYI1BpIX0jUGl+UCEnV096MmFPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCN2aSFTI3ZpIWIjdmkhbSN2aSN1I3ZpI3cjdmkmcyN2aSF4I3ZpIW4jdmkhcSN2aSNYI3ZpIX0jdml+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSN4aSN1I3hpI3cjeGkmcyN4aSF4I3hpIW4jeGkhcSN4aSNYI3hpIX0jeGl+UCEnV096MmFPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QhdXEhUyF1cSFiIXVxIW0hdXEhdiF1cSN1IXVxI3chdXEmcyF1cSF4IXVxIW4hdXEhcSF1cSNYIXVxIX0hdXF+UCEnV096MmFPIXY0V08jUyNRTyN6MmJPI3syZk8jfDJnTyN9MmhPJE8yaU8kUTJrTyRSMmxPJFMybU8kVDJuTyRVMm9PJFYycE8kVzJwTyR6I2RPVCNQcSFTI1BxIWIjUHEhbSNQcSN1I1BxI3cjUHEmcyNQcSF4I1BxIW4jUHEhcSNQcSNYI1BxIX0jUHF+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRqcSN1JGpxI3ckanEmcyRqcSF4JGpxIW4kanEhcSRqcSNYJGpxIX0kanF+UCEnV096MmFPI1MjUU8jejJiTyN7MmZPI3wyZ08jfTJoTyRPMmlPJFEya08kUjJsTyRTMm1PJFQybk8kVTJvTyRWMnBPJFcycE8keiNkT1QhdXkhUyF1eSFiIXV5IW0hdXkhdiF1eSN1IXV5I3chdXkmcyF1eSF4IXV5IW4hdXkhcSF1eSNYIXV5IX0hdXl+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRqeSN1JGp5I3ckankmcyRqeSF4JGp5IW4kankhcSRqeSNYJGp5IX0kanl+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRqIVIjdSRqIVIjdyRqIVImcyRqIVIheCRqIVIhbiRqIVIhcSRqIVIjWCRqIVIhfSRqIVJ+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRqIVojdSRqIVojdyRqIVomcyRqIVoheCRqIVohbiRqIVohcSRqIVojWCRqIVohfSRqIVp+UCEnV09UMmNPejJhTyFTMmRPIWIyZU8hdjRXTyNTI1FPI3oyYk8jezJmTyN8MmdPI30yaE8kTzJpTyRRMmtPJFIybE8kUzJtTyRUMm5PJFUyb08kVjJwTyRXMnBPJHojZE8hbSRqIWMjdSRqIWMjdyRqIWMmcyRqIWMheCRqIWMhbiRqIWMhcSRqIWMjWCRqIWMhfSRqIWN+UCEnV09QNl1PVV5PWzRQT284Xk9zI2hPeDN7T3kze099YE8hT11PIVE0YU8hVDRWTyFVM31PIVYzfU8hWTRjTyFjM3lPIXMjZ08heVtPI1Mzdk8jV19PI2JoTyNkYU8jZWJPI3BlTyRUNFRPJF00Uk8kXjRUTyRhcU8kejRiTyR7IU9PflAkO2xPUDZdT1VeT1s0UE9vOF5PcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ0VE8kXTRSTyReNFRPJGFxTyR6NGJPJHshT09+UCQ7bE8jdTJ1TyN3MnZPIXEmelgjWCZ6WCF9JnpYflAwck9QNl1PVV5PWzRQT284Xk9yMndPcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNTMnRPI1Uyc08jV19PI2JoTyNkYU8jZWJPI3BlTyRUNFRPJF00Uk8kXjRUTyRhcU8kejRiTyR7IU9PVCN4WHojeFghUyN4WCFiI3hYIW0jeFghbyN4WCF2I3hYI2AjeFgjYSN4WCNzI3hYI3UjeFgjdyN4WCN6I3hYI3sjeFgjfCN4WCN9I3hYJE8jeFgkUSN4WCRSI3hYJFMjeFgkVSN4WCRWI3hYJFcjeFgmcyN4WCF4I3hYIW4jeFghcSN4WCNYI3hYIX0jeFh+UCQ7bE9QNl1PVV5PWzRQT284Xk9yNHhPcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNTNHVPI1U0dE8jV19PI2JoTyNkYU8jZWJPI3BlTyRUNFRPJF00Uk8kXjRUTyRhcU8kejRiTyR7IU9PVCN4WHojeFghUyN4WCFiI3hYIW8jeFghdiN4WCF9I3hYI08jeFgjWCN4WCNgI3hYI2EjeFgjcyN4WCN1I3hYI3cjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYIW0jeFgmcyN4WCF4I3hYIW4jeFhWI3hYIXEjeFh+UCQ7bE8hcTNQT35QPlVPIXE1fU8jTzNnT35PVDh2T3o4dE8hUzh3TyFiOHhPIXEzaE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9+UCEnV08hcTZPTyNPM2tPfk8hcTZQTyNPM29Pfk8jTzNvTyNsJ1NPfk8jTzNwTyNsJ1NPfk8jTzNzTyNsJ1NPfk9QNl1PVV5PWzRQT284Xk9zI2hPeDN7T3kze099YE8hT11PIVE0YU8hVDRWTyFVM31PIVYzfU8hWTRjTyFjM3lPIXMjZ08heVtPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRUTyRdNFJPJF40VE8kYXFPJGwkdE8kejRiTyR7IU9PflAkO2xPUDZdT1VeT1s0UE9vOF5PcyNoT3gze095M3tPfWBPIU9dTyFRNGFPIVQ0Vk8hVTN9TyFWM31PIVk0Y08hYzN5TyFzI2dPIXlbTyNTNWVPI1dfTyNiaE8jZGFPI2ViTyNwZU8kVDRUTyRdNFJPJF40VE8kYXFPJHo0Yk8keyFPT35QJDtsT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JFhhI08kWGEjWCRYYSN1JFhhI3ckWGEhbSRYYSZzJFhhIXgkWGEhbiRYYVYkWGEhcSRYYX5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JFlhI08kWWEjWCRZYSN1JFlhI3ckWWEhbSRZYSZzJFlhIXgkWWEhbiRZYVYkWWEhcSRZYX5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JFphI08kWmEjWCRaYSN1JFphI3ckWmEhbSRaYSZzJFphIXgkWmEhbiRaYVYkWmEhcSRaYX5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JFthI08kW2EjWCRbYSN1JFthI3ckW2EhbSRbYSZzJFthIXgkW2EhbiRbYVYkW2EhcSRbYX5QISdXT3o0ZE8hfSRbYSNPJFthI1gkW2EjdSRbYSN3JFthViRbYSFxJFthflBOeU9UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRfYSNPJF9hI1gkX2EjdSRfYSN3JF9hIW0kX2EmcyRfYSF4JF9hIW4kX2FWJF9hIXEkX2F+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSR8YSNPJHxhI1gkfGEjdSR8YSN3JHxhIW0kfGEmcyR8YSF4JHxhIW4kfGFWJHxhIXEkfGF+UCEnV096NGRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV09UNGZPejRkTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIVMjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV09UNGZPejRkTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyFTI3lpIWIjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPI1MjUU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPI1MjUU8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPI1MjUU8kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPI1MjUU8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFQ0cU8kVjRzTyRXNHNPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjdSN5aSN3I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFY0c08kVzRzTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjUyN5aSNYI3lpI3UjeWkjdyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFM0cE8kVDRxTyRWNHNPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRVI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NGRPJFc0c08keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN1I3lpI3cjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSNUYSNPI1RhI1gjVGEjdSNUYSN3I1RhIW0jVGEmcyNUYSF4I1RhIW4jVGFWI1RhIXEjVGF+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSdQYSNPJ1BhI1gnUGEjdSdQYSN3J1BhIW0nUGEmcydQYSF4J1BhIW4nUGFWJ1BhIXEnUGF+UCEnV096NGRPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCNQaSFTI1BpIWIjUGkhfSNQaSNPI1BpI1gjUGkjdSNQaSN3I1BpIW0jUGkmcyNQaSF4I1BpIW4jUGlWI1BpIXEjUGl+UCEnV096NGRPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCN2aSFTI3ZpIWIjdmkhfSN2aSNPI3ZpI1gjdmkjdSN2aSN3I3ZpIW0jdmkmcyN2aSF4I3ZpIW4jdmlWI3ZpIXEjdml+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSN4aSNPI3hpI1gjeGkjdSN4aSN3I3hpIW0jeGkmcyN4aSF4I3hpIW4jeGlWI3hpIXEjeGl+UCEnV096NGRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QhdXEhUyF1cSFiIXVxIXYhdXEhfSF1cSNPIXVxI1ghdXEjdSF1cSN3IXVxIW0hdXEmcyF1cSF4IXVxIW4hdXFWIXVxIXEhdXF+UCEnV096NGRPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPVCNQcSFTI1BxIWIjUHEhfSNQcSNPI1BxI1gjUHEjdSNQcSN3I1BxIW0jUHEmcyNQcSF4I1BxIW4jUHFWI1BxIXEjUHF+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRqcSNPJGpxI1gkanEjdSRqcSN3JGpxIW0kanEmcyRqcSF4JGpxIW4kanFWJGpxIXEkanF+UCEnV096NGRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkT1QhdXkhUyF1eSFiIXV5IXYhdXkhfSF1eSNPIXV5I1ghdXkjdSF1eSN3IXV5IW0hdXkmcyF1eSF4IXV5IW4hdXlWIXV5IXEhdXl+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRqeSNPJGp5I1gkankjdSRqeSN3JGp5IW0kankmcyRqeSF4JGp5IW4kanlWJGp5IXEkanl+UCEnV09UNGZPejRkTyFTNGdPIWI0aE8hdjZUTyNTI1FPI3o0ZU8jezRpTyN8NGpPI300a08kTzRsTyRRNG5PJFI0b08kUzRwTyRUNHFPJFU0ck8kVjRzTyRXNHNPJHojZE8hfSRqIVIjTyRqIVIjWCRqIVIjdSRqIVIjdyRqIVIhbSRqIVImcyRqIVIheCRqIVIhbiRqIVJWJGohUiFxJGohUn5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JGohWiNPJGohWiNYJGohWiN1JGohWiN3JGohWiFtJGohWiZzJGohWiF4JGohWiFuJGohWlYkaiFaIXEkaiFaflAhJ1dPVDRmT3o0ZE8hUzRnTyFiNGhPIXY2VE8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIX0kaiFjI08kaiFjI1gkaiFjI3UkaiFjI3ckaiFjIW0kaiFjJnMkaiFjIXgkaiFjIW4kaiFjViRqIWMhcSRqIWN+UCEnV08jUzV3T35QIy5ZTyF5JGhPI1M1e09+TyF4NFpPI2wnU09+TyF5JGhPI1M1fE9+T1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI1MjUU8jejRlTyN7NGlPI3w0ak8jfTRrTyRPNGxPJFE0bk8kUjRvTyRTNHBPJFQ0cU8kVTRyTyRWNHNPJFc0c08keiNkTyF9JGthI08ka2EjWCRrYSN1JGthI3cka2EhbSRrYSZzJGthIXgka2EhbiRrYVYka2EhcSRrYX5QISdXT1Q0Zk96NGRPIVM0Z08hYjRoTyF2NlRPI081dk8jUyNRTyN6NGVPI3s0aU8jfDRqTyN9NGtPJE80bE8kUTRuTyRSNG9PJFM0cE8kVDRxTyRVNHJPJFY0c08kVzRzTyR6I2RPIW0nUFgjdSdQWCN3J1BYJnMnUFgheCdQWCFuJ1BYIXEnUFgjWCdQWCF9J1BYflAhJ1dPI3U0dk8jdzR3TyF9JnpYI08melgjWCZ6WFYmelghcSZ6WH5QMHJPIXE1UU9+UD5VTyFxOGJPI081aE9+T1Q4dk96OHRPIVM4d08hYjh4TyFxNWlPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPIXE4Y08jTzVsT35PIXE4ZE8jTzVwT35PI081cE8jbCdTT35PI081cU8jbCdTT35PI081dE8jbCdTT35PJGwkdE9+UDl5T281ek9zJGxPfk8jUzdvT35QOXlPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kWGEjTyRYYSNYJFhhIW0kWGEmcyRYYSF4JFhhIW4kWGFWJFhhIXEkWGF+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRZYSNPJFlhI1gkWWEhbSRZYSZzJFlhIXgkWWEhbiRZYVYkWWEhcSRZYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JFphI08kWmEjWCRaYSFtJFphJnMkWmEheCRaYSFuJFphViRaYSFxJFphflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kW2EjTyRbYSNYJFthIW0kW2EmcyRbYSF4JFthIW4kW2FWJFthIXEkW2F+UCEnV096NmdPIX0kW2EjTyRbYSNYJFthViRbYSFxJFthflBOeU9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRfYSNPJF9hI1gkX2EhbSRfYSZzJF9hIXgkX2EhbiRfYVYkX2EhcSRfYX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JGthI08ka2EjWCRrYSFtJGthJnMka2EheCRrYSFuJGthViRrYSFxJGthflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kfGEjTyR8YSNYJHxhIW0kfGEmcyR8YSF4JHxhIW4kfGFWJHxhIXEkfGF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyF9N3NPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4J2pYflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8hfTd1TyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCZ8WH5QISdXT3o2Z08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSF9I3lpI08jeWkjWCN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIX0jeWkjTyN5aSNYI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV09UNmlPejZnTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIVMjeWkhfSN5aSNPI3lpI1gjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT1Q2aU96NmdPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIVMjeWkhYiN5aSF9I3lpI08jeWkjWCN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyNTI1FPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjeiN5aSN7I3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPI1MjUU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08jUyNRTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyNTI1FPJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPJFQ2dE8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFUjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXT3o2Z08kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSFtI3lpJnMjeWkheCN5aSFuI3lpViN5aSFxI3lpflAhJ1dPejZnTyRTNnNPJFQ2dE8kVjZ2TyRXNnZPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpIX0jeWkjTyN5aSNTI3lpI1gjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRVI3lpIW0jeWkmcyN5aSF4I3lpIW4jeWlWI3lpIXEjeWl+UCEnV096NmdPJFc2dk8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWkhfSN5aSNPI3lpI1MjeWkjWCN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpJFYjeWkhbSN5aSZzI3lpIXgjeWkhbiN5aVYjeWkhcSN5aX5QISdXTyNTN3pPflA+VU8hbSNUYSZzI1RhIXgjVGEhbiNUYX5QQ3FPIW0nUGEmcydQYSF4J1BhIW4nUGF+UENxTyNTO2RPI1U7Y08heCZXWCF9JldYflA5eU8hfTdsTyF4J09hfk96NmdPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPVCNQaSFTI1BpIWIjUGkhfSNQaSNPI1BpI1gjUGkhbSNQaSZzI1BpIXgjUGkhbiNQaVYjUGkhcSNQaX5QISdXT3o2Z08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE9UI3ZpIVMjdmkhYiN2aSF9I3ZpI08jdmkjWCN2aSFtI3ZpJnMjdmkheCN2aSFuI3ZpViN2aSFxI3ZpflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0jeGkjTyN4aSNYI3hpIW0jeGkmcyN4aSF4I3hpIW4jeGlWI3hpIXEjeGl+UCEnV08hfTdzTyF4JWRhfk8heCZVWCF9JlVYflA+VU8hfTd1TyF4Jnxhfk96NmdPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QhdXEhUyF1cSFiIXVxIXYhdXEhfSF1cSNPIXVxI1ghdXEhbSF1cSZzIXVxIXghdXEhbiF1cVYhdXEhcSF1cX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I1ZpIX0jVml+UCEnV096NmdPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPVCNQcSFTI1BxIWIjUHEhfSNQcSNPI1BxI1gjUHEhbSNQcSZzI1BxIXgjUHEhbiNQcVYjUHEhcSNQcX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JGpxI08kanEjWCRqcSFtJGpxJnMkanEheCRqcSFuJGpxViRqcSFxJGpxflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgma2EhfSZrYX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4JlVhIX0mVWF+UCEnV096NmdPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT1QhdXkhUyF1eSFiIXV5IXYhdXkhfSF1eSNPIXV5I1ghdXkhbSF1eSZzIXV5IXghdXkhbiF1eVYhdXkhcSF1eX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyF4I1ZxIX0jVnF+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRqeSNPJGp5I1gkankhbSRqeSZzJGp5IXgkankhbiRqeVYkankhcSRqeX5QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkTyF9JGohUiNPJGohUiNYJGohUiFtJGohUiZzJGohUiF4JGohUiFuJGohUlYkaiFSIXEkaiFSflAhJ1dPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIX0kaiFaI08kaiFaI1gkaiFaIW0kaiFaJnMkaiFaIXgkaiFaIW4kaiFaViRqIVohcSRqIVp+UCEnV09UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8hfSRqIWMjTyRqIWMjWCRqIWMhbSRqIWMmcyRqIWMheCRqIWMhbiRqIWNWJGohYyFxJGohY35QISdXTyNTOFtPflA5eU8jTzhaTyFtJ1BYJnMnUFgheCdQWCFuJ1BYVidQWCFxJ1BYflBHU08heSRoTyNTOGBPfk8heSRoTyNTOGFPfk8jdTZ6TyN3NntPIX0melgjTyZ6WCNYJnpYViZ6WCFxJnpYflAwck9yNnxPI1Mjb08jVSNuTyF9I3hYI08jeFgjWCN4WFYjeFghcSN4WH5QMnlPcjtpTyNTOVhPI1U5Vk9UI3hYeiN4WCFTI3hYIWIjeFghbSN4WCFvI3hYIXEjeFghdiN4WCNgI3hYI2EjeFgjcyN4WCN6I3hYI3sjeFgjfCN4WCN9I3hYJE8jeFgkUSN4WCRSI3hYJFMjeFgkVSN4WCRWI3hYJFcjeFghbiN4WCF9I3hYflA5eU9yOVdPI1M5V08jVTlXT1QjeFh6I3hYIVMjeFghYiN4WCFvI3hYIXYjeFgjYCN4WCNhI3hYI3MjeFgjeiN4WCN7I3hYI3wjeFgjfSN4WCRPI3hYJFEjeFgkUiN4WCRTI3hYJFUjeFgkViN4WCRXI3hYflA5eU9yOV1PI1M7ZE8jVTtjT1QjeFh6I3hYIVMjeFghYiN4WCFvI3hYIXEjeFghdiN4WCNgI3hYI2EjeFgjcyN4WCN6I3hYI3sjeFgjfCN4WCN9I3hYJE8jeFgkUSN4WCRSI3hYJFMjeFgkVSN4WCRWI3hYJFcjeFgjWCN4WCF4I3hYIX0jeFh+UDl5TyRsJHRPflA+VU8hcTdYT35QPlVPVDZpT3o2Z08hUzZqTyFiNmtPIXY4c08jTzdpTyNTI1FPI3o2aE8jezZsTyN8Nm1PI302bk8kTzZvTyRRNnFPJFI2ck8kUzZzTyRUNnRPJFU2dU8kVjZ2TyRXNnZPJHojZE8heCdQWCF9J1BYflAhJ1dPUDZdT1VeT1s5V09vPlNPcyNoT3g5V095OVdPfWBPIU9dTyFROmxPIVQ5V08hVTlXTyFWOVdPIVk5V08hYzhoTyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ6aU8kXTlXTyReOmlPJGFxTyR6Om5PJHshT09+UCQ7bE8hfTdsTyF4J09Yfk8jUzl5T35QPlVPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEkWGEjWCRYYSF4JFhhIX0kWGF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRZYSNYJFlhIXgkWWEhfSRZYX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJFphI1gkWmEheCRaYSF9JFphflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEkW2EjWCRbYSF4JFthIX0kW2F+UCEnV096OHRPJHojZE9UJFthIVMkW2EhYiRbYSFxJFthIXYkW2EjUyRbYSN6JFthI3skW2EjfCRbYSN9JFthJE8kW2EkUSRbYSRSJFthJFMkW2EkVCRbYSRVJFthJFYkW2EkVyRbYSNYJFthIXgkW2EhfSRbYX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJF9hI1gkX2EheCRfYSF9JF9hflAhJ1dPIXE9ZE8jTzdyT35PVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXEka2EjWCRrYSF4JGthIX0ka2F+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSR8YSNYJHxhIXgkfGEhfSR8YX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyFxN3dPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPflAhJ1dPejh0TyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9UI3lpIVMjeWkhYiN5aSFxI3lpIXYjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT1Q4dk96OHRPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hUyN5aSFxI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPVDh2T3o4dE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hUyN5aSFiI3lpIXEjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPI1MjUU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8jUyNRTyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyNTI1FPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPI1MjUU8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8kVDlSTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWkjWCN5aSF4I3lpIX0jeWl+UCEnV096OHRPJFM5UU8kVDlSTyRWOVRPJFc5VE8keiNkT1QjeWkhUyN5aSFiI3lpIXEjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aSNYI3lpIXgjeWkhfSN5aX5QISdXT3o4dE8kVzlUTyR6I2RPVCN5aSFTI3lpIWIjeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpI1gjeWkheCN5aSF9I3lpflAhJ1dPejh0TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT1QjUGkhUyNQaSFiI1BpIXEjUGkjWCNQaSF4I1BpIX0jUGl+UCEnV096OHRPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCN2aSFTI3ZpIWIjdmkhcSN2aSNYI3ZpIXgjdmkhfSN2aX5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxI3hpI1gjeGkheCN4aSF9I3hpflAhJ1dPIXE9ZU8jTzd8T35Pejh0TyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9UIXVxIVMhdXEhYiF1cSFxIXVxIXYhdXEjWCF1cSF4IXVxIX0hdXF+UCEnV096OHRPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPVCNQcSFTI1BxIWIjUHEhcSNQcSNYI1BxIXgjUHEhfSNQcX5QISdXTyFxPWlPI084VE9+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJGpxI1gkanEheCRqcSF9JGpxflAhJ1dPI084VE8jbCdTT35Pejh0TyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9UIXV5IVMhdXkhYiF1eSFxIXV5IXYhdXkjWCF1eSF4IXV5IX0hdXl+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8hcSRqeSNYJGp5IXgkankhfSRqeX5QISdXTyNPOFVPI2wnU09+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJGohUiNYJGohUiF4JGohUiF9JGohUn5QISdXTyNPOFhPI2wnU09+T1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJGohWiNYJGohWiF4JGohWiF9JGohWn5QISdXT1Q4dk96OHRPIVM4d08hYjh4TyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkTyFxJGohYyNYJGohYyF4JGohYyF9JGohY35QISdXTyNTOmJPflA+VU8jTzphTyFxJ1BYIXgnUFh+UEdTTyRsJHRPflAkOFlPUDZdT1VeT1s5V09vPlNPcyNoT3g5V095OVdPfWBPIU9dTyFROmxPIVQ5V08hVTlXTyFWOVdPIVk5V08hYzhoTyFzI2dPIXlbTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ6aU8kXTlXTyReOmlPJGFxTyRsJHRPJHo6bk8keyFPT35QJDtsT284X09zJGxPfk8jUzxqT35QJDhZT1A2XU9VXk9bOVdPbz5TT3MjaE94OVdPeTlXT31gTyFPXU8hUTpsTyFUOVdPIVU5V08hVjlXTyFZOVdPIWM4aE8hcyNnTyF5W08jUzxrTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ6aU8kXTlXTyReOmlPJGFxTyR6Om5PJHshT09+UCQ7bE9UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRYYSFxJFhhIW4kWGEhfSRYYX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJFlhIXEkWWEhbiRZYSF9JFlhflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kWmEhcSRaYSFuJFphIX0kWmF+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRbYSFxJFthIW4kW2EhfSRbYX5QISdXT3o6cE8keiNkT1QkW2EhUyRbYSFiJFthIW0kW2EhcSRbYSF2JFthI1MkW2EjeiRbYSN7JFthI3wkW2EjfSRbYSRPJFthJFEkW2EkUiRbYSRTJFthJFQkW2EkVSRbYSRWJFthJFckW2EhbiRbYSF9JFthflAhJ1dPejpxTyR6I2RPVCRbYSFTJFthIWIkW2EhdiRbYSNTJFthI3okW2EjeyRbYSN8JFthI30kW2EkTyRbYSRRJFthJFIkW2EkUyRbYSRUJFthJFUkW2EkViRbYSRXJFthflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kX2EhcSRfYSFuJF9hIX0kX2F+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRrYSFxJGthIW4ka2EhfSRrYX5QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtJHxhIXEkfGEhbiR8YSF9JHxhflAhJ1dPejpwTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE9UI3lpIVMjeWkhYiN5aSFtI3lpIXEjeWkhdiN5aSFuI3lpIX0jeWl+UCEnV096OnFPI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkT1QjeWkhUyN5aSFiI3lpIXYjeWl+UCEnV096OnBPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8hdj1uTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aX5QISdXT1Q6dE96OnBPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hUyN5aSFtI3lpIXEjeWkhbiN5aSF9I3lpflAhJ1dPVDp1T3o6cU8hYjp5TyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkTyFTI3lpflAhJ1dPVDp0T3o6cE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hUyN5aSFiI3lpIW0jeWkhcSN5aSFuI3lpIX0jeWl+UCEnV09UOnVPejpxTyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkTyFTI3lpIWIjeWl+UCEnV096OnBPI1MjUU8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjeiN5aSN7I3lpIW4jeWkhfSN5aX5QISdXT3o6cU8jUyNRTyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI3ojeWkjeyN5aX5QISdXT3o6cE8jUyNRTyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjeiN5aSN7I3lpI3wjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyNTI1FPI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpflAhJ1dPejpwTyNTI1FPJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSFuI3lpIX0jeWl+UCEnV096OnFPI1MjUU8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWl+UCEnV096OnBPI1MjUU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8jUyNRTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aX5QISdXT3o6cE8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkhbiN5aSF9I3lpflAhJ1dPejpxTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpflAhJ1dPejpwTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSFuI3lpIX0jeWl+UCEnV096OnFPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWl+UCEnV096OnBPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aX5QISdXT3o6cE8kVDtbTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFUjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyRUO11PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRVI3lpflAhJ1dPejpwTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSFuI3lpIX0jeWl+UCEnV096OnFPJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkUyN5aSRUI3lpJFUjeWl+UCEnV096OnBPJFM7WU8kVDtbTyRWO2BPJFc7YE8keiNkT1QjeWkhUyN5aSFiI3lpIW0jeWkhcSN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRVI3lpIW4jeWkhfSN5aX5QISdXT3o6cU8kUztaTyRUO11PJFY7YU8kVzthTyR6I2RPVCN5aSFTI3lpIWIjeWkhdiN5aSNTI3lpI3ojeWkjeyN5aSN8I3lpI30jeWkkTyN5aSRRI3lpJFIjeWkkVSN5aX5QISdXT3o6cE8kVztgTyR6I2RPVCN5aSFTI3lpIWIjeWkhbSN5aSFxI3lpIXYjeWkjUyN5aSN6I3lpI3sjeWkjfCN5aSN9I3lpJE8jeWkkUSN5aSRSI3lpJFMjeWkkVCN5aSRVI3lpJFYjeWkhbiN5aSF9I3lpflAhJ1dPejpxTyRXO2FPJHojZE9UI3lpIVMjeWkhYiN5aSF2I3lpI1MjeWkjeiN5aSN7I3lpI3wjeWkjfSN5aSRPI3lpJFEjeWkkUiN5aSRTI3lpJFQjeWkkVSN5aSRWI3lpflAhJ1dPVDh2T3o4dE8hUzh3TyFiOHhPIXY9Wk8jUyNRTyN6OHVPI3s4eU8jfDh6TyN9OHtPJE84fE8kUTlPTyRSOVBPJFM5UU8kVDlSTyRVOVNPJFY5VE8kVzlUTyR6I2RPIXgjVGEhfSNUYSFxI1RhI1gjVGF+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE8heCdQYSF9J1BhIXEnUGEjWCdQYX5QISdXT3o6cE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE9UI1BpIVMjUGkhYiNQaSFtI1BpIXEjUGkhbiNQaSF9I1BpflAhJ1dPejpxTyF2PW5PI1MjUU8jejpzTyN7OntPI3w6fU8jfTtQTyRPO1JPJFE7Vk8kUjtYTyRTO1pPJFQ7XU8kVTtfTyRWO2FPJFc7YU8keiNkT1QjUGkhUyNQaSFiI1BpflAhJ1dPejpwTyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjdmkhUyN2aSFiI3ZpIW0jdmkhcSN2aSFuI3ZpIX0jdml+UCEnV096OnFPIXY9bk8jUyNRTyN6OnNPI3s6e08jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCN2aSFTI3ZpIWIjdml+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSN4aSFxI3hpIW4jeGkhfSN4aX5QISdXT3o6cE8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCF1cSFTIXVxIWIhdXEhbSF1cSFxIXVxIXYhdXEhbiF1cSF9IXVxflAhJ1dPejpxTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UIXVxIVMhdXEhYiF1cSF2IXVxflAhJ1dPejpwTyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkT1QjUHEhUyNQcSFiI1BxIW0jUHEhcSNQcSFuI1BxIX0jUHF+UCEnV096OnFPIXY9bk8jUyNRTyN6OnNPI3s6e08jfDp9TyN9O1BPJE87Uk8kUTtWTyRSO1hPJFM7Wk8kVDtdTyRVO19PJFY7YU8kVzthTyR6I2RPVCNQcSFTI1BxIWIjUHF+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRqcSFxJGpxIW4kanEhfSRqcX5QISdXT3o6cE8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPVCF1eSFTIXV5IWIhdXkhbSF1eSFxIXV5IXYhdXkhbiF1eSF9IXV5flAhJ1dPejpxTyNTI1FPI3o6c08jezp7TyN8On1PI307UE8kTztSTyRRO1ZPJFI7WE8kUztaTyRUO11PJFU7X08kVjthTyRXO2FPJHojZE9UIXV5IVMhdXkhYiF1eSF2IXV5flAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0kankhcSRqeSFuJGp5IX0kanl+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRqIVIhcSRqIVIhbiRqIVIhfSRqIVJ+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRqIVohcSRqIVohbiRqIVohfSRqIVp+UCEnV09UOnRPejpwTyFTOnZPIWI6eE8hdj1tTyNTI1FPI3o6ck8jezp6TyN8OnxPI307T08kTztRTyRRO1VPJFI7V08kUztZTyRUO1tPJFU7Xk8kVjtgTyRXO2BPJHojZE8hbSRqIWMhcSRqIWMhbiRqIWMhfSRqIWN+UCEnV08jUz1UT35QJDhZT1A2XU9VXk9bOVdPbz5TT3MjaE94OVdPeTlXT31gTyFPXU8hUTpsTyFUOVdPIVU5V08hVjlXTyFZOVdPIWM4aE8hcyNnTyF5W08jUz1VTyNXX08jYmhPI2RhTyNlYk8jcGVPJFQ6aU8kXTlXTyReOmlPJGFxTyR6Om5PJHshT09+UCQ7bE9UNmlPejZnTyFTNmpPIWI2a08hdjhzTyNPPVNPI1MjUU8jejZoTyN7NmxPI3w2bU8jfTZuTyRPNm9PJFE2cU8kUjZyTyRTNnNPJFQ2dE8kVTZ1TyRWNnZPJFc2dk8keiNkT35QISdXT1Q2aU96NmdPIVM2ak8hYjZrTyF2OHNPI089Uk8jUyNRTyN6NmhPI3s2bE8jfDZtTyN9Nm5PJE82b08kUTZxTyRSNnJPJFM2c08kVDZ0TyRVNnVPJFY2dk8kVzZ2TyR6I2RPIW0nUFghcSdQWCFuJ1BYIX0nUFh+UCEnV09UJnpYeiZ6WCFTJnpYIWImelghbyZ6WCFxJnpYIXYmelgheSZ6WCNTJnpYI1cmelgjYCZ6WCNhJnpYI3MmelgjeiZ6WCN7JnpYI3wmelgjfSZ6WCRPJnpYJFEmelgkUiZ6WCRTJnpYJFQmelgkVSZ6WCRWJnpYJFcmelgkeiZ6WCF9JnpYfk8jdTlaTyN3OVtPI1gmelgheCZ6WH5QLjhvTyF5JGhPI1M9Xk9+TyFxOWhPflA+VU8heSRoTyNTPWNPfk8hcT5PTyNPOX1Pfk9UOHZPejh0TyFTOHdPIWI4eE8hcTpPTyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT35QISdXT1Q6dE96OnBPIVM6dk8hYjp4TyF2PW1PI1MjUU8jejpyTyN7OnpPI3w6fE8jfTtPTyRPO1FPJFE7VU8kUjtXTyRTO1lPJFQ7W08kVTteTyRWO2BPJFc7YE8keiNkTyFtI1RhIXEjVGEhbiNUYSF9I1RhflAhJ1dPVDp0T3o6cE8hUzp2TyFiOnhPIXY9bU8jUyNRTyN6OnJPI3s6ek8jfDp8TyN9O09PJE87UU8kUTtVTyRSO1dPJFM7WU8kVDtbTyRVO15PJFY7YE8kVztgTyR6I2RPIW0nUGEhcSdQYSFuJ1BhIX0nUGF+UCEnV08hcT5QTyNPOlJPfk8hcT5RTyNPOllPfk8jTzpZTyNsJ1NPfk8jTzpaTyNsJ1NPfk8jTzpfTyNsJ1NPfk8jdTtlTyN3O2dPIW0melghbiZ6WH5QLjhvTyN1O2ZPI3c7aE9UJnpYeiZ6WCFTJnpYIWImelghbyZ6WCF2JnpYIXkmelgjUyZ6WCNXJnpYI2AmelgjYSZ6WCNzJnpYI3omelgjeyZ6WCN8JnpYI30melgkTyZ6WCRRJnpYJFImelgkUyZ6WCRUJnpYJFUmelgkViZ6WCRXJnpYJHomelh+TyFxO3RPflA+VU8hcTt1T35QPlVPIXE+WE8jTzxvT35PIXE+WU8jTzlXT35PVDh2T3o4dE8hUzh3TyFiOHhPIXE8cE8hdj1aTyNTI1FPI3o4dU8jezh5TyN8OHpPI304e08kTzh8TyRROU9PJFI5UE8kUzlRTyRUOVJPJFU5U08kVjlUTyRXOVRPJHojZE9+UCEnV09UOHZPejh0TyFTOHdPIWI4eE8hcTxxTyF2PVpPI1MjUU8jejh1TyN7OHlPI3w4ek8jfTh7TyRPOHxPJFE5T08kUjlQTyRTOVFPJFQ5Uk8kVTlTTyRWOVRPJFc5VE8keiNkT35QISdXTyFxPlpPI088dk9+TyFxPltPI088e09+TyNPPHtPI2wnU09+TyNPOVdPI2wnU09+TyNPPHxPI2wnU09+TyNPPVBPI2wnU09+TyF5JGhPI1M9fE9+T289W09zJGxPfk8heSRoTyNTPX1Pfk8heSRoTyNTPlVPfk8heSRoTyNTPlZPfk8heSRoTyNTPldPfk9vPXtPcyRsT35Pbz5UT3MkbE9+T28+U09zJGxPfk8lTyRVJH0kZCFkJFYjYiVWI2UnZyFzI2R+XCIsXG4gIGdvdG86IFwiJSZ5J21QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUCduUCd1UFAneyhPUFBQKGhQKE9QKE8qWlAqWlBQMlc6ajptUFAqWjpzQnBQQnNQQnNQUDpzQ1NDVkNaOnM6c1BQUENeUFA6c0teISRTISRTOnMhJFdQISRXISRXISVVUCEuXSE3cFAhP29QKlpQKloqWlBQUFBQIT9yUFBQUFBQUCpaKloqWipaUFAqWipaUCFFXSFHUlAhR1YhR3khR1IhR1IhSFAqWipaUCFIWSFIbCFJYiFKYCFKZCFKYCFKbyFKfSFKfSFLViFLWSFLWSpaUFAqWlBQIUteIyVbIyVbIyVgUCMlZlAoTyMlaihPIyZTIyZWIyZWIyZdKE8jJmAoTyhPIyZmIyZpKE8jJnIjJnUoTyhPKE8oTyhPIyZ4KE8oTyhPKE8oTyhPKE8oTyhPIyZ7IUtSKE8oTyMnXyMnbyMncihPKE9QIyd1Iyd8IyhTIyhvIyh5IylQIylaIyliIyloIypkIzRYIzVUIzVaIzVhIzVrIzVxIzV3IzZdIzZjIzZpIzZvIzZ1IzZ7IzdSIzddIzdnIzdtIzdzIzd9UFBQUFBQUFAjOFQjOFgjOH0jTk8jTlIjTl0kKGYkKHIkKVgkKV8kKWIkKWUkKWskLFgkNXYkPl8kPmIkPmgkPmskPm4kPnckPnskP1gkP2skQmskQ08kQ3skS3tQUCUleSUlfSUmWiUmcCUmdlEhblFUIXFWIXJRVU9SJXghbVJWT30haFBWWCFTIWohciFzIXckfSVQJVMlVShgK3IrdS5iLmQubDBgMGEwaTFhfCFoUFZYIVMhaiFyIXMhdyR9JVAlUyVVKGArcit1LmIuZC5sMGAwYTBpMWFRJV4hWlElZyFhUSVsIWVRJ2QkZFEncSRpUSlbJWtRKnkndFEsXSh4VS1uKnYqeCtPUS5XK2NRLnssW1MvdC1zLXRRMFQuU1MwfS9zL3dRMVYwUlExbzFPUjJQMXAwdSFPUFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgtUS1SLWQtay16LmIuZC5sLnQvYy9pL20veDBWMGAwYTBkMGUwaTB2MVIxXTFhMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzZUNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1tPW4wdCFPUFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgtUS1SLWQtay16LmIuZC5sLnQvYy9pL20veDBWMGAwYTBkMGUwaTB2MVIxXTFhMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzZUNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1tPW5RI2pdUSR9IVBRJU8hUVElUCFSUSxTKGtRLmIrc1IuZit2UiZxI2pRKXomcFIvYS1SMHVoUFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgtUS1SLWQtay16LmIuZC5sLnQvYy9pL20veDBWMGAwYTBkMGUwaTB2MVIxXTFhMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzZUNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1tPW5SI2xeayNwX2ojayNzJnMmdzN4M3k3bDhmOGc4aDhpUiN1YFQmfCN0J09SLVkqVTB0aFBWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uUiN2YS1yI09aI2YjbSN3JFYkVyRYJFkkWiRbJHUkdiVXJVklWyVgJXMlfCZPJlEmVSZeJl8mYCZhJmImYyZkJmUmZiZnJmgmaSZqJmsmbCZtJnUmdiZ7J1gnWidbKF0ocClxKXMpdSpPKlsqXitTK1YsYCxjLHkseyx9LVYtVy1YLWkteC5rLncvYC9oL24veTByMHUweDFRMVgxZDFtMXEycTJyMngyeTJ6MnsyfDJ9M08zUTNSM1MzVDNVM1YzVzNYM1kzWjNbM10zXjNfM2AzYTNiM2MzZTNmM2kzajNsM20zbjNxM3IzdDRZNHk0ejR7NHw0fTVPNVA1UjVTNVQ1VTVWNVc1WDVZNVo1WzVdNV41XzVgNWE1YjVjNWQ1ZjVnNWo1azVtNW41bzVyNXM1dTZSNlY2fTdPN1A3UTdSN1M3VTdWN1c3WTdaN1s3XTdeN183YDdhN2I3YzdkN2U3ZjdnN2g3ajdrN243cDdxN3g3eTd7N304TzhQOFE4UjhTOFY4VzhZOF05VTleOV85YDlhOWI5YzlmOWc5aTlqOWs5bDltOW45bzlwOXE5cjlzOXQ5dTl2OXc5eDl6OXs6UDpROlQ6VjpXOls6XjpgOmM7ajtrO2w7bTtuO287cDtzO3Y7dzt4O3k7ejt7O3w7fTxPPFA8UTxSPFM8VDxVPFY8VzxYPFk8WjxbPF08XjxfPGA8YTxiPGM8ZDxlPGY8ZzxoPGk8bDxtPG48cjxzPHQ8dTx3PHg8eTx6PH09Tz1RPVY9Vz1fPWA9YT1xPXJRJ10kXVkoUSRzN1Q5ZTtxO3JTKFUyWjZRUihYJHRUJlghfSl2IXckUWcjfSRoJ1MnaSdtJ3IoUChUKVoqZipzKnoqfStRK10rYCtnLFotci11LXsuUS91MVA1fTZPNlA2XThiOGM4ZD1kPWU9aT5PPlA+UT5YPlk+Wj5bM1pmUFZYW19iZ2prbG1ub3ByeHl6IVMhVyFYIVkhXSFlIWYhZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QjfSRSJFMkVSRoJHkkfSVQJVIlUyVUJVUlYyVwJXIlfSZTJlcmcCZzJnQmdydPJ1MnVSdZJ14naSdtJ3IneihPKFAoUihTKFQoYChsKHspUClaKV8pYylpKXApdCl2KlAqVCpVKmYqbypzKnoqfStQK1ErXStgK2QrZytyK3UreixULFYsWCxaLHUtUS1SLWQtay1yLXUtei17LXwuUS5iLmQubC50L1svYy9pL20vdS94MFYwYDBhMGQwZTBpMHYxUDFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc1fTZPNlA2VDZdNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2eDZ5Nno2ezZ8N1g3aTdsN283cjdzN3U3dzd6N3w4VDhVOFg4WjhbOGI4YzhkOGY4ZzhoOGk4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVY5VzlYOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI6ZDplOmY6ZzpoOmk6ajprOmw6bTpuOm86cDpxOnI6czp0OnU6djp3Ong6eTp6Ons6fDp9O087UDtRO1I7UztUO1U7VjtXO1g7WTtaO1s7XTteO187YDthO2M7ZDtlO2Y7ZztoO2k7dDt1PGo8azxvPHA8cTx2PHs8fD1QPVI9Uz1UPVU9Wj1kPWU9aT1tPW4+Tz5QPlE+WD5ZPlo+WzNzY1BWWFtfYmRlZ2prbG1ub3ByeHl6IVMhVyFYIVkhXSFlIWYhZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QjeyN9JFIkUyRVJGgkeSR9JVAlUiVTJVQlVSVjJW0lbiVwJXIlfSZTJlcmcCZzJnQmdydPJ1MnVSdZJ14naSdtJ3IneihPKFAoUihTKFQoYChsKHspUClaKV4pXyljKWcpaClpKXApdCl2KlAqVCpVKmYqbypzKnoqfStQK1ErXStgK2QrZytyK3UreixULFYsWCxaLHUseC1RLVItZC1rLXItdS16LXstfC5RLmIuZC5sLnQvWy9jL2kvbS91L3gwVjBgMGEwZDBlMGkwdjFQMVIxXTFhMlcyWDJZMlsyXTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzdTN2M3gzeTN6M3szfDN9NE80UDRRNFI0UzRUNFU0VjRXNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0NXY1dzV9Nk82UDZUNl02XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4YjhjOGQ4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPWQ9ZT1pPW09bj5PPlA+UT5YPlk+Wj5bMHBoUFZYW19iamtsbW5vcHh5eiFTIVchWCFZIV0hZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJX0mUyZXJnAmcyZ0JncnTydVJ1kneihPKGAobCh7KVApaSlwKXQpdipQKlQqVSpvK1Arcit1K3osVCxWLFgtUS1SLWQtay16LmIuZC5sLnQvYy9pL20veDBgMGEwZDBlMGkwdjFSMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09blQxWjBWMV1SJl0jUCFuI1taI2YjdyRWJFckWCRZJFskcyR2JVclWSVbJlEmXyZgJmEmYiZjJmQmZSZmJ1gnWidbKF0pcSlzKl4rVix7LXgveTFRMWQxcTdqN2shWTJqMloyeDJ5MnoyezJ9M08zUTNSM1MzVDNVM1YzVzNYM2EzYjNjM2UzZjNpM2ozbDNtM24zcTNyM3QhXjRtMnI0eTR6NHs0fDVPNVA1UjVTNVQ1VTVWNVc1WDVZNWI1YzVkNWY1ZzVqNWs1bTVuNW81cjVzNXU2UTZSI1E2cCNtJWAlcyZ1JnYmeyhwKk8rUyxgLGMseS1WLVgudzJxNn03TzdQN1E3UzdUN1U3WTdaN1s3XTdeN183YDdhN243cDdxN3g3ezd9OFE4UzhWOFc4WThdOVU6Yz1WPVcjXjh9JXwmTyZVKXUsfS1XLWkvaC9uMHIwdTB4MW00WTZWN1Y3Vzd5OE84UDhSOV45XzlgOWE5YzllOWY5ZzlpOWo5azlsOW05bjlvOXA5eDl6OXs6UDpROlQ6VjpXOls6XjpgPGY8Zz1fPXE9ciFeO1Muay9gO2o7aztsO207cDtxO3M7djt4O3o7fDxPPFE8UzxVPGg8bDxuPHI8dDx3PHg8ejx9PU89UT1gPWFvO1QxWDtyO3c7eTt7O308UDxSPFQ8VjxpPG08czx1PHlTJGl1I2hRJHF3VSd0JGokbCZvUSd2JGtTJ3gkbSRyUSp8J3VRK08nd1ErUid5UTRYNXhTNFs1ejV7UTRdNXxRNlU4XlM2VzhfOGBRNlg4YVE5ZD1ZUzl8PVs9XlE6Uz1jUT1dPXlTPWI9ez18UT1mPX1RPW8+UlM9cD5TPlZTPXM+VD5VUj10PldUJ24kaCpzIWNzUFZYdCFTIWohciFzIXckaCR9JVAlUyVVJ2koVChgKVcqcytdK2crcit1LGcsay5iLmQubDBgMGEwaTFhUSReclIqYCdeUSp4J3NRLXQqe1Ivdy13UShXJHRRKVUlaFEpbiV2USppJ2ZRK2soWFItYypqUShWJHRRKVklalEpbSV2USplJ2VTKmgnZiluUytqKFcoWFMtYippKmpRLl0ra1EvVCxtUS9lLWBSL2ctY1EoVSR0USlUJWhRKVYlaVEpbCV2VSpnJ2YpbSluVStpKFYoVyhYUSxmKVVVLWEqaCppKmpTLlsraitrUy9mLWItY1EwWC5dUjB0L2dUK2UoVCtnWyVlIV8kYidjK2EuUjBRUixkKVFiJG92KFQrWytdK2ArZy5QLlEwUFIrVCd7UytlKFQrZ1QsailXLGtSMFcuWFQxWzBWMV0wd3xQVlhbX2Jqa2xtbm9weHl6IVMhVyFYIVkhXSFnIWohciFzIXcheSF6IXshfSNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiI2sjbiNvI3MjdCRSJFMkVSR5JH0lUCVSJVMlVCVVJWMlfSZTJlcmcCZzJnQmdydPJ1UnWSd6KE8oYChsKHspUClpKXApdCl2KlAqVCpVKm8rUCtyK3UreixULFYsWCxfLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uVCR4eyR7UStwKFtSLl8rblQkenske1EoYiR9UShqJVBRKG8lU1EociVVUS5qK3lRMF0uZlEwXi5pUjFnMGlSKGUlT1grfChjKGQrfSxQUihmJU9YKGglUCVTJVUwaVIlUyFUXyVhIV0lUihsLFQsVi50MGRSJVUhVVIueCxYUixbKHdRKVglalMqZCdlKVlTLV8qZSxtUy9kLWAvVFIwcy9lUSVxIWZVKV0lbSVuJXJVLG8pXilnKWhSL18seFIpZCVwUi9dLHVTU08hbVIhb1NRIXJWUiV5IXJRIWpQUyFzViFyUSF3WFsldSFqIXMhdytyMGExYVErcihgUTBhLmxSMWEwYFEpaiVzUyx6KWo3dlI3djdXUS1TKXpSL2ItU1EmeCNxUypSJng3bVI3bTlZUypWJnsmfFItWipWUSl3JllSLVApdyFsJ1QjfCdoKm4qcSp2K1crWyxtLWAtcy12LXkuUC56L3Mvdi96MFAxTzFwNF40XzRgNXk2WTZaNls6VTpYOl09Zz1oPWo9dT12PXc9eFIqWidUMV5kUFZYW19iamtsbW5vcHJ4eXohUyFXIVghWSFdIWUhZyFqIXIhcyF3IXkheiF7IX0jUiNTI1QjVSNWI1cjWCNZI1ojWyNdI14jXyNgI2EjYiNrI24jbyNzI3QkUiRTJFUkeSR9JVAlUiVTJVQlVSVjJXAlfSZTJlcmcCZzJnQmdydPJ1UnWSdeJ3ooTyhSKFMoYChsKHspUClfKWMpaSlwKXQpdipQKlQqVSpvK1ArZCtyK3UreixULFYsWCx1LVEtUi1kLWstei18LmIuZC5sLnQvWy9jL2kvbS94MFYwYDBhMGQwZTBpMHYxUjFdMWEyWzJdMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN1M3YzeDN5M3ozezN8M300TzRQNFE0UjRTNFQ0VTRWNFc0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQ1djV3NlQ2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ4Nnk2ejZ7Nnw3WDdpN2w3bzdyN3M3dTd3N3o3fDhUOFU4WDhaOFs4ZjhnOGg4aThqOGs4bDhtOG44bzhwOHE4cjhzOHQ4dTh2OHc4eDh5OHo4ezh8OH05TzlQOVE5UjlTOVQ5VjlXOVg5WjlbOV05aDl5OX06TzpSOlk6WjpfOmE6YjpkOmU6ZjpnOmg6aTpqOms6bDptOm46bzpwOnE6cjpzOnQ6dTp2Onc6eDp5Ono6ezp8On07TztQO1E7UjtTO1Q7VTtWO1c7WDtZO1o7WztdO147XztgO2E7YztkO2U7ZjtnO2g7aTt0O3U8ajxrPG88cDxxPHY8ezx8PVA9Uj1TPVQ9VT1aPW09bmAjemQjeyVtKV4pZyx4MlcyWVEje2VRJW0hZlEpXiVuUSlnJXJRLHgpaCF2MldnI30kaCdTJ2knbSdyKFAoVClaKmYqcyp6Kn0rUStdK2ArZyxaLXItdS17LlEvdTFQNX02TzZQNl04YjhjOGQ9ZD1lPWk+Tz5QPlE+WD5ZPlo+W1IyWTJYfHRQVlghUyFqIXIhcyF3JH0lUCVTJVUoYCtyK3UuYi5kLmwwYDBhMGkxYVckYHQnaStdLGdTJ2kkaCpzUytdKFQrZ1QsZylXLGtRJ18kXlIqYSdfUSp0J29SLW0qdFEvcC1vUzB7L3AwfFIwfC9xUS19K1hSL3wtfVErZyhUUi5ZK2dTK2AoVCtnUyxoKVcsa1EuUStdVy5UK2AsaC5RL09SL08sZ1EpUiVlUixlKVJRJ3wkb1IrVSd8UTFdMFZSMXcxXVEke3tSKF4ke1ErdChhUi5jK3RRK3coYlIuZyt3USt9KGNRLFAoZFQubSt9LFBRKHwlYFMsYSh8N3RSN3Q3VlEoeSVeUixeKHlRLGspV1IvUixrUSlgJW9TLHEpYC9XUi9XLHJRLHYpZFIvXix2VCF1ViFyaiFpUFZYIWohciFzIXcoYCtyLmwwYDBhMWFRJVEhU1EoYSR9VyhoJVAlUyVVMGlRLmUrdVEwWi5iUjBbLmR8WlBWWCFTIWohciFzIXckfSVQJVMlVShgK3IrdS5iLmQubDBgMGEwaTFhUSNmW1UjbV8jcyZ3USN3YlEkVmtRJFdsUSRYbVEkWW5RJFpvUSRbcFEkc3heJHV5Ml80YjZlOHE6bTpuUSR2elElVyFXUSVZIVhRJVshWVclYCFdJVIobCxWVSVzIWcmcC1SUSV8IXlRJk8helEmUSF7UyZVIX0pdl4mXiNSMmE0ZDZnOHQ6cDpxUSZfI1NRJmAjVFEmYSNVUSZiI1ZRJmMjV1EmZCNYUSZlI1lRJmYjWlEmZyNbUSZoI11RJmkjXlEmaiNfUSZrI2BRJmwjYVEmbSNiUSZ1I25RJnYjb1MmeyN0J09RJ1gkUlEnWiRTUSdbJFVRKF0keVEocCVUUSlxJX1RKXMmU1EpdSZXUSpPJnRTKlsnVTRaUSpeJ1leKl8yWzN1NXY4WjphPVI9U1ErUyd6UStWKE9RLGAoe1EsYylQUSx5KWlRLHspcFEsfSl0US1WKlBRLVcqVFEtWCpVXi1dMl0zdjV3OFs6Yj1UPVVRLWkqb1EteCtQUS5rK3pRLncsWFEvYC1RUS9oLWRRL24ta1EveS16UTByL2NRMHUvaVEweC9tUTFRL3hVMVgwVjFdOVdRMWQwZVExbTB2UTFxMVJRMloyXlEycWpRMnIzeVEyeDN6UTJ5M3xRMno0T1EyezRRUTJ8NFNRMn00VVEzTzJgUTNRMmJRM1IyY1EzUzJkUTNUMmVRM1UyZlEzVjJnUTNXMmhRM1gyaVEzWTJqUTNaMmtRM1sybFEzXTJtUTNeMm5RM18yb1EzYDJwUTNhMnNRM2IydFEzYzJ1UTNlMnZRM2Yyd1EzaTNQUTNqM2RRM2wzZ1EzbTNoUTNuM2tRM3Ezb1EzcjNwUTN0M3NRNFk0V1E0eTN7UTR6M31RNHs0UFE0fDRSUTR9NFRRNU80VlE1UDRjUTVSNGVRNVM0ZlE1VDRnUTVVNGhRNVY0aVE1VzRqUTVYNGtRNVk0bFE1WjRtUTVbNG5RNV00b1E1XjRwUTVfNHFRNWA0clE1YTRzUTViNHRRNWM0dVE1ZDR2UTVmNHdRNWc0eFE1ajVRUTVrNWVRNW01aFE1bjVpUTVvNWxRNXI1cFE1czVxUTV1NXRRNlE0YVE2UjN4UTZWNlRRNn02XlE3TzZfUTdQNmBRN1E2YVE3UjZiUTdTNmNRN1Q2ZFE3VTZmVTdWLFQudDBkUTdXJWNRN1k2aFE3WjZpUTdbNmpRN102a1E3XjZsUTdfNm1RN2A2blE3YTZvUTdiNnBRN2M2cVE3ZDZyUTdlNnNRN2Y2dFE3ZzZ1UTdoNnZRN2o2eFE3azZ5UTduNnpRN3A2e1E3cTZ8UTd4N1hRN3k3aVE3ezdvUTd9N3JROE83c1E4UDd1UThRN3dROFI3elE4Uzd8UThWOFRROFc4VVE4WThYUThdOGZVOVUjayZzN2xROV44alE5XzhrUTlgOGxROWE4bVE5YjhuUTljOG9ROWU4cFE5ZjhyUTlnOHNROWk4dVE5ajh2UTlrOHdROWw4eFE5bTh5UTluOHpROW84e1E5cDh8UTlxOH1ROXI5T1E5czlQUTl0OVFROXU5UlE5djlTUTl3OVRROXg5WlE5ejlbUTl7OV1ROlA5aFE6UTl5UTpUOX1ROlY6T1E6VzpSUTpbOllROl46WlE6YDpfUTpjOGlRO2o6ZFE7azplUTtsOmZRO206Z1E7bjpoUTtvOmlRO3A6alE7cTprUTtyOmxRO3M6b1E7djpyUTt3OnNRO3g6dFE7eTp1UTt6OnZRO3s6d1E7fDp4UTt9OnlRPE86elE8UDp7UTxROnxRPFI6fVE8UztPUTxUO1BRPFU7UVE8VjtSUTxXO1NRPFg7VFE8WTtVUTxaO1ZRPFs7V1E8XTtYUTxeO1lRPF87WlE8YDtbUTxhO11RPGI7XlE8YztfUTxkO2BRPGU7YVE8ZjtjUTxnO2RRPGg7ZVE8aTtmUTxsO2dRPG07aFE8bjtpUTxyO3RRPHM7dVE8dDxqUTx1PGtRPHc8b1E8eDxwUTx5PHFRPHo8dlE8fTx7UT1PPHxRPVE9UFE9VjhoUT1XOGdRPV89WlE9YDlWUT1hOVhRPXE9bVI9cj1uUil7JnBRJXQhZ1EpTyVjVCl5JnAtUiRTaVBWWFtia2xtbm9weHl6IVMhVyFYIVkhaiFyIXMhdyF7I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IkUiRTJFUkeSR9JVAlUyVVJX0mUydZKE8oYClwK1Arcit1LXouYi5kLmwveDBgMGEwZTBpMVIxYTJbMl02eDZ5IXQzdydVMl4yXzJgMmEyYjJjMmQyZTJmMmcyaDJpMmoyazJsMm0ybjJvMnAyczJ0MnUydjJ3M1AzZDNnM2gzazNvM3AzczN6M3w0TzRRNFM0VTV2NXcheDZTM3UzdjN4M3kzezN9NFA0UjRUNFY0WjRhNGI0YzRkNGU0ZjRnNGg0aTRqNGs0bDRtNG40bzRwNHE0cjRzNHQ0dTR2NHc0eDVRNWU1aDVpNWw1cDVxNXQkTzhlX2ohXSFnI2sjbiNvI3MjdCVSJVQmcCZzJnQmdydPJ3oobCh7KVApaSpQKlUsVixYLVI2XjZfNmA2YTZiNmM2ZDZlNmY2ZzZoNmk2ajZrNmw2bTZuNm82cDZxNnI2czZ0NnU2djZ6Nns2fDdYN2w3bzdyN3c3fDhUOFU4WDhaOFs4ZjhnOGg4aSN8PVgheSF6IX0lYyZXKXQpdipUKm8sVC1kLWsudC9jL2kvbTBkMHY0VzZUN2k3czd1N3o4ajhrOGw4bThuOG84cDhxOHI4czh0OHU4djh3OHg4eTh6OHs4fDh9OU85UDlROVI5UzlUOVo5WzldOWg5eTl9Ok86UjpZOlo6XzphOmI7YztkPVo9bT1uIXY9ayt6LVE5VjlYOmQ6ZTpmOmc6aDpqOms6bTpvOnA6cjp0OnY6eDp6Onw7TztRO1M7VTtXO1k7WzteO2A7ZTtnO2k7dDxqPG88cDx2PHs8fD1QPVI9VCFdPWwwVjFdOVc6aTpsOm46cTpzOnU6dzp5Ons6fTtQO1I7VDtWO1g7WjtdO187YTtmO2g7dTxrPHE9Uz1VUSNyX1EmciNrUSZ6I3NSKX0mc1MjcV8jc14kVGozeDN5OGY4ZzhoOGlTKlEmdzdsVDlZI2smc1EmfSN0UipYJ09SJlQhfFImWiF9USZZIX1SLU8pdlEjfGdRJ1YjfVMnaCRoKnNRKlknU1EqbidpUSpxJ21RKnYnclErVyhQUytbKFQrZ1EsbSlaUS1gKmZRLXMqelEtdip9US15K1FTLlArXStgUS56LFpRL3MtclEvdi11US96LXtRMFAuUVExTy91UTFwMVBRNF41fVE0XzZPUTRgNlBRNXk2XVE2WThiUTZaOGNRNls4ZFE6VT1kUTpYPWVROl09aVE9Zz5PUT1oPlBRPWo+UVE9dT5YUT12PllRPXc+WlI9eD5bMHQhT1BWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uIXYkUGcjfSRoJ1MnaSdtJ3IoUChUKVoqZipzKnoqfStRK10rYCtnLFotci11LXsuUS91MVA1fTZPNlA2XThiOGM4ZD1kPWU9aT5PPlA+UT5YPlk+Wj5bUyRdcideUSVrIWVTJW8hZiVyUSliJXBVK1goUihTK2RRLHApX1EsdCljUS9aLHVRL3stfFIwcC9bfHZQVlghUyFqIXIhcyF3JH0lUCVTJVUoYCtyK3UuYi5kLmwwYDBhMGkxYSNVI2lbYmtsbW5vcHh5eiFXIVghWSF7I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IkUiRTJFUkeSV9JlMnWShPKXArUC16L3gwZTFSMlsyXTZ4NnlkK14oVClXK10rYCtnLGcsaCxrLlEvTyF0NncnVTJeMl8yYDJhMmIyYzJkMmUyZjJnMmgyaTJqMmsybDJtMm4ybzJwMnMydDJ1MnYydzNQM2QzZzNoM2szbzNwM3MzejN8NE80UTRTNFU1djV3IXg7YjN1M3YzeDN5M3szfTRQNFI0VDRWNFo0YTRiNGM0ZDRlNGY0ZzRoNGk0ajRrNGw0bTRuNG80cDRxNHI0czR0NHU0djR3NHg1UTVlNWg1aTVsNXA1cTV0JE89el9qIV0hZyNrI24jbyNzI3QlUiVUJnAmcyZ0JncnTyd6KGwoeylQKWkqUCpVLFYsWC1SNl42XzZgNmE2YjZjNmQ2ZTZmNmc2aDZpNmo2azZsNm02bjZvNnA2cTZyNnM2dDZ1NnY2ejZ7Nnw3WDdsN283cjd3N3w4VDhVOFg4WjhbOGY4ZzhoOGkjfD5dIXkheiF9JWMmVyl0KXYqVCpvLFQtZC1rLnQvYy9pL20wZDB2NFc2VDdpN3M3dTd6OGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiO2M7ZD1aPW09biF2Pl4rei1ROVY5WDpkOmU6ZjpnOmg6ajprOm06bzpwOnI6dDp2Ong6ejp8O087UTtTO1U7VztZO1s7XjtgO2U7ZztpO3Q8ajxvPHA8djx7PHw9UD1SPVQhXT5fMFYxXTlXOmk6bDpuOnE6czp1Onc6eTp7On07UDtSO1Q7VjtYO1o7XTtfO2E7ZjtoO3U8azxxPVM9VVIncCRoUSdvJGhSLWwqc1IkX3JSLXEqd1ErWShSUStaKFNSLlgrZFQrZihUK2dlK18oVClXK10rYCtnLGcsaCxrLlEvT1ElZiFfUSdiJGJRKmMnY1EuVSthUTBTLlJSMVUwUVEjZVpRJVghV1ElWiFYUSVdIVlRJ30kcFEocyVWUSh0JVdRKHUlWVEodiVbUSh9JWJRKVMlZlEpWyVrUSlmJXFRKWsldFEqYidiUSxuKV1RLV4qY1EuVitiUS5XK2NRLmUreFEubyxRUS5wLFJRLnEsU1EudixXUS55LFlRLn0sYlEvVSxvUS99Lk9RMFQuU1EwVS5VUTBXLlhRMFsuaFEway9RUTBxL19RMVMwT1ExVjBSUTFXMFNRMWAwX1ExaDBqUTFyMVRRMXMxVVExdjFbUTF5MV9RMX0xalEyVDF7UjJVMXxRJHB2UytiKFQrZ1UuTytbK10rYFMwTy5QLlFSMVQwUHwhYVBWWCFTIWohciFzIXckfSVQJVMlVShgK3IrdS5iLmQubDBgMGEwaTFhUSRkdFcrYyhUKVcrZyxrVy5TK10rYCxnLGhUMFIuUS9PMHQhT1BWWFtfYmprbG1ub3B4eXohUyFXIVghWSFdIWchaiFyIXMhdyF5IXoheyF9I1IjUyNUI1UjViNXI1gjWSNaI1sjXSNeI18jYCNhI2IjayNuI28jcyN0JFIkUyRVJHkkfSVQJVIlUyVUJVUlYyV9JlMmVyZwJnMmdCZ3J08nVSdZJ3ooTyhgKGwoeylQKWkpcCl0KXYqUCpUKlUqbytQK3IrdSt6LFQsVixYLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uUi58LF8wd31QVlhbX2Jqa2xtbm9weHl6IVMhVyFYIVkhXSFnIWohciFzIXcheSF6IXshfSNSI1MjVCNVI1YjVyNYI1kjWiNbI10jXiNfI2AjYSNiI2sjbiNvI3MjdCRSJFMkVSR5JH0lUCVSJVMlVCVVJWMlfSZTJlcmcCZzJnQmdydPJ1UnWSd6KE8oYChsKHspUClpKXApdCl2KlAqVCpVKm8rUCtyK3UreixULFYsWCxfLVEtUi1kLWstei5iLmQubC50L2MvaS9tL3gwVjBgMGEwZDBlMGkwdjFSMV0xYTJbMl0yXjJfMmAyYTJiMmMyZDJlMmYyZzJoMmkyajJrMmwybTJuMm8ycDJzMnQydTJ2MnczUDNkM2czaDNrM28zcDNzM3UzdjN4M3kzejN7M3wzfTRPNFA0UTRSNFM0VDRVNFY0VzRaNGE0YjRjNGQ0ZTRmNGc0aDRpNGo0azRsNG00bjRvNHA0cTRyNHM0dDR1NHY0dzR4NVE1ZTVoNWk1bDVwNXE1dDV2NXc2VDZeNl82YDZhNmI2YzZkNmU2ZjZnNmg2aTZqNms2bDZtNm42bzZwNnE2cjZzNnQ2dTZ2Nng2eTZ6Nns2fDdYN2k3bDdvN3I3czd1N3c3ejd8OFQ4VThYOFo4WzhmOGc4aDhpOGo4azhsOG04bjhvOHA4cThyOHM4dDh1OHY4dzh4OHk4ejh7OHw4fTlPOVA5UTlSOVM5VDlWOVc5WDlaOVs5XTloOXk5fTpPOlI6WTpaOl86YTpiOmQ6ZTpmOmc6aDppOmo6azpsOm06bjpvOnA6cTpyOnM6dDp1OnY6dzp4Onk6ejp7Onw6fTtPO1A7UTtSO1M7VDtVO1Y7VztYO1k7WjtbO107XjtfO2A7YTtjO2Q7ZTtmO2c7aDtpO3Q7dTxqPGs8bzxwPHE8djx7PHw9UD1SPVM9VD1VPVo9bT1uVCR3eyR7UShpJVBRKG4lU1EocSVVUjFmMGlRJWIhXVEobSVSUSxVKGxRLnMsVFEudSxWUTBjLnRSMWMwZFElcSFmUildJXJSKWUlcFwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwICggSGVyZWRvY1N0cmluZyBFc2NhcGVTZXF1ZW5jZSBhYnN0cmFjdCBMb2dpY09wIGFycmF5IGFzIEJvb2xlYW4gYnJlYWsgY2FzZSBjYXRjaCBjbG9uZSBjb25zdCBjb250aW51ZSBkZWZhdWx0IGRlY2xhcmUgZG8gZWNobyBlbHNlIGVsc2VpZiBlbmRkZWNsYXJlIGVuZGZvciBlbmRmb3JlYWNoIGVuZGlmIGVuZHN3aXRjaCBlbmR3aGlsZSBlbnVtIGV4dGVuZHMgZmluYWwgZmluYWxseSBmbiBmb3IgZm9yZWFjaCBmcm9tIGZ1bmN0aW9uIGdsb2JhbCBnb3RvIGlmIGltcGxlbWVudHMgaW5jbHVkZSBpbmNsdWRlX29uY2UgTG9naWNPcCBpbnN0ZWFkb2YgaW50ZXJmYWNlIGxpc3QgbWF0Y2ggbmFtZXNwYWNlIG5ldyBudWxsIExvZ2ljT3AgcHJpbnQgcmVxdWlyZSByZXF1aXJlX29uY2UgcmV0dXJuIHN3aXRjaCB0aHJvdyB0cmFpdCB0cnkgdW5zZXQgdXNlIHZhciBWaXNpYmlsaXR5IHdoaWxlIExvZ2ljT3AgeWllbGQgTGluZUNvbW1lbnQgQmxvY2tDb21tZW50IFRleHRJbnRlcnBvbGF0aW9uIFBocENsb3NlIFRleHQgUGhwT3BlbiBUZW1wbGF0ZSBUZXh0SW50ZXJwb2xhdGlvbiBFbXB0eVN0YXRlbWVudCA7IH0geyBCbG9jayA6IExhYmVsU3RhdGVtZW50IE5hbWUgRXhwcmVzc2lvblN0YXRlbWVudCBDb25kaXRpb25hbEV4cHJlc3Npb24gTG9naWNPcCBNYXRjaEV4cHJlc3Npb24gKSAoIFBhcmVudGhlc2l6ZWRFeHByZXNzaW9uIE1hdGNoQmxvY2sgTWF0Y2hBcm0gLCA9PiBBc3NpZ25tZW50RXhwcmVzc2lvbiBBcnJheUV4cHJlc3Npb24gVmFsdWVMaXN0ICYgVmFyaWFkaWNVbnBhY2tpbmcgLi4uIFBhaXIgWyBdIExpc3RFeHByZXNzaW9uIFZhbHVlTGlzdCBQYWlyIFBhaXIgU3Vic2NyaXB0RXhwcmVzc2lvbiBNZW1iZXJFeHByZXNzaW9uIC0+ID8tPiBWYXJpYWJsZU5hbWUgRHluYW1pY1ZhcmlhYmxlICQgJHsgQ2FsbEV4cHJlc3Npb24gQXJnTGlzdCBOYW1lZEFyZ3VtZW50IFNwcmVhZEFyZ3VtZW50IENhc3RFeHByZXNzaW9uIFVuaW9uVHlwZSBMb2dpY09wIE9wdGlvbmFsVHlwZSBOYW1lZFR5cGUgUXVhbGlmaWVkTmFtZSBcXFxcIE5hbWVzcGFjZU5hbWUgU2NvcGVkRXhwcmVzc2lvbiA6OiBDbGFzc01lbWJlck5hbWUgQXNzaWduT3AgVXBkYXRlRXhwcmVzc2lvbiBVcGRhdGVPcCBZaWVsZEV4cHJlc3Npb24gQmluYXJ5RXhwcmVzc2lvbiBMb2dpY09wIExvZ2ljT3AgTG9naWNPcCBCaXRPcCBCaXRPcCBCaXRPcCBDb21wYXJlT3AgQ29tcGFyZU9wIEJpdE9wIEFyaXRoT3AgQ29uY2F0T3AgQXJpdGhPcCBBcml0aE9wIEluY2x1ZGVFeHByZXNzaW9uIFJlcXVpcmVFeHByZXNzaW9uIENsb25lRXhwcmVzc2lvbiBVbmFyeUV4cHJlc3Npb24gQ29udHJvbE9wIExvZ2ljT3AgUHJpbnRJbnRyaW5zaWMgRnVuY3Rpb25FeHByZXNzaW9uIHN0YXRpYyBQYXJhbUxpc3QgUGFyYW1ldGVyICNbIEF0dHJpYnV0ZXMgQXR0cmlidXRlIFZhcmlhZGljUGFyYW1ldGVyIFByb3BlcnR5UGFyYW1ldGVyIFVzZUxpc3QgQXJyb3dGdW5jdGlvbiBOZXdFeHByZXNzaW9uIGNsYXNzIEJhc2VDbGF1c2UgQ2xhc3NJbnRlcmZhY2VDbGF1c2UgRGVjbGFyYXRpb25MaXN0IENvbnN0RGVjbGFyYXRpb24gVmFyaWFibGVEZWNsYXJhdG9yIFByb3BlcnR5RGVjbGFyYXRpb24gVmFyaWFibGVEZWNsYXJhdG9yIE1ldGhvZERlY2xhcmF0aW9uIFVzZURlY2xhcmF0aW9uIFVzZUxpc3QgVXNlSW5zdGVhZE9mQ2xhdXNlIFVzZUFzQ2xhdXNlIFVwZGF0ZUV4cHJlc3Npb24gQXJpdGhPcCBTaGVsbEV4cHJlc3Npb24gVGhyb3dFeHByZXNzaW9uIEludGVnZXIgRmxvYXQgU3RyaW5nIE1lbWJlckV4cHJlc3Npb24gU3Vic2NyaXB0RXhwcmVzc2lvbiBVbmFyeUV4cHJlc3Npb24gQXJpdGhPcCBJbnRlcnBvbGF0aW9uIFN0cmluZyBJZlN0YXRlbWVudCBDb2xvbkJsb2NrIFN3aXRjaFN0YXRlbWVudCBCbG9jayBDYXNlU3RhdGVtZW50IERlZmF1bHRTdGF0ZW1lbnQgQ29sb25CbG9jayBXaGlsZVN0YXRlbWVudCBFbXB0eVN0YXRlbWVudCBEb1N0YXRlbWVudCBGb3JTdGF0ZW1lbnQgRm9yU3BlYyBTZXF1ZW5jZUV4cHJlc3Npb24gRm9yZWFjaFN0YXRlbWVudCBGb3JTcGVjIFBhaXIgR290b1N0YXRlbWVudCBDb250aW51ZVN0YXRlbWVudCBCcmVha1N0YXRlbWVudCBSZXR1cm5TdGF0ZW1lbnQgVHJ5U3RhdGVtZW50IENhdGNoRGVjbGFyYXRvciBEZWNsYXJlU3RhdGVtZW50IEVjaG9TdGF0ZW1lbnQgVW5zZXRTdGF0ZW1lbnQgQ29uc3REZWNsYXJhdGlvbiBGdW5jdGlvbkRlZmluaXRpb24gQ2xhc3NEZWNsYXJhdGlvbiBJbnRlcmZhY2VEZWNsYXJhdGlvbiBUcmFpdERlY2xhcmF0aW9uIEVudW1EZWNsYXJhdGlvbiBFbnVtQm9keSBFbnVtQ2FzZSBOYW1lc3BhY2VEZWZpbml0aW9uIE5hbWVzcGFjZVVzZURlY2xhcmF0aW9uIFVzZUdyb3VwIFVzZUNsYXVzZSBVc2VDbGF1c2UgR2xvYmFsRGVjbGFyYXRpb24gRnVuY3Rpb25TdGF0aWNEZWNsYXJhdGlvbiBQcm9ncmFtXCIsXG4gIG1heFRlcm06IDMwNCxcbiAgbm9kZVByb3BzOiBbXG4gICAgW1wiZ3JvdXBcIiwgLTM2LDIsOCw0OSw4MSw4Myw4NSw4OCw5Myw5NCwxMDIsMTA2LDEwNywxMTAsMTExLDExNCwxMTgsMTIzLDEyNiwxMzAsMTMyLDEzMywxNDcsMTQ4LDE0OSwxNTAsMTUzLDE1NCwxNjQsMTY1LDE3OSwxODEsMTgyLDE4MywxODQsMTg1LDE5MSxcIkV4cHJlc3Npb25cIiwtMjgsNzQsNzgsODAsODIsMTkyLDE5NCwxOTksMjAxLDIwMiwyMDUsMjA4LDIwOSwyMTAsMjExLDIxMiwyMTQsMjE1LDIxNiwyMTcsMjE4LDIxOSwyMjAsMjIxLDIyMiwyMjUsMjI2LDIzMCwyMzEsXCJTdGF0ZW1lbnRcIiwtMywxMTksMTIxLDEyMixcIlR5cGVcIl0sXG4gICAgW1wib3BlbmVkQnlcIiwgNjksXCJwaHBPcGVuXCIsNzYsXCJ7XCIsODYsXCIoXCIsMTAxLFwiI1tcIl0sXG4gICAgW1wiY2xvc2VkQnlcIiwgNzEsXCJwaHBDbG9zZVwiLDc3LFwifVwiLDg3LFwiKVwiLDE1OCxcIl1cIl1cbiAgXSxcbiAgcHJvcFNvdXJjZXM6IFtwaHBIaWdobGlnaHRpbmddLFxuICBza2lwcGVkTm9kZXM6IFswXSxcbiAgcmVwZWF0Tm9kZUNvdW50OiAyOSxcbiAgdG9rZW5EYXRhOiBcIiE1aF9SIVpPWCR0WFklbllaJn1aXSR0XV4lbl5wJHRwcSVucXIoXXJzKXdzdCphdHUvbnV2Ml92dzNgd3g0Z3h5OE95ejhmens4fHt8Old8fTtffSFPO3UhTyFQPVIhUCFRQmwhUSFSRnIhUiFbSG4hWyFdTnohXSFeISFPIV4hXyEhZiFfIWAhJVIhYCFhISZWIWEhYiEnWiFiIWMhKlQhYyFkISprIWQhZSErcSFlIX0hKmshfSNPIS1rI08jUCEuUiNQI1EhLmkjUSNSIS9QI1IjUyEqayNTI1QhL2ojVCNVISprI1UjViErcSNWI28hKmsjbyNwITJ5I3AjcSEzYSNxI3IhNGojciNzITVRI3MkZiR0JGYkZyVuJGcmaiEqayZqJElfJHQkSV8kSWAlbiRJYCRLVyR0JEtXJEtYJW4kS1g/SFQkdD9IVD9IVSVuP0hVfiR0UCR5VCZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFAlX08md1BQJWJTT1kkdFlaJVlaIWEkdCFifiR0ViV1YiZ3UCZ2VU9YJHRYWSVuWVomfVpdJHRdXiVuXnAkdHBxJW5xIV4kdCFeIV8lXyFfJGYkdCRmJGclbiRnJElfJHQkSV8kSWAlbiRJYCRLVyR0JEtXJEtYJW4kS1g/SFQkdD9IVD9IVSVuP0hVfiR0VidVVyZ3UCZ2VVhZJ25ZWiduXV4nbnBxJ24kZiRnJ24kSV8kSWAnbiRLVyRLWCduP0hUP0hVJ25VJ3NXJnZVWFknbllaJ25dXiducHEnbiRmJGcnbiRJXyRJYCduJEtXJEtYJ24/SFQ/SFUnblIoZFUkXlEmd1BPWSR0WVolWVohXiR0IV4hXyVfIV8hYCh2IWB+JHRSKH1VJFFRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFfIWApYSFgfiR0UiloVCRRUSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFYqUVQnZlMmd1AnZ1FPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRWKmhaJndQIWRVT1krWllaJVlaXStaXV4kdF4hXitaIV4hXyt9IV8hYStaIWEhYi1pIWIhfStaIX0jTy54I09+K1pWK2JYJndQIWRVT1krWllaJVlaXStaXV4kdF4hXitaIV4hXyt9IV8hYStaIWEhYi1pIWJ+K1pWLFNWIWRVT1krWllaJVlaXStaXV4kdF4hYStaIWEhYixpIWJ+K1pVLGxVT1ktT1laLWRaXS1PXV4tZF4hYC1PIWF+LU9VLVRUIWRVT1ktT1pdLU9eIWEtTyFhIWIsaSFifi1PVS1pTyFkVVYtblgmd1BPWStaWVouWlpdK1pdXi5iXiFeK1ohXiFfK30hXyFgK1ohYCFhJHQhYX4rWlYuYk8md1AhZFVWLmlUJndQIWRVT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0Vi9SWCZ3UCRkUSFkVU9ZK1pZWiVZWl0rWl1eJHReIV4rWiFeIV8rfSFfIWErWiFhIWItaSFifitaXy91XiZ3UCNkUU9ZJHRZWiVZWiFeJHQhXiFfJV8hXyFjJHQhYyF9MHEhfSNSJHQjUiNTMHEjUyNUJHQjVCNvMHEjbyNwMXcjcCRnJHQkZyZqMHEman4kdF8weF8md1AjYl5PWSR0WVolWVohUSR0IVEhWzBxIVshXiR0IV4hXyVfIV8hYyR0IWMhfTBxIX0jUiR0I1IjUzBxI1MjVCR0I1QjbzBxI28kZyR0JGcmajBxJmp+JHRWMk9UJndQI2VVT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0UjJmVSZ3UCRWUU9ZJHRZWiVZWiFeJHQhXiFfJV8hXyFgMnghYH4kdFIzUFQjd1Emd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRWM2dXI1NVJndQT1kkdFlaJVladiR0dnc0UHchXiR0IV4hXyVfIV8hYDJ4IWB+JHRSNFdUI3xRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0UjRuWCZ3UCVWUU9ZNGdZWjVaWnc0Z3d4NmJ4IV40ZyFeIV82eCFfI080ZyNPI1A3aiNQfjRnUjViVCZ3UCVWUU93NXF3eDZWeCNPNXEjTyNQNlsjUH41cVE1dlQlVlFPdzVxd3g2VngjTzVxI08jUDZbI1B+NXFRNltPJVZRUTZfUE9+NXFSNmlUJndQJVZRT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0UjZ9WCVWUU9ZNGdZWjVaWnc0Z3d4NmJ4IWE0ZyFhIWI1cSFiI080ZyNPI1A3aiNQfjRnUjdvVCZ3UE9ZNGdZWjVaWiFeNGchXiFfNnghX340Z1I4VlQheVEmd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRWOG1UIXhVJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0UjlUVyZ3UCRWUU9ZJHRZWiVZWnokdHp7OW17IV4kdCFeIV8lXyFfIWAyeCFgfiR0Ujl0VSRXUSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hXyFgMnghYH4kdFI6X1ckVFEmd1BPWSR0WVolWVp7JHR7fDp3fCFeJHQhXiFfJV8hXyFgMnghYH4kdFI7T1QkelEmd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRSO2ZUIX1RJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0XzxPWCRUUSVUVyZ3UE9ZJHRZWiVZWn0kdH0hTzp3IU8hXiR0IV4hXyVfIV8hYDJ4IWAhYTxrIWF+JHRWPHJUI2BVJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0Vj1ZWSZ3UCRVUU9ZJHRZWiVZWiFPJHQhTyFQPXghUCFRJHQhUSFbPnohWyFeJHQhXiFfJV8hXyFgMnghYH4kdFY9fVYmd1BPWSR0WVolWVohTyR0IU8hUD5kIVAhXiR0IV4hXyVfIV9+JHRWPmtUI1VVJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0Uj9SXSZ3UCVPUU9ZJHRZWiVZWiFRJHQhUSFbPnohWyFeJHQhXiFfJV8hXyFnJHQhZyFoP3ohaCNSJHQjUiNTQlEjUyNYJHQjWCNZP3ojWX4kdFJAUFomd1BPWSR0WVolWVp7JHR7fEByfH0kdH0hT0ByIU8hUSR0IVEhW0FeIVshXiR0IV4hXyVfIV9+JHRSQHdWJndQT1kkdFlaJVlaIVEkdCFRIVtBXiFbIV4kdCFeIV8lXyFffiR0UkFlWCZ3UCVPUU9ZJHRZWiVZWiFRJHQhUSFbQV4hWyFeJHQhXiFfJV8hXyNSJHQjUiNTQHIjU34kdFJCVlYmd1BPWSR0WVolWVohUSR0IVEhWz56IVshXiR0IV4hXyVfIV9+JHRWQnNZJndQJFZRT1kkdFlaJVlaeiR0entDY3shUCR0IVAhUStaIVEhXiR0IV4hXyVfIV8hYDJ4IWB+JHRWQ2hWJndQT1lDY1laQ31aekNjentFUXshXkNjIV4hX0ZZIV9+Q2NWRFNSJndQT3pEXXp7RGl7fkRdVURgUk96RF16e0Rpe35EXVVEbFRPekRdentEaXshUERdIVAhUUR7IVF+RF1VRVFPIWVVVkVWWCZ3UE9ZQ2NZWkN9WnpDY3p7RVF7IVBDYyFQIVFFciFRIV5DYyFeIV9GWSFffkNjVkV5VCFlVSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFZGXVZPWUNjWVpDfVp6Q2N6e0VReyFhQ2MhYSFiRF0hYn5DY1pGeWsmd1AkfVlPWSR0WVolWVohTyR0IU8hUD56IVAhUSR0IVEhW0huIVshXiR0IV4hXyVfIV8hZCR0IWQhZUpgIWUhZyR0IWchaD96IWghcSR0IXEhckt0IXIheiR0IXohe01TIXsjUiR0I1IjU0l0I1MjVSR0I1UjVkpgI1YjWCR0I1gjWT96I1kjYyR0I2MjZEt0I2QjbCR0I2wjbU1TI21+JHRaSHVfJndQJH1ZT1kkdFlaJVlaIU8kdCFPIVA+eiFQIVEkdCFRIVtIbiFbIV4kdCFeIV8lXyFfIWckdCFnIWg/eiFoI1IkdCNSI1NJdCNTI1gkdCNYI1k/eiNZfiR0Wkl5ViZ3UE9ZJHRZWiVZWiFRJHQhUSFbSG4hWyFeJHQhXiFfJV8hX34kdFpKZVcmd1BPWSR0WVolWVohUSR0IVEhUkp9IVIhU0p9IVMhXiR0IV4hXyVfIV9+JHRaS1VZJndQJH1ZT1kkdFlaJVlaIVEkdCFRIVJKfSFSIVNKfSFTIV4kdCFeIV8lXyFfI1IkdCNSI1NKYCNTfiR0Wkt5ViZ3UE9ZJHRZWiVZWiFRJHQhUSFZTGAhWSFeJHQhXiFfJV8hX34kdFpMZ1gmd1AkfVlPWSR0WVolWVohUSR0IVEhWUxgIVkhXiR0IV4hXyVfIV8jUiR0I1IjU0t0I1N+JHRaTVhaJndQT1kkdFlaJVlaIVEkdCFRIVtNeiFbIV4kdCFeIV8lXyFfIWMkdCFjIWlNeiFpI1QkdCNUI1pNeiNafiR0Wk5SXSZ3UCR9WU9ZJHRZWiVZWiFRJHQhUSFbTXohWyFeJHQhXiFfJV8hXyFjJHQhYyFpTXohaSNSJHQjUiNTTVMjUyNUJHQjVCNaTXojWn4kdFIhIFJWIXFRJndQT1kkdFlaJVlaIVskdCFbIV0hIGghXSFeJHQhXiFfJV8hX34kdFIhIG9UI3NRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0ViEhVlQhbVUmd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRSISFrVyRSUU9ZJHRZWiVZWiFeJHQhXiFfISNUIV8hYCEjbiFgIWEpYSFhIWIhJFshYn4kdFIhI1tVJFNRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFfIWAyeCFgfiR0UiEjdVYkUlEmd1BPWSR0WVolWVohXiR0IV4hXyVfIV8hYCR0IWAhYSlhIWF+JHRQISRhUiFpUCFfIWAhJGohciFzISRvI2QjZSEkb1AhJG9PIWlQUCEkclEhaiFrISR4I1sjXSEkeFAhJHtRIXIhcyEkaiNkI2UhJGpWISVZViN1USZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hXyFgKHYhYCFhISVvIWF+JHRWISV2VCNPVSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFIhJl5WJFJRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFfIWAhJnMhYCFhISNUIWF+JHRSISZ6VCRSUSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFYhJ2JZIXZRJndQT1kkdFlaJVlafSR0fSFPIShRIU8hXiR0IV4hXyVfIV8hYCR0IWAhYSEpUyFhIWIhKWohYn4kdFYhKFZWJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFfIWAkdCFgIWEhKGwhYX4kdFYhKHNUI2FVJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0ViEpWlQhZ1Umd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRSISlxVSN6USZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hXyFgMnghYH4kdFIhKltUJF1RJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0XyEqcl8md1Ahc15PWSR0WVolWVohUSR0IVEhWyEqayFbIV4kdCFeIV8lXyFfIWMkdCFjIX0hKmshfSNSJHQjUiNTISprI1MjVCR0I1QjbyEqayNvJGckdCRnJmohKmsman4kdF8hK3hjJndQIXNeT1kkdFlaJVlaciR0cnMhLVRzdyR0d3g0Z3ghUSR0IVEhWyEqayFbIV4kdCFeIV8lXyFfIWMkdCFjIX0hKmshfSNSJHQjUiNTISprI1MjVCR0I1QjbyEqayNvJGckdCRnJmohKmsman4kdFIhLVtUJndQJ2dRT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0ViEtclQjV1Umd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRWIS5ZVCNwVSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFIhLnBUI1hRJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0UiEvV1UkT1Emd1BPWSR0WVolWVohXiR0IV4hXyVfIV8hYDJ4IWB+JHRSIS9vWCZ3UE9ZIS9qWVohMFtaIV4hL2ohXiFfITFfIV8jTyEvaiNPI1AhMX0jUCNTIS9qI1MjVCEyYyNUfiEvalIhMGFUJndQTyNPITBwI08jUCExUyNQI1MhMHAjUyNUITFZI1R+ITBwUSEwc1RPI08hMHAjTyNQITFTI1AjUyEwcCNTI1QhMVkjVH4hMHBRITFWUE9+ITBwUSExX08ke1FSITFiWE9ZIS9qWVohMFtaIWEhL2ohYSFiITBwIWIjTyEvaiNPI1AhMX0jUCNTIS9qI1MjVCEyYyNUfiEvalIhMlNUJndQT1khL2pZWiEwW1ohXiEvaiFeIV8hMV8hX34hL2pSITJqVCR7USZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFYhM1FUIW9VJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0ViEzalcjfVEjbFMmd1BPWSR0WVolWVohXiR0IV4hXyVfIV8hYDJ4IWAjcCR0I3AjcSE0UyNxfiR0UiE0WlQje1Emd1BPWSR0WVolWVohXiR0IV4hXyVfIV9+JHRSITRxVCFuUSZ3UE9ZJHRZWiVZWiFeJHQhXiFfJV8hX34kdFIhNVhUJF5RJndQT1kkdFlaJVlaIV4kdCFeIV8lXyFffiR0XCIsXG4gIHRva2VuaXplcnM6IFtleHByZXNzaW9uLCBpbnRlcnBvbGF0ZWQsIHNlbWljb2xvbiwgMCwgMSwgMiwgMywgZW9mVG9rZW5dLFxuICB0b3BSdWxlczoge1wiVGVtcGxhdGVcIjpbMCw3Ml0sXCJQcm9ncmFtXCI6WzEsMjMyXX0sXG4gIGR5bmFtaWNQcmVjZWRlbmNlczoge1wiMjg0XCI6MX0sXG4gIHNwZWNpYWxpemVkOiBbe3Rlcm06IDgxLCBnZXQ6ICh2YWx1ZSwgc3RhY2spID0+IChrZXl3b3Jkcyh2YWx1ZSkgPDwgMSl9LHt0ZXJtOiA4MSwgZ2V0OiB2YWx1ZSA9PiBzcGVjX05hbWVbdmFsdWVdIHx8IC0xfV0sXG4gIHRva2VuUHJlYzogMjkzNTRcbn0pO1xuXG5leHBvcnQgeyBwYXJzZXIgfTtcbiIsICJpbXBvcnQgeyBDb250ZXh0VHJhY2tlciwgRXh0ZXJuYWxUb2tlbml6ZXIsIExSUGFyc2VyIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuaW1wb3J0IHsgcGFyc2VNaXhlZCB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHNjcmlwdFRleHQgPSA1NCxcbiAgU3RhcnRDbG9zZVNjcmlwdFRhZyA9IDEsXG4gIHN0eWxlVGV4dCA9IDU1LFxuICBTdGFydENsb3NlU3R5bGVUYWcgPSAyLFxuICB0ZXh0YXJlYVRleHQgPSA1NixcbiAgU3RhcnRDbG9zZVRleHRhcmVhVGFnID0gMyxcbiAgU3RhcnRUYWcgPSA0LFxuICBTdGFydFNjcmlwdFRhZyA9IDUsXG4gIFN0YXJ0U3R5bGVUYWcgPSA2LFxuICBTdGFydFRleHRhcmVhVGFnID0gNyxcbiAgU3RhcnRTZWxmQ2xvc2luZ1RhZyA9IDgsXG4gIFN0YXJ0Q2xvc2VUYWcgPSA5LFxuICBOb01hdGNoU3RhcnRDbG9zZVRhZyA9IDEwLFxuICBNaXNtYXRjaGVkU3RhcnRDbG9zZVRhZyA9IDExLFxuICBtaXNzaW5nQ2xvc2VUYWcgPSA1NyxcbiAgSW5jb21wbGV0ZUNsb3NlVGFnID0gMTIsXG4gIGNvbW1lbnRDb250ZW50JDEgPSA1OCxcbiAgRWxlbWVudCA9IDE4LFxuICBTY3JpcHRUZXh0ID0gMjcsXG4gIFN0eWxlVGV4dCA9IDMwLFxuICBUZXh0YXJlYVRleHQgPSAzMyxcbiAgT3BlblRhZyA9IDM1LFxuICBEaWFsZWN0X25vTWF0Y2ggPSAwO1xuXG4vKiBIYW5kLXdyaXR0ZW4gdG9rZW5pemVycyBmb3IgSFRNTC4gKi9cblxuY29uc3Qgc2VsZkNsb3NlcnMgPSB7XG4gIGFyZWE6IHRydWUsIGJhc2U6IHRydWUsIGJyOiB0cnVlLCBjb2w6IHRydWUsIGNvbW1hbmQ6IHRydWUsXG4gIGVtYmVkOiB0cnVlLCBmcmFtZTogdHJ1ZSwgaHI6IHRydWUsIGltZzogdHJ1ZSwgaW5wdXQ6IHRydWUsXG4gIGtleWdlbjogdHJ1ZSwgbGluazogdHJ1ZSwgbWV0YTogdHJ1ZSwgcGFyYW06IHRydWUsIHNvdXJjZTogdHJ1ZSxcbiAgdHJhY2s6IHRydWUsIHdicjogdHJ1ZSwgbWVudWl0ZW06IHRydWVcbn07XG5cbmNvbnN0IGltcGxpY2l0bHlDbG9zZWQgPSB7XG4gIGRkOiB0cnVlLCBsaTogdHJ1ZSwgb3B0Z3JvdXA6IHRydWUsIG9wdGlvbjogdHJ1ZSwgcDogdHJ1ZSxcbiAgcnA6IHRydWUsIHJ0OiB0cnVlLCB0Ym9keTogdHJ1ZSwgdGQ6IHRydWUsIHRmb290OiB0cnVlLFxuICB0aDogdHJ1ZSwgdHI6IHRydWVcbn07XG5cbmNvbnN0IGNsb3NlT25PcGVuID0ge1xuICBkZDoge2RkOiB0cnVlLCBkdDogdHJ1ZX0sXG4gIGR0OiB7ZGQ6IHRydWUsIGR0OiB0cnVlfSxcbiAgbGk6IHtsaTogdHJ1ZX0sXG4gIG9wdGlvbjoge29wdGlvbjogdHJ1ZSwgb3B0Z3JvdXA6IHRydWV9LFxuICBvcHRncm91cDoge29wdGdyb3VwOiB0cnVlfSxcbiAgcDoge1xuICAgIGFkZHJlc3M6IHRydWUsIGFydGljbGU6IHRydWUsIGFzaWRlOiB0cnVlLCBibG9ja3F1b3RlOiB0cnVlLCBkaXI6IHRydWUsXG4gICAgZGl2OiB0cnVlLCBkbDogdHJ1ZSwgZmllbGRzZXQ6IHRydWUsIGZvb3RlcjogdHJ1ZSwgZm9ybTogdHJ1ZSxcbiAgICBoMTogdHJ1ZSwgaDI6IHRydWUsIGgzOiB0cnVlLCBoNDogdHJ1ZSwgaDU6IHRydWUsIGg2OiB0cnVlLFxuICAgIGhlYWRlcjogdHJ1ZSwgaGdyb3VwOiB0cnVlLCBocjogdHJ1ZSwgbWVudTogdHJ1ZSwgbmF2OiB0cnVlLCBvbDogdHJ1ZSxcbiAgICBwOiB0cnVlLCBwcmU6IHRydWUsIHNlY3Rpb246IHRydWUsIHRhYmxlOiB0cnVlLCB1bDogdHJ1ZVxuICB9LFxuICBycDoge3JwOiB0cnVlLCBydDogdHJ1ZX0sXG4gIHJ0OiB7cnA6IHRydWUsIHJ0OiB0cnVlfSxcbiAgdGJvZHk6IHt0Ym9keTogdHJ1ZSwgdGZvb3Q6IHRydWV9LFxuICB0ZDoge3RkOiB0cnVlLCB0aDogdHJ1ZX0sXG4gIHRmb290OiB7dGJvZHk6IHRydWV9LFxuICB0aDoge3RkOiB0cnVlLCB0aDogdHJ1ZX0sXG4gIHRoZWFkOiB7dGJvZHk6IHRydWUsIHRmb290OiB0cnVlfSxcbiAgdHI6IHt0cjogdHJ1ZX1cbn07XG5cbmZ1bmN0aW9uIG5hbWVDaGFyKGNoKSB7XG4gIHJldHVybiBjaCA9PSA0NSB8fCBjaCA9PSA0NiB8fCBjaCA9PSA1OCB8fCBjaCA+PSA2NSAmJiBjaCA8PSA5MCB8fCBjaCA9PSA5NSB8fCBjaCA+PSA5NyAmJiBjaCA8PSAxMjIgfHwgY2ggPj0gMTYxXG59XG5cbmZ1bmN0aW9uIGlzU3BhY2UoY2gpIHtcbiAgcmV0dXJuIGNoID09IDkgfHwgY2ggPT0gMTAgfHwgY2ggPT0gMTMgfHwgY2ggPT0gMzJcbn1cblxubGV0IGNhY2hlZE5hbWUgPSBudWxsLCBjYWNoZWRJbnB1dCA9IG51bGwsIGNhY2hlZFBvcyA9IDA7XG5mdW5jdGlvbiB0YWdOYW1lQWZ0ZXIoaW5wdXQsIG9mZnNldCkge1xuICBsZXQgcG9zID0gaW5wdXQucG9zICsgb2Zmc2V0O1xuICBpZiAoY2FjaGVkUG9zID09IHBvcyAmJiBjYWNoZWRJbnB1dCA9PSBpbnB1dCkgcmV0dXJuIGNhY2hlZE5hbWVcbiAgbGV0IG5leHQgPSBpbnB1dC5wZWVrKG9mZnNldCk7XG4gIHdoaWxlIChpc1NwYWNlKG5leHQpKSBuZXh0ID0gaW5wdXQucGVlaygrK29mZnNldCk7XG4gIGxldCBuYW1lID0gXCJcIjtcbiAgZm9yICg7Oykge1xuICAgIGlmICghbmFtZUNoYXIobmV4dCkpIGJyZWFrXG4gICAgbmFtZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQpO1xuICAgIG5leHQgPSBpbnB1dC5wZWVrKCsrb2Zmc2V0KTtcbiAgfVxuICAvLyBVbmRlZmluZWQgdG8gc2lnbmFsIHRoZXJlJ3MgYSA8PyBvciA8ISwgbnVsbCBmb3IganVzdCBtaXNzaW5nXG4gIGNhY2hlZElucHV0ID0gaW5wdXQ7IGNhY2hlZFBvcyA9IHBvcztcbiAgcmV0dXJuIGNhY2hlZE5hbWUgPSBuYW1lID8gbmFtZS50b0xvd2VyQ2FzZSgpIDogbmV4dCA9PSBxdWVzdGlvbiB8fCBuZXh0ID09IGJhbmcgPyB1bmRlZmluZWQgOiBudWxsXG59XG5cbmNvbnN0IGxlc3NUaGFuID0gNjAsIGdyZWF0ZXJUaGFuID0gNjIsIHNsYXNoID0gNDcsIHF1ZXN0aW9uID0gNjMsIGJhbmcgPSAzMywgZGFzaCA9IDQ1O1xuXG5mdW5jdGlvbiBFbGVtZW50Q29udGV4dChuYW1lLCBwYXJlbnQpIHtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuaGFzaCA9IHBhcmVudCA/IHBhcmVudC5oYXNoIDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB0aGlzLmhhc2ggKz0gKHRoaXMuaGFzaCA8PCA0KSArIG5hbWUuY2hhckNvZGVBdChpKSArIChuYW1lLmNoYXJDb2RlQXQoaSkgPDwgOCk7XG59XG5cbmNvbnN0IHN0YXJ0VGFnVGVybXMgPSBbU3RhcnRUYWcsIFN0YXJ0U2VsZkNsb3NpbmdUYWcsIFN0YXJ0U2NyaXB0VGFnLCBTdGFydFN0eWxlVGFnLCBTdGFydFRleHRhcmVhVGFnXTtcblxuY29uc3QgZWxlbWVudENvbnRleHQgPSBuZXcgQ29udGV4dFRyYWNrZXIoe1xuICBzdGFydDogbnVsbCxcbiAgc2hpZnQoY29udGV4dCwgdGVybSwgc3RhY2ssIGlucHV0KSB7XG4gICAgcmV0dXJuIHN0YXJ0VGFnVGVybXMuaW5kZXhPZih0ZXJtKSA+IC0xID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0XG4gIH0sXG4gIHJlZHVjZShjb250ZXh0LCB0ZXJtKSB7XG4gICAgcmV0dXJuIHRlcm0gPT0gRWxlbWVudCAmJiBjb250ZXh0ID8gY29udGV4dC5wYXJlbnQgOiBjb250ZXh0XG4gIH0sXG4gIHJldXNlKGNvbnRleHQsIG5vZGUsIHN0YWNrLCBpbnB1dCkge1xuICAgIGxldCB0eXBlID0gbm9kZS50eXBlLmlkO1xuICAgIHJldHVybiB0eXBlID09IFN0YXJ0VGFnIHx8IHR5cGUgPT0gT3BlblRhZ1xuICAgICAgPyBuZXcgRWxlbWVudENvbnRleHQodGFnTmFtZUFmdGVyKGlucHV0LCAxKSB8fCBcIlwiLCBjb250ZXh0KSA6IGNvbnRleHRcbiAgfSxcbiAgaGFzaChjb250ZXh0KSB7IHJldHVybiBjb250ZXh0ID8gY29udGV4dC5oYXNoIDogMCB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcblxuY29uc3QgdGFnU3RhcnQgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCAhPSBsZXNzVGhhbikge1xuICAgIC8vIEVuZCBvZiBmaWxlLCBjbG9zZSBhbnkgb3BlbiB0YWdzXG4gICAgaWYgKGlucHV0Lm5leHQgPCAwICYmIHN0YWNrLmNvbnRleHQpIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZyk7XG4gICAgcmV0dXJuXG4gIH1cbiAgaW5wdXQuYWR2YW5jZSgpO1xuICBsZXQgY2xvc2UgPSBpbnB1dC5uZXh0ID09IHNsYXNoO1xuICBpZiAoY2xvc2UpIGlucHV0LmFkdmFuY2UoKTtcbiAgbGV0IG5hbWUgPSB0YWdOYW1lQWZ0ZXIoaW5wdXQsIDApO1xuICBpZiAobmFtZSA9PT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgaWYgKCFuYW1lKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oY2xvc2UgPyBJbmNvbXBsZXRlQ2xvc2VUYWcgOiBTdGFydFRhZylcblxuICBsZXQgcGFyZW50ID0gc3RhY2suY29udGV4dCA/IHN0YWNrLmNvbnRleHQubmFtZSA6IG51bGw7XG4gIGlmIChjbG9zZSkge1xuICAgIGlmIChuYW1lID09IHBhcmVudCkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0Q2xvc2VUYWcpXG4gICAgaWYgKHBhcmVudCAmJiBpbXBsaWNpdGx5Q2xvc2VkW3BhcmVudF0pIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihtaXNzaW5nQ2xvc2VUYWcsIC0yKVxuICAgIGlmIChzdGFjay5kaWFsZWN0RW5hYmxlZChEaWFsZWN0X25vTWF0Y2gpKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oTm9NYXRjaFN0YXJ0Q2xvc2VUYWcpXG4gICAgZm9yIChsZXQgY3ggPSBzdGFjay5jb250ZXh0OyBjeDsgY3ggPSBjeC5wYXJlbnQpIGlmIChjeC5uYW1lID09IG5hbWUpIHJldHVyblxuICAgIGlucHV0LmFjY2VwdFRva2VuKE1pc21hdGNoZWRTdGFydENsb3NlVGFnKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAobmFtZSA9PSBcInNjcmlwdFwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTY3JpcHRUYWcpXG4gICAgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRTdHlsZVRhZylcbiAgICBpZiAobmFtZSA9PSBcInRleHRhcmVhXCIpIHJldHVybiBpbnB1dC5hY2NlcHRUb2tlbihTdGFydFRleHRhcmVhVGFnKVxuICAgIGlmIChzZWxmQ2xvc2Vycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0U2VsZkNsb3NpbmdUYWcpXG4gICAgaWYgKHBhcmVudCAmJiBjbG9zZU9uT3BlbltwYXJlbnRdICYmIGNsb3NlT25PcGVuW3BhcmVudF1bbmFtZV0pIGlucHV0LmFjY2VwdFRva2VuKG1pc3NpbmdDbG9zZVRhZywgLTEpO1xuICAgIGVsc2UgaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRUYWcpO1xuICB9XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5jb25zdCBjb21tZW50Q29udGVudCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGZvciAobGV0IGRhc2hlcyA9IDAsIGkgPSAwOzsgaSsrKSB7XG4gICAgaWYgKGlucHV0Lm5leHQgPCAwKSB7XG4gICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4oY29tbWVudENvbnRlbnQkMSk7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAoaW5wdXQubmV4dCA9PSBkYXNoKSB7XG4gICAgICBkYXNoZXMrKztcbiAgICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4gJiYgZGFzaGVzID49IDIpIHtcbiAgICAgIGlmIChpID4gMykgaW5wdXQuYWNjZXB0VG9rZW4oY29tbWVudENvbnRlbnQkMSwgLTIpO1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2Uge1xuICAgICAgZGFzaGVzID0gMDtcbiAgICB9XG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICB9XG59KTtcblxuZnVuY3Rpb24gY29udGVudFRva2VuaXplcih0YWcsIHRleHRUb2tlbiwgZW5kVG9rZW4pIHtcbiAgbGV0IGxhc3RTdGF0ZSA9IDIgKyB0YWcubGVuZ3RoO1xuICByZXR1cm4gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgICAvLyBzdGF0ZSBtZWFuczpcbiAgICAvLyAtIDAgbm90aGluZyBtYXRjaGVkXG4gICAgLy8gLSAxICc8JyBtYXRjaGVkXG4gICAgLy8gLSAyICc8LycgKyBwb3NzaWJseSB3aGl0ZXNwYWNlIG1hdGNoZWRcbiAgICAvLyAtIDMtKDErdGFnLmxlbmd0aCkgcGFydCBvZiB0aGUgdGFnIG1hdGNoZWRcbiAgICAvLyAtIGxhc3RTdGF0ZSB3aG9sZSB0YWcgKyBwb3NzaWJseSB3aGl0ZXNwYWNlIG1hdGNoZWRcbiAgICBmb3IgKGxldCBzdGF0ZSA9IDAsIG1hdGNoZWRMZW4gPSAwLCBpID0gMDs7IGkrKykge1xuICAgICAgaWYgKGlucHV0Lm5leHQgPCAwKSB7XG4gICAgICAgIGlmIChpKSBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4pO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlID09IDAgJiYgaW5wdXQubmV4dCA9PSBsZXNzVGhhbiB8fFxuICAgICAgICAgIHN0YXRlID09IDEgJiYgaW5wdXQubmV4dCA9PSBzbGFzaCB8fFxuICAgICAgICAgIHN0YXRlID49IDIgJiYgc3RhdGUgPCBsYXN0U3RhdGUgJiYgaW5wdXQubmV4dCA9PSB0YWcuY2hhckNvZGVBdChzdGF0ZSAtIDIpKSB7XG4gICAgICAgIHN0YXRlKys7XG4gICAgICAgIG1hdGNoZWRMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoKHN0YXRlID09IDIgfHwgc3RhdGUgPT0gbGFzdFN0YXRlKSAmJiBpc1NwYWNlKGlucHV0Lm5leHQpKSB7XG4gICAgICAgIG1hdGNoZWRMZW4rKztcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gbGFzdFN0YXRlICYmIGlucHV0Lm5leHQgPT0gZ3JlYXRlclRoYW4pIHtcbiAgICAgICAgaWYgKGkgPiBtYXRjaGVkTGVuKVxuICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKHRleHRUb2tlbiwgLW1hdGNoZWRMZW4pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oZW5kVG9rZW4sIC0obWF0Y2hlZExlbiAtIDIpKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSBpZiAoKGlucHV0Lm5leHQgPT0gMTAgLyogJ1xcbicgKi8gfHwgaW5wdXQubmV4dCA9PSAxMyAvKiAnXFxyJyAqLykgJiYgaSkge1xuICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbih0ZXh0VG9rZW4sIDEpO1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUgPSBtYXRjaGVkTGVuID0gMDtcbiAgICAgIH1cbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICB9XG4gIH0pXG59XG5cbmNvbnN0IHNjcmlwdFRva2VucyA9IGNvbnRlbnRUb2tlbml6ZXIoXCJzY3JpcHRcIiwgc2NyaXB0VGV4dCwgU3RhcnRDbG9zZVNjcmlwdFRhZyk7XG5cbmNvbnN0IHN0eWxlVG9rZW5zID0gY29udGVudFRva2VuaXplcihcInN0eWxlXCIsIHN0eWxlVGV4dCwgU3RhcnRDbG9zZVN0eWxlVGFnKTtcblxuY29uc3QgdGV4dGFyZWFUb2tlbnMgPSBjb250ZW50VG9rZW5pemVyKFwidGV4dGFyZWFcIiwgdGV4dGFyZWFUZXh0LCBTdGFydENsb3NlVGV4dGFyZWFUYWcpO1xuXG5jb25zdCBodG1sSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgXCJUZXh0IFJhd1RleHRcIjogdGFncy5jb250ZW50LFxuICBcIlN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU2VsZkNsb3NpbmdFbmRUYWcgRW5kVGFnXCI6IHRhZ3MuYW5nbGVCcmFja2V0LFxuICBUYWdOYW1lOiB0YWdzLnRhZ05hbWUsXG4gIFwiTWlzbWF0Y2hlZENsb3NlVGFnL1RhZ05hbWVcIjogW3RhZ3MudGFnTmFtZSwgIHRhZ3MuaW52YWxpZF0sXG4gIEF0dHJpYnV0ZU5hbWU6IHRhZ3MuYXR0cmlidXRlTmFtZSxcbiAgXCJBdHRyaWJ1dGVWYWx1ZSBVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlXCI6IHRhZ3MuYXR0cmlidXRlVmFsdWUsXG4gIElzOiB0YWdzLmRlZmluaXRpb25PcGVyYXRvcixcbiAgXCJFbnRpdHlSZWZlcmVuY2UgQ2hhcmFjdGVyUmVmZXJlbmNlXCI6IHRhZ3MuY2hhcmFjdGVyLFxuICBDb21tZW50OiB0YWdzLmJsb2NrQ29tbWVudCxcbiAgUHJvY2Vzc2luZ0luc3Q6IHRhZ3MucHJvY2Vzc2luZ0luc3RydWN0aW9uLFxuICBEb2N0eXBlRGVjbDogdGFncy5kb2N1bWVudE1ldGFcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHBhcnNlciA9IExSUGFyc2VyLmRlc2VyaWFsaXplKHtcbiAgdmVyc2lvbjogMTQsXG4gIHN0YXRlczogXCIseE9WT3hPT08hV1EhYk8nI0NvTyFdUSFiTycjQ3lPIWJRIWJPJyNDfE8hZ1EhYk8nI0RQTyFsUSFiTycjRFJPIXFPWE8nI0NuTyF8T1lPJyNDbk8jWE9bTycjQ25PJGVPeE8nI0NuT09PVycjQ24nI0NuTyRsTyFyTycjRFRPJHRRIWJPJyNEVk8keVEhYk8nI0RXT09PVycjRGsnI0RrT09PVycjRFknI0RZUVZPeE9PTyVPUSN0Tyw1OVpPJVdRI3RPLDU5ZU8lYFEjdE8sNTloTyVoUSN0Tyw1OWtPJXNRI3RPLDU5bU9PT1gnI0ReJyNEXk8le09YTycjQ3dPJldPWE8sNTlZT09PWScjRF8nI0RfTyZgT1lPJyNDek8ma09ZTyw1OVlPT09bJyNEYCcjRGBPJnNPW08nI0N9TydPT1tPLDU5WU9PT1cnI0RhJyNEYU8nV094Tyw1OVlPJ19RIWJPJyNEUU9PT1csNTlZLDU5WU9PT2AnI0RiJyNEYk8nZE8hck8sNTlvT09PVyw1OW8sNTlvTydsUSFiTyw1OXFPJ3FRIWJPLDU5ck9PT1ctRTdXLUU3V08ndlEjdE8nI0NxT09RTycjRFonI0RaTyhVUSN0TzFHLnVPT09YMUcudTFHLnVPKF5RI3RPMUcvUE9PT1kxRy9QMUcvUE8oZlEjdE8xRy9TT09PWzFHL1MxRy9TTyhuUSN0TzFHL1ZPT09XMUcvVjFHL1ZPT09XMUcvWDFHL1hPKHlRI3RPMUcvWE9PT1gtRTdbLUU3W08pUlEhYk8nI0N4T09PVzFHLnQxRy50T09PWS1FN10tRTddTylXUSFiTycjQ3tPT09bLUU3Xi1FN15PKV1RIWJPJyNET09PT1ctRTdfLUU3X08pYlEhYk8sNTlsT09PYC1FN2AtRTdgT09PVzFHL1oxRy9aT09PVzFHL10xRy9dT09PVzFHL14xRy9eTylnUSZqTyw1OV1PT1FPLUU3WC1FN1hPT09YNyskYTcrJGFPT09ZNyskazcrJGtPT09bNyskbjcrJG5PT09XNyskcTcrJHFPT09XNyskczcrJHNPKXJRIWJPLDU5ZE8pd1EhYk8sNTlnTyl8USFiTyw1OWpPT09XMUcvVzFHL1dPKlJPLFVPJyNDdE8qZE83W08nI0N0T09RTzFHLncxRy53T09PVzFHL08xRy9PT09PVzFHL1IxRy9ST09PVzFHL1UxRy9VT09PTycjRFsnI0RbTyp1TyxVTyw1OWBPT1FPLDU5YCw1OWBPT09PJyNEXScjRF1PK1dPN1tPLDU5YE9PT08tRTdZLUU3WU9PUU8xRy56MUcuek9PT08tRTdaLUU3WlwiLFxuICBzdGF0ZURhdGE6IFwiK3V+TyFeT1N+T1NTT1RQT1VRT1ZST1dUT1ldT1pbT1teT15eT19eT2BeT2FeT3heT3tfTyFkWk9+T2RhT35PZGJPfk9kY09+T2RkT35PZGVPfk8hV2ZPUGtQIVprUH5PIVhpT1FuUCFablB+TyFZbE9ScVAhWnFQfk9TU09UUE9VUU9WUk9XVE9YcU9ZXU9aW09bXk9eXk9fXk9gXk9hXk94Xk8hZFpPfk8hWnJPflAjZE8hW3NPIWV1T35PZHZPfk9kd09+T2Z5T2p8T35PZnlPaiFPT35PZnlPaiFRT35PZnlPaiFTT3YhVE9+T2Z5T2ohVE9+TyFXZk9Qa1ghWmtYfk9QIVdPIVohWE9+TyFYaU9RblghWm5Yfk9RIVpPIVohWE9+TyFZbE9ScVghWnFYfk9SIV1PIVohWE9+TyFaIVhPflAjZE9kIV9Pfk8hW3NPIWUhYU9+T2ohYk9+T2ohY09+T2chZE9mZVhqZVh2ZVh+T2Z5T2ohZk9+T2Z5T2ohZ09+T2Z5T2ohaE9+T2Z5T2ohaU92IWpPfk9meU9qIWpPfk9kIWtPfk9kIWxPfk9kIW1Pfk9qIW5Pfk9pIXFPIWAhb08hYiFwT35PaiFyT35PaiFzT35PaiF0T35PXyF1T2AhdU9hIXVPIWAhd08hYSF1T35PXyF4T2AheE9hIXhPIWIhd08hYyF4T35PXyF1T2AhdU9hIXVPIWAhe08hYSF1T35PXyF4T2AheE9hIXhPIWIhe08hYyF4T35Pdn52amAhZHh7X2FfflwiLFxuICBnb3RvOiBcIiVwIWBQUFBQUFBQUFBQUFBQUFBQUFAhYSFnUCFtUFAheVBQIXwjUCNTI1kjXSNgI2YjaSNsI3IjeFAhYVAhYSFhUCRPJFUkbCRyJHglTyVVJVslYlBQUFBQUFBQJWhYXk9YYHBYVU9YYHBlemFiY2Rle30hUCFSIVVSIXEhZFJoVVIhWGhYVk9YYHBSa1ZSIVhrWFdPWGBwUm5XUiFYblhYT1hgcFFyWFIhWHBYWU9YYHBRYE9SeGBRe2FRfWJRIVBjUSFSZFEhVWVaIWV7fSFQIVIhVVEhdiFvUiF6IXZRIXkhcFIhfCF5UWdVUiFWZ1FqVlIhWWpRbVdSIVttUXBYUiFecFF0WlIhYHRTX09gVG9YcFwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIEluY29tcGxldGVDbG9zZVRhZyBEb2N1bWVudCBUZXh0IEVudGl0eVJlZmVyZW5jZSBDaGFyYWN0ZXJSZWZlcmVuY2UgSW52YWxpZEVudGl0eSBFbGVtZW50IE9wZW5UYWcgVGFnTmFtZSBBdHRyaWJ1dGUgQXR0cmlidXRlTmFtZSBJcyBBdHRyaWJ1dGVWYWx1ZSBVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlIEVuZFRhZyBTY3JpcHRUZXh0IENsb3NlVGFnIE9wZW5UYWcgU3R5bGVUZXh0IENsb3NlVGFnIE9wZW5UYWcgVGV4dGFyZWFUZXh0IENsb3NlVGFnIE9wZW5UYWcgQ2xvc2VUYWcgU2VsZkNsb3NpbmdUYWcgU2VsZkNsb3NpbmdFbmRUYWcgQ29tbWVudCBQcm9jZXNzaW5nSW5zdCBNaXNtYXRjaGVkQ2xvc2VUYWcgQ2xvc2VUYWcgRG9jdHlwZURlY2xcIixcbiAgbWF4VGVybTogNjcsXG4gIGNvbnRleHQ6IGVsZW1lbnRDb250ZXh0LFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJjbG9zZWRCeVwiLCAtMTAsMSwyLDMsNSw2LDcsOCw5LDEwLDExLFwiRW5kVGFnXCIsNCxcIkVuZFRhZyBTZWxmQ2xvc2luZ0VuZFRhZ1wiLC00LDE5LDI5LDMyLDM1LFwiQ2xvc2VUYWdcIl0sXG4gICAgW1wiZ3JvdXBcIiwgLTksMTIsMTUsMTYsMTcsMTgsMzksNDAsNDEsNDIsXCJFbnRpdHlcIiwxNCxcIkVudGl0eSBUZXh0Q29udGVudFwiLC0zLDI3LDMwLDMzLFwiVGV4dENvbnRlbnQgRW50aXR5XCJdLFxuICAgIFtcIm9wZW5lZEJ5XCIsIDI2LFwiU3RhcnRUYWcgU3RhcnRDbG9zZVRhZ1wiLC00LDI4LDMxLDM0LDM2LFwiT3BlblRhZ1wiLDM4LFwiU3RhcnRUYWdcIl1cbiAgXSxcbiAgcHJvcFNvdXJjZXM6IFtodG1sSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMF0sXG4gIHJlcGVhdE5vZGVDb3VudDogOSxcbiAgdG9rZW5EYXRhOiBcIiMociFhUiFZT1gkcVhZLFFZWixRWlskcVtdJlhdXixRXnAkcXBxLFFxci1fcnM0eXN2LV92dzVpd3hKXnh9LV99IU9LUCFPIVAtXyFQIVEhIU8hUSFbLV8hWyFdISRjIV0hXi1fIV4hXyEoayFfIWAjJ1MhYCFhIyd6IWEhYy1fIWMhfSEkYyF9I1ItXyNSI1MhJGMjUyNUM1YjVCNvISRjI28jcy1fI3MkZiRxJGYlVy1fJVclbyEkYyVvJXAtXyVwJmEhJGMmYSZiLV8mYjFwISRjMXA0VS1fNFU0ZCEkYzRkNGUtXzRlJElTISRjJElTJElgLV8kSWAkSWIhJGMkSWIkS2gtXyRLaCUjdCEkYyUjdCYveC1fJi94JkV0ISRjJkV0JkZWLV8mRlY7J1MhJGM7J1M7OmohKGU7Omo7PWA0czwlbD8mci1fPyZyP0FoISRjP0FoP0JZJHE/Qlk/TW4hJGM/TW5PJHEhWiR8Y15QaVchYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxciRxcnMmfXN2JHF2dytQd3godHghXiRxIV4hXypWIV8hYSZYIWEjUyRxI1MjVCZYI1Q7J1MkcTsnUzs9YCt6PCVsTyRxIVImYlheUCFhYCFjcE9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWHEnVVZeUCFjcE92Jn13eCdreCFeJn0hXiFfKFYhXzsnUyZ9OydTOz1gKG48JWxPJn1QJ3BUXlBPdidrdyFeJ2shXzsnUydrOydTOz1gKFA8JWxPJ2tQKFNQOz1gPCVsJ2twKFtTIWNwT3YoVng7J1MoVjsnUzs9YChoPCVsTyhWcChrUDs9YDwlbChWcShxUDs9YDwlbCZ9YSh7V15QIWFgT3IodHJzJ2tzdih0dyFeKHQhXiFfKWUhXzsnUyh0OydTOz1gKlA8JWxPKHRgKWpUIWFgT3IpZXN2KWV3OydTKWU7J1M7PWApeTwlbE8pZWApfFA7PWA8JWwpZWEqU1A7PWA8JWwodCFRKl5WIWFgIWNwT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVEqdlA7PWA8JWwqViFSKnxQOz1gPCVsJlhXK1VZaVdPWCtQWlsrUF5wK1BxcitQc3crUHghXitQIWEjUytQI1Q7J1MrUDsnUzs9YCt0PCVsTytQVyt3UDs9YDwlbCtQIVorfVA7PWA8JWwkcSFhLF1gXlAhYWAhY3AhXl5PWCZYWFksUVlaLFFaXSZYXV4sUV5wJlhwcSxRcXImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYIV8tbGpmU15QaVchYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHghUC1fIVAhUSRxIVEhXi1fIV4hXzFuIV8hYSZYIWEjUy1fI1MjVDNWI1Qjcy1fI3MkZiRxJGY7J1MtXzsnUzs9YDRzPCVsP0FoLV8/QWg/QlkkcT9CWT9Nbi1fP01uTyRxWy9lY2ZTaVdPWCtQWlsrUF5wK1Bxci9ec3cvXnghUC9eIVAhUStQIVEhXi9eIV4hXzBwIWEjUy9eI1MjVDBwI1Qjcy9eI3MkZitQJGY7J1MvXjsnUzs9YDFoPCVsP0FoL14/QWg/QlkrUD9CWT9Nbi9eP01uTytQUzB1WGZTcXIwcHN3MHB4IVAwcCFRIV8wcCFhI3MwcCRmOydTMHA7J1M7PWAxYjwlbD9BaDBwP0JZP01uMHBTMWVQOz1gPCVsMHBbMWtQOz1gPCVsL14hVTF3YmZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleCFQMW4hUCFRKlYhUSFfMW4hXyFhKlYhYSNzMW4jcyRmKlYkZjsnUzFuOydTOz1gM1A8JWw/QWgxbj9BaD9CWSpWP0JZP01uMW4/TW5PKlYhVTNTUDs9YDwlbDFuIVYzYmNmU15QIWFgIWNwT3EmWHFyM1ZycyZ9c3YzVnZ3MHB3eCh0eCFQM1YhUCFRJlghUSFeM1YhXiFfMW4hXyFhJlghYSNzM1YjcyRmJlgkZjsnUzNWOydTOz1gNG08JWw/QWgzVj9BaD9CWSZYP0JZP01uM1Y/TW5PJlghVjRwUDs9YDwlbDNWIV80dlA7PWA8JWwtXyFaNVNWIWBoXlAhY3BPdiZ9d3gna3ghXiZ9IV4hXyhWIV87J1MmfTsnUzs9YChuPCVsTyZ9IV81cmpmU2lXYSFST1g3ZFhaOHFaWzdkW144cV5wN2RxcjpjcnM4cXN0QFR0dzpjd3g4cXghUDpjIVAhUTdkIVEhXTpjIV0hXi9eIV4hXz1wIV8hYThxIWEjUzpjI1MjVD1wI1QjczpjI3MkZjdkJGY7J1M6YzsnUzs9YD99PCVsP0FoOmM/QWg/Qlk3ZD9CWT9NbjpjP01uTzdkIVo3aWJpV09YN2RYWjhxWls3ZFteOHFecDdkcXI3ZHJzOHFzdCtQdHc3ZHd4OHF4IV03ZCFdIV45ZiFeIWE4cSFhI1M3ZCNTI1Q4cSNUOydTN2Q7J1M7PWA6XTwlbE83ZCFSOHRWT3A4cXFzOHF0IV04cSFdIV45WiFeOydTOHE7J1M7PWA5YDwlbE84cSFSOWBPXyFSIVI5Y1A7PWA8JWw4cSFaOW1ZaVdfIVJPWCtQWlsrUF5wK1BxcitQc3crUHghXitQIWEjUytQI1Q7J1MrUDsnUzs9YCt0PCVsTytQIVo6YFA7PWA8JWw3ZCFfOmpqZlNpV09YN2RYWjhxWls3ZFteOHFecDdkcXI6Y3JzOHFzdC9edHc6Y3d4OHF4IVA6YyFQIVE3ZCFRIV06YyFdIV48WyFeIV89cCFfIWE4cSFhI1M6YyNTI1Q9cCNUI3M6YyNzJGY3ZCRmOydTOmM7J1M7PWA/fTwlbD9BaDpjP0FoP0JZN2Q/Qlk/TW46Yz9Nbk83ZCFfPGVjZlNpV18hUk9YK1BaWytQXnArUHFyL15zdy9eeCFQL14hUCFRK1AhUSFeL14hXiFfMHAhYSNTL14jUyNUMHAjVCNzL14jcyRmK1AkZjsnUy9eOydTOz1gMWg8JWw/QWgvXj9BaD9CWStQP0JZP01uL14/TW5PK1AhVj11ZGZTT3A4cXFyPXByczhxc3QwcHR3PXB3eDhxeCFQPXAhUCFROHEhUSFdPXAhXSFeP1QhXiFfPXAhXyFhOHEhYSNzPXAjcyRmOHEkZjsnUz1wOydTOz1gP3c8JWw/QWg9cD9BaD9CWThxP0JZP01uPXA/TW5POHEhVj9bWGZTXyFScXIwcHN3MHB4IVAwcCFRIV8wcCFhI3MwcCRmOydTMHA7J1M7PWAxYjwlbD9BaDBwP0JZP01uMHAhVj96UDs9YDwlbD1wIV9AUVA7PWA8JWw6YyFfQFtpZlNpV09YQXlYWkNUWltBeVteQ1RecEF5cXJEcnJzQ1Rzd0Ryd3hDVHghUERyIVAhUUF5IVEhXURyIV0hXi9eIV4hX0d8IV8hYUNUIWEjU0RyI1MjVEd8I1Qjc0RyI3MkZkF5JGY7J1NEcjsnUzs9YEpXPCVsP0FoRHI/QWg/QllBeT9CWT9NbkRyP01uT0F5IVpCT2FpV09YQXlYWkNUWltBeVteQ1RecEF5cXJBeXJzQ1Rzd0F5d3hDVHghXUF5IV0hXkN1IV4hYUNUIWEjU0F5I1MjVENUI1Q7J1NBeTsnUzs9YERsPCVsT0F5IVJDV1VPcENUcSFdQ1QhXSFeQ2ohXjsnU0NUOydTOz1gQ288JWxPQ1QhUkNvT2AhUiFSQ3JQOz1gPCVsQ1QhWkN8WWlXYCFST1grUFpbK1BecCtQcXIrUHN3K1B4IV4rUCFhI1MrUCNUOydTK1A7J1M7PWArdDwlbE8rUCFaRG9QOz1gPCVsQXkhX0R5aWZTaVdPWEF5WFpDVFpbQXlbXkNUXnBBeXFyRHJyc0NUc3dEcnd4Q1R4IVBEciFQIVFBeSFRIV1EciFdIV5GaCFeIV9HfCFfIWFDVCFhI1NEciNTI1RHfCNUI3NEciNzJGZBeSRmOydTRHI7J1M7PWBKVzwlbD9BaERyP0FoP0JZQXk/Qlk/TW5Ecj9Nbk9BeSFfRnFjZlNpV2AhUk9YK1BaWytQXnArUHFyL15zdy9eeCFQL14hUCFRK1AhUSFeL14hXiFfMHAhYSNTL14jUyNUMHAjVCNzL14jcyRmK1AkZjsnUy9eOydTOz1gMWg8JWw/QWgvXj9BaD9CWStQP0JZP01uL14/TW5PK1AhVkhSY2ZTT3BDVHFyR3xyc0NUc3dHfHd4Q1R4IVBHfCFQIVFDVCFRIV1HfCFdIV5JXiFeIV9HfCFfIWFDVCFhI3NHfCNzJGZDVCRmOydTR3w7J1M7PWBKUTwlbD9BaEd8P0FoP0JZQ1Q/Qlk/TW5HfD9Nbk9DVCFWSWVYZlNgIVJxcjBwc3cwcHghUDBwIVEhXzBwIWEjczBwJGY7J1MwcDsnUzs9YDFiPCVsP0FoMHA/Qlk/TW4wcCFWSlRQOz1gPCVsR3whX0paUDs9YDwlbERyIVpKZ1chYnheUCFhYE9yKHRycydrc3YodHchXih0IV4hXyllIV87J1ModDsnUzs9YCpQPCVsTyh0IWFLXmxmU15QaVchYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxci1fcnMmfXN2LV92dy9ed3godHh9LV99IU9NVSFPIVAtXyFQIVEkcSFRIV4tXyFeIV8xbiFfIWEmWCFhI1MtXyNTI1QzViNUI3MtXyNzJGYkcSRmOydTLV87J1M7PWA0czwlbD9BaC1fP0FoP0JZJHE/Qlk/TW4tXz9Nbk8kcSFhTWNrZlNeUGlXIWFgIWNwT1gkcVhaJlhaWyRxW14mWF5wJHFwcSZYcXItX3JzJn1zdi1fdncvXnd4KHR4IVAtXyFQIVEkcSFRIV4tXyFeIV8xbiFfIWAmWCFgIWEhIFchYSNTLV8jUyNUM1YjVCNzLV8jcyRmJHEkZjsnUy1fOydTOz1gNHM8JWw/QWgtXz9BaD9CWSRxP0JZP01uLV8/TW5PJHEhVCEgY1heUCFhYCFjcCFlUU9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWCFhISFaZF5QaVchYWAhY3BPWCRxWFomWFpbJHFbXiZYXnAkcXBxJlhxciRxcnMmfXN2JHF2dytQd3godHghXiRxIV4hXypWIV8hYCZYIWAhYSEjaSFhI1MkcSNTI1QmWCNUOydTJHE7J1M7PWArejwlbE8kcSFYISN2WF5QIWFgIWNwdlNqVU9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWCFhISRyIVpmU2RRXlBpVyFhYCFjcE9YJHFYWiZYWlskcVteJlhecCRxcHEmWHFyLV9ycyZ9c3YtX3Z3L153eCh0eH0tX30hTyEkYyFPIVAhJGMhUCFRJHEhUSFbISRjIVshXSEkYyFdIV4tXyFeIV8xbiFfIWEmWCFhIWMtXyFjIX0hJGMhfSNSLV8jUiNTISRjI1MjVDNWI1QjbyEkYyNvI3MtXyNzJGYkcSRmJH0tXyR9JU8hJGMlTyVXLV8lVyVvISRjJW8lcC1fJXAmYSEkYyZhJmItXyZiMXAhJGMxcDRVISRjNFU0ZCEkYzRkNGUtXzRlJElTISRjJElTJElgLV8kSWAkSWIhJGMkSWIkSmUtXyRKZSRKZyEkYyRKZyRLaC1fJEtoJSN0ISRjJSN0Ji94LV8mL3gmRXQhJGMmRXQmRlYtXyZGVjsnUyEkYzsnUzs6aiEoZTs6ajs9YDRzPCVsPyZyLV8/JnI/QWghJGM/QWg/QlkkcT9CWT9NbiEkYz9Nbk8kcSFhIShoUDs9YDwlbCEkYyFWISh0Y2ZTIWFgIWNwT3EqVnFyISpQcnMoVnN2MW52dzBwd3gpZXghUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEhYiFIXiFiI3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWISpZaGZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleH0xbn0hTyErdCFPIVAxbiFQIVEqViFRIV8xbiFfIWEqViFhIWYxbiFmIWchLnAhZyNXMW4jVyNYIT9eI1gjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhK31kZlMhYWAhY3BPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4fTFufSFPIS1dIU8hUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhLWhiZlMhYWAhY3AhZFBPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4IVAxbiFQIVEqViFRIV8xbiFfIWEqViFhI3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWIS55ZGZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleCFQMW4hUCFRKlYhUSFfMW4hXyFhKlYhYSFxMW4hcSFyITBYIXIjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhMGJkZlMhYWAhY3BPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4IVAxbiFQIVEqViFRIV8xbiFfIWEqViFhIWUxbiFlIWYhMXAhZiNzMW4jcyRmKlYkZjsnUzFuOydTOz1gM1A8JWw/QWgxbj9BaD9CWSpWP0JZP01uMW4/TW5PKlYhViExeWRmUyFhYCFjcE9xKlZxcjFucnMoVnN2MW52dzBwd3gpZXghUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEhdjFuIXYhdyEzWCF3I3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWITNiZGZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleCFQMW4hUCFRKlYhUSFfMW4hXyFhKlYhYSF7MW4heyF8ITRwIXwjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhNHlkZlMhYWAhY3BPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4IVAxbiFQIVEqViFRIV8xbiFfIWEqViFhIXIxbiFyIXMhNlghcyNzMW4jcyRmKlYkZjsnUzFuOydTOz1gM1A8JWw/QWgxbj9BaD9CWSpWP0JZP01uMW4/TW5PKlYhViE2YmRmUyFhYCFjcE9xKlZxcjFucnMoVnN2MW52dzBwd3gpZXghUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEhZzFuIWchaCE3cCFoI3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWITd5Y2ZTIWFgIWNwT3EhOVVxciE3cHJzITl7c3YhN3B2dyE9c3d4ITtveCFQITdwIVAhUSE5VSFRIV8hN3AhXyFgITlVIWAhYSE8fSFhI3MhN3AjcyRmITlVJGY7J1MhN3A7J1M7PWAhP1c8JWw/QWghN3A/QWg/QlkhOVU/Qlk/TW4hN3A/TW5PITlVIVIhOV1ZIWFgIWNwT3IhOVVycyE5e3N2ITlVdnchOmd3eCE7b3ghYCE5VSFgIWEhPH0hYTsnUyE5VTsnUzs9YCE9bTwlbE8hOVVxITpRViFjcE92ITl7dnghOmd4IWAhOXshYCFhITtVIWE7J1MhOXs7J1M7PWAhO2k8JWxPITl7UCE6alRPIWAhOmchYCFhITp5IWE7J1MhOmc7J1M7PWAhO088JWxPITpnUCE7T097UFAhO1JQOz1gPCVsITpncSE7XVMhY3B7UE92KFZ4OydTKFY7J1M7PWAoaDwlbE8oVnEhO2xQOz1gPCVsITl7YSE7dFghYWBPciE7b3JzITpnc3YhO292dyE6Z3chYCE7byFgIWEhPGEhYTsnUyE7bzsnUzs9YCE8dzwlbE8hO29hITxoVCFhYHtQT3IpZXN2KWV3OydTKWU7J1M7PWApeTwlbE8pZWEhPHpQOz1gPCVsITtvIVIhPVdWIWFgIWNwe1BPcipWcnMoVnN2KlZ3eClleDsnUypWOydTOz1gKnM8JWxPKlYhUiE9cFA7PWA8JWwhOVVUIT14YmZTT3EhOmdxciE9c3JzITpnc3chPXN3eCE6Z3ghUCE9cyFQIVEhOmchUSFfIT1zIV8hYCE6ZyFgIWEhOnkhYSNzIT1zI3MkZiE6ZyRmOydTIT1zOydTOz1gIT9RPCVsP0FoIT1zP0FoP0JZITpnP0JZP01uIT1zP01uTyE6Z1QhP1RQOz1gPCVsIT1zIVYhP1pQOz1gPCVsITdwIVYhP2dkZlMhYWAhY3BPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4IVAxbiFQIVEqViFRIV8xbiFfIWEqViFhI2MxbiNjI2QhQHUjZCNzMW4jcyRmKlYkZjsnUzFuOydTOz1gM1A8JWw/QWgxbj9BaD9CWSpWP0JZP01uMW4/TW5PKlYhViFBT2RmUyFhYCFjcE9xKlZxcjFucnMoVnN2MW52dzBwd3gpZXghUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEjVjFuI1YjVyFCXiNXI3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWIUJnZGZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleCFQMW4hUCFRKlYhUSFfMW4hXyFhKlYhYSNoMW4jaCNpIUN1I2kjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhRE9kZlMhYWAhY3BPcSpWcXIxbnJzKFZzdjFudncwcHd4KWV4IVAxbiFQIVEqViFRIV8xbiFfIWEqViFhI20xbiNtI24hRV4jbiNzMW4jcyRmKlYkZjsnUzFuOydTOz1gM1A8JWw/QWgxbj9BaD9CWSpWP0JZP01uMW4/TW5PKlYhViFFZ2RmUyFhYCFjcE9xKlZxcjFucnMoVnN2MW52dzBwd3gpZXghUDFuIVAhUSpWIVEhXzFuIV8hYSpWIWEjZDFuI2QjZSFGdSNlI3MxbiNzJGYqViRmOydTMW47J1M7PWAzUDwlbD9BaDFuP0FoP0JZKlY/Qlk/TW4xbj9Nbk8qViFWIUdPZGZTIWFgIWNwT3EqVnFyMW5ycyhWc3YxbnZ3MHB3eClleCFQMW4hUCFRKlYhUSFfMW4hXyFhKlYhYSNYMW4jWCNZITdwI1kjczFuI3MkZipWJGY7J1MxbjsnUzs9YDNQPCVsP0FoMW4/QWg/QlkqVj9CWT9NbjFuP01uTypWIVYhSGdjZlMhYWAhY3BPcSFJcnFyIUhecnMhSmlzdiFIXnZ3IyF2d3ghTVp4IVAhSF4hUCFRIUlyIVEhXyFIXiFfIWEhSXIhYSFiIyVoIWIjcyFIXiNzJGYhSXIkZjsnUyFIXjsnUzs9YCMmfDwlbD9BaCFIXj9BaD9CWSFJcj9CWT9NbiFIXj9Nbk8hSXIhUiFJeVkhYWAhY3BPciFJcnJzIUppc3YhSXJ2dyFLVHd4IU1aeCFhIUlyIWEhYiMgWiFiOydTIUlyOydTOz1gIyFwPCVsTyFJcnEhSm5WIWNwT3YhSml2eCFLVHghYSFKaSFhIWIhTFUhYjsnUyFKaTsnUzs9YCFNVDwlbE8hSmlQIUtXVE8hYSFLVCFhIWIhS2chYjsnUyFLVDsnUzs9YCFMTzwlbE8hS1RQIUtqVE8hYCFLVCFgIWEhS3khYTsnUyFLVDsnUzs9YCFMTzwlbE8hS1RQIUxPT3hQUCFMUlA7PWA8JWwhS1RxIUxaViFjcE92IUppdnghS1R4IWAhSmkhYCFhIUxwIWE7J1MhSmk7J1M7PWAhTVQ8JWxPIUppcSFMd1MhY3B4UE92KFZ4OydTKFY7J1M7PWAoaDwlbE8oVnEhTVdQOz1gPCVsIUppYSFNYFghYWBPciFNWnJzIUtUc3YhTVp2dyFLVHchYSFNWiFhIWIhTXshYjsnUyFNWjsnUzs9YCMgVDwlbE8hTVphIU5RWCFhYE9yIU1acnMhS1RzdiFNWnZ3IUtUdyFgIU1aIWAhYSFObSFhOydTIU1aOydTOz1gIyBUPCVsTyFNWmEhTnRUIWFgeFBPcillc3YpZXc7J1MpZTsnUzs9YCl5PCVsTyllYSMgV1A7PWA8JWwhTVohUiMgYlkhYWAhY3BPciFJcnJzIUppc3YhSXJ2dyFLVHd4IU1aeCFgIUlyIWAhYSMhUSFhOydTIUlyOydTOz1gIyFwPCVsTyFJciFSIyFaViFhYCFjcHhQT3IqVnJzKFZzdipWd3gpZXg7J1MqVjsnUzs9YCpzPCVsTypWIVIjIXNQOz1gPCVsIUlyVCMhe2JmU09xIUtUcXIjIXZycyFLVHN3IyF2d3ghS1R4IVAjIXYhUCFRIUtUIVEhXyMhdiFfIWEhS1QhYSFiIyRUIWIjcyMhdiNzJGYhS1QkZjsnUyMhdjsnUzs9YCMlYjwlbD9BaCMhdj9BaD9CWSFLVD9CWT9NbiMhdj9Nbk8hS1RUIyRZYmZTT3EhS1RxciMhdnJzIUtUc3cjIXZ3eCFLVHghUCMhdiFQIVEhS1QhUSFfIyF2IV8hYCFLVCFgIWEhS3khYSNzIyF2I3MkZiFLVCRmOydTIyF2OydTOz1gIyViPCVsP0FoIyF2P0FoP0JZIUtUP0JZP01uIyF2P01uTyFLVFQjJWVQOz1gPCVsIyF2IVYjJXFjZlMhYWAhY3BPcSFJcnFyIUhecnMhSmlzdiFIXnZ3IyF2d3ghTVp4IVAhSF4hUCFRIUlyIVEhXyFIXiFfIWAhSXIhYCFhIyFRIWEjcyFIXiNzJGYhSXIkZjsnUyFIXjsnUzs9YCMmfDwlbD9BaCFIXj9BaD9CWSFJcj9CWT9NbiFIXj9Nbk8hSXIhViMnUFA7PWA8JWwhSF4hViMnX1hnU15QIWFgIWNwT3ImWHJzJn1zdiZYd3godHghXiZYIV4hXypWIV87J1MmWDsnUzs9YCp5PCVsTyZYIVgjKFZYXlAhYWAhY3BqVU9yJlhycyZ9c3YmWHd4KHR4IV4mWCFeIV8qViFfOydTJlg7J1M7PWAqeTwlbE8mWFwiLFxuICB0b2tlbml6ZXJzOiBbc2NyaXB0VG9rZW5zLCBzdHlsZVRva2VucywgdGV4dGFyZWFUb2tlbnMsIHRhZ1N0YXJ0LCBjb21tZW50Q29udGVudCwgMCwgMSwgMiwgMywgNCwgNV0sXG4gIHRvcFJ1bGVzOiB7XCJEb2N1bWVudFwiOlswLDEzXX0sXG4gIGRpYWxlY3RzOiB7bm9NYXRjaDogMCwgc2VsZkNsb3Npbmc6IDQ4NX0sXG4gIHRva2VuUHJlYzogNDg3XG59KTtcblxuZnVuY3Rpb24gZ2V0QXR0cnMoZWxlbWVudCwgaW5wdXQpIHtcbiAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChsZXQgYXR0IG9mIGVsZW1lbnQuZmlyc3RDaGlsZC5nZXRDaGlsZHJlbihcIkF0dHJpYnV0ZVwiKSkge1xuICAgIGxldCBuYW1lID0gYXR0LmdldENoaWxkKFwiQXR0cmlidXRlTmFtZVwiKSwgdmFsdWUgPSBhdHQuZ2V0Q2hpbGQoXCJBdHRyaWJ1dGVWYWx1ZVwiKSB8fCBhdHQuZ2V0Q2hpbGQoXCJVbnF1b3RlZEF0dHJpYnV0ZVZhbHVlXCIpO1xuICAgIGlmIChuYW1lKSBhdHRyc1tpbnB1dC5yZWFkKG5hbWUuZnJvbSwgbmFtZS50byldID1cbiAgICAgICF2YWx1ZSA/IFwiXCIgOiB2YWx1ZS5uYW1lID09IFwiQXR0cmlidXRlVmFsdWVcIiA/IGlucHV0LnJlYWQodmFsdWUuZnJvbSArIDEsIHZhbHVlLnRvIC0gMSkgOiBpbnB1dC5yZWFkKHZhbHVlLmZyb20sIHZhbHVlLnRvKTtcbiAgfVxuICByZXR1cm4gYXR0cnNcbn1cblxuZnVuY3Rpb24gbWF5YmVOZXN0KG5vZGUsIGlucHV0LCB0YWdzKSB7XG4gIGxldCBhdHRycztcbiAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICBpZiAoIXRhZy5hdHRycyB8fCB0YWcuYXR0cnMoYXR0cnMgfHwgKGF0dHJzID0gZ2V0QXR0cnMobm9kZS5ub2RlLnBhcmVudCwgaW5wdXQpKSkpXG4gICAgICByZXR1cm4ge3BhcnNlcjogdGFnLnBhcnNlcn1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuXG4vLyB0YWdzOiB7XG4vLyAgIHRhZzogXCJzY3JpcHRcIiB8IFwic3R5bGVcIiB8IFwidGV4dGFyZWFcIixcbi8vICAgYXR0cnM/OiAoe1thdHRyOiBzdHJpbmddOiBzdHJpbmd9KSA9PiBib29sZWFuLFxuLy8gICBwYXJzZXI6IFBhcnNlclxuLy8gfVtdXG4gXG5mdW5jdGlvbiBjb25maWd1cmVOZXN0aW5nKHRhZ3MpIHtcbiAgbGV0IHNjcmlwdCA9IFtdLCBzdHlsZSA9IFtdLCB0ZXh0YXJlYSA9IFtdO1xuICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgIGxldCBhcnJheSA9IHRhZy50YWcgPT0gXCJzY3JpcHRcIiA/IHNjcmlwdCA6IHRhZy50YWcgPT0gXCJzdHlsZVwiID8gc3R5bGUgOiB0YWcudGFnID09IFwidGV4dGFyZWFcIiA/IHRleHRhcmVhIDogbnVsbDtcbiAgICBpZiAoIWFycmF5KSB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk9ubHkgc2NyaXB0LCBzdHlsZSwgYW5kIHRleHRhcmVhIHRhZ3MgY2FuIGhvc3QgbmVzdGVkIHBhcnNlcnNcIilcbiAgICBhcnJheS5wdXNoKHRhZyk7XG4gIH1cbiAgcmV0dXJuIHBhcnNlTWl4ZWQoKG5vZGUsIGlucHV0KSA9PiB7XG4gICAgbGV0IGlkID0gbm9kZS50eXBlLmlkO1xuICAgIGlmIChpZCA9PSBTY3JpcHRUZXh0KSByZXR1cm4gbWF5YmVOZXN0KG5vZGUsIGlucHV0LCBzY3JpcHQpXG4gICAgaWYgKGlkID09IFN0eWxlVGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgc3R5bGUpXG4gICAgaWYgKGlkID09IFRleHRhcmVhVGV4dCkgcmV0dXJuIG1heWJlTmVzdChub2RlLCBpbnB1dCwgdGV4dGFyZWEpXG4gICAgcmV0dXJuIG51bGxcbiAgfSlcbn1cblxuZXhwb3J0IHsgY29uZmlndXJlTmVzdGluZywgcGFyc2VyIH07XG4iLCAiaW1wb3J0IHsgRXh0ZXJuYWxUb2tlbml6ZXIsIExSUGFyc2VyIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IGRlc2NlbmRhbnRPcCA9IDkzLFxuICBVbml0ID0gMSxcbiAgY2FsbGVlID0gOTQsXG4gIGlkZW50aWZpZXIgPSA5NSxcbiAgVmFyaWFibGVOYW1lID0gMjtcblxuLyogSGFuZC13cml0dGVuIHRva2VuaXplcnMgZm9yIENTUyB0b2tlbnMgdGhhdCBjYW4ndCBiZVxuICAgZXhwcmVzc2VkIGJ5IExlemVyJ3MgYnVpbHQtaW4gdG9rZW5pemVyLiAqL1xuXG5jb25zdCBzcGFjZSA9IFs5LCAxMCwgMTEsIDEyLCAxMywgMzIsIDEzMywgMTYwLCA1NzYwLCA4MTkyLCA4MTkzLCA4MTk0LCA4MTk1LCA4MTk2LCA4MTk3LFxuICAgICAgICAgICAgICAgODE5OCwgODE5OSwgODIwMCwgODIwMSwgODIwMiwgODIzMiwgODIzMywgODIzOSwgODI4NywgMTIyODhdO1xuY29uc3QgY29sb24gPSA1OCwgcGFyZW5MID0gNDAsIHVuZGVyc2NvcmUgPSA5NSwgYnJhY2tldEwgPSA5MSwgZGFzaCA9IDQ1LCBwZXJpb2QgPSA0NixcbiAgICAgIGhhc2ggPSAzNSwgcGVyY2VudCA9IDM3O1xuXG5mdW5jdGlvbiBpc0FscGhhKGNoKSB7IHJldHVybiBjaCA+PSA2NSAmJiBjaCA8PSA5MCB8fCBjaCA+PSA5NyAmJiBjaCA8PSAxMjIgfHwgY2ggPj0gMTYxIH1cblxuZnVuY3Rpb24gaXNEaWdpdChjaCkgeyByZXR1cm4gY2ggPj0gNDggJiYgY2ggPD0gNTcgfVxuXG5jb25zdCBpZGVudGlmaWVycyA9IG5ldyBFeHRlcm5hbFRva2VuaXplcigoaW5wdXQsIHN0YWNrKSA9PiB7XG4gIGZvciAobGV0IGluc2lkZSA9IGZhbHNlLCBkYXNoZXMgPSAwLCBpID0gMDs7IGkrKykge1xuICAgIGxldCB7bmV4dH0gPSBpbnB1dDtcbiAgICBpZiAoaXNBbHBoYShuZXh0KSB8fCBuZXh0ID09IGRhc2ggfHwgbmV4dCA9PSB1bmRlcnNjb3JlIHx8IChpbnNpZGUgJiYgaXNEaWdpdChuZXh0KSkpIHtcbiAgICAgIGlmICghaW5zaWRlICYmIChuZXh0ICE9IGRhc2ggfHwgaSA+IDApKSBpbnNpZGUgPSB0cnVlO1xuICAgICAgaWYgKGRhc2hlcyA9PT0gaSAmJiBuZXh0ID09IGRhc2gpIGRhc2hlcysrO1xuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5zaWRlKVxuICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbihuZXh0ID09IHBhcmVuTCA/IGNhbGxlZSA6IGRhc2hlcyA9PSAyICYmIHN0YWNrLmNhblNoaWZ0KFZhcmlhYmxlTmFtZSkgPyBWYXJpYWJsZU5hbWUgOiBpZGVudGlmaWVyKTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59KTtcblxuY29uc3QgZGVzY2VuZGFudCA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGlmIChzcGFjZS5pbmNsdWRlcyhpbnB1dC5wZWVrKC0xKSkpIHtcbiAgICBsZXQge25leHR9ID0gaW5wdXQ7XG4gICAgaWYgKGlzQWxwaGEobmV4dCkgfHwgbmV4dCA9PSB1bmRlcnNjb3JlIHx8IG5leHQgPT0gaGFzaCB8fCBuZXh0ID09IHBlcmlvZCB8fFxuICAgICAgICBuZXh0ID09IGJyYWNrZXRMIHx8IG5leHQgPT0gY29sb24gfHwgbmV4dCA9PSBkYXNoKVxuICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oZGVzY2VuZGFudE9wKTtcbiAgfVxufSk7XG5cbmNvbnN0IHVuaXRUb2tlbiA9IG5ldyBFeHRlcm5hbFRva2VuaXplcihpbnB1dCA9PiB7XG4gIGlmICghc3BhY2UuaW5jbHVkZXMoaW5wdXQucGVlaygtMSkpKSB7XG4gICAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICAgIGlmIChuZXh0ID09IHBlcmNlbnQpIHsgaW5wdXQuYWR2YW5jZSgpOyBpbnB1dC5hY2NlcHRUb2tlbihVbml0KTsgfVxuICAgIGlmIChpc0FscGhhKG5leHQpKSB7XG4gICAgICBkbyB7IGlucHV0LmFkdmFuY2UoKTsgfSB3aGlsZSAoaXNBbHBoYShpbnB1dC5uZXh0KSlcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKFVuaXQpO1xuICAgIH1cbiAgfVxufSk7XG5cbmNvbnN0IGNzc0hpZ2hsaWdodGluZyA9IHN0eWxlVGFncyh7XG4gIFwiQXRLZXl3b3JkIGltcG9ydCBjaGFyc2V0IG5hbWVzcGFjZSBrZXlmcmFtZXMgbWVkaWEgc3VwcG9ydHNcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJmcm9tIHRvIHNlbGVjdG9yXCI6IHRhZ3Mua2V5d29yZCxcbiAgTmFtZXNwYWNlTmFtZTogdGFncy5uYW1lc3BhY2UsXG4gIEtleWZyYW1lTmFtZTogdGFncy5sYWJlbE5hbWUsXG4gIFRhZ05hbWU6IHRhZ3MudGFnTmFtZSxcbiAgQ2xhc3NOYW1lOiB0YWdzLmNsYXNzTmFtZSxcbiAgUHNldWRvQ2xhc3NOYW1lOiB0YWdzLmNvbnN0YW50KHRhZ3MuY2xhc3NOYW1lKSxcbiAgSWROYW1lOiB0YWdzLmxhYmVsTmFtZSxcbiAgXCJGZWF0dXJlTmFtZSBQcm9wZXJ0eU5hbWVcIjogdGFncy5wcm9wZXJ0eU5hbWUsXG4gIEF0dHJpYnV0ZU5hbWU6IHRhZ3MuYXR0cmlidXRlTmFtZSxcbiAgTnVtYmVyTGl0ZXJhbDogdGFncy5udW1iZXIsXG4gIEtleXdvcmRRdWVyeTogdGFncy5rZXl3b3JkLFxuICBVbmFyeVF1ZXJ5T3A6IHRhZ3Mub3BlcmF0b3JLZXl3b3JkLFxuICBcIkNhbGxUYWcgVmFsdWVOYW1lXCI6IHRhZ3MuYXRvbSxcbiAgVmFyaWFibGVOYW1lOiB0YWdzLnZhcmlhYmxlTmFtZSxcbiAgQ2FsbGVlOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgVW5pdDogdGFncy51bml0LFxuICBcIlVuaXZlcnNhbFNlbGVjdG9yIE5lc3RpbmdTZWxlY3RvclwiOiB0YWdzLmRlZmluaXRpb25PcGVyYXRvcixcbiAgTWF0Y2hPcDogdGFncy5jb21wYXJlT3BlcmF0b3IsXG4gIFwiQ2hpbGRPcCBTaWJsaW5nT3AsIExvZ2ljT3BcIjogdGFncy5sb2dpY09wZXJhdG9yLFxuICBCaW5PcDogdGFncy5hcml0aG1ldGljT3BlcmF0b3IsXG4gIEltcG9ydGFudDogdGFncy5tb2RpZmllcixcbiAgQ29tbWVudDogdGFncy5ibG9ja0NvbW1lbnQsXG4gIFBhcmVudGhlc2l6ZWRDb250ZW50OiB0YWdzLnNwZWNpYWwodGFncy5uYW1lKSxcbiAgQ29sb3JMaXRlcmFsOiB0YWdzLmNvbG9yLFxuICBTdHJpbmdMaXRlcmFsOiB0YWdzLnN0cmluZyxcbiAgXCI6XCI6IHRhZ3MucHVuY3R1YXRpb24sXG4gIFwiUHNldWRvT3AgI1wiOiB0YWdzLmRlcmVmT3BlcmF0b3IsXG4gIFwiOyAsXCI6IHRhZ3Muc2VwYXJhdG9yLFxuICBcIiggKVwiOiB0YWdzLnBhcmVuLFxuICBcIlsgXVwiOiB0YWdzLnNxdWFyZUJyYWNrZXQsXG4gIFwieyB9XCI6IHRhZ3MuYnJhY2Vcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHNwZWNfY2FsbGVlID0ge19fcHJvdG9fXzpudWxsLGxhbmc6MzIsIFwibnRoLWNoaWxkXCI6MzIsIFwibnRoLWxhc3QtY2hpbGRcIjozMiwgXCJudGgtb2YtdHlwZVwiOjMyLCBcIm50aC1sYXN0LW9mLXR5cGVcIjozMiwgZGlyOjMyLCBcImhvc3QtY29udGV4dFwiOjMyLCB1cmw6NjAsIFwidXJsLXByZWZpeFwiOjYwLCBkb21haW46NjAsIHJlZ2V4cDo2MCwgc2VsZWN0b3I6MTM0fTtcbmNvbnN0IHNwZWNfQXRLZXl3b3JkID0ge19fcHJvdG9fXzpudWxsLFwiQGltcG9ydFwiOjExNCwgXCJAbWVkaWFcIjoxMzgsIFwiQGNoYXJzZXRcIjoxNDIsIFwiQG5hbWVzcGFjZVwiOjE0NiwgXCJAa2V5ZnJhbWVzXCI6MTUyLCBcIkBzdXBwb3J0c1wiOjE2NH07XG5jb25zdCBzcGVjX2lkZW50aWZpZXIgPSB7X19wcm90b19fOm51bGwsbm90OjEyOCwgb25seToxMjgsIGZyb206MTU4LCB0bzoxNjB9O1xuY29uc3QgcGFyc2VyID0gTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIjdXT1lRW09PT09RUCcjQ2QnI0NkT09RUCcjQ2MnI0NjTyFaUVtPJyNDZk8hfVFYTycjQ2FPI1VRW08nI0NoTyNhUVtPJyNEUE8jZlFbTycjRFRPT1FQJyNFYycjRWNPI2tRZE8nI0RlTyRWUVtPJyNEck8ja1FkTycjRHRPJGhRW08nI0R2TyRzUVtPJyNEeU8keFFbTycjRVBPJVdRW08nI0VST09RUycjRWInI0ViT09RUycjRVMnI0VTUVlRW09PT09RUCcjQ2cnI0NnT09RUCw1OVEsNTlRTyFaUVtPLDU5UU8lX1FbTycjRVZPJXlRV08sNTh7TyZSUVtPLDU5U08jYVFbTyw1OWtPI2ZRW08sNTlvTyVfUVtPLDU5c08lX1FbTyw1OXVPJV9RW08sNTl2TydiUVtPJyNEYE9PUVMsNTh7LDU4e09PUVAnI0NrJyNDa09PUU8nI0N9JyNDfU9PUVAsNTlTLDU5U08naVFXTyw1OVNPJ25RV08sNTlTT09RUCcjRFInI0RST09RUCw1OWssNTlrT09RTycjRFYnI0RWTydzUWBPLDU5b09PUVMnI0NwJyNDcE8ja1FkTycjQ3FPJ3tRdk8nI0NzTylWUXRPLDU6UE9PUU8nI0N4JyNDeE8nblFXTycjQ3dPKWtRV08nI0N5T09RUycjRWYnI0VmT09RTycjRGgnI0RoTylwUVtPJyNEb08qT1FXTycjRWlPJHhRW08nI0RtTypeUVdPJyNEcE9PUU8nI0VqJyNFak8lfFFXTyw1Ol5PKmNRcE8sNTpgT09RUycjRHgnI0R4TyprUVdPLDU6Yk8qcFFbTyw1OmJPT1FPJyNEeycjRHtPKnhRV08sNTplTyp9UVdPLDU6a08rVlFXTyw1Om1PT1FTLUU4US1FOFFPT1FQMUcubDFHLmxPK3lRWE8sNTpxT09RTy1FOFQtRThUT09RUzFHLmcxRy5nT09RUDFHLm4xRy5uTydpUVdPMUcubk8nblFXTzFHLm5PT1FQMUcvVjFHL1ZPLFdRYE8xRy9aTyxxUVhPMUcvX08tWFFYTzFHL2FPLW9RWE8xRy9iTy5WUVhPJyNDZE8uelFXTycjRGFPT1FTLDU5eiw1OXpPL1BRV08sNTl6Ty9YUVtPLDU5ek8vYFFbTycjRE9PL2dRZE8nI0NvT09RUDFHL1oxRy9aTyNrUWRPMUcvWk8vblFwTyw1OV1PT1FTLDU5Xyw1OV9PI2tRZE8sNTlhTy92UVdPMUcva09PUVMsNTljLDU5Y08ve1EhYk8sNTllTzBUUVdPJyNEaE8wYFFXTyw1OlRPMGVRV08sNTpaTyR4UVtPLDU6Vk8keFFbTycjRVlPMG1RV08sNTtUTzB4UVdPLDU6WE8lX1FbTyw1OltPT1FTMUcveDFHL3hPT1FTMUcvejFHL3pPT1FTMUcvfDFHL3xPMVpRV08xRy98TzFgUWRPJyNEfE9PUVMxRzBQMUcwUE9PUVMxRzBWMUcwVk9PUVMxRzBYMUcwWE9PUVA3KyRZNyskWU9PUVA3KyR1NyskdU8ja1FkTzcrJHVPI2tRZE8sNTl7TzFuUVtPJyNFWE8xeFFXTzFHL2ZPT1FTMUcvZjFHL2ZPMXhRV08xRy9mTzJRUVhPJyNFaE8yWFFXTyw1OWpPMl5RdE8nI0VUTzNSUWRPJyNFZU8zXVFXTyw1OVpPM2JRcE83KyR1T09RUzFHLncxRy53T09RUzFHLnsxRy57T09RUzcrJVY3KyVWTzNqUVdPMUcvUE8ja1FkTzFHL29PT1FPMUcvdTFHL3VPT1FPMUcvcTFHL3FPM29RV08sNTp0T09RTy1FOFctRThXTzN9UVhPMUcvdk9PUVM3KyVoNyslaE80VVFZTycjQ3NPJXxRV08nI0VaTzReUWRPLDU6aE9PUVMsNTpoLDU6aE80bFFwTzw8SGFPNHRRdE8xRy9nT09RTyw1OnMsNTpzTzVYUVtPLDU6c09PUU8tRThWLUU4Vk9PUVM3KyVRNyslUU81Y1FXTzcrJVFPNWtRV08sNTtTT09RUDFHL1UxRy9VT09RUy1FOFItRThSTyNrUWRPJyNFVU81c1FXTyw1O1BPT1FUMUcudTFHLnVPT1FQPDxIYTw8SGFPT1FTNyskazcrJGtPNXtRZE83KyVaT09RTzcrJWI3KyViT09RUyw1OnUsNTp1T09RUy1FOFgtRThYT09RUzFHMFMxRzBTT09RUEFOPXtBTj17TzZTUXRPJyNFV08ja1FkTycjRVdPNn1RZE83KyVST09RTzcrJVI3KyVST09RTzFHMF8xRzBfT09RUzw8SGw8PEhsTzdfUWRPLDU6cE9PUU8tRThTLUU4U09PUU88PEh1PDxIdU83aVF0Tyw1OnJPT1FTLUU4VS1FOFVPT1FPPDxIbTw8SG1cIixcbiAgc3RhdGVEYXRhOiBcIjhqfk8jVE9TUk9Tfk9VV09YV09dVE9eVE90VU94Vk8hWV9PIVpYTyFnWU8haVpPIWtbTyFuXU8hdF5PI1JQTyNXUk9+TyNSY09+T11oT15oT3BmT3RpT3hqT3xrTyFQbU8jUGxPI1dlT35PIVJuT35QIWBPYHRPI1FxTyNScE9+TyNSdU9+TyNSd09+T1EhUU9iek9mIVFPaCFRT24hUE8jUX1PI1J5TyNae09+T2IhU08hYiFVTyFlIVZPI1IhUk8hUiNdUH5PaCFbT24hUE8jUiFaT35PI1IhXk9+T2IhU08hYiFVTyFlIVZPI1IhUk9+TyFXI11QflAkVk9VV09YV09dVE9eVE90VU94Vk8jUlBPI1dST35PcGZPIVJuT35PYCFpTyNRcU8jUnBPfk9RIXBPVVdPWFdPXVRPXlRPdFVPeFZPIVlfTyFaWE8hZ1lPIWlaTyFrW08hbl1PIXReTyNSIW9PI1dST35PIVEhcU9+UCZeT2IhdE9+T2IhdU9+T3Yhdk96IXdPfk9QIXlPYmdYamdYIVdnWCFiZ1ghZWdYI1JnWGFnWFFnWGZnWGhnWG5nWHBnWCNRZ1gjWmdYdmdYIVFnWCFWZ1h+T2IhU09qIXpPIWIhVU8hZSFWTyNSIVJPIVcjXVB+T2IhfU9+T2IhU08hYiFVTyFlIVZPI1IjT09+T3AjU08hYCNSTyFSI11YIVcjXVh+T2IjVk9+T2ohek8hVyNYT35PIVcjWU9+T2gjWk9uIVBPfk8hUiNbT35PIVJuTyFgI1JPfk8hUm5PIVcjX09+T11oT15oT3RpT3hqT3xrTyFQbU8jUGxPI1dlT35PcCF5YSFSIXlhYSF5YX5QK19PdiNhT3ojYk9+T11oT15oT3RpT3hqTyNXZU9+T3B7aXx7aSFQe2khUntpI1B7aWF7aX5QLGBPcH1pfH1pIVB9aSFSfWkjUH1pYX1pflAsYE9wIU9pfCFPaSFQIU9pIVIhT2kjUCFPaWEhT2l+UCxgT11XWF0hVVheV1hwV1h0V1h4V1h8V1ghUFdYIVJXWCNQV1gjV1dYfk9dI2NPfk8hUSNmTyFXI2RPfk8hUSNmT35QJl5PYSNbUH5QJV9PYSNYUH5QI2tPYSNuT2ohek9+TyFXI3BPfk9oI3FPbyNxT35PXSFeWGEhW1ghYCFbWH5PXSNyT35PYSNzTyFgI1JPfk9wI1NPIVIjXWEhVyNdYX5PIWAjUk9wIWFhIVIhYWEhVyFhYWEhYWF+TyFXI3hPfk8hUSN8TyFxI3pPIXIjek8jWiN5T35PIVEhe1ghVyF7WH5QJl5PIVEkU08hVyNkT35PYSNbWH5QIWBPYSRWT35PaiF6T1Ehd1hhIXdYYiF3WGYhd1hoIXdYbiF3WHAhd1gjUSF3WCNSIXdYI1ohd1h+T3AkWE9hI1hYflAja09hJFpPfk9qIXpPdiRbT35PYSRdT35PIWAjUk9wIXxhIVIhfGEhVyF8YX5PYSRfT35QK19PUCF5TyFSZ1h+TyFRJGJPIXEjek8hciN6TyNaI3lPfk9qIXpPdiRjT35PaiF6T3AkZU8hViRnTyFRIVRpIVchVGl+UCNrTyFRIXthIVche2F+UCZeTyFRJGlPIVcjZE9+T3BmT2EjW2F+T3AkWE9hI1hhfk9hJGxPflAja09qIXpPUSF6WGIhelhmIXpYaCF6WG4helhwIXpYIVEhelghViF6WCFXIXpYI1EhelgjUiF6WCNaIXpYfk9wJGVPIVYkb08hUSFUcSFXIVRxflAja09hIXhhcCF4YX5QI2tPaiF6T1EhemFiIXphZiF6YWghemFuIXphcCF6YSFRIXphIVYhemEhVyF6YSNRIXphI1IhemEjWiF6YX5PbyNaaiFQan5cIixcbiAgZ290bzogXCIsTyNfUFBQUFAjYFAjaCN2UCNoJFUjaFBQJFtQUFAkYiRrJGtQJH1QJGtQJGslZSV3UFBQJmEmZyNoUCZtUCNoUCZzUCNoUCNoI2hQUFAmeSddJ2lQUCNgUFAnbydvJ3knb1Anb1AnbydvUCNgUCNgUCNgUCd8I2BQKFAoU1BQI2BQI2AoVihlKHMoeSlUKVopZSlrUFBQUFBQKXEpeVAqZSpoUCteK2Eral1gT2JuIXMjZCRRaVdPYmZrbG1uIXMhdCNWI2QkUWlRT2Jma2xtbiFzIXQjViNkJFFRZFJSIWNlUXJUUiFnaFEhZ3RRIXwhT1IjYCFpcSFRWFp6IXUhdyF6I2IjYyNrI3IkTyRYJF4kZSRmJGpwIVFYWnohdSF3IXojYiNjI2sjciRPJFgkXiRlJGYkalQjeiNbI3txIU9YWnohdSF3IXojYiNjI2sjciRPJFgkXiRlJGYkanAhUVhaeiF1IXcheiNiI2MjayNyJE8kWCReJGUkZiRqUSFbW1IjWiFdUXNUUiFoaFEhZ3NSI2AhaFF2VVIhamlReFZSIWtqUW9TUSFmZ1EjVyFYUSNeIWBRI18hYVIkYCN6USFyblEjZyFzUSRQI2RSJGgkUVghcG4hcyNkJFFhIVdZXl98IVMhVSNSI1NSI1AhU1IhXVtSIV9dUiNdIV9RYk9VIWJiIXMkUVEhc25SJFEjZFEjayF1VSRXI2skXiRqUSReI3JSJGokWFEkWSNrUiRrJFlRZ1NTIWVnJFVSJFUjaFEkZiRPUiRuJGZRI2UhclMkUiNlJFRSJFQjZ1EjVCFUUiN2I1RRI3sjW1IkYSN7XWFPYm4hcyNkJFFbU09ibiFzI2QkUVEhZGZRIWxrUSFtbFEhbm1RI2ghdFIjdyNWUiNsIXVRfFhRIVlaUSF4elsjaiF1I2sjciRYJF4kalEjbSF3USNvIXpRI30jYlEkTyNjUyRkJE8kZlIkbSRlUiNpIXRRIVhZUSFhX1Ihe3xVIVRZX3xRIWBeUSNRIVNRI1UhVVEjdCNSUiN1I1NcIixcbiAgbm9kZU5hbWVzOiBcIlx1MjZBMCBVbml0IFZhcmlhYmxlTmFtZSBDb21tZW50IFN0eWxlU2hlZXQgUnVsZVNldCBVbml2ZXJzYWxTZWxlY3RvciBUYWdTZWxlY3RvciBUYWdOYW1lIE5lc3RpbmdTZWxlY3RvciBDbGFzc1NlbGVjdG9yIENsYXNzTmFtZSBQc2V1ZG9DbGFzc1NlbGVjdG9yIDogOjogUHNldWRvQ2xhc3NOYW1lIFBzZXVkb0NsYXNzTmFtZSApICggQXJnTGlzdCBWYWx1ZU5hbWUgUGFyZW50aGVzaXplZFZhbHVlIENvbG9yTGl0ZXJhbCBOdW1iZXJMaXRlcmFsIFN0cmluZ0xpdGVyYWwgQmluYXJ5RXhwcmVzc2lvbiBCaW5PcCBDYWxsRXhwcmVzc2lvbiBDYWxsZWUgQ2FsbExpdGVyYWwgQ2FsbFRhZyBQYXJlbnRoZXNpemVkQ29udGVudCAsIFBzZXVkb0NsYXNzTmFtZSBBcmdMaXN0IElkU2VsZWN0b3IgIyBJZE5hbWUgXSBBdHRyaWJ1dGVTZWxlY3RvciBbIEF0dHJpYnV0ZU5hbWUgTWF0Y2hPcCBDaGlsZFNlbGVjdG9yIENoaWxkT3AgRGVzY2VuZGFudFNlbGVjdG9yIFNpYmxpbmdTZWxlY3RvciBTaWJsaW5nT3AgfSB7IEJsb2NrIERlY2xhcmF0aW9uIFByb3BlcnR5TmFtZSBJbXBvcnRhbnQgOyBJbXBvcnRTdGF0ZW1lbnQgQXRLZXl3b3JkIGltcG9ydCBLZXl3b3JkUXVlcnkgRmVhdHVyZVF1ZXJ5IEZlYXR1cmVOYW1lIEJpbmFyeVF1ZXJ5IExvZ2ljT3AgVW5hcnlRdWVyeSBVbmFyeVF1ZXJ5T3AgUGFyZW50aGVzaXplZFF1ZXJ5IFNlbGVjdG9yUXVlcnkgc2VsZWN0b3IgTWVkaWFTdGF0ZW1lbnQgbWVkaWEgQ2hhcnNldFN0YXRlbWVudCBjaGFyc2V0IE5hbWVzcGFjZVN0YXRlbWVudCBuYW1lc3BhY2UgTmFtZXNwYWNlTmFtZSBLZXlmcmFtZXNTdGF0ZW1lbnQga2V5ZnJhbWVzIEtleWZyYW1lTmFtZSBLZXlmcmFtZUxpc3QgZnJvbSB0byBTdXBwb3J0c1N0YXRlbWVudCBzdXBwb3J0cyBBdFJ1bGVcIixcbiAgbWF4VGVybTogMTA2LFxuICBub2RlUHJvcHM6IFtcbiAgICBbXCJvcGVuZWRCeVwiLCAxNyxcIihcIiw0OCxcIntcIl0sXG4gICAgW1wiY2xvc2VkQnlcIiwgMTgsXCIpXCIsNDksXCJ9XCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbY3NzSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMCwzXSxcbiAgcmVwZWF0Tm9kZUNvdW50OiA4LFxuICB0b2tlbkRhdGE6IFwiQXl+UiFbT1gkd1heJV1ecCR3cHElXXFyKGNycyt9c3Qsb3R1MlV1diR3dncycnd4Mn14eTNqeXozdXp7M3p7fDRffH04VX0hTzhhIU8hUDh4IVAhUTlaIVEhWztlIVshXTxZIV0hXjx4IV4hXyR3IV8hYD1UIWAhYT1gIWEhYiR3IWIhYz5PIWMhfSR3IX0jTz9bI08jUCR3I1AjUT9nI1EjUjJVI1IjVCR3I1QjVT9yI1UjYyR3I2MjZEBxI2QjbyR3I28jcEFRI3AjcTJVI3EjckFdI3Ijc0FoI3MjeSR3I3kjeiVdI3okZiR3JGYkZyVdJGcjQlkkdyNCWSNCWiVdI0JaJElTJHckSVMkSV8lXSRJXyRJfCR3JEl8JEpPJV0kSk8kSlQkdyRKVCRKVSVdJEpVJEtWJHckS1YkS1clXSRLVyZGVSR3JkZVJkZWJV0mRlZ+JHdXJHpRT3klUXp+JVFXJVZRb1dPeSVRen4lUX4lYmYjVH5PWCVRWF4mdl5wJVFwcSZ2cXklUXojeSVRI3kjeiZ2I3okZiVRJGYkZyZ2JGcjQlklUSNCWSNCWiZ2I0JaJElTJVEkSVMkSV8mdiRJXyRJfCVRJEl8JEpPJnYkSk8kSlQlUSRKVCRKVSZ2JEpVJEtWJVEkS1YkS1cmdiRLVyZGVSVRJkZVJkZWJnYmRlZ+JVF+Jn1mI1R+b1dPWCVRWF4mdl5wJVFwcSZ2cXklUXojeSVRI3kjeiZ2I3okZiVRJGYkZyZ2JGcjQlklUSNCWSNCWiZ2I0JaJElTJVEkSVMkSV8mdiRJXyRJfCVRJEl8JEpPJnYkSk8kSlQlUSRKVCRKVSZ2JEpVJEtWJVEkS1YkS1cmdiRLVyZGVSVRJkZVJkZWJnYmRlZ+JVFeKGZTT3klUXojXSVRI10jXihyI15+JVFeKHdTb1dPeSVReiNhJVEjYSNiKVQjYn4lUV4pWVNvV095JVF6I2QlUSNkI2UpZiNlfiVRXilrU29XT3klUXojYyVRI2MjZCl3I2R+JVFeKXxTb1dPeSVReiNmJVEjZiNnKlkjZ34lUV4qX1NvV095JVF6I2glUSNoI2kqayNpfiVRXipwU29XT3klUXojVCVRI1QjVSp8I1V+JVFeK1JTb1dPeSVReiNiJVEjYiNjK18jY34lUV4rZFNvV095JVF6I2glUSNoI2krcCNpfiVRXit3USFWVW9XT3klUXp+JVF+LFFVT1krfVpyK31ycyxkcyNPK30jTyNQLGkjUH4rfX4saU9ofn4sbFBPfit9Xyx0V3RQT3klUXohUSVRIVEhWy1eIVshYyVRIWMhaS1eIWkjVCVRI1QjWi1eI1p+JVFeLWNXb1dPeSVReiFRJVEhUSFbLXshWyFjJVEhYyFpLXshaSNUJVEjVCNaLXsjWn4lUV4uUVdvV095JVF6IVElUSFRIVsuaiFbIWMlUSFjIWkuaiFpI1QlUSNUI1ouaiNafiVRXi5xV2ZVb1dPeSVReiFRJVEhUSFbL1ohWyFjJVEhYyFpL1ohaSNUJVEjVCNaL1ojWn4lUV4vYldmVW9XT3klUXohUSVRIVEhWy96IVshYyVRIWMhaS96IWkjVCVRI1QjWi96I1p+JVFeMFBXb1dPeSVReiFRJVEhUSFbMGkhWyFjJVEhYyFpMGkhaSNUJVEjVCNaMGkjWn4lUV4wcFdmVW9XT3klUXohUSVRIVEhWzFZIVshYyVRIWMhaTFZIWkjVCVRI1QjWjFZI1p+JVFeMV9Xb1dPeSVReiFRJVEhUSFbMXchWyFjJVEhYyFpMXchaSNUJVEjVCNaMXcjWn4lUV4yT1FmVW9XT3klUXp+JVFZMlhTT3klUXohXyVRIV8hYDJlIWB+JVFZMmxRelFvV095JVF6fiVRWDJ3UVhQT3klUXp+JVF+M1FVT1kyfVp3Mn13eCxkeCNPMn0jTyNQM2QjUH4yfX4zZ1BPfjJ9XzNvUWJWT3klUXp+JVF+M3pPYX5fNFJTVVBqU095JVF6IV8lUSFfIWAyZSFgfiVRXzRmVWpTIVBQT3klUXohTyVRIU8hUDR4IVAhUSVRIVEhWzdfIVt+JVFeNH1Tb1dPeSVReiFRJVEhUSFbNVohW34lUV41YldvVyNaVU95JVF6IVElUSFRIVs1WiFbIWclUSFnIWg1eiFoI1glUSNYI1k1eiNZfiVRXjZQV29XT3klUXp7JVF7fDZpfH0lUX0hTzZpIU8hUSVRIVEhWzZ6IVt+JVFeNm5Tb1dPeSVReiFRJVEhUSFbNnohW34lUV43UlNvVyNaVU95JVF6IVElUSFRIVs2eiFbfiVRXjdmWW9XI1pVT3klUXohTyVRIU8hUDVaIVAhUSVRIVEhWzdfIVshZyVRIWchaDV6IWgjWCVRI1gjWTV6I1l+JVFfOFpRcFZPeSVRen4lUV44ZlVqU095JVF6IU8lUSFPIVA0eCFQIVElUSFRIVs3XyFbfiVRXzh9UyNXUE95JVF6IVElUSFRIVs1WiFbfiVRfjlgUmpTT3klUXp7OWl7fiVRfjluU29XT3k5aXl6OXp6ezpve345aX45fVJPejl6ens6V3t+OXp+OlpUT3o5enp7Old7IVA5eiFQIVE6aiFRfjl6fjpvT1J+fjp0VW9XT3k5aXl6OXp6ezpveyFQOWkhUCFRO1chUX45aX47X1FvV1J+T3klUXp+JVFeO2pZI1pVT3klUXohTyVRIU8hUDVaIVAhUSVRIVEhWzdfIVshZyVRIWchaDV6IWgjWCVRI1gjWTV6I1l+JVFYPF9TXVBPeSVReiFbJVEhWyFdPGshXX4lUVg8clFeUG9XT3klUXp+JVFfPH1RIVdWT3klUXp+JVFZPVlRelFPeSVRen4lUVg9ZVN8UE95JVF6IWAlUSFgIWE9cSFhfiVRWD14UXxQb1dPeSVRen4lUVg+UlVPeSVReiFjJVEhYyF9PmUhfSNUJVEjVCNvPmUjb34lUVg+bFkhWVBvV095JVF6fSVRfSFPPmUhTyFRJVEhUSFbPmUhWyFjJVEhYyF9PmUhfSNUJVEjVCNvPmUjb34lUVg/YVF4UE95JVF6fiVRXj9sUXZVT3klUXp+JVFYP3VTT3klUXojYiVRI2IjY0BSI2N+JVFYQFdTb1dPeSVReiNXJVEjVyNYQGQjWH4lUVhAa1EhYFBvV095JVF6fiVRWEB0U095JVF6I2YlUSNmI2dAZCNnfiVRWEFWUSFSUE95JVF6fiVRX0FiUSFRVk95JVF6fiVRWkFtUyFQUE95JVF6IV8lUSFfIWAyZSFgfiVRXCIsXG4gIHRva2VuaXplcnM6IFtkZXNjZW5kYW50LCB1bml0VG9rZW4sIGlkZW50aWZpZXJzLCAwLCAxLCAyLCAzXSxcbiAgdG9wUnVsZXM6IHtcIlN0eWxlU2hlZXRcIjpbMCw0XX0sXG4gIHNwZWNpYWxpemVkOiBbe3Rlcm06IDk0LCBnZXQ6IHZhbHVlID0+IHNwZWNfY2FsbGVlW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDU2LCBnZXQ6IHZhbHVlID0+IHNwZWNfQXRLZXl3b3JkW3ZhbHVlXSB8fCAtMX0se3Rlcm06IDk1LCBnZXQ6IHZhbHVlID0+IHNwZWNfaWRlbnRpZmllclt2YWx1ZV0gfHwgLTF9XSxcbiAgdG9rZW5QcmVjOiAxMDc4XG59KTtcblxuZXhwb3J0IHsgcGFyc2VyIH07XG4iLCAiaW1wb3J0IHsgcGFyc2VyIH0gZnJvbSAnQGxlemVyL2Nzcyc7XG5pbXBvcnQgeyBzeW50YXhUcmVlLCBMUkxhbmd1YWdlLCBpbmRlbnROb2RlUHJvcCwgY29udGludWVkSW5kZW50LCBmb2xkTm9kZVByb3AsIGZvbGRJbnNpZGUsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcblxubGV0IF9wcm9wZXJ0aWVzID0gbnVsbDtcbmZ1bmN0aW9uIHByb3BlcnRpZXMoKSB7XG4gICAgaWYgKCFfcHJvcGVydGllcyAmJiB0eXBlb2YgZG9jdW1lbnQgPT0gXCJvYmplY3RcIiAmJiBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIGxldCBuYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIGRvY3VtZW50LmJvZHkuc3R5bGUpIHtcbiAgICAgICAgICAgIGlmICghL1tBLVpdfF4tfF4oaXRlbXxsZW5ndGgpJC8udGVzdChwcm9wKSlcbiAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIF9wcm9wZXJ0aWVzID0gbmFtZXMuc29ydCgpLm1hcChuYW1lID0+ICh7IHR5cGU6IFwicHJvcGVydHlcIiwgbGFiZWw6IG5hbWUgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gX3Byb3BlcnRpZXMgfHwgW107XG59XG5jb25zdCBwc2V1ZG9DbGFzc2VzID0gLypAX19QVVJFX18qL1tcbiAgICBcImFjdGl2ZVwiLCBcImFmdGVyXCIsIFwiYW55LWxpbmtcIiwgXCJhdXRvZmlsbFwiLCBcImJhY2tkcm9wXCIsIFwiYmVmb3JlXCIsXG4gICAgXCJjaGVja2VkXCIsIFwiY3VlXCIsIFwiZGVmYXVsdFwiLCBcImRlZmluZWRcIiwgXCJkaXNhYmxlZFwiLCBcImVtcHR5XCIsXG4gICAgXCJlbmFibGVkXCIsIFwiZmlsZS1zZWxlY3Rvci1idXR0b25cIiwgXCJmaXJzdFwiLCBcImZpcnN0LWNoaWxkXCIsXG4gICAgXCJmaXJzdC1sZXR0ZXJcIiwgXCJmaXJzdC1saW5lXCIsIFwiZmlyc3Qtb2YtdHlwZVwiLCBcImZvY3VzXCIsXG4gICAgXCJmb2N1cy12aXNpYmxlXCIsIFwiZm9jdXMtd2l0aGluXCIsIFwiZnVsbHNjcmVlblwiLCBcImhhc1wiLCBcImhvc3RcIixcbiAgICBcImhvc3QtY29udGV4dFwiLCBcImhvdmVyXCIsIFwiaW4tcmFuZ2VcIiwgXCJpbmRldGVybWluYXRlXCIsIFwiaW52YWxpZFwiLFxuICAgIFwiaXNcIiwgXCJsYW5nXCIsIFwibGFzdC1jaGlsZFwiLCBcImxhc3Qtb2YtdHlwZVwiLCBcImxlZnRcIiwgXCJsaW5rXCIsIFwibWFya2VyXCIsXG4gICAgXCJtb2RhbFwiLCBcIm5vdFwiLCBcIm50aC1jaGlsZFwiLCBcIm50aC1sYXN0LWNoaWxkXCIsIFwibnRoLWxhc3Qtb2YtdHlwZVwiLFxuICAgIFwibnRoLW9mLXR5cGVcIiwgXCJvbmx5LWNoaWxkXCIsIFwib25seS1vZi10eXBlXCIsIFwib3B0aW9uYWxcIiwgXCJvdXQtb2YtcmFuZ2VcIixcbiAgICBcInBhcnRcIiwgXCJwbGFjZWhvbGRlclwiLCBcInBsYWNlaG9sZGVyLXNob3duXCIsIFwicmVhZC1vbmx5XCIsIFwicmVhZC13cml0ZVwiLFxuICAgIFwicmVxdWlyZWRcIiwgXCJyaWdodFwiLCBcInJvb3RcIiwgXCJzY29wZVwiLCBcInNlbGVjdGlvblwiLCBcInNsb3R0ZWRcIiwgXCJ0YXJnZXRcIixcbiAgICBcInRhcmdldC10ZXh0XCIsIFwidmFsaWRcIiwgXCJ2aXNpdGVkXCIsIFwid2hlcmVcIlxuXS5tYXAobmFtZSA9PiAoeyB0eXBlOiBcImNsYXNzXCIsIGxhYmVsOiBuYW1lIH0pKTtcbmNvbnN0IHZhbHVlcyA9IC8qQF9fUFVSRV9fKi9bXG4gICAgXCJhYm92ZVwiLCBcImFic29sdXRlXCIsIFwiYWN0aXZlYm9yZGVyXCIsIFwiYWRkaXRpdmVcIiwgXCJhY3RpdmVjYXB0aW9uXCIsIFwiYWZ0ZXItd2hpdGUtc3BhY2VcIixcbiAgICBcImFoZWFkXCIsIFwiYWxpYXNcIiwgXCJhbGxcIiwgXCJhbGwtc2Nyb2xsXCIsIFwiYWxwaGFiZXRpY1wiLCBcImFsdGVybmF0ZVwiLCBcImFsd2F5c1wiLFxuICAgIFwiYW50aWFsaWFzZWRcIiwgXCJhcHB3b3Jrc3BhY2VcIiwgXCJhc3Rlcmlza3NcIiwgXCJhdHRyXCIsIFwiYXV0b1wiLCBcImF1dG8tZmxvd1wiLCBcImF2b2lkXCIsIFwiYXZvaWQtY29sdW1uXCIsXG4gICAgXCJhdm9pZC1wYWdlXCIsIFwiYXZvaWQtcmVnaW9uXCIsIFwiYXhpcy1wYW5cIiwgXCJiYWNrZ3JvdW5kXCIsIFwiYmFja3dhcmRzXCIsIFwiYmFzZWxpbmVcIiwgXCJiZWxvd1wiLFxuICAgIFwiYmlkaS1vdmVycmlkZVwiLCBcImJsaW5rXCIsIFwiYmxvY2tcIiwgXCJibG9jay1heGlzXCIsIFwiYm9sZFwiLCBcImJvbGRlclwiLCBcImJvcmRlclwiLCBcImJvcmRlci1ib3hcIixcbiAgICBcImJvdGhcIiwgXCJib3R0b21cIiwgXCJicmVha1wiLCBcImJyZWFrLWFsbFwiLCBcImJyZWFrLXdvcmRcIiwgXCJidWxsZXRzXCIsIFwiYnV0dG9uXCIsIFwiYnV0dG9uLWJldmVsXCIsXG4gICAgXCJidXR0b25mYWNlXCIsIFwiYnV0dG9uaGlnaGxpZ2h0XCIsIFwiYnV0dG9uc2hhZG93XCIsIFwiYnV0dG9udGV4dFwiLCBcImNhbGNcIiwgXCJjYXBpdGFsaXplXCIsXG4gICAgXCJjYXBzLWxvY2staW5kaWNhdG9yXCIsIFwiY2FwdGlvblwiLCBcImNhcHRpb250ZXh0XCIsIFwiY2FyZXRcIiwgXCJjZWxsXCIsIFwiY2VudGVyXCIsIFwiY2hlY2tib3hcIiwgXCJjaXJjbGVcIixcbiAgICBcImNqay1kZWNpbWFsXCIsIFwiY2xlYXJcIiwgXCJjbGlwXCIsIFwiY2xvc2UtcXVvdGVcIiwgXCJjb2wtcmVzaXplXCIsIFwiY29sbGFwc2VcIiwgXCJjb2xvclwiLCBcImNvbG9yLWJ1cm5cIixcbiAgICBcImNvbG9yLWRvZGdlXCIsIFwiY29sdW1uXCIsIFwiY29sdW1uLXJldmVyc2VcIiwgXCJjb21wYWN0XCIsIFwiY29uZGVuc2VkXCIsIFwiY29udGFpblwiLCBcImNvbnRlbnRcIixcbiAgICBcImNvbnRlbnRzXCIsIFwiY29udGVudC1ib3hcIiwgXCJjb250ZXh0LW1lbnVcIiwgXCJjb250aW51b3VzXCIsIFwiY29weVwiLCBcImNvdW50ZXJcIiwgXCJjb3VudGVyc1wiLCBcImNvdmVyXCIsXG4gICAgXCJjcm9wXCIsIFwiY3Jvc3NcIiwgXCJjcm9zc2hhaXJcIiwgXCJjdXJyZW50Y29sb3JcIiwgXCJjdXJzaXZlXCIsIFwiY3ljbGljXCIsIFwiZGFya2VuXCIsIFwiZGFzaGVkXCIsIFwiZGVjaW1hbFwiLFxuICAgIFwiZGVjaW1hbC1sZWFkaW5nLXplcm9cIiwgXCJkZWZhdWx0XCIsIFwiZGVmYXVsdC1idXR0b25cIiwgXCJkZW5zZVwiLCBcImRlc3RpbmF0aW9uLWF0b3BcIiwgXCJkZXN0aW5hdGlvbi1pblwiLFxuICAgIFwiZGVzdGluYXRpb24tb3V0XCIsIFwiZGVzdGluYXRpb24tb3ZlclwiLCBcImRpZmZlcmVuY2VcIiwgXCJkaXNjXCIsIFwiZGlzY2FyZFwiLCBcImRpc2Nsb3N1cmUtY2xvc2VkXCIsXG4gICAgXCJkaXNjbG9zdXJlLW9wZW5cIiwgXCJkb2N1bWVudFwiLCBcImRvdC1kYXNoXCIsIFwiZG90LWRvdC1kYXNoXCIsIFwiZG90dGVkXCIsIFwiZG91YmxlXCIsIFwiZG93blwiLCBcImUtcmVzaXplXCIsXG4gICAgXCJlYXNlXCIsIFwiZWFzZS1pblwiLCBcImVhc2UtaW4tb3V0XCIsIFwiZWFzZS1vdXRcIiwgXCJlbGVtZW50XCIsIFwiZWxsaXBzZVwiLCBcImVsbGlwc2lzXCIsIFwiZW1iZWRcIiwgXCJlbmRcIixcbiAgICBcImV0aGlvcGljLWFiZWdlZGUtZ2V6XCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtYWEtZXJcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS1nZXpcIiwgXCJldy1yZXNpemVcIiwgXCJleGNsdXNpb25cIixcbiAgICBcImV4cGFuZGVkXCIsIFwiZXh0ZW5kc1wiLCBcImV4dHJhLWNvbmRlbnNlZFwiLCBcImV4dHJhLWV4cGFuZGVkXCIsIFwiZmFudGFzeVwiLCBcImZhc3RcIiwgXCJmaWxsXCIsIFwiZmlsbC1ib3hcIixcbiAgICBcImZpeGVkXCIsIFwiZmxhdFwiLCBcImZsZXhcIiwgXCJmbGV4LWVuZFwiLCBcImZsZXgtc3RhcnRcIiwgXCJmb290bm90ZXNcIiwgXCJmb3J3YXJkc1wiLCBcImZyb21cIixcbiAgICBcImdlb21ldHJpY1ByZWNpc2lvblwiLCBcImdyYXl0ZXh0XCIsIFwiZ3JpZFwiLCBcImdyb292ZVwiLCBcImhhbmRcIiwgXCJoYXJkLWxpZ2h0XCIsIFwiaGVscFwiLCBcImhpZGRlblwiLCBcImhpZGVcIixcbiAgICBcImhpZ2hlclwiLCBcImhpZ2hsaWdodFwiLCBcImhpZ2hsaWdodHRleHRcIiwgXCJob3Jpem9udGFsXCIsIFwiaHNsXCIsIFwiaHNsYVwiLCBcImh1ZVwiLCBcImljb25cIiwgXCJpZ25vcmVcIixcbiAgICBcImluYWN0aXZlYm9yZGVyXCIsIFwiaW5hY3RpdmVjYXB0aW9uXCIsIFwiaW5hY3RpdmVjYXB0aW9udGV4dFwiLCBcImluZmluaXRlXCIsIFwiaW5mb2JhY2tncm91bmRcIiwgXCJpbmZvdGV4dFwiLFxuICAgIFwiaW5oZXJpdFwiLCBcImluaXRpYWxcIiwgXCJpbmxpbmVcIiwgXCJpbmxpbmUtYXhpc1wiLCBcImlubGluZS1ibG9ja1wiLCBcImlubGluZS1mbGV4XCIsIFwiaW5saW5lLWdyaWRcIixcbiAgICBcImlubGluZS10YWJsZVwiLCBcImluc2V0XCIsIFwiaW5zaWRlXCIsIFwiaW50cmluc2ljXCIsIFwiaW52ZXJ0XCIsIFwiaXRhbGljXCIsIFwianVzdGlmeVwiLCBcImtlZXAtYWxsXCIsXG4gICAgXCJsYW5kc2NhcGVcIiwgXCJsYXJnZVwiLCBcImxhcmdlclwiLCBcImxlZnRcIiwgXCJsZXZlbFwiLCBcImxpZ2h0ZXJcIiwgXCJsaWdodGVuXCIsIFwibGluZS10aHJvdWdoXCIsIFwibGluZWFyXCIsXG4gICAgXCJsaW5lYXItZ3JhZGllbnRcIiwgXCJsaW5lc1wiLCBcImxpc3QtaXRlbVwiLCBcImxpc3Rib3hcIiwgXCJsaXN0aXRlbVwiLCBcImxvY2FsXCIsIFwibG9naWNhbFwiLCBcImxvdWRcIiwgXCJsb3dlclwiLFxuICAgIFwibG93ZXItaGV4YWRlY2ltYWxcIiwgXCJsb3dlci1sYXRpblwiLCBcImxvd2VyLW5vcndlZ2lhblwiLCBcImxvd2VyY2FzZVwiLCBcImx0clwiLCBcImx1bWlub3NpdHlcIiwgXCJtYW5pcHVsYXRpb25cIixcbiAgICBcIm1hdGNoXCIsIFwibWF0cml4XCIsIFwibWF0cml4M2RcIiwgXCJtZWRpdW1cIiwgXCJtZW51XCIsIFwibWVudXRleHRcIiwgXCJtZXNzYWdlLWJveFwiLCBcIm1pZGRsZVwiLCBcIm1pbi1pbnRyaW5zaWNcIixcbiAgICBcIm1peFwiLCBcIm1vbm9zcGFjZVwiLCBcIm1vdmVcIiwgXCJtdWx0aXBsZVwiLCBcIm11bHRpcGxlX21hc2tfaW1hZ2VzXCIsIFwibXVsdGlwbHlcIiwgXCJuLXJlc2l6ZVwiLCBcIm5hcnJvd2VyXCIsXG4gICAgXCJuZS1yZXNpemVcIiwgXCJuZXN3LXJlc2l6ZVwiLCBcIm5vLWNsb3NlLXF1b3RlXCIsIFwibm8tZHJvcFwiLCBcIm5vLW9wZW4tcXVvdGVcIiwgXCJuby1yZXBlYXRcIiwgXCJub25lXCIsXG4gICAgXCJub3JtYWxcIiwgXCJub3QtYWxsb3dlZFwiLCBcIm5vd3JhcFwiLCBcIm5zLXJlc2l6ZVwiLCBcIm51bWJlcnNcIiwgXCJudW1lcmljXCIsIFwibnctcmVzaXplXCIsIFwibndzZS1yZXNpemVcIixcbiAgICBcIm9ibGlxdWVcIiwgXCJvcGFjaXR5XCIsIFwib3Blbi1xdW90ZVwiLCBcIm9wdGltaXplTGVnaWJpbGl0eVwiLCBcIm9wdGltaXplU3BlZWRcIiwgXCJvdXRzZXRcIiwgXCJvdXRzaWRlXCIsXG4gICAgXCJvdXRzaWRlLXNoYXBlXCIsIFwib3ZlcmxheVwiLCBcIm92ZXJsaW5lXCIsIFwicGFkZGluZ1wiLCBcInBhZGRpbmctYm94XCIsIFwicGFpbnRlZFwiLCBcInBhZ2VcIiwgXCJwYXVzZWRcIixcbiAgICBcInBlcnNwZWN0aXZlXCIsIFwicGluY2gtem9vbVwiLCBcInBsdXMtZGFya2VyXCIsIFwicGx1cy1saWdodGVyXCIsIFwicG9pbnRlclwiLCBcInBvbHlnb25cIiwgXCJwb3J0cmFpdFwiLFxuICAgIFwicHJlXCIsIFwicHJlLWxpbmVcIiwgXCJwcmUtd3JhcFwiLCBcInByZXNlcnZlLTNkXCIsIFwicHJvZ3Jlc3NcIiwgXCJwdXNoLWJ1dHRvblwiLCBcInJhZGlhbC1ncmFkaWVudFwiLCBcInJhZGlvXCIsXG4gICAgXCJyZWFkLW9ubHlcIiwgXCJyZWFkLXdyaXRlXCIsIFwicmVhZC13cml0ZS1wbGFpbnRleHQtb25seVwiLCBcInJlY3RhbmdsZVwiLCBcInJlZ2lvblwiLCBcInJlbGF0aXZlXCIsIFwicmVwZWF0XCIsXG4gICAgXCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50XCIsIFwicmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgXCJyZXNldFwiLCBcInJldmVyc2VcIixcbiAgICBcInJnYlwiLCBcInJnYmFcIiwgXCJyaWRnZVwiLCBcInJpZ2h0XCIsIFwicm90YXRlXCIsIFwicm90YXRlM2RcIiwgXCJyb3RhdGVYXCIsIFwicm90YXRlWVwiLCBcInJvdGF0ZVpcIiwgXCJyb3VuZFwiLFxuICAgIFwicm93XCIsIFwicm93LXJlc2l6ZVwiLCBcInJvdy1yZXZlcnNlXCIsIFwicnRsXCIsIFwicnVuLWluXCIsIFwicnVubmluZ1wiLCBcInMtcmVzaXplXCIsIFwic2Fucy1zZXJpZlwiLCBcInNhdHVyYXRpb25cIixcbiAgICBcInNjYWxlXCIsIFwic2NhbGUzZFwiLCBcInNjYWxlWFwiLCBcInNjYWxlWVwiLCBcInNjYWxlWlwiLCBcInNjcmVlblwiLCBcInNjcm9sbFwiLCBcInNjcm9sbGJhclwiLCBcInNjcm9sbC1wb3NpdGlvblwiLFxuICAgIFwic2UtcmVzaXplXCIsIFwic2VsZi1zdGFydFwiLCBcInNlbGYtZW5kXCIsIFwic2VtaS1jb25kZW5zZWRcIiwgXCJzZW1pLWV4cGFuZGVkXCIsIFwic2VwYXJhdGVcIiwgXCJzZXJpZlwiLCBcInNob3dcIixcbiAgICBcInNpbmdsZVwiLCBcInNrZXdcIiwgXCJza2V3WFwiLCBcInNrZXdZXCIsIFwic2tpcC13aGl0ZS1zcGFjZVwiLCBcInNsaWRlXCIsIFwic2xpZGVyLWhvcml6b250YWxcIixcbiAgICBcInNsaWRlci12ZXJ0aWNhbFwiLCBcInNsaWRlcnRodW1iLWhvcml6b250YWxcIiwgXCJzbGlkZXJ0aHVtYi12ZXJ0aWNhbFwiLCBcInNsb3dcIiwgXCJzbWFsbFwiLCBcInNtYWxsLWNhcHNcIixcbiAgICBcInNtYWxsLWNhcHRpb25cIiwgXCJzbWFsbGVyXCIsIFwic29mdC1saWdodFwiLCBcInNvbGlkXCIsIFwic291cmNlLWF0b3BcIiwgXCJzb3VyY2UtaW5cIiwgXCJzb3VyY2Utb3V0XCIsXG4gICAgXCJzb3VyY2Utb3ZlclwiLCBcInNwYWNlXCIsIFwic3BhY2UtYXJvdW5kXCIsIFwic3BhY2UtYmV0d2VlblwiLCBcInNwYWNlLWV2ZW5seVwiLCBcInNwZWxsLW91dFwiLCBcInNxdWFyZVwiLCBcInN0YXJ0XCIsXG4gICAgXCJzdGF0aWNcIiwgXCJzdGF0dXMtYmFyXCIsIFwic3RyZXRjaFwiLCBcInN0cm9rZVwiLCBcInN0cm9rZS1ib3hcIiwgXCJzdWJcIiwgXCJzdWJwaXhlbC1hbnRpYWxpYXNlZFwiLCBcInN2Z19tYXNrc1wiLFxuICAgIFwic3VwZXJcIiwgXCJzdy1yZXNpemVcIiwgXCJzeW1ib2xpY1wiLCBcInN5bWJvbHNcIiwgXCJzeXN0ZW0tdWlcIiwgXCJ0YWJsZVwiLCBcInRhYmxlLWNhcHRpb25cIiwgXCJ0YWJsZS1jZWxsXCIsXG4gICAgXCJ0YWJsZS1jb2x1bW5cIiwgXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIiwgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIiwgXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIiwgXCJ0YWJsZS1yb3dcIixcbiAgICBcInRhYmxlLXJvdy1ncm91cFwiLCBcInRleHRcIiwgXCJ0ZXh0LWJvdHRvbVwiLCBcInRleHQtdG9wXCIsIFwidGV4dGFyZWFcIiwgXCJ0ZXh0ZmllbGRcIiwgXCJ0aGlja1wiLCBcInRoaW5cIixcbiAgICBcInRocmVlZGRhcmtzaGFkb3dcIiwgXCJ0aHJlZWRmYWNlXCIsIFwidGhyZWVkaGlnaGxpZ2h0XCIsIFwidGhyZWVkbGlnaHRzaGFkb3dcIiwgXCJ0aHJlZWRzaGFkb3dcIiwgXCJ0b1wiLCBcInRvcFwiLFxuICAgIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwidHJhbnNsYXRlM2RcIiwgXCJ0cmFuc2xhdGVYXCIsIFwidHJhbnNsYXRlWVwiLCBcInRyYW5zbGF0ZVpcIiwgXCJ0cmFuc3BhcmVudFwiLFxuICAgIFwidWx0cmEtY29uZGVuc2VkXCIsIFwidWx0cmEtZXhwYW5kZWRcIiwgXCJ1bmRlcmxpbmVcIiwgXCJ1bmlkaXJlY3Rpb25hbC1wYW5cIiwgXCJ1bnNldFwiLCBcInVwXCIsIFwidXBwZXItbGF0aW5cIixcbiAgICBcInVwcGVyY2FzZVwiLCBcInVybFwiLCBcInZhclwiLCBcInZlcnRpY2FsXCIsIFwidmVydGljYWwtdGV4dFwiLCBcInZpZXctYm94XCIsIFwidmlzaWJsZVwiLCBcInZpc2libGVGaWxsXCIsXG4gICAgXCJ2aXNpYmxlUGFpbnRlZFwiLCBcInZpc2libGVTdHJva2VcIiwgXCJ2aXN1YWxcIiwgXCJ3LXJlc2l6ZVwiLCBcIndhaXRcIiwgXCJ3YXZlXCIsIFwid2lkZXJcIiwgXCJ3aW5kb3dcIiwgXCJ3aW5kb3dmcmFtZVwiLFxuICAgIFwid2luZG93dGV4dFwiLCBcIndvcmRzXCIsIFwid3JhcFwiLCBcIndyYXAtcmV2ZXJzZVwiLCBcIngtbGFyZ2VcIiwgXCJ4LXNtYWxsXCIsIFwieG9yXCIsIFwieHgtbGFyZ2VcIiwgXCJ4eC1zbWFsbFwiXG5dLm1hcChuYW1lID0+ICh7IHR5cGU6IFwia2V5d29yZFwiLCBsYWJlbDogbmFtZSB9KSkuY29uY2F0KC8qQF9fUFVSRV9fKi9bXG4gICAgXCJhbGljZWJsdWVcIiwgXCJhbnRpcXVld2hpdGVcIiwgXCJhcXVhXCIsIFwiYXF1YW1hcmluZVwiLCBcImF6dXJlXCIsIFwiYmVpZ2VcIixcbiAgICBcImJpc3F1ZVwiLCBcImJsYWNrXCIsIFwiYmxhbmNoZWRhbG1vbmRcIiwgXCJibHVlXCIsIFwiYmx1ZXZpb2xldFwiLCBcImJyb3duXCIsXG4gICAgXCJidXJseXdvb2RcIiwgXCJjYWRldGJsdWVcIiwgXCJjaGFydHJldXNlXCIsIFwiY2hvY29sYXRlXCIsIFwiY29yYWxcIiwgXCJjb3JuZmxvd2VyYmx1ZVwiLFxuICAgIFwiY29ybnNpbGtcIiwgXCJjcmltc29uXCIsIFwiY3lhblwiLCBcImRhcmtibHVlXCIsIFwiZGFya2N5YW5cIiwgXCJkYXJrZ29sZGVucm9kXCIsXG4gICAgXCJkYXJrZ3JheVwiLCBcImRhcmtncmVlblwiLCBcImRhcmtraGFraVwiLCBcImRhcmttYWdlbnRhXCIsIFwiZGFya29saXZlZ3JlZW5cIixcbiAgICBcImRhcmtvcmFuZ2VcIiwgXCJkYXJrb3JjaGlkXCIsIFwiZGFya3JlZFwiLCBcImRhcmtzYWxtb25cIiwgXCJkYXJrc2VhZ3JlZW5cIixcbiAgICBcImRhcmtzbGF0ZWJsdWVcIiwgXCJkYXJrc2xhdGVncmF5XCIsIFwiZGFya3R1cnF1b2lzZVwiLCBcImRhcmt2aW9sZXRcIixcbiAgICBcImRlZXBwaW5rXCIsIFwiZGVlcHNreWJsdWVcIiwgXCJkaW1ncmF5XCIsIFwiZG9kZ2VyYmx1ZVwiLCBcImZpcmVicmlja1wiLFxuICAgIFwiZmxvcmFsd2hpdGVcIiwgXCJmb3Jlc3RncmVlblwiLCBcImZ1Y2hzaWFcIiwgXCJnYWluc2Jvcm9cIiwgXCJnaG9zdHdoaXRlXCIsXG4gICAgXCJnb2xkXCIsIFwiZ29sZGVucm9kXCIsIFwiZ3JheVwiLCBcImdyZXlcIiwgXCJncmVlblwiLCBcImdyZWVueWVsbG93XCIsIFwiaG9uZXlkZXdcIixcbiAgICBcImhvdHBpbmtcIiwgXCJpbmRpYW5yZWRcIiwgXCJpbmRpZ29cIiwgXCJpdm9yeVwiLCBcImtoYWtpXCIsIFwibGF2ZW5kZXJcIixcbiAgICBcImxhdmVuZGVyYmx1c2hcIiwgXCJsYXduZ3JlZW5cIiwgXCJsZW1vbmNoaWZmb25cIiwgXCJsaWdodGJsdWVcIiwgXCJsaWdodGNvcmFsXCIsXG4gICAgXCJsaWdodGN5YW5cIiwgXCJsaWdodGdvbGRlbnJvZHllbGxvd1wiLCBcImxpZ2h0Z3JheVwiLCBcImxpZ2h0Z3JlZW5cIiwgXCJsaWdodHBpbmtcIixcbiAgICBcImxpZ2h0c2FsbW9uXCIsIFwibGlnaHRzZWFncmVlblwiLCBcImxpZ2h0c2t5Ymx1ZVwiLCBcImxpZ2h0c2xhdGVncmF5XCIsXG4gICAgXCJsaWdodHN0ZWVsYmx1ZVwiLCBcImxpZ2h0eWVsbG93XCIsIFwibGltZVwiLCBcImxpbWVncmVlblwiLCBcImxpbmVuXCIsIFwibWFnZW50YVwiLFxuICAgIFwibWFyb29uXCIsIFwibWVkaXVtYXF1YW1hcmluZVwiLCBcIm1lZGl1bWJsdWVcIiwgXCJtZWRpdW1vcmNoaWRcIiwgXCJtZWRpdW1wdXJwbGVcIixcbiAgICBcIm1lZGl1bXNlYWdyZWVuXCIsIFwibWVkaXVtc2xhdGVibHVlXCIsIFwibWVkaXVtc3ByaW5nZ3JlZW5cIiwgXCJtZWRpdW10dXJxdW9pc2VcIixcbiAgICBcIm1lZGl1bXZpb2xldHJlZFwiLCBcIm1pZG5pZ2h0Ymx1ZVwiLCBcIm1pbnRjcmVhbVwiLCBcIm1pc3R5cm9zZVwiLCBcIm1vY2Nhc2luXCIsXG4gICAgXCJuYXZham93aGl0ZVwiLCBcIm5hdnlcIiwgXCJvbGRsYWNlXCIsIFwib2xpdmVcIiwgXCJvbGl2ZWRyYWJcIiwgXCJvcmFuZ2VcIiwgXCJvcmFuZ2VyZWRcIixcbiAgICBcIm9yY2hpZFwiLCBcInBhbGVnb2xkZW5yb2RcIiwgXCJwYWxlZ3JlZW5cIiwgXCJwYWxldHVycXVvaXNlXCIsIFwicGFsZXZpb2xldHJlZFwiLFxuICAgIFwicGFwYXlhd2hpcFwiLCBcInBlYWNocHVmZlwiLCBcInBlcnVcIiwgXCJwaW5rXCIsIFwicGx1bVwiLCBcInBvd2RlcmJsdWVcIixcbiAgICBcInB1cnBsZVwiLCBcInJlYmVjY2FwdXJwbGVcIiwgXCJyZWRcIiwgXCJyb3N5YnJvd25cIiwgXCJyb3lhbGJsdWVcIiwgXCJzYWRkbGVicm93blwiLFxuICAgIFwic2FsbW9uXCIsIFwic2FuZHlicm93blwiLCBcInNlYWdyZWVuXCIsIFwic2Vhc2hlbGxcIiwgXCJzaWVubmFcIiwgXCJzaWx2ZXJcIiwgXCJza3libHVlXCIsXG4gICAgXCJzbGF0ZWJsdWVcIiwgXCJzbGF0ZWdyYXlcIiwgXCJzbm93XCIsIFwic3ByaW5nZ3JlZW5cIiwgXCJzdGVlbGJsdWVcIiwgXCJ0YW5cIixcbiAgICBcInRlYWxcIiwgXCJ0aGlzdGxlXCIsIFwidG9tYXRvXCIsIFwidHVycXVvaXNlXCIsIFwidmlvbGV0XCIsIFwid2hlYXRcIiwgXCJ3aGl0ZVwiLFxuICAgIFwid2hpdGVzbW9rZVwiLCBcInllbGxvd1wiLCBcInllbGxvd2dyZWVuXCJcbl0ubWFwKG5hbWUgPT4gKHsgdHlwZTogXCJjb25zdGFudFwiLCBsYWJlbDogbmFtZSB9KSkpO1xuY29uc3QgdGFncyA9IC8qQF9fUFVSRV9fKi9bXG4gICAgXCJhXCIsIFwiYWJiclwiLCBcImFkZHJlc3NcIiwgXCJhcnRpY2xlXCIsIFwiYXNpZGVcIiwgXCJiXCIsIFwiYmRpXCIsIFwiYmRvXCIsIFwiYmxvY2txdW90ZVwiLCBcImJvZHlcIixcbiAgICBcImJyXCIsIFwiYnV0dG9uXCIsIFwiY2FudmFzXCIsIFwiY2FwdGlvblwiLCBcImNpdGVcIiwgXCJjb2RlXCIsIFwiY29sXCIsIFwiY29sZ3JvdXBcIiwgXCJkZFwiLCBcImRlbFwiLFxuICAgIFwiZGV0YWlsc1wiLCBcImRmblwiLCBcImRpYWxvZ1wiLCBcImRpdlwiLCBcImRsXCIsIFwiZHRcIiwgXCJlbVwiLCBcImZpZ2NhcHRpb25cIiwgXCJmaWd1cmVcIiwgXCJmb290ZXJcIixcbiAgICBcImZvcm1cIiwgXCJoZWFkZXJcIiwgXCJoZ3JvdXBcIiwgXCJoMVwiLCBcImgyXCIsIFwiaDNcIiwgXCJoNFwiLCBcImg1XCIsIFwiaDZcIiwgXCJoclwiLCBcImh0bWxcIiwgXCJpXCIsIFwiaWZyYW1lXCIsXG4gICAgXCJpbWdcIiwgXCJpbnB1dFwiLCBcImluc1wiLCBcImtiZFwiLCBcImxhYmVsXCIsIFwibGVnZW5kXCIsIFwibGlcIiwgXCJtYWluXCIsIFwibWV0ZXJcIiwgXCJuYXZcIiwgXCJvbFwiLCBcIm91dHB1dFwiLFxuICAgIFwicFwiLCBcInByZVwiLCBcInJ1YnlcIiwgXCJzZWN0aW9uXCIsIFwic2VsZWN0XCIsIFwic21hbGxcIiwgXCJzb3VyY2VcIiwgXCJzcGFuXCIsIFwic3Ryb25nXCIsIFwic3ViXCIsIFwic3VtbWFyeVwiLFxuICAgIFwic3VwXCIsIFwidGFibGVcIiwgXCJ0Ym9keVwiLCBcInRkXCIsIFwidGVtcGxhdGVcIiwgXCJ0ZXh0YXJlYVwiLCBcInRmb290XCIsIFwidGhcIiwgXCJ0aGVhZFwiLCBcInRyXCIsIFwidVwiLCBcInVsXCJcbl0ubWFwKG5hbWUgPT4gKHsgdHlwZTogXCJ0eXBlXCIsIGxhYmVsOiBuYW1lIH0pKTtcbmNvbnN0IGlkZW50aWZpZXIgPSAvXltcXHctXSovO1xuLyoqXG5DU1MgcHJvcGVydHkgYW5kIHZhbHVlIGtleXdvcmQgY29tcGxldGlvbiBzb3VyY2UuXG4qL1xuY29uc3QgY3NzQ29tcGxldGlvblNvdXJjZSA9IGNvbnRleHQgPT4ge1xuICAgIGxldCB7IHN0YXRlLCBwb3MgfSA9IGNvbnRleHQsIG5vZGUgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zLCAtMSk7XG4gICAgaWYgKG5vZGUubmFtZSA9PSBcIlByb3BlcnR5TmFtZVwiKVxuICAgICAgICByZXR1cm4geyBmcm9tOiBub2RlLmZyb20sIG9wdGlvbnM6IHByb3BlcnRpZXMoKSwgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICBpZiAobm9kZS5uYW1lID09IFwiVmFsdWVOYW1lXCIpXG4gICAgICAgIHJldHVybiB7IGZyb206IG5vZGUuZnJvbSwgb3B0aW9uczogdmFsdWVzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmIChub2RlLm5hbWUgPT0gXCJQc2V1ZG9DbGFzc05hbWVcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiBwc2V1ZG9DbGFzc2VzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmIChub2RlLm5hbWUgPT0gXCJUYWdOYW1lXCIpIHtcbiAgICAgICAgZm9yIChsZXQgeyBwYXJlbnQgfSA9IG5vZGU7IHBhcmVudDsgcGFyZW50ID0gcGFyZW50LnBhcmVudClcbiAgICAgICAgICAgIGlmIChwYXJlbnQubmFtZSA9PSBcIkJsb2NrXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogbm9kZS5mcm9tLCBvcHRpb25zOiBwcm9wZXJ0aWVzKCksIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgICAgIHJldHVybiB7IGZyb206IG5vZGUuZnJvbSwgb3B0aW9uczogdGFncywgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICB9XG4gICAgaWYgKCFjb250ZXh0LmV4cGxpY2l0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgYWJvdmUgPSBub2RlLnJlc29sdmUocG9zKSwgYmVmb3JlID0gYWJvdmUuY2hpbGRCZWZvcmUocG9zKTtcbiAgICBpZiAoYmVmb3JlICYmIGJlZm9yZS5uYW1lID09IFwiOlwiICYmIGFib3ZlLm5hbWUgPT0gXCJQc2V1ZG9DbGFzc1NlbGVjdG9yXCIpXG4gICAgICAgIHJldHVybiB7IGZyb206IHBvcywgb3B0aW9uczogcHNldWRvQ2xhc3NlcywgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbiAgICBpZiAoYmVmb3JlICYmIGJlZm9yZS5uYW1lID09IFwiOlwiICYmIGFib3ZlLm5hbWUgPT0gXCJEZWNsYXJhdGlvblwiIHx8IGFib3ZlLm5hbWUgPT0gXCJBcmdMaXN0XCIpXG4gICAgICAgIHJldHVybiB7IGZyb206IHBvcywgb3B0aW9uczogdmFsdWVzLCB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xuICAgIGlmIChhYm92ZS5uYW1lID09IFwiQmxvY2tcIilcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogcG9zLCBvcHRpb25zOiBwcm9wZXJ0aWVzKCksIHZhbGlkRm9yOiBpZGVudGlmaWVyIH07XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgYmFzZWQgb24gdGhlIFtMZXplciBDU1NcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9jc3MpLCBleHRlbmRlZCB3aXRoXG5oaWdobGlnaHRpbmcgYW5kIGluZGVudGF0aW9uIGluZm9ybWF0aW9uLlxuKi9cbmNvbnN0IGNzc0xhbmd1YWdlID0gLypAX19QVVJFX18qL0xSTGFuZ3VhZ2UuZGVmaW5lKHtcbiAgICBuYW1lOiBcImNzc1wiLFxuICAgIHBhcnNlcjogLypAX19QVVJFX18qL3BhcnNlci5jb25maWd1cmUoe1xuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgLypAX19QVVJFX18qL2luZGVudE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgRGVjbGFyYXRpb246IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoKVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovZm9sZE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgQmxvY2s6IGZvbGRJbnNpZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF1cbiAgICB9KSxcbiAgICBsYW5ndWFnZURhdGE6IHtcbiAgICAgICAgY29tbWVudFRva2VuczogeyBibG9jazogeyBvcGVuOiBcIi8qXCIsIGNsb3NlOiBcIiovXCIgfSB9LFxuICAgICAgICBpbmRlbnRPbklucHV0OiAvXlxccypcXH0kLyxcbiAgICAgICAgd29yZENoYXJzOiBcIi1cIlxuICAgIH1cbn0pO1xuLyoqXG5MYW5ndWFnZSBzdXBwb3J0IGZvciBDU1MuXG4qL1xuZnVuY3Rpb24gY3NzKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KGNzc0xhbmd1YWdlLCBjc3NMYW5ndWFnZS5kYXRhLm9mKHsgYXV0b2NvbXBsZXRlOiBjc3NDb21wbGV0aW9uU291cmNlIH0pKTtcbn1cblxuZXhwb3J0IHsgY3NzLCBjc3NDb21wbGV0aW9uU291cmNlLCBjc3NMYW5ndWFnZSB9O1xuIiwgImltcG9ydCB7IENvbnRleHRUcmFja2VyLCBFeHRlcm5hbFRva2VuaXplciwgTFJQYXJzZXIgfSBmcm9tICdAbGV6ZXIvbHInO1xuaW1wb3J0IHsgc3R5bGVUYWdzLCB0YWdzIH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgVFNFeHRlbmRzID0gMSxcbiAgbm9TZW1pID0gMjg4LFxuICBpbmNkZWMgPSAyLFxuICBpbmNkZWNQcmVmaXggPSAzLFxuICB0ZW1wbGF0ZUNvbnRlbnQgPSAyODksXG4gIEludGVycG9sYXRpb25TdGFydCA9IDQsXG4gIHRlbXBsYXRlRW5kID0gMjkwLFxuICBpbnNlcnRTZW1pID0gMjkxLFxuICBzcGFjZXMgPSAyOTMsXG4gIG5ld2xpbmUgPSAyOTQsXG4gIExpbmVDb21tZW50ID0gNSxcbiAgQmxvY2tDb21tZW50ID0gNixcbiAgRGlhbGVjdF90cyA9IDE7XG5cbi8qIEhhbmQtd3JpdHRlbiB0b2tlbml6ZXJzIGZvciBKYXZhU2NyaXB0IHRva2VucyB0aGF0IGNhbid0IGJlXG4gICBleHByZXNzZWQgYnkgbGV6ZXIncyBidWlsdC1pbiB0b2tlbml6ZXIuICovXG5cbmNvbnN0IHNwYWNlID0gWzksIDEwLCAxMSwgMTIsIDEzLCAzMiwgMTMzLCAxNjAsIDU3NjAsIDgxOTIsIDgxOTMsIDgxOTQsIDgxOTUsIDgxOTYsIDgxOTcsIDgxOTgsIDgxOTksIDgyMDAsXG4gICAgICAgICAgICAgICA4MjAxLCA4MjAyLCA4MjMyLCA4MjMzLCA4MjM5LCA4Mjg3LCAxMjI4OF07XG5cbmNvbnN0IGJyYWNlUiA9IDEyNSwgYnJhY2VMID0gMTIzLCBzZW1pY29sb24gPSA1OSwgc2xhc2ggPSA0Nywgc3RhciA9IDQyLFxuICAgICAgcGx1cyA9IDQzLCBtaW51cyA9IDQ1LCBkb2xsYXIgPSAzNiwgYmFja3RpY2sgPSA5NiwgYmFja3NsYXNoID0gOTI7XG5cbmNvbnN0IHRyYWNrTmV3bGluZSA9IG5ldyBDb250ZXh0VHJhY2tlcih7XG4gIHN0YXJ0OiBmYWxzZSxcbiAgc2hpZnQoY29udGV4dCwgdGVybSkge1xuICAgIHJldHVybiB0ZXJtID09IExpbmVDb21tZW50IHx8IHRlcm0gPT0gQmxvY2tDb21tZW50IHx8IHRlcm0gPT0gc3BhY2VzID8gY29udGV4dCA6IHRlcm0gPT0gbmV3bGluZVxuICB9LFxuICBzdHJpY3Q6IGZhbHNlXG59KTtcblxuY29uc3QgaW5zZXJ0U2VtaWNvbG9uID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgbGV0IHtuZXh0fSA9IGlucHV0O1xuICBpZiAoKG5leHQgPT0gYnJhY2VSIHx8IG5leHQgPT0gLTEgfHwgc3RhY2suY29udGV4dCkgJiYgc3RhY2suY2FuU2hpZnQoaW5zZXJ0U2VtaSkpXG4gICAgaW5wdXQuYWNjZXB0VG9rZW4oaW5zZXJ0U2VtaSk7XG59LCB7Y29udGV4dHVhbDogdHJ1ZSwgZmFsbGJhY2s6IHRydWV9KTtcblxuY29uc3Qgbm9TZW1pY29sb24gPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBsZXQge25leHR9ID0gaW5wdXQsIGFmdGVyO1xuICBpZiAoc3BhY2UuaW5kZXhPZihuZXh0KSA+IC0xKSByZXR1cm5cbiAgaWYgKG5leHQgPT0gc2xhc2ggJiYgKChhZnRlciA9IGlucHV0LnBlZWsoMSkpID09IHNsYXNoIHx8IGFmdGVyID09IHN0YXIpKSByZXR1cm5cbiAgaWYgKG5leHQgIT0gYnJhY2VSICYmIG5leHQgIT0gc2VtaWNvbG9uICYmIG5leHQgIT0gLTEgJiYgIXN0YWNrLmNvbnRleHQgJiYgc3RhY2suY2FuU2hpZnQobm9TZW1pKSlcbiAgICBpbnB1dC5hY2NlcHRUb2tlbihub1NlbWkpO1xufSwge2NvbnRleHR1YWw6IHRydWV9KTtcblxuY29uc3QgaW5jZGVjVG9rZW4gPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBsZXQge25leHR9ID0gaW5wdXQ7XG4gIGlmIChuZXh0ID09IHBsdXMgfHwgbmV4dCA9PSBtaW51cykge1xuICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICBpZiAobmV4dCA9PSBpbnB1dC5uZXh0KSB7XG4gICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICBsZXQgbWF5UG9zdGZpeCA9ICFzdGFjay5jb250ZXh0ICYmIHN0YWNrLmNhblNoaWZ0KGluY2RlYyk7XG4gICAgICBpbnB1dC5hY2NlcHRUb2tlbihtYXlQb3N0Zml4ID8gaW5jZGVjIDogaW5jZGVjUHJlZml4KTtcbiAgICB9XG4gIH1cbn0sIHtjb250ZXh0dWFsOiB0cnVlfSk7XG5cbmNvbnN0IHRlbXBsYXRlID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgZm9yIChsZXQgYWZ0ZXJEb2xsYXIgPSBmYWxzZSwgaSA9IDA7OyBpKyspIHtcbiAgICBsZXQge25leHR9ID0gaW5wdXQ7XG4gICAgaWYgKG5leHQgPCAwKSB7XG4gICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4odGVtcGxhdGVDb250ZW50KTtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIGlmIChuZXh0ID09IGJhY2t0aWNrKSB7XG4gICAgICBpZiAoaSkgaW5wdXQuYWNjZXB0VG9rZW4odGVtcGxhdGVDb250ZW50KTtcbiAgICAgIGVsc2UgaW5wdXQuYWNjZXB0VG9rZW4odGVtcGxhdGVFbmQsIDEpO1xuICAgICAgYnJlYWtcbiAgICB9IGVsc2UgaWYgKG5leHQgPT0gYnJhY2VMICYmIGFmdGVyRG9sbGFyKSB7XG4gICAgICBpZiAoaSA9PSAxKSBpbnB1dC5hY2NlcHRUb2tlbihJbnRlcnBvbGF0aW9uU3RhcnQsIDEpO1xuICAgICAgZWxzZSBpbnB1dC5hY2NlcHRUb2tlbih0ZW1wbGF0ZUNvbnRlbnQsIC0xKTtcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIGlmIChuZXh0ID09IDEwIC8qIFwiXFxuXCIgKi8gJiYgaSkge1xuICAgICAgLy8gQnJlYWsgdXAgdGVtcGxhdGUgc3RyaW5ncyBvbiBsaW5lcywgdG8gYXZvaWQgaHVnZSB0b2tlbnNcbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgIGlucHV0LmFjY2VwdFRva2VuKHRlbXBsYXRlQ29udGVudCk7XG4gICAgICBicmVha1xuICAgIH0gZWxzZSBpZiAobmV4dCA9PSBiYWNrc2xhc2gpIHtcbiAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICB9XG4gICAgYWZ0ZXJEb2xsYXIgPSBuZXh0ID09IGRvbGxhcjtcbiAgICBpbnB1dC5hZHZhbmNlKCk7XG4gIH1cbn0pO1xuXG5jb25zdCB0c0V4dGVuZHMgPSBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoKGlucHV0LCBzdGFjaykgPT4ge1xuICBpZiAoaW5wdXQubmV4dCAhPSAxMDEgfHwgIXN0YWNrLmRpYWxlY3RFbmFibGVkKERpYWxlY3RfdHMpKSByZXR1cm5cbiAgaW5wdXQuYWR2YW5jZSgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgIGlmIChpbnB1dC5uZXh0ICE9IFwieHRlbmRzXCIuY2hhckNvZGVBdChpKSkgcmV0dXJuXG4gICAgaW5wdXQuYWR2YW5jZSgpO1xuICB9XG4gIGlmIChpbnB1dC5uZXh0ID49IDU3ICYmIGlucHV0Lm5leHQgPD0gNjUgfHwgaW5wdXQubmV4dCA+PSA0OCAmJiBpbnB1dC5uZXh0IDw9IDkwIHx8XG4gICAgICBpbnB1dC5uZXh0ID09IDk1IHx8IGlucHV0Lm5leHQgPj0gOTcgJiYgaW5wdXQubmV4dCA8PSAxMjIgfHwgaW5wdXQubmV4dCA+IDE2MCkgcmV0dXJuXG4gIGlucHV0LmFjY2VwdFRva2VuKFRTRXh0ZW5kcyk7XG59KTtcblxuY29uc3QganNIaWdobGlnaHQgPSBzdHlsZVRhZ3Moe1xuICBcImdldCBzZXQgYXN5bmMgc3RhdGljXCI6IHRhZ3MubW9kaWZpZXIsXG4gIFwiZm9yIHdoaWxlIGRvIGlmIGVsc2Ugc3dpdGNoIHRyeSBjYXRjaCBmaW5hbGx5IHJldHVybiB0aHJvdyBicmVhayBjb250aW51ZSBkZWZhdWx0IGNhc2VcIjogdGFncy5jb250cm9sS2V5d29yZCxcbiAgXCJpbiBvZiBhd2FpdCB5aWVsZCB2b2lkIHR5cGVvZiBkZWxldGUgaW5zdGFuY2VvZlwiOiB0YWdzLm9wZXJhdG9yS2V5d29yZCxcbiAgXCJsZXQgdmFyIGNvbnN0IGZ1bmN0aW9uIGNsYXNzIGV4dGVuZHNcIjogdGFncy5kZWZpbml0aW9uS2V5d29yZCxcbiAgXCJpbXBvcnQgZXhwb3J0IGZyb21cIjogdGFncy5tb2R1bGVLZXl3b3JkLFxuICBcIndpdGggZGVidWdnZXIgYXMgbmV3XCI6IHRhZ3Mua2V5d29yZCxcbiAgVGVtcGxhdGVTdHJpbmc6IHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZyksXG4gIHN1cGVyOiB0YWdzLmF0b20sXG4gIEJvb2xlYW5MaXRlcmFsOiB0YWdzLmJvb2wsXG4gIHRoaXM6IHRhZ3Muc2VsZixcbiAgbnVsbDogdGFncy5udWxsLFxuICBTdGFyOiB0YWdzLm1vZGlmaWVyLFxuICBWYXJpYWJsZU5hbWU6IHRhZ3MudmFyaWFibGVOYW1lLFxuICBcIkNhbGxFeHByZXNzaW9uL1ZhcmlhYmxlTmFtZSBUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24vVmFyaWFibGVOYW1lXCI6IHRhZ3MuZnVuY3Rpb24odGFncy52YXJpYWJsZU5hbWUpLFxuICBWYXJpYWJsZURlZmluaXRpb246IHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSksXG4gIExhYmVsOiB0YWdzLmxhYmVsTmFtZSxcbiAgUHJvcGVydHlOYW1lOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgUHJpdmF0ZVByb3BlcnR5TmFtZTogdGFncy5zcGVjaWFsKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJDYWxsRXhwcmVzc2lvbi9NZW1iZXJFeHByZXNzaW9uL1Byb3BlcnR5TmFtZVwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgXCJGdW5jdGlvbkRlY2xhcmF0aW9uL1ZhcmlhYmxlRGVmaW5pdGlvblwiOiB0YWdzLmZ1bmN0aW9uKHRhZ3MuZGVmaW5pdGlvbih0YWdzLnZhcmlhYmxlTmFtZSkpLFxuICBcIkNsYXNzRGVjbGFyYXRpb24vVmFyaWFibGVEZWZpbml0aW9uXCI6IHRhZ3MuZGVmaW5pdGlvbih0YWdzLmNsYXNzTmFtZSksXG4gIFByb3BlcnR5RGVmaW5pdGlvbjogdGFncy5kZWZpbml0aW9uKHRhZ3MucHJvcGVydHlOYW1lKSxcbiAgUHJpdmF0ZVByb3BlcnR5RGVmaW5pdGlvbjogdGFncy5kZWZpbml0aW9uKHRhZ3Muc3BlY2lhbCh0YWdzLnByb3BlcnR5TmFtZSkpLFxuICBVcGRhdGVPcDogdGFncy51cGRhdGVPcGVyYXRvcixcbiAgTGluZUNvbW1lbnQ6IHRhZ3MubGluZUNvbW1lbnQsXG4gIEJsb2NrQ29tbWVudDogdGFncy5ibG9ja0NvbW1lbnQsXG4gIE51bWJlcjogdGFncy5udW1iZXIsXG4gIFN0cmluZzogdGFncy5zdHJpbmcsXG4gIEFyaXRoT3A6IHRhZ3MuYXJpdGhtZXRpY09wZXJhdG9yLFxuICBMb2dpY09wOiB0YWdzLmxvZ2ljT3BlcmF0b3IsXG4gIEJpdE9wOiB0YWdzLmJpdHdpc2VPcGVyYXRvcixcbiAgQ29tcGFyZU9wOiB0YWdzLmNvbXBhcmVPcGVyYXRvcixcbiAgUmVnRXhwOiB0YWdzLnJlZ2V4cCxcbiAgRXF1YWxzOiB0YWdzLmRlZmluaXRpb25PcGVyYXRvcixcbiAgQXJyb3c6IHRhZ3MuZnVuY3Rpb24odGFncy5wdW5jdHVhdGlvbiksXG4gIFwiOiBTcHJlYWRcIjogdGFncy5wdW5jdHVhdGlvbixcbiAgXCIoIClcIjogdGFncy5wYXJlbixcbiAgXCJbIF1cIjogdGFncy5zcXVhcmVCcmFja2V0LFxuICBcInsgfVwiOiB0YWdzLmJyYWNlLFxuICBcIkludGVycG9sYXRpb25TdGFydCBJbnRlcnBvbGF0aW9uRW5kXCI6IHRhZ3Muc3BlY2lhbCh0YWdzLmJyYWNlKSxcbiAgXCIuXCI6IHRhZ3MuZGVyZWZPcGVyYXRvcixcbiAgXCIsIDtcIjogdGFncy5zZXBhcmF0b3IsXG5cbiAgVHlwZU5hbWU6IHRhZ3MudHlwZU5hbWUsXG4gIFR5cGVEZWZpbml0aW9uOiB0YWdzLmRlZmluaXRpb24odGFncy50eXBlTmFtZSksXG4gIFwidHlwZSBlbnVtIGludGVyZmFjZSBpbXBsZW1lbnRzIG5hbWVzcGFjZSBtb2R1bGUgZGVjbGFyZVwiOiB0YWdzLmRlZmluaXRpb25LZXl3b3JkLFxuICBcImFic3RyYWN0IGdsb2JhbCBQcml2YWN5IHJlYWRvbmx5IG92ZXJyaWRlXCI6IHRhZ3MubW9kaWZpZXIsXG4gIFwiaXMga2V5b2YgdW5pcXVlIGluZmVyXCI6IHRhZ3Mub3BlcmF0b3JLZXl3b3JkLFxuXG4gIEpTWEF0dHJpYnV0ZVZhbHVlOiB0YWdzLmF0dHJpYnV0ZVZhbHVlLFxuICBKU1hUZXh0OiB0YWdzLmNvbnRlbnQsXG4gIFwiSlNYU3RhcnRUYWcgSlNYU3RhcnRDbG9zZVRhZyBKU1hTZWxmQ2xvc2VFbmRUYWcgSlNYRW5kVGFnXCI6IHRhZ3MuYW5nbGVCcmFja2V0LFxuICBcIkpTWElkZW50aWZpZXIgSlNYTmFtZVNwYWNlZE5hbWVcIjogdGFncy50YWdOYW1lLFxuICBcIkpTWEF0dHJpYnV0ZS9KU1hJZGVudGlmaWVyIEpTWEF0dHJpYnV0ZS9KU1hOYW1lU3BhY2VkTmFtZVwiOiB0YWdzLmF0dHJpYnV0ZU5hbWUsXG4gIFwiSlNYQnVpbHRpbi9KU1hJZGVudGlmaWVyXCI6IHRhZ3Muc3RhbmRhcmQodGFncy50YWdOYW1lKVxufSk7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3Qgc3BlY19pZGVudGlmaWVyID0ge19fcHJvdG9fXzpudWxsLGV4cG9ydDoxOCwgYXM6MjMsIGZyb206MjksIGRlZmF1bHQ6MzIsIGFzeW5jOjM3LCBmdW5jdGlvbjozOCwgdGhpczo1MCwgdHJ1ZTo1OCwgZmFsc2U6NTgsIG51bGw6NjgsIHZvaWQ6NzIsIHR5cGVvZjo3Niwgc3VwZXI6OTIsIG5ldzoxMjYsIGF3YWl0OjE0MywgeWllbGQ6MTQ1LCBkZWxldGU6MTQ2LCBjbGFzczoxNTYsIGV4dGVuZHM6MTU4LCBwdWJsaWM6MjAzLCBwcml2YXRlOjIwMywgcHJvdGVjdGVkOjIwMywgcmVhZG9ubHk6MjA1LCBpbnN0YW5jZW9mOjIyNiwgc2F0aXNmaWVzOjIyOSwgaW46MjMwLCBjb25zdDoyMzIsIGltcG9ydDoyNjQsIGtleW9mOjMxOSwgdW5pcXVlOjMyMywgaW5mZXI6MzI5LCBpczozNjUsIGFic3RyYWN0OjM4NSwgaW1wbGVtZW50czozODcsIHR5cGU6Mzg5LCBsZXQ6MzkyLCB2YXI6Mzk0LCBpbnRlcmZhY2U6NDAxLCBlbnVtOjQwNSwgbmFtZXNwYWNlOjQxMSwgbW9kdWxlOjQxMywgZGVjbGFyZTo0MTcsIGdsb2JhbDo0MjEsIGZvcjo0NDIsIG9mOjQ1MSwgd2hpbGU6NDU0LCB3aXRoOjQ1OCwgZG86NDYyLCBpZjo0NjYsIGVsc2U6NDY4LCBzd2l0Y2g6NDcyLCBjYXNlOjQ3OCwgdHJ5OjQ4NCwgY2F0Y2g6NDg4LCBmaW5hbGx5OjQ5MiwgcmV0dXJuOjQ5NiwgdGhyb3c6NTAwLCBicmVhazo1MDQsIGNvbnRpbnVlOjUwOCwgZGVidWdnZXI6NTEyfTtcbmNvbnN0IHNwZWNfd29yZCA9IHtfX3Byb3RvX186bnVsbCxhc3luYzoxMTMsIGdldDoxMTUsIHNldDoxMTcsIHB1YmxpYzoxNjUsIHByaXZhdGU6MTY1LCBwcm90ZWN0ZWQ6MTY1LCBzdGF0aWM6MTY3LCBhYnN0cmFjdDoxNjksIG92ZXJyaWRlOjE3MSwgcmVhZG9ubHk6MTc3LCBhY2Nlc3NvcjoxNzksIG5ldzozNjl9O1xuY29uc3Qgc3BlY19MZXNzVGhhbiA9IHtfX3Byb3RvX186bnVsbCxcIjxcIjoxMzN9O1xuY29uc3QgcGFyc2VyID0gTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIiQ7Zk9gUWRPT08nVFEoQ3xPJyNDaE8nW09XTycjRFlPKWdRZE8nI0RfTyl3UWRPJyNEak8qT1FkTycjRHRPLXtRZE8nI0R6T09RTycjRWAnI0VgTy5gUWBPJyNFX08uZVFgTycjRV9PT1EoQ1snI0VpJyNFaU8wZ1EoQ3xPJyNJek8zUVEoQ3xPJyNJe08zblFgTycjRk9PM3NRIWJPJyNGZ09PUShDWycjRlcnI0ZXTzRPTyN0TycjRldPNF5RJmpPJyNGbk81cVFgTycjRm1PT1EoQ1snI0l7JyNJe09PUShDVycjSXonI0l6T09RUycjSmQnI0pkTzV2UWBPJyNId081e1EoQ2hPJyNIeE9PUVMnI0lvJyNJb09PUVMnI0h5JyNIeVFgUWRPT08qT1FkTycjRGxPNlRRYE8nI0djTzZZUSZqTycjQ21PNmhRYE8nI0VeTzZzUWBPJyNFak82eFEmak8nI0ZWTzdkUWBPJyNHY083aVFgTycjR2dPN3RRYE8nI0dnTzhTUWBPJyNHak84U1FgTycjR2tPOFNRYE8nI0dtTzZUUWBPJyNHcE84c1FgTycjR3NPOlJRYE8nI0NkTzpjUWBPJyNIUU86a1FgTycjSFdPOmtRYE8nI0hZT2BRZE8nI0hbTzprUWBPJyNIXk86a1FgTycjSGFPOnBRYE8nI0hnTzp1UShDak8nI0htTypPUWRPJyNIb087UVEoQ2pPJyNIcU87XVEoQ2pPJyNIc081e1EoQ2hPJyNIdU8qT1FkTycjRFpPT09XJyNIeycjSHtPO2hPV08sNTl0T09RKENbLDU5dCw1OXRPPXxRdE8nI0NoTz5XUWRPJyNIfE8+a1FgTycjSXxPQG1RdE8nI0l8TydnUWRPJyNJfE9AdFFgTyw1OXlPQHlRLFVPJyNEZE9CUFFgTycjRWBPQl5RYE8nI0pYT0JpUWBPJyNKV09CaVFgTycjSldPQnFRYE8sNTp8T0J2UWBPJyNKVk9CfVFhTycjRHtPNllRJmpPJyNFXk9DXVFgTycjRV5PQ2hRcE8nI0ZWT09RKENbLDU6VSw1OlVPQ3BRZE8sNTpVT0VxUShDfE8sNTpgT0ZfUWBPLDU6Zk9GeFEoQ2hPJyNKVU83aVFgTycjSlRPR1BRYE8nI0pUT0dYUWBPLDU6e09HXlFgTycjSlRPR2xRZE8sNTp5T0lsUSZqTycjRVpPSnxRYE8sNTp5T0xjUSZqTycjRG5PTGpRZE8nI0RzT0x0USxVTyw1O1NPTHxRLFVPLDU7U08qT1FkTyw1O1NPT1FTJyNFdicjRXZPT1FTJyNFeCcjRXhPKk9RZE8sNTtVTypPUWRPLDU7VU8qT1FkTyw1O1VPKk9RZE8sNTtVTypPUWRPLDU7VU8qT1FkTyw1O1VPKk9RZE8sNTtVTypPUWRPLDU7VU8qT1FkTyw1O1VPKk9RZE8sNTtVTypPUWRPLDU7VU9PUVMnI0V8JyNFfE9NW1FkTyw1O2dPT1EoQ1ssNTtsLDU7bE9PUShDWyw1O20sNTttTyEgW1FgTyw1O21PT1EoQ1ssNTtuLDU7bk8qT1FkTycjSVdPISBkUShDaE8sNTxaT0lsUSZqTyw1O1VPISFPUSZqTyw1O1VPKk9RZE8sNTtqTyEhVlEhYk8nI0ZdTyEjU1EhYk8nI0pdTyEhblEhYk8nI0pdTyEjWlEhYk8nI0pdT09RTycjSl0nI0pdTyEjb1EhYk8sNTt1T09PTyw1PFIsNTxSTyEkUVFkTycjRmlPT09PJyNJVicjSVZPNE9PI3RPLDU7ck8hJFhRIWJPJyNGa09PUShDWyw1O3IsNTtyTyEkeFE3XU8nI0NzT09RKENdJyNDdicjQ3ZPISVdUWBPJyNDdk8hJWJPV08nI0N6TyEmT1Ema08sNTxXTyEmVlFgTyw1PFlPISdpUU1oTycjRnhPISd2UWBPJyNGeU8hJ3tRYE8nI0Z5TyEoUVFNaE8nI0Z9TyEpUFEsVU8nI0dSTyEpdVE3XU8nI0l3T09RKENdJyNJdycjSXdPISp4UWFPJyNJdk8hK1dRYE8nI0l1TyErYFFgTycjQ3JPT1EoQ10nI0N0JyNDdE9PUShDXScjQ30nI0N9T09RKENdJyNEUCcjRFBPIStoUWBPJyNEUk9LUlEmak8nI0ZwT0tSUSZqTycjRnJPISttUWBPJyNGdE8hK3JRYE8nI0Z1TyEne1FgTycjRntPS1JRJmpPJyNHUU8hK3dRYE8nI0VhTyEsYFFgTyw1PFhPYFFkTyw1PmNPT1FTJyNJcicjSXJPT1FTLDU+ZCw1PmRPT1FTLUU7dy1FO3dPIS5fUShDfE8sNTpXT09RKENYJyNDcCcjQ3BPIS9PUSZrTyw1PH1PT1FPJyNDZicjQ2ZPIS9hUShDaE8nI0lzTzVxUWBPJyNJc086cFFgTyw1OVhPIS9yUSFiTyw1OVhPIS96USZqTyw1OVhPNllRJmpPLDU5WE8hMFZRYE8sNTp5TyEwX1FgTycjSFBPITBtUWBPJyNKaE8qT1FkTyw1O29PITB1USxVTyw1O3FPITB6UWBPLDU9ak8hMVBRYE8sNT1qTyExVVFgTyw1PWpPNXtRKENoTyw1PWpPNlRRYE8sNTx9TyExZFFgTycjRWJPITJaUSxVTycjRWNPT1EoQ1cnI0pWJyNKVk8hMmJRKENoTycjSmVPNXtRKENoTyw1PVJPOFNRYE8sNT1YT09RUCcjQ3MnI0NzTyEybVEhYk8sNT1VTyEydVEhY08sNT1WTyEzUVFgTyw1PVhPITNWUXBPLDU9W086cFFgTycjR3VPNlRRYE8nI0d3TyEzX1FgTycjR3dPNllRJmpPJyNHek8hM2RRYE8nI0d6T09RUyw1PV8sNT1fTyEzaVFgTycjR3tPITNxUWBPJyNDbU8hM3ZRYE8sNTlPTyE0UVFgTyw1OU9PITZTUWRPLDU5T09PUVMsNTlPLDU5T08hNmFRKENoTyw1OU9PKk9RZE8sNTlPTyE2bFFkTycjSFNPT1FTJyNIVCcjSFRPT1FTJyNIVScjSFVPYFFkTyw1PWxPITZ8UWBPLDU9bE8qT1FkTycjRHpPYFFkTyw1PXJPYFFkTyw1PXRPITdSUWBPLDU9dk9gUWRPLDU9eE8hN1dRYE8sNT17TyE3XVFkTyw1PlJPT1FTLDU+WCw1PlhPKk9RZE8sNT5YTzV7UShDaE8sNT5aT09RUyw1Pl0sNT5dTyE7XlFgTyw1Pl1PT1FTLDU+Xyw1Pl9PITteUWBPLDU+X09PUVMsNT5hLDU+YU8hO2NRcE8sNTl1T09PVy1FO3ktRTt5T09RKENbMUcvYDFHL2BPITtoUXRPLDU+aE8nZ1FkTyw1PmhPT1FPLDU+bSw1Pm1PITtyUWRPJyNIfE9PUU8tRTt6LUU7ek8hPFBRYE8sNT9oTyE8WFF0Tyw1P2hPITxgUWBPLDU/ck9PUShDWzFHL2UxRy9lTyE8aFEhYk8nI0RXT09RKENXJyNKTycjSk9PKk9RZE8nI0pPTyE9VlEhYk8nI0pPTyE9dFEhYk8nI0RlTyE+VlEsVU8nI0RlTyFAYlFkTycjRGVPIUBpUWBPJyNJfU8hQHFRYE8sNTpPTyFAdlFgTycjRWRPIUFVUWBPJyNKWU8hQV5RYE8sNTp9TyFBdFEsVU8nI0RlTypPUWRPLDU/c08hQk9RYE8nI0lST09RTy1FPFAtRTxQTyE8YFFgTyw1P3JPT1EoQ1cxRzBoMUcwaE8hQmRRLFVPJyNFT09PUShDWyw1OmcsNTpnTypPUWRPLDU6Z09JbFEmak8sNTpnTyFDXlFhTyw1OmdPOnBRYE8sNTp4TyEvclEhYk8sNTp4TyEvelEmak8sNTp4TzZZUSZqTyw1OnhPT1EoQ1sxRy9wMUcvcE9PUShDWzFHMFExRzBRT09RKENXJyNFWScjRVlPKk9RZE8sNT9wTyFDaVEoQ2hPLDU/cE8hQ3pRKENoTyw1P3BPIURSUWBPLDU/b08hRFpRYE8nI0lUTyFEUlFgTyw1P29PT1EoQ1cxRzBnMUcwZ083aVFgTyw1P29PT1EoQ1sxRzBlMUcwZU8hRHVRKEN8TzFHMGVPIUV3UShDeU8sNTp1T09RKENdJyNGdycjRndPIUhiUShDfU8nI0l3T0dsUWRPMUcwZU8hSVVRJmtPJyNKUE8hSWBRYE8sNTpZTyFJZVF0TycjSlFPKk9RZE8nI0pRTyFJb1FgTyw1Ol9PT1EoQ10nI0RXJyNEV09PUShDWzFHMG4xRzBuTypPUWRPMUcwbk9PUShDWzFHMVgxRzFYTyFJdFFgTzFHMG5PIUxZUShDfE8xRzBwTyFMYVEoQ3xPMUcwcE8hTndRKEN8TzFHMHBPIyBPUShDfE8xRzBwTyMjVlEoQ3xPMUcwcE8jI21RKEN8TzFHMHBPIyZkUShDfE8xRzBwTyMma1EoQ3xPMUcwcE8jKVJRKEN8TzFHMHBPIylZUShDfE8xRzBwTyMrUVEoQ3xPMUcwcE8jLX1RIUxVTycjQ2hPIy97USFMVU8xRzFSTyMxeVEhTFVPJyNJe08hIF9RYE8xRzFYTyMyXlEoQ3xPLDU+ck9PUShDVy1FPFUtRTxVTyMyfVEoQ31PMUcwcE9PUShDWzFHMHAxRzBwTyM1VlEoQ3xPMUcxVU8jNXZRIWJPLDU7eU8jNk9RIWJPLDU7ek8jNldRIWJPJyNGYk8jNm9RYE8nI0ZhT09RTycjSl4nI0peT09RTycjSVUnI0lVTyM2dFEhYk8xRzFhT09RKENbMUcxYTFHMWFPT09PMUcxbDFHMWxPIzdWUSFMVU8nI0l6TyM3YVFgTyw1PFRPTVtRZE8sNTxUT09PTy1FPFQtRTxUT09RKENbMUcxXjFHMV5PT1EoQ1ssNTxWLDU8Vk8jN2ZRIWJPLDU8Vk9PUShDXSw1OWIsNTliT0lsUSZqTycjQ3xPT09XJyNIeicjSHpPIzdrT1dPLDU5Zk9PUShDXSw1OWYsNTlmTypPUWRPMUcxck8hK3JRYE8nI0lZTyM3dlFgTyw1PGtPT1EoQ10sNTxoLDU8aE9PUU8nI0deJyNHXk9LUlEmak8sNTx3T09RTycjR2AnI0dgT0tSUSZqTyw1PHlPSWxRJmpPLDU8e09PUU8xRzF0MUcxdE8jOFJRcU8nI0NwTyM4ZlFxTyw1PGRPIzhtUWBPJyNKYU82VFFgTycjSmFPIzh7UWBPLDU8Zk9LUlEmak8sNTxlTyM5UVFgTycjRnpPIzldUWBPLDU8ZU8jOWJRcU8nI0Z3TyM5b1FxTycjSmJPIzl5UWBPJyNKYk9JbFEmak8nI0piTyM6T1FgTyw1PGlPT1EoQ1cnI0RpJyNEaU8jOlRRIWJPJyNHU08hKHpRLFVPJyNHU08jOmZRYE8nI0dVTyM6a1FgTycjR1dPISd7UWBPJyNHWk8jOnBRKENoTycjSVtPIzp7USxVTyw1PG1PT1EoQ10sNTxtLDU8bU8jO1NRLFVPJyNHU08jO2JRLFVPJyNHVE8jO2pRLFVPJyNHVE9PUShDXSw1PHwsNTx8T0tSUSZqTyw1P2JPS1JRJmpPLDU/Yk8jO29RYE8nI0ldTyM7elFgTyw1P2FPIzxTUWBPLDU5Xk9PUShDXScjQ2gnI0NoTyM8c1Ema08sNTltT09RKENdLDU5bSw1OW1PIz1mUSZrTyw1PFtPIz5YUSZrTyw1PF5PIz5jUWBPLDU8YE9PUShDXSw1PGEsNTxhTyM+aFFgTyw1PGdPIz5tUSZrTyw1PGxPR2xRZE8xRzFzTyM+fVFgTzFHMXNPT1FTMUczfTFHM31PT1EoQ1sxRy9yMUcvck8hIFtRYE8xRy9yT09RUzFHMmkxRzJpT0lsUSZqTzFHMmlPKk9RZE8xRzJpT0lsUSZqTzFHMmlPIz9TUWFPMUcyaU8jQGxRJmpPJyNFWk9PUShDVyw1P18sNT9fTyNAdlEoQ2hPLDU/X09PUVMxRy5zMUcuc086cFFgTzFHLnNPIS9yUSFiTzFHLnNPIS96USZqTzFHLnNPI0FYUWBPMUcwZU8jQV5RYE8nI0NoTyNBaVFgTycjSmlPI0FxUWBPLDU9a08jQXZRYE8nI0ppTyNBe1FgTycjSmlPI0JUUWBPJyNJZU8jQmNRYE8sNUBTTyNCa1F0TzFHMVpPT1EoQ1sxRzFdMUcxXU82VFFgTzFHM1VPI0JyUWBPMUczVU8jQndRYE8xRzNVTyNCfFFgTzFHM1VPT1FTMUczVTFHM1VPI0NSUSZrTzFHMmlPN2lRYE8nI0pXTzdpUWBPJyNFZE8qT1FkTycjRWRPN2lRYE8nI0lfTyNDZFEoQ2hPLDVAUE9PUVMxRzJtMUcybU8hM1FRYE8xRzJzT0lsUSZqTzFHMnBPI0NvUWBPMUcycE9PUVMxRzJxMUcycU9JbFEmak8xRzJxTyNDdFFhTzFHMnFPI0N8USxVTycjR29PT1FTMUcyczFHMnNPISh6USxVTycjSWFPITNWUXBPMUcydk9PUVMxRzJ2MUcydk9PUVMsNT1hLDU9YU8jRFVRJmtPLDU9Y082VFFgTyw1PWNPIzprUWBPLDU9Zk81cVFgTyw1PWZPIS9yUSFiTyw1PWZPIS96USZqTyw1PWZPNllRJmpPLDU9Zk8jRGdRYE8nI0pnTyNEclFgTyw1PWdPT1FTMUcuajFHLmpPI0R3UShDaE8xRy5qTyNFU1FgTzFHLmpPI0VYUWBPMUcuak81e1EoQ2hPMUcuak8jRWFRdE8sNUBVTyNFa1FgTyw1QFVPI0V2UWRPLDU9bk8jRX1RYE8sNT1uTzdpUWBPLDVAVU9PUVMxRzNXMUczV09gUWRPMUczV09PUVMxRzNeMUczXk9PUVMxRzNgMUczYE86a1FgTzFHM2JPI0ZTUWRPMUczZE8jSX1RZE8nI0hjT09RUzFHM2cxRzNnTyNKW1FgTycjSGlPOnBRYE8nI0hrT09RUzFHM20xRzNtTyNKZFFkTzFHM21PNXtRKENoTzFHM3NPT1FTMUczdTFHM3VPT1EoQ1cnI0dPJyNHT081e1EoQ2hPMUczd081e1EoQ2hPMUczeU9PT1cxRy9hMUcvYU8jTmJRcE8sNTxaTyNOalF0TzFHNFNPT1FPMUc0WDFHNFhPKk9RZE8sNT5oTyNOdFFgTzFHNVNPI058UWBPMUc1Xk8kIFVRYE8sNT9qT01bUWRPLDU7T083aVFgTyw1O09POnBRYE8sNTpQT01bUWRPLDU6UE8qT1FkTycjSk9PIS9yUSFiTyw1OlBPJCBaUSFMVU8sNTpQT09RTyw1O08sNTtPTyQgZVEsVU8nI0h9TyQge1FgTyw1P2lPT1EoQ1sxRy9qMUcvak8kIVRRLFVPJyNJU08kIV9RYE8sNT90T09RKENXMUcwaTFHMGlPIT5WUSxVTyw1OlBPJCFnUXRPMUc1X083aVFgTyw1Pm1PT1EoQ1cnI0VVJyNFVU8kIXFRKERqTycjRVZPJCNdUSxVTycjRVBPT1FPJyNJUScjSVFPJCNuUSxVTyw1OmpPT1EoQ1ssNTpqLDU6ak8kJGhRLFVPJyNFUE8kJHVRLFVPJyNFUE8kJVZRLFVPJyNFXU8kJVlRLFVPJyNFVk8kJXNRLFVPJyNFVk8kI11RLFVPJyNFVk8kJmRRYE8xRzBSTyQmaVFxTzFHMFJPT1EoQ1sxRzBSMUcwUk8qT1FkTzFHMFJPSWxRJmpPMUcwUk9PUShDWzFHMGQxRzBkTzpwUWBPMUcwZE8hL3JRIWJPMUcwZE8hL3pRJmpPMUcwZE8kJnBRKEN8TzFHNVtPKk9RZE8xRzVbTyQnUVEoQ2hPMUc1W08kJ2NRYE8xRzVaTzdpUWBPLDU+b09PUU8sNT5vLDU+b08kJ2tRYE8sNT5vT09RTy1FPFItRTxSTyQnY1FgTzFHNVpPJCd5UShDfU8sNTltTyQqT1EoQ31PLDU8W08kLFdRKEN9Tyw1PF5PJC5gUShDfU8sNTxsT09RKENbNysmUDcrJlBPJDBuUShDfE83KyZQTyQxX1Emak8nI0lPTyQxaVFgTyw1P2tPT1EoQ10xRy90MUcvdE8kMXFRZE8nI0lQTyQyT1FgTyw1P2xPJDJXUXRPLDU/bE9PUShDWzFHL3kxRy95TyQyYlFgTzcrJllPT1EoQ1s3KyZZNysmWU8kMmdRIUxVTyw1OmBPKk9RZE83KyZtTyQycVEhTFVPLDU6V09PUShDWzcrJnM3KyZzT09RTzFHMWUxRzFlT09RTzFHMWYxRzFmTyQzT1EkSVNPLDU7fE9NW1FkTyw1O3tPT1FPLUU8Uy1FPFNPT1EoQ1s3KyZ7Nysme09PT083KydXNysnV09PT08xRzFvMUcxb08kM1pRYE8xRzFvT09RKENbMUcxcTFHMXFPJDNgUXFPLDU5aE9PT1ctRTt4LUU7eE9PUShDXTFHL1ExRy9RTyQzZ1EoQ3xPNysnXk9PUShDXSw1PnQsNT50TyQ0V1FgTyw1PnRPT1EoQ10xRzJWMUcyVlAkNF1RYE8nI0lZUE9RKENdLUU8Vy1FPFdPJDR8USZrTzFHMmNPJDVvUSZrTzFHMmVPJDV5UXFPMUcyZ09PUShDXTFHMk8xRzJPTyQ2UVFgTycjSVhPJDZgUWBPLDU/e08kNmBRYE8sNT97TyQ2aFFgTyw1P3tPJDZzUWBPLDU/e09PUU8xRzJRMUcyUU8kN1JRJmtPMUcyUE9LUlEmak8xRzJQTyQ3Y1FNaE8nI0laTyQ3c1FgTyw1P3xPSWxRJmpPLDU/fE8kN3tRcU8sNT98T09RKENdMUcyVDFHMlRPT1EoQ1csNTxuLDU8bk9PUShDVyw1PG8sNTxvTyQ4VlFgTyw1PG9PIzphUWBPLDU8b08hL3JRIWJPLDU8bk9PUU8nI0dWJyNHVk8kOFtRYE8sNTxwT09RKENXLDU8ciw1PHJPJDhWUWBPLDU8dU9PUU8sNT52LDU+dk9PUU8tRTxZLUU8WU9PUShDXTFHMlgxRzJYTyEoelEsVU8sNTxuTyQ4ZFFgTyw1PG9PIzpmUWBPLDU8cE8hKHpRLFVPLDU8b08kOG9RJmtPMUc0fE8kOHlRJmtPMUc0fE9PUU8sNT53LDU+d09PUU8tRTxaLUU8Wk9PUVAxRy54MUcueE8hMHVRLFVPLDU5b08qT1FkTyw1OW9PJDlXUWBPMUcxek9LUlEmak8xRzJSTyQ5XVEoQ3xPNysnX09PUShDWzcrJ183KydfT0dsUWRPNysnX09PUShDWzcrJV43KyVeTyQ5fFFxTycjSmNPJCZkUWBPNysoVE8kOldRYE83KyhUTyQ6YFFxTzcrKFRPT1FTNysoVDcrKFRPSWxRJmpPNysoVE8qT1FkTzcrKFRPSWxRJmpPNysoVE8kOmpRKEN5TycjQ2hPJDp9UShDeU8sNTxzTyQ7b1FgTyw1PHNPT1EoQ1cxRzR5MUc0eU9PUVM3KyRfNyskX086cFFgTzcrJF9PIS9yUSFiTzcrJF9PR2xRZE83KyZQTyQ7dFFgTycjSWRPJDxWUWBPLDVAVE9PUU8xRzNWMUczVk82VFFgTyw1QFRPJDxWUWBPLDVAVE8kPF9RYE8sNUBUT09RTyw1P1AsNT9QT09RTy1FPGMtRTxjT09RKENbNysmdTcrJnVPJDxkUWBPNysocE81e1EoQ2hPNysocE82VFFgTzcrKHBPJDxpUWBPNysocE8kPG5RYU83KyhUTyQ8fFFgTyw1O09PT1EoQ1csNT55LDU+eU9PUShDVy1FPF0tRTxdT09RUzcrKF83KyhfTyQ9UlEoQ3lPNysoW09JbFEmak83KyhbTyQ9XVFxTzcrKF1PT1FTNysoXTcrKF1PSWxRJmpPNysoXU8kPWRRYE8nI0pmTyQ9b1FgTyw1PVpPT1FPLDU+eyw1PntPT1FPLUU8Xy1FPF9PT1FTNysoYjcrKGJPJD5yUSxVTycjR3hPT1FTMUcyfTFHMn1PSWxRJmpPMUcyfU8qT1FkTzFHMn1PSWxRJmpPMUcyfU8kPnlRYU8xRzJ9TyQ/WFEma08xRzJ9TzV7UShDaE8xRzNRTyM6a1FgTzFHM1FPNXFRYE8xRzNRTyEvclEhYk8xRzNRTyEvelEmak8xRzNRTyQ/alFgTycjSWNPJD91UWBPLDVAUk8kP31RLFVPLDVAUk9PUShDVzFHM1IxRzNST09RUzcrJFU3KyRVTyRAVlFgTzcrJFVPNXtRKENoTzcrJFVPJEBbUWBPNyskVU8qT1FkTzFHNXBPKk9RZE8xRzVxTyRAYVFkTzFHM1lPJEBoUWBPMUczWU8kQG1RZE8xRzNZTyRAdFEoQ2hPMUc1cE9PUVM3KyhyNysock81e1EoQ2hPNysofE9gUWRPNyspT09PUVMnI0psJyNKbE9PUVMnI0lmJyNJZk8kQU9RZE8sNT19T09RUyw1PX0sNT19TypPUWRPJyNIZE8kQV1RYE8nI0hmT09RUyw1PlQsNT5UTzdpUWBPLDU+VE9PUVMsNT5WLDU+Vk9PUVM3KylYNyspWE9PUVM3KylfNyspX09PUVM3KyljNyspY09PUVM3KyllNyspZU8kQWJRIWJPMUc1VU8kQXZRIUxVTzFHMGpPJEJRUWBPMUcwak9PUU8xRy9rMUcva08kQl1RIUxVTzFHL2tPJEJnUWBPLDU/ak86cFFgTzFHL2tPTVtRZE8nI0RlT09RTyw1PmksNT5pT09RTy1FO3stRTt7T09RTyw1Pm4sNT5uT09RTy1FPFEtRTxRTyEvclEhYk8xRy9rTzpwUWBPLDU6a09PUU8sNTpxLDU6cU8qT1FkTyw1OnFPJEJsUShDaE8sNTpxTyRCd1EoQ2hPLDU6cU8hL3JRIWJPLDU6a09PUU8tRTxPLUU8T09PUShDWzFHMFUxRzBVTyQjXVEsVU8sNTprTyRDVlEsVU8sNTprTyRDZFEoRGpPLDU6cU8kRE9RLFVPLDU6a08kI11RLFVPLDU6cU9PUU8sNTp3LDU6d08kRGBRLFVPLDU6cU8kRHlRKENoTyw1OnFPT1EoQ1s3KyVtNyslbU8kJmRRYE83KyVtTyQmaVFxTzcrJW1PT1EoQ1s3KyZPNysmT086cFFgTzcrJk9PIS9yUSFiTzcrJk9PJEVfUShDfE83Kyp2TypPUWRPNysqdk9PUU8xRzRaMUc0Wk83aVFgTzFHNFpPJEVvUWBPNysqdU8kRXdRKEN9TzFHMmNPJEhQUShDfU8xRzJlTyRKWFEoQ31PMUcyUE8kTGdRJmtPLDU+ak9PUU8tRTt8LUU7fE8kTHFRdE8sNT5rTypPUWRPLDU+a09PUU8tRTt9LUU7fU8kTHtRYE8xRzVXT09RKENbPDxJdDw8SXRPJE1UUSFMVU8xRzBlTyUgX1EhTFVPMUcwcE8lIGZRIUxVTzFHMHBPJSNqUSFMVU8xRzBwTyUjcVEhTFVPMUcwcE8lJWZRIUxVTzFHMHBPJSV8USFMVU8xRzBwTyUoYVEhTFVPMUcwcE8lKGhRIUxVTzFHMHBPJSpsUSFMVU8xRzBwTyUqc1EhTFVPMUcwcE8lLGtRIUxVTzFHMHBPJS1PUShDfE88PEpYTyUuUVEhTFZPMUcwcE8lL3ZRIUxWTycjSXdPJTBRUSFMVU8xRzFVT01bUWRPJyNGZE9PUU8nI0pfJyNKX09PUU8xRzFoMUcxaE8lMF9RYE8xRzFnTyUwZFEhTFVPLDU+ck9PT083KydaNysnWk9PT1cxRy9TMUcvU09PUShDXTFHNGAxRzRgT0tSUSZqTzcrKFJPJTBuUWBPLDU+c082VFFgTyw1PnNPT1FPLUU8Vi1FPFZPJTB8UWBPMUc1Z08lMHxRYE8xRzVnTyUxVVFgTzFHNWdPJTFhUSZrTzcrJ2tPJTFxUXFPLDU+dU8lMXtRYE8sNT51T0lsUSZqTyw1PnVPT1FPLUU8WC1FPFhPJTJRUXFPMUc1aE8lMltRYE8xRzVoT09RKENXMUcyWjFHMlpPJDhWUWBPMUcyWk9PUShDVzFHMlkxRzJZTyUyZFFgTzFHMltPSWxRJmpPMUcyW09PUShDVzFHMmExRzJhTyEvclEhYk8xRzJZTyM6YVFgTzFHMlpPJTJpUWBPMUcyW08lMnFRYE8xRzJaT0tSUSZqTzcrKmhPT1EoQ10xRy9aMUcvWk8lMnxRYE8xRy9aT09RKENdNysnZjcrJ2ZPJTNSUSZrTzcrJ21PJTNjUShDfE88PEp5T09RKENbPDxKeTw8SnlPSWxRJmpPJyNJXk8lNFNRYE8sNT99T09RUzw8S288PEtvT0lsUSZqTzw8S29PJCZkUWBPPDxLb08lNFtRYE88PEtvTyU0ZFFxTzw8S29PSWxRJmpPMUcyX09PUVM8PEd5PDxHeU86cFFgTzw8R3lPJTRuUShDfE88PElrT09RKENbPDxJazw8SWtPT1FPLDU/Tyw1P09PJTVfUWBPLDU/T08lNWRRYE8sNT9PT09RTy1FPGItRTxiTyU1bFFgTzFHNW9PJTVsUWBPMUc1b082VFFgTzFHNW9PJTV0UWBPPDxMW09PUVM8PExbPDxMW08lNXlRYE88PExbTzV7UShDaE88PExbTypPUWRPPDxLb09JbFEmak88PEtvTyU2T1FgTzFHMGpPT1FTPDxLdjw8S3ZPJD1SUShDeU88PEt2T09RUzw8S3c8PEt3TyQ9XVFxTzw8S3dPJTZUUSxVTycjSWBPJTZgUWBPLDVAUU9NW1FkTyw1QFFPT1FTMUcydTFHMnVPJTZoUShEak8nI0pPTyU3U1FkTycjSk9PJTdaUShDaE8nI0VWTyQhcVEoRGpPJyNFVk8kI2ZRLFVPJyNHeU9PUU8nI0liJyNJYk8lN29RLFVPLDU9ZE9PUVMsNT1kLDU9ZE8lN3ZRLFVPJyNFVk8lOFhRLFVPJyNFVk8lOG9RLFVPJyNFVk8lOV1RLFVPJyNHeU8lOW5RYE83KyhpTyU5c1FgTzcrKGlPJTl7UXFPNysoaU9PUVM3KyhpNysoaU9JbFEmak83KyhpTypPUWRPNysoaU9JbFEmak83KyhpTyU6VlFhTzcrKGlPT1FTNysobDcrKGxPNXtRKENoTzcrKGxPIzprUWBPNysobE81cVFgTzcrKGxPIS9yUSFiTzcrKGxPJTplUWBPLDU+fU9PUU8tRTxhLUU8YU9PUU8nI0d8JyNHfE8lOnBRYE8xRzVtTzV7UShDaE88PEdwT09RUzw8R3A8PEdwTyU6eFFgTzw8R3BPJTp9UWBPNysrW08lO1NRYE83KytdT09RUzcrKHQ3Kyh0TyU7WFFgTzcrKHRPJTteUWRPNysodE8lO2VRYE83Kyh0TypPUWRPNysrW08qT1FkTzcrK11PT1FTPDxMaDw8TGhPT1FTPDxMajw8TGpPT1FTLUU8ZC1FPGRPT1FTMUczaTFHM2lPJTtqUWBPLDU+T09PUVMsNT5RLDU+UU8lO29RYE8xRzNvTzdpUWBPNysmVU9NW1FkTzcrJlVPT1EoQ1cxRzVVMUc1VU9PUU83KyVWNyslVk8lO3RRIUxVTzFHNV9POnBRYE83KyVWT09RTzFHMFYxRzBWTyU8T1EoQ3xPMUcwXU9PUU8xRzBdMUcwXU8qT1FkTzFHMF1PJTxZUShDaE8xRzBdTzpwUWBPMUcwVk8hL3JRIWJPMUcwVk8kI11RLFVPMUcwVk8lPGVRKENoTzFHMF1PJTxzUSxVTzFHMFZPJT1RUShDaE8xRzBdTyU9ZlEoRGpPMUcwXU8lPXBRLFVPMUcwVk8kI11RLFVPMUcwXU9PUShDWzw8SVg8PElYT09RKENbPDxJajw8SWpPOnBRYE88PElqTyU+UVEoQ3xPPDxOYk9PUU83Kyl1NyspdU8lPmJRKEN9TzcrJ2tPJUBwUShDfU83KydtTyVDT1F0TzFHNFZPJUNZUSFMVU83KyZQTyVET1EhTFZPLDU5bU8lRlNRIUxWTyw1PFtPJUhaUSFMVk8sNTxeTyVJfFEhTFZPLDU8bE8lS3JRIUxVTzcrJ15PJUxQUSFMVU83KydfTyVMXlFgTyw1PE9PT1FPNysnUjcrJ1JPJUxjUSZrTzw8S21PT1FPMUc0XzFHNF9PJUxqUWBPMUc0X08lTHVRYE8xRzRfTyVNVFFgTzcrK1JPJU1UUWBPNysrUk9JbFEmak8xRzRhTyVNXVFxTzFHNGFPJU1nUWBPNysrU09PUShDVzcrJ3U3Kyd1TyQ4VlFgTzcrJ3ZPJU1vUXFPNysndk9PUShDVzcrJ3Q3Kyd0TyQ4VlFgTzcrJ3VPJU12UWBPNysndk9JbFEmak83Kyd2TyM6YVFgTzcrJ3VPJU17USZrTzw8TlNPT1EoQ103KyR1NyskdU8lTlZRcU8sNT54T09RTy1FPFstRTxbTyQmZFFgT0FOQVpPT1FTQU5BWkFOQVpPSWxRJmpPQU5BWk8lTmFRKEN5TzcrJ3lPT1FTQU49ZUFOPWVPNlRRYE8xRzRqT09RTzFHNGoxRzRqTyVOcVFgTzFHNGpPJU52UWBPNysrWk8lTnZRYE83KytaTzV7UShDaE9BTkF2TyYgT1FgT0FOQXZPT1FTQU5BdkFOQXZPJiBUUWBPQU5BWk8mIF1RcU9BTkFaT09RU0FOQWJBTkFiT09RU0FOQWNBTkFjTyYgZ1FgTyw1PnpPT1FPLUU8Xi1FPF5PJiByUSFMVU8xRzVsTyM6a1FgTyw1PWVPNXFRYE8sNT1lTyYkU1F0TycjQ2hPIS9yUSFiTyw1PWVPT1FPLUU8YC1FPGBPT1FTMUczTzFHM09PJTdTUWRPLDU8cE8lNmhRKERqTyw1PWVPJENkUShEak8sNTpxTyQjZlEsVU8sNT1lTyYkXlEsVU8sNT1lTyYkb1EsVU8sNTpxT09RUzw8TFQ8PExUT0lsUSZqTzw8TFRPJTluUWBPPDxMVE8mJVZRYE88PExUTyYlX1FxTzw8TFRPKk9RZE88PExUT0lsUSZqTzw8TFRPT1FTPDxMVzw8TFdPNXtRKENoTzw8TFdPIzprUWBPPDxMV081cVFgTzw8TFdPJiVpUSxVTzFHNGlPJiVxUWBPNysrWE9PUVNBTj1bQU49W081e1EoQ2hPQU49W09PUVM8PE52PDxOdk9PUVM8PE53PDxOd09PUVM8PExgPDxMYE8mJXlRYE88PExgTyYmT1FkTzw8TGBPJiZWUWBPPDxOdk8mJltRYE88PE53T09RUzFHM2oxRzNqTzpwUWBPNyspWk8mJmFRYE88PElwTyYmbFEhTFVPPDxJcE9PUU88PEhxPDxIcU9PUU83KyV3Nysld08lPE9RKEN8TzcrJXdPKk9RZE83KyV3T09RTzcrJXE3KyVxTzpwUWBPNyslcU8hL3JRIWJPNyslcU8mJnZRKENoTzcrJXdPJCNdUSxVTzcrJXFPJidSUShDaE83KyV3TyYnYVEsVU83KyVxTyYnblEoQ2hPNysld09PUShDW0FOP1VBTj9VTyYoU1EhTFVPPDxKWE8mKGFRIUxWTzFHMlBPJiprUSFMVk8xRzJjTyYsclEhTFZPMUcyZU8mLmVRIUxVTzw8SnlPJi5yUSFMVU88PElrT09RTzFHMWoxRzFqT0tSUSZqT0FOQVhPT1FPNyspeTcrKXlPJi9QUWBPNyspeU8mL1tRYE88PE5tTyYvZFFxTzcrKXtPT1EoQ1c8PEtiPDxLYk8kOFZRYE88PEtiT09RKENXPDxLYTw8S2FPJi9uUXFPPDxLYk8kOFZRYE88PEthT09RU0cyNnVHMjZ1TyQmZFFgT0cyNnVPT1FPNysqVTcrKlVPNlRRYE83KypVTyYvdVFgTzw8TnVPT1FTRzI3YkcyN2JPNXtRKENoT0cyN2JPSWxRJmpPRzI2dU9NW1FkTzFHNGZPJi99UWBPNysrV081e1EoQ2hPMUczUE8jOmtRYE8xRzNQTzVxUWBPMUczUE8hL3JRIWJPMUczUE8kI2ZRLFVPMUczUE8lNmhRKERqTzFHM1BPJT1mUShEak8xRzBdTyYwVlEsVU8xRzNQTyU5blFgT0FOQW9PT1FTQU5Bb0FOQW9PSWxRJmpPQU5Bb08mMGhRYE9BTkFvTyYwcFFxT0FOQW9PT1FTQU5BckFOQXJPNXtRKENoT0FOQXJPIzprUWBPQU5Bck9PUU8nI0d9JyNHfU9PUU83KypUNysqVE9PUVNHMjJ2RzIydk9PUVNBTkF6QU5Bek8mMHpRYE9BTkF6T09RU0FORGJBTkRiT09RU0FORGNBTkRjT09RUzw8THU8PEx1T01bUWRPQU4/W09PUU88PEljPDxJY08lPE9RKEN8Tzw8SWNPT1FPPDxJXTw8SV1POnBRYE88PEldTypPUWRPPDxJY08hL3JRIWJPPDxJXU8mMVBRKENoTzw8SWNPJCNdUSxVTzw8SV1PJjFbUShDaE88PEljTyYxalEhTFZPNysna08mM2BRIUxWTzcrJ21PJjVVUSZrT0cyNnNPT1FPPDxNZTw8TWVPT1EoQ1dBTkB8QU5AfE8kOFZRYE9BTkB8T09RKENXQU5Ae0FOQHtPT1FTTEQsYUxELGFPT1FPPDxNcDw8TXBPT1FTTEQsfExELHxPJCZkUWBPTEQsYU8mNWZRIUxVTzcrKlFPT1FPNysoazcrKGtPNXtRKENoTzcrKGtPIzprUWBPNysoa081cVFgTzcrKGtPIS9yUSFiTzcrKGtPJCNmUSxVTzcrKGtPT1FTRzI3WkcyN1pPJTluUWBPRzI3Wk9JbFEmak9HMjdaT09RU0cyN15HMjdeTzV7UShDaE9HMjdeT09RU0cyN2ZHMjdmTyY1cFEhTFVPRzI0dk9PUU9BTj59QU4+fU9PUU9BTj53QU4+d08lPE9RKEN8T0FOPn1POnBRYE9BTj53TypPUWRPQU4+fU8hL3JRIWJPQU4+d08mNXpRKENoT0FOPn1PJjZWUShDfU9HMjZzT09RKENXRzI2aEcyNmhPT1FTISQoIHshJCgge09PUU88PExWPDxMVk81e1EoQ2hPPDxMVk8jOmtRYE88PExWTzVxUWBPPDxMVk8hL3JRIWJPPDxMVk9PUVNMRCx1TEQsdU8lOW5RYE9MRCx1T09RU0xELHhMRCx4T09RT0cyNGlHMjRpT09RT0cyNGNHMjRjTyU8T1EoQ3xPRzI0aU86cFFgT0cyNGNPKk9RZE9HMjRpTyY4dlE3XU8sNTp1T09RT0FOQXFBTkFxTzV7UShDaE9BTkFxTyM6a1FgT0FOQXFPNXFRYE9BTkFxT09RUyEkKCFhISQoIWFPT1FPTEQqVExEKlRPT1FPTEQpfUxEKX1PJTxPUShDfE9MRCpUTyY5dlEhTFZPRzI2c08mO2xRN11PLDU5bU8mPGlRN11PLDU8W08mPWZRN11PLDU8Xk8mPmNRN11PLDU8bE9PUU9HMjddRzI3XU81e1EoQ2hPRzI3XU8jOmtRYE9HMjddT09RTyEkJ01vISQnTW9PJj9jUTddTzFHMmNPJkBgUTddTzFHMmVPJkFdUTddTzFHMlBPT1FPTEQsd0xELHdPNXtRKENoT0xELHdPJkJdUTddTzcrJ2tPJkNdUTddTzcrJ21PT1FPISQoIWMhJCghY08mRF1RN11PRzI2c09NW1FkTycjRHRPJkVdUXRPJyNJek9NW1FkTycjRGxPJkVkUShDfE8nI0NoTyZFfVF0TycjQ2hPJkZfUWRPLDU6eU8mSF9RJmpPJyNFWk9NW1FkTyw1O1VPTVtRZE8sNTtVT01bUWRPLDU7VU9NW1FkTyw1O1VPTVtRZE8sNTtVT01bUWRPLDU7VU9NW1FkTyw1O1VPTVtRZE8sNTtVT01bUWRPLDU7VU9NW1FkTyw1O1VPTVtRZE8sNTtVT01bUWRPJyNJV08mSW9RYE8sNTxaTyZJd1Emak8sNTtVTyZLWFEmak8sNTtVT01bUWRPLDU7ak8hK2hRYE8nI0RSTyEraFFgTycjRFJPIStoUWBPJyNEUk9JbFEmak8nI0ZwTyZIX1Emak8nI0ZwTyZJd1Emak8nI0ZwT0lsUSZqTycjRnJPJkhfUSZqTycjRnJPJkl3USZqTycjRnJPSWxRJmpPJyNHUU8mSF9RJmpPJyNHUU8mSXdRJmpPJyNHUU9NW1FkTyw1P3NPJkZfUWRPMUcwZU8mS2BRIUxVTycjQ2hPTVtRZE8xRzFyT0lsUSZqTyw1PHdPJkhfUSZqTyw1PHdPJkl3USZqTyw1PHdPSWxRJmpPLDU8eU8mSF9RJmpPLDU8eU8mSXdRJmpPLDU8eU9JbFEmak8sNTxlTyZIX1Emak8sNTxlTyZJd1Emak8sNTxlTyZGX1FkTzFHMXNPTVtRZE83KyZtT0lsUSZqTzFHMlBPJkhfUSZqTzFHMlBPJkl3USZqTzFHMlBPSWxRJmpPMUcyUk8mSF9RJmpPMUcyUk8mSXdRJmpPMUcyUk8mRl9RZE83KydfTyZGX1FkTzcrJlBPJktqUWBPNysndk9JbFEmak9BTkFYTyZIX1Emak9BTkFYTyZJd1Emak9BTkFYTyZLalFgTzw8S2JPJktqUWBPQU5AfE8mS29RYE8nI0VfTyZLdFFgTycjRV9PJkt8UWBPJyNGT08mTFJRYE8nI0VqTyZMV1FgTycjSlhPJkxjUWBPJyNKVk8mTG5RYE8sNTp5TyZMc1Ema08sNTxXTyZMelFgTycjRnlPJk1QUWBPJyNGeU8mTVVRYE8nI0Z5TyZNWlFgTyw1PFhPJk1jUWBPLDU6eU8mTWtRIUxVTzFHMVJPJk1yUWBPLDU8ZU8mTXdRYE8sNTxlTyZNfFFgTyw1PGVPJk5SUWBPLDU8Z08mTldRYE8sNTxnTyZOXVFgTyw1PGdPJk5iUWBPMUcxc08mTmdRYE8xRzBlTyZObFFgTzFHMltPJk5xUSZrTzw8S21PJk54USZrTzw8S21PJyBQUSZrTzw8S21PJyBXUXFPNysndk8nIF9RYE83Kyd2TycgZFFxTzw8S2JPNF5RJmpPJyNGbk81cVFgTycjRm1PQ11RYE8nI0VeT01bUWRPLDU7Z08hJ3tRYE8nI0Z5TyEne1FgTycjRnlPISd7UWBPJyNGeU8hJ3tRYE8nI0Z7TyEne1FgTycjRntPISd7UWBPJyNGe08nIGtRYE8sNTxwT0tSUSZqTzcrKFJPS1JRJmpPNysoUk9LUlEmak83KyhST0lsUSZqTzFHMltPJyBzUWBPMUcyW09JbFEmak83Kyd2TyQ1eVFxTzFHMmdPJDV5UXFPMUcyZ08kNXlRcU8xRzJnT0lsUSZqTyw1PHtPSWxRJmpPLDU8e09JbFEmak8sNTx7XCIsXG4gIHN0YXRlRGF0YTogXCInIXZ+TydhT1MnYk9TVE9TVU9Tfk9RVE9SVE9YeU9dY09faE9ibk9jbU9pY09rVE9sY09tY09yY090VE92VE97Uk8hT2NPIVBjTyFWU08hYWtPIWZVTyFpVE8halRPIWtUTyFsVE8hbVRPIXBsTyNoc08jeHBPI3xeTyVXcU8lWXRPJVtyTyVdck8lYHVPJWJ2TyVld08lZndPJWh4TyV1ek8le3tPJX18TyZQfU8mUiFPTyZVIVBPJlshUU8mYiFSTyZkIVNPJmYhVE8maCFVTyZqIVZPJ2RQTydsUU8ndVlPKFNhT35PUVtYWltYX1tYa1tYeFtYeVtYe1tYIVRbWCFjW1ghZFtYIWZbWCFsW1gjT1tYI1pkWCNfW1gjYFtYI2FbWCNiW1gjY1tYI2RbWCNlW1gjZltYI2dbWCNpW1gja1tYI21bWCNuW1gjc1tYJ19bWCdsW1gndltYJ31bWChPW1h+TyFfJHJYflAkek9TIVdPJ10hWE8nXiFaT35PUVRPUlRPXWNPYiFrT2Mhak9pY09rVE9sY09tY09yY090VE92VE97Uk8hT2NPIVBjTyFWIWJPIWFrTyFmVU8haVRPIWpUTyFrVE8hbFRPIW1UTyFwIWlPI3ghbE8jfF5PJ2QhW08nbFFPJ3VZTyhTYU9+TyFTIWBPIVQhXU8hUSdwUCFRJ3pQflAnZ08hVSFtT35QYE9RVE9SVE9dY09iIWtPYyFqT2ljT2tUT2xjT21jT3JjT3RUT3ZUT3tSTyFPY08hUGNPIVYhYk8hYWtPIWZVTyFpVE8halRPIWtUTyFsVE8hbVRPIXAhaU8jeCFsTyN8Xk8nZDl8TydsUU8ndVlPKFNhT35PUVRPUlRPXWNPYiFrT2Mhak9pY09rVE9sY09tY09yY090VE92VE97Uk8hT2NPIVBjTyFWIWJPIWFrTyFmVU8haVRPIWpUTyFrVE8hbFRPIW1UTyFwIWlPI3ghbE8jfF5PJ2xRTyd1WU8oU2FPfk8hUyFyTyNYIXVPI1khck8nZDl9TyFlJ3dQflAsT08jWiF2T35PIV8hd08jWiF2T35PUSNfT1ojZk9rI1NPeCF7T3khfE97IX1PIVQjY08hYyNVTyFkIXlPIWYhek8hbCNfTyNfI1FPI2AjUk8jYSNSTyNiI1JPI2MjVE8jZCNVTyNlI1VPI2YjZU8jZyNVTyNpI1ZPI2sjWE8jbSNaTyNuI1tPJ2xRTyd2I11PJ30jT08oTyNQT35PXyduWCdfJ25YIWUnblghUSduWCFWJ25YJVgnblghXyduWH5QLm1PI08jZ08jcyNnT1Enb1haJ29YXydvWGsnb1h4J29YeSdvWHsnb1ghVCdvWCFjJ29YIWQnb1ghZidvWCFsJ29YI18nb1gjYCdvWCNhJ29YI2Inb1gjYydvWCNkJ29YI2Unb1gjZidvWCNpJ29YI2snb1gjbSdvWCNuJ29YJ2wnb1gndidvWCd9J29YKE8nb1h+TyNnJ29YJ18nb1ghUSdvWCFlJ29YbydvWCFWJ29YJVgnb1ghXydvWH5QMVFPI08jZ09+TyRPI2lPJFEjaE8kWCNuT35PIVYjb08jfF5PJFsjcE8kXiNyT35PXSN1T2kkVU9rI3ZPbCN1T20jdU9yJFZPdCRXT3YkWE97I31PIVYkT08hYSReTyFmI3pPI1kkX08jeCRbTyRlJFlPJGckWk8kaiRdTydkI3RPJ2gkVE8nbCN3T2UnaVB+TyFmJGBPfk8hXyRiT35PXyRjTydfJGNPfk8nZCRnT35PIWYkYE8nZCRnTydlJGlPJ2gkVE9+T2Mkb08hZiRgTydkJGdPfk8jZyNVT35PXSR4T3gkdE8hViRxTyFmJHNPJVkkd08nZCRnTydlJGlPXihbUH5PIXAkeU9+T3skek8hViR7TydkJGdPfk97JHpPIVYke08lYiVQTydkJGdPfk8nZCVRT35PI2hzTyVZdE8lW3JPJV1yTyVgdU8lYnZPJWV3TyVmd09+T2IlWk9jJVlPIXAlV08lVyVYTyVqJVZPflA4WE9iJV5PY21PIVYlXU8hcGxPI2hzTyVXcU8lW3JPJV1yTyVgdU8lYnZPJWV3TyVmd08laHhPfk9gJWFPI08lZE8lWSVfTydlJGlPflA5V08hZiVlTyFpJWlPfk8hZiVqT35PIVZTT35PXyRjTydbJXJPJ18kY09+T18kY08nWyV1TydfJGNPfk9fJGNPJ1sld08nXyRjT35PUyFXTyddIVhPJ14le09+T1FbWFpbWGtbWHhbWHlbWHtbWCFUW1ghVGRYIWNbWCFkW1ghZltYIWxbWCNPW1gjT2RYI1pkWCNfW1gjYFtYI2FbWCNiW1gjY1tYI2RbWCNlW1gjZltYI2dbWCNpW1gja1tYI21bWCNuW1gjc1tYJ2xbWCd2W1gnfVtYKE9bWH5PIVFbWCFRZFh+UDtzTyFTJX1PIVEmcFghUSZ1WCFUJnBYIVQmdVh+UCdnTyFUJlBPIVEncFh+T1EjX09aI2ZPayNTT3ghe095IXxPeyF9TyFUJlBPIWMjVU8hZCF5TyFmIXpPIWwjX08jXyNRTyNgI1JPI2EjUk8jYiNSTyNjI1RPI2QjVU8jZSNVTyNmI2VPI2cjVU8jaSNWTyNrI1hPI20jWk8jbiNbTydsUU8ndiNdTyd9I09PKE8jUE9+TyFRJ3BYflA+c08hUSZVT35PXSZZT2wmWU97JlhPIVMmXU8hWSZjTyFaJltPIVsmW08nZSRpTydtJlZPIVUncVAhVSd8UH5PIVEneVghVCd5WCFfJ3lYIWUneVgndid5WH5PI08neVgjWiNTWCFVJ3lYflBBbk8jTyZkTyFRJ3tYIVQne1h+TyFUJmVPIVEnelh+TyFRJmhPfk8jTyNnT35QQW5PUCZsTyFWJmlPIXEma08nZCRnT35PYyZxTyFmJGBPJ2QkZ09+T3gkdE8hZiRzT35PIVUmck9+UGBPeCF7T3khfE97IX1PIWQheU8hZiF6TydsUU9RIWhhWiFoYWshaGEhVCFoYSFjIWhhIWwhaGEjXyFoYSNgIWhhI2EhaGEjYiFoYSNjIWhhI2QhaGEjZSFoYSNmIWhhI2chaGEjaSFoYSNrIWhhI20haGEjbiFoYSd2IWhhJ30haGEoTyFoYX5PXyFoYSdfIWhhIVEhaGEhZSFoYW8haGEhViFoYSVYIWhhIV8haGF+UEN3TyFlJnNPfk8hXyF3TyNPJnVPJ3YmdE8hVCd4WF8neFgnXyd4WH5PIWUneFh+UEZkTyFUJnlPIWUnd1h+TyFlJntPfk97JHpPIVYke08jWSZ8TydkJGdPfk9RVE9SVE9dY09iIWtPYyFqT2ljT2tUT2xjT21jT3JjT3RUT3ZUT3tSTyFPY08hUGNPIVZTTyFha08hZlVPIWlUTyFqVE8ha1RPIWxUTyFtVE8hcCFpTyN4IWxPI3xeTydkOXxPJ2xRTyd1WU8oU2FPfk9dI3VPaSRVT2sjdk9sI3VPbSN1T3IkVk90JFdPdjpiT3sjfU8hViRPTyFhPFJPIWYjek8jWTprTyN4JFtPJGU6ZU8kZzpoTyRqJF1PJ2QnUU8naCRUTydsI3dPfk8jWidTT35PXSN1T2kkVU9rI3ZPbCN1T20jdU9yJFZPdCRXT3YkWE97I31PIVYkT08hYSReTyFmI3pPI1kkX08jeCRbTyRlJFlPJGckWk8kaiRdTydkJ1FPJ2gkVE8nbCN3T35PZSdzUH5QS1JPIVMnV08hZSd0UH5QKk9PJ20nWU8ndVlPfk97J1tPIWYhek8nbSdZTyd1WU9+T1E5eU9SOXlPXWNPYjt8T2Mhak9pY09rOXlPbGNPbWNPcmNPdDl5T3Y5eU97Uk8hT2NPIVBjTyFWIWJPIWE5e08hZlVPIWk5eU8hajl5TyFrOXlPIWw5eU8hbTl5TyFwIWlPI3ghbE8jfF5PJ2Qnak8nbFFPJ3VZTyhTO3pPfk95J21PIWYhek9+TyFUI2NPXyRjYSdfJGNhIWUkY2EhUSRjYSFWJGNhJVgkY2EhXyRjYX5PI2gncU9+UElsT3gndE8hXydzTyFWJFBYI3skUFgkTyRQWCRRJFBYJFgkUFh+TyFfJ3NPIVYoUFgjeyhQWCRPKFBYJFEoUFgkWChQWH5PeCd0T35QISFuT3gndE8hVihQWCN7KFBYJE8oUFgkUShQWCRYKFBYfk8hVid2TyN7J3pPJE8ndU8kUSd1TyRYJ3tPfk8hUyhPT35QTVtPJE8jaU8kUSNoTyRYKFJPfk9QJGtYeCRrWHska1ghZCRrWCd9JGtYKE8ka1h+T1BnWGVnWGUka1ghVGdYI09nWH5QISRkT2woVE9+T1MoVU8nXShWTydeKFhPfk9QKGJPeChaT3soW08nfSheTyhPKGBPfk9lKFlPflAhJW1PZShjT35PXSN1T2kkVU9rI3ZPbCN1T20jdU9yJFZPdCRXT3Y6Yk97I31PIVYkT08hYTxSTyFmI3pPI1k6a08jeCRbTyRlOmVPJGc6aE8kaiRdTydoJFRPJ2wjd09+TyFTKGdPJ2QoZE8hZShUUH5QISZbTyNaKGlPfk8hZihqT35PIVMob08nZChsTyFRKFVQflAhJltPayh8T3sodE8hWSh6TyFaKHNPIVsoc08hZihqTyF6KHtPJU8odk8nZSRpTydtKHFPfk8hVSh5T35QIShfTyFkIXlPUCdrWHgna1h7J2tYJ30na1goTydrWCFUJ2tYI3Ena1ghVSdrWH5PZSdrWCNPJ2tYXSdrWGwna1ghWSdrWCFaJ2tYIVsna1ghdCdrWCF1J2tYIXYna1gheidrWCF7J2tYJ2Una1gnbSdrWCd1J2tYflAhKVdPUClQTyNPKU9PZSdqWCFUJ2pYfk8hVClRT2UnaVh+TydkJVFPZSdpUH5PJ2QpVE9+TyFmKVlPfk8nZCdRT35PeyR6TyFTIXJPIVYke08jWCF1TyNZIXJPJ2QkZ08hZSd3UH5PIV8hd08jWileT35PUSNfT1ojZk9rI1NPeCF7T3khfE97IX1PIWMjVU8hZCF5TyFmIXpPIWwjX08jXyNRTyNgI1JPI2EjUk8jYiNSTyNjI1RPI2QjVU8jZSNVTyNmI2VPI2cjVU8jaSNWTyNrI1hPI20jWk8jbiNbTydsUU8ndiNdTyd9I09PKE8jUE9+T18hYGEhVCFgYSdfIWBhIVEhYGEhZSFgYW8hYGEhViFgYSVYIWBhIV8hYGF+UCEsaE9QKWZPIVYmaU8hcSllTyVYKWRPJ2gkVE9+TyFfKWhPIVYnZ1hfJ2dYIVQnZ1gnXydnWH5PIWYkYE8naCRUT35PIWYkYE8nZCRnTydoJFRPfk8hXyF3TyNaJ1NPfk9dKXNPJVkpdE8nZClwTyFVKF1Qfk8hVCl1T14oW1h+TydtJ1lPfk9aKXlPfk9eKXpPfk8hViRxTydkJGdPJ2UkaU9eKFtQfk97JHpPIVMqUE8hVCZlTyFWJHtPJ2QkZ08hUSd6UH5PXSZgT2wmYE97KlJPIVMqUU8nbSdZT35PIVUnfFB+UCExeE8hVCpTT18oWFgnXyhYWH5PI08qV08naCRUT35PUCpaTyFWJE9PJ2gkVE9+TyFWKl1Pfk94Kl9PIVZTT35PIXAqZE9+T2MqaU9+TydkKVRPIVUoWlB+T2Mkb09+TyVZdE8nZCVRT35QOVdPWipvT14qbk9+T1FUT1JUT11jT2JuT2NtT2ljT2tUT2xjT21jT3JjT3RUT3ZUT3tSTyFPY08hUGNPIWFrTyFmVU8haVRPIWpUTyFrVE8hbFRPIW1UTyFwbE8jfF5PJVdxTydsUU8ndVlPKFNhT35PIVYhYk8jeCFsTydkOXxPflAhNFlPXipuT18kY08nXyRjT35PXypzTyNoKnVPJVsqdU8lXSp1T35QKk9PIWYlZU9+TyV7KnpPfk8hVip8T35PJl4rT08mYCtQT1EmWmFSJlphWCZaYV0mWmFfJlphYiZaYWMmWmFpJlphayZaYWwmWmFtJlphciZaYXQmWmF2JlpheyZaYSFPJlphIVAmWmEhViZaYSFhJlphIWYmWmEhaSZaYSFqJlphIWsmWmEhbCZaYSFtJlphIXAmWmEjaCZaYSN4JlphI3wmWmElVyZaYSVZJlphJVsmWmElXSZaYSVgJlphJWImWmElZSZaYSVmJlphJWgmWmEldSZaYSV7JlphJX0mWmEmUCZaYSZSJlphJlUmWmEmWyZaYSZiJlphJmQmWmEmZiZaYSZoJlphJmomWmEnWiZaYSdkJlphJ2wmWmEndSZaYShTJlphIVUmWmEmUyZaYWAmWmEmWCZaYX5PJ2QrVU9+T28rWE9+TyFRJnBhIVQmcGF+UCEsaE8hUytdTyFRJnBYIVQmcFh+UCpPTyFUJlBPIVEncGF+TyFRJ3BhflA+c08hVCZlTyFRJ3phfk8hVHpYIVQhXVghVXpYIVUhXVghX3pYIV8hXVghZiFdWCNPelgnaCFdWH5PIV8rYk8jTythTyFUI1dYIVQnclghVSNXWCFVJ3JYIV8nclghZidyWCdoJ3JYfk8hXytkTyFmJGBPJ2gkVE8hVCFYWCFVIVhYfk9dJldPbCZXT3srZU8nbShxT35PUTl5T1I5eU9dY09iO3xPYyFqT2ljT2s5eU9sY09tY09yY090OXlPdjl5T3tSTyFPY08hUGNPIVYhYk8hYTl7TyFmVU8haTl5TyFqOXlPIWs5eU8hbDl5TyFtOXlPIXAhaU8jeCFsTyN8Xk8nbFFPJ3VZTyhTO3pPfk8nZDpwT35QIT5lTyFUK2lPIVUncVh+TyFVK2tPfk8hXytiTyNPK2FPIVQjV1ghVSNXWH5PIVQrbE8hVSd8WH5PIVUrbk9+T10mV09sJldPeytlTydlJGlPJ20ocU9+TyFaK29PIVsrb09+UCFBY097JHpPIVMrcU8hViR7TydkJGdPIVEmdVghVCZ1WH5PXyt1TyFVK3dPIVkreE8hWit0TyFbK3RPIXQrfE8hdSt6TyF2K3tPIXcreU8heit9TyF7K31PJ3Urck9+UCFBY09QLFNPIVYmaU8hcSxST35PI08sWU8hVCd4YSFlJ3hhXyd4YSdfJ3hhfk8hXyF3T35QIUNpTyFUJnlPIWUnd2F+T3skek8hUyxdTyFWJHtPI1gsX08jWSxdTydkJGdPIVQmd1ghZSZ3WH5PXyNSaSFUI1JpJ18jUmkhUSNSaSFlI1JpbyNSaSFWI1JpJVgjUmkhXyNSaX5QISxoT1A8YE94KFpPeyhbTyd9KF5PKE8oYE9+TyNaIX1hIVQhfWEhZSF9YSNPIX1hIVYhfWFfIX1hJ18hfWEhUSF9YX5QIUVmTyFkIXlPUCdrWHgna1h7J2tYJ30na1goTydrWFEna1haJ2tYaydrWHkna1ghVCdrWCFjJ2tYIWYna1ghbCdrWCNfJ2tYI2Ana1gjYSdrWCNiJ2tYI2Mna1gjZCdrWCNlJ2tYI2Yna1gjZydrWCNpJ2tYI2sna1gjbSdrWCNuJ2tYJ2wna1gndidrWH5PI1ona1hfJ2tYJ18na1ghZSdrWCFRJ2tYIVYna1gjTydrWG8na1glWCdrWCFfJ2tYflAhRmVPIVQsaE9lJ3NYflAhJW1PZSxqT35PIVQsa08hZSd0WH5QISxoTyFlLG5Pfk8hUSxwT35PUSNfT3ghe095IXxPeyF9TyFkIXlPIWYhek8hbCNfTydsUU9aI15pXyNeaWsjXmkhVCNeaSFjI15pI2AjXmkjYSNeaSNiI15pI2MjXmkjZCNeaSNlI15pI2YjXmkjZyNeaSNpI15pI2sjXmkjbSNeaSNuI15pJ18jXmkndiNeaSd9I15pKE8jXmkhUSNeaSFlI15pbyNeaSFWI15pJVgjXmkhXyNeaX5PI18jXml+UCFJeU8jXyNRT35QIUl5T1EjX094IXtPeSF8T3shfU8hZCF5TyFmIXpPIWwjX08jXyNRTyNgI1JPI2EjUk8jYiNSTydsUU9aI15pXyNeaSFUI15pIWMjXmkjYyNeaSNkI15pI2UjXmkjZiNeaSNnI15pI2kjXmkjayNeaSNtI15pI24jXmknXyNeaSd2I15pJ30jXmkoTyNeaSFRI15pIWUjXmlvI15pIVYjXmklWCNeaSFfI15pfk9rI15pflAhTGhPayNTT35QIUxoT1EjX09rI1NPeCF7T3khfE97IX1PIWQheU8hZiF6TyFsI19PI18jUU8jYCNSTyNhI1JPI2IjUk8jYyNUTydsUU9fI15pIVQjXmkjaSNeaSNrI15pI20jXmkjbiNeaSdfI15pJ3YjXmknfSNeaShPI15pIVEjXmkhZSNeaW8jXmkhViNeaSVYI15pIV8jXml+T1ojXmkhYyNeaSNkI15pI2UjXmkjZiNeaSNnI15pflAjIFZPWiNmTyFjI1VPI2QjVU8jZSNVTyNmI2VPI2cjVU9+UCMgVk9RI19PWiNmT2sjU094IXtPeSF8T3shfU8hYyNVTyFkIXlPIWYhek8hbCNfTyNfI1FPI2AjUk8jYSNSTyNiI1JPI2MjVE8jZCNVTyNlI1VPI2YjZU8jZyNVTyNpI1ZPJ2xRT18jXmkhVCNeaSNrI15pI20jXmkjbiNeaSdfI15pJ3YjXmkoTyNeaSFRI15pIWUjXmlvI15pIVYjXmklWCNeaSFfI15pfk8nfSNeaX5QIyRUTyd9I09PflAjJFRPUSNfT1ojZk9rI1NPeCF7T3khfE97IX1PIWMjVU8hZCF5TyFmIXpPIWwjX08jXyNRTyNgI1JPI2EjUk8jYiNSTyNjI1RPI2QjVU8jZSNVTyNmI2VPI2cjVU8jaSNWTyNrI1hPJ2xRTyd9I09PXyNeaSFUI15pI20jXmkjbiNeaSdfI15pJ3YjXmkhUSNeaSFlI15pbyNeaSFWI15pJVgjXmkhXyNeaX5PKE8jXml+UCMmck8oTyNQT35QIyZyT1EjX09aI2ZPayNTT3ghe095IXxPeyF9TyFjI1VPIWQheU8hZiF6TyFsI19PI18jUU8jYCNSTyNhI1JPI2IjUk8jYyNUTyNkI1VPI2UjVU8jZiNlTyNnI1VPI2kjVk8jayNYTyNtI1pPJ2xRTyd9I09PKE8jUE9+T18jXmkhVCNeaSNuI15pJ18jXmkndiNeaSFRI15pIWUjXmlvI15pIVYjXmklWCNeaSFfI15pflAjKWFPUVtYWltYa1tYeFtYeVtYe1tYIWNbWCFkW1ghZltYIWxbWCNPW1gjWmRYI19bWCNgW1gjYVtYI2JbWCNjW1gjZFtYI2VbWCNmW1gjZ1tYI2lbWCNrW1gjbVtYI25bWCNzW1gnbFtYJ3ZbWCd9W1goT1tYIVRbWCFVW1h+TyNxW1h+UCMrd09RI19PWjpgT2s6U094IXtPeSF8T3shfU8hYzpVTyFkIXlPIWYhek8hbCNfTyNfOlFPI2A6Uk8jYTpSTyNiOlJPI2M6VE8jZDpVTyNlOlVPI2Y6X08jZzpVTyNpOlZPI2s6WE8jbTpaTyNuOltPJ2xRTyd2I11PJ30jT08oTyNQT35PI3Esck9+UCMuVU9RJ29YWidvWGsnb1h4J29YeSdvWHsnb1ghYydvWCFkJ29YIWYnb1ghbCdvWCNfJ29YI2Anb1gjYSdvWCNiJ29YI2Mnb1gjZCdvWCNlJ29YI2Ynb1gjaSdvWCNrJ29YI20nb1gjbidvWCdsJ29YJ3Ynb1gnfSdvWChPJ29YIVQnb1h+TyNPOmFPI3M6YU8jZydvWCNxJ29YIVUnb1h+UCMwU09fJnphIVQmemEnXyZ6YSFlJnphbyZ6YSFRJnphIVYmemElWCZ6YSFfJnphflAhLGhPUSNeaVojXmlfI15payNeaXkjXmkhVCNeaSFjI15pIWQjXmkhZiNeaSFsI15pI18jXmkjYCNeaSNhI15pI2IjXmkjYyNeaSNkI15pI2UjXmkjZiNeaSNnI15pI2kjXmkjayNeaSNtI15pI24jXmknXyNeaSdsI15pJ3YjXmkhUSNeaSFlI15pbyNeaSFWI15pJVgjXmkhXyNeaX5QIUVmT18jcmkhVCNyaSdfI3JpIVEjcmkhZSNyaW8jcmkhViNyaSVYI3JpIV8jcml+UCEsaE8kTyx1TyRRLHVPfk8kTyx2TyRRLHZPfk8hXydzTyNPLHdPIVYkVVgjeyRVWCRPJFVYJFEkVVgkWCRVWH5PIVMseE9+TyFWJ3ZPI3ssek8kTyd1TyRRJ3VPJFgse09+TyFUOl1PIVUnblh+UCMuVU8hVSx8T35PJFgtT09+T1MoVU8nXShWTydeLVJPfk9dLVVPbC1VTyFRLVZPfk8hVGRYIV9kWCFlZFghZSRrWCd2ZFh+UCEkZE8hZS1dT35QIUVmTyFULV5PIV8hd08ndiZ0TyFlKFRYfk8hZS1jT35PIVMoZ08nZCRnTyFlKFRQfk8jWi1lT35PIVEka1ghVCRrWCFfJHJYflAhJGRPIVQtZk8hUShVWH5QIUVmTyFfLWhPfk8hUS1qT35Pay1uTyFfIXdPIWYkYE8naCRUTyd2JnRPfk8nZC1wT35PIV8paE9+T18kY08hVC10TydfJGNPfk8hVS12T35QIShfTyFaLXdPIVstd08nZSRpTydtKHFPfk97LXlPJ20ocU9+TyF6LXpPfk8nZCVRT2UnUFghVCdQWH5PIVQpUU9lJ2lhfk9lLlBPfk94LlFPeS5RT3suUk9QdWEnfXVhKE91YSFUdWEjT3Vhfk9ldWEjcXVhflAjPFhPeChaT3soW09QJGRhJ30kZGEoTyRkYSFUJGRhI08kZGF+T2UkZGEjcSRkYX5QIzx9T3goWk97KFtPUCRmYSd9JGZhKE8kZmEhVCRmYSNPJGZhfk9lJGZhI3EkZmF+UCM9cE9dLlNPfk8jWi5UT35PZSR0YSFUJHRhI08kdGEjcSR0YX5QISVtTyNaLldPfk9QLmFPIVYmaU8hcS5gTyVYLl9Pfk9dI3VPayN2T2wjdU9tI3VPciRWT3QkV092OmJPeyN9TyFWJE9PIWE8Uk8hZiN6TyNZOmtPI3gkW08kZTplTyRnOmhPJGokXU8naCRUTydsI3dPfk9pLmNPJ2QuYk9+UCM/Yk8hXyloTyFWJ2dhXydnYSFUJ2dhJ18nZ2F+TyNaLmlPfk9aW1ghVGRYIVVkWH5PIVQuak8hVShdWH5PIVUubE9+T1oubU9+T10ub08nZClwT35PIVYkcU8nZCRnT14nWFghVCdYWH5PIVQpdU9eKFthfk8hZS5yT35QISxoT10udE9+T1oudU9+T14udk9+T1AuYU8hViZpTyFxLmBPJVguX08naCRUT35PIVQqU09fKFhhJ18oWGF+TyNPLn1Pfk9QL1FPIVYkT09+TydtJ1lPIVUoWVB+T1AvW08hVi9XTyFxL1pPJVgvWU8naCRUT35PWi9mTyFUL2RPIVUoWlh+TyFVL2dPfk9eL2lPXyRjTydfJGNPfk9dL2pPfk9dL2tPJ2QpVE9+TyNnL2xPJXkvbU9+UDFRTyNPI2dPI2cvbE8leS9tT35PXy9uT35QKk9PXy9wT35PJlMvdE9RJlFpUiZRaVgmUWldJlFpXyZRaWImUWljJlFpaSZRaWsmUWlsJlFpbSZRaXImUWl0JlFpdiZRaXsmUWkhTyZRaSFQJlFpIVYmUWkhYSZRaSFmJlFpIWkmUWkhaiZRaSFrJlFpIWwmUWkhbSZRaSFwJlFpI2gmUWkjeCZRaSN8JlFpJVcmUWklWSZRaSVbJlFpJV0mUWklYCZRaSViJlFpJWUmUWklZiZRaSVoJlFpJXUmUWkleyZRaSV9JlFpJlAmUWkmUiZRaSZVJlFpJlsmUWkmYiZRaSZkJlFpJmYmUWkmaCZRaSZqJlFpJ1omUWknZCZRaSdsJlFpJ3UmUWkoUyZRaSFVJlFpYCZRaSZYJlFpfk9gL3pPIVUveE8mWC95T35QYE8hVlNPIWYvfE9+TyZgK1BPUSZaaVImWmlYJlppXSZaaV8mWmliJlppYyZaaWkmWmlrJlppbCZaaW0mWmlyJlppdCZaaXYmWml7JlppIU8mWmkhUCZaaSFWJlppIWEmWmkhZiZaaSFpJlppIWomWmkhayZaaSFsJlppIW0mWmkhcCZaaSNoJlppI3gmWmkjfCZaaSVXJlppJVkmWmklWyZaaSVdJlppJWAmWmklYiZaaSVlJlppJWYmWmklaCZaaSV1JlppJXsmWmklfSZaaSZQJlppJlImWmkmVSZaaSZbJlppJmImWmkmZCZaaSZmJlppJmgmWmkmaiZaaSdaJlppJ2QmWmknbCZaaSd1JlppKFMmWmkhVSZaaSZTJlppYCZaaSZYJlppfk8hVCNjT28kY2F+TyFRJnBpIVQmcGl+UCEsaE8hVCZQTyFRJ3Bpfk8hVCZlTyFRJ3ppfk8hUTBTT35PIVQhWGEhVSFYYX5QIy5VTyFTMFpPIVkmY08hWiZbTyFbJltPIVQmcVghVSZxWH5QIUFjTyFUK2lPIVUncWF+TyFUJnZYIVUmdlh+UCExeE8hVCtsTyFVJ3xhfk8hUSd7aSFUJ3tpflAhLGhPXyRjTyFfIXdPIWYkYE8hbDBlTyNPMGNPJ18kY08naCRUTyd2JnRPfk9dJldPbCZXT3srZU8nbShxTyd1K3JPfk9fK3VPIVUwaE8hWSt4TyFaK3RPIVsrdE8hdCt8TyF1K3pPIXYre08hdyt5TyF6K31PIXsrfU8ndStyT35QIUFjTyFaMGlPIVswaU8ndStyT35QIUFjTyFZMGpPIVowaU8hWzBpTyd1K3JPflAhQWNPIVZTTyFZMGpPIVowaU8hWzBpTyF3MGxPIXowbU8hezBtTyd1K3JPflAhQWNPIVkwak8hWjBpTyFbMGlPIXUwb08hdjBvTyF3MGxPIXowbU8hezBtTyd1K3JPflAhQWNPIVYmaU9+TyFWJmlPflAhRWZPIVQneGkhZSd4aV8neGknXyd4aX5QISxoTyNPMHhPIVQneGkhZSd4aV8neGknXyd4aX5PIVQmeU8hZSd3aX5PeyR6TyFWJHtPI1kwek8nZCRnT35PI1p1YVF1YVp1YV91YWt1YSFjdWEhZHVhIWZ1YSFsdWEjX3VhI2B1YSNhdWEjYnVhI2N1YSNkdWEjZXVhI2Z1YSNndWEjaXVhI2t1YSNtdWEjbnVhJ191YSdsdWEndnVhIWV1YSFRdWEhVnVhb3VhJVh1YSFfdWF+UCM8WE8jWiRkYVEkZGFaJGRhXyRkYWskZGF5JGRhIWMkZGEhZCRkYSFmJGRhIWwkZGEjXyRkYSNgJGRhI2EkZGEjYiRkYSNjJGRhI2QkZGEjZSRkYSNmJGRhI2ckZGEjaSRkYSNrJGRhI20kZGEjbiRkYSdfJGRhJ2wkZGEndiRkYSFlJGRhIVEkZGEhViRkYW8kZGElWCRkYSFfJGRhflAjPH1PI1okZmFRJGZhWiRmYV8kZmFrJGZheSRmYSFjJGZhIWQkZmEhZiRmYSFsJGZhI18kZmEjYCRmYSNhJGZhI2IkZmEjYyRmYSNkJGZhI2UkZmEjZiRmYSNnJGZhI2kkZmEjayRmYSNtJGZhI24kZmEnXyRmYSdsJGZhJ3YkZmEhZSRmYSFRJGZhIVYkZmFvJGZhJVgkZmEhXyRmYX5QIz1wTyNaJHRhUSR0YVokdGFfJHRhayR0YXkkdGEhVCR0YSFjJHRhIWQkdGEhZiR0YSFsJHRhI18kdGEjYCR0YSNhJHRhI2IkdGEjYyR0YSNkJHRhI2UkdGEjZiR0YSNnJHRhI2kkdGEjayR0YSNtJHRhI24kdGEnXyR0YSdsJHRhJ3YkdGEhZSR0YSFRJHRhIVYkdGEjTyR0YW8kdGElWCR0YSFfJHRhflAhRWZPXyNScSFUI1JxJ18jUnEhUSNScSFlI1JxbyNScSFWI1JxJVgjUnEhXyNScX5QISxoT2UmclghVCZyWH5QS1JPIVQsaE9lJ3Nhfk8hUzFTTyFUJnNYIWUmc1h+UCpPTyFULGtPIWUndGF+TyFULGtPIWUndGF+UCEsaE8hUTFWT35PI3EhaGEhVSFoYX5QQ3dPI3EhYGEhVCFgYSFVIWBhflAjLlVPIVYxaE8jfF5PJFYxaU9+TyFVMW1Pfk9vMW5PflAhRWZPXyRgcSFUJGBxJ18kYHEhUSRgcSFlJGBxbyRgcSFWJGBxJVgkYHEhXyRgcX5QISxoTyFRMW9Pfk9dLVVPbC1VT35PeChaT3soW08oTyhgT1AlUGknfSVQaSFUJVBpI08lUGl+T2UlUGkjcSVQaX5QJDRlT3goWk97KFtPUCVSaSd9JVJpKE8lUmkhVCVSaSNPJVJpfk9lJVJpI3ElUml+UCQ1V08ndiNdT35QIUVmTyFTMXJPJ2QkZ08hVCZ7WCFlJntYfk8hVC1eTyFlKFRhfk8hVC1eTyFfIXdPIWUoVGF+TyFULV5PIV8hd08ndiZ0TyFlKFRhfk9lJG1pIVQkbWkjTyRtaSNxJG1pflAhJW1PIVMxek8nZChsTyFRJn1YIVQmfVh+UCEmW08hVC1mTyFRKFVhfk8hVC1mTyFRKFVhflAhRWZPIV8hd09+TyFfIXdPI2cyU09+T2syVk8hXyF3Tyd2JnRPfk9lJ2ppIVQnaml+UCElbU8jTzJZT2UnamkhVCdqaX5QISVtTyFlMl1Pfk9fJGFxIVQkYXEnXyRhcSFRJGFxIWUkYXFvJGFxIVYkYXElWCRhcSFfJGFxflAhLGhPIVQyYU8hVihWWH5QIUVmTyFWJmlPJVgyZE9+TyFWJmlPJVgyZE9+UCFFZk8hViRrWCR8W1hfJGtYIVQka1gnXyRrWH5QISRkTyR8MmhPUGhYeGhYe2hYIVZoWCd9aFgoT2hYX2hYIVRoWCdfaFh+TyR8MmhPfk9dMm5PJVkyb08nZClwTyFUJ1dYIVUnV1h+TyFULmpPIVUoXWF+T1oyc09+T14ydE9+T10yd09+T1AyeU8hViZpTyFxMnhPJVgyZE9+TyFRMnpPfk9fJGNPJ18kY09+UCFFZk8hViRPT35QIUVmTyFUM1BPI08zUk8hVShZWH5PIVUzU09+T10mV09sJldPezNVTyFZM2BPIVozWE8hWzNYTyF0M19PIXUzXk8hdjNeTyF6M11PIXsrfU8nZSRpTydtKHFPJ3Urck9+TyFVM1tPflAkPXRPUDNnTyFWL1dPIXEzZk8lWDNlT35PUDNnTyFWL1dPIXEzZk8lWDNlTydoJFRPfk8nZClUTyFUJ1ZYIVUnVlh+TyFUL2RPIVUoWmF+T10zcU8nbTNwT35PXTNyT35PXjN0T35PIWUzd09+UCpPT18zeU9+T18zeU9+UCpPTyNnM3tPJXkzfE9+UEZkT2Avek8hVTRRTyZYL3lPflBgTyFfNFNPfk8hXzRVTyFUJ3JpIVUncmkhXydyaSFmJ3JpJ2gncml+TyFUI1dpIVUjV2l+UCMuVU8jTzRWTyFUI1dpIVUjV2l+TyFUIVhpIVUhWGl+UCMuVU8hUTRXT35PXyRjTyNPNF9PJ18kY09+T18kY08hXyF3TyNPNF9PJ18kY09+TyFaNGNPIVs0Y08ndStyT35QIUFjT18kY08hXyF3TyFmJGBPIWw0ZE8jTzRfTydfJGNPJ2gkVE8ndiZ0T35PIVk0ZU8hWjRjTyFbNGNPJ3Urck9+UCFBY08hWTRlTyFaNGNPIVs0Y08hdzRoTyF6NGlPIXs0aU8ndStyT35QIUFjT18kY08hXyF3TyFsNGRPI080X08nXyRjTyd2JnRPfk8hVCd4cSFlJ3hxXyd4cSdfJ3hxflAhLGhPIVQmeU8hZSd3cX5PI1olUGlRJVBpWiVQaV8lUGlrJVBpeSVQaSFjJVBpIWQlUGkhZiVQaSFsJVBpI18lUGkjYCVQaSNhJVBpI2IlUGkjYyVQaSNkJVBpI2UlUGkjZiVQaSNnJVBpI2klUGkjayVQaSNtJVBpI24lUGknXyVQaSdsJVBpJ3YlUGkhZSVQaSFRJVBpIVYlUGlvJVBpJVglUGkhXyVQaX5QJDRlTyNaJVJpUSVSaVolUmlfJVJpayVSaXklUmkhYyVSaSFkJVJpIWYlUmkhbCVSaSNfJVJpI2AlUmkjYSVSaSNiJVJpI2MlUmkjZCVSaSNlJVJpI2YlUmkjZyVSaSNpJVJpI2slUmkjbSVSaSNuJVJpJ18lUmknbCVSaSd2JVJpIWUlUmkhUSVSaSFWJVJpbyVSaSVYJVJpIV8lUml+UCQ1V08jWiRtaVEkbWlaJG1pXyRtaWskbWl5JG1pIVQkbWkhYyRtaSFkJG1pIWYkbWkhbCRtaSNfJG1pI2AkbWkjYSRtaSNiJG1pI2MkbWkjZCRtaSNlJG1pI2YkbWkjZyRtaSNpJG1pI2skbWkjbSRtaSNuJG1pJ18kbWknbCRtaSd2JG1pIWUkbWkhUSRtaSFWJG1pI08kbWlvJG1pJVgkbWkhXyRtaX5QIUVmT2UmcmEhVCZyYX5QISVtTyFUJnNhIWUmc2F+UCEsaE8hVCxrTyFlJ3Rpfk8jcSNSaSFUI1JpIVUjUml+UCMuVU9RI19PeCF7T3khfE97IX1PIWQheU8hZiF6TyFsI19PJ2xRT1ojXmlrI15pIWMjXmkjYCNeaSNhI15pI2IjXmkjYyNeaSNkI15pI2UjXmkjZiNeaSNnI15pI2kjXmkjayNeaSNtI15pI24jXmkjcSNeaSd2I15pJ30jXmkoTyNeaSFUI15pIVUjXml+TyNfI15pflAkTWJPI186UU9+UCRNYk9RI19PeCF7T3khfE97IX1PIWQheU8hZiF6TyFsI19PI186UU8jYDpSTyNhOlJPI2I6Uk8nbFFPWiNeaSFjI15pI2MjXmkjZCNeaSNlI15pI2YjXmkjZyNeaSNpI15pI2sjXmkjbSNeaSNuI15pI3EjXmkndiNeaSd9I15pKE8jXmkhVCNeaSFVI15pfk9rI15pflAlIG1PazpTT35QJSBtT1EjX09rOlNPeCF7T3khfE97IX1PIWQheU8hZiF6TyFsI19PI186UU8jYDpSTyNhOlJPI2I6Uk8jYzpUTydsUU8jaSNeaSNrI15pI20jXmkjbiNeaSNxI15pJ3YjXmknfSNeaShPI15pIVQjXmkhVSNeaX5PWiNeaSFjI15pI2QjXmkjZSNeaSNmI15pI2cjXml+UCUjeE9aOmBPIWM6VU8jZDpVTyNlOlVPI2Y6X08jZzpVT35QJSN4T1EjX09aOmBPazpTT3ghe095IXxPeyF9TyFjOlVPIWQheU8hZiF6TyFsI19PI186UU8jYDpSTyNhOlJPI2I6Uk8jYzpUTyNkOlVPI2U6VU8jZjpfTyNnOlVPI2k6Vk8nbFFPI2sjXmkjbSNeaSNuI15pI3EjXmkndiNeaShPI15pIVQjXmkhVSNeaX5PJ30jXml+UCUmZE8nfSNPT35QJSZkT1EjX09aOmBPazpTT3ghe095IXxPeyF9TyFjOlVPIWQheU8hZiF6TyFsI19PI186UU8jYDpSTyNhOlJPI2I6Uk8jYzpUTyNkOlVPI2U6VU8jZjpfTyNnOlVPI2k6Vk8jazpYTydsUU8nfSNPTyNtI15pI24jXmkjcSNeaSd2I15pIVQjXmkhVSNeaX5PKE8jXml+UCUob08oTyNQT35QJShvT1EjX09aOmBPazpTT3ghe095IXxPeyF9TyFjOlVPIWQheU8hZiF6TyFsI19PI186UU8jYDpSTyNhOlJPI2I6Uk8jYzpUTyNkOlVPI2U6VU8jZjpfTyNnOlVPI2k6Vk8jazpYTyNtOlpPJ2xRTyd9I09PKE8jUE9+TyNuI15pI3EjXmkndiNeaSFUI15pIVUjXml+UCUqek9fI295IVQjb3knXyNveSFRI295IWUjb3lvI295IVYjb3klWCNveSFfI295flAhLGhPUDxiT3goWk97KFtPJ30oXk8oTyhgT35PUSNeaVojXmlrI15peSNeaSFjI15pIWQjXmkhZiNeaSFsI15pI18jXmkjYCNeaSNhI15pI2IjXmkjYyNeaSNkI15pI2UjXmkjZiNeaSNnI15pI2kjXmkjayNeaSNtI15pI24jXmkjcSNeaSdsI15pJ3YjXmkhVCNeaSFVI15pflAlLW9PI3Ena1ghVSdrWH5QIUZlTyNxI3JpIVQjcmkhVSNyaX5QIy5VTyFVNHpPfk8hVCZ6YSFVJnphflAjLlVPIV8hd08ndiZ0TyFUJnthIWUme2F+TyFULV5PIWUoVGl+TyFULV5PIV8hd08hZShUaX5PZSRtcSFUJG1xI08kbXEjcSRtcX5QISVtTyFRJn1hIVQmfWF+UCFFZk8hXzVST35PIVQtZk8hUShVaX5QIUVmTyFULWZPIVEoVWl+TyFRNVZPfk8hXyF3TyNnNVtPfk9rNV1PIV8hd08ndiZ0T35PIVE1X09+T2Ukb3EhVCRvcSNPJG9xI3Ekb3F+UCElbU9fJGF5IVQkYXknXyRheSFRJGF5IWUkYXlvJGF5IVYkYXklWCRheSFfJGF5flAhLGhPIVQyYU8hVihWYX5PIVYmaU8lWDVkT35PIVYmaU8lWDVkT35QIUVmT18jUnkhVCNSeSdfI1J5IVEjUnkhZSNSeW8jUnkhViNSeSVYI1J5IV8jUnl+UCEsaE9aNWdPfk9dNWlPJ2QpcE9+TyFULmpPIVUoXWl+T101bE9+T141bU9+TyFfNFVPfk8nbSdZTyFUJ1NYIVUnU1h+TyFUM1BPIVUoWWF+TyFmJGBPJ2gkVE9fJ3JYIV8nclghbCdyWCNPJ3JYJ18nclgndidyWH5PJ2Q1eE9+UCxPT18kY08hXyF3TyFsMGVPI08wY08nXyRjTyd2JnRPfk8hVTV7T35QJD10T10mV09sJldPezV8TydtKHFPJ3Urck9+TyFZNlFPIVo2UE8hWzZQTyF6MG1PIXswbU8ndStyT35QIUFjTyFZNlFPIVo2UE8hWzZQTyF1NlJPIXY2Uk8hejBtTyF7MG1PJ3Urck9+UCFBY08hWjZQTyFbNlBPJ2UkaU8nbShxTyd1K3JPfk8hVi9XT35PIVYvV08lWDZUT35PIVYvV08lWDZUT35QIUVmT1A2WU8hVi9XTyFxNlhPJVg2VE9+T1o2X08hVCdWYSFVJ1Zhfk8hVC9kTyFVKFppfk9dNmJPfk8hZTZjT35PIWU2ZE9+TyFlNmVPfk8hZTZlT35QKk9PXzZnT35PIV82ak9+TyFlNmtPfk8hVCd7aSFVJ3tpflAjLlVPXyRjTydfJGNPflAhLGhPXyRjTyNPNnFPJ18kY09+T18kY08hXyF3TyNPNnFPJ18kY09+TyFaNnZPIVs2dk8ndStyT35QIUFjT18kY08hXyF3TyFsNndPI082cU8nXyRjTyd2JnRPfk8hZiRgTydoJFRPflAlPVFPIVk2eE8hWjZ2TyFbNnZPJ3Urck9+UCFBY08hVCd4eSFlJ3h5Xyd4eSdfJ3h5flAhLGhPI1okbXFRJG1xWiRtcV8kbXFrJG1xeSRtcSFUJG1xIWMkbXEhZCRtcSFmJG1xIWwkbXEjXyRtcSNgJG1xI2EkbXEjYiRtcSNjJG1xI2QkbXEjZSRtcSNmJG1xI2ckbXEjaSRtcSNrJG1xI20kbXEjbiRtcSdfJG1xJ2wkbXEndiRtcSFlJG1xIVEkbXEhViRtcSNPJG1xbyRtcSVYJG1xIV8kbXF+UCFFZk8jWiRvcVEkb3FaJG9xXyRvcWskb3F5JG9xIVQkb3EhYyRvcSFkJG9xIWYkb3EhbCRvcSNfJG9xI2Akb3EjYSRvcSNiJG9xI2Mkb3EjZCRvcSNlJG9xI2Ykb3EjZyRvcSNpJG9xI2skb3EjbSRvcSNuJG9xJ18kb3EnbCRvcSd2JG9xIWUkb3EhUSRvcSFWJG9xI08kb3FvJG9xJVgkb3EhXyRvcX5QIUVmTyFUJnNpIWUmc2l+UCEsaE8jcSNScSFUI1JxIVUjUnF+UCMuVU94LlFPeS5RT3suUk9QdWEnfXVhKE91YSFVdWF+T1F1YVp1YWt1YSFjdWEhZHVhIWZ1YSFsdWEjX3VhI2B1YSNhdWEjYnVhI2N1YSNkdWEjZXVhI2Z1YSNndWEjaXVhI2t1YSNtdWEjbnVhI3F1YSdsdWEndnVhIVR1YX5QJUNnT3goWk97KFtPUCRkYSd9JGRhKE8kZGEhVSRkYX5PUSRkYVokZGFrJGRheSRkYSFjJGRhIWQkZGEhZiRkYSFsJGRhI18kZGEjYCRkYSNhJGRhI2IkZGEjYyRkYSNkJGRhI2UkZGEjZiRkYSNnJGRhI2kkZGEjayRkYSNtJGRhI24kZGEjcSRkYSdsJGRhJ3YkZGEhVCRkYX5QJUVuT3goWk97KFtPUCRmYSd9JGZhKE8kZmEhVSRmYX5PUSRmYVokZmFrJGZheSRmYSFjJGZhIWQkZmEhZiRmYSFsJGZhI18kZmEjYCRmYSNhJGZhI2IkZmEjYyRmYSNkJGZhI2UkZmEjZiRmYSNnJGZhI2kkZmEjayRmYSNtJGZhI24kZmEjcSRmYSdsJGZhJ3YkZmEhVCRmYX5QJUd1T1EkdGFaJHRhayR0YXkkdGEhYyR0YSFkJHRhIWYkdGEhbCR0YSNfJHRhI2AkdGEjYSR0YSNiJHRhI2MkdGEjZCR0YSNlJHRhI2YkdGEjZyR0YSNpJHRhI2skdGEjbSR0YSNuJHRhI3EkdGEnbCR0YSd2JHRhIVQkdGEhVSR0YX5QJS1vTyNxJGBxIVQkYHEhVSRgcX5QIy5VTyNxJGFxIVQkYXEhVSRhcX5QIy5VTyFVN1JPfk8jcTdTT35QISVtTyFfIXdPIVQme2khZSZ7aX5PIV8hd08ndiZ0TyFUJntpIWUme2l+TyFULV5PIWUoVHF+TyFRJn1pIVQmfWl+UCFFZk8hVC1mTyFRKFVxfk8hUTdZT35QIUVmTyFRN1lPfk9lJ2p5IVQnanl+UCElbU8hVCdRYSFWJ1FhflAhRWZPIVYke3FfJHtxIVQke3EnXyR7cX5QIUVmT1o3YU9+TyFULmpPIVUoXXF+T103ZE9+TyFWJmlPJVg3ZU9+TyFWJmlPJVg3ZU9+UCFFZk8jTzdmTyFUJ1NhIVUnU2F+TyFUM1BPIVUoWWl+UCMuVU9RW1haW1hrW1h4W1h5W1h7W1ghUVtYIVRbWCFjW1ghZFtYIWZbWCFsW1gjT1tYI1pkWCNfW1gjYFtYI2FbWCNiW1gjY1tYI2RbWCNlW1gjZltYI2dbWCNpW1gja1tYI21bWCNuW1gjc1tYJ2xbWCd2W1gnfVtYKE9bWH5PIV8keVgjZyR5WH5QJiB8TyFaN2xPIVs3bE8nZSRpTydtKHFPJ3Urck9+TyFZN29PIVo3bE8hWzdsTyF6NGlPIXs0aU8ndStyT35QIUFjTyFWL1dPJVg3ck9+TyFWL1dPJVg3ck9+UCFFZk9dN3lPJ203eE9+TyFUL2RPIVUoWnF+TyFlN3tPfk8hZTd7T35QKk9PIWU3fU9+TyFlOE9Pfk8jTzhRTyFUI1d5IVUjV3l+TyFUI1d5IVUjV3l+UCMuVU9fJGNPI084Vk8nXyRjT35PXyRjTyFfIXdPI084Vk8nXyRjT35PIVo4WU8hWzhZTyd1K3JPflAhQWNPXyRjTyFfIXdPIWw4Wk8jTzhWTydfJGNPJ3YmdE9+TyNxI295IVQjb3khVSNveX5QIy5VT1EkbWlaJG1payRtaXkkbWkhYyRtaSFkJG1pIWYkbWkhbCRtaSNfJG1pI2AkbWkjYSRtaSNiJG1pI2MkbWkjZCRtaSNlJG1pI2YkbWkjZyRtaSNpJG1pI2skbWkjbSRtaSNuJG1pI3EkbWknbCRtaSd2JG1pIVQkbWkhVSRtaX5QJS1vT3goWk97KFtPKE8oYE9QJVBpJ30lUGkhVSVQaX5PUSVQaVolUGlrJVBpeSVQaSFjJVBpIWQlUGkhZiVQaSFsJVBpI18lUGkjYCVQaSNhJVBpI2IlUGkjYyVQaSNkJVBpI2UlUGkjZiVQaSNnJVBpI2klUGkjayVQaSNtJVBpI24lUGkjcSVQaSdsJVBpJ3YlUGkhVCVQaX5QJipWT3goWk97KFtPUCVSaSd9JVJpKE8lUmkhVSVSaX5PUSVSaVolUmlrJVJpeSVSaSFjJVJpIWQlUmkhZiVSaSFsJVJpI18lUmkjYCVSaSNhJVJpI2IlUmkjYyVSaSNkJVJpI2UlUmkjZiVSaSNnJVJpI2klUmkjayVSaSNtJVJpI24lUmkjcSVSaSdsJVJpJ3YlUmkhVCVSaX5QJixeTyNxJGF5IVQkYXkhVSRheX5QIy5VTyNxI1J5IVQjUnkhVSNSeX5QIy5VTyFfIXdPIVQme3EhZSZ7cX5PIVQtXk8hZShUeX5PIVEmfXEhVCZ9cX5QIUVmTyFROGFPflAhRWZPIVQuak8hVShdeX5PIVQzUE8hVShZcX5PIVo4bU8hWzhtTydlJGlPJ20ocU8ndStyT35PIVYvV08lWDhwT35PIVYvV08lWDhwT35QIUVmTyFlOHNPfk9fJGNPI084eU8nXyRjT35PXyRjTyFfIXdPI084eU8nXyRjT35PUSRtcVokbXFrJG1xeSRtcSFjJG1xIWQkbXEhZiRtcSFsJG1xI18kbXEjYCRtcSNhJG1xI2IkbXEjYyRtcSNkJG1xI2UkbXEjZiRtcSNnJG1xI2kkbXEjayRtcSNtJG1xI24kbXEjcSRtcSdsJG1xJ3YkbXEhVCRtcSFVJG1xflAlLW9PUSRvcVokb3FrJG9xeSRvcSFjJG9xIWQkb3EhZiRvcSFsJG9xI18kb3EjYCRvcSNhJG9xI2Ikb3EjYyRvcSNkJG9xI2Ukb3EjZiRvcSNnJG9xI2kkb3EjayRvcSNtJG9xI24kb3EjcSRvcSdsJG9xJ3Ykb3EhVCRvcSFVJG9xflAlLW9PZSVUIVohVCVUIVojTyVUIVojcSVUIVp+UCElbU8hVCdTcSFVJ1NxflAjLlVPIVQjVyFaIVUjVyFaflAjLlVPXyRjTyNPOV1PJ18kY09+TyNaJVQhWlElVCFaWiVUIVpfJVQhWmslVCFaeSVUIVohVCVUIVohYyVUIVohZCVUIVohZiVUIVohbCVUIVojXyVUIVojYCVUIVojYSVUIVojYiVUIVojYyVUIVojZCVUIVojZSVUIVojZiVUIVojZyVUIVojaSVUIVojayVUIVojbSVUIVojbiVUIVonXyVUIVonbCVUIVondiVUIVohZSVUIVohUSVUIVohViVUIVojTyVUIVpvJVQhWiVYJVQhWiFfJVQhWn5QIUVmT1A8YU94KFpPeyhbTyd9KF5PKE8oYE9+T10hfWFsIX1hIVUhfWEhWSF9YSFaIX1hIVshfWEhdCF9YSF1IX1hIXYhfWEheiF9YSF7IX1hJ2UhfWEnbSF9YSd1IX1hflAmOGVPUSVUIVpaJVQhWmslVCFaeSVUIVohYyVUIVohZCVUIVohZiVUIVohbCVUIVojXyVUIVojYCVUIVojYSVUIVojYiVUIVojYyVUIVojZCVUIVojZSVUIVojZiVUIVojZyVUIVojaSVUIVojayVUIVojbSVUIVojbiVUIVojcSVUIVonbCVUIVondiVUIVohVCVUIVohVSVUIVp+UCUtb09ddWFsdWEhWXVhIVp1YSFbdWEhdHVhIXV1YSF2dWEhenVhIXt1YSdldWEnbXVhJ3V1YX5QJUNnT10kZGFsJGRhIVkkZGEhWiRkYSFbJGRhIXQkZGEhdSRkYSF2JGRhIXokZGEheyRkYSdlJGRhJ20kZGEndSRkYX5QJUVuT10kZmFsJGZhIVkkZmEhWiRmYSFbJGZhIXQkZmEhdSRmYSF2JGZhIXokZmEheyRmYSdlJGZhJ20kZmEndSRmYX5QJUd1T10kdGFsJHRhIVUkdGEhWSR0YSFaJHRhIVskdGEhdCR0YSF1JHRhIXYkdGEheiR0YSF7JHRhJ2UkdGEnbSR0YSd1JHRhflAmOGVPXSVQaWwlUGkhWSVQaSFaJVBpIVslUGkhdCVQaSF1JVBpIXYlUGkheiVQaSF7JVBpJ2UlUGknbSVQaSd1JVBpflAmKlZPXSVSaWwlUmkhWSVSaSFaJVJpIVslUmkhdCVSaSF1JVJpIXYlUmkheiVSaSF7JVJpJ2UlUmknbSVSaSd1JVJpflAmLF5PXSRtaWwkbWkhVSRtaSFZJG1pIVokbWkhWyRtaSF0JG1pIXUkbWkhdiRtaSF6JG1pIXskbWknZSRtaSdtJG1pJ3UkbWl+UCY4ZU9dJG1xbCRtcSFVJG1xIVkkbXEhWiRtcSFbJG1xIXQkbXEhdSRtcSF2JG1xIXokbXEheyRtcSdlJG1xJ20kbXEndSRtcX5QJjhlT10kb3FsJG9xIVUkb3EhWSRvcSFaJG9xIVskb3EhdCRvcSF1JG9xIXYkb3EheiRvcSF7JG9xJ2Ukb3EnbSRvcSd1JG9xflAmOGVPXSVUIVpsJVQhWiFVJVQhWiFZJVQhWiFaJVQhWiFbJVQhWiF0JVQhWiF1JVQhWiF2JVQhWiF6JVQhWiF7JVQhWidlJVQhWidtJVQhWid1JVQhWn5QJjhlT28nblh+UC5tT29bWCFRW1ghZVtYJXlbWCFWW1glWFtYIV9bWH5QJHpPIV9kWCFlW1ghZWRYJ3ZkWH5QO3NPUTl5T1I5eU9dY09iO3xPYyFqT2ljT2s5eU9sY09tY09yY090OXlPdjl5T3tSTyFPY08hUGNPIVZTTyFhOXtPIWZVTyFpOXlPIWo5eU8hazl5TyFsOXlPIW05eU8hcCFpTyN4IWxPI3xeTydkJ2pPJ2xRTyd1WU8oUzt6T35PXSN1T2kkVU9rI3ZPbCN1T20jdU9yJFZPdCRXT3Y6Y097I31PIVYkT08hYTxTTyFmI3pPI1k6bE8jeCRbTyRlOmZPJGc6aU8kaiRdTydkJ1FPJ2gkVE8nbCN3T35PIVQ6XU8hVSRjYX5PXSN1T2kkVU9rI3ZPbCN1T20jdU9yJFZPdCRXT3Y6ZE97I31PIVYkT08hYTxUTyFmI3pPI1k6bU8jeCRbTyRlOmdPJGc6ak8kaiRdTydkJ1FPJ2gkVE8nbCN3T35PI2gncU9+UCZJd08hVVtYIVVkWH5QO3NPIV86UE9+TyNaOk9Pfk8hXyF3TyNaOk9Pfk8jTzphT35PI2c6VU9+TyNPOm5PIVQne1ghVSd7WH5PI086YU8hVCd5WCFVJ3lYfk8jWjpvT35PZTpxT35QISVtTyNaOnhPfk8jWjp5T35PI1o6ek9+TyFfIXdPI1o6e09+TyFfIXdPI1o6b09+TyNxOnxPflAjLlVPI1o6fU9+TyNaO09Pfk8jWjtQT35PI1o7UU9+TyNaO1JPfk8jWjtTT35PI1o7VE9+TyNaO1VPfk8hUTtWT35PI3E7V09+UCElbU8jcTtYT35QISVtTyNxO1lPflAhJW1PIVE7Wk9+UCFFZk8hUTtaT35PIVE7W09+UCFFZk8hXyF3TyNnPFlPfk8hXyF3TyNnPFtPfk8jfH4hZCF0IXYhdyF6I1gjWSNmKFMkZSRnJGokfCVXJVglWSVgJWIlZSVmJWglan5VVCN8KFNseCNgIVAnYSdiJ20nYidkJE8kUX5cIixcbiAgZ290bzogXCIkIGkoYVBQUFBQUFBQKGJQKHJQKmZQUFBQLldQUC5tUDRXOFg4bFA4bFBQUDhsUDpwOGxQOGxQOGxQOnRQUDp6UDthP3lQUFA/fVBQUFA/fUJ1UFBQQntEalA/fVBGfVBQUFBIdj99UFBQUFBKdD99UFBNe054UFBQUE58ISFmUFAhIW4hI3BQTng/fT99ISdSISpTIS9PIS9PITJmUFBQITJtITVpP31QUFBQUFBQUFBQUCE4Z1AhOXlQUD99ITtYUD99UD99P30/fT99UD99ITxvUFAhP25QIUJpUCFCbSFCdSFCeSFCeVAhP2tQIUJ9IUJ9UCFFeFAhRXw/fT99IUZTIUh8OGxQOGxQOGw4bFAhSlU4bDhsIUxkOGwjIF84bCMjZzhsOGwjJFQjJmUjJmUjJmkjJnEjJmUjJn1QIyZlUDhsIyd5OGwjKWc4bDhsLldQUFAjK1hQUCMrcSMrcVAjK3FQIyxXIytxUFAjLF5QIyxUUCMsVCMscCEhaiMsVCMtXyMtZSMtaChiIy1rKGJQIy1yIy1yIy1yUChiUChiUChiUChiUFAoYlAjLXgjLXtQIy17KGJQIy5QUCMuU1AoYlAoYlAoYlAoYlAoYlAoYihiIy5ZIy5kIy5qIy5wIy9PIy9VIy9bIy9mIy9sIy97IzBSIzBhIzBnIzBtIzB7IzFiIzNZIzNoIzNuIzN0IzN6IzRRIzRbIzRiIzRoIzRyIzVVIzVbUFBQUFBQUFAjNWJQUCM2VSM5X1AjOnUjOnwjO1VQUCNAciNDYiNJZiNJaSNJbCNKfCNLUFBQI0tTI0tXI0t1I0xvI0xzI01YUFAjTV0jTWMjTWdQI01qI01uI01xI05hI053I058JCBQJCBTJCBZJCBdJCBhJCBlbWhPU2p9IW4kYiVoJWslbCVuKncqfC90L3dRJG5tUSR1cFElYHlTJlshYitpUSZwIWpTKHMkTyh4USluJG9RKXskd1EqaCVZUStvJmNTK3QmaSt2USxXJnFRLXcoelEvYyppWTBpK3greSt6K3srfFMzWC9XM1pVNGMwajBsMG9VNlAzXjNfM2BTNnY0ZTRoUzdsNlE2UlE4WTZ4UjhtN28keltPUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI2MjZyRiJHMlYSVkJWglaiVrJWwlbiVyJX0mUCZYJmQmayZ1J1MnVydbKFkpXillKlIqcyp3KnwrXStlLFIsWSxrLHIuUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwYzB4MVMyeDNVM2YzeTN7M3w0XzV8Nlg2ZzZxOFY4eTldIWwnbCNeI28mXShPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9USlVJFhRKXMkcVEqaiVdUSpxJWVRLGI6YlEuZCloUS5vKXRRL2sqb1Eybi5qUTNuL2RRNHM6ZFE1aTJvUjloOmNwZU9Tanl9IW4kYiVfJWglayVsJW4qdyp8L3Qvd1IqbCVhJmRWT1NUamtufSFTIVchayFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNeI2MjZyNvJGIkcyVhJWQlZSVoJWolayVsJW4lciZQJlgmZCZrJnUnUydXJ1soTyhZKV4pZSpSKnMqdyp8K10rYStkK2UsUixZLGsscix4LlIuVy5gLmkvWi9sL20vbi9wL3Qvdy95MFowYzB4MVMxaDJ4M1IzVTNmM3kzezN8NFY0XzV8Nlg2ZzZxN2Y4UThWOHk5XTl5OXs6TzpROlI6UzpUOlU6VjpXOlg6WTpaOls6XTphOm46bzpxOns6fDtUO1U7fDt9WyFjUlUhXSFgJX0mXVEkaGxRJG1tUyRycCR3eCR8cnMhciF1JGAkeiZlJnkmfCpQKlEqUyp1K2IrcSxdLF8vfDB6NFVRJVV3USZtIWlRJm8halMoZiN6KGpTKW0kbiRvUSlxJHFRKk8keVEqYyVXUSpnJVlTLFYmcCZxUS1iKGdRLmgpblEubil0US5wKXVRLnMpeVEvXipkUy9iKmgqaVEwdixXUTFxLV5RMm0ualEycS5tUTJ2LnVRM20vY1E1TzFyUTVoMm9RNWsyc1E3YDVnUjhkN2F4I3xhIXkkWSRaJF8oXyhhKGkpTylQLGgtZS5UMXAyWTdTO3o8VjxXPFghWSRrbSFqJG0kbiRvJlombyZwJnEociltKW4rZitzLFYsVy1vLmgwYDBmMGswdjJVNGI0ZzZ0OFc4elEpZyRoUSpYJVJRKlslU1EqZiVZUS53Kk9RL10qY1UvYSpnKmgqaVEzaC9eUzNsL2IvY1M1dzNUM1dRNl4zbVU3ajV5NX02T1U4azdrN203blE5UzhsUTliOVQjXjxPIXcjZSNmI3ojfSZsKFUoYihvKWQpZiloKlcqWixTLWYtaC5fLmEufS9RL1kvWzF6MlMyYTJkMmgyeTNlM2c1UjVbNWQ2VDZZN2U3cjhwOmU6aDprOnI6dTp4On07UTtXPFk8WzxgPGE8YmQ8UDpQOmY6aTpsOnM6djp5O087UjtYZzxROl86YDpnOmo6bTp0Onc6ejtQO1M7WVckUmEkVClRO3pTJVJ0JV9RJVN1USVUdlIqViVQJVQkUWEhdyF5I2UjZiN6I30kWSRaJF8mbChVKF8oYShiKGkobylPKVApZClmKWgqVypaLFMsaC1lLWYtaC5ULl8uYS59L1EvWS9bMXAxejJTMlkyYTJkMmgyeTNlM2c1UjVbNWQ2VDZZN1M3ZTdyOHA6UDpfOmA6ZTpmOmc6aDppOmo6azpsOm06cjpzOnQ6dTp2Onc6eDp5Ono6fTtPO1A7UTtSO1M7VztYO1k7ejxWPFc8WDxZPFs8YDxhPGJUKFYjdyhXWClWJFg6YjpjOmRVJmAhYiR7K2xTJ1oheyF8USl4JHRRL1IqXVEyWi5RUjVzM1AmamNPUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI14jYyNnI28kYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJl0mZCZrJnUnUydXJ1soTyhZKV4pZSpSKnMqdyp8K10rYStkK2UsUixZLGsscix4LlIuVy5gLmkvWi9sL20vbi9wL3Qvdy95MFowYzB4MVMxaDJ4M1IzVTNmM3kzezN8NFY0XzV8Nlg2ZzZxN2Y4UThWOHk5XTl5OXs6TzpROlI6UzpUOlU6VjpXOlg6WTpaOls6XTphOm46bzpxOns6fDtUO1U7fSRfI2JaIV8hbyRmJXwmUydPJ1YnXydgJ2EnYidjJ2QnZSdmJ2cnaCdpJ2snbidyJ3wpdytaK2crcCxYLGcsbSxxLHMtUy5VMFQwVzB3MVIxVzFYMVkxWjFbMV0xXjFfMWAxYTFiMWMxZDFnMWwyXzJrNFk0XTRtNHE0cjR3NHg1dTZtNnA2ezdQN1E4UzhnOHQ4dzlaOWY5ejtqVCFYUSFZJmtjT1JTVFVqa30hUyFXIV0hYCFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNeI2MjZyNvJGIkcyVhJWQlZSVoJWolayVsJW4lciV9JlAmWCZdJmQmayZ1J1MnVydbKE8oWSleKWUqUipzKncqfCtdK2ErZCtlLFIsWSxrLHIseC5SLlcuYC5pL1ovbC9tL24vcC90L3cveTBaMGMweDFTMWgyeDNSM1UzZjN5M3szfDRWNF81fDZYNmc2cTdmOFE4Vjh5OV05eTl7Ok86UTpSOlM6VDpVOlY6VzpYOlk6WjpbOl06YTpuOm86cTp7Onw7VDtVO31RJl4hYlIwWytpIVcmVyFiJlsmYyZpK2krbyt0K3YreCt5K3oreyt8K30waTBqMGwwbTBvM100YzRlNGg0aTZ2Nng4WVMociRPKHhTLW8ocyh6US14KHtRL1QqX1EyVS13UTJYLXpTM1QvVzNaUzV5M1gzYFM1fTNeM19TN2s2UDZRUTdtNlJTOGw3bDdvUjlUOG1saE9Tan0hbiRiJWglayVsJW4qdyp8L3Qvd1ElcCFRUyZ9IXY6T1EpayRsUSphJVVRKmIlVlEsVCZuUyxmJ1M6b1MuVileOntRLmYpbFEvVipgUS97K09RL30rUFEwVitjUTBuK3pRMHQsVVMyYC5XO1RRMmkuZ1MybC5pO1VRNFgwWVE0WzBhUTRrMHVRNWYyalE2bjRaUTZyNGFRNno0bFE4UDZrUThUNnNROHY4VVE5WTh4UjllOVskWSNhWiFfIW8lfCZTJ08nVidfJ2AnYSdiJ2MnZCdlJ2YnZydoJ2knayduJ3InfCl3K1orZytwLFgsZyxtLHEtUy5VMFQwVzB3MVIxVzFYMVkxWjFbMV0xXjFfMWAxYTFiMWMxZDFnMWwyXzJrNFk0XTRtNHE0cjR3NHg1dTZtNnA2ezdQN1E4UzhnOHQ4dzlaOWY5ejtqVSh9JFAnUjFmVCliJGYscyRZI2BaIV8hbyV8JlMnTydWJ18nYCdhJ2InYydkJ2UnZidnJ2gnaSdrJ24ncid8KXcrWitnK3AsWCxnLG0scS1TLlUwVDBXMHcxUjFXMVgxWTFaMVsxXTFeMV8xYDFhMWIxYzFkMWcxbDJfMms0WTRdNG00cTRyNHc0eDV1Nm02cDZ7N1A3UThTOGc4dDh3OVo5Zjl6O2pTJ10hfCNhUylhJGYsc1EsdCdtUi5YKWImamNPUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI14jYyNnI28kYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJl0mZCZrJnUnUydXJ1soTyhZKV4pZSpSKnMqdyp8K10rYStkK2UsUixZLGsscix4LlIuVy5gLmkvWi9sL20vbi9wL3Qvdy95MFowYzB4MVMxaDJ4M1IzVTNmM3kzezN8NFY0XzV8Nlg2ZzZxN2Y4UThWOHk5XTl5OXs6TzpROlI6UzpUOlU6VjpXOlg6WTpaOls6XTphOm46bzpxOns6fDtUO1U7fVEla3tRJWx8USVuIU9RJW8hUFIvcyp6USZqIWlRKWMkaFEsUSZtUy5eKWcqT1MwcSxPLFBXMmMuWi5bLl0ud1M0ajByMHNVNWMyZTJmMmdVN141YjVvNXBROGM3X1I5TzhmVCt1JmkrdlMrcyZpK3ZVMGYrdCt4K3lVMGsreit7K3xTMHArfTNdUzNXL1czWlU0YjBpMGowbFE0ZjBtUTRnMG9TNXkzWDNgUzZPM14zX1U2dDRjNGU0aFE2eTRpUzdrNlA2UVE3bjZSUzhXNnY2eFM4bDdsN29ROHo4WVI5VDhtUyt1JmkrdlQzWS9XM1pTJnchcS9xUS1hKGZRLW0oclUwZStzM1YzV1Exdi1iUzJQLW4teFU0ZDBrMHA2T1E0fTFxUzVZMlYyWFU2dzRmNGc3blE3VTVPUTddNV1SOFo2eVEheFhTJnYhcS9xUSlfJGFRKWkkalEpbyRwUSxaJndRLWAoZlEtbChyUS1yKHVRLmUpalEvXyplVTBkK3MzVjNXUzF1LWEtYlMyTy1tLXhRMlItcVEyVC1zUTNqL2BXNGAwZTBrMHA2T1E0fDFxUTVRMXZTNVUyUDJYUTVaMldRNlsza1c2dTRkNGY0ZzduUzdUNH01T1M3WDVWO1ZRN1o1WVE3aDV2UTd2Nl1TOFg2dzZ5UThfN1VTOGA3WTtaUThiN11ROGk3aVE4cjd3UTh7OFpTOH04YTtbUTlROGpROWA5UlE5bTlhUTl0OW5RO2M7XlE7cTtoUTtyO2lRO3M8VVI7eDxaJHxXT1JTVFVqa30hUyFXIV0hYCFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNjI2ckYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJmQmayZ1J1MnVydbKFkpXillKlIqcyp3KnwrXStlLFIsWSxrLHIuUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwYzB4MVMyeDNVM2YzeTN7M3w0XzV8Nlg2ZzZxOFY4eTldUyF4biFrIWw7XSNeI28mXShPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9UjtjO3wkfFhPUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI2MjZyRiJHMlYSVkJWUlaCVqJWslbCVuJXIlfSZQJlgmZCZrJnUnUydXJ1soWSleKWUqUipzKncqfCtdK2UsUixZLGssci5SLlcuYC5pL1ovbC9tL24vcC90L3cveTBjMHgxUzJ4M1UzZjN5M3szfDRfNXw2WDZnNnE4Vjh5OV1RJGFiIVkkam0haiRtJG4kbyZaJm8mcCZxKHIpbSluK2YrcyxWLFctby5oMGAwZjBrMHYyVTRiNGc2dDhXOHpTJHBuIWtRKWoka1EqZSVZVy9gKmYqZypoKmlVM2svYS9iL2NTNXYzVDNXUzZdM2wzbVc3aTV3NXk1fTZPUTd3Nl5XOGo3ajdrN203blM5UjhrOGxTOWE5UzlUUTluOWIhbDteI14jbyZdKE8rYStkLHgwWjFoM1I0VjdmOFE5eTl7Ok86UTpSOlM6VDpVOlY6VzpYOlk6WjpbOl06YTpuOm86cTp7Onw7VDtVO31RO2g7e1I7aTt8JHBdT1NUamt9IVMhVyFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNjI2ckYiRzJWElZCVoJWolayVsJW4lciZQJlgmZCZrJnUnUydXJ1soWSleKWUqUipzKncqfCtdK2UsUixZLGssci5SLlcuYC5pL1ovbC9tL24vcC90L3cveTBjMHgxUzJ4M1UzZjN5M3szfDRfNXw2WDZnNnE4Vjh5OV1ZIWhSVSFdIWAlfXgkfHJzIXIhdSRgJHomZSZ5JnwqUCpRKlMqdStiK3EsXSxfL3wwejRVUSpyJWUhajtfI14jbyhPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9UjtiJl1TJmEhYiR7UjBeK2wkeltPUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI2MjZyRiJHMlYSVkJWglaiVrJWwlbiVyJX0mUCZYJmQmayZ1J1MnVydbKFkpXillKlIqcyp3KnwrXStlLFIsWSxrLHIuUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwYzB4MVMyeDNVM2YzeTN7M3w0XzV8Nlg2ZzZxOFY4eTldIWwnbCNeI28mXShPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9UipxJWUkfG9PUlNUVWprfSFTIVchXSFgIW4hdiF6IX0jUSNSI1MjVCNVI1YjVyNYI1kjWiNbI2MjZyRiJHMlYSVkJWUlaCVqJWslbCVuJXIlfSZQJlgmZCZrJnUnUydXJ1soWSleKWUqUipzKncqfCtdK2UsUixZLGssci5SLlcuYC5pL1ovbC9tL24vcC90L3cveTBjMHgxUzJ4M1UzZjN5M3szfDRfNXw2WDZnNnE4Vjh5OV1TJ1oheyF8IW07YCNeI28mXShPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9IWgjV1ohXyRmJXwmUydPJ1YnZidnJ2gnaSduJ3IpdytaK3AsWCxnLG0tUy5VMHcxUjFkMl8yazRdNG00cTZwOFM4dzlaOWY5eiFUOlcnayd8K2csczBUMFcxVzFgMWExYjFjMWcxbDRZNHI0dzR4NXU2bTZ7N1A3UThnOHQ7aiFkI1laIV8kZiV8JlMnTydWJ2gnaSduJ3IpdytaK3AsWCxnLG0tUy5VMHcxUjFkMl8yazRdNG00cTZwOFM4dzlaOWY5eiFQOlknayd8K2csczBUMFcxVzFiMWMxZzFsNFk0cjR3NHg1dTZtNns3UDdROGc4dDtqIWAjXlohXyRmJXwmUydPJ1YnbidyKXcrWitwLFgsZyxtLVMuVTB3MVIxZDJfMms0XTRtNHE2cDhTOHc5WjlmOXpRMXAtW3o7fSdrJ3wrZyxzMFQwVzFXMWcxbDRZNHI0dzR4NXU2bTZ7N1A3UThnOHQ7alE8VjxdUTxXPF5SPFg8XyZqY09SU1RVamt9IVMhVyFdIWAhbiF2IXohfSNRI1IjUyNUI1UjViNXI1gjWSNaI1sjXiNjI2cjbyRiJHMlYSVkJWUlaCVqJWslbCVuJXIlfSZQJlgmXSZkJmsmdSdTJ1cnWyhPKFkpXillKlIqcyp3KnwrXSthK2QrZSxSLFksayxyLHguUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwWjBjMHgxUzFoMngzUjNVM2YzeTN7M3w0VjRfNXw2WDZnNnE3ZjhROFY4eTldOXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9UyNwYCNxUjFpLHcmcV9PUlNUVWBqa30hUyFXIV0hYCFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNeI2MjZyNvI3EkYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJl0mZCZrJnUnUydXJ1soTyhZKV4pZSpSKnMqdyp8K10rYStkK2UsUixZLGsscix3LHguUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwWjBjMHgxUzFoMngzUjNVM2YzeTN7M3w0VjRfNXw2WDZnNnE3ZjhROFY4eTldOXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9VCNsXiNyUyNqXiNyVCd1I20neVQja14jclQndyNtJ3kmcWBPUlNUVWBqa30hUyFXIV0hYCFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNeI2MjZyNvI3EkYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJl0mZCZrJnUnUydXJ1soTyhZKV4pZSpSKnMqdyp8K10rYStkK2UsUixZLGsscix3LHguUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwWjBjMHgxUzFoMngzUjNVM2YzeTN7M3w0VjRfNXw2WDZnNnE3ZjhROFY4eTldOXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9VCNwYCNxUSNzYFIoUSNxJHxiT1JTVFVqa30hUyFXIV0hYCFuIXYheiF9I1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNjI2ckYiRzJWElZCVlJWglaiVrJWwlbiVyJX0mUCZYJmQmayZ1J1MnVydbKFkpXillKlIqcyp3KnwrXStlLFIsWSxrLHIuUi5XLmAuaS9aL2wvbS9uL3AvdC93L3kwYzB4MVMyeDNVM2YzeTN7M3w0XzV8Nlg2ZzZxOFY4eTldIW07eyNeI28mXShPK2ErZCx4MFoxaDNSNFY3ZjhROXk5ezpPOlE6UjpTOlQ6VTpWOlc6WDpZOlo6WzpdOmE6bjpvOnE6ezp8O1Q7VTt9I11kT1NVan0hUyFXIW4hfSNvJGIlYSVkJWUlaCVqJWslbCVuJXImWCZrJ1soTyllKlIqcyp3KnwrZSxSLHguUi5gL1ovbC9tL24vcC90L3cveTFoMngzVTNmM3kzezN8NXw2WDZnIV4kUGEheSRZJFokXyhfKGEoaSlPKVAsaC1lLlQxcDJZN1M6UDpmOmk6bDpzOnY6eTtPO1I7WDt6PFY8VzxYI14nUiF3I2UjZiN6I30mbChVKGIobylkKWYpaCpXKlosUy1mLWguXy5hLn0vUS9ZL1sxejJTMmEyZDJoMnkzZTNnNVI1WzVkNlQ2WTdlN3I4cDplOmg6azpyOnU6eDp9O1E7VzxZPFs8YDxhPGJRKVokXVEtVChaZzFmOl86YDpnOmo6bTp0Onc6ejtQO1M7WXgje2EheSRZJFokXyhfKGEoaSlPKVAsaC1lLlQxcDJZN1M7ejxWPFc8WFEoayN8Uyh1JE8oeFEpWyReUS1zKHYjXjtlIXcjZSNmI3ojfSZsKFUoYihvKWQpZiloKlcqWixTLWYtaC5fLmEufS9RL1kvWzF6MlMyYTJkMmgyeTNlM2c1UjVbNWQ2VDZZN2U3cjhwOmU6aDprOnI6dTp4On07UTtXPFk8WzxgPGE8YmQ7ZjpQOmY6aTpsOnM6djp5O087UjtYZjtnOl86YDpnOmo6bTp0Onc6ejtQO1M7WVE7azxPUTtsPFBRO208UVE7bjxSUTtvPFNSO3A8VCFeJFBhIXkkWSRaJF8oXyhhKGkpTylQLGgtZS5UMXAyWTdTOlA6ZjppOmw6czp2Onk7TztSO1g7ejxWPFc8WCNeJ1IhdyNlI2YjeiN9JmwoVShiKG8pZClmKWgqVypaLFMtZi1oLl8uYS59L1EvWS9bMXoyUzJhMmQyaDJ5M2UzZzVSNVs1ZDZUNlk3ZTdyOHA6ZTpoOms6cjp1Ong6fTtRO1c8WTxbPGA8YTxiZzFmOl86YDpnOmo6bTp0Onc6ejtQO1M7WWxmT1NqfSFuJGIlaCVrJWwlbip3KnwvdC93UShuI31RK1YldVErVyV3UjF5LWYlUyRRYSF3IXkjZSNmI3ojfSRZJFokXyZsKFUoXyhhKGIoaShvKU8pUClkKWYpaCpXKlosUyxoLWUtZi1oLlQuXy5hLn0vUS9ZL1sxcDF6MlMyWTJhMmQyaDJ5M2UzZzVSNVs1ZDZUNlk3UzdlN3I4cDpQOl86YDplOmY6ZzpoOmk6ajprOmw6bTpyOnM6dDp1OnY6dzp4Onk6ejp9O087UDtRO1I7UztXO1g7WTt6PFY8VzxYPFk8WzxgPGE8YlEqWSVTUS9QKltRMn0vT1I1cjNPVCh3JE8oeFModyRPKHhUM1kvVzNaUS1xKHRRMlcteVE8VTNVUjxaNXxRKWkkalEtcih1US5lKWpRL18qZVEzai9gUTZbM2tRN2g1dlE3djZdUThpN2lROHI3d1E5UThqUTlgOVJROW05YVI5dDlucChfI3gnVCldLWQtey18MVAxdzJeNHs1XjheO2Q7dDt1O3YhbjpyJ1AncChlKG0sUCxlLVAtWy1pLlkuXS58L08wczFPMXgxfDJnMnwzTzNjNG80cDVTNVc1YDVlNXA2VzdXN1s3dDh8O3c7eTxdPF48X1s6czleOWs5cjl1OXY5eF06dDFlNHY2fDhbOF05Z3IoYSN4J1QpXS1ZLWQtey18MVAxdzJeNHs1XjheO2Q7dDt1O3YhcDp1J1AncChlKG0sUCxlLVAtWy1pLlkuXS58L08wczB8MU8xeDF8MmcyfDNPM2M0bzRwNVM1VzVgNWU1cDZXN1c3Wzd0OHw7dzt5PF08XjxfXjp2OV45azlwOXI5dTl2OXhfOncxZTR2Nnw2fThbOF05Z3BlT1NqeX0hbiRiJV8laCVrJWwlbip3KnwvdC93USVbeFIqcyVlcGVPU2p5fSFuJGIlXyVoJWslbCVuKncqfC90L3dSJVt4USpeJVRSLnsqVnFlT1NqeX0hbiRiJV8laCVrJWwlbip3KnwvdC93US9YKmNTM2QvXS9eVzZTM2EzYjNjM2hVN3E2VTZWNldVOG43cDdzN3RROVU4b1I5YzlWUSVjeVIqbSVfUjNxL2ZSN3k2X1MkcnAkd1IucCl1USVoelIqdyVpUip9JW9UL3UqfC93UitSJXBRK1ElcFIwTytSUWpPUSFuU1QkZWohblEoVyN3Ui1RKFdRIVlRUiV6IVlRIV5SVSZRIV4mUiteUSZSIV9SK14mU1EraiZeUjBdK2pRLGknVFIxUSxpUSxsJ1ZTMVQsbDFVUjFVLG1RK3YmaVIwZyt2UyFlUiR6VSZmIWUmZytfUSZnIWZSK18mVFErbSZhUjBfK21RJnohc1EsWyZ4VSxgJnosWzB7UjB7LGFRJ3kjbVIseSd5USNxYFIoUCNxUSNkWlUnbyNkK1k6XlErWTl6UjpeJ3xRLV8oZlcxcy1fMXQ1UDdWVTF0LWAtYS1iUzVQMXUxdlI3VjVRJGsoXSN4J1AnVCdwKGUobSlXKVgpXSxQLGMsZCxlLVAtWS1aLVstZC1pLXstfC5ZLl0ufC9PMHMwfDB9MU8xUDFlMXcxeDF8Ml4yZzJ8M08zYzRvNHA0dDR1NHY0ezVTNVc1XjVgNWU1cDZXNnw2fTdPN1c3Wzd0OFs4XTheOHw5XjlnOWk5ajlrOXA5cTlyOXU5djl4O2Q7dDt1O3Y7dzt5PF08XjxfUS1nKG1VMXstZzF9NVRRMX0taVI1VDF8USh4JE9SLXUoeFEpUiRTUi5PKVJRMmIuWVI1YTJiUSpUJH1SLnoqVFEzUS9SUzV0M1E3Z1I3ZzV1USpgJVVSL1UqYFEzWi9XUjV6M1pRL2UqalMzby9lNmBSNmAzcVEuaylxVzJwLmsycjVqN2JRMnIublE1ajJxUjdiNWtRKXYkclIucSl2US93KnxSNFAvd1dpT1NqIW5RJW19USlgJGJRKnYlaFEqeCVrUSp5JWxRKnslblEvcip3Uy91Knwvd1I0Ty90USRkZ1ElcSFSUSV0IVRRJXYhVVEleCFWUSl9JHhRKlUlT1EqbCVjUStUJXNRLXQod1MvaCptKnBRMFArU1EwUStWUTBSK1dVMGIrczNWM1dRMnUudFEyey58UTNpL19RM3MvalEzfS9zWTReMGQwZTBrMHA2T1E1bjJ3UTVxMnxRNlozalE2YTNyWzZvNF00YDRkNGY0ZzduUTdjNWxRN3U2W1E3ejZiVzhSNnA2dTZ3NnlROGU3ZFE4aDdoUThxN3ZVOHU4UzhYOFpROVA4aVE5VzhyUzlYOHc4e1E5XzlRUTlkOVpROWw5YFE5bzlmUTlzOW1SOXc5dFEkbG1RJm4halUpbCRtJG4kb1ErYyZaVSxVJm8mcCZxUS1rKHJTLmcpbSluUTBZK2ZRMGErc1MwdSxWLFdRMlEtb1Eyai5oUTRaMGBTNGEwZjBrUTRsMHZRNVgyVVM2czRiNGdROFU2dFE4eDhXUjlbOHpTI3lhO3pSKVMkVFUkU2EkVDt6Ui19KVFRI3hhUydQIXcpaFEnVCF5UydwI2UjZlEoZSN6UShtI31RKVckWVEpWCRaUSldJF9RLFAmbFEsYzplUSxkOmhRLGU6a1EtUChVUS1ZKF9RLVooYVEtWyhiUS1kKGlRLWkob1EteylPUS18KVBkLlkpZC5fL1kyZDNlNWQ2VDdlN3I4cFEuXSlmUS58KldRL08qWlEwcyxTUTB8OnJRMH06dVExTzp4UTFQLGhTMWU6XzpgUTF3LWVRMXgtZlExfC1oUTJeLlRRMmcuYVEyfC59UTNPL1FRM2MvW1E0bzp9UTRwO1FRNHQ6Z1E0dTpqUTR2Om1RNHsxcFE1UzF6UTVXMlNRNV4yWVE1YDJhUTVlMmhRNXAyeVE2VzNnUTZ8OnpRNn06dFE3Tzp3UTdXNVJRN1s1W1E3dDZZUThbO1BROF07U1E4XjdTUTh8O1dROV46UFE5ZztZUTlpOmZROWo6aVE5azpsUTlwOnNROXE6dlE5cjp5UTl1O09ROXY7UlE5eDtYUTtkO3pRO3Q8VlE7dTxXUTt2PFhRO3c8WVE7eTxbUTxdPGBRPF48YVI8XzxibGdPU2p9IW4kYiVoJWslbCVuKncqfC90L3dTIXBVJWpRJXMhU1EleSFXUSdeIX1RJ30jb1MqcCVhJWRRKnQlZVErUyVyUStgJlhRLE8ma1EsbydbUSx9KE9RLlspZVEueCpSUS9vKnNVMFgrZTNVNXxRMHIsUlExayx4UTJbLlJRMmYuYFEzYi9aUTN1L2xRM3YvbVEzeC9uUTN6L3BRNFIveVE0eTFoUTVvMnhRNlYzZlE2ZjN5UTZoM3tRNmkzfFE3czZYUjd8NmcjUVpPU1VqfSFTIW4hfSRiJWElZCVlJWglaiVrJWwlbiVyJlgmaydbKWUqUipzKncqfCtlLFIuUi5gL1ovbC9tL24vcC90L3cveTJ4M1UzZjN5M3szfDV8Nlg2Z1EhX1JRIW9UUSRma1MlfCFdJlBRJlMhYFEnTyF2USdWIXpRJ18jUVEnYCNSUSdhI1NRJ2IjVFEnYyNVUSdkI1ZRJ2UjV1EnZiNYUSdnI1lRJ2gjWlEnaSNbUSdrI15RJ24jY1EnciNnVyd8I28oTyx4MWhRKXckc1MrWiV9K11TK2cmXTBaUStwJmRRLFgmdVEsZydTUSxtJ1dRLHE5eVEsczl7US1TKFlRLlUpXlEwVCthUTBXK2RRMHcsWVExUixrUTFXOk9RMVg6UVExWTpSUTFaOlNRMVs6VFExXTpVUTFeOlZRMV86V1ExYDpYUTFhOllRMWI6WlExYzpbUTFkLHJRMWc6YVExbDpdUTJfLldRMmsuaVE0WTpuUTRdMGNRNG0weFE0cTFTUTRyOm9RNHc6cVE0eDp7UTV1M1JRNm00VlE2cDRfUTZ7OnxRN1A7VFE3UTtVUThTNnFROGc3ZlE4dDhRUTh3OFZROVo4eVE5ZjldUTl6IVdSO2o7fVIhYVJSJl8hYlMmWiFiK2lTK2YmWyZjUytzJmkrdlEwYCtvVTBmK3QreCt5VTBrK3oreyt8VzBwK30zXTNeM19TM1YvVzNaVTRiMGkwajBsUzRmMG02UlE0ZzBvVTZ0NGM0ZTRoUTZ5NGlTOFc2djZ4Ujh6OFlSJ1UheVInWCF6VCF0VSRgUyFzVSRgVSR9cnMqdVMmeCFyIXVRLF4meVEsYSZ8US55KlNTMHksXSxfUjRuMHpgIWRSIV0hYCR6JX0mZSpQK3FoIXFVcnMhciF1JGAmeSZ8KlMsXSxfMHpRL3EqdVEwVStiUTRUL3xRNmw0VVQ7YSZdKlFUIWdSJHpTIWZSJHpTJk8hXSZlUyZUIWAqUFMrWyV9K3FUK2gmXSpRVCZiIWIke1EjbV5SKFMjclQneCNtJ3lSMWosd1QoaCN6KGpSKHAjfVEuWilkUTJlLl9RM2EvWVE1YjJkUTZVM2VRN181ZFE3cDZUUThmN2VROG83clI5VjhwbGhPU2p9IW4kYiVoJWslbCVuKncqfC90L3dRJWJ5UipsJV9WJU9ycyp1Ui9TKl1SKmslXVEkdnBSKXwkd1IpciRxVCVmeiVpVCVneiVpVC92Knwvd1wiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIGV4dGVuZHMgQXJpdGhPcCBBcml0aE9wIEludGVycG9sYXRpb25TdGFydCBMaW5lQ29tbWVudCBCbG9ja0NvbW1lbnQgU2NyaXB0IEV4cG9ydERlY2xhcmF0aW9uIGV4cG9ydCBTdGFyIGFzIFZhcmlhYmxlTmFtZSBTdHJpbmcgZnJvbSA7IGRlZmF1bHQgRnVuY3Rpb25EZWNsYXJhdGlvbiBhc3luYyBmdW5jdGlvbiBWYXJpYWJsZURlZmluaXRpb24gPiBUeXBlUGFyYW1MaXN0IFR5cGVEZWZpbml0aW9uIFRoaXNUeXBlIHRoaXMgTGl0ZXJhbFR5cGUgQXJpdGhPcCBOdW1iZXIgQm9vbGVhbkxpdGVyYWwgVGVtcGxhdGVUeXBlIEludGVycG9sYXRpb25FbmQgSW50ZXJwb2xhdGlvbiBOdWxsVHlwZSBudWxsIFZvaWRUeXBlIHZvaWQgVHlwZW9mVHlwZSB0eXBlb2YgTWVtYmVyRXhwcmVzc2lvbiAuID8uIFByb3BlcnR5TmFtZSBbIFRlbXBsYXRlU3RyaW5nIEludGVycG9sYXRpb24gc3VwZXIgUmVnRXhwIF0gQXJyYXlFeHByZXNzaW9uIFNwcmVhZCAsIH0geyBPYmplY3RFeHByZXNzaW9uIFByb3BlcnR5IGFzeW5jIGdldCBzZXQgUHJvcGVydHlEZWZpbml0aW9uIEJsb2NrIDogTmV3RXhwcmVzc2lvbiBuZXcgVHlwZUFyZ0xpc3QgQ29tcGFyZU9wIDwgKSAoIEFyZ0xpc3QgVW5hcnlFeHByZXNzaW9uIGF3YWl0IHlpZWxkIGRlbGV0ZSBMb2dpY09wIEJpdE9wIFBhcmVudGhlc2l6ZWRFeHByZXNzaW9uIENsYXNzRXhwcmVzc2lvbiBjbGFzcyBleHRlbmRzIENsYXNzQm9keSBNZXRob2REZWNsYXJhdGlvbiBQcml2YWN5IHN0YXRpYyBhYnN0cmFjdCBvdmVycmlkZSBQcml2YXRlUHJvcGVydHlEZWZpbml0aW9uIFByb3BlcnR5RGVjbGFyYXRpb24gcmVhZG9ubHkgYWNjZXNzb3IgT3B0aW9uYWwgVHlwZUFubm90YXRpb24gRXF1YWxzIFN0YXRpY0Jsb2NrIEZ1bmN0aW9uRXhwcmVzc2lvbiBBcnJvd0Z1bmN0aW9uIFBhcmFtTGlzdCBQYXJhbUxpc3QgQXJyYXlQYXR0ZXJuIE9iamVjdFBhdHRlcm4gUGF0dGVyblByb3BlcnR5IFByaXZhY3kgcmVhZG9ubHkgQXJyb3cgTWVtYmVyRXhwcmVzc2lvbiBQcml2YXRlUHJvcGVydHlOYW1lIEJpbmFyeUV4cHJlc3Npb24gQXJpdGhPcCBBcml0aE9wIEFyaXRoT3AgQXJpdGhPcCBCaXRPcCBDb21wYXJlT3AgaW5zdGFuY2VvZiBzYXRpc2ZpZXMgaW4gY29uc3QgQ29tcGFyZU9wIEJpdE9wIEJpdE9wIEJpdE9wIExvZ2ljT3AgTG9naWNPcCBDb25kaXRpb25hbEV4cHJlc3Npb24gTG9naWNPcCBMb2dpY09wIEFzc2lnbm1lbnRFeHByZXNzaW9uIFVwZGF0ZU9wIFBvc3RmaXhFeHByZXNzaW9uIENhbGxFeHByZXNzaW9uIFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiBEeW5hbWljSW1wb3J0IGltcG9ydCBJbXBvcnRNZXRhIEpTWEVsZW1lbnQgSlNYU2VsZkNsb3NlRW5kVGFnIEpTWFN0YXJ0VGFnIEpTWFNlbGZDbG9zaW5nVGFnIEpTWElkZW50aWZpZXIgSlNYQnVpbHRpbiBKU1hJZGVudGlmaWVyIEpTWE5hbWVzcGFjZWROYW1lIEpTWE1lbWJlckV4cHJlc3Npb24gSlNYU3ByZWFkQXR0cmlidXRlIEpTWEF0dHJpYnV0ZSBKU1hBdHRyaWJ1dGVWYWx1ZSBKU1hFc2NhcGUgSlNYRW5kVGFnIEpTWE9wZW5UYWcgSlNYRnJhZ21lbnRUYWcgSlNYVGV4dCBKU1hFc2NhcGUgSlNYU3RhcnRDbG9zZVRhZyBKU1hDbG9zZVRhZyBQcmVmaXhDYXN0IEFycm93RnVuY3Rpb24gVHlwZVBhcmFtTGlzdCBTZXF1ZW5jZUV4cHJlc3Npb24gS2V5b2ZUeXBlIGtleW9mIFVuaXF1ZVR5cGUgdW5pcXVlIEltcG9ydFR5cGUgSW5mZXJyZWRUeXBlIGluZmVyIFR5cGVOYW1lIFBhcmVudGhlc2l6ZWRUeXBlIEZ1bmN0aW9uU2lnbmF0dXJlIFBhcmFtTGlzdCBOZXdTaWduYXR1cmUgSW5kZXhlZFR5cGUgVHVwbGVUeXBlIExhYmVsIEFycmF5VHlwZSBSZWFkb25seVR5cGUgT2JqZWN0VHlwZSBNZXRob2RUeXBlIFByb3BlcnR5VHlwZSBJbmRleFNpZ25hdHVyZSBQcm9wZXJ0eURlZmluaXRpb24gQ2FsbFNpZ25hdHVyZSBUeXBlUHJlZGljYXRlIGlzIE5ld1NpZ25hdHVyZSBuZXcgVW5pb25UeXBlIExvZ2ljT3AgSW50ZXJzZWN0aW9uVHlwZSBMb2dpY09wIENvbmRpdGlvbmFsVHlwZSBQYXJhbWV0ZXJpemVkVHlwZSBDbGFzc0RlY2xhcmF0aW9uIGFic3RyYWN0IGltcGxlbWVudHMgdHlwZSBWYXJpYWJsZURlY2xhcmF0aW9uIGxldCB2YXIgVHlwZUFsaWFzRGVjbGFyYXRpb24gSW50ZXJmYWNlRGVjbGFyYXRpb24gaW50ZXJmYWNlIEVudW1EZWNsYXJhdGlvbiBlbnVtIEVudW1Cb2R5IE5hbWVzcGFjZURlY2xhcmF0aW9uIG5hbWVzcGFjZSBtb2R1bGUgQW1iaWVudERlY2xhcmF0aW9uIGRlY2xhcmUgR2xvYmFsRGVjbGFyYXRpb24gZ2xvYmFsIENsYXNzRGVjbGFyYXRpb24gQ2xhc3NCb2R5IE1ldGhvZERlY2xhcmF0aW9uIEFtYmllbnRGdW5jdGlvbkRlY2xhcmF0aW9uIEV4cG9ydEdyb3VwIFZhcmlhYmxlTmFtZSBWYXJpYWJsZU5hbWUgSW1wb3J0RGVjbGFyYXRpb24gSW1wb3J0R3JvdXAgRm9yU3RhdGVtZW50IGZvciBGb3JTcGVjIEZvckluU3BlYyBGb3JPZlNwZWMgb2YgV2hpbGVTdGF0ZW1lbnQgd2hpbGUgV2l0aFN0YXRlbWVudCB3aXRoIERvU3RhdGVtZW50IGRvIElmU3RhdGVtZW50IGlmIGVsc2UgU3dpdGNoU3RhdGVtZW50IHN3aXRjaCBTd2l0Y2hCb2R5IENhc2VMYWJlbCBjYXNlIERlZmF1bHRMYWJlbCBUcnlTdGF0ZW1lbnQgdHJ5IENhdGNoQ2xhdXNlIGNhdGNoIEZpbmFsbHlDbGF1c2UgZmluYWxseSBSZXR1cm5TdGF0ZW1lbnQgcmV0dXJuIFRocm93U3RhdGVtZW50IHRocm93IEJyZWFrU3RhdGVtZW50IGJyZWFrIENvbnRpbnVlU3RhdGVtZW50IGNvbnRpbnVlIERlYnVnZ2VyU3RhdGVtZW50IGRlYnVnZ2VyIExhYmVsZWRTdGF0ZW1lbnQgRXhwcmVzc2lvblN0YXRlbWVudFwiLFxuICBtYXhUZXJtOiAzMzgsXG4gIGNvbnRleHQ6IHRyYWNrTmV3bGluZSxcbiAgbm9kZVByb3BzOiBbXG4gICAgW1wiY2xvc2VkQnlcIiwgNCxcIkludGVycG9sYXRpb25FbmRcIiw0MyxcIl1cIiw1MyxcIn1cIiw2OCxcIilcIiwxMzYsXCJKU1hTZWxmQ2xvc2VFbmRUYWcgSlNYRW5kVGFnXCIsMTUyLFwiSlNYRW5kVGFnXCJdLFxuICAgIFtcImdyb3VwXCIsIC0yNiw4LDE1LDE3LDYwLDE5MSwxOTUsMTk4LDE5OSwyMDEsMjA0LDIwNywyMTgsMjIwLDIyNiwyMjgsMjMwLDIzMiwyMzUsMjQxLDI0NywyNDksMjUxLDI1MywyNTUsMjU3LDI1OCxcIlN0YXRlbWVudFwiLC0zMCwxMiwxMywyNSwyOCwyOSwzNCw0NCw0Niw0Nyw0OSw1NCw2Miw3MCw3Niw3Nyw5NCw5NSwxMDQsMTA2LDEyMywxMjYsMTI4LDEyOSwxMzAsMTMxLDEzMywxMzQsMTU0LDE1NSwxNTcsXCJFeHByZXNzaW9uXCIsLTIzLDI0LDI2LDMwLDMzLDM1LDM3LDE1OCwxNjAsMTYyLDE2MywxNjUsMTY2LDE2NywxNjksMTcwLDE3MSwxNzMsMTc0LDE3NSwxODUsMTg3LDE4OSwxOTAsXCJUeXBlXCIsLTMsODEsODcsOTMsXCJDbGFzc0l0ZW1cIl0sXG4gICAgW1wib3BlbmVkQnlcIiwgMzEsXCJJbnRlcnBvbGF0aW9uU3RhcnRcIiw0OCxcIltcIiw1MixcIntcIiw2NyxcIihcIiwxMzUsXCJKU1hTdGFydFRhZ1wiLDE0NyxcIkpTWFN0YXJ0VGFnIEpTWFN0YXJ0Q2xvc2VUYWdcIl1cbiAgXSxcbiAgcHJvcFNvdXJjZXM6IFtqc0hpZ2hsaWdodF0sXG4gIHNraXBwZWROb2RlczogWzAsNSw2XSxcbiAgcmVwZWF0Tm9kZUNvdW50OiAyOCxcbiAgdG9rZW5EYXRhOiBcIiMyVH5SIWJPWCVaWFkldVlaJ2taWyV1W10lWl1eJ2tecCVacHEldXFyKFJycyltc3Q3XXR1OWd1djxhdnc9Ynd4Pmx4eUpjeXpKeXp7S2F7fExtfH1NV30hT0xtIU8hUE1uIVAhUSEkdiFRIVIhRXIhUiFbIUdfIVshXSFOYyFdIV4hTnshXiFfIyBjIV8hYCMhYCFgIWEjI2QhYSFiIyVzIWIhYyVaIWMhfTlnIX0jTyMnaCNPI1AlWiNQI1EjKE8jUSNSIyhmI1IjUzlnI1MjVCMpUCNUI28jKWcjbyNwIyxhI3AjcSMsZiNxI3IjLVMjciNzIy1sI3MkZiVaJGYkZyV1JGcjQlk5ZyNCWSNCWiMuUyNCWiRJUzlnJElTJElfIy5TJElfJEl8OWckSXwkSX0jMHEkSX0kSk8jMHEkSk8kSlQ5ZyRKVCRKVSMuUyRKVSRLVjlnJEtWJEtXIy5TJEtXJkZVOWcmRlUmRlYjLlMmRlY7J1M5ZzsnUzs9YDxaPCVsP0hUOWc/SFQ/SFUjLlM/SFVPOWdXJWBUJFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVpXJXJQOz1gPCVsJVo3WiV8aSRbVydhN1JPWCVaWFkldVlaJVpaWyV1W3AlWnBxJXVxIV4lWiFfI28lWiNwJGYlWiRmJGcldSRnI0JZJVojQlkjQloldSNCWiRJUyVaJElTJElfJXUkSV8kSlQlWiRKVCRKVSV1JEpVJEtWJVokS1YkS1cldSRLVyZGVSVaJkZVJkZWJXUmRlY7J1MlWjsnUzs9YCVvPCVsP0hUJVo/SFQ/SFUldT9IVU8lWjdaJ3JUJFtXJ2I3Uk8hXiVaIV8jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJnkoWVUkW1chbCZxTyFeJVohXyFgKGwhYCNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomdChzVSNpJmwkW1dPIV4lWiFfIWApViFgI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZ0KV5UI2kmbCRbV08hXiVaIV8jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaMWkpdF0kW1ddJlpPWSltWVoqbVpyKW1ycyxqcyFeKW0hXiFfLVMhXyNPKW0jTyNQMXEjUCNvKW0jbyNwLVMjcDsnUyltOydTOz1gN1Y8JWxPKW0sXipyWCRbV09yKm1ycytfcyFeKm0hXiFfK3UhXyNvKm0jbyNwK3UjcDsnUyptOydTOz1gLGQ8JWxPKm0sXitmVCRWLFUkW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWixVK3hUT3IrdXJzLFhzOydTK3U7J1M7PWAsXjwlbE8rdSxVLF5PJFYsVSxVLGFQOz1gPCVsK3UsXixnUDs9YDwlbCptMWksc1QkVixVJFtXXSZaTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVoxYS1YWF0mWk9ZLVNZWit1WnItU3JzLXRzI08tUyNPI1AteyNQOydTLVM7J1M7PWAxazwlbE8tUzFhLXtPJFYsVV0mWjFhLk9VT3ItU3JzLmJzOydTLVM7J1M7PWAweTs9YDwlbC9SPCVsTy1TMWEuaVckVixVXSZaT1kvUlpyL1Jycy9wcyNPL1IjTyNQL3UjUDsnUy9SOydTOz1gMHM8JWxPL1ImWi9XV10mWk9ZL1Jaci9ScnMvcHMjTy9SI08jUC91I1A7J1MvUjsnUzs9YDBzPCVsTy9SJlovdU9dJlomWi94Uk87J1MvUjsnUzs9YDBSOz1gTy9SJlowV1hdJlpPWS9SWnIvUnJzL3BzI08vUiNPI1AvdSNQOydTL1I7J1M7PWAwczs9YDwlbC9SPCVsTy9SJlowdlA7PWA8JWwvUjFhMU9YXSZaT1kvUlpyL1Jycy9wcyNPL1IjTyNQL3UjUDsnUy9SOydTOz1gMHM7PWA8JWwtUzwlbE8vUjFhMW5QOz1gPCVsLVMxaTF2WSRbV09yKW1yczJmcyFeKW0hXiFfLVMhXyNvKW0jbyNwLVMjcDsnUyltOydTOz1gNmU7PWA8JWwvUjwlbE8pbTFpMm9dJFYsVSRbV10mWk9ZM2hZWiVaWnIzaHJzNGhzIV4zaCFeIV8vUiFfI08zaCNPI1A1TyNQI28zaCNvI3AvUiNwOydTM2g7J1M7PWA2XzwlbE8zaCZjM29dJFtXXSZaT1kzaFlaJVpacjNocnM0aHMhXjNoIV4hXy9SIV8jTzNoI08jUDVPI1AjbzNoI28jcC9SI3A7J1MzaDsnUzs9YDZfPCVsTzNoJmM0b1QkW1ddJlpPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjNVRXJFtXTyFeM2ghXiFfL1IhXyNvM2gjbyNwL1IjcDsnUzNoOydTOz1gNW07PWA8JWwvUjwlbE8zaCZjNXJYXSZaT1kvUlpyL1Jycy9wcyNPL1IjTyNQL3UjUDsnUy9SOydTOz1gMHM7PWA8JWwzaDwlbE8vUiZjNmJQOz1gPCVsM2gxaTZqWF0mWk9ZL1Jaci9ScnMvcHMjTy9SI08jUC91I1A7J1MvUjsnUzs9YDBzOz1gPCVsKW08JWxPL1IxaTdZUDs9YDwlbCltI103Yl0kW1dPdCVadHU4WnUhXiVaIV8hYyVaIWMhfThaIX0jUiVaI1IjUzhaI1MjVCVaI1QjbzhaI3AkZyVaJGc7J1M4WjsnUzs9YDlhPCVsTzhaI104Yl8kW1cndSNUT3QlWnR1OFp1IVElWiFRIVs4WiFbIV4lWiFfIWMlWiFjIX04WiF9I1IlWiNSI1M4WiNTI1QlWiNUI284WiNwJGclWiRnOydTOFo7J1M7PWA5YTwlbE84WiNdOWRQOz1gPCVsOFosVDlyYSRbVydtI1MnZClzJE9TT3QlWnR1OWd1fSVafSFPOnchTyFRJVohUSFbOWchWyFeJVohXyFjJVohYyF9OWchfSNSJVojUiNTOWcjUyNUJVojVCNvOWcjcCRnJVokZzsnUzlnOydTOz1gPFo8JWxPOWdbO09hJFtXJE9TT3QlWnR1Ond1fSVafSFPOnchTyFRJVohUSFbOnchWyFeJVohXyFjJVohYyF9OnchfSNSJVojUiNTOncjUyNUJVojVCNvOncjcCRnJVokZzsnUzp3OydTOz1gPFQ8JWxPOndbPFdQOz1gPCVsOncsVDxeUDs9YDwlbDlnJnQ8aFUjYSZsJFtXTyFeJVohXyFgPHohYCNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomdD1SVCRbVyNzJmxPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWihoPWlXKE8oYCRbV092JVp2dz5SdyFeJVohXyFgPHohYCNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomdD5ZVSRbVyNtJmxPIV4lWiFfIWA8eiFgI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWjFpPnNdJFtXXSZaT1k+bFlaP2xadz5sd3gsanghXj5sIV4hX0B8IV8jTz5sI08jUEVfI1Ajbz5sI28jcEB8I3A7J1M+bDsnUzs9YEpdPCVsTz5sLF4/cVgkW1dPdz9sd3grX3ghXj9sIV4hX0BeIV8jbz9sI28jcEBeI3A7J1M/bDsnUzs9YEB2PCVsTz9sLFVAYVRPd0Bed3gsWHg7J1NAXjsnUzs9YEBwPCVsT0BeLFVAc1A7PWA8JWxAXixeQHlQOz1gPCVsP2wxYUFSWF0mWk9ZQHxZWkBeWndAfHd4LXR4I09AfCNPI1BBbiNQOydTQHw7J1M7PWBFWDwlbE9AfDFhQXFVT3dAfHd4QlR4OydTQHw7J1M7PWBEZzs9YDwlbEJ0PCVsT0B8MWFCW1ckVixVXSZaT1lCdFp3QnR3eC9weCNPQnQjTyNQQ2MjUDsnU0J0OydTOz1gRGE8JWxPQnQmWkJ5V10mWk9ZQnRad0J0d3gvcHgjT0J0I08jUENjI1A7J1NCdDsnUzs9YERhPCVsT0J0JlpDZlJPOydTQnQ7J1M7PWBDbzs9YE9CdCZaQ3RYXSZaT1lCdFp3QnR3eC9weCNPQnQjTyNQQ2MjUDsnU0J0OydTOz1gRGE7PWA8JWxCdDwlbE9CdCZaRGRQOz1gPCVsQnQxYURsWF0mWk9ZQnRad0J0d3gvcHgjT0J0I08jUENjI1A7J1NCdDsnUzs9YERhOz1gPCVsQHw8JWxPQnQxYUVbUDs9YDwlbEB8MWlFZFkkW1dPdz5sd3hGU3ghXj5sIV4hX0B8IV8jbz5sI28jcEB8I3A7J1M+bDsnUzs9YElrOz1gPCVsQnQ8JWxPPmwxaUZdXSRWLFUkW1ddJlpPWUdVWVolWlp3R1V3eDRoeCFeR1UhXiFfQnQhXyNPR1UjTyNQSFUjUCNvR1UjbyNwQnQjcDsnU0dVOydTOz1gSWU8JWxPR1UmY0ddXSRbV10mWk9ZR1VZWiVaWndHVXd4NGh4IV5HVSFeIV9CdCFfI09HVSNPI1BIVSNQI29HVSNvI3BCdCNwOydTR1U7J1M7PWBJZTwlbE9HVSZjSFpXJFtXTyFeR1UhXiFfQnQhXyNvR1UjbyNwQnQjcDsnU0dVOydTOz1gSHM7PWA8JWxCdDwlbE9HVSZjSHhYXSZaT1lCdFp3QnR3eC9weCNPQnQjTyNQQ2MjUDsnU0J0OydTOz1gRGE7PWA8JWxHVTwlbE9CdCZjSWhQOz1gPCVsR1UxaUlwWF0mWk9ZQnRad0J0d3gvcHgjT0J0I08jUENjI1A7J1NCdDsnUzs9YERhOz1gPCVsPmw8JWxPQnQxaUpgUDs9YDwlbD5sKnFKalQhZippJFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVokUEtRVCFlI3ckW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWilaS2pXJ2UjZSNiJmwkW1dPeiVaentMU3shXiVaIV8hYDx6IWAjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJnRMWlUjXyZsJFtXTyFeJVohXyFgPHohYCNvJVojcDsnUyVaOydTOz1gJW88JWxPJVoqcUx0VWsqaSRbV08hXiVaIV8hYDx6IWAjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaLFRNX1QhVCt7JFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVosVE11WCRbV3goZE8hTyVaIU8hUE5iIVAhUSVaIVEhWyEgZCFbIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiRvTmdWJFtXTyFPJVohTyFQTnwhUCFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVokbyEgVFQhUyRnJFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomYyEga10kW1dsJlpPIVElWiFRIVshIGQhWyFeJVohXyFnJVohZyFoISFkIWgjUiVaI1IjUyEgZCNTI1glWiNYI1khIWQjWSNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomYyEhaV0kW1dPeyVae3whI2J8fSVafSFPISNiIU8hUSVaIVEhWyEkUyFbIV4lWiFfI1IlWiNSI1MhJFMjUyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomYyEjZ1gkW1dPIVElWiFRIVshJFMhWyFeJVohXyNSJVojUiNTISRTI1MjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJmMhJFpYJFtXbCZaTyFRJVohUSFbISRTIVshXiVaIV8jUiVaI1IjUyEkUyNTI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWjdaISR9YiRbVyNgJmxPWSEmVllaJVpaeiEmVnp7IS1ueyFQISZWIVAhUSFCViFRIV4hJlYhXiFfIShmIV8hYCFDaCFgIWEhRG0hYSF9ISZWIX0jTyErVCNPI1AhLHYjUCNvISZWI28jcCEoZiNwOydTISZWOydTOz1gIS1oPCVsTyEmVlghJl5eJFtXIVBQT1khJlZZWiVaWiFQISZWIVAhUSEnWSFRIV4hJlYhXiFfIShmIV8hfSEmViF9I08hK1QjTyNQISx2I1AjbyEmViNvI3AhKGYjcDsnUyEmVjsnUzs9YCEtaDwlbE8hJlZYISdhYSRbVyFQUE8hXiVaIV8jWiVaI1ojWyEnWSNbI10lWiNdI14hJ1kjXiNhJVojYSNiISdZI2IjZyVaI2cjaCEnWSNoI2klWiNpI2ohJ1kjaiNtJVojbSNuISdZI24jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaUCEoa1ghUFBPWSEoZlohUCEoZiFQIVEhKVchUSF9IShmIX0jTyEpbyNPI1AhKm4jUDsnUyEoZjsnUzs9YCEqfTwlbE8hKGZQISldVSFQUCNaI1shKVcjXSNeISlXI2EjYiEpVyNnI2ghKVcjaSNqISlXI20jbiEpV1AhKXJWT1khKW9aI08hKW8jTyNQISpYI1AjUSEoZiNROydTISlvOydTOz1gISpoPCVsTyEpb1AhKltTT1khKW9aOydTISlvOydTOz1gISpoPCVsTyEpb1AhKmtQOz1gPCVsISlvUCEqcVNPWSEoZlo7J1MhKGY7J1M7PWAhKn08JWxPIShmUCErUVA7PWA8JWwhKGZYIStZWyRbV09ZIStUWVolWlohXiErVCFeIV8hKW8hXyNPIStUI08jUCEsTyNQI1EhJlYjUSNvIStUI28jcCEpbyNwOydTIStUOydTOz1gISxwPCVsTyErVFghLFRYJFtXT1khK1RZWiVaWiFeIStUIV4hXyEpbyFfI28hK1QjbyNwISlvI3A7J1MhK1Q7J1M7PWAhLHA8JWxPIStUWCEsc1A7PWA8JWwhK1RYISx7WCRbV09ZISZWWVolWlohXiEmViFeIV8hKGYhXyNvISZWI28jcCEoZiNwOydTISZWOydTOz1gIS1oPCVsTyEmVlghLWtQOz1gPCVsISZWN1ohLXVgJFtXIVBQT1khLW5ZWiEud1p6IS1uenshMlV7IVAhLW4hUCFRIUBtIVEhXiEtbiFeIV8hNG0hXyF9IS1uIX0jTyE7bCNPI1AhP28jUCNvIS1uI28jcCE0bSNwOydTIS1uOydTOz1gIUBnPCVsTyEtbjdaIS58WCRbV096IS53enshL2l7IV4hLnchXiFfITB3IV8jbyEudyNvI3AhMHcjcDsnUyEudzsnUzs9YCEyTzwlbE8hLnc3WiEvblokW1dPeiEud3p7IS9peyFQIS53IVAhUSEwYSFRIV4hLnchXiFfITB3IV8jbyEudyNvI3AhMHcjcDsnUyEudzsnUzs9YCEyTzwlbE8hLnc3WiEwaFQkW1dVN1JPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWjdSITB6VE96ITB3enshMVp7OydTITB3OydTOz1gITF4PCVsTyEwdzdSITFeVk96ITB3enshMVp7IVAhMHchUCFRITFzIVE7J1MhMHc7J1M7PWAhMXg8JWxPITB3N1IhMXhPVTdSN1IhMXtQOz1gPCVsITB3N1ohMlJQOz1gPCVsIS53N1ohMl1gJFtXIVBQT1khLW5ZWiEud1p6IS1uenshMlV7IVAhLW4hUCFRITNfIVEhXiEtbiFeIV8hNG0hXyF9IS1uIX0jTyE7bCNPI1AhP28jUCNvIS1uI28jcCE0bSNwOydTIS1uOydTOz1gIUBnPCVsTyEtbjdaITNoYSRbV1U3UiFQUE8hXiVaIV8jWiVaI1ojWyEnWSNbI10lWiNdI14hJ1kjXiNhJVojYSNiISdZI2IjZyVaI2cjaCEnWSNoI2klWiNpI2ohJ1kjaiNtJVojbSNuISdZI24jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaN1IhNHJbIVBQT1khNG1ZWiEwd1p6ITRtenshNWh7IVAhNG0hUCFRITpiIVEhfSE0bSF9I08hNnwjTyNQITlyI1A7J1MhNG07J1M7PWAhOls8JWxPITRtN1IhNW1bIVBQT1khNG1ZWiEwd1p6ITRtenshNWh7IVAhNG0hUCFRITZjIVEhfSE0bSF9I08hNnwjTyNQITlyI1A7J1MhNG07J1M7PWAhOls8JWxPITRtN1IhNmpVVTdSIVBQI1ojWyEpVyNdI14hKVcjYSNiISlXI2cjaCEpVyNpI2ohKVcjbSNuISlXN1IhN1BZT1khNnxZWiEwd1p6ITZ8enshN297I08hNnwjTyNQITlTI1AjUSE0bSNROydTITZ8OydTOz1gITlsPCVsTyE2fDdSITdyW09ZITZ8WVohMHdaeiE2fHp7ITdveyFQITZ8IVAhUSE4aCFRI08hNnwjTyNQITlTI1AjUSE0bSNROydTITZ8OydTOz1gITlsPCVsTyE2fDdSIThtVlU3Uk9ZISlvWiNPISlvI08jUCEqWCNQI1EhKGYjUTsnUyEpbzsnUzs9YCEqaDwlbE8hKW83UiE5VlZPWSE2fFlaITB3WnohNnx6eyE3b3s7J1MhNnw7J1M7PWAhOWw8JWxPITZ8N1IhOW9QOz1gPCVsITZ8N1IhOXVWT1khNG1ZWiEwd1p6ITRtenshNWh7OydTITRtOydTOz1gITpbPCVsTyE0bTdSITpfUDs9YDwlbCE0bTdSITpnYSFQUE96ITB3enshMVp7I1ohMHcjWiNbITpiI1sjXSEwdyNdI14hOmIjXiNhITB3I2EjYiE6YiNiI2chMHcjZyNoITpiI2gjaSEwdyNpI2ohOmIjaiNtITB3I20jbiE6YiNuOydTITB3OydTOz1gITF4PCVsTyEwdzdaITtxXiRbV09ZITtsWVohLndaeiE7bHp7ITxteyFeITtsIV4hXyE2fCFfI08hO2wjTyNQIT5xI1AjUSEtbiNRI28hO2wjbyNwITZ8I3A7J1MhO2w7J1M7PWAhP2k8JWxPITtsN1ohPHJgJFtXT1khO2xZWiEud1p6ITtsenshPG17IVAhO2whUCFRIT10IVEhXiE7bCFeIV8hNnwhXyNPITtsI08jUCE+cSNQI1EhLW4jUSNvITtsI28jcCE2fCNwOydTITtsOydTOz1gIT9pPCVsTyE7bDdaIT17WyRbV1U3Uk9ZIStUWVolWlohXiErVCFeIV8hKW8hXyNPIStUI08jUCEsTyNQI1EhJlYjUSNvIStUI28jcCEpbyNwOydTIStUOydTOz1gISxwPCVsTyErVDdaIT52WiRbV09ZITtsWVohLndaeiE7bHp7ITxteyFeITtsIV4hXyE2fCFfI28hO2wjbyNwITZ8I3A7J1MhO2w7J1M7PWAhP2k8JWxPITtsN1ohP2xQOz1gPCVsITtsN1ohP3RaJFtXT1khLW5ZWiEud1p6IS1uenshMlV7IV4hLW4hXiFfITRtIV8jbyEtbiNvI3AhNG0jcDsnUyEtbjsnUzs9YCFAZzwlbE8hLW43WiFAalA7PWA8JWwhLW43WiFAdGUkW1chUFBPeiEud3p7IS9peyFeIS53IV4hXyEwdyFfI1ohLncjWiNbIUBtI1sjXSEudyNdI14hQG0jXiNhIS53I2EjYiFAbSNiI2chLncjZyNoIUBtI2gjaSEudyNpI2ohQG0jaiNtIS53I20jbiFAbSNuI28hLncjbyNwITB3I3A7J1MhLnc7J1M7PWAhMk88JWxPIS53N1ohQl5YJFtXVDdST1khQlZZWiVaWiFeIUJWIV4hXyFCeSFfI28hQlYjbyNwIUJ5I3A7J1MhQlY7J1M7PWAhQ2I8JWxPIUJWN1IhQ09TVDdST1khQnlaOydTIUJ5OydTOz1gIUNbPCVsTyFCeTdSIUNfUDs9YDwlbCFCeTdaIUNlUDs9YDwlbCFCViZ1IUNxXiRbVyNzJmwhUFBPWSEmVllaJVpaIVAhJlYhUCFRISdZIVEhXiEmViFeIV8hKGYhXyF9ISZWIX0jTyErVCNPI1AhLHYjUCNvISZWI28jcCEoZiNwOydTISZWOydTOz1gIS1oPCVsTyEmVl0hRHZeI3tTJFtXIVBQT1khJlZZWiVaWiFQISZWIVAhUSEnWSFRIV4hJlYhXiFfIShmIV8hfSEmViF9I08hK1QjTyNQISx2I1AjbyEmViNvI3AhKGYjcDsnUyEmVjsnUzs9YCEtaDwlbE8hJlYmYyFFeWYkW1dsJlpPIU8lWiFPIVAhIGQhUCFRJVohUSFbIUdfIVshXiVaIV8hZyVaIWchaCEhZCFoI1IlWiNSI1MhR18jUyNVJVojVSNWIUlSI1YjWCVaI1gjWSEhZCNZI2IlWiNiI2MhSGsjYyNkIUpzI2QjbCVaI2wjbSFMXyNtI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjIUdmYSRbV2wmWk8hTyVaIU8hUCEgZCFQIVElWiFRIVshR18hWyFeJVohXyFnJVohZyFoISFkIWgjUiVaI1IjUyFHXyNTI1glWiNYI1khIWQjWSNiJVojYiNjIUhrI2MjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJmMhSHJUJFtXbCZaTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomYyFJV1kkW1dPIVElWiFRIVIhSXYhUiFTIUl2IVMhXiVaIV8jUiVaI1IjUyFJdiNTI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjIUl9WyRbV2wmWk8hUSVaIVEhUiFJdiFSIVMhSXYhUyFeJVohXyNSJVojUiNTIUl2I1MjYiVaI2IjYyFIayNjI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjIUp4WCRbV08hUSVaIVEhWSFLZSFZIV4lWiFfI1IlWiNSI1MhS2UjUyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomYyFLbFokW1dsJlpPIVElWiFRIVkhS2UhWSFeJVohXyNSJVojUiNTIUtlI1MjYiVaI2IjYyFIayNjI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjIUxkXSRbV08hUSVaIVEhWyFNXSFbIV4lWiFfIWMlWiFjIWkhTV0haSNSJVojUiNTIU1dI1MjVCVaI1QjWiFNXSNaI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZjIU1kXyRbV2wmWk8hUSVaIVEhWyFNXSFbIV4lWiFfIWMlWiFjIWkhTV0haSNSJVojUiNTIU1dI1MjVCVaI1QjWiFNXSNaI2IlWiNiI2MhSGsjYyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVoobSFObFQhX1YkW1cjcSheTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVohUCMgU1RfdyRbV08hXiVaIV8jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaNmkjIG5SJ2gkWSFjKE8jfCxfKFNQIVAhUSMgdyFeIV8jIHwhXyFgIyFaVyMgfE8kXlcmbCMhUlAjYyZsIV8hYCMhVSZsIyFaTyNzJmwmbCMhYE8jZCZsKG0jIWdWI08oZSRbV08hXiVaIV8hYChsIWAhYSMhfCFhI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZ1IyNUVCNaJm0kW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWihtIyNvVmUhcyNkJmwkWFMkW1dPIV4lWiFfIWAjJFUhYCFhIyRsIWEjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJnQjJF1UI2QmbCRbV08hXiVaIV8jbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaJnQjJHNWI2MmbCRbV08hXiVaIV8hYDx6IWAhYSMlWSFhI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZ0IyVhVSNjJmwkW1dPIV4lWiFfIWA8eiFgI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWihtIyV6WCd2JnEkW1dPIU8lWiFPIVAjJmchUCFeJVohXyFhJVohYSFiIyZ9IWIjbyVaI3A7J1MlWjsnUzs9YCVvPCVsTyVaKGkjJm5UeShhJFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVomdCMnVVUkW1cjbiZsTyFeJVohXyFgPHohYCNvJVojcDsnUyVaOydTOz1gJW88JWxPJVosUCMnb1R7K3ckW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiRQIyhWVCFRI3ckW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWiZ0IyhtVSNrJmwkW1dPIV4lWiFfIWA8eiFgI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWil7IylXVCRbVydsKXNPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWixUIylyYSRbVydtI1MnZClzJFFTT3QlWnR1IylndX0lWn0hTyMqdyFPIVElWiFRIVsjKWchWyFeJVohXyFjJVohYyF9IylnIX0jUiVaI1IjUyMpZyNTI1QlWiNUI28jKWcjcCRnJVokZzsnUyMpZzsnUzs9YCMsWjwlbE8jKWdbIytPYSRbVyRRU090JVp0dSMqd3V9JVp9IU8jKnchTyFRJVohUSFbIyp3IVshXiVaIV8hYyVaIWMhfSMqdyF9I1IlWiNSI1MjKncjUyNUJVojVCNvIyp3I3AkZyVaJGc7J1MjKnc7J1M7PWAjLFQ8JWxPIyp3WyMsV1A7PWA8JWwjKncsVCMsXlA7PWA8JWwjKWd+IyxmTyFWfihoIyxtVid9KGAkW1dPIV4lWiFfIWA8eiFgI28lWiNwI3EjJn0jcTsnUyVaOydTOz1gJW88JWxPJVoofSMtXVQhVShzb1EkW1dPIV4lWiFfI28lWiNwOydTJVo7J1M7PWAlbzwlbE8lWlgjLXNUIW1QJFtXTyFeJVohXyNvJVojcDsnUyVaOydTOz1gJW88JWxPJVo3WiMuYXQkW1cnYTdSJ20jUydkKXMkT1NPWCVaWFkldVlaJVpaWyV1W3AlWnBxJXVxdCVadHU5Z3V9JVp9IU86dyFPIVElWiFRIVs5ZyFbIV4lWiFfIWMlWiFjIX05ZyF9I1IlWiNSI1M5ZyNTI1QlWiNUI285ZyNwJGYlWiRmJGcldSRnI0JZOWcjQlkjQlojLlMjQlokSVM5ZyRJUyRJXyMuUyRJXyRKVDlnJEpUJEpVIy5TJEpVJEtWOWckS1YkS1cjLlMkS1cmRlU5ZyZGVSZGViMuUyZGVjsnUzlnOydTOz1gPFo8JWw/SFQ5Zz9IVD9IVSMuUz9IVU85ZzdaIzFPYSRbVydiN1InbSNTJ2QpcyRPU090JVp0dTlndX0lWn0hTzp3IU8hUSVaIVEhWzlnIVshXiVaIV8hYyVaIWMhfTlnIX0jUiVaI1IjUzlnI1MjVCVaI1QjbzlnI3AkZyVaJGc7J1M5ZzsnUzs9YDxaPCVsTzlnXCIsXG4gIHRva2VuaXplcnM6IFt0c0V4dGVuZHMsIG5vU2VtaWNvbG9uLCBpbmNkZWNUb2tlbiwgdGVtcGxhdGUsIDAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIGluc2VydFNlbWljb2xvbl0sXG4gIHRvcFJ1bGVzOiB7XCJTY3JpcHRcIjpbMCw3XX0sXG4gIGRpYWxlY3RzOiB7anN4OiAxMjczOSwgdHM6IDEyNzQxfSxcbiAgZHluYW1pY1ByZWNlZGVuY2VzOiB7XCIxNTVcIjoxLFwiMTgzXCI6MX0sXG4gIHNwZWNpYWxpemVkOiBbe3Rlcm06IDI5NiwgZ2V0OiB2YWx1ZSA9PiBzcGVjX2lkZW50aWZpZXJbdmFsdWVdIHx8IC0xfSx7dGVybTogMzA1LCBnZXQ6IHZhbHVlID0+IHNwZWNfd29yZFt2YWx1ZV0gfHwgLTF9LHt0ZXJtOiA2NSwgZ2V0OiB2YWx1ZSA9PiBzcGVjX0xlc3NUaGFuW3ZhbHVlXSB8fCAtMX1dLFxuICB0b2tlblByZWM6IDEyNzY0XG59KTtcblxuZXhwb3J0IHsgcGFyc2VyIH07XG4iLCAiaW1wb3J0IHsgcGFyc2VyIH0gZnJvbSAnQGxlemVyL2phdmFzY3JpcHQnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGNvbnRpbnVlZEluZGVudCwgZmxhdEluZGVudCwgZGVsaW1pdGVkSW5kZW50LCBmb2xkTm9kZVByb3AsIGZvbGRJbnNpZGUsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcbmltcG9ydCB7IEVkaXRvclNlbGVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IHNuaXBwZXRDb21wbGV0aW9uLCBpZk5vdEluLCBjb21wbGV0ZUZyb21MaXN0IH0gZnJvbSAnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJztcbmltcG9ydCB7IE5vZGVXZWFrTWFwLCBJdGVyTW9kZSB9IGZyb20gJ0BsZXplci9jb21tb24nO1xuXG4vKipcbkEgY29sbGVjdGlvbiBvZiBKYXZhU2NyaXB0LXJlbGF0ZWRcbltzbmlwcGV0c10oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuc25pcHBldCkuXG4qL1xuY29uc3Qgc25pcHBldHMgPSBbXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZnVuY3Rpb24gJHtuYW1lfSgke3BhcmFtc30pIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgZGV0YWlsOiBcImRlZmluaXRpb25cIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJmb3IgKGxldCAke2luZGV4fSA9IDA7ICR7aW5kZXh9IDwgJHtib3VuZH07ICR7aW5kZXh9KyspIHtcXG5cXHQke31cXG59XCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZm9yXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiZm9yIChsZXQgJHtuYW1lfSBvZiAke2NvbGxlY3Rpb259KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImZvclwiLFxuICAgICAgICBkZXRhaWw6IFwib2YgbG9vcFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImRvIHtcXG5cXHQke31cXG59IHdoaWxlICgke30pXCIsIHtcbiAgICAgICAgbGFiZWw6IFwiZG9cIixcbiAgICAgICAgZGV0YWlsOiBcImxvb3BcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJ3aGlsZSAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcIndoaWxlXCIsXG4gICAgICAgIGRldGFpbDogXCJsb29wXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwidHJ5IHtcXG5cXHQke31cXG59IGNhdGNoICgke2Vycm9yfSkge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJ0cnlcIixcbiAgICAgICAgZGV0YWlsOiBcIi8gY2F0Y2ggYmxvY2tcIixcbiAgICAgICAgdHlwZTogXCJrZXl3b3JkXCJcbiAgICB9KSxcbiAgICAvKkBfX1BVUkVfXyovc25pcHBldENvbXBsZXRpb24oXCJpZiAoJHt9KSB7XFxuXFx0JHt9XFxufVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImlmXCIsXG4gICAgICAgIGRldGFpbDogXCJibG9ja1wiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImlmICgke30pIHtcXG5cXHQke31cXG59IGVsc2Uge1xcblxcdCR7fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJpZlwiLFxuICAgICAgICBkZXRhaWw6IFwiLyBlbHNlIGJsb2NrXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiY2xhc3MgJHtuYW1lfSB7XFxuXFx0Y29uc3RydWN0b3IoJHtwYXJhbXN9KSB7XFxuXFx0XFx0JHt9XFxuXFx0fVxcbn1cIiwge1xuICAgICAgICBsYWJlbDogXCJjbGFzc1wiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmaW5pdGlvblwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pLFxuICAgIC8qQF9fUFVSRV9fKi9zbmlwcGV0Q29tcGxldGlvbihcImltcG9ydCB7JHtuYW1lc319IGZyb20gXFxcIiR7bW9kdWxlfVxcXCJcXG4ke31cIiwge1xuICAgICAgICBsYWJlbDogXCJpbXBvcnRcIixcbiAgICAgICAgZGV0YWlsOiBcIm5hbWVkXCIsXG4gICAgICAgIHR5cGU6IFwia2V5d29yZFwiXG4gICAgfSksXG4gICAgLypAX19QVVJFX18qL3NuaXBwZXRDb21wbGV0aW9uKFwiaW1wb3J0ICR7bmFtZX0gZnJvbSBcXFwiJHttb2R1bGV9XFxcIlxcbiR7fVwiLCB7XG4gICAgICAgIGxhYmVsOiBcImltcG9ydFwiLFxuICAgICAgICBkZXRhaWw6IFwiZGVmYXVsdFwiLFxuICAgICAgICB0eXBlOiBcImtleXdvcmRcIlxuICAgIH0pXG5dO1xuXG5jb25zdCBjYWNoZSA9IC8qQF9fUFVSRV9fKi9uZXcgTm9kZVdlYWtNYXAoKTtcbmNvbnN0IFNjb3BlTm9kZXMgPSAvKkBfX1BVUkVfXyovbmV3IFNldChbXG4gICAgXCJTY3JpcHRcIiwgXCJCbG9ja1wiLFxuICAgIFwiRnVuY3Rpb25FeHByZXNzaW9uXCIsIFwiRnVuY3Rpb25EZWNsYXJhdGlvblwiLCBcIkFycm93RnVuY3Rpb25cIiwgXCJNZXRob2REZWNsYXJhdGlvblwiLFxuICAgIFwiRm9yU3RhdGVtZW50XCJcbl0pO1xuZnVuY3Rpb24gZGVmSUQodHlwZSkge1xuICAgIHJldHVybiAobm9kZSwgZGVmKSA9PiB7XG4gICAgICAgIGxldCBpZCA9IG5vZGUubm9kZS5nZXRDaGlsZChcIlZhcmlhYmxlRGVmaW5pdGlvblwiKTtcbiAgICAgICAgaWYgKGlkKVxuICAgICAgICAgICAgZGVmKGlkLCB0eXBlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbn1cbmNvbnN0IGZ1bmN0aW9uQ29udGV4dCA9IFtcIkZ1bmN0aW9uRGVjbGFyYXRpb25cIl07XG5jb25zdCBnYXRoZXJDb21wbGV0aW9ucyA9IHtcbiAgICBGdW5jdGlvbkRlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJmdW5jdGlvblwiKSxcbiAgICBDbGFzc0RlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjbGFzc1wiKSxcbiAgICBDbGFzc0V4cHJlc3Npb246ICgpID0+IHRydWUsXG4gICAgRW51bURlY2xhcmF0aW9uOiAvKkBfX1BVUkVfXyovZGVmSUQoXCJjb25zdGFudFwiKSxcbiAgICBUeXBlQWxpYXNEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwidHlwZVwiKSxcbiAgICBOYW1lc3BhY2VEZWNsYXJhdGlvbjogLypAX19QVVJFX18qL2RlZklEKFwibmFtZXNwYWNlXCIpLFxuICAgIFZhcmlhYmxlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgaWYgKCFub2RlLm1hdGNoQ29udGV4dChmdW5jdGlvbkNvbnRleHQpKVxuICAgICAgICBkZWYobm9kZSwgXCJ2YXJpYWJsZVwiKTsgfSxcbiAgICBUeXBlRGVmaW5pdGlvbihub2RlLCBkZWYpIHsgZGVmKG5vZGUsIFwidHlwZVwiKTsgfSxcbiAgICBfX3Byb3RvX186IG51bGxcbn07XG5mdW5jdGlvbiBnZXRTY29wZShkb2MsIG5vZGUpIHtcbiAgICBsZXQgY2FjaGVkID0gY2FjaGUuZ2V0KG5vZGUpO1xuICAgIGlmIChjYWNoZWQpXG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgbGV0IGNvbXBsZXRpb25zID0gW10sIHRvcCA9IHRydWU7XG4gICAgZnVuY3Rpb24gZGVmKG5vZGUsIHR5cGUpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBkb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICAgICAgY29tcGxldGlvbnMucHVzaCh7IGxhYmVsOiBuYW1lLCB0eXBlIH0pO1xuICAgIH1cbiAgICBub2RlLmN1cnNvcihJdGVyTW9kZS5JbmNsdWRlQW5vbnltb3VzKS5pdGVyYXRlKG5vZGUgPT4ge1xuICAgICAgICBpZiAodG9wKSB7XG4gICAgICAgICAgICB0b3AgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLm5hbWUpIHtcbiAgICAgICAgICAgIGxldCBnYXRoZXIgPSBnYXRoZXJDb21wbGV0aW9uc1tub2RlLm5hbWVdO1xuICAgICAgICAgICAgaWYgKGdhdGhlciAmJiBnYXRoZXIobm9kZSwgZGVmKSB8fCBTY29wZU5vZGVzLmhhcyhub2RlLm5hbWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnRvIC0gbm9kZS5mcm9tID4gODE5Mikge1xuICAgICAgICAgICAgLy8gQWxsb3cgY2FjaGluZyBmb3IgYmlnZ2VyIGludGVybmFsIG5vZGVzXG4gICAgICAgICAgICBmb3IgKGxldCBjIG9mIGdldFNjb3BlKGRvYywgbm9kZS5ub2RlKSlcbiAgICAgICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKGMpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY2FjaGUuc2V0KG5vZGUsIGNvbXBsZXRpb25zKTtcbiAgICByZXR1cm4gY29tcGxldGlvbnM7XG59XG5jb25zdCBJZGVudGlmaWVyID0gL15bXFx3JFxceGExLVxcdWZmZmZdW1xcdyRcXGRcXHhhMS1cXHVmZmZmXSokLztcbmNvbnN0IGRvbnRDb21wbGV0ZSA9IFtcbiAgICBcIlRlbXBsYXRlU3RyaW5nXCIsIFwiU3RyaW5nXCIsIFwiUmVnRXhwXCIsXG4gICAgXCJMaW5lQ29tbWVudFwiLCBcIkJsb2NrQ29tbWVudFwiLFxuICAgIFwiVmFyaWFibGVEZWZpbml0aW9uXCIsIFwiVHlwZURlZmluaXRpb25cIiwgXCJMYWJlbFwiLFxuICAgIFwiUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJvcGVydHlOYW1lXCIsXG4gICAgXCJQcml2YXRlUHJvcGVydHlEZWZpbml0aW9uXCIsIFwiUHJpdmF0ZVByb3BlcnR5TmFtZVwiXG5dO1xuLyoqXG5Db21wbGV0aW9uIHNvdXJjZSB0aGF0IGxvb2tzIHVwIGxvY2FsbHkgZGVmaW5lZCBuYW1lcyBpblxuSmF2YVNjcmlwdCBjb2RlLlxuKi9cbmZ1bmN0aW9uIGxvY2FsQ29tcGxldGlvblNvdXJjZShjb250ZXh0KSB7XG4gICAgbGV0IGlubmVyID0gc3ludGF4VHJlZShjb250ZXh0LnN0YXRlKS5yZXNvbHZlSW5uZXIoY29udGV4dC5wb3MsIC0xKTtcbiAgICBpZiAoZG9udENvbXBsZXRlLmluZGV4T2YoaW5uZXIubmFtZSkgPiAtMSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0IGlzV29yZCA9IGlubmVyLm5hbWUgPT0gXCJWYXJpYWJsZU5hbWVcIiB8fFxuICAgICAgICBpbm5lci50byAtIGlubmVyLmZyb20gPCAyMCAmJiBJZGVudGlmaWVyLnRlc3QoY29udGV4dC5zdGF0ZS5zbGljZURvYyhpbm5lci5mcm9tLCBpbm5lci50bykpO1xuICAgIGlmICghaXNXb3JkICYmICFjb250ZXh0LmV4cGxpY2l0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgIGZvciAobGV0IHBvcyA9IGlubmVyOyBwb3M7IHBvcyA9IHBvcy5wYXJlbnQpIHtcbiAgICAgICAgaWYgKFNjb3BlTm9kZXMuaGFzKHBvcy5uYW1lKSlcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zLmNvbmNhdChnZXRTY29wZShjb250ZXh0LnN0YXRlLmRvYywgcG9zKSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGZyb206IGlzV29yZCA/IGlubmVyLmZyb20gOiBjb250ZXh0LnBvcyxcbiAgICAgICAgdmFsaWRGb3I6IElkZW50aWZpZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gcGF0aEZvcihyZWFkLCBtZW1iZXIsIG5hbWUpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHBhdGggPSBbXTtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGxldCBvYmogPSBtZW1iZXIuZmlyc3RDaGlsZCwgcHJvcDtcbiAgICAgICAgaWYgKChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoubmFtZSkgPT0gXCJWYXJpYWJsZU5hbWVcIikge1xuICAgICAgICAgICAgcGF0aC5wdXNoKHJlYWQob2JqKSk7XG4gICAgICAgICAgICByZXR1cm4geyBwYXRoOiBwYXRoLnJldmVyc2UoKSwgbmFtZSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoubmFtZSkgPT0gXCJNZW1iZXJFeHByZXNzaW9uXCIgJiYgKChfYSA9IChwcm9wID0gb2JqLmxhc3RDaGlsZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSA9PSBcIlByb3BlcnR5TmFtZVwiKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2gocmVhZChwcm9wKSk7XG4gICAgICAgICAgICBtZW1iZXIgPSBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuSGVscGVyIGZ1bmN0aW9uIGZvciBkZWZpbmluZyBKYXZhU2NyaXB0IGNvbXBsZXRpb24gc291cmNlcy4gSXRcbnJldHVybnMgdGhlIGNvbXBsZXRhYmxlIG5hbWUgYW5kIG9iamVjdCBwYXRoIGZvciBhIGNvbXBsZXRpb25cbmNvbnRleHQsIG9yIG51bGwgaWYgbm8gbmFtZS9wcm9wZXJ0eSBjb21wbGV0aW9uIHNob3VsZCBoYXBwZW4gYXRcbnRoYXQgcG9zaXRpb24uIEZvciBleGFtcGxlLCB3aGVuIGNvbXBsZXRpbmcgYWZ0ZXIgYGEuYi5jYCBpdCB3aWxsXG5yZXR1cm4gYHtwYXRoOiBbXCJhXCIsIFwiYlwiXSwgbmFtZTogXCJjXCJ9YC4gV2hlbiBjb21wbGV0aW5nIGFmdGVyIGB4YFxuaXQgd2lsbCByZXR1cm4gYHtwYXRoOiBbXSwgbmFtZTogXCJ4XCJ9YC4gV2hlbiBub3QgaW4gYSBwcm9wZXJ0eSBvclxubmFtZSwgaXQgd2lsbCByZXR1cm4gbnVsbCBpZiBgY29udGV4dC5leHBsaWNpdGAgaXMgZmFsc2UsIGFuZFxuYHtwYXRoOiBbXSwgbmFtZTogXCJcIn1gIG90aGVyd2lzZS5cbiovXG5mdW5jdGlvbiBjb21wbGV0aW9uUGF0aChjb250ZXh0KSB7XG4gICAgbGV0IHJlYWQgPSAobm9kZSkgPT4gY29udGV4dC5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcobm9kZS5mcm9tLCBub2RlLnRvKTtcbiAgICBsZXQgaW5uZXIgPSBzeW50YXhUcmVlKGNvbnRleHQuc3RhdGUpLnJlc29sdmVJbm5lcihjb250ZXh0LnBvcywgLTEpO1xuICAgIGlmIChpbm5lci5uYW1lID09IFwiUHJvcGVydHlOYW1lXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhGb3IocmVhZCwgaW5uZXIucGFyZW50LCByZWFkKGlubmVyKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRvbnRDb21wbGV0ZS5pbmRleE9mKGlubmVyLm5hbWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGlubmVyLm5hbWUgPT0gXCJWYXJpYWJsZU5hbWVcIiB8fCBpbm5lci50byAtIGlubmVyLmZyb20gPCAyMCAmJiBJZGVudGlmaWVyLnRlc3QocmVhZChpbm5lcikpKSB7XG4gICAgICAgIHJldHVybiB7IHBhdGg6IFtdLCBuYW1lOiByZWFkKGlubmVyKSB9O1xuICAgIH1cbiAgICBlbHNlIGlmICgoaW5uZXIubmFtZSA9PSBcIi5cIiB8fCBpbm5lci5uYW1lID09IFwiPy5cIikgJiYgaW5uZXIucGFyZW50Lm5hbWUgPT0gXCJNZW1iZXJFeHByZXNzaW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIHBhdGhGb3IocmVhZCwgaW5uZXIucGFyZW50LCBcIlwiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaW5uZXIubmFtZSA9PSBcIk1lbWJlckV4cHJlc3Npb25cIikge1xuICAgICAgICByZXR1cm4gcGF0aEZvcihyZWFkLCBpbm5lciwgXCJcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGV4dC5leHBsaWNpdCA/IHsgcGF0aDogW10sIG5hbWU6IFwiXCIgfSA6IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gZW51bWVyYXRlUHJvcGVydHlDb21wbGV0aW9ucyhvYmosIHRvcCkge1xuICAgIGxldCBvcHRpb25zID0gW10sIHNlZW4gPSBuZXcgU2V0O1xuICAgIGZvciAobGV0IGRlcHRoID0gMDs7IGRlcHRoKyspIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgT2JqZWN0LmtleXMpKG9iaikpIHtcbiAgICAgICAgICAgIGlmIChzZWVuLmhhcyhuYW1lKSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHNlZW4uYWRkKG5hbWUpO1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG9ialtuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBuYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIgPyAoL15bQS1aXS8udGVzdChuYW1lKSA/IFwiY2xhc3NcIiA6IHRvcCA/IFwiZnVuY3Rpb25cIiA6IFwibWV0aG9kXCIpXG4gICAgICAgICAgICAgICAgICAgIDogdG9wID8gXCJ2YXJpYWJsZVwiIDogXCJwcm9wZXJ0eVwiLFxuICAgICAgICAgICAgICAgIGJvb3N0OiAtZGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgICAgIGlmICghbmV4dClcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICBvYmogPSBuZXh0O1xuICAgIH1cbn1cbi8qKlxuRGVmaW5lcyBhIFtjb21wbGV0aW9uIHNvdXJjZV0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNhdXRvY29tcGxldGUuQ29tcGxldGlvblNvdXJjZSkgdGhhdFxuY29tcGxldGVzIGZyb20gdGhlIGdpdmVuIHNjb3BlIG9iamVjdCAoZm9yIGV4YW1wbGUgYGdsb2JhbFRoaXNgKS5cbldpbGwgZW50ZXIgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IHdoZW4gY29tcGxldGluZyBwcm9wZXJ0aWVzIG9uXG5hIGRpcmVjdGx5LW5hbWVkIHBhdGguXG4qL1xuZnVuY3Rpb24gc2NvcGVDb21wbGV0aW9uU291cmNlKHNjb3BlKSB7XG4gICAgbGV0IGNhY2hlID0gbmV3IE1hcDtcbiAgICByZXR1cm4gKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHBhdGggPSBjb21wbGV0aW9uUGF0aChjb250ZXh0KTtcbiAgICAgICAgaWYgKCFwYXRoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB0YXJnZXQgPSBzY29wZTtcbiAgICAgICAgZm9yIChsZXQgc3RlcCBvZiBwYXRoLnBhdGgpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldFtzdGVwXTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zID0gY2FjaGUuZ2V0KHRhcmdldCk7XG4gICAgICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgICAgIGNhY2hlLnNldCh0YXJnZXQsIG9wdGlvbnMgPSBlbnVtZXJhdGVQcm9wZXJ0eUNvbXBsZXRpb25zKHRhcmdldCwgIXBhdGgucGF0aC5sZW5ndGgpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb206IGNvbnRleHQucG9zIC0gcGF0aC5uYW1lLmxlbmd0aCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB2YWxpZEZvcjogSWRlbnRpZmllclxuICAgICAgICB9O1xuICAgIH07XG59XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIEphdmFTY3JpcHRcbnBhcnNlcl0oaHR0cHM6Ly9naXRodWIuY29tL2xlemVyLXBhcnNlci9qYXZhc2NyaXB0KSwgZXh0ZW5kZWQgd2l0aFxuaGlnaGxpZ2h0aW5nIGFuZCBpbmRlbnRhdGlvbiBpbmZvcm1hdGlvbi5cbiovXG5jb25zdCBqYXZhc2NyaXB0TGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwiamF2YXNjcmlwdFwiLFxuICAgIHBhcnNlcjogLypAX19QVVJFX18qL3BhcnNlci5jb25maWd1cmUoe1xuICAgICAgICBwcm9wczogW1xuICAgICAgICAgICAgLypAX19QVVJFX18qL2luZGVudE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgSWZTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGVsc2VcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBUcnlTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGNhdGNoXFxifGZpbmFsbHlcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBMYWJlbGVkU3RhdGVtZW50OiBmbGF0SW5kZW50LFxuICAgICAgICAgICAgICAgIFN3aXRjaEJvZHk6IGNvbnRleHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSBjb250ZXh0LnRleHRBZnRlciwgY2xvc2VkID0gL15cXHMqXFx9Ly50ZXN0KGFmdGVyKSwgaXNDYXNlID0gL15cXHMqKGNhc2V8ZGVmYXVsdClcXGIvLnRlc3QoYWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5iYXNlSW5kZW50ICsgKGNsb3NlZCA/IDAgOiBpc0Nhc2UgPyAxIDogMikgKiBjb250ZXh0LnVuaXQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBCbG9jazogLypAX19QVVJFX18qL2RlbGltaXRlZEluZGVudCh7IGNsb3Npbmc6IFwifVwiIH0pLFxuICAgICAgICAgICAgICAgIEFycm93RnVuY3Rpb246IGN4ID0+IGN4LmJhc2VJbmRlbnQgKyBjeC51bml0LFxuICAgICAgICAgICAgICAgIFwiVGVtcGxhdGVTdHJpbmcgQmxvY2tDb21tZW50XCI6ICgpID0+IG51bGwsXG4gICAgICAgICAgICAgICAgXCJTdGF0ZW1lbnQgUHJvcGVydHlcIjogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL157LyB9KSxcbiAgICAgICAgICAgICAgICBKU1hFbGVtZW50KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NlZCA9IC9eXFxzKjxcXC8vLnRlc3QoY29udGV4dC50ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5saW5lSW5kZW50KGNvbnRleHQubm9kZS5mcm9tKSArIChjbG9zZWQgPyAwIDogY29udGV4dC51bml0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIEpTWEVzY2FwZShjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjbG9zZWQgPSAvXFxzKlxcfS8udGVzdChjb250ZXh0LnRleHRBZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoY29udGV4dC5ub2RlLmZyb20pICsgKGNsb3NlZCA/IDAgOiBjb250ZXh0LnVuaXQpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJKU1hPcGVuVGFnIEpTWFNlbGZDbG9zaW5nVGFnXCIoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb2x1bW4oY29udGV4dC5ub2RlLmZyb20pICsgY29udGV4dC51bml0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLypAX19QVVJFX18qL2ZvbGROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIFwiQmxvY2sgQ2xhc3NCb2R5IFN3aXRjaEJvZHkgRW51bUJvZHkgT2JqZWN0RXhwcmVzc2lvbiBBcnJheUV4cHJlc3Npb25cIjogZm9sZEluc2lkZSxcbiAgICAgICAgICAgICAgICBCbG9ja0NvbW1lbnQodHJlZSkgeyByZXR1cm4geyBmcm9tOiB0cmVlLmZyb20gKyAyLCB0bzogdHJlZS50byAtIDIgfTsgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICBjbG9zZUJyYWNrZXRzOiB7IGJyYWNrZXRzOiBbXCIoXCIsIFwiW1wiLCBcIntcIiwgXCInXCIsICdcIicsIFwiYFwiXSB9LFxuICAgICAgICBjb21tZW50VG9rZW5zOiB7IGxpbmU6IFwiLy9cIiwgYmxvY2s6IHsgb3BlbjogXCIvKlwiLCBjbG9zZTogXCIqL1wiIH0gfSxcbiAgICAgICAgaW5kZW50T25JbnB1dDogL15cXHMqKD86Y2FzZSB8ZGVmYXVsdDp8XFx7fFxcfXw8XFwvKSQvLFxuICAgICAgICB3b3JkQ2hhcnM6IFwiJFwiXG4gICAgfVxufSk7XG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgZm9yIFR5cGVTY3JpcHQuXG4qL1xuY29uc3QgdHlwZXNjcmlwdExhbmd1YWdlID0gLypAX19QVVJFX18qL2phdmFzY3JpcHRMYW5ndWFnZS5jb25maWd1cmUoeyBkaWFsZWN0OiBcInRzXCIgfSwgXCJ0eXBlc2NyaXB0XCIpO1xuLyoqXG5MYW5ndWFnZSBwcm92aWRlciBmb3IgSlNYLlxuKi9cbmNvbnN0IGpzeExhbmd1YWdlID0gLypAX19QVVJFX18qL2phdmFzY3JpcHRMYW5ndWFnZS5jb25maWd1cmUoeyBkaWFsZWN0OiBcImpzeFwiIH0pO1xuLyoqXG5MYW5ndWFnZSBwcm92aWRlciBmb3IgSlNYICsgVHlwZVNjcmlwdC5cbiovXG5jb25zdCB0c3hMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9qYXZhc2NyaXB0TGFuZ3VhZ2UuY29uZmlndXJlKHsgZGlhbGVjdDogXCJqc3ggdHNcIiB9LCBcInR5cGVzY3JpcHRcIik7XG5jb25zdCBrZXl3b3JkcyA9IC8qQF9fUFVSRV9fKi9cImJyZWFrIGNhc2UgY29uc3QgY29udGludWUgZGVmYXVsdCBkZWxldGUgZXhwb3J0IGV4dGVuZHMgZmFsc2UgZmluYWxseSBpbiBpbnN0YW5jZW9mIGxldCBuZXcgcmV0dXJuIHN0YXRpYyBzdXBlciBzd2l0Y2ggdGhpcyB0aHJvdyB0cnVlIHR5cGVvZiB2YXIgeWllbGRcIi5zcGxpdChcIiBcIikubWFwKGt3ID0+ICh7IGxhYmVsOiBrdywgdHlwZTogXCJrZXl3b3JkXCIgfSkpO1xuLyoqXG5KYXZhU2NyaXB0IHN1cHBvcnQuIEluY2x1ZGVzIFtzbmlwcGV0XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xhbmctamF2YXNjcmlwdC5zbmlwcGV0cylcbmNvbXBsZXRpb24uXG4qL1xuZnVuY3Rpb24gamF2YXNjcmlwdChjb25maWcgPSB7fSkge1xuICAgIGxldCBsYW5nID0gY29uZmlnLmpzeCA/IChjb25maWcudHlwZXNjcmlwdCA/IHRzeExhbmd1YWdlIDoganN4TGFuZ3VhZ2UpXG4gICAgICAgIDogY29uZmlnLnR5cGVzY3JpcHQgPyB0eXBlc2NyaXB0TGFuZ3VhZ2UgOiBqYXZhc2NyaXB0TGFuZ3VhZ2U7XG4gICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN1cHBvcnQobGFuZywgW1xuICAgICAgICBqYXZhc2NyaXB0TGFuZ3VhZ2UuZGF0YS5vZih7XG4gICAgICAgICAgICBhdXRvY29tcGxldGU6IGlmTm90SW4oZG9udENvbXBsZXRlLCBjb21wbGV0ZUZyb21MaXN0KHNuaXBwZXRzLmNvbmNhdChrZXl3b3JkcykpKVxuICAgICAgICB9KSxcbiAgICAgICAgamF2YXNjcmlwdExhbmd1YWdlLmRhdGEub2Yoe1xuICAgICAgICAgICAgYXV0b2NvbXBsZXRlOiBsb2NhbENvbXBsZXRpb25Tb3VyY2VcbiAgICAgICAgfSksXG4gICAgICAgIGNvbmZpZy5qc3ggPyBhdXRvQ2xvc2VUYWdzIDogW10sXG4gICAgXSk7XG59XG5mdW5jdGlvbiBlbGVtZW50TmFtZShkb2MsIHRyZWUsIG1heCA9IGRvYy5sZW5ndGgpIHtcbiAgICBpZiAoIXRyZWUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIGxldCBuYW1lID0gdHJlZS5nZXRDaGlsZChcIkpTWElkZW50aWZpZXJcIik7XG4gICAgcmV0dXJuIG5hbWUgPyBkb2Muc2xpY2VTdHJpbmcobmFtZS5mcm9tLCBNYXRoLm1pbihuYW1lLnRvLCBtYXgpKSA6IFwiXCI7XG59XG5jb25zdCBhbmRyb2lkID0gdHlwZW9mIG5hdmlnYXRvciA9PSBcIm9iamVjdFwiICYmIC8qQF9fUFVSRV9fKi8vQW5kcm9pZFxcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbi8qKlxuRXh0ZW5zaW9uIHRoYXQgd2lsbCBhdXRvbWF0aWNhbGx5IGluc2VydCBKU1ggY2xvc2UgdGFncyB3aGVuIGEgYD5gIG9yXG5gL2AgaXMgdHlwZWQuXG4qL1xuY29uc3QgYXV0b0Nsb3NlVGFncyA9IC8qQF9fUFVSRV9fKi9FZGl0b3JWaWV3LmlucHV0SGFuZGxlci5vZigodmlldywgZnJvbSwgdG8sIHRleHQpID0+IHtcbiAgICBpZiAoKGFuZHJvaWQgPyB2aWV3LmNvbXBvc2luZyA6IHZpZXcuY29tcG9zaXRpb25TdGFydGVkKSB8fCB2aWV3LnN0YXRlLnJlYWRPbmx5IHx8XG4gICAgICAgIGZyb20gIT0gdG8gfHwgKHRleHQgIT0gXCI+XCIgJiYgdGV4dCAhPSBcIi9cIikgfHxcbiAgICAgICAgIWphdmFzY3JpcHRMYW5ndWFnZS5pc0FjdGl2ZUF0KHZpZXcuc3RhdGUsIGZyb20sIC0xKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3O1xuICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSByYW5nZSwgYXJvdW5kID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKGhlYWQsIC0xKSwgbmFtZTtcbiAgICAgICAgaWYgKGFyb3VuZC5uYW1lID09IFwiSlNYU3RhcnRUYWdcIilcbiAgICAgICAgICAgIGFyb3VuZCA9IGFyb3VuZC5wYXJlbnQ7XG4gICAgICAgIGlmICh0ZXh0ID09IFwiPlwiICYmIGFyb3VuZC5uYW1lID09IFwiSlNYRnJhZ21lbnRUYWdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIDEpLCBjaGFuZ2VzOiB7IGZyb206IGhlYWQsIGluc2VydDogYD48PmAgfSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCI+XCIgJiYgYXJvdW5kLm5hbWUgPT0gXCJKU1hJZGVudGlmaWVyXCIpIHtcbiAgICAgICAgICAgIGlmICgoKF9iID0gKF9hID0gYXJvdW5kLnBhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxhc3RDaGlsZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm5hbWUpICE9IFwiSlNYRW5kVGFnXCIgJiYgKG5hbWUgPSBlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGFyb3VuZC5wYXJlbnQsIGhlYWQpKSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyByYW5nZTogRWRpdG9yU2VsZWN0aW9uLmN1cnNvcihoZWFkICsgMSksIGNoYW5nZXM6IHsgZnJvbTogaGVhZCwgaW5zZXJ0OiBgPjwvJHtuYW1lfT5gIH0gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0ID09IFwiL1wiICYmIGFyb3VuZC5uYW1lID09IFwiSlNYRnJhZ21lbnRUYWdcIikge1xuICAgICAgICAgICAgbGV0IGVtcHR5ID0gYXJvdW5kLnBhcmVudCwgYmFzZSA9IGVtcHR5ID09PSBudWxsIHx8IGVtcHR5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbXB0eS5wYXJlbnQ7XG4gICAgICAgICAgICBpZiAoZW1wdHkuZnJvbSA9PSBoZWFkIC0gMSAmJiAoKF9jID0gYmFzZS5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYW1lKSAhPSBcIkpTWEVuZFRhZ1wiICYmIChuYW1lID0gZWxlbWVudE5hbWUoc3RhdGUuZG9jLCBiYXNlID09PSBudWxsIHx8IGJhc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJhc2UuZmlyc3RDaGlsZCwgaGVhZCkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGluc2VydCA9IGAvJHtuYW1lfT5gO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKGhlYWQgKyBpbnNlcnQubGVuZ3RoKSwgY2hhbmdlczogeyBmcm9tOiBoZWFkLCBpbnNlcnQgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHJhbmdlIH07XG4gICAgfSk7XG4gICAgaWYgKGNoYW5nZXMuY2hhbmdlcy5lbXB0eSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHZpZXcuZGlzcGF0Y2goY2hhbmdlcywgeyB1c2VyRXZlbnQ6IFwiaW5wdXQudHlwZVwiLCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbn0pO1xuXG4vKipcbkNvbm5lY3RzIGFuIFtFU0xpbnRdKGh0dHBzOi8vZXNsaW50Lm9yZy8pIGxpbnRlciB0byBDb2RlTWlycm9yJ3NcbltsaW50XShodHRwczovL2NvZGVtaXJyb3IubmV0LzYvZG9jcy9yZWYvI2xpbnQpIGludGVncmF0aW9uLiBgZXNsaW50YCBzaG91bGQgYmUgYW4gaW5zdGFuY2Ugb2YgdGhlXG5bYExpbnRlcmBdKGh0dHBzOi8vZXNsaW50Lm9yZy9kb2NzL2RldmVsb3Blci1ndWlkZS9ub2RlanMtYXBpI2xpbnRlcilcbmNsYXNzLCBhbmQgYGNvbmZpZ2AgYW4gb3B0aW9uYWwgRVNMaW50IGNvbmZpZ3VyYXRpb24uIFRoZSByZXR1cm5cbnZhbHVlIG9mIHRoaXMgZnVuY3Rpb24gY2FuIGJlIHBhc3NlZCB0byBbYGxpbnRlcmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGludC5saW50ZXIpXG50byBjcmVhdGUgYSBKYXZhU2NyaXB0IGxpbnRpbmcgZXh0ZW5zaW9uLlxuXG5Ob3RlIHRoYXQgRVNMaW50IHRhcmdldHMgbm9kZSwgYW5kIGlzIHRyaWNreSB0byBydW4gaW4gdGhlXG5icm93c2VyLiBUaGVcbltlc2xpbnQtbGludGVyLWJyb3dzZXJpZnldKGh0dHBzOi8vZ2l0aHViLmNvbS9VemlUZWNoL2VzbGludC1saW50ZXItYnJvd3NlcmlmeSlcbnBhY2thZ2UgbWF5IGhlbHAgd2l0aCB0aGF0IChzZWVcbltleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vVXppVGVjaC9lc2xpbnQtbGludGVyLWJyb3dzZXJpZnkvYmxvYi9tYXN0ZXIvZXhhbXBsZS9zY3JpcHQuanMpKS5cbiovXG5mdW5jdGlvbiBlc0xpbnQoZXNsaW50LCBjb25maWcpIHtcbiAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBjb25maWcgPSB7XG4gICAgICAgICAgICBwYXJzZXJPcHRpb25zOiB7IGVjbWFWZXJzaW9uOiAyMDE5LCBzb3VyY2VUeXBlOiBcIm1vZHVsZVwiIH0sXG4gICAgICAgICAgICBlbnY6IHsgYnJvd3NlcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXM2OiB0cnVlLCBlczIwMTU6IHRydWUsIGVzMjAxNzogdHJ1ZSwgZXMyMDIwOiB0cnVlIH0sXG4gICAgICAgICAgICBydWxlczoge31cbiAgICAgICAgfTtcbiAgICAgICAgZXNsaW50LmdldFJ1bGVzKCkuZm9yRWFjaCgoZGVzYywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRlc2MubWV0YS5kb2NzLnJlY29tbWVuZGVkKVxuICAgICAgICAgICAgICAgIGNvbmZpZy5ydWxlc1tuYW1lXSA9IDI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKHZpZXcpID0+IHtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsIGZvdW5kID0gW107XG4gICAgICAgIGZvciAobGV0IHsgZnJvbSwgdG8gfSBvZiBqYXZhc2NyaXB0TGFuZ3VhZ2UuZmluZFJlZ2lvbnMoc3RhdGUpKSB7XG4gICAgICAgICAgICBsZXQgZnJvbUxpbmUgPSBzdGF0ZS5kb2MubGluZUF0KGZyb20pLCBvZmZzZXQgPSB7IGxpbmU6IGZyb21MaW5lLm51bWJlciAtIDEsIGNvbDogZnJvbSAtIGZyb21MaW5lLmZyb20sIHBvczogZnJvbSB9O1xuICAgICAgICAgICAgZm9yIChsZXQgZCBvZiBlc2xpbnQudmVyaWZ5KHN0YXRlLnNsaWNlRG9jKGZyb20sIHRvKSwgY29uZmlnKSlcbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKHRyYW5zbGF0ZURpYWdub3N0aWMoZCwgc3RhdGUuZG9jLCBvZmZzZXQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcFBvcyhsaW5lLCBjb2wsIGRvYywgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIGRvYy5saW5lKGxpbmUgKyBvZmZzZXQubGluZSkuZnJvbSArIGNvbCArIChsaW5lID09IDEgPyBvZmZzZXQuY29sIC0gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIHRyYW5zbGF0ZURpYWdub3N0aWMoaW5wdXQsIGRvYywgb2Zmc2V0KSB7XG4gICAgbGV0IHN0YXJ0ID0gbWFwUG9zKGlucHV0LmxpbmUsIGlucHV0LmNvbHVtbiwgZG9jLCBvZmZzZXQpO1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIGZyb206IHN0YXJ0LFxuICAgICAgICB0bzogaW5wdXQuZW5kTGluZSAhPSBudWxsICYmIGlucHV0LmVuZENvbHVtbiAhPSAxID8gbWFwUG9zKGlucHV0LmVuZExpbmUsIGlucHV0LmVuZENvbHVtbiwgZG9jLCBvZmZzZXQpIDogc3RhcnQsXG4gICAgICAgIG1lc3NhZ2U6IGlucHV0Lm1lc3NhZ2UsXG4gICAgICAgIHNvdXJjZTogaW5wdXQucnVsZUlkID8gXCJlc2xpbnQ6XCIgKyBpbnB1dC5ydWxlSWQgOiBcImVzbGludFwiLFxuICAgICAgICBzZXZlcml0eTogaW5wdXQuc2V2ZXJpdHkgPT0gMSA/IFwid2FybmluZ1wiIDogXCJlcnJvclwiLFxuICAgIH07XG4gICAgaWYgKGlucHV0LmZpeCkge1xuICAgICAgICBsZXQgeyByYW5nZSwgdGV4dCB9ID0gaW5wdXQuZml4LCBmcm9tID0gcmFuZ2VbMF0gKyBvZmZzZXQucG9zIC0gc3RhcnQsIHRvID0gcmFuZ2VbMV0gKyBvZmZzZXQucG9zIC0gc3RhcnQ7XG4gICAgICAgIHJlc3VsdC5hY3Rpb25zID0gW3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZpeFwiLFxuICAgICAgICAgICAgICAgIGFwcGx5KHZpZXcsIHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2goeyBjaGFuZ2VzOiB7IGZyb206IHN0YXJ0ICsgZnJvbSwgdG86IHN0YXJ0ICsgdG8sIGluc2VydDogdGV4dCB9LCBzY3JvbGxJbnRvVmlldzogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgYXV0b0Nsb3NlVGFncywgY29tcGxldGlvblBhdGgsIGVzTGludCwgamF2YXNjcmlwdCwgamF2YXNjcmlwdExhbmd1YWdlLCBqc3hMYW5ndWFnZSwgbG9jYWxDb21wbGV0aW9uU291cmNlLCBzY29wZUNvbXBsZXRpb25Tb3VyY2UsIHNuaXBwZXRzLCB0c3hMYW5ndWFnZSwgdHlwZXNjcmlwdExhbmd1YWdlIH07XG4iLCAiaW1wb3J0IHsgcGFyc2VyLCBjb25maWd1cmVOZXN0aW5nIH0gZnJvbSAnQGxlemVyL2h0bWwnO1xuaW1wb3J0IHsgY3NzTGFuZ3VhZ2UsIGNzcyB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmctY3NzJztcbmltcG9ydCB7IHR5cGVzY3JpcHRMYW5ndWFnZSwganN4TGFuZ3VhZ2UsIHRzeExhbmd1YWdlLCBqYXZhc2NyaXB0TGFuZ3VhZ2UsIGphdmFzY3JpcHQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWphdmFzY3JpcHQnO1xuaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yU2VsZWN0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGZvbGROb2RlUHJvcCwgTGFuZ3VhZ2VTdXBwb3J0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG5jb25zdCBUYXJnZXRzID0gW1wiX2JsYW5rXCIsIFwiX3NlbGZcIiwgXCJfdG9wXCIsIFwiX3BhcmVudFwiXTtcbmNvbnN0IENoYXJzZXRzID0gW1wiYXNjaWlcIiwgXCJ1dGYtOFwiLCBcInV0Zi0xNlwiLCBcImxhdGluMVwiLCBcImxhdGluMVwiXTtcbmNvbnN0IE1ldGhvZHMgPSBbXCJnZXRcIiwgXCJwb3N0XCIsIFwicHV0XCIsIFwiZGVsZXRlXCJdO1xuY29uc3QgRW5jcyA9IFtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLCBcIm11bHRpcGFydC9mb3JtLWRhdGFcIiwgXCJ0ZXh0L3BsYWluXCJdO1xuY29uc3QgQm9vbCA9IFtcInRydWVcIiwgXCJmYWxzZVwiXTtcbmNvbnN0IFMgPSB7fTsgLy8gRW1wdHkgdGFnIHNwZWNcbmNvbnN0IFRhZ3MgPSB7XG4gICAgYToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgaHJlZjogbnVsbCwgcGluZzogbnVsbCwgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgdGFyZ2V0OiBUYXJnZXRzLFxuICAgICAgICAgICAgaHJlZmxhbmc6IG51bGxcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWJicjogUyxcbiAgICBhZGRyZXNzOiBTLFxuICAgIGFyZWE6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGFsdDogbnVsbCwgY29vcmRzOiBudWxsLCBocmVmOiBudWxsLCB0YXJnZXQ6IG51bGwsIHBpbmc6IG51bGwsXG4gICAgICAgICAgICBtZWRpYTogbnVsbCwgaHJlZmxhbmc6IG51bGwsIHR5cGU6IG51bGwsXG4gICAgICAgICAgICBzaGFwZTogW1wiZGVmYXVsdFwiLCBcInJlY3RcIiwgXCJjaXJjbGVcIiwgXCJwb2x5XCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFydGljbGU6IFMsXG4gICAgYXNpZGU6IFMsXG4gICAgYXVkaW86IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIHNyYzogbnVsbCwgbWVkaWFncm91cDogbnVsbCxcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBbXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIl0sXG4gICAgICAgICAgICBwcmVsb2FkOiBbXCJub25lXCIsIFwibWV0YWRhdGFcIiwgXCJhdXRvXCJdLFxuICAgICAgICAgICAgYXV0b3BsYXk6IFtcImF1dG9wbGF5XCJdLFxuICAgICAgICAgICAgbG9vcDogW1wibG9vcFwiXSxcbiAgICAgICAgICAgIGNvbnRyb2xzOiBbXCJjb250cm9sc1wiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBiOiBTLFxuICAgIGJhc2U6IHsgYXR0cnM6IHsgaHJlZjogbnVsbCwgdGFyZ2V0OiBUYXJnZXRzIH0gfSxcbiAgICBiZGk6IFMsXG4gICAgYmRvOiBTLFxuICAgIGJsb2NrcXVvdGU6IHsgYXR0cnM6IHsgY2l0ZTogbnVsbCB9IH0sXG4gICAgYm9keTogUyxcbiAgICBicjogUyxcbiAgICBidXR0b246IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGZvcm06IG51bGwsIGZvcm1hY3Rpb246IG51bGwsIG5hbWU6IG51bGwsIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiYXV0b2ZvY3VzXCJdLFxuICAgICAgICAgICAgZm9ybWVuY3R5cGU6IEVuY3MsXG4gICAgICAgICAgICBmb3JtbWV0aG9kOiBNZXRob2RzLFxuICAgICAgICAgICAgZm9ybW5vdmFsaWRhdGU6IFtcIm5vdmFsaWRhdGVcIl0sXG4gICAgICAgICAgICBmb3JtdGFyZ2V0OiBUYXJnZXRzLFxuICAgICAgICAgICAgdHlwZTogW1wic3VibWl0XCIsIFwicmVzZXRcIiwgXCJidXR0b25cIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2FudmFzOiB7IGF0dHJzOiB7IHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwgfSB9LFxuICAgIGNhcHRpb246IFMsXG4gICAgY2VudGVyOiBTLFxuICAgIGNpdGU6IFMsXG4gICAgY29kZTogUyxcbiAgICBjb2w6IHsgYXR0cnM6IHsgc3BhbjogbnVsbCB9IH0sXG4gICAgY29sZ3JvdXA6IHsgYXR0cnM6IHsgc3BhbjogbnVsbCB9IH0sXG4gICAgY29tbWFuZDoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdHlwZTogW1wiY29tbWFuZFwiLCBcImNoZWNrYm94XCIsIFwicmFkaW9cIl0sXG4gICAgICAgICAgICBsYWJlbDogbnVsbCwgaWNvbjogbnVsbCwgcmFkaW9ncm91cDogbnVsbCwgY29tbWFuZDogbnVsbCwgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICBjaGVja2VkOiBbXCJjaGVja2VkXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhdGE6IHsgYXR0cnM6IHsgdmFsdWU6IG51bGwgfSB9LFxuICAgIGRhdGFncmlkOiB7IGF0dHJzOiB7IGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSwgbXVsdGlwbGU6IFtcIm11bHRpcGxlXCJdIH0gfSxcbiAgICBkYXRhbGlzdDogeyBhdHRyczogeyBkYXRhOiBudWxsIH0gfSxcbiAgICBkZDogUyxcbiAgICBkZWw6IHsgYXR0cnM6IHsgY2l0ZTogbnVsbCwgZGF0ZXRpbWU6IG51bGwgfSB9LFxuICAgIGRldGFpbHM6IHsgYXR0cnM6IHsgb3BlbjogW1wib3BlblwiXSB9IH0sXG4gICAgZGZuOiBTLFxuICAgIGRpdjogUyxcbiAgICBkbDogUyxcbiAgICBkdDogUyxcbiAgICBlbTogUyxcbiAgICBlbWJlZDogeyBhdHRyczogeyBzcmM6IG51bGwsIHR5cGU6IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwgfSB9LFxuICAgIGV2ZW50c291cmNlOiB7IGF0dHJzOiB7IHNyYzogbnVsbCB9IH0sXG4gICAgZmllbGRzZXQ6IHsgYXR0cnM6IHsgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLCBmb3JtOiBudWxsLCBuYW1lOiBudWxsIH0gfSxcbiAgICBmaWdjYXB0aW9uOiBTLFxuICAgIGZpZ3VyZTogUyxcbiAgICBmb290ZXI6IFMsXG4gICAgZm9ybToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgYWN0aW9uOiBudWxsLCBuYW1lOiBudWxsLFxuICAgICAgICAgICAgXCJhY2NlcHQtY2hhcnNldFwiOiBDaGFyc2V0cyxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogW1wib25cIiwgXCJvZmZcIl0sXG4gICAgICAgICAgICBlbmN0eXBlOiBFbmNzLFxuICAgICAgICAgICAgbWV0aG9kOiBNZXRob2RzLFxuICAgICAgICAgICAgbm92YWxpZGF0ZTogW1wibm92YWxpZGF0ZVwiXSxcbiAgICAgICAgICAgIHRhcmdldDogVGFyZ2V0c1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoMTogUywgaDI6IFMsIGgzOiBTLCBoNDogUywgaDU6IFMsIGg2OiBTLFxuICAgIGhlYWQ6IHtcbiAgICAgICAgY2hpbGRyZW46IFtcInRpdGxlXCIsIFwiYmFzZVwiLCBcImxpbmtcIiwgXCJzdHlsZVwiLCBcIm1ldGFcIiwgXCJzY3JpcHRcIiwgXCJub3NjcmlwdFwiLCBcImNvbW1hbmRcIl1cbiAgICB9LFxuICAgIGhlYWRlcjogUyxcbiAgICBoZ3JvdXA6IFMsXG4gICAgaHI6IFMsXG4gICAgaHRtbDoge1xuICAgICAgICBhdHRyczogeyBtYW5pZmVzdDogbnVsbCB9XG4gICAgfSxcbiAgICBpOiBTLFxuICAgIGlmcmFtZToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBzcmNkb2M6IG51bGwsIG5hbWU6IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwsXG4gICAgICAgICAgICBzYW5kYm94OiBbXCJhbGxvdy10b3AtbmF2aWdhdGlvblwiLCBcImFsbG93LXNhbWUtb3JpZ2luXCIsIFwiYWxsb3ctZm9ybXNcIiwgXCJhbGxvdy1zY3JpcHRzXCJdLFxuICAgICAgICAgICAgc2VhbWxlc3M6IFtcInNlYW1sZXNzXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGltZzoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgYWx0OiBudWxsLCBzcmM6IG51bGwsIGlzbWFwOiBudWxsLCB1c2VtYXA6IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwsXG4gICAgICAgICAgICBjcm9zc29yaWdpbjogW1wiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBhbHQ6IG51bGwsIGRpcm5hbWU6IG51bGwsIGZvcm06IG51bGwsIGZvcm1hY3Rpb246IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQ6IG51bGwsIGxpc3Q6IG51bGwsIG1heDogbnVsbCwgbWF4bGVuZ3RoOiBudWxsLCBtaW46IG51bGwsXG4gICAgICAgICAgICBuYW1lOiBudWxsLCBwYXR0ZXJuOiBudWxsLCBwbGFjZWhvbGRlcjogbnVsbCwgc2l6ZTogbnVsbCwgc3JjOiBudWxsLFxuICAgICAgICAgICAgc3RlcDogbnVsbCwgdmFsdWU6IG51bGwsIHdpZHRoOiBudWxsLFxuICAgICAgICAgICAgYWNjZXB0OiBbXCJhdWRpby8qXCIsIFwidmlkZW8vKlwiLCBcImltYWdlLypcIl0sXG4gICAgICAgICAgICBhdXRvY29tcGxldGU6IFtcIm9uXCIsIFwib2ZmXCJdLFxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBjaGVja2VkOiBbXCJjaGVja2VkXCJdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgICAgICAgZm9ybWVuY3R5cGU6IEVuY3MsXG4gICAgICAgICAgICBmb3JtbWV0aG9kOiBNZXRob2RzLFxuICAgICAgICAgICAgZm9ybW5vdmFsaWRhdGU6IFtcIm5vdmFsaWRhdGVcIl0sXG4gICAgICAgICAgICBmb3JtdGFyZ2V0OiBUYXJnZXRzLFxuICAgICAgICAgICAgbXVsdGlwbGU6IFtcIm11bHRpcGxlXCJdLFxuICAgICAgICAgICAgcmVhZG9ubHk6IFtcInJlYWRvbmx5XCJdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFtcInJlcXVpcmVkXCJdLFxuICAgICAgICAgICAgdHlwZTogW1wiaGlkZGVuXCIsIFwidGV4dFwiLCBcInNlYXJjaFwiLCBcInRlbFwiLCBcInVybFwiLCBcImVtYWlsXCIsIFwicGFzc3dvcmRcIiwgXCJkYXRldGltZVwiLCBcImRhdGVcIiwgXCJtb250aFwiLFxuICAgICAgICAgICAgICAgIFwid2Vla1wiLCBcInRpbWVcIiwgXCJkYXRldGltZS1sb2NhbFwiLCBcIm51bWJlclwiLCBcInJhbmdlXCIsIFwiY29sb3JcIiwgXCJjaGVja2JveFwiLCBcInJhZGlvXCIsXG4gICAgICAgICAgICAgICAgXCJmaWxlXCIsIFwic3VibWl0XCIsIFwiaW1hZ2VcIiwgXCJyZXNldFwiLCBcImJ1dHRvblwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBpbnM6IHsgYXR0cnM6IHsgY2l0ZTogbnVsbCwgZGF0ZXRpbWU6IG51bGwgfSB9LFxuICAgIGtiZDogUyxcbiAgICBrZXlnZW46IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGNoYWxsZW5nZTogbnVsbCwgZm9ybTogbnVsbCwgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIGF1dG9mb2N1czogW1wiYXV0b2ZvY3VzXCJdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLFxuICAgICAgICAgICAga2V5dHlwZTogW1wiUlNBXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxhYmVsOiB7IGF0dHJzOiB7IGZvcjogbnVsbCwgZm9ybTogbnVsbCB9IH0sXG4gICAgbGVnZW5kOiBTLFxuICAgIGxpOiB7IGF0dHJzOiB7IHZhbHVlOiBudWxsIH0gfSxcbiAgICBsaW5rOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBocmVmOiBudWxsLCB0eXBlOiBudWxsLFxuICAgICAgICAgICAgaHJlZmxhbmc6IG51bGwsXG4gICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgIHNpemVzOiBbXCJhbGxcIiwgXCIxNngxNlwiLCBcIjE2eDE2IDMyeDMyXCIsIFwiMTZ4MTYgMzJ4MzIgNjR4NjRcIl1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbWFwOiB7IGF0dHJzOiB7IG5hbWU6IG51bGwgfSB9LFxuICAgIG1hcms6IFMsXG4gICAgbWVudTogeyBhdHRyczogeyBsYWJlbDogbnVsbCwgdHlwZTogW1wibGlzdFwiLCBcImNvbnRleHRcIiwgXCJ0b29sYmFyXCJdIH0gfSxcbiAgICBtZXRhOiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICBjb250ZW50OiBudWxsLFxuICAgICAgICAgICAgY2hhcnNldDogQ2hhcnNldHMsXG4gICAgICAgICAgICBuYW1lOiBbXCJ2aWV3cG9ydFwiLCBcImFwcGxpY2F0aW9uLW5hbWVcIiwgXCJhdXRob3JcIiwgXCJkZXNjcmlwdGlvblwiLCBcImdlbmVyYXRvclwiLCBcImtleXdvcmRzXCJdLFxuICAgICAgICAgICAgXCJodHRwLWVxdWl2XCI6IFtcImNvbnRlbnQtbGFuZ3VhZ2VcIiwgXCJjb250ZW50LXR5cGVcIiwgXCJkZWZhdWx0LXN0eWxlXCIsIFwicmVmcmVzaFwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXRlcjogeyBhdHRyczogeyB2YWx1ZTogbnVsbCwgbWluOiBudWxsLCBsb3c6IG51bGwsIGhpZ2g6IG51bGwsIG1heDogbnVsbCwgb3B0aW11bTogbnVsbCB9IH0sXG4gICAgbmF2OiBTLFxuICAgIG5vc2NyaXB0OiBTLFxuICAgIG9iamVjdDoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgZGF0YTogbnVsbCwgdHlwZTogbnVsbCwgbmFtZTogbnVsbCwgdXNlbWFwOiBudWxsLCBmb3JtOiBudWxsLCB3aWR0aDogbnVsbCwgaGVpZ2h0OiBudWxsLFxuICAgICAgICAgICAgdHlwZW11c3RtYXRjaDogW1widHlwZW11c3RtYXRjaFwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBvbDogeyBhdHRyczogeyByZXZlcnNlZDogW1wicmV2ZXJzZWRcIl0sIHN0YXJ0OiBudWxsLCB0eXBlOiBbXCIxXCIsIFwiYVwiLCBcIkFcIiwgXCJpXCIsIFwiSVwiXSB9LFxuICAgICAgICBjaGlsZHJlbjogW1wibGlcIiwgXCJzY3JpcHRcIiwgXCJ0ZW1wbGF0ZVwiLCBcInVsXCIsIFwib2xcIl0gfSxcbiAgICBvcHRncm91cDogeyBhdHRyczogeyBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sIGxhYmVsOiBudWxsIH0gfSxcbiAgICBvcHRpb246IHsgYXR0cnM6IHsgZGlzYWJsZWQ6IFtcImRpc2FibGVkXCJdLCBsYWJlbDogbnVsbCwgc2VsZWN0ZWQ6IFtcInNlbGVjdGVkXCJdLCB2YWx1ZTogbnVsbCB9IH0sXG4gICAgb3V0cHV0OiB7IGF0dHJzOiB7IGZvcjogbnVsbCwgZm9ybTogbnVsbCwgbmFtZTogbnVsbCB9IH0sXG4gICAgcDogUyxcbiAgICBwYXJhbTogeyBhdHRyczogeyBuYW1lOiBudWxsLCB2YWx1ZTogbnVsbCB9IH0sXG4gICAgcHJlOiBTLFxuICAgIHByb2dyZXNzOiB7IGF0dHJzOiB7IHZhbHVlOiBudWxsLCBtYXg6IG51bGwgfSB9LFxuICAgIHE6IHsgYXR0cnM6IHsgY2l0ZTogbnVsbCB9IH0sXG4gICAgcnA6IFMsXG4gICAgcnQ6IFMsXG4gICAgcnVieTogUyxcbiAgICBzYW1wOiBTLFxuICAgIHNjcmlwdDoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdHlwZTogW1widGV4dC9qYXZhc2NyaXB0XCJdLFxuICAgICAgICAgICAgc3JjOiBudWxsLFxuICAgICAgICAgICAgYXN5bmM6IFtcImFzeW5jXCJdLFxuICAgICAgICAgICAgZGVmZXI6IFtcImRlZmVyXCJdLFxuICAgICAgICAgICAgY2hhcnNldDogQ2hhcnNldHNcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2VjdGlvbjogUyxcbiAgICBzZWxlY3Q6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGZvcm06IG51bGwsIG5hbWU6IG51bGwsIHNpemU6IG51bGwsXG4gICAgICAgICAgICBhdXRvZm9jdXM6IFtcImF1dG9mb2N1c1wiXSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBbXCJkaXNhYmxlZFwiXSxcbiAgICAgICAgICAgIG11bHRpcGxlOiBbXCJtdWx0aXBsZVwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICBzbG90OiB7IGF0dHJzOiB7IG5hbWU6IG51bGwgfSB9LFxuICAgIHNtYWxsOiBTLFxuICAgIHNvdXJjZTogeyBhdHRyczogeyBzcmM6IG51bGwsIHR5cGU6IG51bGwsIG1lZGlhOiBudWxsIH0gfSxcbiAgICBzcGFuOiBTLFxuICAgIHN0cm9uZzogUyxcbiAgICBzdHlsZToge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdHlwZTogW1widGV4dC9jc3NcIl0sXG4gICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgIHNjb3BlZDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcbiAgICBzdWI6IFMsXG4gICAgc3VtbWFyeTogUyxcbiAgICBzdXA6IFMsXG4gICAgdGFibGU6IFMsXG4gICAgdGJvZHk6IFMsXG4gICAgdGQ6IHsgYXR0cnM6IHsgY29sc3BhbjogbnVsbCwgcm93c3BhbjogbnVsbCwgaGVhZGVyczogbnVsbCB9IH0sXG4gICAgdGVtcGxhdGU6IFMsXG4gICAgdGV4dGFyZWE6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGRpcm5hbWU6IG51bGwsIGZvcm06IG51bGwsIG1heGxlbmd0aDogbnVsbCwgbmFtZTogbnVsbCwgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICByb3dzOiBudWxsLCBjb2xzOiBudWxsLFxuICAgICAgICAgICAgYXV0b2ZvY3VzOiBbXCJhdXRvZm9jdXNcIl0sXG4gICAgICAgICAgICBkaXNhYmxlZDogW1wiZGlzYWJsZWRcIl0sXG4gICAgICAgICAgICByZWFkb25seTogW1wicmVhZG9ubHlcIl0sXG4gICAgICAgICAgICByZXF1aXJlZDogW1wicmVxdWlyZWRcIl0sXG4gICAgICAgICAgICB3cmFwOiBbXCJzb2Z0XCIsIFwiaGFyZFwiXVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0Zm9vdDogUyxcbiAgICB0aDogeyBhdHRyczogeyBjb2xzcGFuOiBudWxsLCByb3dzcGFuOiBudWxsLCBoZWFkZXJzOiBudWxsLCBzY29wZTogW1wicm93XCIsIFwiY29sXCIsIFwicm93Z3JvdXBcIiwgXCJjb2xncm91cFwiXSB9IH0sXG4gICAgdGhlYWQ6IFMsXG4gICAgdGltZTogeyBhdHRyczogeyBkYXRldGltZTogbnVsbCB9IH0sXG4gICAgdGl0bGU6IFMsXG4gICAgdHI6IFMsXG4gICAgdHJhY2s6IHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIHNyYzogbnVsbCwgbGFiZWw6IG51bGwsIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICBraW5kOiBbXCJzdWJ0aXRsZXNcIiwgXCJjYXB0aW9uc1wiLCBcImRlc2NyaXB0aW9uc1wiLCBcImNoYXB0ZXJzXCIsIFwibWV0YWRhdGFcIl0sXG4gICAgICAgICAgICBzcmNsYW5nOiBudWxsXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVsOiB7IGNoaWxkcmVuOiBbXCJsaVwiLCBcInNjcmlwdFwiLCBcInRlbXBsYXRlXCIsIFwidWxcIiwgXCJvbFwiXSB9LFxuICAgIHZhcjogUyxcbiAgICB2aWRlbzoge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgc3JjOiBudWxsLCBwb3N0ZXI6IG51bGwsIHdpZHRoOiBudWxsLCBoZWlnaHQ6IG51bGwsXG4gICAgICAgICAgICBjcm9zc29yaWdpbjogW1wiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCJdLFxuICAgICAgICAgICAgcHJlbG9hZDogW1wiYXV0b1wiLCBcIm1ldGFkYXRhXCIsIFwibm9uZVwiXSxcbiAgICAgICAgICAgIGF1dG9wbGF5OiBbXCJhdXRvcGxheVwiXSxcbiAgICAgICAgICAgIG1lZGlhZ3JvdXA6IFtcIm1vdmllXCJdLFxuICAgICAgICAgICAgbXV0ZWQ6IFtcIm11dGVkXCJdLFxuICAgICAgICAgICAgY29udHJvbHM6IFtcImNvbnRyb2xzXCJdXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHdicjogU1xufTtcbmNvbnN0IEdsb2JhbEF0dHJzID0ge1xuICAgIGFjY2Vzc2tleTogbnVsbCxcbiAgICBjbGFzczogbnVsbCxcbiAgICBjb250ZW50ZWRpdGFibGU6IEJvb2wsXG4gICAgY29udGV4dG1lbnU6IG51bGwsXG4gICAgZGlyOiBbXCJsdHJcIiwgXCJydGxcIiwgXCJhdXRvXCJdLFxuICAgIGRyYWdnYWJsZTogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwiYXV0b1wiXSxcbiAgICBkcm9wem9uZTogW1wiY29weVwiLCBcIm1vdmVcIiwgXCJsaW5rXCIsIFwic3RyaW5nOlwiLCBcImZpbGU6XCJdLFxuICAgIGhpZGRlbjogW1wiaGlkZGVuXCJdLFxuICAgIGlkOiBudWxsLFxuICAgIGluZXJ0OiBbXCJpbmVydFwiXSxcbiAgICBpdGVtaWQ6IG51bGwsXG4gICAgaXRlbXByb3A6IG51bGwsXG4gICAgaXRlbXJlZjogbnVsbCxcbiAgICBpdGVtc2NvcGU6IFtcIml0ZW1zY29wZVwiXSxcbiAgICBpdGVtdHlwZTogbnVsbCxcbiAgICBsYW5nOiBbXCJhclwiLCBcImJuXCIsIFwiZGVcIiwgXCJlbi1HQlwiLCBcImVuLVVTXCIsIFwiZXNcIiwgXCJmclwiLCBcImhpXCIsIFwiaWRcIiwgXCJqYVwiLCBcInBhXCIsIFwicHRcIiwgXCJydVwiLCBcInRyXCIsIFwiemhcIl0sXG4gICAgc3BlbGxjaGVjazogQm9vbCxcbiAgICBhdXRvY29ycmVjdDogQm9vbCxcbiAgICBhdXRvY2FwaXRhbGl6ZTogQm9vbCxcbiAgICBzdHlsZTogbnVsbCxcbiAgICB0YWJpbmRleDogbnVsbCxcbiAgICB0aXRsZTogbnVsbCxcbiAgICB0cmFuc2xhdGU6IFtcInllc1wiLCBcIm5vXCJdLFxuICAgIG9uY2xpY2s6IG51bGwsXG4gICAgcmVsOiBbXCJzdHlsZXNoZWV0XCIsIFwiYWx0ZXJuYXRlXCIsIFwiYXV0aG9yXCIsIFwiYm9va21hcmtcIiwgXCJoZWxwXCIsIFwibGljZW5zZVwiLCBcIm5leHRcIiwgXCJub2ZvbGxvd1wiLCBcIm5vcmVmZXJyZXJcIiwgXCJwcmVmZXRjaFwiLCBcInByZXZcIiwgXCJzZWFyY2hcIiwgXCJ0YWdcIl0sXG4gICAgcm9sZTogLypAX19QVVJFX18qL1wiYWxlcnQgYXBwbGljYXRpb24gYXJ0aWNsZSBiYW5uZXIgYnV0dG9uIGNlbGwgY2hlY2tib3ggY29tcGxlbWVudGFyeSBjb250ZW50aW5mbyBkaWFsb2cgZG9jdW1lbnQgZmVlZCBmaWd1cmUgZm9ybSBncmlkIGdyaWRjZWxsIGhlYWRpbmcgaW1nIGxpc3QgbGlzdGJveCBsaXN0aXRlbSBtYWluIG5hdmlnYXRpb24gcmVnaW9uIHJvdyByb3dncm91cCBzZWFyY2ggc3dpdGNoIHRhYiB0YWJsZSB0YWJwYW5lbCB0ZXh0Ym94IHRpbWVyXCIuc3BsaXQoXCIgXCIpLFxuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IG51bGwsXG4gICAgXCJhcmlhLWF0b21pY1wiOiBCb29sLFxuICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogW1wiaW5saW5lXCIsIFwibGlzdFwiLCBcImJvdGhcIiwgXCJub25lXCJdLFxuICAgIFwiYXJpYS1idXN5XCI6IEJvb2wsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IG51bGwsXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IG51bGwsXG4gICAgXCJhcmlhLWRpc2FibGVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLWRyb3BlZmZlY3RcIjogbnVsbCxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwidW5kZWZpbmVkXCJdLFxuICAgIFwiYXJpYS1mbG93dG9cIjogbnVsbCxcbiAgICBcImFyaWEtZ3JhYmJlZFwiOiBbXCJ0cnVlXCIsIFwiZmFsc2VcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IEJvb2wsXG4gICAgXCJhcmlhLWhpZGRlblwiOiBCb29sLFxuICAgIFwiYXJpYS1pbnZhbGlkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcImdyYW1tYXJcIiwgXCJzcGVsbGluZ1wiXSxcbiAgICBcImFyaWEtbGFiZWxcIjogbnVsbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBudWxsLFxuICAgIFwiYXJpYS1sZXZlbFwiOiBudWxsLFxuICAgIFwiYXJpYS1saXZlXCI6IFtcIm9mZlwiLCBcInBvbGl0ZVwiLCBcImFzc2VydGl2ZVwiXSxcbiAgICBcImFyaWEtbXVsdGlsaW5lXCI6IEJvb2wsXG4gICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiBCb29sLFxuICAgIFwiYXJpYS1vd25zXCI6IG51bGwsXG4gICAgXCJhcmlhLXBvc2luc2V0XCI6IG51bGwsXG4gICAgXCJhcmlhLXByZXNzZWRcIjogW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibWl4ZWRcIiwgXCJ1bmRlZmluZWRcIl0sXG4gICAgXCJhcmlhLXJlYWRvbmx5XCI6IEJvb2wsXG4gICAgXCJhcmlhLXJlbGV2YW50XCI6IG51bGwsXG4gICAgXCJhcmlhLXJlcXVpcmVkXCI6IEJvb2wsXG4gICAgXCJhcmlhLXNlbGVjdGVkXCI6IFtcInRydWVcIiwgXCJmYWxzZVwiLCBcInVuZGVmaW5lZFwiXSxcbiAgICBcImFyaWEtc2V0c2l6ZVwiOiBudWxsLFxuICAgIFwiYXJpYS1zb3J0XCI6IFtcImFzY2VuZGluZ1wiLCBcImRlc2NlbmRpbmdcIiwgXCJub25lXCIsIFwib3RoZXJcIl0sXG4gICAgXCJhcmlhLXZhbHVlbWF4XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbWluXCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVlbm93XCI6IG51bGwsXG4gICAgXCJhcmlhLXZhbHVldGV4dFwiOiBudWxsXG59O1xuY2xhc3MgU2NoZW1hIHtcbiAgICBjb25zdHJ1Y3RvcihleHRyYVRhZ3MsIGV4dHJhQXR0cnMpIHtcbiAgICAgICAgdGhpcy50YWdzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBUYWdzKSwgZXh0cmFUYWdzKTtcbiAgICAgICAgdGhpcy5nbG9iYWxBdHRycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgR2xvYmFsQXR0cnMpLCBleHRyYUF0dHJzKTtcbiAgICAgICAgdGhpcy5hbGxUYWdzID0gT2JqZWN0LmtleXModGhpcy50YWdzKTtcbiAgICAgICAgdGhpcy5nbG9iYWxBdHRyTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmdsb2JhbEF0dHJzKTtcbiAgICB9XG59XG5TY2hlbWEuZGVmYXVsdCA9IC8qQF9fUFVSRV9fKi9uZXcgU2NoZW1hO1xuZnVuY3Rpb24gZWxlbWVudE5hbWUoZG9jLCB0cmVlLCBtYXggPSBkb2MubGVuZ3RoKSB7XG4gICAgaWYgKCF0cmVlKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICBsZXQgdGFnID0gdHJlZS5maXJzdENoaWxkO1xuICAgIGxldCBuYW1lID0gdGFnICYmIHRhZy5nZXRDaGlsZChcIlRhZ05hbWVcIik7XG4gICAgcmV0dXJuIG5hbWUgPyBkb2Muc2xpY2VTdHJpbmcobmFtZS5mcm9tLCBNYXRoLm1pbihuYW1lLnRvLCBtYXgpKSA6IFwiXCI7XG59XG5mdW5jdGlvbiBmaW5kUGFyZW50RWxlbWVudCh0cmVlLCBza2lwID0gZmFsc2UpIHtcbiAgICBmb3IgKGxldCBjdXIgPSB0cmVlLnBhcmVudDsgY3VyOyBjdXIgPSBjdXIucGFyZW50KVxuICAgICAgICBpZiAoY3VyLm5hbWUgPT0gXCJFbGVtZW50XCIpIHtcbiAgICAgICAgICAgIGlmIChza2lwKVxuICAgICAgICAgICAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyO1xuICAgICAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBhbGxvd2VkQ2hpbGRyZW4oZG9jLCB0cmVlLCBzY2hlbWEpIHtcbiAgICBsZXQgcGFyZW50SW5mbyA9IHNjaGVtYS50YWdzW2VsZW1lbnROYW1lKGRvYywgZmluZFBhcmVudEVsZW1lbnQodHJlZSwgdHJ1ZSkpXTtcbiAgICByZXR1cm4gKHBhcmVudEluZm8gPT09IG51bGwgfHwgcGFyZW50SW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50SW5mby5jaGlsZHJlbikgfHwgc2NoZW1hLmFsbFRhZ3M7XG59XG5mdW5jdGlvbiBvcGVuVGFncyhkb2MsIHRyZWUpIHtcbiAgICBsZXQgb3BlbiA9IFtdO1xuICAgIGZvciAobGV0IHBhcmVudCA9IHRyZWU7IHBhcmVudCA9IGZpbmRQYXJlbnRFbGVtZW50KHBhcmVudCk7KSB7XG4gICAgICAgIGxldCB0YWdOYW1lID0gZWxlbWVudE5hbWUoZG9jLCBwYXJlbnQpO1xuICAgICAgICBpZiAodGFnTmFtZSAmJiBwYXJlbnQubGFzdENoaWxkLm5hbWUgPT0gXCJDbG9zZVRhZ1wiKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmICh0YWdOYW1lICYmIG9wZW4uaW5kZXhPZih0YWdOYW1lKSA8IDAgJiYgKHRyZWUubmFtZSA9PSBcIkVuZFRhZ1wiIHx8IHRyZWUuZnJvbSA+PSBwYXJlbnQuZmlyc3RDaGlsZC50bykpXG4gICAgICAgICAgICBvcGVuLnB1c2godGFnTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBvcGVuO1xufVxuY29uc3QgaWRlbnRpZmllciA9IC9eWzpcXC1cXC5cXHdcXHUwMGI3LVxcdWZmZmZdKiQvO1xuZnVuY3Rpb24gY29tcGxldGVUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICBsZXQgZW5kID0gL1xccyo+Ly50ZXN0KHN0YXRlLnNsaWNlRG9jKHRvLCB0byArIDUpKSA/IFwiXCIgOiBcIj5cIjtcbiAgICByZXR1cm4geyBmcm9tLCB0byxcbiAgICAgICAgb3B0aW9uczogYWxsb3dlZENoaWxkcmVuKHN0YXRlLmRvYywgdHJlZSwgc2NoZW1hKS5tYXAodGFnTmFtZSA9PiAoeyBsYWJlbDogdGFnTmFtZSwgdHlwZTogXCJ0eXBlXCIgfSkpLmNvbmNhdChvcGVuVGFncyhzdGF0ZS5kb2MsIHRyZWUpLm1hcCgodGFnLCBpKSA9PiAoeyBsYWJlbDogXCIvXCIgKyB0YWcsIGFwcGx5OiBcIi9cIiArIHRhZyArIGVuZCxcbiAgICAgICAgICAgIHR5cGU6IFwidHlwZVwiLCBib29zdDogOTkgLSBpIH0pKSksXG4gICAgICAgIHZhbGlkRm9yOiAvXlxcLz9bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC8gfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlQ2xvc2VUYWcoc3RhdGUsIHRyZWUsIGZyb20sIHRvKSB7XG4gICAgbGV0IGVuZCA9IC9cXHMqPi8udGVzdChzdGF0ZS5zbGljZURvYyh0bywgdG8gKyA1KSkgPyBcIlwiIDogXCI+XCI7XG4gICAgcmV0dXJuIHsgZnJvbSwgdG8sXG4gICAgICAgIG9wdGlvbnM6IG9wZW5UYWdzKHN0YXRlLmRvYywgdHJlZSkubWFwKCh0YWcsIGkpID0+ICh7IGxhYmVsOiB0YWcsIGFwcGx5OiB0YWcgKyBlbmQsIHR5cGU6IFwidHlwZVwiLCBib29zdDogOTkgLSBpIH0pKSxcbiAgICAgICAgdmFsaWRGb3I6IGlkZW50aWZpZXIgfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlU3RhcnRUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgcG9zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBbXSwgbGV2ZWwgPSAwO1xuICAgIGZvciAobGV0IHRhZ05hbWUgb2YgYWxsb3dlZENoaWxkcmVuKHN0YXRlLmRvYywgdHJlZSwgc2NoZW1hKSlcbiAgICAgICAgb3B0aW9ucy5wdXNoKHsgbGFiZWw6IFwiPFwiICsgdGFnTmFtZSwgdHlwZTogXCJ0eXBlXCIgfSk7XG4gICAgZm9yIChsZXQgb3BlbiBvZiBvcGVuVGFncyhzdGF0ZS5kb2MsIHRyZWUpKVxuICAgICAgICBvcHRpb25zLnB1c2goeyBsYWJlbDogXCI8L1wiICsgb3BlbiArIFwiPlwiLCB0eXBlOiBcInR5cGVcIiwgYm9vc3Q6IDk5IC0gbGV2ZWwrKyB9KTtcbiAgICByZXR1cm4geyBmcm9tOiBwb3MsIHRvOiBwb3MsIG9wdGlvbnMsIHZhbGlkRm9yOiAvXjxcXC8/WzpcXC1cXC5cXHdcXHUwMGI3LVxcdWZmZmZdKiQvIH07XG59XG5mdW5jdGlvbiBjb21wbGV0ZUF0dHJOYW1lKHN0YXRlLCBzY2hlbWEsIHRyZWUsIGZyb20sIHRvKSB7XG4gICAgbGV0IGVsdCA9IGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpLCBpbmZvID0gZWx0ID8gc2NoZW1hLnRhZ3NbZWxlbWVudE5hbWUoc3RhdGUuZG9jLCBlbHQpXSA6IG51bGw7XG4gICAgbGV0IG5hbWVzID0gKGluZm8gJiYgaW5mby5hdHRycyA/IE9iamVjdC5rZXlzKGluZm8uYXR0cnMpLmNvbmNhdChzY2hlbWEuZ2xvYmFsQXR0ck5hbWVzKSA6IHNjaGVtYS5nbG9iYWxBdHRyTmFtZXMpO1xuICAgIHJldHVybiB7IGZyb20sIHRvLFxuICAgICAgICBvcHRpb25zOiBuYW1lcy5tYXAoYXR0ck5hbWUgPT4gKHsgbGFiZWw6IGF0dHJOYW1lLCB0eXBlOiBcInByb3BlcnR5XCIgfSkpLFxuICAgICAgICB2YWxpZEZvcjogaWRlbnRpZmllciB9O1xufVxuZnVuY3Rpb24gY29tcGxldGVBdHRyVmFsdWUoc3RhdGUsIHNjaGVtYSwgdHJlZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IG5hbWVOb2RlID0gKF9hID0gdHJlZS5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRDaGlsZChcIkF0dHJpYnV0ZU5hbWVcIik7XG4gICAgbGV0IG9wdGlvbnMgPSBbXSwgdG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgaWYgKG5hbWVOb2RlKSB7XG4gICAgICAgIGxldCBhdHRyTmFtZSA9IHN0YXRlLnNsaWNlRG9jKG5hbWVOb2RlLmZyb20sIG5hbWVOb2RlLnRvKTtcbiAgICAgICAgbGV0IGF0dHJzID0gc2NoZW1hLmdsb2JhbEF0dHJzW2F0dHJOYW1lXTtcbiAgICAgICAgaWYgKCFhdHRycykge1xuICAgICAgICAgICAgbGV0IGVsdCA9IGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpLCBpbmZvID0gZWx0ID8gc2NoZW1hLnRhZ3NbZWxlbWVudE5hbWUoc3RhdGUuZG9jLCBlbHQpXSA6IG51bGw7XG4gICAgICAgICAgICBhdHRycyA9IChpbmZvID09PSBudWxsIHx8IGluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluZm8uYXR0cnMpICYmIGluZm8uYXR0cnNbYXR0ck5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdHRycykge1xuICAgICAgICAgICAgbGV0IGJhc2UgPSBzdGF0ZS5zbGljZURvYyhmcm9tLCB0bykudG9Mb3dlckNhc2UoKSwgcXVvdGVTdGFydCA9ICdcIicsIHF1b3RlRW5kID0gJ1wiJztcbiAgICAgICAgICAgIGlmICgvXlsnXCJdLy50ZXN0KGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSBiYXNlWzBdID09ICdcIicgPyAvXlteXCJdKiQvIDogL15bXiddKiQvO1xuICAgICAgICAgICAgICAgIHF1b3RlU3RhcnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHF1b3RlRW5kID0gc3RhdGUuc2xpY2VEb2ModG8sIHRvICsgMSkgPT0gYmFzZVswXSA/IFwiXCIgOiBiYXNlWzBdO1xuICAgICAgICAgICAgICAgIGJhc2UgPSBiYXNlLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGZyb20rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRva2VuID0gL15bXlxcczw+PSdcIl0qJC87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCB2YWx1ZSBvZiBhdHRycylcbiAgICAgICAgICAgICAgICBvcHRpb25zLnB1c2goeyBsYWJlbDogdmFsdWUsIGFwcGx5OiBxdW90ZVN0YXJ0ICsgdmFsdWUgKyBxdW90ZUVuZCwgdHlwZTogXCJjb25zdGFudFwiIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGZyb20sIHRvLCBvcHRpb25zLCB2YWxpZEZvcjogdG9rZW4gfTtcbn1cbmZ1bmN0aW9uIGh0bWxDb21wbGV0aW9uRm9yKHNjaGVtYSwgY29udGV4dCkge1xuICAgIGxldCB7IHN0YXRlLCBwb3MgfSA9IGNvbnRleHQsIGFyb3VuZCA9IHN5bnRheFRyZWUoc3RhdGUpLnJlc29sdmVJbm5lcihwb3MpLCB0cmVlID0gYXJvdW5kLnJlc29sdmUocG9zLCAtMSk7XG4gICAgZm9yIChsZXQgc2NhbiA9IHBvcywgYmVmb3JlOyBhcm91bmQgPT0gdHJlZSAmJiAoYmVmb3JlID0gdHJlZS5jaGlsZEJlZm9yZShzY2FuKSk7KSB7XG4gICAgICAgIGxldCBsYXN0ID0gYmVmb3JlLmxhc3RDaGlsZDtcbiAgICAgICAgaWYgKCFsYXN0IHx8ICFsYXN0LnR5cGUuaXNFcnJvciB8fCBsYXN0LmZyb20gPCBsYXN0LnRvKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGFyb3VuZCA9IHRyZWUgPSBiZWZvcmU7XG4gICAgICAgIHNjYW4gPSBsYXN0LmZyb207XG4gICAgfVxuICAgIGlmICh0cmVlLm5hbWUgPT0gXCJUYWdOYW1lXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyZWUucGFyZW50ICYmIC9DbG9zZVRhZyQvLnRlc3QodHJlZS5wYXJlbnQubmFtZSkgPyBjb21wbGV0ZUNsb3NlVGFnKHN0YXRlLCB0cmVlLCB0cmVlLmZyb20sIHBvcylcbiAgICAgICAgICAgIDogY29tcGxldGVUYWcoc3RhdGUsIHNjaGVtYSwgdHJlZSwgdHJlZS5mcm9tLCBwb3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0cmVlLm5hbWUgPT0gXCJTdGFydFRhZ1wiKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZVRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MsIHBvcyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRyZWUubmFtZSA9PSBcIlN0YXJ0Q2xvc2VUYWdcIiB8fCB0cmVlLm5hbWUgPT0gXCJJbmNvbXBsZXRlQ2xvc2VUYWdcIikge1xuICAgICAgICByZXR1cm4gY29tcGxldGVDbG9zZVRhZyhzdGF0ZSwgdHJlZSwgcG9zLCBwb3MpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250ZXh0LmV4cGxpY2l0ICYmICh0cmVlLm5hbWUgPT0gXCJPcGVuVGFnXCIgfHwgdHJlZS5uYW1lID09IFwiU2VsZkNsb3NpbmdUYWdcIikgfHwgdHJlZS5uYW1lID09IFwiQXR0cmlidXRlTmFtZVwiKSB7XG4gICAgICAgIHJldHVybiBjb21wbGV0ZUF0dHJOYW1lKHN0YXRlLCBzY2hlbWEsIHRyZWUsIHRyZWUubmFtZSA9PSBcIkF0dHJpYnV0ZU5hbWVcIiA/IHRyZWUuZnJvbSA6IHBvcywgcG9zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHJlZS5uYW1lID09IFwiSXNcIiB8fCB0cmVlLm5hbWUgPT0gXCJBdHRyaWJ1dGVWYWx1ZVwiIHx8IHRyZWUubmFtZSA9PSBcIlVucXVvdGVkQXR0cmlidXRlVmFsdWVcIikge1xuICAgICAgICByZXR1cm4gY29tcGxldGVBdHRyVmFsdWUoc3RhdGUsIHNjaGVtYSwgdHJlZSwgdHJlZS5uYW1lID09IFwiSXNcIiA/IHBvcyA6IHRyZWUuZnJvbSwgcG9zKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29udGV4dC5leHBsaWNpdCAmJiAoYXJvdW5kLm5hbWUgPT0gXCJFbGVtZW50XCIgfHwgYXJvdW5kLm5hbWUgPT0gXCJUZXh0XCIgfHwgYXJvdW5kLm5hbWUgPT0gXCJEb2N1bWVudFwiKSkge1xuICAgICAgICByZXR1cm4gY29tcGxldGVTdGFydFRhZyhzdGF0ZSwgc2NoZW1hLCB0cmVlLCBwb3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLyoqXG5IVE1MIHRhZyBjb21wbGV0aW9uLiBPcGVucyBhbmQgY2xvc2VzIHRhZ3MgYW5kIGF0dHJpYnV0ZXMgaW4gYVxuY29udGV4dC1hd2FyZSB3YXkuXG4qL1xuZnVuY3Rpb24gaHRtbENvbXBsZXRpb25Tb3VyY2UoY29udGV4dCkge1xuICAgIHJldHVybiBodG1sQ29tcGxldGlvbkZvcihTY2hlbWEuZGVmYXVsdCwgY29udGV4dCk7XG59XG4vKipcbkNyZWF0ZSBhIGNvbXBsZXRpb24gc291cmNlIGZvciBIVE1MIGV4dGVuZGVkIHdpdGggYWRkaXRpb25hbCB0YWdzXG5vciBhdHRyaWJ1dGVzLlxuKi9cbmZ1bmN0aW9uIGh0bWxDb21wbGV0aW9uU291cmNlV2l0aChjb25maWcpIHtcbiAgICBsZXQgeyBleHRyYVRhZ3MsIGV4dHJhR2xvYmFsQXR0cmlidXRlczogZXh0cmFBdHRycyB9ID0gY29uZmlnO1xuICAgIGxldCBzY2hlbWEgPSBleHRyYUF0dHJzIHx8IGV4dHJhVGFncyA/IG5ldyBTY2hlbWEoZXh0cmFUYWdzLCBleHRyYUF0dHJzKSA6IFNjaGVtYS5kZWZhdWx0O1xuICAgIHJldHVybiAoY29udGV4dCkgPT4gaHRtbENvbXBsZXRpb25Gb3Ioc2NoZW1hLCBjb250ZXh0KTtcbn1cblxuLyoqXG5BIGxhbmd1YWdlIHByb3ZpZGVyIGJhc2VkIG9uIHRoZSBbTGV6ZXIgSFRNTFxucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL2h0bWwpLCBleHRlbmRlZCB3aXRoIHRoZVxuSmF2YVNjcmlwdCBhbmQgQ1NTIHBhcnNlcnMgdG8gcGFyc2UgdGhlIGNvbnRlbnQgb2YgYDxzY3JpcHQ+YCBhbmRcbmA8c3R5bGU+YCB0YWdzLlxuKi9cbmNvbnN0IGh0bWxMYW5ndWFnZSA9IC8qQF9fUFVSRV9fKi9MUkxhbmd1YWdlLmRlZmluZSh7XG4gICAgbmFtZTogXCJodG1sXCIsXG4gICAgcGFyc2VyOiAvKkBfX1BVUkVfXyovcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovaW5kZW50Tm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBFbGVtZW50KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFmdGVyID0gL14oXFxzKikoPFxcLyk/Ly5leGVjKGNvbnRleHQudGV4dEFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQubm9kZS50byA8PSBjb250ZXh0LnBvcyArIGFmdGVyWzBdLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbnRpbnVlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmxpbmVJbmRlbnQoY29udGV4dC5ub2RlLmZyb20pICsgKGFmdGVyWzJdID8gMCA6IGNvbnRleHQudW5pdCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIk9wZW5UYWcgQ2xvc2VUYWcgU2VsZkNsb3NpbmdUYWdcIihjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbHVtbihjb250ZXh0Lm5vZGUuZnJvbSkgKyBjb250ZXh0LnVuaXQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBEb2N1bWVudChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnBvcyArIC9cXHMqLy5leGVjKGNvbnRleHQudGV4dEFmdGVyKVswXS5sZW5ndGggPCBjb250ZXh0Lm5vZGUudG8pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb250aW51ZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kRWx0ID0gbnVsbCwgY2xvc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGN1ciA9IGNvbnRleHQubm9kZTs7KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGN1ci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxhc3QgfHwgbGFzdC5uYW1lICE9IFwiRWxlbWVudFwiIHx8IGxhc3QudG8gIT0gY3VyLnRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kRWx0ID0gY3VyID0gbGFzdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5kRWx0ICYmICEoKGNsb3NlID0gZW5kRWx0Lmxhc3RDaGlsZCkgJiYgKGNsb3NlLm5hbWUgPT0gXCJDbG9zZVRhZ1wiIHx8IGNsb3NlLm5hbWUgPT0gXCJTZWxmQ2xvc2luZ1RhZ1wiKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5saW5lSW5kZW50KGVuZEVsdC5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovZm9sZE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgRWxlbWVudChub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaXJzdCA9IG5vZGUuZmlyc3RDaGlsZCwgbGFzdCA9IG5vZGUubGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0IHx8IGZpcnN0Lm5hbWUgIT0gXCJPcGVuVGFnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZnJvbTogZmlyc3QudG8sIHRvOiBsYXN0Lm5hbWUgPT0gXCJDbG9zZVRhZ1wiID8gbGFzdC5mcm9tIDogbm9kZS50byB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIF0sXG4gICAgICAgIHdyYXA6IC8qQF9fUFVSRV9fKi9jb25maWd1cmVOZXN0aW5nKFtcbiAgICAgICAgICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0XCIgfHwgYXR0cnMubGFuZyA9PSBcInRzXCIsXG4gICAgICAgICAgICAgICAgcGFyc2VyOiB0eXBlc2NyaXB0TGFuZ3VhZ2UucGFyc2VyIH0sXG4gICAgICAgICAgICB7IHRhZzogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgICBhdHRyczogYXR0cnMgPT4gYXR0cnMudHlwZSA9PSBcInRleHQvanN4XCIsXG4gICAgICAgICAgICAgICAgcGFyc2VyOiBqc3hMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICAgICAgICAgIHsgdGFnOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgIGF0dHJzOiBhdHRycyA9PiBhdHRycy50eXBlID09IFwidGV4dC90eXBlc2NyaXB0LWpzeFwiLFxuICAgICAgICAgICAgICAgIHBhcnNlcjogdHN4TGFuZ3VhZ2UucGFyc2VyIH0sXG4gICAgICAgICAgICB7IHRhZzogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgICBhdHRycyhhdHRycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWF0dHJzLnR5cGUgfHwgL14oPzp0ZXh0fGFwcGxpY2F0aW9uKVxcLyg/OngtKT8oPzpqYXZhfGVjbWEpc2NyaXB0JHxebW9kdWxlJHxeJC9pLnRlc3QoYXR0cnMudHlwZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJzZXI6IGphdmFzY3JpcHRMYW5ndWFnZS5wYXJzZXIgfSxcbiAgICAgICAgICAgIHsgdGFnOiBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgYXR0cnMoYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghYXR0cnMubGFuZyB8fCBhdHRycy5sYW5nID09IFwiY3NzXCIpICYmICghYXR0cnMudHlwZSB8fCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2kudGVzdChhdHRycy50eXBlKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJzZXI6IGNzc0xhbmd1YWdlLnBhcnNlciB9XG4gICAgICAgIF0pXG4gICAgfSksXG4gICAgbGFuZ3VhZ2VEYXRhOiB7XG4gICAgICAgIGNvbW1lbnRUb2tlbnM6IHsgYmxvY2s6IHsgb3BlbjogXCI8IS0tXCIsIGNsb3NlOiBcIi0tPlwiIH0gfSxcbiAgICAgICAgaW5kZW50T25JbnB1dDogL15cXHMqPFxcL1xcdytcXFckLyxcbiAgICAgICAgd29yZENoYXJzOiBcIi0uX1wiXG4gICAgfVxufSk7XG4vKipcbkxhbmd1YWdlIHN1cHBvcnQgZm9yIEhUTUwsIGluY2x1ZGluZ1xuW2BodG1sQ29tcGxldGlvbmBdKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNi9kb2NzL3JlZi8jbGFuZy1odG1sLmh0bWxDb21wbGV0aW9uKSBhbmQgSmF2YVNjcmlwdCBhbmRcbkNTUyBzdXBwb3J0IGV4dGVuc2lvbnMuXG4qL1xuZnVuY3Rpb24gaHRtbChjb25maWcgPSB7fSkge1xuICAgIGxldCBsYW5nID0gaHRtbExhbmd1YWdlO1xuICAgIGlmIChjb25maWcubWF0Y2hDbG9zaW5nVGFncyA9PT0gZmFsc2UpXG4gICAgICAgIGxhbmcgPSBsYW5nLmNvbmZpZ3VyZSh7IGRpYWxlY3Q6IFwibm9NYXRjaFwiIH0pO1xuICAgIGlmIChjb25maWcuc2VsZkNsb3NpbmdUYWdzID09PSB0cnVlKVxuICAgICAgICBsYW5nID0gbGFuZy5jb25maWd1cmUoeyBkaWFsZWN0OiBcInNlbGZDbG9zaW5nXCIgfSk7XG4gICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN1cHBvcnQobGFuZywgW1xuICAgICAgICBodG1sTGFuZ3VhZ2UuZGF0YS5vZih7IGF1dG9jb21wbGV0ZTogaHRtbENvbXBsZXRpb25Tb3VyY2VXaXRoKGNvbmZpZykgfSksXG4gICAgICAgIGNvbmZpZy5hdXRvQ2xvc2VUYWdzICE9PSBmYWxzZSA/IGF1dG9DbG9zZVRhZ3MgOiBbXSxcbiAgICAgICAgamF2YXNjcmlwdCgpLnN1cHBvcnQsXG4gICAgICAgIGNzcygpLnN1cHBvcnRcbiAgICBdKTtcbn1cbi8qKlxuRXh0ZW5zaW9uIHRoYXQgd2lsbCBhdXRvbWF0aWNhbGx5IGluc2VydCBjbG9zZSB0YWdzIHdoZW4gYSBgPmAgb3JcbmAvYCBpcyB0eXBlZC5cbiovXG5jb25zdCBhdXRvQ2xvc2VUYWdzID0gLypAX19QVVJFX18qL0VkaXRvclZpZXcuaW5wdXRIYW5kbGVyLm9mKCh2aWV3LCBmcm9tLCB0bywgdGV4dCkgPT4ge1xuICAgIGlmICh2aWV3LmNvbXBvc2luZyB8fCB2aWV3LnN0YXRlLnJlYWRPbmx5IHx8IGZyb20gIT0gdG8gfHwgKHRleHQgIT0gXCI+XCIgJiYgdGV4dCAhPSBcIi9cIikgfHxcbiAgICAgICAgIWh0bWxMYW5ndWFnZS5pc0FjdGl2ZUF0KHZpZXcuc3RhdGUsIGZyb20sIC0xKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3O1xuICAgIGxldCBjaGFuZ2VzID0gc3RhdGUuY2hhbmdlQnlSYW5nZShyYW5nZSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBsZXQgeyBoZWFkIH0gPSByYW5nZSwgYXJvdW5kID0gc3ludGF4VHJlZShzdGF0ZSkucmVzb2x2ZUlubmVyKGhlYWQsIC0xKSwgbmFtZTtcbiAgICAgICAgaWYgKGFyb3VuZC5uYW1lID09IFwiVGFnTmFtZVwiIHx8IGFyb3VuZC5uYW1lID09IFwiU3RhcnRUYWdcIilcbiAgICAgICAgICAgIGFyb3VuZCA9IGFyb3VuZC5wYXJlbnQ7XG4gICAgICAgIGlmICh0ZXh0ID09IFwiPlwiICYmIGFyb3VuZC5uYW1lID09IFwiT3BlblRhZ1wiKSB7XG4gICAgICAgICAgICBpZiAoKChfYiA9IChfYSA9IGFyb3VuZC5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sYXN0Q2hpbGQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5uYW1lKSAhPSBcIkNsb3NlVGFnXCIgJiYgKG5hbWUgPSBlbGVtZW50TmFtZShzdGF0ZS5kb2MsIGFyb3VuZC5wYXJlbnQsIGhlYWQpKSkge1xuICAgICAgICAgICAgICAgIGxldCBoYXNSaWdodEJyYWNrZXQgPSB2aWV3LnN0YXRlLmRvYy5zbGljZVN0cmluZyhoZWFkLCBoZWFkICsgMSkgPT09IFwiPlwiO1xuICAgICAgICAgICAgICAgIGxldCBpbnNlcnQgPSBgJHtoYXNSaWdodEJyYWNrZXQgPyBcIlwiIDogXCI+XCJ9PC8ke25hbWV9PmA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2U6IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoaGVhZCArIDEpLCBjaGFuZ2VzOiB7IGZyb206IGhlYWQgKyAoaGFzUmlnaHRCcmFja2V0ID8gMSA6IDApLCBpbnNlcnQgfSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRleHQgPT0gXCIvXCIgJiYgYXJvdW5kLm5hbWUgPT0gXCJPcGVuVGFnXCIpIHtcbiAgICAgICAgICAgIGxldCBlbXB0eSA9IGFyb3VuZC5wYXJlbnQsIGJhc2UgPSBlbXB0eSA9PT0gbnVsbCB8fCBlbXB0eSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZW1wdHkucGFyZW50O1xuICAgICAgICAgICAgaWYgKGVtcHR5LmZyb20gPT0gaGVhZCAtIDEgJiYgKChfYyA9IGJhc2UubGFzdENoaWxkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubmFtZSkgIT0gXCJDbG9zZVRhZ1wiICYmIChuYW1lID0gZWxlbWVudE5hbWUoc3RhdGUuZG9jLCBiYXNlLCBoZWFkKSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFzUmlnaHRCcmFja2V0ID0gdmlldy5zdGF0ZS5kb2Muc2xpY2VTdHJpbmcoaGVhZCwgaGVhZCArIDEpID09PSBcIj5cIjtcbiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0ID0gYC8ke25hbWV9JHtoYXNSaWdodEJyYWNrZXQgPyBcIlwiIDogXCI+XCJ9YDtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gaGVhZCArIGluc2VydC5sZW5ndGggKyAoaGFzUmlnaHRCcmFja2V0ID8gMSA6IDApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJhbmdlOiBFZGl0b3JTZWxlY3Rpb24uY3Vyc29yKHBvcyksIGNoYW5nZXM6IHsgZnJvbTogaGVhZCwgaW5zZXJ0IH0gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByYW5nZSB9O1xuICAgIH0pO1xuICAgIGlmIChjaGFuZ2VzLmNoYW5nZXMuZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2aWV3LmRpc3BhdGNoKGNoYW5nZXMsIHsgdXNlckV2ZW50OiBcImlucHV0LnR5cGVcIiwgc2Nyb2xsSW50b1ZpZXc6IHRydWUgfSk7XG4gICAgcmV0dXJuIHRydWU7XG59KTtcblxuZXhwb3J0IHsgYXV0b0Nsb3NlVGFncywgaHRtbCwgaHRtbENvbXBsZXRpb25Tb3VyY2UsIGh0bWxDb21wbGV0aW9uU291cmNlV2l0aCwgaHRtbExhbmd1YWdlIH07XG4iLCAiaW1wb3J0IHsgcGFyc2VyIH0gZnJvbSAnQGxlemVyL3BocCc7XG5pbXBvcnQgeyBwYXJzZU1peGVkIH0gZnJvbSAnQGxlemVyL2NvbW1vbic7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZy1odG1sJztcbmltcG9ydCB7IExSTGFuZ3VhZ2UsIGluZGVudE5vZGVQcm9wLCBjb250aW51ZWRJbmRlbnQsIGRlbGltaXRlZEluZGVudCwgZm9sZE5vZGVQcm9wLCBmb2xkSW5zaWRlLCBMYW5ndWFnZVN1cHBvcnQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIFBIUFxucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL3BocCksIGV4dGVuZGVkIHdpdGhcbmhpZ2hsaWdodGluZyBhbmQgaW5kZW50YXRpb24gaW5mb3JtYXRpb24uXG4qL1xuY29uc3QgcGhwTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwicGhwXCIsXG4gICAgcGFyc2VyOiAvKkBfX1BVUkVfXyovcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovaW5kZW50Tm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBJZlN0YXRlbWVudDogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqKHt8ZWxzZVxcYnxlbHNlaWZcXGJ8ZW5kaWZcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBUcnlTdGF0ZW1lbnQ6IC8qQF9fUFVSRV9fKi9jb250aW51ZWRJbmRlbnQoeyBleGNlcHQ6IC9eXFxzKih7fGNhdGNoXFxifGZpbmFsbHlcXGIpLyB9KSxcbiAgICAgICAgICAgICAgICBTd2l0Y2hCb2R5OiBjb250ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFmdGVyID0gY29udGV4dC50ZXh0QWZ0ZXIsIGNsb3NlZCA9IC9eXFxzKlxcfS8udGVzdChhZnRlciksIGlzQ2FzZSA9IC9eXFxzKihjYXNlfGRlZmF1bHQpXFxiLy50ZXN0KGFmdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuYmFzZUluZGVudCArIChjbG9zZWQgPyAwIDogaXNDYXNlID8gMSA6IDIpICogY29udGV4dC51bml0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgQ29sb25CbG9jazogY3ggPT4gY3guYmFzZUluZGVudCArIGN4LnVuaXQsXG4gICAgICAgICAgICAgICAgXCJCbG9jayBFbnVtQm9keSBEZWNsYXJhdGlvbkxpc3RcIjogLypAX19QVVJFX18qL2RlbGltaXRlZEluZGVudCh7IGNsb3Npbmc6IFwifVwiIH0pLFxuICAgICAgICAgICAgICAgIEFycm93RnVuY3Rpb246IGN4ID0+IGN4LmJhc2VJbmRlbnQgKyBjeC51bml0LFxuICAgICAgICAgICAgICAgIFwiU3RyaW5nIEJsb2NrQ29tbWVudFwiOiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgICAgIFN0YXRlbWVudDogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL14oe3xlbmQoZm9yfGZvcmVhY2h8c3dpdGNofHdoaWxlKVxcYikvIH0pXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBcIkJsb2NrIEVudW1Cb2R5IERlY2xhcmF0aW9uTGlzdCBTd2l0Y2hCb2R5IEFycmF5RXhwcmVzc2lvbiBWYWx1ZUxpc3RcIjogZm9sZEluc2lkZSxcbiAgICAgICAgICAgICAgICBDb2xvbkJsb2NrKHRyZWUpIHsgcmV0dXJuIHsgZnJvbTogdHJlZS5mcm9tICsgMSwgdG86IHRyZWUudG8gfTsgfSxcbiAgICAgICAgICAgICAgICBCbG9ja0NvbW1lbnQodHJlZSkgeyByZXR1cm4geyBmcm9tOiB0cmVlLmZyb20gKyAyLCB0bzogdHJlZS50byAtIDIgfTsgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICBjb21tZW50VG9rZW5zOiB7IGJsb2NrOiB7IG9wZW46IFwiLypcIiwgY2xvc2U6IFwiKi9cIiB9LCBsaW5lOiBcIi8vXCIgfSxcbiAgICAgICAgaW5kZW50T25JbnB1dDogL15cXHMqKD86Y2FzZSB8ZGVmYXVsdDp8ZW5kKD86aWZ8Zm9yKD86ZWFjaCk/fHN3aXRjaHx3aGlsZSl8ZWxzZSg/OmlmKT98XFx7fFxcfSkkLyxcbiAgICAgICAgd29yZENoYXJzOiBcIiRcIixcbiAgICAgICAgY2xvc2VCcmFja2V0czogeyBzdHJpbmdQcmVmaXhlczogW1wiYlwiLCBcIkJcIl0gfVxuICAgIH1cbn0pO1xuLyoqXG5QSFAgbGFuZ3VhZ2Ugc3VwcG9ydC5cbiovXG5mdW5jdGlvbiBwaHAoY29uZmlnID0ge30pIHtcbiAgICBsZXQgc3VwcG9ydCA9IFtdLCBiYXNlO1xuICAgIGlmIChjb25maWcuYmFzZUxhbmd1YWdlID09PSBudWxsKSA7XG4gICAgZWxzZSBpZiAoY29uZmlnLmJhc2VMYW5ndWFnZSkge1xuICAgICAgICBiYXNlID0gY29uZmlnLmJhc2VMYW5ndWFnZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBodG1sU3VwcG9ydCA9IGh0bWwoeyBtYXRjaENsb3NpbmdUYWdzOiBmYWxzZSB9KTtcbiAgICAgICAgc3VwcG9ydC5wdXNoKGh0bWxTdXBwb3J0LnN1cHBvcnQpO1xuICAgICAgICBiYXNlID0gaHRtbFN1cHBvcnQubGFuZ3VhZ2U7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KHBocExhbmd1YWdlLmNvbmZpZ3VyZSh7XG4gICAgICAgIHdyYXA6IGJhc2UgJiYgcGFyc2VNaXhlZChub2RlID0+IHtcbiAgICAgICAgICAgIGlmICghbm9kZS50eXBlLmlzVG9wKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXJzZXI6IGJhc2UucGFyc2VyLFxuICAgICAgICAgICAgICAgIG92ZXJsYXk6IG5vZGUgPT4gbm9kZS5uYW1lID09IFwiVGV4dFwiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgdG9wOiBjb25maWcucGxhaW4gPyBcIlByb2dyYW1cIiA6IFwiVGVtcGxhdGVcIlxuICAgIH0pLCBzdXBwb3J0KTtcbn1cblxuZXhwb3J0IHsgcGhwLCBwaHBMYW5ndWFnZSB9O1xuIiwgImltcG9ydCB7IExSUGFyc2VyIH0gZnJvbSAnQGxlemVyL2xyJztcbmltcG9ydCB7IHN0eWxlVGFncywgdGFncyB9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG5jb25zdCBqc29uSGlnaGxpZ2h0aW5nID0gc3R5bGVUYWdzKHtcbiAgU3RyaW5nOiB0YWdzLnN0cmluZyxcbiAgTnVtYmVyOiB0YWdzLm51bWJlcixcbiAgXCJUcnVlIEZhbHNlXCI6IHRhZ3MuYm9vbCxcbiAgUHJvcGVydHlOYW1lOiB0YWdzLnByb3BlcnR5TmFtZSxcbiAgTnVsbDogdGFncy5udWxsLFxuICBcIixcIjogdGFncy5zZXBhcmF0b3IsXG4gIFwiWyBdXCI6IHRhZ3Muc3F1YXJlQnJhY2tldCxcbiAgXCJ7IH1cIjogdGFncy5icmFjZVxufSk7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgcGFyc2VyID0gTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIiRiT1ZRUE9PT09RTycjQ2InI0NiT25RUE8nI0NlT3ZRUE8nI0NqT09RTycjQ3AnI0NwUU9RUE9PT09RTycjQ2cnI0NnT31RUE8nI0NmTyFTUVBPJyNDck9PUU8sNTlQLDU5UE8hW1FQTyw1OVBPIWFRUE8nI0N1T09RTyw1OVUsNTlVTyFpUVBPLDU5VU9WUVBPLDU5UU9xUVBPJyNDa08hblFQTyw1OV5PT1FPMUcuazFHLmtPVlFQTycjQ2xPIXZRUE8sNTlhT09RTzFHLnAxRy5wT09RTzFHLmwxRy5sT09RTyw1OVYsNTlWT09RTy1FNmktRTZpT09RTyw1OVcsNTlXT09RTy1FNmotRTZqXCIsXG4gIHN0YXRlRGF0YTogXCIjT35PY09Tfk9RU09SU09TU09UU09XUU9dUk9lUE9+T1ZYT2VVT35PW1tPflBWT2deT35PaF9PVmZYfk9WYU9+T2hiT1tpWH5PW2RPfk9oX09WZmF+T2hiT1tpYX5PXCIsXG4gIGdvdG86IFwiIWtqUFBQUFBQa1BQa3F3UFBreyFSUFBQIVhQIWVQUCFoWFNPUl5iUVdRUmZfVFZRX1FgV1JnYFFjWlJpY1FUT1FaUlFlXlJoYlJZUVJdUlwiLFxuICBub2RlTmFtZXM6IFwiXHUyNkEwIEpzb25UZXh0IFRydWUgRmFsc2UgTnVsbCBOdW1iZXIgU3RyaW5nIH0geyBPYmplY3QgUHJvcGVydHkgUHJvcGVydHlOYW1lIF0gWyBBcnJheVwiLFxuICBtYXhUZXJtOiAyNSxcbiAgbm9kZVByb3BzOiBbXG4gICAgW1wib3BlbmVkQnlcIiwgNyxcIntcIiwxMixcIltcIl0sXG4gICAgW1wiY2xvc2VkQnlcIiwgOCxcIn1cIiwxMyxcIl1cIl1cbiAgXSxcbiAgcHJvcFNvdXJjZXM6IFtqc29uSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMF0sXG4gIHJlcGVhdE5vZGVDb3VudDogMixcbiAgdG9rZW5EYXRhOiBcIihwflJhWFkhV1laIVddXiFXcHEhV3JzIV18fSRpfSFPJG4hUSFSJHchUiFbJlYhWyFdJmghfSNPJm0jUCNRJnIjWSNaJncjYiNjJ2YjaCNpJ30jbyNwKGYjcSNyKGt+IV1PY35+IWBVcHEhXXFyIV1ycyFycyNPIV0jTyNQIXcjUH4hXX4hd09lfn4helhycyFdIVAhUSFdI08jUCFdI1UjViFdI1kjWiFdI2IjYyFdI2YjZyFdI2gjaSFdI2kjaiNnfiNqUiFRIVsjcyFjIWkjcyNUI1ojc34jdlIhUSFbJFAhYyFpJFAjVCNaJFB+JFNSIVEhWyRdIWMhaSRdI1QjWiRdfiRgUiFRIVshXSFjIWkhXSNUI1ohXX4kbk9ofn4kcVEhUSFSJHchUiFbJlZ+JHxSVH4hTyFQJVYhZyFoJWsjWCNZJWt+JVlQIVEhWyVdfiViUlR+IVEhWyVdIWchaCVrI1gjWSVrfiVuUnt8JXd9IU8ldyFRIVslfX4lelAhUSFbJX1+JlNQVH4hUSFbJX1+JltTVH4hTyFQJVYhUSFbJlYhZyFoJWsjWCNZJWt+Jm1PZ35+JnJPXX5+JndPW35+JnpQI1QjVSZ9fidRUCNgI2EnVH4nV1AjZyNoJ1p+J15QI1gjWSdhfidmT1J+fidpUCNpI2onbH4nb1AjYCNhJ3J+J3VQI2AjYSd4fid9T1N+fihRUCNmI2coVH4oV1AjaSNqKFp+KF5QI1gjWShhfihmT1F+fihrT1d+fihwT1Z+XCIsXG4gIHRva2VuaXplcnM6IFswXSxcbiAgdG9wUnVsZXM6IHtcIkpzb25UZXh0XCI6WzAsMV19LFxuICB0b2tlblByZWM6IDBcbn0pO1xuXG5leHBvcnQgeyBwYXJzZXIgfTtcbiIsICJpbXBvcnQgeyBwYXJzZXIgfSBmcm9tICdAbGV6ZXIvanNvbic7XG5pbXBvcnQgeyBMUkxhbmd1YWdlLCBpbmRlbnROb2RlUHJvcCwgY29udGludWVkSW5kZW50LCBmb2xkTm9kZVByb3AsIGZvbGRJbnNpZGUsIExhbmd1YWdlU3VwcG9ydCB9IGZyb20gJ0Bjb2RlbWlycm9yL2xhbmd1YWdlJztcblxuLyoqXG5DYWxsc1xuW2BKU09OLnBhcnNlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvSlNPTi9wYXJzZSlcbm9uIHRoZSBkb2N1bWVudCBhbmQsIGlmIHRoYXQgdGhyb3dzIGFuIGVycm9yLCByZXBvcnRzIGl0IGFzIGFcbnNpbmdsZSBkaWFnbm9zdGljLlxuKi9cbmNvbnN0IGpzb25QYXJzZUxpbnRlciA9ICgpID0+ICh2aWV3KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgSlNPTi5wYXJzZSh2aWV3LnN0YXRlLmRvYy50b1N0cmluZygpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSlcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIGNvbnN0IHBvcyA9IGdldEVycm9yUG9zaXRpb24oZSwgdmlldy5zdGF0ZS5kb2MpO1xuICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICBmcm9tOiBwb3MsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5OiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIHRvOiBwb3NcbiAgICAgICAgICAgIH1dO1xuICAgIH1cbiAgICByZXR1cm4gW107XG59O1xuZnVuY3Rpb24gZ2V0RXJyb3JQb3NpdGlvbihlcnJvciwgZG9jKSB7XG4gICAgbGV0IG07XG4gICAgaWYgKG0gPSBlcnJvci5tZXNzYWdlLm1hdGNoKC9hdCBwb3NpdGlvbiAoXFxkKykvKSlcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKCttWzFdLCBkb2MubGVuZ3RoKTtcbiAgICBpZiAobSA9IGVycm9yLm1lc3NhZ2UubWF0Y2goL2F0IGxpbmUgKFxcZCspIGNvbHVtbiAoXFxkKykvKSlcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGRvYy5saW5lKCttWzFdKS5mcm9tICsgKCttWzJdKSAtIDEsIGRvYy5sZW5ndGgpO1xuICAgIHJldHVybiAwO1xufVxuXG4vKipcbkEgbGFuZ3VhZ2UgcHJvdmlkZXIgdGhhdCBwcm92aWRlcyBKU09OIHBhcnNpbmcuXG4qL1xuY29uc3QganNvbkxhbmd1YWdlID0gLypAX19QVVJFX18qL0xSTGFuZ3VhZ2UuZGVmaW5lKHtcbiAgICBuYW1lOiBcImpzb25cIixcbiAgICBwYXJzZXI6IC8qQF9fUFVSRV9fKi9wYXJzZXIuY29uZmlndXJlKHtcbiAgICAgICAgcHJvcHM6IFtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgICAgIE9iamVjdDogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqXFx9LyB9KSxcbiAgICAgICAgICAgICAgICBBcnJheTogLypAX19QVVJFX18qL2NvbnRpbnVlZEluZGVudCh7IGV4Y2VwdDogL15cXHMqXFxdLyB9KVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovZm9sZE5vZGVQcm9wLmFkZCh7XG4gICAgICAgICAgICAgICAgXCJPYmplY3QgQXJyYXlcIjogZm9sZEluc2lkZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICBjbG9zZUJyYWNrZXRzOiB7IGJyYWNrZXRzOiBbXCJbXCIsIFwie1wiLCAnXCInXSB9LFxuICAgICAgICBpbmRlbnRPbklucHV0OiAvXlxccypbXFx9XFxdXSQvXG4gICAgfVxufSk7XG4vKipcbkpTT04gbGFuZ3VhZ2Ugc3VwcG9ydC5cbiovXG5mdW5jdGlvbiBqc29uKCkge1xuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KGpzb25MYW5ndWFnZSk7XG59XG5cbmV4cG9ydCB7IGpzb24sIGpzb25MYW5ndWFnZSwganNvblBhcnNlTGludGVyIH07XG4iLCAiaW1wb3J0IHsgQ29udGV4dFRyYWNrZXIsIEV4dGVybmFsVG9rZW5pemVyLCBMUlBhcnNlciB9IGZyb20gJ0BsZXplci9scic7XG5pbXBvcnQgeyBzdHlsZVRhZ3MsIHRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCBTdGFydFRhZyA9IDEsXG4gIFN0YXJ0Q2xvc2VUYWcgPSAyLFxuICBNaXNzaW5nQ2xvc2VUYWcgPSAzLFxuICBtaXNtYXRjaGVkU3RhcnRDbG9zZVRhZyA9IDQsXG4gIGluY29tcGxldGVTdGFydENsb3NlVGFnID0gNSxcbiAgY29tbWVudENvbnRlbnQkMSA9IDM1LFxuICBwaUNvbnRlbnQkMSA9IDM2LFxuICBjZGF0YUNvbnRlbnQkMSA9IDM3LFxuICBFbGVtZW50ID0gMTEsXG4gIE9wZW5UYWcgPSAxMztcblxuLyogSGFuZC13cml0dGVuIHRva2VuaXplciBmb3IgWE1MIHRhZyBtYXRjaGluZy4gKi9cblxuZnVuY3Rpb24gbmFtZUNoYXIoY2gpIHtcbiAgcmV0dXJuIGNoID09IDQ1IHx8IGNoID09IDQ2IHx8IGNoID09IDU4IHx8IGNoID49IDY1ICYmIGNoIDw9IDkwIHx8IGNoID09IDk1IHx8IGNoID49IDk3ICYmIGNoIDw9IDEyMiB8fCBjaCA+PSAxNjFcbn1cblxuZnVuY3Rpb24gaXNTcGFjZShjaCkge1xuICByZXR1cm4gY2ggPT0gOSB8fCBjaCA9PSAxMCB8fCBjaCA9PSAxMyB8fCBjaCA9PSAzMlxufVxuXG5sZXQgY2FjaGVkTmFtZSA9IG51bGwsIGNhY2hlZElucHV0ID0gbnVsbCwgY2FjaGVkUG9zID0gMDtcbmZ1bmN0aW9uIHRhZ05hbWVBZnRlcihpbnB1dCwgb2Zmc2V0KSB7XG4gIGxldCBwb3MgPSBpbnB1dC5wb3MgKyBvZmZzZXQ7XG4gIGlmIChjYWNoZWRJbnB1dCA9PSBpbnB1dCAmJiBjYWNoZWRQb3MgPT0gcG9zKSByZXR1cm4gY2FjaGVkTmFtZVxuICB3aGlsZSAoaXNTcGFjZShpbnB1dC5wZWVrKG9mZnNldCkpKSBvZmZzZXQrKztcbiAgbGV0IG5hbWUgPSBcIlwiO1xuICBmb3IgKDs7KSB7XG4gICAgbGV0IG5leHQgPSBpbnB1dC5wZWVrKG9mZnNldCk7XG4gICAgaWYgKCFuYW1lQ2hhcihuZXh0KSkgYnJlYWtcbiAgICBuYW1lICs9IFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCk7XG4gICAgb2Zmc2V0Kys7XG4gIH1cbiAgY2FjaGVkSW5wdXQgPSBpbnB1dDsgY2FjaGVkUG9zID0gcG9zO1xuICByZXR1cm4gY2FjaGVkTmFtZSA9IG5hbWUgfHwgbnVsbFxufVxuXG5mdW5jdGlvbiBFbGVtZW50Q29udGV4dChuYW1lLCBwYXJlbnQpIHtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuaGFzaCA9IHBhcmVudCA/IHBhcmVudC5oYXNoIDogMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB0aGlzLmhhc2ggKz0gKHRoaXMuaGFzaCA8PCA0KSArIG5hbWUuY2hhckNvZGVBdChpKSArIChuYW1lLmNoYXJDb2RlQXQoaSkgPDwgOCk7XG59XG5cbmNvbnN0IGVsZW1lbnRDb250ZXh0ID0gbmV3IENvbnRleHRUcmFja2VyKHtcbiAgc3RhcnQ6IG51bGwsXG4gIHNoaWZ0KGNvbnRleHQsIHRlcm0sIHN0YWNrLCBpbnB1dCkge1xuICAgIHJldHVybiB0ZXJtID09IFN0YXJ0VGFnID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0XG4gIH0sXG4gIHJlZHVjZShjb250ZXh0LCB0ZXJtKSB7XG4gICAgcmV0dXJuIHRlcm0gPT0gRWxlbWVudCAmJiBjb250ZXh0ID8gY29udGV4dC5wYXJlbnQgOiBjb250ZXh0XG4gIH0sXG4gIHJldXNlKGNvbnRleHQsIG5vZGUsIF9zdGFjaywgaW5wdXQpIHtcbiAgICBsZXQgdHlwZSA9IG5vZGUudHlwZS5pZDtcbiAgICByZXR1cm4gdHlwZSA9PSBTdGFydFRhZyB8fCB0eXBlID09IE9wZW5UYWdcbiAgICAgID8gbmV3IEVsZW1lbnRDb250ZXh0KHRhZ05hbWVBZnRlcihpbnB1dCwgMSkgfHwgXCJcIiwgY29udGV4dCkgOiBjb250ZXh0XG4gIH0sXG4gIGhhc2goY29udGV4dCkgeyByZXR1cm4gY29udGV4dCA/IGNvbnRleHQuaGFzaCA6IDAgfSxcbiAgc3RyaWN0OiBmYWxzZVxufSk7XG5cbmNvbnN0IHN0YXJ0VGFnID0gbmV3IEV4dGVybmFsVG9rZW5pemVyKChpbnB1dCwgc3RhY2spID0+IHtcbiAgaWYgKGlucHV0Lm5leHQgIT0gNjAgLyogJzwnICovKSByZXR1cm5cbiAgaW5wdXQuYWR2YW5jZSgpO1xuICBpZiAoaW5wdXQubmV4dCA9PSA0NyAvKiAnLycgKi8pIHtcbiAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgbGV0IG5hbWUgPSB0YWdOYW1lQWZ0ZXIoaW5wdXQsIDApO1xuICAgIGlmICghbmFtZSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKGluY29tcGxldGVTdGFydENsb3NlVGFnKVxuICAgIGlmIChzdGFjay5jb250ZXh0ICYmIG5hbWUgPT0gc3RhY2suY29udGV4dC5uYW1lKSByZXR1cm4gaW5wdXQuYWNjZXB0VG9rZW4oU3RhcnRDbG9zZVRhZylcbiAgICBmb3IgKGxldCBjeCA9IHN0YWNrLmNvbnRleHQ7IGN4OyBjeCA9IGN4LnBhcmVudCkgaWYgKGN4Lm5hbWUgPT0gbmFtZSkgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKE1pc3NpbmdDbG9zZVRhZywgLTIpXG4gICAgaW5wdXQuYWNjZXB0VG9rZW4obWlzbWF0Y2hlZFN0YXJ0Q2xvc2VUYWcpO1xuICB9IGVsc2UgaWYgKGlucHV0Lm5leHQgIT0gMzMgLyogJyEnICovICYmIGlucHV0Lm5leHQgIT0gNjMgLyogJz8nICovKSB7XG4gICAgcmV0dXJuIGlucHV0LmFjY2VwdFRva2VuKFN0YXJ0VGFnKVxuICB9XG59LCB7Y29udGV4dHVhbDogdHJ1ZX0pO1xuXG5mdW5jdGlvbiBzY2FuVG8odHlwZSwgZW5kKSB7XG4gIHJldHVybiBuZXcgRXh0ZXJuYWxUb2tlbml6ZXIoaW5wdXQgPT4ge1xuICAgIGZvciAobGV0IGVuZFBvcyA9IDAsIGxlbiA9IDA7OyBsZW4rKykge1xuICAgICAgaWYgKGlucHV0Lm5leHQgPCAwKSB7XG4gICAgICAgIGlmIChsZW4pIGlucHV0LmFjY2VwdFRva2VuKHR5cGUpO1xuICAgICAgICBicmVha1xuICAgICAgfSBcbiAgICAgIGlmIChpbnB1dC5uZXh0ID09IGVuZC5jaGFyQ29kZUF0KGVuZFBvcykpIHtcbiAgICAgICAgZW5kUG9zKys7XG4gICAgICAgIGlmIChlbmRQb3MgPT0gZW5kLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChsZW4gPiBlbmQubGVuZ3RoKSBpbnB1dC5hY2NlcHRUb2tlbih0eXBlLCAxIC0gZW5kLmxlbmd0aCk7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kUG9zID0gaW5wdXQubmV4dCA9PSBlbmQuY2hhckNvZGVBdCgwKSA/IDEgOiAwO1xuICAgICAgfVxuICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIH1cbiAgfSlcbn1cblxuY29uc3QgY29tbWVudENvbnRlbnQgPSBzY2FuVG8oY29tbWVudENvbnRlbnQkMSwgXCItLT5cIik7XG5jb25zdCBwaUNvbnRlbnQgPSBzY2FuVG8ocGlDb250ZW50JDEsIFwiPz5cIik7XG5jb25zdCBjZGF0YUNvbnRlbnQgPSBzY2FuVG8oY2RhdGFDb250ZW50JDEsIFwiXV0+XCIpO1xuXG5jb25zdCB4bWxIaWdobGlnaHRpbmcgPSBzdHlsZVRhZ3Moe1xuICBUZXh0OiB0YWdzLmNvbnRlbnQsXG4gIFwiU3RhcnRUYWcgU3RhcnRDbG9zZVRhZyBFbmRUYWcgU2VsZkNsb3NlRW5kVGFnXCI6IHRhZ3MuYW5nbGVCcmFja2V0LFxuICBUYWdOYW1lOiB0YWdzLnRhZ05hbWUsXG4gIFwiTWlzbWF0Y2hlZENsb3NlVGFnL1RhZ25hbWVcIjogW3RhZ3MudGFnTmFtZSwgdGFncy5pbnZhbGlkXSxcbiAgQXR0cmlidXRlTmFtZTogdGFncy5hdHRyaWJ1dGVOYW1lLFxuICBBdHRyaWJ1dGVWYWx1ZTogdGFncy5hdHRyaWJ1dGVWYWx1ZSxcbiAgSXM6IHRhZ3MuZGVmaW5pdGlvbk9wZXJhdG9yLFxuICBcIkVudGl0eVJlZmVyZW5jZSBDaGFyYWN0ZXJSZWZlcmVuY2VcIjogdGFncy5jaGFyYWN0ZXIsXG4gIENvbW1lbnQ6IHRhZ3MuYmxvY2tDb21tZW50LFxuICBQcm9jZXNzaW5nSW5zdDogdGFncy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sXG4gIERvY3R5cGVEZWNsOiB0YWdzLmRvY3VtZW50TWV0YSxcbiAgQ2RhdGE6IHRhZ3Muc3BlY2lhbCh0YWdzLnN0cmluZylcbn0pO1xuXG4vLyBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBsZXplci1nZW5lcmF0b3IuIFlvdSBwcm9iYWJseSBzaG91bGRuJ3QgZWRpdCBpdC5cbmNvbnN0IHBhcnNlciA9IExSUGFyc2VyLmRlc2VyaWFsaXplKHtcbiAgdmVyc2lvbjogMTQsXG4gIHN0YXRlczogXCIsU09RT2FPT09yT3hPJyNDZk96T3BPJyNDaU8hdE9hTycjQ2dPT09QJyNDZycjQ2dPIXtPck8nI0NyTyNUT3RPJyNDc08jXU9wTycjQ3RPT09QJyNEUycjRFNPT09QJyNDdicjQ3ZRUU9hT09PT09XJyNDdycjQ3dPI2VPeE8sNTlRT09PUCw1OVEsNTlRT09PTycjQ3gnI0N4TyNtT3BPLDU5VE8jdU8hYk8sNTlUT09PUCcjQ3snI0N7TyRUT2FPLDU5Uk8kW09wTycjQ29PT09QLDU5Uiw1OVJPT09RJyNDfCcjQ3xPJGRPck8sNTleT09PUCw1OV4sNTleT09PUycjQ30nI0N9TyRsT3RPLDU5X09PT1AsNTlfLDU5X08kdE9wTyw1OWBPJHxPcE8sNTlgT09PUC1FNnQtRTZ0T09PVy1FNnUtRTZ1T09PUDFHLmwxRy5sT09PTy1FNnYtRTZ2TyVVTyFiTzFHLm9PJVVPIWJPMUcub08lZE9wTycjQ2tPJWxPIWJPJyNDeU8lek8hYk8xRy5vT09PUDFHLm8xRy5vT09PUDFHLncxRy53T09PUC1FNnktRTZ5T09PUDFHLm0xRy5tTyZWT3BPLDU5Wk8mX09wTyw1OVpPT09RLUU2ei1FNnpPT09QMUcueDFHLnhPT09TLUU2ey1FNntPT09QMUcueTFHLnlPJmdPcE8xRy56TyZnT3BPMUcuek9PT1AxRy56MUcuek8mb08hYk83KyRaTyZ9TyFiTzcrJFpPT09QNyskWjcrJFpPT09QNyskYzcrJGNPJ1lPcE8sNTlWTydiT3BPLDU5Vk8nak8hYk8sNTllT09PTy1FNnctRTZ3Tyd4T3BPMUcudU8neE9wTzFHLnVPT09QMUcudTFHLnVPKFFPcE83KyRmT09PUDcrJGY3KyRmTyhZTyFiTzw8R3VPT09QPDxHdTw8R3VPT09QPDxHfTw8R31PJ2JPcE8xRy5xTydiT3BPMUcucU8oZU8jdE8nI0NuT09PTzFHLnExRy5xTyhzT3BPNyskYU9PT1A3KyRhNyskYU9PT1A8PEhRPDxIUU9PT1BBTj1hQU49YU9PT1BBTj1pQU49aU8nYk9wTzcrJF1PT09PNyskXTcrJF1PT09PJyNDeicjQ3pPKHtPI3RPLDU5WU9PT08sNTlZLDU5WU9PT1A8PEd7PDxHe09PT088PEd3PDxHd09PT08tRTZ4LUU2eE9PT08xRy50MUcudFwiLFxuICBzdGF0ZURhdGE6IFwiKVp+T1BRT1NWT1RXT1ZXT1dXT1hXT2lYT3hQT31UTyFQVU9+T3VaT3ddT35PXmBPeV5Pfk9QUU9RY09TVk9UV09WV09XV09YV094UE99VE8hUFVPfk9SZE9+UCFTT3NlT3xnT35PdGhPIU9qT35PXmxPeV5Pfk91Wk93b09+T15xT3leT35PW3ZPYHNPZHdPeV5Pfk9SeU9+UCFTT157T3leT35Pc2VPfH1Pfk90aE8hTyFQT35PXiFRT3leT35PWyFTT3leT35PWyFWT2BzT2QhV095Xk9+T2EhWU95Xk9+T3leT1ttWGBtWGRtWH5PWyFWT2BzT2QhV09+T14hXU95Xk9+T1shX095Xk9+T1shYU95Xk9+T1shY09gc09kIWRPeV5Pfk9bIWNPYHNPZCFkT35PYSFlT3leT35PeV5PeiFnT35PeV5PW21hYG1hZG1hfk9bIWpPeV5Pfk9bIWtPeV5Pfk9bIWxPYHNPZCFtT35PVyFwT1ghcE96IXJPeyFwT35PWyFzT3leT35PVyFwT1ghcE96IXZPeyFwT35PXCIsXG4gIGdvdG86IFwiJVt3UFBQUFBQUFBQUHh4UCFPUCFVUFAhXyFpUCFveHh4UCF1IXsjUiRaJGokcCR2JHxQUFBQJVNYV09SWWJYUk9SWWJfdGBxcnUhVCFVIWJRIWghWVMhbyFlIWZSIXQhblFkUlJ5YlhTT1JZYlFZT1JtWVFbUFJuW1FfUVFrVmpwX2tyeiFSIVQhWCFaIV4hYCFmIWkhblFyYFF6Y1EhUmxRIVRxUSFYc1EhWnRRIV57USFgIVFRIWYhWVEhaSFdUiFuIWVRdWBTIVVxclUhW3UhVSFiUiFiIVRRIXEhZ1IhdSFxUWJSUnhiUWZUUnxmUWlVUiFPaVNYT1lUYVJiXCIsXG4gIG5vZGVOYW1lczogXCJcdTI2QTAgU3RhcnRUYWcgU3RhcnRDbG9zZVRhZyBNaXNzaW5nQ2xvc2VUYWcgU3RhcnRDbG9zZVRhZyBTdGFydENsb3NlVGFnIERvY3VtZW50IFRleHQgRW50aXR5UmVmZXJlbmNlIENoYXJhY3RlclJlZmVyZW5jZSBDZGF0YSBFbGVtZW50IEVuZFRhZyBPcGVuVGFnIFRhZ05hbWUgQXR0cmlidXRlIEF0dHJpYnV0ZU5hbWUgSXMgQXR0cmlidXRlVmFsdWUgQ2xvc2VUYWcgU2VsZkNsb3NlRW5kVGFnIFNlbGZDbG9zaW5nVGFnIENvbW1lbnQgUHJvY2Vzc2luZ0luc3QgTWlzbWF0Y2hlZENsb3NlVGFnIERvY3R5cGVEZWNsXCIsXG4gIG1heFRlcm06IDQ3LFxuICBjb250ZXh0OiBlbGVtZW50Q29udGV4dCxcbiAgbm9kZVByb3BzOiBbXG4gICAgW1wiY2xvc2VkQnlcIiwgMSxcIlNlbGZDbG9zZUVuZFRhZyBFbmRUYWdcIiwxMyxcIkNsb3NlVGFnIE1pc3NpbmdDbG9zZVRhZ1wiXSxcbiAgICBbXCJvcGVuZWRCeVwiLCAxMixcIlN0YXJ0VGFnIFN0YXJ0Q2xvc2VUYWdcIiwxOSxcIk9wZW5UYWdcIiwyMCxcIlN0YXJ0VGFnXCJdXG4gIF0sXG4gIHByb3BTb3VyY2VzOiBbeG1sSGlnaGxpZ2h0aW5nXSxcbiAgc2tpcHBlZE5vZGVzOiBbMF0sXG4gIHJlcGVhdE5vZGVDb3VudDogOCxcbiAgdG9rZW5EYXRhOiBcIkF6flIhV09YJGtYWSVyWVolclpdJGtdXiVyXnAka3BxJXJxciRrcnMmdHN2JGt2dydVd30ka30hTyhxIU8hUCRrIVAhUSpuIVEhWyRrIVshXSt6IV0hXiRrIV4hXy9zIV8hYD1pIWAhYT5VIWEhYj5xIWIhYyRrIWMhfSt6IX0jUCRrI1AjUT99I1EjUiRrI1IjUyt6I1MjVCRrI1Qjbyt6I28lVyRrJVclbyt6JW8lcCRrJXAmYSt6JmEmYiRrJmIxcCt6MXA0VSRrNFU0ZCt6NGQ0ZSRrNGUkSVMreiRJUyRJYCRrJElgJEliK3okSWIkS2gkayRLaCUjdCt6JSN0Ji94JGsmL3gmRXQreiZFdCZGViRrJkZWOydTK3o7J1M7OmovUzs6aj8mciRrPyZyP0FoK3o/QWg/Qlkkaz9CWT9Nbit6P01ufiRrWCRyVVZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFffiRrUCVaUlZQT3YlVXchXiVVIV9+JVVXJWlSe1dPciVkc3YlZHd+JWRfJXtdVlB7V3lVT1gka1hZJXJZWiVyWl0ka11eJXJecCRrcHElcnFyJGtycyVVc3Yka3chXiRrIV4hXyVkIV9+JGtaJntSellWUE92JVV3IV4lVSFffiVVfidYVE9wJ2hxcydoc3QoUHQhXSdoIV5+J2h+J2tUT3AnaHFzJ2h0IV0naCFdIV4neiFefidofihQT1d+fihTUk9wKF1xIV0oXSFefihdfihgU09wKF1xIV0oXSFdIV4obCFefihdfihxT1h+Wih4V1ZQe1dPciRrcnMlVXN2JGt3fSRrfSFPKWIhTyFeJGshXiFfJWQhX34ka1opaVdWUHtXT3Ika3JzJVVzdiRrdyFeJGshXiFfJWQhXyFgJGshYCFhKlIhYX4ka1oqW1V8UVZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFffiRrXSp1V1ZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFfIWAkayFgIWErXyFhfiRrXStoVWRTVlB7V09yJGtycyVVc3Yka3chXiRrIV4hXyVkIV9+JGtfLFZ9YFNeUVZQe1dPciRrcnMlVXN2JGt3fSRrfSFPK3ohTyFQK3ohUCFRJGshUSFbK3ohWyFdK3ohXSFeJGshXiFfJWQhXyFjJGshYyF9K3ohfSNSJGsjUiNTK3ojUyNUJGsjVCNvK3ojbyR9JGskfSVPK3olTyVXJGslVyVvK3olbyVwJGslcCZhK3omYSZiJGsmYjFwK3oxcDRVK3o0VTRkK3o0ZDRlJGs0ZSRJUyt6JElTJElgJGskSWAkSWIreiRJYiRKZSRrJEplJEpnK3okSmckS2gkayRLaCUjdCt6JSN0Ji94JGsmL3gmRXQreiZFdCZGViRrJkZWOydTK3o7J1M7OmovUzs6aj8mciRrPyZyP0FoK3o/QWg/Qlkkaz9CWT9Nbit6P01ufiRrXy9aV1ZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFfOz1gJGs7PWA8JWwrejwlbH4ka1gveFV7V09xJWRxcjBbc3YlZHchYSVkIWEhYj1YIWJ+JWRYMGFae1dPciVkc3YlZHd9JWR9IU8xUyFPIWYlZCFmIWcxeCFnIX0lZCF9I081cyNPI1clZCNXI1g6ayNYfiVkWDFYVHtXT3IlZHN2JWR3fSVkfSFPMWghT34lZFgxb1J9UHtXT3IlZHN2JWR3fiVkWDF9VHtXT3IlZHN2JWR3IXElZCFxIXIyXiFyfiVkWDJjVHtXT3IlZHN2JWR3IWUlZCFlIWYyciFmfiVkWDJ3VHtXT3IlZHN2JWR3IXYlZCF2IXczVyF3fiVkWDNdVHtXT3IlZHN2JWR3IXslZCF7IXwzbCF8fiVkWDNxVHtXT3IlZHN2JWR3IXIlZCFyIXM0USFzfiVkWDRWVHtXT3IlZHN2JWR3IWclZCFnIWg0ZiFofiVkWDRrVntXT3I0ZnJzNVFzdjRmdnc1UXchYDRmIWAhYTVjIWF+NGZQNVRSTyFgNVEhYCFhNV4hYX41UVA1Y09pUFg1alJpUHtXT3IlZHN2JWR3fiVkWDV4VntXT3IlZHN2JWR3IWUlZCFlIWY2XyFmI1YlZCNWI1c4dyNXfiVkWDZkVHtXT3IlZHN2JWR3IWYlZCFmIWc2cyFnfiVkWDZ4VHtXT3IlZHN2JWR3IWMlZCFjIWQ3WCFkfiVkWDdeVHtXT3IlZHN2JWR3IXYlZCF2IXc3bSF3fiVkWDdyVHtXT3IlZHN2JWR3IWMlZCFjIWQ4UiFkfiVkWDhXVHtXT3IlZHN2JWR3IX0lZCF9I084ZyNPfiVkWDhuUntXeFBPciVkc3YlZHd+JWRYOHxUe1dPciVkc3YlZHcjVyVkI1cjWDldI1h+JWRYOWJUe1dPciVkc3YlZHcjVCVkI1QjVTlxI1V+JWRYOXZUe1dPciVkc3YlZHcjaCVkI2gjaTpWI2l+JWRYOltUe1dPciVkc3YlZHcjVCVkI1QjVThSI1V+JWRYOnBUe1dPciVkc3YlZHcjYyVkI2MjZDtQI2R+JWRYO1VUe1dPciVkc3YlZHcjViVkI1YjVztlI1d+JWRYO2pUe1dPciVkc3YlZHcjaCVkI2gjaTt5I2l+JWRYPE9Ue1dPciVkc3YlZHcjbSVkI20jbjxfI25+JWRYPGRUe1dPciVkc3YlZHcjZCVkI2QjZTxzI2V+JWRYPHhUe1dPciVkc3YlZHcjWCVkI1gjWTRmI1l+JWRYPWBSIVBQe1dPciVkc3YlZHd+JWRaPXJVYVFWUHtXT3Ika3JzJVVzdiRrdyFeJGshXiFfJWQhX34ka18+X1VbVVZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFffiRrWj54V1ZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFfIWAkayFgIWE/YiFhfiRrWj9rVSFPUVZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFffiRrWkBVV1ZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFfI1AkayNQI1FAbiNRfiRrWkB1V1ZQe1dPciRrcnMlVXN2JGt3IV4kayFeIV8lZCFfIWAkayFgIWFBXyFhfiRrWkFoVXdRVlB7V09yJGtycyVVc3Yka3chXiRrIV4hXyVkIV9+JGtcIixcbiAgdG9rZW5pemVyczogW3N0YXJ0VGFnLCBjb21tZW50Q29udGVudCwgcGlDb250ZW50LCBjZGF0YUNvbnRlbnQsIDAsIDEsIDIsIDNdLFxuICB0b3BSdWxlczoge1wiRG9jdW1lbnRcIjpbMCw2XX0sXG4gIHRva2VuUHJlYzogMFxufSk7XG5cbmV4cG9ydCB7IHBhcnNlciB9O1xuIiwgImltcG9ydCB7IHBhcnNlciB9IGZyb20gJ0BsZXplci94bWwnO1xuaW1wb3J0IHsgc3ludGF4VHJlZSwgTFJMYW5ndWFnZSwgaW5kZW50Tm9kZVByb3AsIGZvbGROb2RlUHJvcCwgTGFuZ3VhZ2VTdXBwb3J0IH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuXG5mdW5jdGlvbiB0YWdOYW1lKGRvYywgdGFnKSB7XG4gICAgbGV0IG5hbWUgPSB0YWcgJiYgdGFnLmdldENoaWxkKFwiVGFnTmFtZVwiKTtcbiAgICByZXR1cm4gbmFtZSA/IGRvYy5zbGljZVN0cmluZyhuYW1lLmZyb20sIG5hbWUudG8pIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGVsZW1lbnROYW1lKGRvYywgdHJlZSkge1xuICAgIGxldCB0YWcgPSB0cmVlICYmIHRyZWUuZmlyc3RDaGlsZDtcbiAgICByZXR1cm4gIXRhZyB8fCB0YWcubmFtZSAhPSBcIk9wZW5UYWdcIiA/IFwiXCIgOiB0YWdOYW1lKGRvYywgdGFnKTtcbn1cbmZ1bmN0aW9uIGF0dHJOYW1lKGRvYywgdGFnLCBwb3MpIHtcbiAgICBsZXQgYXR0ciA9IHRhZyAmJiB0YWcuZ2V0Q2hpbGRyZW4oXCJBdHRyaWJ1dGVcIikuZmluZChhID0+IGEuZnJvbSA8PSBwb3MgJiYgYS50byA+PSBwb3MpO1xuICAgIGxldCBuYW1lID0gYXR0ciAmJiBhdHRyLmdldENoaWxkKFwiQXR0cmlidXRlTmFtZVwiKTtcbiAgICByZXR1cm4gbmFtZSA/IGRvYy5zbGljZVN0cmluZyhuYW1lLmZyb20sIG5hbWUudG8pIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGZpbmRQYXJlbnRFbGVtZW50KHRyZWUpIHtcbiAgICBmb3IgKGxldCBjdXIgPSB0cmVlICYmIHRyZWUucGFyZW50OyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgIGlmIChjdXIubmFtZSA9PSBcIkVsZW1lbnRcIilcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBmaW5kTG9jYXRpb24oc3RhdGUsIHBvcykge1xuICAgIHZhciBfYTtcbiAgICBsZXQgYXQgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIocG9zLCAtMSksIGluVGFnID0gbnVsbDtcbiAgICBmb3IgKGxldCBjdXIgPSBhdDsgIWluVGFnICYmIGN1ci5wYXJlbnQ7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgIGlmIChjdXIubmFtZSA9PSBcIk9wZW5UYWdcIiB8fCBjdXIubmFtZSA9PSBcIkNsb3NlVGFnXCIgfHwgY3VyLm5hbWUgPT0gXCJTZWxmQ2xvc2luZ1RhZ1wiIHx8IGN1ci5uYW1lID09IFwiTWlzbWF0Y2hlZENsb3NlVGFnXCIpXG4gICAgICAgICAgICBpblRhZyA9IGN1cjtcbiAgICBpZiAoaW5UYWcgJiYgKGluVGFnLnRvID4gcG9zIHx8IGluVGFnLmxhc3RDaGlsZC50eXBlLmlzRXJyb3IpKSB7XG4gICAgICAgIGxldCBlbHQgPSBpblRhZy5wYXJlbnQ7XG4gICAgICAgIGlmIChhdC5uYW1lID09IFwiVGFnTmFtZVwiKVxuICAgICAgICAgICAgcmV0dXJuIGluVGFnLm5hbWUgPT0gXCJDbG9zZVRhZ1wiIHx8IGluVGFnLm5hbWUgPT0gXCJNaXNtYXRjaGVkQ2xvc2VUYWdcIlxuICAgICAgICAgICAgICAgID8geyB0eXBlOiBcImNsb3NlVGFnXCIsIGZyb206IGF0LmZyb20sIGNvbnRleHQ6IGVsdCB9XG4gICAgICAgICAgICAgICAgOiB7IHR5cGU6IFwib3BlblRhZ1wiLCBmcm9tOiBhdC5mcm9tLCBjb250ZXh0OiBmaW5kUGFyZW50RWxlbWVudChlbHQpIH07XG4gICAgICAgIGlmIChhdC5uYW1lID09IFwiQXR0cmlidXRlTmFtZVwiKVxuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJhdHRyTmFtZVwiLCBmcm9tOiBhdC5mcm9tLCBjb250ZXh0OiBpblRhZyB9O1xuICAgICAgICBpZiAoYXQubmFtZSA9PSBcIkF0dHJpYnV0ZVZhbHVlXCIpXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImF0dHJWYWx1ZVwiLCBmcm9tOiBhdC5mcm9tLCBjb250ZXh0OiBpblRhZyB9O1xuICAgICAgICBsZXQgYmVmb3JlID0gYXQgPT0gaW5UYWcgfHwgYXQubmFtZSA9PSBcIkF0dHJpYnV0ZVwiID8gYXQuY2hpbGRCZWZvcmUocG9zKSA6IGF0O1xuICAgICAgICBpZiAoKGJlZm9yZSA9PT0gbnVsbCB8fCBiZWZvcmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJlZm9yZS5uYW1lKSA9PSBcIlN0YXJ0VGFnXCIpXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcIm9wZW5UYWdcIiwgZnJvbTogcG9zLCBjb250ZXh0OiBmaW5kUGFyZW50RWxlbWVudChlbHQpIH07XG4gICAgICAgIGlmICgoYmVmb3JlID09PSBudWxsIHx8IGJlZm9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmVmb3JlLm5hbWUpID09IFwiU3RhcnRDbG9zZVRhZ1wiICYmIGJlZm9yZS50byA8PSBwb3MpXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImNsb3NlVGFnXCIsIGZyb206IHBvcywgY29udGV4dDogZWx0IH07XG4gICAgICAgIGlmICgoYmVmb3JlID09PSBudWxsIHx8IGJlZm9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYmVmb3JlLm5hbWUpID09IFwiSXNcIilcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiYXR0clZhbHVlXCIsIGZyb206IHBvcywgY29udGV4dDogaW5UYWcgfTtcbiAgICAgICAgaWYgKGJlZm9yZSlcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiYXR0ck5hbWVcIiwgZnJvbTogcG9zLCBjb250ZXh0OiBpblRhZyB9O1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXQubmFtZSA9PSBcIlN0YXJ0Q2xvc2VUYWdcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImNsb3NlVGFnXCIsIGZyb206IHBvcywgY29udGV4dDogYXQucGFyZW50IH07XG4gICAgfVxuICAgIHdoaWxlIChhdC5wYXJlbnQgJiYgYXQudG8gPT0gcG9zICYmICEoKF9hID0gYXQubGFzdENoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHlwZS5pc0Vycm9yKSlcbiAgICAgICAgYXQgPSBhdC5wYXJlbnQ7XG4gICAgaWYgKGF0Lm5hbWUgPT0gXCJFbGVtZW50XCIgfHwgYXQubmFtZSA9PSBcIlRleHRcIiB8fCBhdC5uYW1lID09IFwiRG9jdW1lbnRcIilcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0YWdcIiwgZnJvbTogcG9zLCBjb250ZXh0OiBhdC5uYW1lID09IFwiRWxlbWVudFwiID8gYXQgOiBmaW5kUGFyZW50RWxlbWVudChhdCkgfTtcbiAgICByZXR1cm4gbnVsbDtcbn1cbmNsYXNzIEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKHNwZWMsIGF0dHJzLCBhdHRyVmFsdWVzKSB7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgICAgICAgdGhpcy5hdHRyVmFsdWVzID0gYXR0clZhbHVlcztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLm5hbWUgPSBzcGVjLm5hbWU7XG4gICAgICAgIHRoaXMuY29tcGxldGlvbiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IHR5cGU6IFwidHlwZVwiIH0sIHNwZWMuY29tcGxldGlvbiB8fCB7fSksIHsgbGFiZWw6IHRoaXMubmFtZSB9KTtcbiAgICAgICAgdGhpcy5vcGVuQ29tcGxldGlvbiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb21wbGV0aW9uKSwgeyBsYWJlbDogXCI8XCIgKyB0aGlzLm5hbWUgfSk7XG4gICAgICAgIHRoaXMuY2xvc2VDb21wbGV0aW9uID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbXBsZXRpb24pLCB7IGxhYmVsOiBcIjwvXCIgKyB0aGlzLm5hbWUgKyBcIj5cIiwgYm9vc3Q6IDIgfSk7XG4gICAgICAgIHRoaXMuY2xvc2VOYW1lQ29tcGxldGlvbiA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb21wbGV0aW9uKSwgeyBsYWJlbDogdGhpcy5uYW1lICsgXCI+XCIgfSk7XG4gICAgICAgIHRoaXMudGV4dCA9IHNwZWMudGV4dENvbnRlbnQgPyBzcGVjLnRleHRDb250ZW50Lm1hcChzID0+ICh7IGxhYmVsOiBzLCB0eXBlOiBcInRleHRcIiB9KSkgOiBbXTtcbiAgICB9XG59XG5jb25zdCBJZGVudGlmaWVyID0gL15bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC87XG5mdW5jdGlvbiBhdHRyQ29tcGxldGlvbihzcGVjKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IHR5cGU6IFwicHJvcGVydHlcIiB9LCBzcGVjLmNvbXBsZXRpb24gfHwge30pLCB7IGxhYmVsOiBzcGVjLm5hbWUgfSk7XG59XG5mdW5jdGlvbiB2YWx1ZUNvbXBsZXRpb24oc3BlYykge1xuICAgIHJldHVybiB0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiID8geyBsYWJlbDogYFwiJHtzcGVjfVwiYCwgdHlwZTogXCJjb25zdGFudFwiIH1cbiAgICAgICAgOiAvXlwiLy50ZXN0KHNwZWMubGFiZWwpID8gc3BlY1xuICAgICAgICAgICAgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHNwZWMpLCB7IGxhYmVsOiBgXCIke3NwZWMubGFiZWx9XCJgIH0pO1xufVxuLyoqXG5DcmVhdGUgYSBjb21wbGV0aW9uIHNvdXJjZSBmb3IgdGhlIGdpdmVuIHNjaGVtYS5cbiovXG5mdW5jdGlvbiBjb21wbGV0ZUZyb21TY2hlbWEoZWx0U3BlY3MsIGF0dHJTcGVjcykge1xuICAgIGxldCBhbGxBdHRycyA9IFtdLCBnbG9iYWxBdHRycyA9IFtdO1xuICAgIGxldCBhdHRyVmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBmb3IgKGxldCBzIG9mIGF0dHJTcGVjcykge1xuICAgICAgICBsZXQgY29tcGxldGlvbiA9IGF0dHJDb21wbGV0aW9uKHMpO1xuICAgICAgICBhbGxBdHRycy5wdXNoKGNvbXBsZXRpb24pO1xuICAgICAgICBpZiAocy5nbG9iYWwpXG4gICAgICAgICAgICBnbG9iYWxBdHRycy5wdXNoKGNvbXBsZXRpb24pO1xuICAgICAgICBpZiAocy52YWx1ZXMpXG4gICAgICAgICAgICBhdHRyVmFsdWVzW3MubmFtZV0gPSBzLnZhbHVlcy5tYXAodmFsdWVDb21wbGV0aW9uKTtcbiAgICB9XG4gICAgbGV0IGFsbEVsZW1lbnRzID0gW10sIHRvcEVsZW1lbnRzID0gW107XG4gICAgbGV0IGJ5TmFtZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgZm9yIChsZXQgcyBvZiBlbHRTcGVjcykge1xuICAgICAgICBsZXQgYXR0cnMgPSBnbG9iYWxBdHRycywgYXR0clZhbHMgPSBhdHRyVmFsdWVzO1xuICAgICAgICBpZiAocy5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAgYXR0cnMgPSBhdHRycy5jb25jYXQocy5hdHRyaWJ1dGVzLm1hcChzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHMgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEF0dHJzLmZpbmQoYSA9PiBhLmxhYmVsID09IHMpIHx8IHsgbGFiZWw6IHMsIHR5cGU6IFwicHJvcGVydHlcIiB9O1xuICAgICAgICAgICAgICAgIGlmIChzLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0clZhbHMgPT0gYXR0clZhbHVlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJWYWxzID0gT2JqZWN0LmNyZWF0ZShhdHRyVmFscyk7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJWYWxzW3MubmFtZV0gPSBzLnZhbHVlcy5tYXAodmFsdWVDb21wbGV0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0dHJDb21wbGV0aW9uKHMpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICBsZXQgZWx0ID0gbmV3IEVsZW1lbnQocywgYXR0cnMsIGF0dHJWYWxzKTtcbiAgICAgICAgYnlOYW1lW2VsdC5uYW1lXSA9IGVsdDtcbiAgICAgICAgYWxsRWxlbWVudHMucHVzaChlbHQpO1xuICAgICAgICBpZiAocy50b3ApXG4gICAgICAgICAgICB0b3BFbGVtZW50cy5wdXNoKGVsdCk7XG4gICAgfVxuICAgIGlmICghdG9wRWxlbWVudHMubGVuZ3RoKVxuICAgICAgICB0b3BFbGVtZW50cyA9IGFsbEVsZW1lbnRzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHMgPSBlbHRTcGVjc1tpXSwgZWx0ID0gYWxsRWxlbWVudHNbaV07XG4gICAgICAgIGlmIChzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaCBvZiBzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGlmIChieU5hbWVbY2hdKVxuICAgICAgICAgICAgICAgICAgICBlbHQuY2hpbGRyZW4ucHVzaChieU5hbWVbY2hdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsdC5jaGlsZHJlbiA9IGFsbEVsZW1lbnRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjeCA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHsgZG9jIH0gPSBjeC5zdGF0ZSwgbG9jID0gZmluZExvY2F0aW9uKGN4LnN0YXRlLCBjeC5wb3MpO1xuICAgICAgICBpZiAoIWxvYyB8fCAobG9jLnR5cGUgPT0gXCJ0YWdcIiAmJiAhY3guZXhwbGljaXQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCB7IHR5cGUsIGZyb20sIGNvbnRleHQgfSA9IGxvYztcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJvcGVuVGFnXCIpIHtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHRvcEVsZW1lbnRzO1xuICAgICAgICAgICAgbGV0IHBhcmVudE5hbWUgPSBlbGVtZW50TmFtZShkb2MsIGNvbnRleHQpO1xuICAgICAgICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gYnlOYW1lW3BhcmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jaGlsZHJlbikgfHwgYWxsRWxlbWVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgb3B0aW9uczogY2hpbGRyZW4ubWFwKGNoID0+IGNoLmNvbXBsZXRpb24pLFxuICAgICAgICAgICAgICAgIHZhbGlkRm9yOiBJZGVudGlmaWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJjbG9zZVRhZ1wiKSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50TmFtZSA9IGVsZW1lbnROYW1lKGRvYywgY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50TmFtZSA/IHtcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiBjeC5wb3MgKyAoZG9jLnNsaWNlU3RyaW5nKGN4LnBvcywgY3gucG9zICsgMSkgPT0gXCI+XCIgPyAxIDogMCksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogWygoX2EgPSBieU5hbWVbcGFyZW50TmFtZV0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZU5hbWVDb21wbGV0aW9uKSB8fCB7IGxhYmVsOiBwYXJlbnROYW1lICsgXCI+XCIsIHR5cGU6IFwidHlwZVwiIH1dLFxuICAgICAgICAgICAgICAgIHZhbGlkRm9yOiBJZGVudGlmaWVyXG4gICAgICAgICAgICB9IDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiYXR0ck5hbWVcIikge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IGJ5TmFtZVt0YWdOYW1lKGRvYywgY29udGV4dCldO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IChwYXJlbnQgPT09IG51bGwgfHwgcGFyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJlbnQuYXR0cnMpIHx8IGdsb2JhbEF0dHJzLFxuICAgICAgICAgICAgICAgIHZhbGlkRm9yOiBJZGVudGlmaWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJhdHRyVmFsdWVcIikge1xuICAgICAgICAgICAgbGV0IGF0dHIgPSBhdHRyTmFtZShkb2MsIGNvbnRleHQsIGZyb20pO1xuICAgICAgICAgICAgaWYgKCFhdHRyKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IGJ5TmFtZVt0YWdOYW1lKGRvYywgY29udGV4dCldO1xuICAgICAgICAgICAgbGV0IHZhbHVlcyA9ICgocGFyZW50ID09PSBudWxsIHx8IHBhcmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyZW50LmF0dHJWYWx1ZXMpIHx8IGF0dHJWYWx1ZXMpW2F0dHJdO1xuICAgICAgICAgICAgaWYgKCF2YWx1ZXMgfHwgIXZhbHVlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG86IGN4LnBvcyArIChkb2Muc2xpY2VTdHJpbmcoY3gucG9zLCBjeC5wb3MgKyAxKSA9PSAnXCInID8gMSA6IDApLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHZhbHVlcyxcbiAgICAgICAgICAgICAgICB2YWxpZEZvcjogL15cIlteXCJdKlwiPyQvXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJ0YWdcIikge1xuICAgICAgICAgICAgbGV0IHBhcmVudE5hbWUgPSBlbGVtZW50TmFtZShkb2MsIGNvbnRleHQpLCBwYXJlbnQgPSBieU5hbWVbcGFyZW50TmFtZV07XG4gICAgICAgICAgICBsZXQgY2xvc2luZyA9IFtdLCBsYXN0ID0gY29udGV4dCAmJiBjb250ZXh0Lmxhc3RDaGlsZDtcbiAgICAgICAgICAgIGlmIChwYXJlbnROYW1lICYmICghbGFzdCB8fCBsYXN0Lm5hbWUgIT0gXCJDbG9zZVRhZ1wiIHx8IHRhZ05hbWUoZG9jLCBsYXN0KSAhPSBwYXJlbnROYW1lKSlcbiAgICAgICAgICAgICAgICBjbG9zaW5nLnB1c2gocGFyZW50ID8gcGFyZW50LmNsb3NlQ29tcGxldGlvbiA6IHsgbGFiZWw6IFwiPC9cIiArIHBhcmVudE5hbWUgKyBcIj5cIiwgdHlwZTogXCJ0eXBlXCIsIGJvb3N0OiAyIH0pO1xuICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBjbG9zaW5nLmNvbmNhdCgoKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC5jaGlsZHJlbikgfHwgKGNvbnRleHQgPyBhbGxFbGVtZW50cyA6IHRvcEVsZW1lbnRzKSkubWFwKGUgPT4gZS5vcGVuQ29tcGxldGlvbikpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgKHBhcmVudCA9PT0gbnVsbCB8fCBwYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudC50ZXh0Lmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3BlblRhZyA9IGNvbnRleHQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgICAgICBpZiAob3BlblRhZy50byA+IGN4LnBvcyAtIDIwICYmICEvXFxTLy50ZXN0KGN4LnN0YXRlLnNsaWNlRG9jKG9wZW5UYWcudG8sIGN4LnBvcykpKVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucy5jb25jYXQocGFyZW50LnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgdmFsaWRGb3I6IC9ePFxcLz9bOlxcLVxcLlxcd1xcdTAwYjctXFx1ZmZmZl0qJC9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuQSBsYW5ndWFnZSBwcm92aWRlciBiYXNlZCBvbiB0aGUgW0xlemVyIFhNTFxucGFyc2VyXShodHRwczovL2dpdGh1Yi5jb20vbGV6ZXItcGFyc2VyL3htbCksIGV4dGVuZGVkIHdpdGhcbmhpZ2hsaWdodGluZyBhbmQgaW5kZW50YXRpb24gaW5mb3JtYXRpb24uXG4qL1xuY29uc3QgeG1sTGFuZ3VhZ2UgPSAvKkBfX1BVUkVfXyovTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgIG5hbWU6IFwieG1sXCIsXG4gICAgcGFyc2VyOiAvKkBfX1BVUkVfXyovcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgIHByb3BzOiBbXG4gICAgICAgICAgICAvKkBfX1BVUkVfXyovaW5kZW50Tm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBFbGVtZW50KGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NlZCA9IC9eXFxzKjxcXC8vLnRlc3QoY29udGV4dC50ZXh0QWZ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5saW5lSW5kZW50KGNvbnRleHQubm9kZS5mcm9tKSArIChjbG9zZWQgPyAwIDogY29udGV4dC51bml0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiT3BlblRhZyBDbG9zZVRhZyBTZWxmQ2xvc2luZ1RhZ1wiKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29sdW1uKGNvbnRleHQubm9kZS5mcm9tKSArIGNvbnRleHQudW5pdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgICAgICBFbGVtZW50KHN1YnRyZWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZpcnN0ID0gc3VidHJlZS5maXJzdENoaWxkLCBsYXN0ID0gc3VidHJlZS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3QgfHwgZmlyc3QubmFtZSAhPSBcIk9wZW5UYWdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBmcm9tOiBmaXJzdC50bywgdG86IGxhc3QubmFtZSA9PSBcIkNsb3NlVGFnXCIgPyBsYXN0LmZyb20gOiBzdWJ0cmVlLnRvIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgXVxuICAgIH0pLFxuICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICBjb21tZW50VG9rZW5zOiB7IGJsb2NrOiB7IG9wZW46IFwiPCEtLVwiLCBjbG9zZTogXCItLT5cIiB9IH0sXG4gICAgICAgIGluZGVudE9uSW5wdXQ6IC9eXFxzKjxcXC8kL1xuICAgIH1cbn0pO1xuLyoqXG5YTUwgbGFuZ3VhZ2Ugc3VwcG9ydC4gSW5jbHVkZXMgc2NoZW1hLWJhc2VkIGF1dG9jb21wbGV0aW9uIHdoZW5cbmNvbmZpZ3VyZWQuXG4qL1xuZnVuY3Rpb24geG1sKGNvbmYgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTGFuZ3VhZ2VTdXBwb3J0KHhtbExhbmd1YWdlLCB4bWxMYW5ndWFnZS5kYXRhLm9mKHtcbiAgICAgICAgYXV0b2NvbXBsZXRlOiBjb21wbGV0ZUZyb21TY2hlbWEoY29uZi5lbGVtZW50cyB8fCBbXSwgY29uZi5hdHRyaWJ1dGVzIHx8IFtdKVxuICAgIH0pKTtcbn1cblxuZXhwb3J0IHsgY29tcGxldGVGcm9tU2NoZW1hLCB4bWwsIHhtbExhbmd1YWdlIH07XG4iLCAiaW1wb3J0IHsgc3ludGF4VHJlZSwgaW5kZW50Tm9kZVByb3AsIGNvbnRpbnVlZEluZGVudCwgZm9sZE5vZGVQcm9wLCBMUkxhbmd1YWdlLCBMYW5ndWFnZVN1cHBvcnQgfSBmcm9tICdAY29kZW1pcnJvci9sYW5ndWFnZSc7XG5pbXBvcnQgeyBzdHlsZVRhZ3MsIHRhZ3MgfSBmcm9tICdAbGV6ZXIvaGlnaGxpZ2h0JztcbmltcG9ydCB7IEV4dGVybmFsVG9rZW5pemVyLCBMUlBhcnNlciB9IGZyb20gJ0BsZXplci9scic7XG5pbXBvcnQgeyBpZk5vdEluLCBjb21wbGV0ZUZyb21MaXN0IH0gZnJvbSAnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJztcblxuLy8gVGhpcyBmaWxlIHdhcyBnZW5lcmF0ZWQgYnkgbGV6ZXItZ2VuZXJhdG9yLiBZb3UgcHJvYmFibHkgc2hvdWxkbid0IGVkaXQgaXQuXG5jb25zdCB3aGl0ZXNwYWNlID0gMzYsXG4gIExpbmVDb21tZW50ID0gMSxcbiAgQmxvY2tDb21tZW50ID0gMixcbiAgU3RyaW5nJDEgPSAzLFxuICBOdW1iZXIgPSA0LFxuICBCb29sID0gNSxcbiAgTnVsbCA9IDYsXG4gIFBhcmVuTCA9IDcsXG4gIFBhcmVuUiA9IDgsXG4gIEJyYWNlTCA9IDksXG4gIEJyYWNlUiA9IDEwLFxuICBCcmFja2V0TCA9IDExLFxuICBCcmFja2V0UiA9IDEyLFxuICBTZW1pID0gMTMsXG4gIERvdCA9IDE0LFxuICBPcGVyYXRvciA9IDE1LFxuICBQdW5jdHVhdGlvbiA9IDE2LFxuICBTcGVjaWFsVmFyID0gMTcsXG4gIElkZW50aWZpZXIgPSAxOCxcbiAgUXVvdGVkSWRlbnRpZmllciA9IDE5LFxuICBLZXl3b3JkID0gMjAsXG4gIFR5cGUgPSAyMSxcbiAgQml0cyA9IDIyLFxuICBCeXRlcyA9IDIzLFxuICBCdWlsdGluID0gMjQ7XG5cbmZ1bmN0aW9uIGlzQWxwaGEoY2gpIHtcbiAgICByZXR1cm4gY2ggPj0gNjUgLyogQ2guQSAqLyAmJiBjaCA8PSA5MCAvKiBDaC5aICovIHx8IGNoID49IDk3IC8qIENoLmEgKi8gJiYgY2ggPD0gMTIyIC8qIENoLnogKi8gfHwgY2ggPj0gNDggLyogQ2guXzAgKi8gJiYgY2ggPD0gNTcgLyogQ2guXzkgKi87XG59XG5mdW5jdGlvbiBpc0hleERpZ2l0KGNoKSB7XG4gICAgcmV0dXJuIGNoID49IDQ4IC8qIENoLl8wICovICYmIGNoIDw9IDU3IC8qIENoLl85ICovIHx8IGNoID49IDk3IC8qIENoLmEgKi8gJiYgY2ggPD0gMTAyIC8qIENoLmYgKi8gfHwgY2ggPj0gNjUgLyogQ2guQSAqLyAmJiBjaCA8PSA3MCAvKiBDaC5GICovO1xufVxuZnVuY3Rpb24gcmVhZExpdGVyYWwoaW5wdXQsIGVuZFF1b3RlLCBiYWNrc2xhc2hFc2NhcGVzKSB7XG4gICAgZm9yIChsZXQgZXNjYXBlZCA9IGZhbHNlOzspIHtcbiAgICAgICAgaWYgKGlucHV0Lm5leHQgPCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaW5wdXQubmV4dCA9PSBlbmRRdW90ZSAmJiAhZXNjYXBlZCkge1xuICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZWQgPSBiYWNrc2xhc2hFc2NhcGVzICYmICFlc2NhcGVkICYmIGlucHV0Lm5leHQgPT0gOTIgLyogQ2guQmFja3NsYXNoICovO1xuICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZERvdWJsZURvbGxhckxpdGVyYWwoaW5wdXQpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChpbnB1dC5uZXh0IDwgMCB8fCBpbnB1dC5wZWVrKDEpIDwgMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGlucHV0Lm5leHQgPT0gMzYgLyogQ2guRG9sbGFyICovICYmIGlucHV0LnBlZWsoMSkgPT0gMzYgLyogQ2guRG9sbGFyICovKSB7XG4gICAgICAgICAgICBpbnB1dC5hZHZhbmNlKDIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZWFkV29yZChpbnB1dCwgcmVzdWx0KSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAoaW5wdXQubmV4dCAhPSA5NSAvKiBDaC5VbmRlcnNjb3JlICovICYmICFpc0FscGhhKGlucHV0Lm5leHQpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbClcbiAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGlucHV0Lm5leHQpO1xuICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZWFkV29yZE9yUXVvdGVkKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm5leHQgPT0gMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8gfHwgaW5wdXQubmV4dCA9PSAzNCAvKiBDaC5Eb3VibGVRdW90ZSAqLyB8fCBpbnB1dC5uZXh0ID09IDk2IC8qIENoLkJhY2t0aWNrICovKSB7XG4gICAgICAgIGxldCBxdW90ZSA9IGlucHV0Lm5leHQ7XG4gICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgcmVhZExpdGVyYWwoaW5wdXQsIHF1b3RlLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWFkV29yZChpbnB1dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVhZEJpdHMoaW5wdXQsIGVuZFF1b3RlKSB7XG4gICAgd2hpbGUgKGlucHV0Lm5leHQgPT0gNDggLyogQ2guXzAgKi8gfHwgaW5wdXQubmV4dCA9PSA0OSAvKiBDaC5fMSAqLylcbiAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIGlmIChlbmRRdW90ZSAmJiBpbnB1dC5uZXh0ID09IGVuZFF1b3RlKVxuICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG59XG5mdW5jdGlvbiByZWFkTnVtYmVyKGlucHV0LCBzYXdEb3QpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICAgIGlmIChpbnB1dC5uZXh0ID09IDQ2IC8qIENoLkRvdCAqLykge1xuICAgICAgICAgICAgaWYgKHNhd0RvdClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIHNhd0RvdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5wdXQubmV4dCA8IDQ4IC8qIENoLl8wICovIHx8IGlucHV0Lm5leHQgPiA1NyAvKiBDaC5fOSAqLykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQubmV4dCA9PSA2OSAvKiBDaC5FICovIHx8IGlucHV0Lm5leHQgPT0gMTAxIC8qIENoLmUgKi8pIHtcbiAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICBpZiAoaW5wdXQubmV4dCA9PSA0MyAvKiBDaC5QbHVzICovIHx8IGlucHV0Lm5leHQgPT0gNDUgLyogQ2guRGFzaCAqLylcbiAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgd2hpbGUgKGlucHV0Lm5leHQgPj0gNDggLyogQ2guXzAgKi8gJiYgaW5wdXQubmV4dCA8PSA1NyAvKiBDaC5fOSAqLylcbiAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlb2woaW5wdXQpIHtcbiAgICB3aGlsZSAoIShpbnB1dC5uZXh0IDwgMCB8fCBpbnB1dC5uZXh0ID09IDEwIC8qIENoLk5ld2xpbmUgKi8pKVxuICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG59XG5mdW5jdGlvbiBpblN0cmluZyhjaCwgc3RyKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChzdHIuY2hhckNvZGVBdChpKSA9PSBjaClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IFNwYWNlID0gXCIgXFx0XFxyXFxuXCI7XG5mdW5jdGlvbiBrZXl3b3JkcyhrZXl3b3JkcywgdHlwZXMsIGJ1aWx0aW4pIHtcbiAgICBsZXQgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXN1bHRbXCJ0cnVlXCJdID0gcmVzdWx0W1wiZmFsc2VcIl0gPSBCb29sO1xuICAgIHJlc3VsdFtcIm51bGxcIl0gPSByZXN1bHRbXCJ1bmtub3duXCJdID0gTnVsbDtcbiAgICBmb3IgKGxldCBrdyBvZiBrZXl3b3Jkcy5zcGxpdChcIiBcIikpXG4gICAgICAgIGlmIChrdylcbiAgICAgICAgICAgIHJlc3VsdFtrd10gPSBLZXl3b3JkO1xuICAgIGZvciAobGV0IHRwIG9mIHR5cGVzLnNwbGl0KFwiIFwiKSlcbiAgICAgICAgaWYgKHRwKVxuICAgICAgICAgICAgcmVzdWx0W3RwXSA9IFR5cGU7XG4gICAgZm9yIChsZXQga3cgb2YgKGJ1aWx0aW4gfHwgXCJcIikuc3BsaXQoXCIgXCIpKVxuICAgICAgICBpZiAoa3cpXG4gICAgICAgICAgICByZXN1bHRba3ddID0gQnVpbHRpbjtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgU1FMVHlwZXMgPSBcImFycmF5IGJpbmFyeSBiaXQgYm9vbGVhbiBjaGFyIGNoYXJhY3RlciBjbG9iIGRhdGUgZGVjaW1hbCBkb3VibGUgZmxvYXQgaW50IGludGVnZXIgaW50ZXJ2YWwgbGFyZ2UgbmF0aW9uYWwgbmNoYXIgbmNsb2IgbnVtZXJpYyBvYmplY3QgcHJlY2lzaW9uIHJlYWwgc21hbGxpbnQgdGltZSB0aW1lc3RhbXAgdmFyY2hhciB2YXJ5aW5nIFwiO1xuY29uc3QgU1FMS2V5d29yZHMgPSBcImFic29sdXRlIGFjdGlvbiBhZGQgYWZ0ZXIgYWxsIGFsbG9jYXRlIGFsdGVyIGFuZCBhbnkgYXJlIGFzIGFzYyBhc3NlcnRpb24gYXQgYXV0aG9yaXphdGlvbiBiZWZvcmUgYmVnaW4gYmV0d2VlbiBib3RoIGJyZWFkdGggYnkgY2FsbCBjYXNjYWRlIGNhc2NhZGVkIGNhc2UgY2FzdCBjYXRhbG9nIGNoZWNrIGNsb3NlIGNvbGxhdGUgY29sbGF0aW9uIGNvbHVtbiBjb21taXQgY29uZGl0aW9uIGNvbm5lY3QgY29ubmVjdGlvbiBjb25zdHJhaW50IGNvbnN0cmFpbnRzIGNvbnN0cnVjdG9yIGNvbnRpbnVlIGNvcnJlc3BvbmRpbmcgY291bnQgY3JlYXRlIGNyb3NzIGN1YmUgY3VycmVudCBjdXJyZW50X2RhdGUgY3VycmVudF9kZWZhdWx0X3RyYW5zZm9ybV9ncm91cCBjdXJyZW50X3RyYW5zZm9ybV9ncm91cF9mb3JfdHlwZSBjdXJyZW50X3BhdGggY3VycmVudF9yb2xlIGN1cnJlbnRfdGltZSBjdXJyZW50X3RpbWVzdGFtcCBjdXJyZW50X3VzZXIgY3Vyc29yIGN5Y2xlIGRhdGEgZGF5IGRlYWxsb2NhdGUgZGVjbGFyZSBkZWZhdWx0IGRlZmVycmFibGUgZGVmZXJyZWQgZGVsZXRlIGRlcHRoIGRlcmVmIGRlc2MgZGVzY3JpYmUgZGVzY3JpcHRvciBkZXRlcm1pbmlzdGljIGRpYWdub3N0aWNzIGRpc2Nvbm5lY3QgZGlzdGluY3QgZG8gZG9tYWluIGRyb3AgZHluYW1pYyBlYWNoIGVsc2UgZWxzZWlmIGVuZCBlbmQtZXhlYyBlcXVhbHMgZXNjYXBlIGV4Y2VwdCBleGNlcHRpb24gZXhlYyBleGVjdXRlIGV4aXN0cyBleGl0IGV4dGVybmFsIGZldGNoIGZpcnN0IGZvciBmb3JlaWduIGZvdW5kIGZyb20gZnJlZSBmdWxsIGZ1bmN0aW9uIGdlbmVyYWwgZ2V0IGdsb2JhbCBnbyBnb3RvIGdyYW50IGdyb3VwIGdyb3VwaW5nIGhhbmRsZSBoYXZpbmcgaG9sZCBob3VyIGlkZW50aXR5IGlmIGltbWVkaWF0ZSBpbiBpbmRpY2F0b3IgaW5pdGlhbGx5IGlubmVyIGlub3V0IGlucHV0IGluc2VydCBpbnRlcnNlY3QgaW50byBpcyBpc29sYXRpb24gam9pbiBrZXkgbGFuZ3VhZ2UgbGFzdCBsYXRlcmFsIGxlYWRpbmcgbGVhdmUgbGVmdCBsZXZlbCBsaWtlIGxpbWl0IGxvY2FsIGxvY2FsdGltZSBsb2NhbHRpbWVzdGFtcCBsb2NhdG9yIGxvb3AgbWFwIG1hdGNoIG1ldGhvZCBtaW51dGUgbW9kaWZpZXMgbW9kdWxlIG1vbnRoIG5hbWVzIG5hdHVyYWwgbmVzdGluZyBuZXcgbmV4dCBubyBub25lIG5vdCBvZiBvbGQgb24gb25seSBvcGVuIG9wdGlvbiBvciBvcmRlciBvcmRpbmFsaXR5IG91dCBvdXRlciBvdXRwdXQgb3ZlcmxhcHMgcGFkIHBhcmFtZXRlciBwYXJ0aWFsIHBhdGggcHJlcGFyZSBwcmVzZXJ2ZSBwcmltYXJ5IHByaW9yIHByaXZpbGVnZXMgcHJvY2VkdXJlIHB1YmxpYyByZWFkIHJlYWRzIHJlY3Vyc2l2ZSByZWRvIHJlZiByZWZlcmVuY2VzIHJlZmVyZW5jaW5nIHJlbGF0aXZlIHJlbGVhc2UgcmVwZWF0IHJlc2lnbmFsIHJlc3RyaWN0IHJlc3VsdCByZXR1cm4gcmV0dXJucyByZXZva2UgcmlnaHQgcm9sZSByb2xsYmFjayByb2xsdXAgcm91dGluZSByb3cgcm93cyBzYXZlcG9pbnQgc2NoZW1hIHNjcm9sbCBzZWFyY2ggc2Vjb25kIHNlY3Rpb24gc2VsZWN0IHNlc3Npb24gc2Vzc2lvbl91c2VyIHNldCBzZXRzIHNpZ25hbCBzaW1pbGFyIHNpemUgc29tZSBzcGFjZSBzcGVjaWZpYyBzcGVjaWZpY3R5cGUgc3FsIHNxbGV4Y2VwdGlvbiBzcWxzdGF0ZSBzcWx3YXJuaW5nIHN0YXJ0IHN0YXRlIHN0YXRpYyBzeXN0ZW1fdXNlciB0YWJsZSB0ZW1wb3JhcnkgdGhlbiB0aW1lem9uZV9ob3VyIHRpbWV6b25lX21pbnV0ZSB0byB0cmFpbGluZyB0cmFuc2FjdGlvbiB0cmFuc2xhdGlvbiB0cmVhdCB0cmlnZ2VyIHVuZGVyIHVuZG8gdW5pb24gdW5pcXVlIHVubmVzdCB1bnRpbCB1cGRhdGUgdXNhZ2UgdXNlciB1c2luZyB2YWx1ZSB2YWx1ZXMgdmlldyB3aGVuIHdoZW5ldmVyIHdoZXJlIHdoaWxlIHdpdGggd2l0aG91dCB3b3JrIHdyaXRlIHllYXIgem9uZSBcIjtcbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGJhY2tzbGFzaEVzY2FwZXM6IGZhbHNlLFxuICAgIGhhc2hDb21tZW50czogZmFsc2UsXG4gICAgc3BhY2VBZnRlckRhc2hlczogZmFsc2UsXG4gICAgc2xhc2hDb21tZW50czogZmFsc2UsXG4gICAgZG91YmxlUXVvdGVkU3RyaW5nczogZmFsc2UsXG4gICAgZG91YmxlRG9sbGFyUXVvdGVkU3RyaW5nczogZmFsc2UsXG4gICAgdW5xdW90ZWRCaXRMaXRlcmFsczogZmFsc2UsXG4gICAgdHJlYXRCaXRzQXNCeXRlczogZmFsc2UsXG4gICAgY2hhclNldENhc3RzOiBmYWxzZSxcbiAgICBvcGVyYXRvckNoYXJzOiBcIiorXFwtJTw+IT0mfH5eL1wiLFxuICAgIHNwZWNpYWxWYXI6IFwiP1wiLFxuICAgIGlkZW50aWZpZXJRdW90ZXM6ICdcIicsXG4gICAgd29yZHM6IC8qQF9fUFVSRV9fKi9rZXl3b3JkcyhTUUxLZXl3b3JkcywgU1FMVHlwZXMpXG59O1xuZnVuY3Rpb24gZGlhbGVjdChzcGVjLCBrd3MsIHR5cGVzLCBidWlsdGluKSB7XG4gICAgbGV0IGRpYWxlY3QgPSB7fTtcbiAgICBmb3IgKGxldCBwcm9wIGluIGRlZmF1bHRzKVxuICAgICAgICBkaWFsZWN0W3Byb3BdID0gKHNwZWMuaGFzT3duUHJvcGVydHkocHJvcCkgPyBzcGVjIDogZGVmYXVsdHMpW3Byb3BdO1xuICAgIGlmIChrd3MpXG4gICAgICAgIGRpYWxlY3Qud29yZHMgPSBrZXl3b3Jkcyhrd3MsIHR5cGVzIHx8IFwiXCIsIGJ1aWx0aW4pO1xuICAgIHJldHVybiBkaWFsZWN0O1xufVxuZnVuY3Rpb24gdG9rZW5zRm9yKGQpIHtcbiAgICByZXR1cm4gbmV3IEV4dGVybmFsVG9rZW5pemVyKGlucHV0ID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgeyBuZXh0IH0gPSBpbnB1dDtcbiAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICBpZiAoaW5TdHJpbmcobmV4dCwgU3BhY2UpKSB7XG4gICAgICAgICAgICB3aGlsZSAoaW5TdHJpbmcoaW5wdXQubmV4dCwgU3BhY2UpKVxuICAgICAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKHdoaXRlc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gMzYgLyogQ2guRG9sbGFyICovICYmIGlucHV0Lm5leHQgPT0gMzYgLyogQ2guRG9sbGFyICovICYmIGQuZG91YmxlRG9sbGFyUXVvdGVkU3RyaW5ncykge1xuICAgICAgICAgICAgcmVhZERvdWJsZURvbGxhckxpdGVyYWwoaW5wdXQpO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oU3RyaW5nJDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8gfHwgbmV4dCA9PSAzNCAvKiBDaC5Eb3VibGVRdW90ZSAqLyAmJiBkLmRvdWJsZVF1b3RlZFN0cmluZ3MpIHtcbiAgICAgICAgICAgIHJlYWRMaXRlcmFsKGlucHV0LCBuZXh0LCBkLmJhY2tzbGFzaEVzY2FwZXMpO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oU3RyaW5nJDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gMzUgLyogQ2guSGFzaCAqLyAmJiBkLmhhc2hDb21tZW50cyB8fFxuICAgICAgICAgICAgbmV4dCA9PSA0NyAvKiBDaC5TbGFzaCAqLyAmJiBpbnB1dC5uZXh0ID09IDQ3IC8qIENoLlNsYXNoICovICYmIGQuc2xhc2hDb21tZW50cykge1xuICAgICAgICAgICAgZW9sKGlucHV0KTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKExpbmVDb21tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXh0ID09IDQ1IC8qIENoLkRhc2ggKi8gJiYgaW5wdXQubmV4dCA9PSA0NSAvKiBDaC5EYXNoICovICYmXG4gICAgICAgICAgICAoIWQuc3BhY2VBZnRlckRhc2hlcyB8fCBpbnB1dC5wZWVrKDEpID09IDMyIC8qIENoLlNwYWNlICovKSkge1xuICAgICAgICAgICAgZW9sKGlucHV0KTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKExpbmVDb21tZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXh0ID09IDQ3IC8qIENoLlNsYXNoICovICYmIGlucHV0Lm5leHQgPT0gNDIgLyogQ2guU3RhciAqLykge1xuICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgcHJldiA9IC0xLCBkZXB0aCA9IDE7Oykge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5uZXh0IDwgMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2ID09IDQyIC8qIENoLlN0YXIgKi8gJiYgaW5wdXQubmV4dCA9PSA0NyAvKiBDaC5TbGFzaCAqLykge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcmV2ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByZXYgPT0gNDcgLyogQ2guU2xhc2ggKi8gJiYgaW5wdXQubmV4dCA9PSA0MiAvKiBDaC5TdGFyICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBpbnB1dC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKEJsb2NrQ29tbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG5leHQgPT0gMTAxIC8qIENoLmUgKi8gfHwgbmV4dCA9PSA2OSAvKiBDaC5FICovKSAmJiBpbnB1dC5uZXh0ID09IDM5IC8qIENoLlNpbmdsZVF1b3RlICovKSB7XG4gICAgICAgICAgICBpbnB1dC5hZHZhbmNlKCk7XG4gICAgICAgICAgICByZWFkTGl0ZXJhbChpbnB1dCwgMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8sIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChuZXh0ID09IDExMCAvKiBDaC5uICovIHx8IG5leHQgPT0gNzggLyogQ2guTiAqLykgJiYgaW5wdXQubmV4dCA9PSAzOSAvKiBDaC5TaW5nbGVRdW90ZSAqLyAmJlxuICAgICAgICAgICAgZC5jaGFyU2V0Q2FzdHMpIHtcbiAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJlYWRMaXRlcmFsKGlucHV0LCAzOSAvKiBDaC5TaW5nbGVRdW90ZSAqLywgZC5iYWNrc2xhc2hFc2NhcGVzKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKFN0cmluZyQxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXh0ID09IDk1IC8qIENoLlVuZGVyc2NvcmUgKi8gJiYgZC5jaGFyU2V0Q2FzdHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0Lm5leHQgPT0gMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8gJiYgaSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICByZWFkTGl0ZXJhbChpbnB1dCwgMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8sIGQuYmFja3NsYXNoRXNjYXBlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKFN0cmluZyQxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaXNBbHBoYShpbnB1dC5uZXh0KSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gNDAgLyogQ2guUGFyZW5MICovKSB7XG4gICAgICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbihQYXJlbkwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gNDEgLyogQ2guUGFyZW5SICovKSB7XG4gICAgICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbihQYXJlblIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gMTIzIC8qIENoLkJyYWNlTCAqLykge1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oQnJhY2VMKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXh0ID09IDEyNSAvKiBDaC5CcmFjZVIgKi8pIHtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKEJyYWNlUik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dCA9PSA5MSAvKiBDaC5CcmFja2V0TCAqLykge1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oQnJhY2tldEwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gOTMgLyogQ2guQnJhY2tldFIgKi8pIHtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKEJyYWNrZXRSKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXh0ID09IDU5IC8qIENoLlNlbWkgKi8pIHtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKFNlbWkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGQudW5xdW90ZWRCaXRMaXRlcmFscyAmJiBuZXh0ID09IDQ4IC8qIENoLl8wICovICYmIGlucHV0Lm5leHQgPT0gOTggLyogQ2guYiAqLykge1xuICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmVhZEJpdHMoaW5wdXQpO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oQml0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG5leHQgPT0gOTggLyogQ2guYiAqLyB8fCBuZXh0ID09IDY2IC8qIENoLkIgKi8pICYmIChpbnB1dC5uZXh0ID09IDM5IC8qIENoLlNpbmdsZVF1b3RlICovIHx8IGlucHV0Lm5leHQgPT0gMzQgLyogQ2guRG91YmxlUXVvdGUgKi8pKSB7XG4gICAgICAgICAgICBjb25zdCBxdW90ZVN0eWxlID0gaW5wdXQubmV4dDtcbiAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlmIChkLnRyZWF0Qml0c0FzQnl0ZXMpIHtcbiAgICAgICAgICAgICAgICByZWFkTGl0ZXJhbChpbnB1dCwgcXVvdGVTdHlsZSwgZC5iYWNrc2xhc2hFc2NhcGVzKTtcbiAgICAgICAgICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbihCeXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWFkQml0cyhpbnB1dCwgcXVvdGVTdHlsZSk7XG4gICAgICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oQml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dCA9PSA0OCAvKiBDaC5fMCAqLyAmJiAoaW5wdXQubmV4dCA9PSAxMjAgLyogQ2gueCAqLyB8fCBpbnB1dC5uZXh0ID09IDg4IC8qIENoLlggKi8pIHx8XG4gICAgICAgICAgICAobmV4dCA9PSAxMjAgLyogQ2gueCAqLyB8fCBuZXh0ID09IDg4IC8qIENoLlggKi8pICYmIGlucHV0Lm5leHQgPT0gMzkgLyogQ2guU2luZ2xlUXVvdGUgKi8pIHtcbiAgICAgICAgICAgIGxldCBxdW90ZWQgPSBpbnB1dC5uZXh0ID09IDM5IC8qIENoLlNpbmdsZVF1b3RlICovO1xuICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgd2hpbGUgKGlzSGV4RGlnaXQoaW5wdXQubmV4dCkpXG4gICAgICAgICAgICAgICAgaW5wdXQuYWR2YW5jZSgpO1xuICAgICAgICAgICAgaWYgKHF1b3RlZCAmJiBpbnB1dC5uZXh0ID09IDM5IC8qIENoLlNpbmdsZVF1b3RlICovKVxuICAgICAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dCA9PSA0NiAvKiBDaC5Eb3QgKi8gJiYgaW5wdXQubmV4dCA+PSA0OCAvKiBDaC5fMCAqLyAmJiBpbnB1dC5uZXh0IDw9IDU3IC8qIENoLl85ICovKSB7XG4gICAgICAgICAgICByZWFkTnVtYmVyKGlucHV0LCB0cnVlKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKE51bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dCA9PSA0NiAvKiBDaC5Eb3QgKi8pIHtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKERvdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV4dCA+PSA0OCAvKiBDaC5fMCAqLyAmJiBuZXh0IDw9IDU3IC8qIENoLl85ICovKSB7XG4gICAgICAgICAgICByZWFkTnVtYmVyKGlucHV0LCBmYWxzZSk7XG4gICAgICAgICAgICBpbnB1dC5hY2NlcHRUb2tlbihOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGluU3RyaW5nKG5leHQsIGQub3BlcmF0b3JDaGFycykpIHtcbiAgICAgICAgICAgIHdoaWxlIChpblN0cmluZyhpbnB1dC5uZXh0LCBkLm9wZXJhdG9yQ2hhcnMpKVxuICAgICAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKE9wZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpblN0cmluZyhuZXh0LCBkLnNwZWNpYWxWYXIpKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQubmV4dCA9PSBuZXh0KVxuICAgICAgICAgICAgICAgIGlucHV0LmFkdmFuY2UoKTtcbiAgICAgICAgICAgIHJlYWRXb3JkT3JRdW90ZWQoaW5wdXQpO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oU3BlY2lhbFZhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5TdHJpbmcobmV4dCwgZC5pZGVudGlmaWVyUXVvdGVzKSkge1xuICAgICAgICAgICAgcmVhZExpdGVyYWwoaW5wdXQsIG5leHQsIGZhbHNlKTtcbiAgICAgICAgICAgIGlucHV0LmFjY2VwdFRva2VuKFF1b3RlZElkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5leHQgPT0gNTggLyogQ2guQ29sb24gKi8gfHwgbmV4dCA9PSA0NCAvKiBDaC5Db21tYSAqLykge1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oUHVuY3R1YXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQWxwaGEobmV4dCkpIHtcbiAgICAgICAgICAgIGxldCB3b3JkID0gcmVhZFdvcmQoaW5wdXQsIFN0cmluZy5mcm9tQ2hhckNvZGUobmV4dCkpO1xuICAgICAgICAgICAgaW5wdXQuYWNjZXB0VG9rZW4oaW5wdXQubmV4dCA9PSA0NiAvKiBDaC5Eb3QgKi8gPyBJZGVudGlmaWVyIDogKF9hID0gZC53b3Jkc1t3b3JkLnRvTG93ZXJDYXNlKCldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBJZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuY29uc3QgdG9rZW5zID0gLypAX19QVVJFX18qL3Rva2Vuc0ZvcihkZWZhdWx0cyk7XG5cbi8vIFRoaXMgZmlsZSB3YXMgZ2VuZXJhdGVkIGJ5IGxlemVyLWdlbmVyYXRvci4gWW91IHByb2JhYmx5IHNob3VsZG4ndCBlZGl0IGl0LlxuY29uc3QgcGFyc2VyJDEgPSAvKkBfX1BVUkVfXyovTFJQYXJzZXIuZGVzZXJpYWxpemUoe1xuICB2ZXJzaW9uOiAxNCxcbiAgc3RhdGVzOiBcIiV2UV1RUU9PTyN3UVJPJyNEU08kT1FRTycjQ3dPJWVRUU8nI0N4TyVsUVFPJyNDeU8lc1FRTycjQ3pPT1FRJyNEUycjRFNPT1FRJyNDfScjQ31PJ1VRUk8nI0N7T09RUScjQ3YnI0N2T09RUScjQ3wnI0N8UV1RUU9PUU9RUU9PTydgUVFPJyNET08oeFFSTyw1OWNPKVBRUU8sNTljTylVUVFPJyNEU09PUVEsNTlkLDU5ZE8pY1FRTyw1OWRPT1FRLDU5ZSw1OWVPKWpRUU8sNTllT09RUSw1OWYsNTlmTylxUVFPLDU5Zk9PUVEtRTZ7LUU2e09PUVEsNTliLDU5Yk9PUVEtRTZ6LUU2ek9PUVEsNTlqLDU5ak9PUVEtRTZ8LUU2fE8rVlFSTzFHLn1PK15RUU8sNTljT09RUTFHL08xRy9PT09RUTFHL1AxRy9QT09RUTFHL1ExRy9RUCtrUVFPJyNDfU8rclFRTzFHLn1PKVBRUU8sNTljTyxQUVFPJyNDd1wiLFxuICBzdGF0ZURhdGE6IFwiLFt+T3RPU1BPU1FPU35PUlVPU1VPVFVPVVVPVlJPWFNPWlRPXVhPXlFPX1VPYFVPYVBPYlBPY1BPZFVPZVVPZlVPZ1VPaFVPfk9eXU9SdlhTdlhUdlhVdlhWdlhYdlhadlhddlhfdlhgdlhhdlhidlhjdlhkdlhldlhmdlhndlhodlh+T3N2WH5QIWpPYV9PYl9PY19Pfk9SVU9TVU9UVU9VVU9WUk9YU09aVE9edE9fVU9gVU9hYE9iYE9jYE9kVU9lVU9mVU9nVU9oVU9+T1dhT35QJFpPWWNPflAkWk9bZU9+UCRaT1JVT1NVT1RVT1VVT1ZST1hTT1pUT15RT19VT2BVT2FQT2JQT2NQT2RVT2VVT2ZVT2dVT2hVT35PXWhPc29YflAlek9hak9iak9jak9+T15dT1JrYVNrYVRrYVVrYVZrYVhrYVprYV1rYV9rYWBrYWFrYWJrYWNrYWRrYWVrYWZrYWdrYWhrYX5Pc2thflAna09eXU9+T1d2WFl2WFt2WH5QIWpPV25PflAkWk9Zb09+UCRaT1twT35QJFpPXl1PUmtpU2tpVGtpVWtpVmtpWGtpWmtpXWtpX2tpYGtpYWtpYmtpY2tpZGtpZWtpZmtpZ2tpaGtpfk9za2l+UCl4T1drYVlrYVtrYX5QJ2tPXWhPflAkWk9Xa2lZa2lba2l+UCl4T2FzT2JzT2NzT35PXCIsXG4gIGdvdG86IFwiI2h3UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFB4fHx8fCFZIV4hZCF4UFBQI1tUWU9aZVVPUlNUV1piZGZxVFtPWlFaT1JpWlNXT1pRYlJRZFNRZlRaZ1diZGZxUV5QV2tebG1yUWxfUW1gUnJzZVZPUlNUV1piZGZxXCIsXG4gIG5vZGVOYW1lczogXCJcdTI2QTAgTGluZUNvbW1lbnQgQmxvY2tDb21tZW50IFN0cmluZyBOdW1iZXIgQm9vbCBOdWxsICggKSBbIF0geyB9IDsgLiBPcGVyYXRvciBQdW5jdHVhdGlvbiBTcGVjaWFsVmFyIElkZW50aWZpZXIgUXVvdGVkSWRlbnRpZmllciBLZXl3b3JkIFR5cGUgQml0cyBCeXRlcyBCdWlsdGluIFNjcmlwdCBTdGF0ZW1lbnQgQ29tcG9zaXRlSWRlbnRpZmllciBQYXJlbnMgQnJhY2VzIEJyYWNrZXRzIFN0YXRlbWVudFwiLFxuICBtYXhUZXJtOiAzOCxcbiAgc2tpcHBlZE5vZGVzOiBbMCwxLDJdLFxuICByZXBlYXROb2RlQ291bnQ6IDMsXG4gIHRva2VuRGF0YTogXCJST1JPXCIsXG4gIHRva2VuaXplcnM6IFswLCB0b2tlbnNdLFxuICB0b3BSdWxlczoge1wiU2NyaXB0XCI6WzAsMjVdfSxcbiAgdG9rZW5QcmVjOiAwXG59KTtcblxuZnVuY3Rpb24gdG9rZW5CZWZvcmUodHJlZSkge1xuICAgIGxldCBjdXJzb3IgPSB0cmVlLmN1cnNvcigpLm1vdmVUbyh0cmVlLmZyb20sIC0xKTtcbiAgICB3aGlsZSAoL0NvbW1lbnQvLnRlc3QoY3Vyc29yLm5hbWUpKVxuICAgICAgICBjdXJzb3IubW92ZVRvKGN1cnNvci5mcm9tLCAtMSk7XG4gICAgcmV0dXJuIGN1cnNvci5ub2RlO1xufVxuZnVuY3Rpb24gaWROYW1lKGRvYywgbm9kZSkge1xuICAgIGxldCB0ZXh0ID0gZG9jLnNsaWNlU3RyaW5nKG5vZGUuZnJvbSwgbm9kZS50byk7XG4gICAgbGV0IHF1b3RlZCA9IC9eKFtgJ1wiXSkoLiopXFwxJC8uZXhlYyh0ZXh0KTtcbiAgICByZXR1cm4gcXVvdGVkID8gcXVvdGVkWzJdIDogdGV4dDtcbn1cbmZ1bmN0aW9uIHBsYWluSUQobm9kZSkge1xuICAgIHJldHVybiBub2RlICYmIChub2RlLm5hbWUgPT0gXCJJZGVudGlmaWVyXCIgfHwgbm9kZS5uYW1lID09IFwiUXVvdGVkSWRlbnRpZmllclwiKTtcbn1cbmZ1bmN0aW9uIHBhdGhGb3IoZG9jLCBpZCkge1xuICAgIGlmIChpZC5uYW1lID09IFwiQ29tcG9zaXRlSWRlbnRpZmllclwiKSB7XG4gICAgICAgIGxldCBwYXRoID0gW107XG4gICAgICAgIGZvciAobGV0IGNoID0gaWQuZmlyc3RDaGlsZDsgY2g7IGNoID0gY2gubmV4dFNpYmxpbmcpXG4gICAgICAgICAgICBpZiAocGxhaW5JRChjaCkpXG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGlkTmFtZShkb2MsIGNoKSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgICByZXR1cm4gW2lkTmFtZShkb2MsIGlkKV07XG59XG5mdW5jdGlvbiBwYXJlbnRzRm9yKGRvYywgbm9kZSkge1xuICAgIGZvciAobGV0IHBhdGggPSBbXTs7KSB7XG4gICAgICAgIGlmICghbm9kZSB8fCBub2RlLm5hbWUgIT0gXCIuXCIpXG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgbGV0IG5hbWUgPSB0b2tlbkJlZm9yZShub2RlKTtcbiAgICAgICAgaWYgKCFwbGFpbklEKG5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIHBhdGgudW5zaGlmdChpZE5hbWUoZG9jLCBuYW1lKSk7XG4gICAgICAgIG5vZGUgPSB0b2tlbkJlZm9yZShuYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzb3VyY2VDb250ZXh0KHN0YXRlLCBzdGFydFBvcykge1xuICAgIGxldCBwb3MgPSBzeW50YXhUcmVlKHN0YXRlKS5yZXNvbHZlSW5uZXIoc3RhcnRQb3MsIC0xKTtcbiAgICBsZXQgYWxpYXNlcyA9IGdldEFsaWFzZXMoc3RhdGUuZG9jLCBwb3MpO1xuICAgIGlmIChwb3MubmFtZSA9PSBcIklkZW50aWZpZXJcIiB8fCBwb3MubmFtZSA9PSBcIlF1b3RlZElkZW50aWZpZXJcIiB8fCBwb3MubmFtZSA9PSBcIktleXdvcmRcIikge1xuICAgICAgICByZXR1cm4geyBmcm9tOiBwb3MuZnJvbSxcbiAgICAgICAgICAgIHF1b3RlZDogcG9zLm5hbWUgPT0gXCJRdW90ZWRJZGVudGlmaWVyXCIgPyBzdGF0ZS5kb2Muc2xpY2VTdHJpbmcocG9zLmZyb20sIHBvcy5mcm9tICsgMSkgOiBudWxsLFxuICAgICAgICAgICAgcGFyZW50czogcGFyZW50c0ZvcihzdGF0ZS5kb2MsIHRva2VuQmVmb3JlKHBvcykpLFxuICAgICAgICAgICAgYWxpYXNlcyB9O1xuICAgIH1cbiAgICBpZiAocG9zLm5hbWUgPT0gXCIuXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgZnJvbTogc3RhcnRQb3MsIHF1b3RlZDogbnVsbCwgcGFyZW50czogcGFyZW50c0ZvcihzdGF0ZS5kb2MsIHBvcyksIGFsaWFzZXMgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IGZyb206IHN0YXJ0UG9zLCBxdW90ZWQ6IG51bGwsIHBhcmVudHM6IFtdLCBlbXB0eTogdHJ1ZSwgYWxpYXNlcyB9O1xuICAgIH1cbn1cbmNvbnN0IEVuZEZyb20gPSAvKkBfX1BVUkVfXyovbmV3IFNldCgvKkBfX1BVUkVfXyovXCJ3aGVyZSBncm91cCBoYXZpbmcgb3JkZXIgdW5pb24gaW50ZXJzZWN0IGV4Y2VwdCBhbGwgZGlzdGluY3QgbGltaXQgb2Zmc2V0IGZldGNoIGZvclwiLnNwbGl0KFwiIFwiKSk7XG5mdW5jdGlvbiBnZXRBbGlhc2VzKGRvYywgYXQpIHtcbiAgICBsZXQgc3RhdGVtZW50O1xuICAgIGZvciAobGV0IHBhcmVudCA9IGF0OyAhc3RhdGVtZW50OyBwYXJlbnQgPSBwYXJlbnQucGFyZW50KSB7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChwYXJlbnQubmFtZSA9PSBcIlN0YXRlbWVudFwiKVxuICAgICAgICAgICAgc3RhdGVtZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICBsZXQgYWxpYXNlcyA9IG51bGw7XG4gICAgZm9yIChsZXQgc2NhbiA9IHN0YXRlbWVudC5maXJzdENoaWxkLCBzYXdGcm9tID0gZmFsc2UsIHByZXZJRCA9IG51bGw7IHNjYW47IHNjYW4gPSBzY2FuLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGxldCBrdyA9IHNjYW4ubmFtZSA9PSBcIktleXdvcmRcIiA/IGRvYy5zbGljZVN0cmluZyhzY2FuLmZyb20sIHNjYW4udG8pLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuICAgICAgICBsZXQgYWxpYXMgPSBudWxsO1xuICAgICAgICBpZiAoIXNhd0Zyb20pIHtcbiAgICAgICAgICAgIHNhd0Zyb20gPSBrdyA9PSBcImZyb21cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrdyA9PSBcImFzXCIgJiYgcHJldklEICYmIHBsYWluSUQoc2Nhbi5uZXh0U2libGluZykpIHtcbiAgICAgICAgICAgIGFsaWFzID0gaWROYW1lKGRvYywgc2Nhbi5uZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa3cgJiYgRW5kRnJvbS5oYXMoa3cpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcmV2SUQgJiYgcGxhaW5JRChzY2FuKSkge1xuICAgICAgICAgICAgYWxpYXMgPSBpZE5hbWUoZG9jLCBzY2FuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWxpYXMpIHtcbiAgICAgICAgICAgIGlmICghYWxpYXNlcylcbiAgICAgICAgICAgICAgICBhbGlhc2VzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIGFsaWFzZXNbYWxpYXNdID0gcGF0aEZvcihkb2MsIHByZXZJRCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldklEID0gL0lkZW50aWZpZXIkLy50ZXN0KHNjYW4ubmFtZSkgPyBzY2FuIDogbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGFsaWFzZXM7XG59XG5mdW5jdGlvbiBtYXliZVF1b3RlQ29tcGxldGlvbnMocXVvdGUsIGNvbXBsZXRpb25zKSB7XG4gICAgaWYgKCFxdW90ZSlcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRpb25zO1xuICAgIHJldHVybiBjb21wbGV0aW9ucy5tYXAoYyA9PiAoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjKSwgeyBsYWJlbDogcXVvdGUgKyBjLmxhYmVsICsgcXVvdGUsIGFwcGx5OiB1bmRlZmluZWQgfSkpKTtcbn1cbmNvbnN0IFNwYW4gPSAvXlxcdyokLywgUXVvdGVkU3BhbiA9IC9eW2AnXCJdP1xcdypbYCdcIl0/JC87XG5jbGFzcyBDb21wbGV0aW9uTGV2ZWwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY2hpbGQobmFtZSkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuIHx8ICh0aGlzLmNoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbltuYW1lXSB8fCAoY2hpbGRyZW5bbmFtZV0gPSBuZXcgQ29tcGxldGlvbkxldmVsKTtcbiAgICB9XG4gICAgY2hpbGRDb21wbGV0aW9ucyh0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuID8gT2JqZWN0LmtleXModGhpcy5jaGlsZHJlbikuZmlsdGVyKHggPT4geCkubWFwKG5hbWUgPT4gKHsgbGFiZWw6IG5hbWUsIHR5cGUgfSkpIDogW107XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcGxldGVGcm9tU2NoZW1hKHNjaGVtYSwgdGFibGVzLCBkZWZhdWx0VGFibGVOYW1lLCBkZWZhdWx0U2NoZW1hTmFtZSkge1xuICAgIGxldCB0b3AgPSBuZXcgQ29tcGxldGlvbkxldmVsO1xuICAgIGxldCBkZWZhdWx0U2NoZW1hID0gdG9wLmNoaWxkKGRlZmF1bHRTY2hlbWFOYW1lIHx8IFwiXCIpO1xuICAgIGZvciAobGV0IHRhYmxlIGluIHNjaGVtYSkge1xuICAgICAgICBsZXQgZG90ID0gdGFibGUuaW5kZXhPZihcIi5cIik7XG4gICAgICAgIGxldCBzY2hlbWFDb21wbGV0aW9ucyA9IGRvdCA+IC0xID8gdG9wLmNoaWxkKHRhYmxlLnNsaWNlKDAsIGRvdCkpIDogZGVmYXVsdFNjaGVtYTtcbiAgICAgICAgbGV0IHRhYmxlQ29tcGxldGlvbnMgPSBzY2hlbWFDb21wbGV0aW9ucy5jaGlsZChkb3QgPiAtMSA/IHRhYmxlLnNsaWNlKGRvdCArIDEpIDogdGFibGUpO1xuICAgICAgICB0YWJsZUNvbXBsZXRpb25zLmxpc3QgPSBzY2hlbWFbdGFibGVdLm1hcCh2YWwgPT4gdHlwZW9mIHZhbCA9PSBcInN0cmluZ1wiID8geyBsYWJlbDogdmFsLCB0eXBlOiBcInByb3BlcnR5XCIgfSA6IHZhbCk7XG4gICAgfVxuICAgIGRlZmF1bHRTY2hlbWEubGlzdCA9ICh0YWJsZXMgfHwgZGVmYXVsdFNjaGVtYS5jaGlsZENvbXBsZXRpb25zKFwidHlwZVwiKSlcbiAgICAgICAgLmNvbmNhdChkZWZhdWx0VGFibGVOYW1lID8gZGVmYXVsdFNjaGVtYS5jaGlsZChkZWZhdWx0VGFibGVOYW1lKS5saXN0IDogW10pO1xuICAgIGZvciAobGV0IHNOYW1lIGluIHRvcC5jaGlsZHJlbikge1xuICAgICAgICBsZXQgc2NoZW1hID0gdG9wLmNoaWxkKHNOYW1lKTtcbiAgICAgICAgaWYgKCFzY2hlbWEubGlzdC5sZW5ndGgpXG4gICAgICAgICAgICBzY2hlbWEubGlzdCA9IHNjaGVtYS5jaGlsZENvbXBsZXRpb25zKFwidHlwZVwiKTtcbiAgICB9XG4gICAgdG9wLmxpc3QgPSBkZWZhdWx0U2NoZW1hLmxpc3QuY29uY2F0KHRvcC5jaGlsZENvbXBsZXRpb25zKFwidHlwZVwiKSk7XG4gICAgcmV0dXJuIChjb250ZXh0KSA9PiB7XG4gICAgICAgIGxldCB7IHBhcmVudHMsIGZyb20sIHF1b3RlZCwgZW1wdHksIGFsaWFzZXMgfSA9IHNvdXJjZUNvbnRleHQoY29udGV4dC5zdGF0ZSwgY29udGV4dC5wb3MpO1xuICAgICAgICBpZiAoZW1wdHkgJiYgIWNvbnRleHQuZXhwbGljaXQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKGFsaWFzZXMgJiYgcGFyZW50cy5sZW5ndGggPT0gMSlcbiAgICAgICAgICAgIHBhcmVudHMgPSBhbGlhc2VzW3BhcmVudHNbMF1dIHx8IHBhcmVudHM7XG4gICAgICAgIGxldCBsZXZlbCA9IHRvcDtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBwYXJlbnRzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIWxldmVsLmNoaWxkcmVuIHx8ICFsZXZlbC5jaGlsZHJlbltuYW1lXSkge1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbCA9PSB0b3ApXG4gICAgICAgICAgICAgICAgICAgIGxldmVsID0gZGVmYXVsdFNjaGVtYTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsZXZlbCA9PSBkZWZhdWx0U2NoZW1hICYmIGRlZmF1bHRUYWJsZU5hbWUpXG4gICAgICAgICAgICAgICAgICAgIGxldmVsID0gbGV2ZWwuY2hpbGQoZGVmYXVsdFRhYmxlTmFtZSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsID0gbGV2ZWwuY2hpbGQobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHF1b3RlQWZ0ZXIgPSBxdW90ZWQgJiYgY29udGV4dC5zdGF0ZS5zbGljZURvYyhjb250ZXh0LnBvcywgY29udGV4dC5wb3MgKyAxKSA9PSBxdW90ZWQ7XG4gICAgICAgIGxldCBvcHRpb25zID0gbGV2ZWwubGlzdDtcbiAgICAgICAgaWYgKGxldmVsID09IHRvcCAmJiBhbGlhc2VzKVxuICAgICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMuY29uY2F0KE9iamVjdC5rZXlzKGFsaWFzZXMpLm1hcChuYW1lID0+ICh7IGxhYmVsOiBuYW1lLCB0eXBlOiBcImNvbnN0YW50XCIgfSkpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICB0bzogcXVvdGVBZnRlciA/IGNvbnRleHQucG9zICsgMSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG1heWJlUXVvdGVDb21wbGV0aW9ucyhxdW90ZWQsIG9wdGlvbnMpLFxuICAgICAgICAgICAgdmFsaWRGb3I6IHF1b3RlZCA/IFF1b3RlZFNwYW4gOiBTcGFuXG4gICAgICAgIH07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNvbXBsZXRlS2V5d29yZHMoa2V5d29yZHMsIHVwcGVyQ2FzZSkge1xuICAgIGxldCBjb21wbGV0aW9ucyA9IE9iamVjdC5rZXlzKGtleXdvcmRzKS5tYXAoa2V5d29yZCA9PiAoe1xuICAgICAgICBsYWJlbDogdXBwZXJDYXNlID8ga2V5d29yZC50b1VwcGVyQ2FzZSgpIDoga2V5d29yZCxcbiAgICAgICAgdHlwZToga2V5d29yZHNba2V5d29yZF0gPT0gVHlwZSA/IFwidHlwZVwiIDoga2V5d29yZHNba2V5d29yZF0gPT0gS2V5d29yZCA/IFwia2V5d29yZFwiIDogXCJ2YXJpYWJsZVwiLFxuICAgICAgICBib29zdDogLTFcbiAgICB9KSk7XG4gICAgcmV0dXJuIGlmTm90SW4oW1wiUXVvdGVkSWRlbnRpZmllclwiLCBcIlNwZWNpYWxWYXJcIiwgXCJTdHJpbmdcIiwgXCJMaW5lQ29tbWVudFwiLCBcIkJsb2NrQ29tbWVudFwiLCBcIi5cIl0sIGNvbXBsZXRlRnJvbUxpc3QoY29tcGxldGlvbnMpKTtcbn1cblxubGV0IHBhcnNlciA9IC8qQF9fUFVSRV9fKi9wYXJzZXIkMS5jb25maWd1cmUoe1xuICAgIHByb3BzOiBbXG4gICAgICAgIC8qQF9fUFVSRV9fKi9pbmRlbnROb2RlUHJvcC5hZGQoe1xuICAgICAgICAgICAgU3RhdGVtZW50OiAvKkBfX1BVUkVfXyovY29udGludWVkSW5kZW50KClcbiAgICAgICAgfSksXG4gICAgICAgIC8qQF9fUFVSRV9fKi9mb2xkTm9kZVByb3AuYWRkKHtcbiAgICAgICAgICAgIFN0YXRlbWVudCh0cmVlKSB7IHJldHVybiB7IGZyb206IHRyZWUuZmlyc3RDaGlsZC50bywgdG86IHRyZWUudG8gfTsgfSxcbiAgICAgICAgICAgIEJsb2NrQ29tbWVudCh0cmVlKSB7IHJldHVybiB7IGZyb206IHRyZWUuZnJvbSArIDIsIHRvOiB0cmVlLnRvIC0gMiB9OyB9XG4gICAgICAgIH0pLFxuICAgICAgICAvKkBfX1BVUkVfXyovc3R5bGVUYWdzKHtcbiAgICAgICAgICAgIEtleXdvcmQ6IHRhZ3Mua2V5d29yZCxcbiAgICAgICAgICAgIFR5cGU6IHRhZ3MudHlwZU5hbWUsXG4gICAgICAgICAgICBCdWlsdGluOiAvKkBfX1BVUkVfXyovdGFncy5zdGFuZGFyZCh0YWdzLm5hbWUpLFxuICAgICAgICAgICAgQml0czogdGFncy5udW1iZXIsXG4gICAgICAgICAgICBCeXRlczogdGFncy5zdHJpbmcsXG4gICAgICAgICAgICBCb29sOiB0YWdzLmJvb2wsXG4gICAgICAgICAgICBOdWxsOiB0YWdzLm51bGwsXG4gICAgICAgICAgICBOdW1iZXI6IHRhZ3MubnVtYmVyLFxuICAgICAgICAgICAgU3RyaW5nOiB0YWdzLnN0cmluZyxcbiAgICAgICAgICAgIElkZW50aWZpZXI6IHRhZ3MubmFtZSxcbiAgICAgICAgICAgIFF1b3RlZElkZW50aWZpZXI6IC8qQF9fUFVSRV9fKi90YWdzLnNwZWNpYWwodGFncy5zdHJpbmcpLFxuICAgICAgICAgICAgU3BlY2lhbFZhcjogLypAX19QVVJFX18qL3RhZ3Muc3BlY2lhbCh0YWdzLm5hbWUpLFxuICAgICAgICAgICAgTGluZUNvbW1lbnQ6IHRhZ3MubGluZUNvbW1lbnQsXG4gICAgICAgICAgICBCbG9ja0NvbW1lbnQ6IHRhZ3MuYmxvY2tDb21tZW50LFxuICAgICAgICAgICAgT3BlcmF0b3I6IHRhZ3Mub3BlcmF0b3IsXG4gICAgICAgICAgICBcIlNlbWkgUHVuY3R1YXRpb25cIjogdGFncy5wdW5jdHVhdGlvbixcbiAgICAgICAgICAgIFwiKCApXCI6IHRhZ3MucGFyZW4sXG4gICAgICAgICAgICBcInsgfVwiOiB0YWdzLmJyYWNlLFxuICAgICAgICAgICAgXCJbIF1cIjogdGFncy5zcXVhcmVCcmFja2V0XG4gICAgICAgIH0pXG4gICAgXVxufSk7XG4vKipcblJlcHJlc2VudHMgYW4gU1FMIGRpYWxlY3QuXG4qL1xuY2xhc3MgU1FMRGlhbGVjdCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBkaWFsZWN0LCBcbiAgICAvKipcbiAgICBUaGUgbGFuZ3VhZ2UgZm9yIHRoaXMgZGlhbGVjdC5cbiAgICAqL1xuICAgIGxhbmd1YWdlKSB7XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmV0dXJucyB0aGUgbGFuZ3VhZ2UgZm9yIHRoaXMgZGlhbGVjdCBhcyBhbiBleHRlbnNpb24uXG4gICAgKi9cbiAgICBnZXQgZXh0ZW5zaW9uKCkgeyByZXR1cm4gdGhpcy5sYW5ndWFnZS5leHRlbnNpb247IH1cbiAgICAvKipcbiAgICBEZWZpbmUgYSBuZXcgZGlhbGVjdC5cbiAgICAqL1xuICAgIHN0YXRpYyBkZWZpbmUoc3BlYykge1xuICAgICAgICBsZXQgZCA9IGRpYWxlY3Qoc3BlYywgc3BlYy5rZXl3b3Jkcywgc3BlYy50eXBlcywgc3BlYy5idWlsdGluKTtcbiAgICAgICAgbGV0IGxhbmd1YWdlID0gTFJMYW5ndWFnZS5kZWZpbmUoe1xuICAgICAgICAgICAgbmFtZTogXCJzcWxcIixcbiAgICAgICAgICAgIHBhcnNlcjogcGFyc2VyLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyczogW3sgZnJvbTogdG9rZW5zLCB0bzogdG9rZW5zRm9yKGQpIH1dXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGxhbmd1YWdlRGF0YToge1xuICAgICAgICAgICAgICAgIGNvbW1lbnRUb2tlbnM6IHsgbGluZTogXCItLVwiLCBibG9jazogeyBvcGVuOiBcIi8qXCIsIGNsb3NlOiBcIiovXCIgfSB9LFxuICAgICAgICAgICAgICAgIGNsb3NlQnJhY2tldHM6IHsgYnJhY2tldHM6IFtcIihcIiwgXCJbXCIsIFwie1wiLCBcIidcIiwgJ1wiJywgXCJgXCJdIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgU1FMRGlhbGVjdChkLCBsYW5ndWFnZSk7XG4gICAgfVxufVxuLyoqXG5SZXR1cm5zIGEgY29tcGxldGlvbiBzb3VyY2UgdGhhdCBwcm92aWRlcyBrZXl3b3JkIGNvbXBsZXRpb24gZm9yXG50aGUgZ2l2ZW4gU1FMIGRpYWxlY3QuXG4qL1xuZnVuY3Rpb24ga2V5d29yZENvbXBsZXRpb25Tb3VyY2UoZGlhbGVjdCwgdXBwZXJDYXNlID0gZmFsc2UpIHtcbiAgICByZXR1cm4gY29tcGxldGVLZXl3b3JkcyhkaWFsZWN0LmRpYWxlY3Qud29yZHMsIHVwcGVyQ2FzZSk7XG59XG4vKipcbkZJWE1FIHJlbW92ZSBvbiAxLjAgQGludGVybmFsXG4qL1xuZnVuY3Rpb24ga2V5d29yZENvbXBsZXRpb24oZGlhbGVjdCwgdXBwZXJDYXNlID0gZmFsc2UpIHtcbiAgICByZXR1cm4gZGlhbGVjdC5sYW5ndWFnZS5kYXRhLm9mKHtcbiAgICAgICAgYXV0b2NvbXBsZXRlOiBrZXl3b3JkQ29tcGxldGlvblNvdXJjZShkaWFsZWN0LCB1cHBlckNhc2UpXG4gICAgfSk7XG59XG4vKipcblJldHVybnMgYSBjb21wbGV0aW9uIHNvdXJjZXMgdGhhdCBwcm92aWRlcyBzY2hlbWEtYmFzZWQgY29tcGxldGlvblxuZm9yIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uLlxuKi9cbmZ1bmN0aW9uIHNjaGVtYUNvbXBsZXRpb25Tb3VyY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZy5zY2hlbWEgPyBjb21wbGV0ZUZyb21TY2hlbWEoY29uZmlnLnNjaGVtYSwgY29uZmlnLnRhYmxlcywgY29uZmlnLmRlZmF1bHRUYWJsZSwgY29uZmlnLmRlZmF1bHRTY2hlbWEpXG4gICAgICAgIDogKCkgPT4gbnVsbDtcbn1cbi8qKlxuRklYTUUgcmVtb3ZlIG9uIDEuMCBAaW50ZXJuYWxcbiovXG5mdW5jdGlvbiBzY2hlbWFDb21wbGV0aW9uKGNvbmZpZykge1xuICAgIHJldHVybiBjb25maWcuc2NoZW1hID8gKGNvbmZpZy5kaWFsZWN0IHx8IFN0YW5kYXJkU1FMKS5sYW5ndWFnZS5kYXRhLm9mKHtcbiAgICAgICAgYXV0b2NvbXBsZXRlOiBzY2hlbWFDb21wbGV0aW9uU291cmNlKGNvbmZpZylcbiAgICB9KSA6IFtdO1xufVxuLyoqXG5TUUwgbGFuZ3VhZ2Ugc3VwcG9ydCBmb3IgdGhlIGdpdmVuIFNRTCBkaWFsZWN0LCB3aXRoIGtleXdvcmRcbmNvbXBsZXRpb24sIGFuZCwgaWYgcHJvdmlkZWQsIHNjaGVtYS1iYXNlZCBjb21wbGV0aW9uIGFzIGV4dHJhXG5leHRlbnNpb25zLlxuKi9cbmZ1bmN0aW9uIHNxbChjb25maWcgPSB7fSkge1xuICAgIGxldCBsYW5nID0gY29uZmlnLmRpYWxlY3QgfHwgU3RhbmRhcmRTUUw7XG4gICAgcmV0dXJuIG5ldyBMYW5ndWFnZVN1cHBvcnQobGFuZy5sYW5ndWFnZSwgW3NjaGVtYUNvbXBsZXRpb24oY29uZmlnKSwga2V5d29yZENvbXBsZXRpb24obGFuZywgISFjb25maWcudXBwZXJDYXNlS2V5d29yZHMpXSk7XG59XG4vKipcblRoZSBzdGFuZGFyZCBTUUwgZGlhbGVjdC5cbiovXG5jb25zdCBTdGFuZGFyZFNRTCA9IC8qQF9fUFVSRV9fKi9TUUxEaWFsZWN0LmRlZmluZSh7fSk7XG4vKipcbkRpYWxlY3QgZm9yIFtQb3N0Z3JlU1FMXShodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZykuXG4qL1xuY29uc3QgUG9zdGdyZVNRTCA9IC8qQF9fUFVSRV9fKi9TUUxEaWFsZWN0LmRlZmluZSh7XG4gICAgY2hhclNldENhc3RzOiB0cnVlLFxuICAgIGRvdWJsZURvbGxhclF1b3RlZFN0cmluZ3M6IHRydWUsXG4gICAgb3BlcmF0b3JDaGFyczogXCIrLSovPD49fiFAIyVeJnxgP1wiLFxuICAgIHNwZWNpYWxWYXI6IFwiXCIsXG4gICAga2V5d29yZHM6IFNRTEtleXdvcmRzICsgXCJhIGFib3J0IGFicyBhYnNlbnQgYWNjZXNzIGFjY29yZGluZyBhZGEgYWRtaW4gYWdncmVnYXRlIGFsaWFzIGFsc28gYWx3YXlzIGFuYWx5c2UgYW5hbHl6ZSBhcnJheV9hZ2cgYXJyYXlfbWF4X2NhcmRpbmFsaXR5IGFzZW5zaXRpdmUgYXNzZXJ0IGFzc2lnbm1lbnQgYXN5bW1ldHJpYyBhdG9taWMgYXR0YWNoIGF0dHJpYnV0ZSBhdHRyaWJ1dGVzIGF2ZyBiYWNrd2FyZCBiYXNlNjQgYmVnaW5fZnJhbWUgYmVnaW5fcGFydGl0aW9uIGJlcm5vdWxsaSBiaXRfbGVuZ3RoIGJsb2NrZWQgYm9tIGMgY2FjaGUgY2FsbGVkIGNhcmRpbmFsaXR5IGNhdGFsb2dfbmFtZSBjZWlsIGNlaWxpbmcgY2hhaW4gY2hhcl9sZW5ndGggY2hhcmFjdGVyX2xlbmd0aCBjaGFyYWN0ZXJfc2V0X2NhdGFsb2cgY2hhcmFjdGVyX3NldF9uYW1lIGNoYXJhY3Rlcl9zZXRfc2NoZW1hIGNoYXJhY3RlcmlzdGljcyBjaGFyYWN0ZXJzIGNoZWNrcG9pbnQgY2xhc3MgY2xhc3Nfb3JpZ2luIGNsdXN0ZXIgY29hbGVzY2UgY29ib2wgY29sbGF0aW9uX2NhdGFsb2cgY29sbGF0aW9uX25hbWUgY29sbGF0aW9uX3NjaGVtYSBjb2xsZWN0IGNvbHVtbl9uYW1lIGNvbHVtbnMgY29tbWFuZF9mdW5jdGlvbiBjb21tYW5kX2Z1bmN0aW9uX2NvZGUgY29tbWVudCBjb21tZW50cyBjb21taXR0ZWQgY29uY3VycmVudGx5IGNvbmRpdGlvbl9udW1iZXIgY29uZmlndXJhdGlvbiBjb25mbGljdCBjb25uZWN0aW9uX25hbWUgY29uc3RhbnQgY29uc3RyYWludF9jYXRhbG9nIGNvbnN0cmFpbnRfbmFtZSBjb25zdHJhaW50X3NjaGVtYSBjb250YWlucyBjb250ZW50IGNvbnRyb2wgY29udmVyc2lvbiBjb252ZXJ0IGNvcHkgY29yciBjb3N0IGNvdmFyX3BvcCBjb3Zhcl9zYW1wIGNzdiBjdW1lX2Rpc3QgY3VycmVudF9jYXRhbG9nIGN1cnJlbnRfcm93IGN1cnJlbnRfc2NoZW1hIGN1cnNvcl9uYW1lIGRhdGFiYXNlIGRhdGFsaW5rIGRhdGF0eXBlIGRhdGV0aW1lX2ludGVydmFsX2NvZGUgZGF0ZXRpbWVfaW50ZXJ2YWxfcHJlY2lzaW9uIGRiIGRlYnVnIGRlZmF1bHRzIGRlZmluZWQgZGVmaW5lciBkZWdyZWUgZGVsaW1pdGVyIGRlbGltaXRlcnMgZGVuc2VfcmFuayBkZXBlbmRzIGRlcml2ZWQgZGV0YWNoIGRldGFpbCBkaWN0aW9uYXJ5IGRpc2FibGUgZGlzY2FyZCBkaXNwYXRjaCBkbG5ld2NvcHkgZGxwcmV2aW91c2NvcHkgZGx1cmxjb21wbGV0ZSBkbHVybGNvbXBsZXRlb25seSBkbHVybGNvbXBsZXRld3JpdGUgZGx1cmxwYXRoIGRsdXJscGF0aG9ubHkgZGx1cmxwYXRod3JpdGUgZGx1cmxzY2hlbWUgZGx1cmxzZXJ2ZXIgZGx2YWx1ZSBkb2N1bWVudCBkdW1wIGR5bmFtaWNfZnVuY3Rpb24gZHluYW1pY19mdW5jdGlvbl9jb2RlIGVsZW1lbnQgZWxzaWYgZW1wdHkgZW5hYmxlIGVuY29kaW5nIGVuY3J5cHRlZCBlbmRfZnJhbWUgZW5kX3BhcnRpdGlvbiBlbmRleGVjIGVuZm9yY2VkIGVudW0gZXJyY29kZSBlcnJvciBldmVudCBldmVyeSBleGNsdWRlIGV4Y2x1ZGluZyBleGNsdXNpdmUgZXhwIGV4cGxhaW4gZXhwcmVzc2lvbiBleHRlbnNpb24gZXh0cmFjdCBmYW1pbHkgZmlsZSBmaWx0ZXIgZmluYWwgZmlyc3RfdmFsdWUgZmxhZyBmbG9vciBmb2xsb3dpbmcgZm9yY2UgZm9yZWFjaCBmb3J0cmFuIGZvcndhcmQgZnJhbWVfcm93IGZyZWV6ZSBmcyBmdW5jdGlvbnMgZnVzaW9uIGcgZ2VuZXJhdGVkIGdyYW50ZWQgZ3JlYXRlc3QgZ3JvdXBzIGhhbmRsZXIgaGVhZGVyIGhleCBoaWVyYXJjaHkgaGludCBpZCBpZ25vcmUgaWxpa2UgaW1tZWRpYXRlbHkgaW1tdXRhYmxlIGltcGxlbWVudGF0aW9uIGltcGxpY2l0IGltcG9ydCBpbmNsdWRlIGluY2x1ZGluZyBpbmNyZW1lbnQgaW5kZW50IGluZGV4IGluZGV4ZXMgaW5mbyBpbmhlcml0IGluaGVyaXRzIGlubGluZSBpbnNlbnNpdGl2ZSBpbnN0YW5jZSBpbnN0YW50aWFibGUgaW5zdGVhZCBpbnRlZ3JpdHkgaW50ZXJzZWN0aW9uIGludm9rZXIgaXNudWxsIGsga2V5X21lbWJlciBrZXlfdHlwZSBsYWJlbCBsYWcgbGFzdF92YWx1ZSBsZWFkIGxlYWtwcm9vZiBsZWFzdCBsZW5ndGggbGlicmFyeSBsaWtlX3JlZ2V4IGxpbmsgbGlzdGVuIGxuIGxvYWQgbG9jYXRpb24gbG9jayBsb2NrZWQgbG9nIGxvZ2dlZCBsb3dlciBtIG1hcHBpbmcgbWF0Y2hlZCBtYXRlcmlhbGl6ZWQgbWF4IG1heF9jYXJkaW5hbGl0eSBtYXh2YWx1ZSBtZW1iZXIgbWVyZ2UgbWVzc2FnZSBtZXNzYWdlX2xlbmd0aCBtZXNzYWdlX29jdGV0X2xlbmd0aCBtZXNzYWdlX3RleHQgbWluIG1pbnZhbHVlIG1vZCBtb2RlIG1vcmUgbW92ZSBtdWx0aXNldCBtdW1wcyBuYW1lIG5hbWVzcGFjZSBuZmMgbmZkIG5ma2MgbmZrZCBuaWwgbm9ybWFsaXplIG5vcm1hbGl6ZWQgbm90aGluZyBub3RpY2Ugbm90aWZ5IG5vdG51bGwgbm93YWl0IG50aF92YWx1ZSBudGlsZSBudWxsYWJsZSBudWxsaWYgbnVsbHMgbnVtYmVyIG9jY3VycmVuY2VzX3JlZ2V4IG9jdGV0X2xlbmd0aCBvY3RldHMgb2ZmIG9mZnNldCBvaWRzIG9wZXJhdG9yIG9wdGlvbnMgb3JkZXJpbmcgb3RoZXJzIG92ZXIgb3ZlcmxheSBvdmVycmlkaW5nIG93bmVkIG93bmVyIHAgcGFyYWxsZWwgcGFyYW1ldGVyX21vZGUgcGFyYW1ldGVyX25hbWUgcGFyYW1ldGVyX29yZGluYWxfcG9zaXRpb24gcGFyYW1ldGVyX3NwZWNpZmljX2NhdGFsb2cgcGFyYW1ldGVyX3NwZWNpZmljX25hbWUgcGFyYW1ldGVyX3NwZWNpZmljX3NjaGVtYSBwYXJzZXIgcGFydGl0aW9uIHBhc2NhbCBwYXNzaW5nIHBhc3N0aHJvdWdoIHBhc3N3b3JkIHBlcmNlbnQgcGVyY2VudF9yYW5rIHBlcmNlbnRpbGVfY29udCBwZXJjZW50aWxlX2Rpc2MgcGVyZm9ybSBwZXJpb2QgcGVybWlzc2lvbiBwZ19jb250ZXh0IHBnX2RhdGF0eXBlX25hbWUgcGdfZXhjZXB0aW9uX2NvbnRleHQgcGdfZXhjZXB0aW9uX2RldGFpbCBwZ19leGNlcHRpb25faGludCBwbGFjaW5nIHBsYW5zIHBsaSBwb2xpY3kgcG9ydGlvbiBwb3NpdGlvbiBwb3NpdGlvbl9yZWdleCBwb3dlciBwcmVjZWRlcyBwcmVjZWRpbmcgcHJlcGFyZWQgcHJpbnRfc3RyaWN0X3BhcmFtcyBwcm9jZWR1cmFsIHByb2NlZHVyZXMgcHJvZ3JhbSBwdWJsaWNhdGlvbiBxdWVyeSBxdW90ZSByYWlzZSByYW5nZSByYW5rIHJlYXNzaWduIHJlY2hlY2sgcmVjb3ZlcnkgcmVmcmVzaCByZWdyX2F2Z3ggcmVncl9hdmd5IHJlZ3JfY291bnQgcmVncl9pbnRlcmNlcHQgcmVncl9yMiByZWdyX3Nsb3BlIHJlZ3Jfc3h4IHJlZ3Jfc3h5IHJlZ3Jfc3l5IHJlaW5kZXggcmVuYW1lIHJlcGVhdGFibGUgcmVwbGFjZSByZXBsaWNhIHJlcXVpcmluZyByZXNldCByZXNwZWN0IHJlc3RhcnQgcmVzdG9yZSByZXN1bHRfb2lkIHJldHVybmVkX2NhcmRpbmFsaXR5IHJldHVybmVkX2xlbmd0aCByZXR1cm5lZF9vY3RldF9sZW5ndGggcmV0dXJuZWRfc3Fsc3RhdGUgcmV0dXJuaW5nIHJldmVyc2Ugcm91dGluZV9jYXRhbG9nIHJvdXRpbmVfbmFtZSByb3V0aW5lX3NjaGVtYSByb3V0aW5lcyByb3dfY291bnQgcm93X251bWJlciByb3d0eXBlIHJ1bGUgc2NhbGUgc2NoZW1hX25hbWUgc2NoZW1hcyBzY29wZSBzY29wZV9jYXRhbG9nIHNjb3BlX25hbWUgc2NvcGVfc2NoZW1hIHNlY3VyaXR5IHNlbGVjdGl2ZSBzZWxmIHNlbnNpdGl2ZSBzZXF1ZW5jZSBzZXF1ZW5jZXMgc2VyaWFsaXphYmxlIHNlcnZlciBzZXJ2ZXJfbmFtZSBzZXRvZiBzaGFyZSBzaG93IHNpbXBsZSBza2lwIHNsaWNlIHNuYXBzaG90IHNvdXJjZSBzcGVjaWZpY19uYW1lIHNxbGNvZGUgc3FsZXJyb3Igc3FydCBzdGFibGUgc3RhY2tlZCBzdGFuZGFsb25lIHN0YXRlbWVudCBzdGF0aXN0aWNzIHN0ZGRldl9wb3Agc3RkZGV2X3NhbXAgc3RkaW4gc3Rkb3V0IHN0b3JhZ2Ugc3RyaWN0IHN0cmlwIHN0cnVjdHVyZSBzdHlsZSBzdWJjbGFzc19vcmlnaW4gc3VibXVsdGlzZXQgc3Vic2NyaXB0aW9uIHN1YnN0cmluZyBzdWJzdHJpbmdfcmVnZXggc3VjY2VlZHMgc3VtIHN5bW1ldHJpYyBzeXNpZCBzeXN0ZW0gc3lzdGVtX3RpbWUgdCB0YWJsZV9uYW1lIHRhYmxlcyB0YWJsZXNhbXBsZSB0YWJsZXNwYWNlIHRlbXAgdGVtcGxhdGUgdGllcyB0b2tlbiB0b3BfbGV2ZWxfY291bnQgdHJhbnNhY3Rpb25fYWN0aXZlIHRyYW5zYWN0aW9uc19jb21taXR0ZWQgdHJhbnNhY3Rpb25zX3JvbGxlZF9iYWNrIHRyYW5zZm9ybSB0cmFuc2Zvcm1zIHRyYW5zbGF0ZSB0cmFuc2xhdGVfcmVnZXggdHJpZ2dlcl9jYXRhbG9nIHRyaWdnZXJfbmFtZSB0cmlnZ2VyX3NjaGVtYSB0cmltIHRyaW1fYXJyYXkgdHJ1bmNhdGUgdHJ1c3RlZCB0eXBlIHR5cGVzIHVlc2NhcGUgdW5ib3VuZGVkIHVuY29tbWl0dGVkIHVuZW5jcnlwdGVkIHVubGluayB1bmxpc3RlbiB1bmxvZ2dlZCB1bm5hbWVkIHVudHlwZWQgdXBwZXIgdXJpIHVzZV9jb2x1bW4gdXNlX3ZhcmlhYmxlIHVzZXJfZGVmaW5lZF90eXBlX2NhdGFsb2cgdXNlcl9kZWZpbmVkX3R5cGVfY29kZSB1c2VyX2RlZmluZWRfdHlwZV9uYW1lIHVzZXJfZGVmaW5lZF90eXBlX3NjaGVtYSB2YWN1dW0gdmFsaWQgdmFsaWRhdGUgdmFsaWRhdG9yIHZhbHVlX29mIHZhcl9wb3AgdmFyX3NhbXAgdmFyYmluYXJ5IHZhcmlhYmxlX2NvbmZsaWN0IHZhcmlhZGljIHZlcmJvc2UgdmVyc2lvbiB2ZXJzaW9uaW5nIHZpZXdzIHZvbGF0aWxlIHdhcm5pbmcgd2hpdGVzcGFjZSB3aWR0aF9idWNrZXQgd2luZG93IHdpdGhpbiB3cmFwcGVyIHhtbGFnZyB4bWxhdHRyaWJ1dGVzIHhtbGJpbmFyeSB4bWxjYXN0IHhtbGNvbW1lbnQgeG1sY29uY2F0IHhtbGRlY2xhcmF0aW9uIHhtbGRvY3VtZW50IHhtbGVsZW1lbnQgeG1sZXhpc3RzIHhtbGZvcmVzdCB4bWxpdGVyYXRlIHhtbG5hbWVzcGFjZXMgeG1scGFyc2UgeG1scGkgeG1scXVlcnkgeG1scm9vdCB4bWxzY2hlbWEgeG1sc2VyaWFsaXplIHhtbHRhYmxlIHhtbHRleHQgeG1sdmFsaWRhdGUgeWVzXCIsXG4gICAgdHlwZXM6IFNRTFR5cGVzICsgXCJiaWdpbnQgaW50OCBiaWdzZXJpYWwgc2VyaWFsOCB2YXJiaXQgYm9vbCBib3ggYnl0ZWEgY2lkciBjaXJjbGUgcHJlY2lzaW9uIGZsb2F0OCBpbmV0IGludDQganNvbiBqc29uYiBsaW5lIGxzZWcgbWFjYWRkciBtYWNhZGRyOCBtb25leSBudW1lcmljIHBnX2xzbiBwb2ludCBwb2x5Z29uIGZsb2F0NCBpbnQyIHNtYWxsc2VyaWFsIHNlcmlhbDIgc2VyaWFsIHNlcmlhbDQgdGV4dCB0aW1ldHogdGltZXN0YW1wdHogdHNxdWVyeSB0c3ZlY3RvciB0eGlkX3NuYXBzaG90IHV1aWQgeG1sXCJcbn0pO1xuY29uc3QgTXlTUUxLZXl3b3JkcyA9IFwiYWNjZXNzaWJsZSBhbGdvcml0aG0gYW5hbHl6ZSBhc2Vuc2l0aXZlIGF1dGhvcnMgYXV0b19pbmNyZW1lbnQgYXV0b2NvbW1pdCBhdmcgYXZnX3Jvd19sZW5ndGggYmlubG9nIGJ0cmVlIGNhY2hlIGNhdGFsb2dfbmFtZSBjaGFpbiBjaGFuZ2UgY2hhbmdlZCBjaGVja3BvaW50IGNoZWNrc3VtIGNsYXNzX29yaWdpbiBjbGllbnRfc3RhdGlzdGljcyBjb2FsZXNjZSBjb2RlIGNvbGxhdGlvbnMgY29sdW1ucyBjb21tZW50IGNvbW1pdHRlZCBjb21wbGV0aW9uIGNvbmN1cnJlbnQgY29uc2lzdGVudCBjb250YWlucyBjb250cmlidXRvcnMgY29udmVydCBkYXRhYmFzZSBkYXRhYmFzZXMgZGF5X2hvdXIgZGF5X21pY3Jvc2Vjb25kIGRheV9taW51dGUgZGF5X3NlY29uZCBkZWxheV9rZXlfd3JpdGUgZGVsYXllZCBkZWxpbWl0ZXIgZGVzX2tleV9maWxlIGRldl9wb3AgZGV2X3NhbXAgZGV2aWFuY2UgZGlyZWN0b3J5IGRpc2FibGUgZGlzY2FyZCBkaXN0aW5jdHJvdyBkaXYgZHVhbCBkdW1wZmlsZSBlbmFibGUgZW5jbG9zZWQgZW5kcyBlbmdpbmUgZW5naW5lcyBlbnVtIGVycm9ycyBlc2NhcGVkIGV2ZW4gZXZlbnQgZXZlbnRzIGV2ZXJ5IGV4cGxhaW4gZXh0ZW5kZWQgZmFzdCBmaWVsZCBmaWVsZHMgZmx1c2ggZm9yY2UgZm91bmRfcm93cyBmdWxsdGV4dCBncmFudHMgaGFuZGxlciBoYXNoIGhpZ2hfcHJpb3JpdHkgaG9zdHMgaG91cl9taWNyb3NlY29uZCBob3VyX21pbnV0ZSBob3VyX3NlY29uZCBpZ25vcmUgaWdub3JlX3NlcnZlcl9pZHMgaW1wb3J0IGluZGV4IGluZGV4X3N0YXRpc3RpY3MgaW5maWxlIGlubm9kYiBpbnNlbnNpdGl2ZSBpbnNlcnRfbWV0aG9kIGluc3RhbGwgaW52b2tlciBpdGVyYXRlIGtleXMga2lsbCBsaW5lYXIgbGluZXMgbGlzdCBsb2FkIGxvY2sgbG9ncyBsb3dfcHJpb3JpdHkgbWFzdGVyIG1hc3Rlcl9oZWFydGJlYXRfcGVyaW9kIG1hc3Rlcl9zc2xfdmVyaWZ5X3NlcnZlcl9jZXJ0IG1hc3RlcnMgbWF4IG1heF9yb3dzIG1heHZhbHVlIG1lc3NhZ2VfdGV4dCBtaWRkbGVpbnQgbWlncmF0ZSBtaW4gbWluX3Jvd3MgbWludXRlX21pY3Jvc2Vjb25kIG1pbnV0ZV9zZWNvbmQgbW9kIG1vZGUgbW9kaWZ5IG11dGV4IG15c3FsX2Vycm5vIG5vX3dyaXRlX3RvX2JpbmxvZyBvZmZsaW5lIG9mZnNldCBvbmUgb25saW5lIG9wdGltaXplIG9wdGlvbmFsbHkgb3V0ZmlsZSBwYWNrX2tleXMgcGFyc2VyIHBhcnRpdGlvbiBwYXJ0aXRpb25zIHBhc3N3b3JkIHBoYXNlIHBsdWdpbiBwbHVnaW5zIHByZXYgcHJvY2Vzc2xpc3QgcHJvZmlsZSBwcm9maWxlcyBwdXJnZSBxdWVyeSBxdWljayByYW5nZSByZWFkX3dyaXRlIHJlYnVpbGQgcmVjb3ZlciByZWdleHAgcmVsYXlsb2cgcmVtb3ZlIHJlbmFtZSByZW9yZ2FuaXplIHJlcGFpciByZXBlYXRhYmxlIHJlcGxhY2UgcmVxdWlyZSByZXN1bWUgcmxpa2Ugcm93X2Zvcm1hdCBydHJlZSBzY2hlZHVsZSBzY2hlbWFfbmFtZSBzY2hlbWFzIHNlY29uZF9taWNyb3NlY29uZCBzZWN1cml0eSBzZW5zaXRpdmUgc2VwYXJhdG9yIHNlcmlhbGl6YWJsZSBzZXJ2ZXIgc2hhcmUgc2hvdyBzbGF2ZSBzbG93IHNuYXBzaG90IHNvbmFtZSBzcGF0aWFsIHNxbF9iaWdfcmVzdWx0IHNxbF9idWZmZXJfcmVzdWx0IHNxbF9jYWNoZSBzcWxfY2FsY19mb3VuZF9yb3dzIHNxbF9ub19jYWNoZSBzcWxfc21hbGxfcmVzdWx0IHNzbCBzdGFydGluZyBzdGFydHMgc3RkIHN0ZGRldiBzdGRkZXZfcG9wIHN0ZGRldl9zYW1wIHN0b3JhZ2Ugc3RyYWlnaHRfam9pbiBzdWJjbGFzc19vcmlnaW4gc3VtIHN1c3BlbmQgdGFibGVfbmFtZSB0YWJsZV9zdGF0aXN0aWNzIHRhYmxlcyB0YWJsZXNwYWNlIHRlcm1pbmF0ZWQgdHJpZ2dlcnMgdHJ1bmNhdGUgdW5jb21taXR0ZWQgdW5pbnN0YWxsIHVubG9jayB1cGdyYWRlIHVzZSB1c2VfZnJtIHVzZXJfcmVzb3VyY2VzIHVzZXJfc3RhdGlzdGljcyB1dGNfZGF0ZSB1dGNfdGltZSB1dGNfdGltZXN0YW1wIHZhcmlhYmxlcyB2aWV3cyB3YXJuaW5ncyB4YSB4b3IgeWVhcl9tb250aCB6ZXJvZmlsbFwiO1xuY29uc3QgTXlTUUxUeXBlcyA9IFNRTFR5cGVzICsgXCJib29sIGJsb2IgbG9uZyBsb25nYmxvYiBsb25ndGV4dCBtZWRpdW0gbWVkaXVtYmxvYiBtZWRpdW1pbnQgbWVkaXVtdGV4dCB0aW55YmxvYiB0aW55aW50IHRpbnl0ZXh0IHRleHQgYmlnaW50IGludDEgaW50MiBpbnQzIGludDQgaW50OCBmbG9hdDQgZmxvYXQ4IHZhcmJpbmFyeSB2YXJjaGFyYWN0ZXIgcHJlY2lzaW9uIGRhdGV0aW1lIHVuc2lnbmVkIHNpZ25lZFwiO1xuY29uc3QgTXlTUUxCdWlsdGluID0gXCJjaGFyc2V0IGNsZWFyIGVkaXQgZWdvIGhlbHAgbm9wYWdlciBub3RlZSBub3dhcm5pbmcgcGFnZXIgcHJpbnQgcHJvbXB0IHF1aXQgcmVoYXNoIHNvdXJjZSBzdGF0dXMgc3lzdGVtIHRlZVwiO1xuLyoqXG5bTXlTUUxdKGh0dHBzOi8vZGV2Lm15c3FsLmNvbS8pIGRpYWxlY3QuXG4qL1xuY29uc3QgTXlTUUwgPSAvKkBfX1BVUkVfXyovU1FMRGlhbGVjdC5kZWZpbmUoe1xuICAgIG9wZXJhdG9yQ2hhcnM6IFwiKistJTw+IT0mfF5cIixcbiAgICBjaGFyU2V0Q2FzdHM6IHRydWUsXG4gICAgZG91YmxlUXVvdGVkU3RyaW5nczogdHJ1ZSxcbiAgICB1bnF1b3RlZEJpdExpdGVyYWxzOiB0cnVlLFxuICAgIGhhc2hDb21tZW50czogdHJ1ZSxcbiAgICBzcGFjZUFmdGVyRGFzaGVzOiB0cnVlLFxuICAgIHNwZWNpYWxWYXI6IFwiQD9cIixcbiAgICBpZGVudGlmaWVyUXVvdGVzOiBcImBcIixcbiAgICBrZXl3b3JkczogU1FMS2V5d29yZHMgKyBcImdyb3VwX2NvbmNhdCBcIiArIE15U1FMS2V5d29yZHMsXG4gICAgdHlwZXM6IE15U1FMVHlwZXMsXG4gICAgYnVpbHRpbjogTXlTUUxCdWlsdGluXG59KTtcbi8qKlxuVmFyaWFudCBvZiBbYE15U1FMYF0oaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC82L2RvY3MvcmVmLyNsYW5nLXNxbC5NeVNRTCkgZm9yXG5bTWFyaWFEQl0oaHR0cHM6Ly9tYXJpYWRiLm9yZy8pLlxuKi9cbmNvbnN0IE1hcmlhU1FMID0gLypAX19QVVJFX18qL1NRTERpYWxlY3QuZGVmaW5lKHtcbiAgICBvcGVyYXRvckNoYXJzOiBcIiorLSU8PiE9JnxeXCIsXG4gICAgY2hhclNldENhc3RzOiB0cnVlLFxuICAgIGRvdWJsZVF1b3RlZFN0cmluZ3M6IHRydWUsXG4gICAgdW5xdW90ZWRCaXRMaXRlcmFsczogdHJ1ZSxcbiAgICBoYXNoQ29tbWVudHM6IHRydWUsXG4gICAgc3BhY2VBZnRlckRhc2hlczogdHJ1ZSxcbiAgICBzcGVjaWFsVmFyOiBcIkA/XCIsXG4gICAgaWRlbnRpZmllclF1b3RlczogXCJgXCIsXG4gICAga2V5d29yZHM6IFNRTEtleXdvcmRzICsgXCJhbHdheXMgZ2VuZXJhdGVkIGdyb3VwYnlfY29uY2F0IGhhcmQgcGVyc2lzdGVudCBzaHV0ZG93biBzb2Z0IHZpcnR1YWwgXCIgKyBNeVNRTEtleXdvcmRzLFxuICAgIHR5cGVzOiBNeVNRTFR5cGVzLFxuICAgIGJ1aWx0aW46IE15U1FMQnVpbHRpblxufSk7XG4vKipcblNRTCBkaWFsZWN0IGZvciBNaWNyb3NvZnQgW1NRTFxuU2VydmVyXShodHRwczovL3d3dy5taWNyb3NvZnQuY29tL2VuLXVzL3NxbC1zZXJ2ZXIpLlxuKi9cbmNvbnN0IE1TU1FMID0gLypAX19QVVJFX18qL1NRTERpYWxlY3QuZGVmaW5lKHtcbiAgICBrZXl3b3JkczogU1FMS2V5d29yZHMgKyBcInRyaWdnZXIgcHJvYyB2aWV3IGluZGV4IGZvciBhZGQgY29uc3RyYWludCBrZXkgcHJpbWFyeSBmb3JlaWduIGNvbGxhdGUgY2x1c3RlcmVkIG5vbmNsdXN0ZXJlZCBkZWNsYXJlIGV4ZWMgZ28gaWYgdXNlIGluZGV4IGhvbGRsb2NrIG5vbG9jayBub3dhaXQgcGFnbG9jayBwaXZvdCByZWFkY29tbWl0dGVkIHJlYWRjb21taXR0ZWRsb2NrIHJlYWRwYXN0IHJlYWR1bmNvbW1pdHRlZCByZXBlYXRhYmxlcmVhZCByb3dsb2NrIHNlcmlhbGl6YWJsZSBzbmFwc2hvdCB0YWJsb2NrIHRhYmxvY2t4IHVucGl2b3QgdXBkbG9jayB3aXRoXCIsXG4gICAgdHlwZXM6IFNRTFR5cGVzICsgXCJiaWdpbnQgc21hbGxpbnQgc21hbGxtb25leSB0aW55aW50IG1vbmV5IHJlYWwgdGV4dCBudmFyY2hhciBudGV4dCB2YXJiaW5hcnkgaW1hZ2UgaGllcmFyY2h5aWQgdW5pcXVlaWRlbnRpZmllciBzcWxfdmFyaWFudCB4bWxcIixcbiAgICBidWlsdGluOiBcImJpbmFyeV9jaGVja3N1bSBjaGVja3N1bSBjb25uZWN0aW9ucHJvcGVydHkgY29udGV4dF9pbmZvIGN1cnJlbnRfcmVxdWVzdF9pZCBlcnJvcl9saW5lIGVycm9yX21lc3NhZ2UgZXJyb3JfbnVtYmVyIGVycm9yX3Byb2NlZHVyZSBlcnJvcl9zZXZlcml0eSBlcnJvcl9zdGF0ZSBmb3JtYXRtZXNzYWdlIGdldF9maWxlc3RyZWFtX3RyYW5zYWN0aW9uX2NvbnRleHQgZ2V0YW5zaW51bGwgaG9zdF9pZCBob3N0X25hbWUgaXNudWxsIGlzbnVtZXJpYyBtaW5fYWN0aXZlX3Jvd3ZlcnNpb24gbmV3aWQgbmV3c2VxdWVudGlhbGlkIHJvd2NvdW50X2JpZyB4YWN0X3N0YXRlIG9iamVjdF9pZFwiLFxuICAgIG9wZXJhdG9yQ2hhcnM6IFwiKistJTw+IT1eJnwvXCIsXG4gICAgc3BlY2lhbFZhcjogXCJAXCJcbn0pO1xuLyoqXG5bU1FMaXRlXShodHRwczovL3NxbGl0ZS5vcmcvKSBkaWFsZWN0LlxuKi9cbmNvbnN0IFNRTGl0ZSA9IC8qQF9fUFVSRV9fKi9TUUxEaWFsZWN0LmRlZmluZSh7XG4gICAga2V5d29yZHM6IFNRTEtleXdvcmRzICsgXCJhYm9ydCBhbmFseXplIGF0dGFjaCBhdXRvaW5jcmVtZW50IGNvbmZsaWN0IGRhdGFiYXNlIGRldGFjaCBleGNsdXNpdmUgZmFpbCBnbG9iIGlnbm9yZSBpbmRleCBpbmRleGVkIGluc3RlYWQgaXNudWxsIG5vdG51bGwgb2Zmc2V0IHBsYW4gcHJhZ21hIHF1ZXJ5IHJhaXNlIHJlZ2V4cCByZWluZGV4IHJlbmFtZSByZXBsYWNlIHRlbXAgdmFjdXVtIHZpcnR1YWxcIixcbiAgICB0eXBlczogU1FMVHlwZXMgKyBcImJvb2wgYmxvYiBsb25nIGxvbmdibG9iIGxvbmd0ZXh0IG1lZGl1bSBtZWRpdW1ibG9iIG1lZGl1bWludCBtZWRpdW10ZXh0IHRpbnlibG9iIHRpbnlpbnQgdGlueXRleHQgdGV4dCBiaWdpbnQgaW50MiBpbnQ4IHVuc2lnbmVkIHNpZ25lZCByZWFsXCIsXG4gICAgYnVpbHRpbjogXCJhdXRoIGJhY2t1cCBiYWlsIGNoYW5nZXMgY2xvbmUgZGF0YWJhc2VzIGRiaW5mbyBkdW1wIGVjaG8gZXFwIGV4cGxhaW4gZnVsbHNjaGVtYSBoZWFkZXJzIGhlbHAgaW1wb3J0IGltcG9zdGVyIGluZGV4ZXMgaW90cmFjZSBsaW50IGxvYWQgbG9nIG1vZGUgbnVsbHZhbHVlIG9uY2UgcHJpbnQgcHJvbXB0IHF1aXQgcmVzdG9yZSBzYXZlIHNjYW5zdGF0cyBzZXBhcmF0b3Igc2hlbGwgc2hvdyBzdGF0cyBzeXN0ZW0gdGFibGVzIHRlc3RjYXNlIHRpbWVvdXQgdGltZXIgdHJhY2UgdmZzaW5mbyB2ZnNsaXN0IHZmc25hbWUgd2lkdGhcIixcbiAgICBvcGVyYXRvckNoYXJzOiBcIiorLSU8PiE9JnwvflwiLFxuICAgIGlkZW50aWZpZXJRdW90ZXM6IFwiYFxcXCJcIixcbiAgICBzcGVjaWFsVmFyOiBcIkA6PyRcIlxufSk7XG4vKipcbkRpYWxlY3QgZm9yIFtDYXNzYW5kcmFdKGh0dHBzOi8vY2Fzc2FuZHJhLmFwYWNoZS5vcmcvKSdzIFNRTC1pc2ggcXVlcnkgbGFuZ3VhZ2UuXG4qL1xuY29uc3QgQ2Fzc2FuZHJhID0gLypAX19QVVJFX18qL1NRTERpYWxlY3QuZGVmaW5lKHtcbiAgICBrZXl3b3JkczogXCJhZGQgYWxsIGFsbG93IGFsdGVyIGFuZCBhbnkgYXBwbHkgYXMgYXNjIGF1dGhvcml6ZSBiYXRjaCBiZWdpbiBieSBjbHVzdGVyaW5nIGNvbHVtbmZhbWlseSBjb21wYWN0IGNvbnNpc3RlbmN5IGNvdW50IGNyZWF0ZSBjdXN0b20gZGVsZXRlIGRlc2MgZGlzdGluY3QgZHJvcCBlYWNoX3F1b3J1bSBleGlzdHMgZmlsdGVyaW5nIGZyb20gZ3JhbnQgaWYgaW4gaW5kZXggaW5zZXJ0IGludG8ga2V5IGtleXNwYWNlIGtleXNwYWNlcyBsZXZlbCBsaW1pdCBsb2NhbF9vbmUgbG9jYWxfcXVvcnVtIG1vZGlmeSBuYW4gbm9yZWN1cnNpdmUgbm9zdXBlcnVzZXIgbm90IG9mIG9uIG9uZSBvcmRlciBwYXNzd29yZCBwZXJtaXNzaW9uIHBlcm1pc3Npb25zIHByaW1hcnkgcXVvcnVtIHJlbmFtZSByZXZva2Ugc2NoZW1hIHNlbGVjdCBzZXQgc3RvcmFnZSBzdXBlcnVzZXIgdGFibGUgdGhyZWUgdG8gdG9rZW4gdHJ1bmNhdGUgdHRsIHR3byB0eXBlIHVubG9nZ2VkIHVwZGF0ZSB1c2UgdXNlciB1c2VycyB1c2luZyB2YWx1ZXMgd2hlcmUgd2l0aCB3cml0ZXRpbWUgaW5maW5pdHkgTmFOXCIsXG4gICAgdHlwZXM6IFNRTFR5cGVzICsgXCJhc2NpaSBiaWdpbnQgYmxvYiBjb3VudGVyIGZyb3plbiBpbmV0IGxpc3QgbWFwIHN0YXRpYyB0ZXh0IHRpbWV1dWlkIHR1cGxlIHV1aWQgdmFyaW50XCIsXG4gICAgc2xhc2hDb21tZW50czogdHJ1ZVxufSk7XG4vKipcbltQTC9TUUxdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BML1NRTCkgZGlhbGVjdC5cbiovXG5jb25zdCBQTFNRTCA9IC8qQF9fUFVSRV9fKi9TUUxEaWFsZWN0LmRlZmluZSh7XG4gICAga2V5d29yZHM6IFNRTEtleXdvcmRzICsgXCJhYm9ydCBhY2NlcHQgYWNjZXNzIGFkZCBhbGwgYWx0ZXIgYW5kIGFueSBhcnJheWxlbiBhcyBhc2MgYXNzZXJ0IGFzc2lnbiBhdCBhdHRyaWJ1dGVzIGF1ZGl0IGF1dGhvcml6YXRpb24gYXZnIGJhc2VfdGFibGUgYmVnaW4gYmV0d2VlbiBiaW5hcnlfaW50ZWdlciBib2R5IGJ5IGNhc2UgY2FzdCBjaGFyX2Jhc2UgY2hlY2sgY2xvc2UgY2x1c3RlciBjbHVzdGVycyBjb2xhdXRoIGNvbHVtbiBjb21tZW50IGNvbW1pdCBjb21wcmVzcyBjb25uZWN0ZWQgY29uc3RhbnQgY29uc3RyYWludCBjcmFzaCBjcmVhdGUgY3VycmVudCBjdXJydmFsIGN1cnNvciBkYXRhX2Jhc2UgZGF0YWJhc2UgZGJhIGRlYWxsb2NhdGUgZGVidWdvZmYgZGVidWdvbiBkZWNsYXJlIGRlZmF1bHQgZGVmaW5pdGlvbiBkZWxheSBkZWxldGUgZGVzYyBkaWdpdHMgZGlzcG9zZSBkaXN0aW5jdCBkbyBkcm9wIGVsc2UgZWxzZWlmIGVsc2lmIGVuYWJsZSBlbmQgZW50cnkgZXhjZXB0aW9uIGV4Y2VwdGlvbl9pbml0IGV4Y2hhbmdlIGV4Y2x1c2l2ZSBleGlzdHMgZXh0ZXJuYWwgZmFzdCBmZXRjaCBmaWxlIGZvciBmb3JjZSBmb3JtIGZyb20gZnVuY3Rpb24gZ2VuZXJpYyBnb3RvIGdyYW50IGdyb3VwIGhhdmluZyBpZGVudGlmaWVkIGlmIGltbWVkaWF0ZSBpbiBpbmNyZW1lbnQgaW5kZXggaW5kZXhlcyBpbmRpY2F0b3IgaW5pdGlhbCBpbml0cmFucyBpbnNlcnQgaW50ZXJmYWNlIGludGVyc2VjdCBpbnRvIGlzIGtleSBsZXZlbCBsaWJyYXJ5IGxpa2UgbGltaXRlZCBsb2NhbCBsb2NrIGxvZyBsb2dnaW5nIGxvb3AgbWFzdGVyIG1heGV4dGVudHMgbWF4dHJhbnMgbWVtYmVyIG1pbmV4dGVudHMgbWludXMgbWlzbGFiZWwgbW9kZSBtb2RpZnkgbXVsdGlzZXQgbmV3IG5leHQgbm8gbm9hdWRpdCBub2NvbXByZXNzIG5vbG9nZ2luZyBub3BhcmFsbGVsIG5vdCBub3dhaXQgbnVtYmVyX2Jhc2Ugb2Ygb2ZmIG9mZmxpbmUgb24gb25saW5lIG9ubHkgb3B0aW9uIG9yIG9yZGVyIG91dCBwYWNrYWdlIHBhcmFsbGVsIHBhcnRpdGlvbiBwY3RmcmVlIHBjdGluY3JlYXNlIHBjdHVzZWQgcGxzX2ludGVnZXIgcG9zaXRpdmUgcG9zaXRpdmVuIHByYWdtYSBwcmltYXJ5IHByaW9yIHByaXZhdGUgcHJpdmlsZWdlcyBwcm9jZWR1cmUgcHVibGljIHJhaXNlIHJhbmdlIHJhdyByZWJ1aWxkIHJlY29yZCByZWYgcmVmZXJlbmNlcyByZWZyZXNoIHJlbmFtZSByZXBsYWNlIHJlc291cmNlIHJlc3RyaWN0IHJldHVybiByZXR1cm5pbmcgcmV0dXJucyByZXZlcnNlIHJldm9rZSByb2xsYmFjayByb3cgcm93aWQgcm93bGFiZWwgcm93bnVtIHJvd3MgcnVuIHNhdmVwb2ludCBzY2hlbWEgc2VnbWVudCBzZWxlY3Qgc2VwYXJhdGUgc2V0IHNoYXJlIHNuYXBzaG90IHNvbWUgc3BhY2Ugc3BsaXQgc3FsIHN0YXJ0IHN0YXRlbWVudCBzdG9yYWdlIHN1YnR5cGUgc3VjY2Vzc2Z1bCBzeW5vbnltIHRhYmF1dGggdGFibGUgdGFibGVzIHRhYmxlc3BhY2UgdGFzayB0ZXJtaW5hdGUgdGhlbiB0byB0cmlnZ2VyIHRydW5jYXRlIHR5cGUgdW5pb24gdW5pcXVlIHVubGltaXRlZCB1bnJlY292ZXJhYmxlIHVudXNhYmxlIHVwZGF0ZSB1c2UgdXNpbmcgdmFsaWRhdGUgdmFsdWUgdmFsdWVzIHZhcmlhYmxlIHZpZXcgdmlld3Mgd2hlbiB3aGVuZXZlciB3aGVyZSB3aGlsZSB3aXRoIHdvcmtcIixcbiAgICBidWlsdGluOiBcImFwcGluZm8gYXJyYXlzaXplIGF1dG9jb21taXQgYXV0b3ByaW50IGF1dG9yZWNvdmVyeSBhdXRvdHJhY2UgYmxvY2t0ZXJtaW5hdG9yIGJyZWFrIGJ0aXRsZSBjbWRzZXAgY29sc2VwIGNvbXBhdGliaWxpdHkgY29tcHV0ZSBjb25jYXQgY29weWNvbW1pdCBjb3B5dHlwZWNoZWNrIGRlZmluZSBlY2hvIGVkaXRmaWxlIGVtYmVkZGVkIGZlZWRiYWNrIGZsYWdnZXIgZmx1c2ggaGVhZGluZyBoZWFkc2VwIGluc3RhbmNlIGxpbmVzaXplIGxubyBsb2JvZmZzZXQgbG9nc291cmNlIGxvbmdjaHVua3NpemUgbWFya3VwIG5hdGl2ZSBuZXdwYWdlIG51bWZvcm1hdCBudW13aWR0aCBwYWdlc2l6ZSBwYXVzZSBwbm8gcmVjc2VwIHJlY3NlcGNoYXIgcmVwZm9vdGVyIHJlcGhlYWRlciBzZXJ2ZXJvdXRwdXQgc2hpZnRpbm91dCBzaG93IHNob3dtb2RlIHNwb29sIHNxbGJsYW5rbGluZXMgc3FsY2FzZSBzcWxjb2RlIHNxbGNvbnRpbnVlIHNxbG51bWJlciBzcWxwbHVzY29tcGF0aWJpbGl0eSBzcWxwcmVmaXggc3FscHJvbXB0IHNxbHRlcm1pbmF0b3Igc3VmZml4IHRhYiB0ZXJtIHRlcm1vdXQgdGltaW5nIHRyaW1vdXQgdHJpbXNwb29sIHR0aXRsZSB1bmRlcmxpbmUgdmVyaWZ5IHZlcnNpb24gd3JhcFwiLFxuICAgIHR5cGVzOiBTUUxUeXBlcyArIFwiYXNjaWkgYmZpbGUgYmZpbGVuYW1lIGJpZ3NlcmlhbCBiaXQgYmxvYiBkZWMgbG9uZyBudW1iZXIgbnZhcmNoYXIgbnZhcmNoYXIyIHNlcmlhbCBzbWFsbGludCBzdHJpbmcgdGV4dCB1aWQgdmFyY2hhcjIgeG1sXCIsXG4gICAgb3BlcmF0b3JDaGFyczogXCIqLystJTw+IT1+XCIsXG4gICAgZG91YmxlUXVvdGVkU3RyaW5nczogdHJ1ZSxcbiAgICBjaGFyU2V0Q2FzdHM6IHRydWVcbn0pO1xuXG5leHBvcnQgeyBDYXNzYW5kcmEsIE1TU1FMLCBNYXJpYVNRTCwgTXlTUUwsIFBMU1FMLCBQb3N0Z3JlU1FMLCBTUUxEaWFsZWN0LCBTUUxpdGUsIFN0YW5kYXJkU1FMLCBrZXl3b3JkQ29tcGxldGlvbiwga2V5d29yZENvbXBsZXRpb25Tb3VyY2UsIHNjaGVtYUNvbXBsZXRpb24sIHNjaGVtYUNvbXBsZXRpb25Tb3VyY2UsIHNxbCB9O1xuIiwgImltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEV4dGVuc2lvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IEhpZ2hsaWdodFN0eWxlLCBUYWdTdHlsZSwgc3ludGF4SGlnaGxpZ2h0aW5nIH0gZnJvbSAnQGNvZGVtaXJyb3IvbGFuZ3VhZ2UnO1xuaW1wb3J0IHsgU3R5bGVTcGVjIH0gZnJvbSAnc3R5bGUtbW9kJztcblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVUaGVtZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlbWUgaW5oZXJpdGFuY2UuIERldGVybWluZXMgd2hpY2ggc3R5bGVzIENvZGVNaXJyb3Igd2lsbCBhcHBseSBieSBkZWZhdWx0LlxuICAgKi9cbiAgdGhlbWU6IFRoZW1lO1xuICAvKipcbiAgICogU2V0dGluZ3MgdG8gY3VzdG9taXplIHRoZSBsb29rIG9mIHRoZSBlZGl0b3IsIGxpa2UgYmFja2dyb3VuZCwgZ3V0dGVyLCBzZWxlY3Rpb24gYW5kIG90aGVycy5cbiAgICovXG4gIHNldHRpbmdzOiBTZXR0aW5ncztcbiAgLyoqIFN5bnRheCBoaWdobGlnaHRpbmcgc3R5bGVzLiAqL1xuICBzdHlsZXM6IFRhZ1N0eWxlW107XG59XG5cbnR5cGUgVGhlbWUgPSAnbGlnaHQnIHwgJ2RhcmsnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgLyoqIEVkaXRvciBiYWNrZ3JvdW5kLiAqL1xuICBiYWNrZ3JvdW5kOiBzdHJpbmc7XG4gIC8qKiBEZWZhdWx0IHRleHQgY29sb3IuICovXG4gIGZvcmVncm91bmQ6IHN0cmluZztcbiAgLyoqIENhcmV0IGNvbG9yLiAqL1xuICBjYXJldD86IHN0cmluZztcbiAgLyoqIFNlbGVjdGlvbiBiYWNrZ3JvdW5kLiAqL1xuICBzZWxlY3Rpb24/OiBzdHJpbmc7XG4gIC8qKiBTZWxlY3Rpb24gbWF0Y2ggYmFja2dyb3VuZC4gKi9cbiAgc2VsZWN0aW9uTWF0Y2g/OiBzdHJpbmc7XG4gIC8qKiBCYWNrZ3JvdW5kIG9mIGhpZ2hsaWdodGVkIGxpbmVzLiAqL1xuICBsaW5lSGlnaGxpZ2h0Pzogc3RyaW5nO1xuICAvKiogR3V0dGVyIGJhY2tncm91bmQuICovXG4gIGd1dHRlckJhY2tncm91bmQ/OiBzdHJpbmc7XG4gIC8qKiBUZXh0IGNvbG9yIGluc2lkZSBndXR0ZXIuICovXG4gIGd1dHRlckZvcmVncm91bmQ/OiBzdHJpbmc7XG4gIC8qKiBUZXh0IGFjdGl2ZSBjb2xvciBpbnNpZGUgZ3V0dGVyLiAqL1xuICBndXR0ZXJBY3RpdmVGb3JlZ3JvdW5kPzogc3RyaW5nO1xuICAvKiogR3V0dGVyIHJpZ2h0IGJvcmRlciBjb2xvci4gKi9cbiAgZ3V0dGVyQm9yZGVyPzogc3RyaW5nO1xuICAvKiogc2V0IGVkaXRvciBmb250ICovXG4gIGZvbnRGYW1pbHk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVUaGVtZSA9ICh7IHRoZW1lLCBzZXR0aW5ncywgc3R5bGVzIH06IENyZWF0ZVRoZW1lT3B0aW9ucyk6IEV4dGVuc2lvbiA9PiB7XG4gIGNvbnN0IHRoZW1lT3B0aW9uczogUmVjb3JkPHN0cmluZywgU3R5bGVTcGVjPiA9IHtcbiAgICAnJic6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogc2V0dGluZ3MuYmFja2dyb3VuZCxcbiAgICAgIGNvbG9yOiBzZXR0aW5ncy5mb3JlZ3JvdW5kLFxuICAgIH0sXG4gICAgJy5jbS1ndXR0ZXJzJzoge30sXG4gIH07XG5cbiAgaWYgKHNldHRpbmdzLmZvbnRGYW1pbHkpIHtcbiAgICB0aGVtZU9wdGlvbnNbJyYuY20tZWRpdG9yIC5jbS1zY3JvbGxlciddID0ge1xuICAgICAgZm9udEZhbWlseTogc2V0dGluZ3MuZm9udEZhbWlseSxcbiAgICB9O1xuICB9XG4gIGlmIChzZXR0aW5ncy5ndXR0ZXJCYWNrZ3JvdW5kKSB7XG4gICAgdGhlbWVPcHRpb25zWycuY20tZ3V0dGVycyddLmJhY2tncm91bmRDb2xvciA9IHNldHRpbmdzLmd1dHRlckJhY2tncm91bmQ7XG4gIH1cbiAgaWYgKHNldHRpbmdzLmd1dHRlckZvcmVncm91bmQpIHtcbiAgICB0aGVtZU9wdGlvbnNbJy5jbS1ndXR0ZXJzJ10uY29sb3IgPSBzZXR0aW5ncy5ndXR0ZXJGb3JlZ3JvdW5kO1xuICB9XG4gIGlmIChzZXR0aW5ncy5ndXR0ZXJCb3JkZXIpIHtcbiAgICB0aGVtZU9wdGlvbnNbJy5jbS1ndXR0ZXJzJ10uYm9yZGVyUmlnaHRDb2xvciA9IHNldHRpbmdzLmd1dHRlckJvcmRlcjtcbiAgfVxuXG4gIGlmIChzZXR0aW5ncy5jYXJldCkge1xuICAgIHRoZW1lT3B0aW9uc1snLmNtLWNvbnRlbnQnXSA9IHtcbiAgICAgIGNhcmV0Q29sb3I6IHNldHRpbmdzLmNhcmV0LFxuICAgIH07XG4gICAgdGhlbWVPcHRpb25zWycuY20tY3Vyc29yLCAuY20tZHJvcEN1cnNvciddID0ge1xuICAgICAgYm9yZGVyTGVmdENvbG9yOiBzZXR0aW5ncy5jYXJldCxcbiAgICB9O1xuICB9XG4gIGxldCBhY3RpdmVMaW5lR3V0dGVyU3R5bGU6IFN0eWxlU3BlYyA9IHt9O1xuICBpZiAoc2V0dGluZ3MuZ3V0dGVyQWN0aXZlRm9yZWdyb3VuZCkge1xuICAgIGFjdGl2ZUxpbmVHdXR0ZXJTdHlsZS5jb2xvciA9IHNldHRpbmdzLmd1dHRlckFjdGl2ZUZvcmVncm91bmQ7XG4gIH1cbiAgaWYgKHNldHRpbmdzLmxpbmVIaWdobGlnaHQpIHtcbiAgICB0aGVtZU9wdGlvbnNbJy5jbS1hY3RpdmVMaW5lJ10gPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHNldHRpbmdzLmxpbmVIaWdobGlnaHQsXG4gICAgfTtcbiAgICBhY3RpdmVMaW5lR3V0dGVyU3R5bGUuYmFja2dyb3VuZENvbG9yID0gc2V0dGluZ3MubGluZUhpZ2hsaWdodDtcbiAgfVxuICB0aGVtZU9wdGlvbnNbJy5jbS1hY3RpdmVMaW5lR3V0dGVyJ10gPSBhY3RpdmVMaW5lR3V0dGVyU3R5bGU7XG5cbiAgaWYgKHNldHRpbmdzLnNlbGVjdGlvbikge1xuICAgIHRoZW1lT3B0aW9uc1tcbiAgICAgICcmLmNtLWZvY3VzZWQgLmNtLXNlbGVjdGlvbkJhY2tncm91bmQsICYgLmNtLXNlbGVjdGlvbkxheWVyIC5jbS1zZWxlY3Rpb25CYWNrZ3JvdW5kLCAuY20tY29udGVudCA6OnNlbGVjdGlvbidcbiAgICBdID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBzZXR0aW5ncy5zZWxlY3Rpb24sXG4gICAgfTtcbiAgfVxuICBpZiAoc2V0dGluZ3Muc2VsZWN0aW9uTWF0Y2gpIHtcbiAgICB0aGVtZU9wdGlvbnNbJyYgLmNtLXNlbGVjdGlvbk1hdGNoJ10gPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHNldHRpbmdzLnNlbGVjdGlvbk1hdGNoLFxuICAgIH07XG4gIH1cbiAgY29uc3QgdGhlbWVFeHRlbnNpb24gPSBFZGl0b3JWaWV3LnRoZW1lKHRoZW1lT3B0aW9ucywge1xuICAgIGRhcms6IHRoZW1lID09PSAnZGFyaycsXG4gIH0pO1xuXG4gIGNvbnN0IGhpZ2hsaWdodFN0eWxlID0gSGlnaGxpZ2h0U3R5bGUuZGVmaW5lKHN0eWxlcyk7XG4gIGNvbnN0IGV4dGVuc2lvbiA9IFt0aGVtZUV4dGVuc2lvbiwgc3ludGF4SGlnaGxpZ2h0aW5nKGhpZ2hsaWdodFN0eWxlKV07XG5cbiAgcmV0dXJuIGV4dGVuc2lvbjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lO1xuIiwgImltcG9ydCB7Y3JlYXRlVGhlbWV9IGZyb20gJ0B1aXcvY29kZW1pcnJvci10aGVtZXMnO1xuaW1wb3J0IHt0YWdzIGFzIHR9IGZyb20gJ0BsZXplci9oaWdobGlnaHQnO1xuXG5jb25zdCBkYXJrVGhlbWUgPSBjcmVhdGVUaGVtZSh7XG4gICAgdGhlbWU6ICdkYXJrJyxcbiAgICBzZXR0aW5nczoge1xuICAgICAgICBiYWNrZ3JvdW5kOiAnIzI5MkEzMCcsXG4gICAgICAgIGZvcmVncm91bmQ6ICcjQ0VDRkQwJyxcbiAgICAgICAgY2FyZXQ6ICcjZmZmJyxcbiAgICAgICAgc2VsZWN0aW9uOiAnIzcyNzM3NycsXG4gICAgICAgIHNlbGVjdGlvbk1hdGNoOiAnIzcyNzM3NycsXG4gICAgICAgIGxpbmVIaWdobGlnaHQ6ICcjMkYzMjM5JyxcbiAgICB9LFxuICAgIHN0eWxlczogW1xuICAgICAgICB7IHRhZzogW3QuY29tbWVudCwgdC5xdW90ZV0sIGNvbG9yOiAnIzdGOEM5OCcgfSxcbiAgICAgICAgeyB0YWc6IFt0LmtleXdvcmRdLCBjb2xvcjogJyNGRjdBQjInLCBmb250V2VpZ2h0OiAnYm9sZCcgfSxcbiAgICAgICAgeyB0YWc6IFt0LnN0cmluZywgdC5tZXRhXSwgY29sb3I6ICcjRkY4MTcwJyB9LFxuICAgICAgICB7IHRhZzogW3QudHlwZU5hbWVdLCBjb2xvcjogJyNEQUJBRkYnIH0sXG4gICAgICAgIHsgdGFnOiBbdC5kZWZpbml0aW9uKHQudmFyaWFibGVOYW1lKV0sIGNvbG9yOiAnIzZCREZGRicgfSxcbiAgICAgICAgeyB0YWc6IFt0Lm5hbWVdLCBjb2xvcjogJyM2QkFBOUYnIH0sXG4gICAgICAgIHsgdGFnOiBbdC52YXJpYWJsZU5hbWVdLCBjb2xvcjogJyNBQ0YyRTQnIH0sXG4gICAgICAgIHsgdGFnOiBbdC5yZWdleHAsIHQubGlua10sIGNvbG9yOiAnI0ZGODE3MCcgfSxcbiAgICBdLFxufSlcblxuZXhwb3J0IGRlZmF1bHQgZGFya1RoZW1lXG4iLCAiaW1wb3J0IHtjcmVhdGVUaGVtZX0gZnJvbSAnQHVpdy9jb2RlbWlycm9yLXRoZW1lcyc7XG5pbXBvcnQge3RhZ3MgYXMgdH0gZnJvbSAnQGxlemVyL2hpZ2hsaWdodCc7XG5cbmNvbnN0IGxpZ2h0VGhlbWUgPSBjcmVhdGVUaGVtZSh7XG4gICAgdGhlbWU6ICdsaWdodCcsXG4gICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICBmb3JlZ3JvdW5kOiAnIzNEM0QzRCcsXG4gICAgICAgIHNlbGVjdGlvbjogJyNCQkRGRkYnLFxuICAgICAgICBzZWxlY3Rpb25NYXRjaDogJyNCQkRGRkYnLFxuICAgICAgICBndXR0ZXJCYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgIGd1dHRlckZvcmVncm91bmQ6ICcjQUZBRkFGJyxcbiAgICAgICAgbGluZUhpZ2hsaWdodDogJyNFREY0RkYnLFxuICAgIH0sXG4gICAgc3R5bGVzOiBbXG4gICAgICAgIHsgdGFnOiBbdC5jb21tZW50LCB0LnF1b3RlXSwgY29sb3I6ICcjNzA3RjhEJyB9LFxuICAgICAgICB7IHRhZzogW3QudHlwZU5hbWUsIHQudHlwZU9wZXJhdG9yXSwgY29sb3I6ICcjYWEwZDkxJyB9LFxuICAgICAgICB7IHRhZzogW3Qua2V5d29yZF0sIGNvbG9yOiAnI2FhMGQ5MScsIGZvbnRXZWlnaHQ6ICdib2xkJyB9LFxuICAgICAgICB7IHRhZzogW3Quc3RyaW5nLCB0Lm1ldGFdLCBjb2xvcjogJyNEMjM0MjMnIH0sXG4gICAgICAgIHsgdGFnOiBbdC5uYW1lXSwgY29sb3I6ICcjMDMyZjYyJyB9LFxuICAgICAgICB7IHRhZzogW3QudHlwZU5hbWVdLCBjb2xvcjogJyM1MjJCQjInIH0sXG4gICAgICAgIHsgdGFnOiBbdC52YXJpYWJsZU5hbWVdLCBjb2xvcjogJyMyMzU3NUMnIH0sXG4gICAgICAgIHsgdGFnOiBbdC5kZWZpbml0aW9uKHQudmFyaWFibGVOYW1lKV0sIGNvbG9yOiAnIzMyN0E5RScgfSxcbiAgICAgICAgeyB0YWc6IFt0LnJlZ2V4cCwgdC5saW5rXSwgY29sb3I6ICcjMGUwZWZmJyB9LFxuICAgIF0sXG59KVxuXG5leHBvcnQgZGVmYXVsdCBsaWdodFRoZW1lXG4iLCAiaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gXCJjb2RlbWlycm9yXCJcbmltcG9ydCB7IGluZGVudFdpdGhUYWIgfSBmcm9tICdAY29kZW1pcnJvci9jb21tYW5kcyc7XG5pbXBvcnQgeyBrZXltYXAsIGxpbmVOdW1iZXJzIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBDb21wYXJ0bWVudCB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcbmltcG9ydCB7IHBocCB9IGZyb20gXCJAY29kZW1pcnJvci9sYW5nLXBocFwiXG5pbXBvcnQgeyBqYXZhc2NyaXB0IH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmctamF2YXNjcmlwdFwiXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmctanNvblwiXG5pbXBvcnQgeyBodG1sIH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmctaHRtbFwiXG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAY29kZW1pcnJvci9sYW5nLWNzcyc7XG5pbXBvcnQgeyB4bWwgfSBmcm9tIFwiQGNvZGVtaXJyb3IvbGFuZy14bWxcIlxuaW1wb3J0IHsgc3FsIH0gZnJvbSBcIkBjb2RlbWlycm9yL2xhbmctc3FsXCJcbmltcG9ydCB7IGF1dG9jb21wbGV0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3IvYXV0b2NvbXBsZXRlJztcbmltcG9ydCBkYXJrVGhlbWUgZnJvbSAnLi90aGVtZXMvZGFyaydcbmltcG9ydCBsaWdodFRoZW1lIGZyb20gJy4vdGhlbWVzL2xpZ2h0J1xuXG5sZXQgdGhlbWUgPSBuZXcgQ29tcGFydG1lbnRcblxuZXhwb3J0IGRlZmF1bHQgKEFscGluZSkgPT4ge1xuICAgIEFscGluZS5kYXRhKCdmaWxhbWVudENvZGVGaWVsZCcsICh7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBkaXNwbGF5TW9kZSxcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICB3aXRoTGluZU51bWJlcnMsXG4gICAgICAgIHdpdGhBdXRvY29tcGxldGlvblxuICAgIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgY29kZU1pcnJvcjogbnVsbCxcbiAgICAgICAgICAgIHBhcnNlcnM6IHsgcGhwLCBqYXZhc2NyaXB0LCBqc29uLCBodG1sLCBjc3MsIHhtbCwgc3FsIH0sXG4gICAgICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvciA9IG5ldyBFZGl0b3JWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgZG9jOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25zOiB0aGlzLmJ1aWxkRXh0ZW5zaW9uc0FycmF5KCksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogdGhpcy4kcmVmcy5jb2RlQmxvY2tcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpc3BsYXlNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHdhdGNoKCdzdGF0ZScsIG5ld1N0YXRlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29kZU1pcnJvci5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogdGhpcy5jb2RlTWlycm9yLnN0YXRlLmRvYy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDogbmV3U3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZGFyay1tb2RlLXRvZ2dsZWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGVNaXJyb3IuZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0czogdGhlbWUucmVjb25maWd1cmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5kZXRhaWwgPT09ICdkYXJrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRhcmtUaGVtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxpZ2h0VGhlbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWlsZEV4dGVuc2lvbnNBcnJheSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXJrTW9kZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGFyay1tb2RlXScpXG4gICAgICAgICAgICAgICAgY29uc3QgbGlnaHRNb2RlID0gZGFya01vZGVFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGRhcmtNb2RlRWxlbWVudC5feF9kYXRhU3RhY2tbMF0udGhlbWUgPT09ICdsaWdodCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZVxuXG4gICAgICAgICAgICAgICAgbGV0IGV4dGVuc2lvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2Vyc1tsYW5ndWFnZV0oKSxcbiAgICAgICAgICAgICAgICAgICAga2V5bWFwLm9mKFtpbmRlbnRXaXRoVGFiXSksXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lLm9mKGxpZ2h0TW9kZSA/IGxpZ2h0VGhlbWUgOiBkYXJrVGhlbWUpLFxuICAgICAgICAgICAgICAgICAgICBFZGl0b3JWaWV3LmNvbnRlbnRBdHRyaWJ1dGVzLm9mKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogIWRpc2FibGVkICYmICFkaXNwbGF5TW9kZVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgRWRpdG9yVmlldy5saW5lV3JhcHBpbmdcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEgZGlzcGxheU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucy5wdXNoKEVkaXRvclZpZXcudXBkYXRlTGlzdGVuZXIub2YoKHYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2LmRvY0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gdi5zdGF0ZS5kb2MudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAod2l0aEF1dG9jb21wbGV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChhdXRvY29tcGxldGlvbigpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAod2l0aExpbmVOdW1iZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMucHVzaChsaW5lTnVtYmVycygpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuIiwgImltcG9ydCBDb2RlRmllbGRBbHBpbmVQbHVnaW4gZnJvbSAnLi9jb2RlLWZpZWxkJztcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYWxwaW5lOmluaXQnLCAoKSA9PiB7XG4gICAgd2luZG93LkFscGluZS5wbHVnaW4oQ29kZUZpZWxkQWxwaW5lUGx1Z2luKTtcbn0pXG4iXSwKICAibWFwcGluZ3MiOiAiOztBQUdBLG1CQUFXO0FBQUEsSUFJUCxjQUFjO0FBQUE7QUFBQSxJQUlkLE9BQU8sS0FBSztBQUNSLFVBQUksTUFBTSxLQUFLLE1BQU0sS0FBSztBQUN0QixjQUFNLElBQUksV0FBVyxvQkFBb0IsNkJBQTZCLEtBQUs7QUFDL0UsYUFBTyxLQUFLLFVBQVUsS0FBSyxPQUFPLEdBQUc7QUFBQTtBQUFBLElBS3pDLEtBQUssR0FBRztBQUNKLFVBQUksSUFBSSxLQUFLLElBQUksS0FBSztBQUNsQixjQUFNLElBQUksV0FBVyx1QkFBdUIsUUFBUSxLQUFLO0FBQzdELGFBQU8sS0FBSyxVQUFVLEdBQUcsTUFBTSxHQUFHO0FBQUE7QUFBQSxJQUt0QyxRQUFRLE9BQU0sSUFBSSxNQUFNO0FBQ3BCLFVBQUksUUFBUTtBQUNaLFdBQUssVUFBVSxHQUFHLE9BQU0sT0FBTztBQUMvQixVQUFJLEtBQUs7QUFDTCxhQUFLLFVBQVUsR0FBRyxLQUFLLFFBQVEsT0FBTyxJQUFv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QUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBO0FBR0EsTUFBSSxRQUFRO0FBQUEsSUFDakIsSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osSUFBSTtBQUFBLElBQ0osS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0wsS0FBSztBQUFBLElBQ0ws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VUFDRTtBQUNGLGFBQU87QUFBQSxRQUNIO0FBQUEsUUFDQSxZQUFZO0FBQUEsUUFDWixTQUFTLENBQUUsS0FBSyxZQUFZLE1BQU0sTUFBTSxLQUFLLEtBQUs7QUFBQSxRQUNsRCxPQUFPO0FBQ0gsZUFBSyxhQUFhLElBQUksV0FBVztBQUFBLFlBQzdCLEtBQUssS0FBSztBQUFBLFlBQ1YsWUFBWSxLQUFLO0FBQUEsWUFDakIsUUFBUSxLQUFLLE1BQU07QUFBQTtBQUd2QixjQUFJLGFBQWE7QUFDYixpQkFBSyxPQUFPLFNBQVMsY0FBWTtBQUM3QixtQkFBSyxXQUFXLFNBQVM7QUFBQSxnQkFDckIsU0FBUztBQUFBLGtCQUNMLE1BQU07QUFBQSxrQkFDTixJQUFJLEtBQUssV0FBVyxNQUFNLElBQUk7QUFBQSxrQkFDOUIsUUFBUTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTXhCLGlCQUFPLGlCQUFpQixxQkFBcUIsQ0FBQyxNQUFNO0FBQ2hELGlCQUFLLFdBQVcsU0FBUztBQUFBLGNBQ3JCLFNBQVMsT0FBTSxZQUNYLEVBQUUsV0FBVyxTQUNQLGVBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQSxRQUt0Qix1QkFBdUI7QUFDbkIsZ0JBQU0sa0JBQWtCLFNBQVMsY0FBYztBQUMvQyxnQkFBTSxZQUFZLGtCQUNSLGdCQUFnQixhQUFhLEdBQUcsVUFBVSxVQUMxQztBQUVWLGNBQUksYUFBYTtBQUFBLFlBQ2IsS0FBSyxRQUFRO0FBQUEsWUFDYixPQUFPLEdBQUcsQ0FBQztBQUFBLFlBQ1gsT0FBTSxHQUFHLFlBQVksZ0JBQWE7QUFBQSxZQUNsQyxXQUFXLGtCQUFrQixHQUFHO0FBQUEsY0FDNUIsaUJBQWlCLENBQUMsWUFBWSxDQUFDO0FBQUE7QUFBQSxZQUVuQyxXQUFXO0FBQUE7QUFHZixjQUFJLENBQUUsYUFBYTtBQUNmLHVCQUFXLEtBQUssV0FBVyxlQUFlLEdBQUcsQ0FBQyxNQUFNO0FBQ2hELGtCQUFJLEVBQUUsWUFBWTtBQUNkLHFCQUFLLFFBQVEsRUFBRSxNQUFNLElBQUk7QUFBQTtBQUFBO0FBQUE7QUFLckMsY0FBSSxvQkFBb0I7QUFDcEIsdUJBQVcsS0FBSztBQUFBO0FBR3BCLGNBQUksaUJBQWlCO0FBQ2pCLHVCQUFXLEtBQUs7QUFBQTtBQUdwQixpQkFBTztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUN6RnZCLFdBQVMsaUJBQWlCLGVBQWUsTUFBTTtBQUMzQyxXQUFPLE9BQU8sT0FBTztBQUFBOyIsCiAgIm5hbWVzIjogW10KfQo=
